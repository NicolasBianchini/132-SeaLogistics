var GB=Object.defineProperty;var YB=(n,e,r)=>e in n?GB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var gn=(n,e,r)=>YB(n,typeof e!="symbol"?e+"":e,r);function XB(n,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var GI={exports:{}},R0={},YI={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km=Symbol.for("react.element"),QB=Symbol.for("react.portal"),ZB=Symbol.for("react.fragment"),JB=Symbol.for("react.strict_mode"),eU=Symbol.for("react.profiler"),tU=Symbol.for("react.provider"),nU=Symbol.for("react.context"),rU=Symbol.for("react.forward_ref"),iU=Symbol.for("react.suspense"),aU=Symbol.for("react.memo"),oU=Symbol.for("react.lazy"),YP=Symbol.iterator;function sU(n){return n===null||typeof n!="object"?null:(n=YP&&n[YP]||n["@@iterator"],typeof n=="function"?n:null)}var XI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QI=Object.assign,ZI={};function vh(n,e,r){this.props=n,this.context=e,this.refs=ZI,this.updater=r||XI}vh.prototype.isReactComponent={};vh.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};vh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function JI(){}JI.prototype=vh.prototype;function nx(n,e,r){this.props=n,this.context=e,this.refs=ZI,this.updater=r||XI}var rx=nx.prototype=new JI;rx.constructor=nx;QI(rx,vh.prototype);rx.isPureReactComponent=!0;var XP=Array.isArray,eO=Object.prototype.hasOwnProperty,ix={current:null},tO={key:!0,ref:!0,__self:!0,__source:!0};function nO(n,e,r){var i,a={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)eO.call(e,i)&&!tO.hasOwnProperty(i)&&(a[i]=e[i]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)a[i]===void 0&&(a[i]=l[i]);return{$$typeof:Km,type:n,key:o,ref:s,props:a,_owner:ix.current}}function lU(n,e){return{$$typeof:Km,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function ax(n){return typeof n=="object"&&n!==null&&n.$$typeof===Km}function uU(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return e[r]})}var QP=/\/+/g;function F2(n,e){return typeof n=="object"&&n!==null&&n.key!=null?uU(""+n.key):e.toString(36)}function Rv(n,e,r,i,a){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case Km:case QB:s=!0}}if(s)return s=n,a=a(s),n=i===""?"."+F2(s,0):i,XP(a)?(r="",n!=null&&(r=n.replace(QP,"$&/")+"/"),Rv(a,e,r,"",function(c){return c})):a!=null&&(ax(a)&&(a=lU(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(QP,"$&/")+"/")+n)),e.push(a)),1;if(s=0,i=i===""?".":i+":",XP(n))for(var l=0;l<n.length;l++){o=n[l];var u=i+F2(o,l);s+=Rv(o,e,r,u,a)}else if(u=sU(n),typeof u=="function")for(n=u.call(n),l=0;!(o=n.next()).done;)o=o.value,u=i+F2(o,l++),s+=Rv(o,e,r,u,a);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Vg(n,e,r){if(n==null)return n;var i=[],a=0;return Rv(n,i,"","",function(o){return e.call(r,o,a++)}),i}function cU(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var aa={current:null},Mv={transition:null},fU={ReactCurrentDispatcher:aa,ReactCurrentBatchConfig:Mv,ReactCurrentOwner:ix};function rO(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:Vg,forEach:function(n,e,r){Vg(n,function(){e.apply(this,arguments)},r)},count:function(n){var e=0;return Vg(n,function(){e++}),e},toArray:function(n){return Vg(n,function(e){return e})||[]},only:function(n){if(!ax(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Wt.Component=vh;Wt.Fragment=ZB;Wt.Profiler=eU;Wt.PureComponent=nx;Wt.StrictMode=JB;Wt.Suspense=iU;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fU;Wt.act=rO;Wt.cloneElement=function(n,e,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=QI({},n.props),a=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ix.current),e.key!==void 0&&(a=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(u in e)eO.call(e,u)&&!tO.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:Km,type:n.type,key:a,ref:o,props:i,_owner:s}};Wt.createContext=function(n){return n={$$typeof:nU,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:tU,_context:n},n.Consumer=n};Wt.createElement=nO;Wt.createFactory=function(n){var e=nO.bind(null,n);return e.type=n,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(n){return{$$typeof:rU,render:n}};Wt.isValidElement=ax;Wt.lazy=function(n){return{$$typeof:oU,_payload:{_status:-1,_result:n},_init:cU}};Wt.memo=function(n,e){return{$$typeof:aU,type:n,compare:e===void 0?null:e}};Wt.startTransition=function(n){var e=Mv.transition;Mv.transition={};try{n()}finally{Mv.transition=e}};Wt.unstable_act=rO;Wt.useCallback=function(n,e){return aa.current.useCallback(n,e)};Wt.useContext=function(n){return aa.current.useContext(n)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(n){return aa.current.useDeferredValue(n)};Wt.useEffect=function(n,e){return aa.current.useEffect(n,e)};Wt.useId=function(){return aa.current.useId()};Wt.useImperativeHandle=function(n,e,r){return aa.current.useImperativeHandle(n,e,r)};Wt.useInsertionEffect=function(n,e){return aa.current.useInsertionEffect(n,e)};Wt.useLayoutEffect=function(n,e){return aa.current.useLayoutEffect(n,e)};Wt.useMemo=function(n,e){return aa.current.useMemo(n,e)};Wt.useReducer=function(n,e,r){return aa.current.useReducer(n,e,r)};Wt.useRef=function(n){return aa.current.useRef(n)};Wt.useState=function(n){return aa.current.useState(n)};Wt.useSyncExternalStore=function(n,e,r){return aa.current.useSyncExternalStore(n,e,r)};Wt.useTransition=function(){return aa.current.useTransition()};Wt.version="18.3.1";YI.exports=Wt;var C=YI.exports;const iO=Xs(C),aO=XB({__proto__:null,default:iO},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dU=C,hU=Symbol.for("react.element"),pU=Symbol.for("react.fragment"),mU=Object.prototype.hasOwnProperty,gU=dU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vU={key:!0,ref:!0,__self:!0,__source:!0};function oO(n,e,r){var i,a={},o=null,s=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)mU.call(e,i)&&!vU.hasOwnProperty(i)&&(a[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)a[i]===void 0&&(a[i]=e[i]);return{$$typeof:hU,type:n,key:o,ref:s,props:a,_owner:gU.current}}R0.Fragment=pU;R0.jsx=oO;R0.jsxs=oO;GI.exports=R0;var v=GI.exports,sO={exports:{}},oo={},lO={exports:{}},uO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(re,ue){var ae=re.length;re.push(ue);e:for(;0<ae;){var ne=ae-1>>>1,M=re[ne];if(0<a(M,ue))re[ne]=ue,re[ae]=M,ae=ne;else break e}}function r(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var ue=re[0],ae=re.pop();if(ae!==ue){re[0]=ae;e:for(var ne=0,M=re.length,Y=M>>>1;ne<Y;){var Z=2*(ne+1)-1,ie=re[Z],ce=Z+1,pe=re[ce];if(0>a(ie,ae))ce<M&&0>a(pe,ie)?(re[ne]=pe,re[ce]=ae,ne=ce):(re[ne]=ie,re[Z]=ae,ne=Z);else if(ce<M&&0>a(pe,ae))re[ne]=pe,re[ce]=ae,ne=ce;else break e}}return ue}function a(re,ue){var ae=re.sortIndex-ue.sortIndex;return ae!==0?ae:re.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,d=null,h=3,p=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(re){for(var ue=r(c);ue!==null;){if(ue.callback===null)i(c);else if(ue.startTime<=re)i(c),ue.sortIndex=ue.expirationTime,e(u,ue);else break;ue=r(c)}}function T(re){if(w=!1,A(re),!y)if(r(u)!==null)y=!0,he(B);else{var ue=r(c);ue!==null&&ye(T,ue.startTime-re)}}function B(re,ue){y=!1,w&&(w=!1,b(I),I=-1),p=!0;var ae=h;try{for(A(ue),d=r(u);d!==null&&(!(d.expirationTime>ue)||re&&!k());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,h=d.priorityLevel;var M=ne(d.expirationTime<=ue);ue=n.unstable_now(),typeof M=="function"?d.callback=M:d===r(u)&&i(u),A(ue)}else i(u);d=r(u)}if(d!==null)var Y=!0;else{var Z=r(c);Z!==null&&ye(T,Z.startTime-ue),Y=!1}return Y}finally{d=null,h=ae,p=!1}}var $=!1,L=null,I=-1,O=5,U=-1;function k(){return!(n.unstable_now()-U<O)}function R(){if(L!==null){var re=n.unstable_now();U=re;var ue=!0;try{ue=L(!0,re)}finally{ue?j():($=!1,L=null)}}else $=!1}var j;if(typeof S=="function")j=function(){S(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,oe=H.port2;H.port1.onmessage=R,j=function(){oe.postMessage(null)}}else j=function(){_(R,0)};function he(re){L=re,$||($=!0,j())}function ye(re,ue){I=_(function(){re(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){y||p||(y=!0,he(B))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return r(u)},n.unstable_next=function(re){switch(h){case 1:case 2:case 3:var ue=3;break;default:ue=h}var ae=h;h=ue;try{return re()}finally{h=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ue){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=h;h=re;try{return ue()}finally{h=ae}},n.unstable_scheduleCallback=function(re,ue,ae){var ne=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ne+ae:ne):ae=ne,re){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ae+M,re={id:f++,callback:ue,priorityLevel:re,startTime:ae,expirationTime:M,sortIndex:-1},ae>ne?(re.sortIndex=ae,e(c,re),r(u)===null&&re===r(c)&&(w?(b(I),I=-1):w=!0,ye(T,ae-ne))):(re.sortIndex=M,e(u,re),y||p||(y=!0,he(B))),re},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(re){var ue=h;return function(){var ae=h;h=ue;try{return re.apply(this,arguments)}finally{h=ae}}}})(uO);lO.exports=uO;var yU=lO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wU=C,eo=yU;function Be(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cO=new Set,em={};function jf(n,e){$d(n,e),$d(n+"Capture",e)}function $d(n,e){for(em[n]=e,n=0;n<e.length;n++)cO.add(e[n])}var Cl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_b=Object.prototype.hasOwnProperty,bU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZP={},JP={};function _U(n){return _b.call(JP,n)?!0:_b.call(ZP,n)?!1:bU.test(n)?JP[n]=!0:(ZP[n]=!0,!1)}function xU(n,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function AU(n,e,r,i){if(e===null||typeof e>"u"||xU(n,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function oa(n,e,r,i,a,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Si[n]=new oa(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Si[e]=new oa(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Si[n]=new oa(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Si[n]=new oa(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Si[n]=new oa(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Si[n]=new oa(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Si[n]=new oa(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Si[n]=new oa(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Si[n]=new oa(n,5,!1,n.toLowerCase(),null,!1,!1)});var ox=/[\-:]([a-z])/g;function sx(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(ox,sx);Si[e]=new oa(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(ox,sx);Si[e]=new oa(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(ox,sx);Si[e]=new oa(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Si[n]=new oa(n,1,!1,n.toLowerCase(),null,!1,!1)});Si.xlinkHref=new oa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Si[n]=new oa(n,1,!1,n.toLowerCase(),null,!0,!0)});function lx(n,e,r,i){var a=Si.hasOwnProperty(e)?Si[e]:null;(a!==null?a.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AU(e,r,a,i)&&(r=null),i||a===null?_U(e)&&(r===null?n.removeAttribute(e):n.setAttribute(e,""+r)):a.mustUseProperty?n[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,i=a.attributeNamespace,r===null?n.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,i?n.setAttributeNS(i,e,r):n.setAttribute(e,r))))}var Kl=wU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zg=Symbol.for("react.element"),fd=Symbol.for("react.portal"),dd=Symbol.for("react.fragment"),ux=Symbol.for("react.strict_mode"),xb=Symbol.for("react.profiler"),fO=Symbol.for("react.provider"),dO=Symbol.for("react.context"),cx=Symbol.for("react.forward_ref"),Ab=Symbol.for("react.suspense"),Sb=Symbol.for("react.suspense_list"),fx=Symbol.for("react.memo"),Su=Symbol.for("react.lazy"),hO=Symbol.for("react.offscreen"),eN=Symbol.iterator;function tp(n){return n===null||typeof n!="object"?null:(n=eN&&n[eN]||n["@@iterator"],typeof n=="function"?n:null)}var lr=Object.assign,B2;function xp(n){if(B2===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);B2=e&&e[1]||""}return`
`+B2+n}var U2=!1;function $2(n,e){if(!n||U2)return"";U2=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=i.stack.split(`
`),s=a.length-1,l=o.length-1;1<=s&&0<=l&&a[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==o[l]){var u=`
`+a[s].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=s&&0<=l);break}}}finally{U2=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?xp(n):""}function SU(n){switch(n.tag){case 5:return xp(n.type);case 16:return xp("Lazy");case 13:return xp("Suspense");case 19:return xp("SuspenseList");case 0:case 2:case 15:return n=$2(n.type,!1),n;case 11:return n=$2(n.type.render,!1),n;case 1:return n=$2(n.type,!0),n;default:return""}}function Eb(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case dd:return"Fragment";case fd:return"Portal";case xb:return"Profiler";case ux:return"StrictMode";case Ab:return"Suspense";case Sb:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case dO:return(n.displayName||"Context")+".Consumer";case fO:return(n._context.displayName||"Context")+".Provider";case cx:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case fx:return e=n.displayName||null,e!==null?e:Eb(n.type)||"Memo";case Su:e=n._payload,n=n._init;try{return Eb(n(e))}catch{}}return null}function EU(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eb(e);case 8:return e===ux?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function pO(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PU(n){var e=pO(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function qg(n){n._valueTracker||(n._valueTracker=PU(n))}function mO(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return n&&(i=pO(n)?n.checked?"true":"false":n.value),n=i,n!==r?(e.setValue(n),!0):!1}function sy(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Pb(n,e){var r=e.checked;return lr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function tN(n,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=nc(e.value!=null?e.value:r),n._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gO(n,e){e=e.checked,e!=null&&lx(n,"checked",e,!1)}function Nb(n,e){gO(n,e);var r=nc(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?kb(n,e.type,r):e.hasOwnProperty("defaultValue")&&kb(n,e.type,nc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function nN(n,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,r||e===n.value||(n.value=e),n.defaultValue=e}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function kb(n,e,r){(e!=="number"||sy(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var Ap=Array.isArray;function Nd(n,e,r,i){if(n=n.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<n.length;r++)a=e.hasOwnProperty("$"+n[r].value),n[r].selected!==a&&(n[r].selected=a),a&&i&&(n[r].defaultSelected=!0)}else{for(r=""+nc(r),e=null,a=0;a<n.length;a++){if(n[a].value===r){n[a].selected=!0,i&&(n[a].defaultSelected=!0);return}e!==null||n[a].disabled||(e=n[a])}e!==null&&(e.selected=!0)}}function Tb(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Be(91));return lr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function rN(n,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Be(92));if(Ap(r)){if(1<r.length)throw Error(Be(93));r=r[0]}e=r}e==null&&(e=""),r=e}n._wrapperState={initialValue:nc(r)}}function vO(n,e){var r=nc(e.value),i=nc(e.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),e.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),i!=null&&(n.defaultValue=""+i)}function iN(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function yO(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cb(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?yO(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Wg,wO=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,a){MSApp.execUnsafeLocalFunction(function(){return n(e,r,i,a)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Wg=Wg||document.createElement("div"),Wg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function tm(n,e){if(e){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=e;return}}n.textContent=e}var jp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NU=["Webkit","ms","Moz","O"];Object.keys(jp).forEach(function(n){NU.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),jp[e]=jp[n]})});function bO(n,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||jp.hasOwnProperty(n)&&jp[n]?(""+e).trim():e+"px"}function _O(n,e){n=n.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,a=bO(r,e[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,a):n[r]=a}}var kU=lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ib(n,e){if(e){if(kU[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Be(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Be(62))}}function Ob(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jb=null;function dx(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Lb=null,kd=null,Td=null;function aN(n){if(n=Xm(n)){if(typeof Lb!="function")throw Error(Be(280));var e=n.stateNode;e&&(e=$0(e),Lb(n.stateNode,n.type,e))}}function xO(n){kd?Td?Td.push(n):Td=[n]:kd=n}function AO(){if(kd){var n=kd,e=Td;if(Td=kd=null,aN(n),e)for(n=0;n<e.length;n++)aN(e[n])}}function SO(n,e){return n(e)}function EO(){}var V2=!1;function PO(n,e,r){if(V2)return n(e,r);V2=!0;try{return SO(n,e,r)}finally{V2=!1,(kd!==null||Td!==null)&&(EO(),AO())}}function nm(n,e){var r=n.stateNode;if(r===null)return null;var i=$0(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(Be(231,e,typeof r));return r}var Db=!1;if(Cl)try{var np={};Object.defineProperty(np,"passive",{get:function(){Db=!0}}),window.addEventListener("test",np,np),window.removeEventListener("test",np,np)}catch{Db=!1}function TU(n,e,r,i,a,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(f){this.onError(f)}}var Lp=!1,ly=null,uy=!1,Rb=null,CU={onError:function(n){Lp=!0,ly=n}};function IU(n,e,r,i,a,o,s,l,u){Lp=!1,ly=null,TU.apply(CU,arguments)}function OU(n,e,r,i,a,o,s,l,u){if(IU.apply(this,arguments),Lp){if(Lp){var c=ly;Lp=!1,ly=null}else throw Error(Be(198));uy||(uy=!0,Rb=c)}}function Lf(n){var e=n,r=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(r=e.return),n=e.return;while(n)}return e.tag===3?r:null}function NO(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function oN(n){if(Lf(n)!==n)throw Error(Be(188))}function jU(n){var e=n.alternate;if(!e){if(e=Lf(n),e===null)throw Error(Be(188));return e!==n?null:n}for(var r=n,i=e;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(i=a.return,i!==null){r=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return oN(a),n;if(o===i)return oN(a),e;o=o.sibling}throw Error(Be(188))}if(r.return!==i.return)r=a,i=o;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,i=o;break}if(l===i){s=!0,i=a,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,i=a;break}if(l===i){s=!0,i=o,r=a;break}l=l.sibling}if(!s)throw Error(Be(189))}}if(r.alternate!==i)throw Error(Be(190))}if(r.tag!==3)throw Error(Be(188));return r.stateNode.current===r?n:e}function kO(n){return n=jU(n),n!==null?TO(n):null}function TO(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=TO(n);if(e!==null)return e;n=n.sibling}return null}var CO=eo.unstable_scheduleCallback,sN=eo.unstable_cancelCallback,LU=eo.unstable_shouldYield,DU=eo.unstable_requestPaint,Cr=eo.unstable_now,RU=eo.unstable_getCurrentPriorityLevel,hx=eo.unstable_ImmediatePriority,IO=eo.unstable_UserBlockingPriority,cy=eo.unstable_NormalPriority,MU=eo.unstable_LowPriority,OO=eo.unstable_IdlePriority,M0=null,Fs=null;function FU(n){if(Fs&&typeof Fs.onCommitFiberRoot=="function")try{Fs.onCommitFiberRoot(M0,n,void 0,(n.current.flags&128)===128)}catch{}}var ns=Math.clz32?Math.clz32:$U,BU=Math.log,UU=Math.LN2;function $U(n){return n>>>=0,n===0?32:31-(BU(n)/UU|0)|0}var Hg=64,Kg=4194304;function Sp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function fy(n,e){var r=n.pendingLanes;if(r===0)return 0;var i=0,a=n.suspendedLanes,o=n.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?i=Sp(l):(o&=s,o!==0&&(i=Sp(o)))}else s=r&~a,s!==0?i=Sp(s):o!==0&&(i=Sp(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&a)&&(a=i&-i,o=e&-e,a>=o||a===16&&(o&4194240)!==0))return e;if(i&4&&(i|=r&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)r=31-ns(e),a=1<<r,i|=n[r],e&=~a;return i}function VU(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zU(n,e){for(var r=n.suspendedLanes,i=n.pingedLanes,a=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-ns(o),l=1<<s,u=a[s];u===-1?(!(l&r)||l&i)&&(a[s]=VU(l,e)):u<=e&&(n.expiredLanes|=l),o&=~l}}function Mb(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function jO(){var n=Hg;return Hg<<=1,!(Hg&4194240)&&(Hg=64),n}function z2(n){for(var e=[],r=0;31>r;r++)e.push(n);return e}function Gm(n,e,r){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ns(e),n[e]=r}function qU(n,e){var r=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<r;){var a=31-ns(r),o=1<<a;e[a]=0,i[a]=-1,n[a]=-1,r&=~o}}function px(n,e){var r=n.entangledLanes|=e;for(n=n.entanglements;r;){var i=31-ns(r),a=1<<i;a&e|n[i]&e&&(n[i]|=e),r&=~a}}var En=0;function LO(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var DO,mx,RO,MO,FO,Fb=!1,Gg=[],Fu=null,Bu=null,Uu=null,rm=new Map,im=new Map,ku=[],WU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lN(n,e){switch(n){case"focusin":case"focusout":Fu=null;break;case"dragenter":case"dragleave":Bu=null;break;case"mouseover":case"mouseout":Uu=null;break;case"pointerover":case"pointerout":rm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":im.delete(e.pointerId)}}function rp(n,e,r,i,a,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[a]},e!==null&&(e=Xm(e),e!==null&&mx(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),n)}function HU(n,e,r,i,a){switch(e){case"focusin":return Fu=rp(Fu,n,e,r,i,a),!0;case"dragenter":return Bu=rp(Bu,n,e,r,i,a),!0;case"mouseover":return Uu=rp(Uu,n,e,r,i,a),!0;case"pointerover":var o=a.pointerId;return rm.set(o,rp(rm.get(o)||null,n,e,r,i,a)),!0;case"gotpointercapture":return o=a.pointerId,im.set(o,rp(im.get(o)||null,n,e,r,i,a)),!0}return!1}function BO(n){var e=Gc(n.target);if(e!==null){var r=Lf(e);if(r!==null){if(e=r.tag,e===13){if(e=NO(r),e!==null){n.blockedOn=e,FO(n.priority,function(){RO(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Fv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var r=Bb(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var i=new r.constructor(r.type,r);jb=i,r.target.dispatchEvent(i),jb=null}else return e=Xm(r),e!==null&&mx(e),n.blockedOn=r,!1;e.shift()}return!0}function uN(n,e,r){Fv(n)&&r.delete(e)}function KU(){Fb=!1,Fu!==null&&Fv(Fu)&&(Fu=null),Bu!==null&&Fv(Bu)&&(Bu=null),Uu!==null&&Fv(Uu)&&(Uu=null),rm.forEach(uN),im.forEach(uN)}function ip(n,e){n.blockedOn===e&&(n.blockedOn=null,Fb||(Fb=!0,eo.unstable_scheduleCallback(eo.unstable_NormalPriority,KU)))}function am(n){function e(a){return ip(a,n)}if(0<Gg.length){ip(Gg[0],n);for(var r=1;r<Gg.length;r++){var i=Gg[r];i.blockedOn===n&&(i.blockedOn=null)}}for(Fu!==null&&ip(Fu,n),Bu!==null&&ip(Bu,n),Uu!==null&&ip(Uu,n),rm.forEach(e),im.forEach(e),r=0;r<ku.length;r++)i=ku[r],i.blockedOn===n&&(i.blockedOn=null);for(;0<ku.length&&(r=ku[0],r.blockedOn===null);)BO(r),r.blockedOn===null&&ku.shift()}var Cd=Kl.ReactCurrentBatchConfig,dy=!0;function GU(n,e,r,i){var a=En,o=Cd.transition;Cd.transition=null;try{En=1,gx(n,e,r,i)}finally{En=a,Cd.transition=o}}function YU(n,e,r,i){var a=En,o=Cd.transition;Cd.transition=null;try{En=4,gx(n,e,r,i)}finally{En=a,Cd.transition=o}}function gx(n,e,r,i){if(dy){var a=Bb(n,e,r,i);if(a===null)J2(n,e,i,hy,r),lN(n,i);else if(HU(a,n,e,r,i))i.stopPropagation();else if(lN(n,i),e&4&&-1<WU.indexOf(n)){for(;a!==null;){var o=Xm(a);if(o!==null&&DO(o),o=Bb(n,e,r,i),o===null&&J2(n,e,i,hy,r),o===a)break;a=o}a!==null&&i.stopPropagation()}else J2(n,e,i,null,r)}}var hy=null;function Bb(n,e,r,i){if(hy=null,n=dx(i),n=Gc(n),n!==null)if(e=Lf(n),e===null)n=null;else if(r=e.tag,r===13){if(n=NO(e),n!==null)return n;n=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return hy=n,null}function UO(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RU()){case hx:return 1;case IO:return 4;case cy:case MU:return 16;case OO:return 536870912;default:return 16}default:return 16}}var Ou=null,vx=null,Bv=null;function $O(){if(Bv)return Bv;var n,e=vx,r=e.length,i,a="value"in Ou?Ou.value:Ou.textContent,o=a.length;for(n=0;n<r&&e[n]===a[n];n++);var s=r-n;for(i=1;i<=s&&e[r-i]===a[o-i];i++);return Bv=a.slice(n,1<i?1-i:void 0)}function Uv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Yg(){return!0}function cN(){return!1}function so(n){function e(r,i,a,o,s){this._reactName=r,this._targetInst=a,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(r=n[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yg:cN,this.isPropagationStopped=cN,this}return lr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yg)},persist:function(){},isPersistent:Yg}),e}var yh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yx=so(yh),Ym=lr({},yh,{view:0,detail:0}),XU=so(Ym),q2,W2,ap,F0=lr({},Ym,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wx,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ap&&(ap&&n.type==="mousemove"?(q2=n.screenX-ap.screenX,W2=n.screenY-ap.screenY):W2=q2=0,ap=n),q2)},movementY:function(n){return"movementY"in n?n.movementY:W2}}),fN=so(F0),QU=lr({},F0,{dataTransfer:0}),ZU=so(QU),JU=lr({},Ym,{relatedTarget:0}),H2=so(JU),e$=lr({},yh,{animationName:0,elapsedTime:0,pseudoElement:0}),t$=so(e$),n$=lr({},yh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),r$=so(n$),i$=lr({},yh,{data:0}),dN=so(i$),a$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l$(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=s$[n])?!!e[n]:!1}function wx(){return l$}var u$=lr({},Ym,{key:function(n){if(n.key){var e=a$[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Uv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?o$[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wx,charCode:function(n){return n.type==="keypress"?Uv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Uv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),c$=so(u$),f$=lr({},F0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hN=so(f$),d$=lr({},Ym,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wx}),h$=so(d$),p$=lr({},yh,{propertyName:0,elapsedTime:0,pseudoElement:0}),m$=so(p$),g$=lr({},F0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),v$=so(g$),y$=[9,13,27,32],bx=Cl&&"CompositionEvent"in window,Dp=null;Cl&&"documentMode"in document&&(Dp=document.documentMode);var w$=Cl&&"TextEvent"in window&&!Dp,VO=Cl&&(!bx||Dp&&8<Dp&&11>=Dp),pN=" ",mN=!1;function zO(n,e){switch(n){case"keyup":return y$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qO(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var hd=!1;function b$(n,e){switch(n){case"compositionend":return qO(e);case"keypress":return e.which!==32?null:(mN=!0,pN);case"textInput":return n=e.data,n===pN&&mN?null:n;default:return null}}function _$(n,e){if(hd)return n==="compositionend"||!bx&&zO(n,e)?(n=$O(),Bv=vx=Ou=null,hd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VO&&e.locale!=="ko"?null:e.data;default:return null}}var x$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gN(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!x$[n.type]:e==="textarea"}function WO(n,e,r,i){xO(i),e=py(e,"onChange"),0<e.length&&(r=new yx("onChange","change",null,r,i),n.push({event:r,listeners:e}))}var Rp=null,om=null;function A$(n){nj(n,0)}function B0(n){var e=gd(n);if(mO(e))return n}function S$(n,e){if(n==="change")return e}var HO=!1;if(Cl){var K2;if(Cl){var G2="oninput"in document;if(!G2){var vN=document.createElement("div");vN.setAttribute("oninput","return;"),G2=typeof vN.oninput=="function"}K2=G2}else K2=!1;HO=K2&&(!document.documentMode||9<document.documentMode)}function yN(){Rp&&(Rp.detachEvent("onpropertychange",KO),om=Rp=null)}function KO(n){if(n.propertyName==="value"&&B0(om)){var e=[];WO(e,om,n,dx(n)),PO(A$,e)}}function E$(n,e,r){n==="focusin"?(yN(),Rp=e,om=r,Rp.attachEvent("onpropertychange",KO)):n==="focusout"&&yN()}function P$(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return B0(om)}function N$(n,e){if(n==="click")return B0(e)}function k$(n,e){if(n==="input"||n==="change")return B0(e)}function T$(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var is=typeof Object.is=="function"?Object.is:T$;function sm(n,e){if(is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var a=r[i];if(!_b.call(e,a)||!is(n[a],e[a]))return!1}return!0}function wN(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bN(n,e){var r=wN(n);n=0;for(var i;r;){if(r.nodeType===3){if(i=n+r.textContent.length,n<=e&&i>=e)return{node:r,offset:e-n};n=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wN(r)}}function GO(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?GO(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function YO(){for(var n=window,e=sy();e instanceof n.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)n=e.contentWindow;else break;e=sy(n.document)}return e}function _x(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function C$(n){var e=YO(),r=n.focusedElem,i=n.selectionRange;if(e!==r&&r&&r.ownerDocument&&GO(r.ownerDocument.documentElement,r)){if(i!==null&&_x(r)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(n,r.value.length);else if(n=(e=r.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var a=r.textContent.length,o=Math.min(i.start,a);i=i.end===void 0?o:Math.min(i.end,a),!n.extend&&o>i&&(a=i,i=o,o=a),a=bN(r,o);var s=bN(r,i);a&&s&&(n.rangeCount!==1||n.anchorNode!==a.node||n.anchorOffset!==a.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),n.removeAllRanges(),o>i?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=r;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)n=e[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var I$=Cl&&"documentMode"in document&&11>=document.documentMode,pd=null,Ub=null,Mp=null,$b=!1;function _N(n,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$b||pd==null||pd!==sy(i)||(i=pd,"selectionStart"in i&&_x(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Mp&&sm(Mp,i)||(Mp=i,i=py(Ub,"onSelect"),0<i.length&&(e=new yx("onSelect","select",null,e,r),n.push({event:e,listeners:i}),e.target=pd)))}function Xg(n,e){var r={};return r[n.toLowerCase()]=e.toLowerCase(),r["Webkit"+n]="webkit"+e,r["Moz"+n]="moz"+e,r}var md={animationend:Xg("Animation","AnimationEnd"),animationiteration:Xg("Animation","AnimationIteration"),animationstart:Xg("Animation","AnimationStart"),transitionend:Xg("Transition","TransitionEnd")},Y2={},XO={};Cl&&(XO=document.createElement("div").style,"AnimationEvent"in window||(delete md.animationend.animation,delete md.animationiteration.animation,delete md.animationstart.animation),"TransitionEvent"in window||delete md.transitionend.transition);function U0(n){if(Y2[n])return Y2[n];if(!md[n])return n;var e=md[n],r;for(r in e)if(e.hasOwnProperty(r)&&r in XO)return Y2[n]=e[r];return n}var QO=U0("animationend"),ZO=U0("animationiteration"),JO=U0("animationstart"),ej=U0("transitionend"),tj=new Map,xN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pc(n,e){tj.set(n,e),jf(e,[n])}for(var X2=0;X2<xN.length;X2++){var Q2=xN[X2],O$=Q2.toLowerCase(),j$=Q2[0].toUpperCase()+Q2.slice(1);pc(O$,"on"+j$)}pc(QO,"onAnimationEnd");pc(ZO,"onAnimationIteration");pc(JO,"onAnimationStart");pc("dblclick","onDoubleClick");pc("focusin","onFocus");pc("focusout","onBlur");pc(ej,"onTransitionEnd");$d("onMouseEnter",["mouseout","mouseover"]);$d("onMouseLeave",["mouseout","mouseover"]);$d("onPointerEnter",["pointerout","pointerover"]);$d("onPointerLeave",["pointerout","pointerover"]);jf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jf("onBeforeInput",["compositionend","keypress","textInput","paste"]);jf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ep="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ep));function AN(n,e,r){var i=n.type||"unknown-event";n.currentTarget=r,OU(i,e,void 0,n),n.currentTarget=null}function nj(n,e){e=(e&4)!==0;for(var r=0;r<n.length;r++){var i=n[r],a=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var l=i[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&a.isPropagationStopped())break e;AN(a,l,c),o=u}else for(s=0;s<i.length;s++){if(l=i[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&a.isPropagationStopped())break e;AN(a,l,c),o=u}}}if(uy)throw n=Rb,uy=!1,Rb=null,n}function qn(n,e){var r=e[Hb];r===void 0&&(r=e[Hb]=new Set);var i=n+"__bubble";r.has(i)||(rj(e,n,2,!1),r.add(i))}function Z2(n,e,r){var i=0;e&&(i|=4),rj(r,n,i,e)}var Qg="_reactListening"+Math.random().toString(36).slice(2);function lm(n){if(!n[Qg]){n[Qg]=!0,cO.forEach(function(r){r!=="selectionchange"&&(L$.has(r)||Z2(r,!1,n),Z2(r,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Qg]||(e[Qg]=!0,Z2("selectionchange",!1,e))}}function rj(n,e,r,i){switch(UO(e)){case 1:var a=GU;break;case 4:a=YU;break;default:a=gx}r=a.bind(null,e,r,n),a=void 0,!Db||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),i?a!==void 0?n.addEventListener(e,r,{capture:!0,passive:a}):n.addEventListener(e,r,!0):a!==void 0?n.addEventListener(e,r,{passive:a}):n.addEventListener(e,r,!1)}function J2(n,e,r,i,a){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var l=i.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Gc(l),s===null)return;if(u=s.tag,u===5||u===6){i=o=s;continue e}l=l.parentNode}}i=i.return}PO(function(){var c=o,f=dx(r),d=[];e:{var h=tj.get(n);if(h!==void 0){var p=yx,y=n;switch(n){case"keypress":if(Uv(r)===0)break e;case"keydown":case"keyup":p=c$;break;case"focusin":y="focus",p=H2;break;case"focusout":y="blur",p=H2;break;case"beforeblur":case"afterblur":p=H2;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=fN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ZU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=h$;break;case QO:case ZO:case JO:p=t$;break;case ej:p=m$;break;case"scroll":p=XU;break;case"wheel":p=v$;break;case"copy":case"cut":case"paste":p=r$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hN}var w=(e&4)!==0,_=!w&&n==="scroll",b=w?h!==null?h+"Capture":null:h;w=[];for(var S=c,A;S!==null;){A=S;var T=A.stateNode;if(A.tag===5&&T!==null&&(A=T,b!==null&&(T=nm(S,b),T!=null&&w.push(um(S,T,A)))),_)break;S=S.return}0<w.length&&(h=new p(h,y,null,r,f),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",h&&r!==jb&&(y=r.relatedTarget||r.fromElement)&&(Gc(y)||y[Il]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=c,y=y?Gc(y):null,y!==null&&(_=Lf(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(w=fN,T="onMouseLeave",b="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(w=hN,T="onPointerLeave",b="onPointerEnter",S="pointer"),_=p==null?h:gd(p),A=y==null?h:gd(y),h=new w(T,S+"leave",p,r,f),h.target=_,h.relatedTarget=A,T=null,Gc(f)===c&&(w=new w(b,S+"enter",y,r,f),w.target=A,w.relatedTarget=_,T=w),_=T,p&&y)t:{for(w=p,b=y,S=0,A=w;A;A=ed(A))S++;for(A=0,T=b;T;T=ed(T))A++;for(;0<S-A;)w=ed(w),S--;for(;0<A-S;)b=ed(b),A--;for(;S--;){if(w===b||b!==null&&w===b.alternate)break t;w=ed(w),b=ed(b)}w=null}else w=null;p!==null&&SN(d,h,p,w,!1),y!==null&&_!==null&&SN(d,_,y,w,!0)}}e:{if(h=c?gd(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var B=S$;else if(gN(h))if(HO)B=k$;else{B=P$;var $=E$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(B=N$);if(B&&(B=B(n,c))){WO(d,B,r,f);break e}$&&$(n,h,c),n==="focusout"&&($=h._wrapperState)&&$.controlled&&h.type==="number"&&kb(h,"number",h.value)}switch($=c?gd(c):window,n){case"focusin":(gN($)||$.contentEditable==="true")&&(pd=$,Ub=c,Mp=null);break;case"focusout":Mp=Ub=pd=null;break;case"mousedown":$b=!0;break;case"contextmenu":case"mouseup":case"dragend":$b=!1,_N(d,r,f);break;case"selectionchange":if(I$)break;case"keydown":case"keyup":_N(d,r,f)}var L;if(bx)e:{switch(n){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else hd?zO(n,r)&&(I="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(VO&&r.locale!=="ko"&&(hd||I!=="onCompositionStart"?I==="onCompositionEnd"&&hd&&(L=$O()):(Ou=f,vx="value"in Ou?Ou.value:Ou.textContent,hd=!0)),$=py(c,I),0<$.length&&(I=new dN(I,n,null,r,f),d.push({event:I,listeners:$}),L?I.data=L:(L=qO(r),L!==null&&(I.data=L)))),(L=w$?b$(n,r):_$(n,r))&&(c=py(c,"onBeforeInput"),0<c.length&&(f=new dN("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=L))}nj(d,e)})}function um(n,e,r){return{instance:n,listener:e,currentTarget:r}}function py(n,e){for(var r=e+"Capture",i=[];n!==null;){var a=n,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=nm(n,r),o!=null&&i.unshift(um(n,o,a)),o=nm(n,e),o!=null&&i.push(um(n,o,a))),n=n.return}return i}function ed(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function SN(n,e,r,i,a){for(var o=e._reactName,s=[];r!==null&&r!==i;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===i)break;l.tag===5&&c!==null&&(l=c,a?(u=nm(r,o),u!=null&&s.unshift(um(r,u,l))):a||(u=nm(r,o),u!=null&&s.push(um(r,u,l)))),r=r.return}s.length!==0&&n.push({event:e,listeners:s})}var D$=/\r\n?/g,R$=/\u0000|\uFFFD/g;function EN(n){return(typeof n=="string"?n:""+n).replace(D$,`
`).replace(R$,"")}function Zg(n,e,r){if(e=EN(e),EN(n)!==e&&r)throw Error(Be(425))}function my(){}var Vb=null,zb=null;function qb(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wb=typeof setTimeout=="function"?setTimeout:void 0,M$=typeof clearTimeout=="function"?clearTimeout:void 0,PN=typeof Promise=="function"?Promise:void 0,F$=typeof queueMicrotask=="function"?queueMicrotask:typeof PN<"u"?function(n){return PN.resolve(null).then(n).catch(B$)}:Wb;function B$(n){setTimeout(function(){throw n})}function ew(n,e){var r=e,i=0;do{var a=r.nextSibling;if(n.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(i===0){n.removeChild(a),am(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=a}while(r);am(e)}function $u(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function NN(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return n;e--}else r==="/$"&&e++}n=n.previousSibling}return null}var wh=Math.random().toString(36).slice(2),Ls="__reactFiber$"+wh,cm="__reactProps$"+wh,Il="__reactContainer$"+wh,Hb="__reactEvents$"+wh,U$="__reactListeners$"+wh,$$="__reactHandles$"+wh;function Gc(n){var e=n[Ls];if(e)return e;for(var r=n.parentNode;r;){if(e=r[Il]||r[Ls]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(n=NN(n);n!==null;){if(r=n[Ls])return r;n=NN(n)}return e}n=r,r=n.parentNode}return null}function Xm(n){return n=n[Ls]||n[Il],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function gd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Be(33))}function $0(n){return n[cm]||null}var Kb=[],vd=-1;function mc(n){return{current:n}}function Gn(n){0>vd||(n.current=Kb[vd],Kb[vd]=null,vd--)}function Bn(n,e){vd++,Kb[vd]=n.current,n.current=e}var rc={},Wi=mc(rc),ba=mc(!1),pf=rc;function Vd(n,e){var r=n.type.contextTypes;if(!r)return rc;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=e[o];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=a),a}function _a(n){return n=n.childContextTypes,n!=null}function gy(){Gn(ba),Gn(Wi)}function kN(n,e,r){if(Wi.current!==rc)throw Error(Be(168));Bn(Wi,e),Bn(ba,r)}function ij(n,e,r){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var a in i)if(!(a in e))throw Error(Be(108,EU(n)||"Unknown",a));return lr({},r,i)}function vy(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||rc,pf=Wi.current,Bn(Wi,n),Bn(ba,ba.current),!0}function TN(n,e,r){var i=n.stateNode;if(!i)throw Error(Be(169));r?(n=ij(n,e,pf),i.__reactInternalMemoizedMergedChildContext=n,Gn(ba),Gn(Wi),Bn(Wi,n)):Gn(ba),Bn(ba,r)}var vl=null,V0=!1,tw=!1;function aj(n){vl===null?vl=[n]:vl.push(n)}function V$(n){V0=!0,aj(n)}function gc(){if(!tw&&vl!==null){tw=!0;var n=0,e=En;try{var r=vl;for(En=1;n<r.length;n++){var i=r[n];do i=i(!0);while(i!==null)}vl=null,V0=!1}catch(a){throw vl!==null&&(vl=vl.slice(n+1)),CO(hx,gc),a}finally{En=e,tw=!1}}return null}var yd=[],wd=0,yy=null,wy=0,Ao=[],So=0,mf=null,_l=1,xl="";function Uc(n,e){yd[wd++]=wy,yd[wd++]=yy,yy=n,wy=e}function oj(n,e,r){Ao[So++]=_l,Ao[So++]=xl,Ao[So++]=mf,mf=n;var i=_l;n=xl;var a=32-ns(i)-1;i&=~(1<<a),r+=1;var o=32-ns(e)+a;if(30<o){var s=a-a%5;o=(i&(1<<s)-1).toString(32),i>>=s,a-=s,_l=1<<32-ns(e)+a|r<<a|i,xl=o+n}else _l=1<<o|r<<a|i,xl=n}function xx(n){n.return!==null&&(Uc(n,1),oj(n,1,0))}function Ax(n){for(;n===yy;)yy=yd[--wd],yd[wd]=null,wy=yd[--wd],yd[wd]=null;for(;n===mf;)mf=Ao[--So],Ao[So]=null,xl=Ao[--So],Ao[So]=null,_l=Ao[--So],Ao[So]=null}var Za=null,Ga=null,tr=!1,Qo=null;function sj(n,e){var r=Po(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=n,e=n.deletions,e===null?(n.deletions=[r],n.flags|=16):e.push(r)}function CN(n,e){switch(n.tag){case 5:var r=n.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Za=n,Ga=$u(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Za=n,Ga=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=mf!==null?{id:_l,overflow:xl}:null,n.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Po(18,null,null,0),r.stateNode=e,r.return=n,n.child=r,Za=n,Ga=null,!0):!1;default:return!1}}function Gb(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Yb(n){if(tr){var e=Ga;if(e){var r=e;if(!CN(n,e)){if(Gb(n))throw Error(Be(418));e=$u(r.nextSibling);var i=Za;e&&CN(n,e)?sj(i,r):(n.flags=n.flags&-4097|2,tr=!1,Za=n)}}else{if(Gb(n))throw Error(Be(418));n.flags=n.flags&-4097|2,tr=!1,Za=n}}}function IN(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Za=n}function Jg(n){if(n!==Za)return!1;if(!tr)return IN(n),tr=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!qb(n.type,n.memoizedProps)),e&&(e=Ga)){if(Gb(n))throw lj(),Error(Be(418));for(;e;)sj(n,e),e=$u(e.nextSibling)}if(IN(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Be(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(e===0){Ga=$u(n.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}n=n.nextSibling}Ga=null}}else Ga=Za?$u(n.stateNode.nextSibling):null;return!0}function lj(){for(var n=Ga;n;)n=$u(n.nextSibling)}function zd(){Ga=Za=null,tr=!1}function Sx(n){Qo===null?Qo=[n]:Qo.push(n)}var z$=Kl.ReactCurrentBatchConfig;function op(n,e,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Be(309));var i=r.stateNode}if(!i)throw Error(Be(147,n));var a=i,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=a.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof n!="string")throw Error(Be(284));if(!r._owner)throw Error(Be(290,n))}return n}function ev(n,e){throw n=Object.prototype.toString.call(e),Error(Be(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function ON(n){var e=n._init;return e(n._payload)}function uj(n){function e(b,S){if(n){var A=b.deletions;A===null?(b.deletions=[S],b.flags|=16):A.push(S)}}function r(b,S){if(!n)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function i(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function a(b,S){return b=Wu(b,S),b.index=0,b.sibling=null,b}function o(b,S,A){return b.index=A,n?(A=b.alternate,A!==null?(A=A.index,A<S?(b.flags|=2,S):A):(b.flags|=2,S)):(b.flags|=1048576,S)}function s(b){return n&&b.alternate===null&&(b.flags|=2),b}function l(b,S,A,T){return S===null||S.tag!==6?(S=lw(A,b.mode,T),S.return=b,S):(S=a(S,A),S.return=b,S)}function u(b,S,A,T){var B=A.type;return B===dd?f(b,S,A.props.children,T,A.key):S!==null&&(S.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Su&&ON(B)===S.type)?(T=a(S,A.props),T.ref=op(b,S,A),T.return=b,T):(T=Kv(A.type,A.key,A.props,null,b.mode,T),T.ref=op(b,S,A),T.return=b,T)}function c(b,S,A,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=uw(A,b.mode,T),S.return=b,S):(S=a(S,A.children||[]),S.return=b,S)}function f(b,S,A,T,B){return S===null||S.tag!==7?(S=af(A,b.mode,T,B),S.return=b,S):(S=a(S,A),S.return=b,S)}function d(b,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return S=lw(""+S,b.mode,A),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zg:return A=Kv(S.type,S.key,S.props,null,b.mode,A),A.ref=op(b,null,S),A.return=b,A;case fd:return S=uw(S,b.mode,A),S.return=b,S;case Su:var T=S._init;return d(b,T(S._payload),A)}if(Ap(S)||tp(S))return S=af(S,b.mode,A,null),S.return=b,S;ev(b,S)}return null}function h(b,S,A,T){var B=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return B!==null?null:l(b,S,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case zg:return A.key===B?u(b,S,A,T):null;case fd:return A.key===B?c(b,S,A,T):null;case Su:return B=A._init,h(b,S,B(A._payload),T)}if(Ap(A)||tp(A))return B!==null?null:f(b,S,A,T,null);ev(b,A)}return null}function p(b,S,A,T,B){if(typeof T=="string"&&T!==""||typeof T=="number")return b=b.get(A)||null,l(S,b,""+T,B);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case zg:return b=b.get(T.key===null?A:T.key)||null,u(S,b,T,B);case fd:return b=b.get(T.key===null?A:T.key)||null,c(S,b,T,B);case Su:var $=T._init;return p(b,S,A,$(T._payload),B)}if(Ap(T)||tp(T))return b=b.get(A)||null,f(S,b,T,B,null);ev(S,T)}return null}function y(b,S,A,T){for(var B=null,$=null,L=S,I=S=0,O=null;L!==null&&I<A.length;I++){L.index>I?(O=L,L=null):O=L.sibling;var U=h(b,L,A[I],T);if(U===null){L===null&&(L=O);break}n&&L&&U.alternate===null&&e(b,L),S=o(U,S,I),$===null?B=U:$.sibling=U,$=U,L=O}if(I===A.length)return r(b,L),tr&&Uc(b,I),B;if(L===null){for(;I<A.length;I++)L=d(b,A[I],T),L!==null&&(S=o(L,S,I),$===null?B=L:$.sibling=L,$=L);return tr&&Uc(b,I),B}for(L=i(b,L);I<A.length;I++)O=p(L,b,I,A[I],T),O!==null&&(n&&O.alternate!==null&&L.delete(O.key===null?I:O.key),S=o(O,S,I),$===null?B=O:$.sibling=O,$=O);return n&&L.forEach(function(k){return e(b,k)}),tr&&Uc(b,I),B}function w(b,S,A,T){var B=tp(A);if(typeof B!="function")throw Error(Be(150));if(A=B.call(A),A==null)throw Error(Be(151));for(var $=B=null,L=S,I=S=0,O=null,U=A.next();L!==null&&!U.done;I++,U=A.next()){L.index>I?(O=L,L=null):O=L.sibling;var k=h(b,L,U.value,T);if(k===null){L===null&&(L=O);break}n&&L&&k.alternate===null&&e(b,L),S=o(k,S,I),$===null?B=k:$.sibling=k,$=k,L=O}if(U.done)return r(b,L),tr&&Uc(b,I),B;if(L===null){for(;!U.done;I++,U=A.next())U=d(b,U.value,T),U!==null&&(S=o(U,S,I),$===null?B=U:$.sibling=U,$=U);return tr&&Uc(b,I),B}for(L=i(b,L);!U.done;I++,U=A.next())U=p(L,b,I,U.value,T),U!==null&&(n&&U.alternate!==null&&L.delete(U.key===null?I:U.key),S=o(U,S,I),$===null?B=U:$.sibling=U,$=U);return n&&L.forEach(function(R){return e(b,R)}),tr&&Uc(b,I),B}function _(b,S,A,T){if(typeof A=="object"&&A!==null&&A.type===dd&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case zg:e:{for(var B=A.key,$=S;$!==null;){if($.key===B){if(B=A.type,B===dd){if($.tag===7){r(b,$.sibling),S=a($,A.props.children),S.return=b,b=S;break e}}else if($.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Su&&ON(B)===$.type){r(b,$.sibling),S=a($,A.props),S.ref=op(b,$,A),S.return=b,b=S;break e}r(b,$);break}else e(b,$);$=$.sibling}A.type===dd?(S=af(A.props.children,b.mode,T,A.key),S.return=b,b=S):(T=Kv(A.type,A.key,A.props,null,b.mode,T),T.ref=op(b,S,A),T.return=b,b=T)}return s(b);case fd:e:{for($=A.key;S!==null;){if(S.key===$)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){r(b,S.sibling),S=a(S,A.children||[]),S.return=b,b=S;break e}else{r(b,S);break}else e(b,S);S=S.sibling}S=uw(A,b.mode,T),S.return=b,b=S}return s(b);case Su:return $=A._init,_(b,S,$(A._payload),T)}if(Ap(A))return y(b,S,A,T);if(tp(A))return w(b,S,A,T);ev(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,S!==null&&S.tag===6?(r(b,S.sibling),S=a(S,A),S.return=b,b=S):(r(b,S),S=lw(A,b.mode,T),S.return=b,b=S),s(b)):r(b,S)}return _}var qd=uj(!0),cj=uj(!1),by=mc(null),_y=null,bd=null,Ex=null;function Px(){Ex=bd=_y=null}function Nx(n){var e=by.current;Gn(by),n._currentValue=e}function Xb(n,e,r){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===r)break;n=n.return}}function Id(n,e){_y=n,Ex=bd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ya=!0),n.firstContext=null)}function Co(n){var e=n._currentValue;if(Ex!==n)if(n={context:n,memoizedValue:e,next:null},bd===null){if(_y===null)throw Error(Be(308));bd=n,_y.dependencies={lanes:0,firstContext:n}}else bd=bd.next=n;return e}var Yc=null;function kx(n){Yc===null?Yc=[n]:Yc.push(n)}function fj(n,e,r,i){var a=e.interleaved;return a===null?(r.next=r,kx(e)):(r.next=a.next,a.next=r),e.interleaved=r,Ol(n,i)}function Ol(n,e){n.lanes|=e;var r=n.alternate;for(r!==null&&(r.lanes|=e),r=n,n=n.return;n!==null;)n.childLanes|=e,r=n.alternate,r!==null&&(r.childLanes|=e),r=n,n=n.return;return r.tag===3?r.stateNode:null}var Eu=!1;function Tx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dj(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Pl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Vu(n,e,r){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,on&2){var a=i.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),i.pending=e,Ol(n,r)}return a=i.interleaved,a===null?(e.next=e,kx(i)):(e.next=a.next,a.next=e),i.interleaved=e,Ol(n,r)}function $v(n,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,px(n,r)}}function jN(n,e){var r=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?a=o=e:o=o.next=e}else a=o=e;r={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:i.shared,effects:i.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=e:n.next=e,r.lastBaseUpdate=e}function xy(n,e,r,i){var a=n.updateQueue;Eu=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var f=n.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(o!==null){var d=a.baseState;s=0,f=c=u=null,l=o;do{var h=l.lane,p=l.eventTime;if((i&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=n,w=l;switch(h=e,p=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=lr({},d,h);break e;case 2:Eu=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=p,u=d):f=f.next=p,s|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(u=d),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=f,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else o===null&&(a.shared.lanes=0);vf|=s,n.lanes=s,n.memoizedState=d}}function LN(n,e,r){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],a=i.callback;if(a!==null){if(i.callback=null,i=r,typeof a!="function")throw Error(Be(191,a));a.call(i)}}}var Qm={},Bs=mc(Qm),fm=mc(Qm),dm=mc(Qm);function Xc(n){if(n===Qm)throw Error(Be(174));return n}function Cx(n,e){switch(Bn(dm,e),Bn(fm,n),Bn(Bs,Qm),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cb(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Cb(e,n)}Gn(Bs),Bn(Bs,e)}function Wd(){Gn(Bs),Gn(fm),Gn(dm)}function hj(n){Xc(dm.current);var e=Xc(Bs.current),r=Cb(e,n.type);e!==r&&(Bn(fm,n),Bn(Bs,r))}function Ix(n){fm.current===n&&(Gn(Bs),Gn(fm))}var or=mc(0);function Ay(n){for(var e=n;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nw=[];function Ox(){for(var n=0;n<nw.length;n++)nw[n]._workInProgressVersionPrimary=null;nw.length=0}var Vv=Kl.ReactCurrentDispatcher,rw=Kl.ReactCurrentBatchConfig,gf=0,sr=null,Kr=null,si=null,Sy=!1,Fp=!1,hm=0,q$=0;function Ii(){throw Error(Be(321))}function jx(n,e){if(e===null)return!1;for(var r=0;r<e.length&&r<n.length;r++)if(!is(n[r],e[r]))return!1;return!0}function Lx(n,e,r,i,a,o){if(gf=o,sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vv.current=n===null||n.memoizedState===null?G$:Y$,n=r(i,a),Fp){o=0;do{if(Fp=!1,hm=0,25<=o)throw Error(Be(301));o+=1,si=Kr=null,e.updateQueue=null,Vv.current=X$,n=r(i,a)}while(Fp)}if(Vv.current=Ey,e=Kr!==null&&Kr.next!==null,gf=0,si=Kr=sr=null,Sy=!1,e)throw Error(Be(300));return n}function Dx(){var n=hm!==0;return hm=0,n}function js(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?sr.memoizedState=si=n:si=si.next=n,si}function Io(){if(Kr===null){var n=sr.alternate;n=n!==null?n.memoizedState:null}else n=Kr.next;var e=si===null?sr.memoizedState:si.next;if(e!==null)si=e,Kr=n;else{if(n===null)throw Error(Be(310));Kr=n,n={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},si===null?sr.memoizedState=si=n:si=si.next=n}return si}function pm(n,e){return typeof e=="function"?e(n):e}function iw(n){var e=Io(),r=e.queue;if(r===null)throw Error(Be(311));r.lastRenderedReducer=n;var i=Kr,a=i.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}i.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,i=i.baseState;var l=s=null,u=null,c=o;do{var f=c.lane;if((gf&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=d,s=i):u=u.next=d,sr.lanes|=f,vf|=f}c=c.next}while(c!==null&&c!==o);u===null?s=i:u.next=l,is(i,e.memoizedState)||(ya=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=u,r.lastRenderedState=i}if(n=r.interleaved,n!==null){a=n;do o=a.lane,sr.lanes|=o,vf|=o,a=a.next;while(a!==n)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function aw(n){var e=Io(),r=e.queue;if(r===null)throw Error(Be(311));r.lastRenderedReducer=n;var i=r.dispatch,a=r.pending,o=e.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do o=n(o,s.action),s=s.next;while(s!==a);is(o,e.memoizedState)||(ya=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,i]}function pj(){}function mj(n,e){var r=sr,i=Io(),a=e(),o=!is(i.memoizedState,a);if(o&&(i.memoizedState=a,ya=!0),i=i.queue,Rx(yj.bind(null,r,i,n),[n]),i.getSnapshot!==e||o||si!==null&&si.memoizedState.tag&1){if(r.flags|=2048,mm(9,vj.bind(null,r,i,a,e),void 0,null),ci===null)throw Error(Be(349));gf&30||gj(r,e,a)}return a}function gj(n,e,r){n.flags|=16384,n={getSnapshot:e,value:r},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.stores=[n]):(r=e.stores,r===null?e.stores=[n]:r.push(n))}function vj(n,e,r,i){e.value=r,e.getSnapshot=i,wj(e)&&bj(n)}function yj(n,e,r){return r(function(){wj(e)&&bj(n)})}function wj(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!is(n,r)}catch{return!0}}function bj(n){var e=Ol(n,1);e!==null&&rs(e,n,1,-1)}function DN(n){var e=js();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pm,lastRenderedState:n},e.queue=n,n=n.dispatch=K$.bind(null,sr,n),[e.memoizedState,n]}function mm(n,e,r,i){return n={tag:n,create:e,destroy:r,deps:i,next:null},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.lastEffect=n.next=n):(r=e.lastEffect,r===null?e.lastEffect=n.next=n:(i=r.next,r.next=n,n.next=i,e.lastEffect=n)),n}function _j(){return Io().memoizedState}function zv(n,e,r,i){var a=js();sr.flags|=n,a.memoizedState=mm(1|e,r,void 0,i===void 0?null:i)}function z0(n,e,r,i){var a=Io();i=i===void 0?null:i;var o=void 0;if(Kr!==null){var s=Kr.memoizedState;if(o=s.destroy,i!==null&&jx(i,s.deps)){a.memoizedState=mm(e,r,o,i);return}}sr.flags|=n,a.memoizedState=mm(1|e,r,o,i)}function RN(n,e){return zv(8390656,8,n,e)}function Rx(n,e){return z0(2048,8,n,e)}function xj(n,e){return z0(4,2,n,e)}function Aj(n,e){return z0(4,4,n,e)}function Sj(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Ej(n,e,r){return r=r!=null?r.concat([n]):null,z0(4,4,Sj.bind(null,e,n),r)}function Mx(){}function Pj(n,e){var r=Io();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&jx(e,i[1])?i[0]:(r.memoizedState=[n,e],n)}function Nj(n,e){var r=Io();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&jx(e,i[1])?i[0]:(n=n(),r.memoizedState=[n,e],n)}function kj(n,e,r){return gf&21?(is(r,e)||(r=jO(),sr.lanes|=r,vf|=r,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ya=!0),n.memoizedState=r)}function W$(n,e){var r=En;En=r!==0&&4>r?r:4,n(!0);var i=rw.transition;rw.transition={};try{n(!1),e()}finally{En=r,rw.transition=i}}function Tj(){return Io().memoizedState}function H$(n,e,r){var i=qu(n);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Cj(n))Ij(e,r);else if(r=fj(n,e,r,i),r!==null){var a=ra();rs(r,n,i,a),Oj(r,e,i)}}function K$(n,e,r){var i=qu(n),a={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cj(n))Ij(e,a);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,r);if(a.hasEagerState=!0,a.eagerState=l,is(l,s)){var u=e.interleaved;u===null?(a.next=a,kx(e)):(a.next=u.next,u.next=a),e.interleaved=a;return}}catch{}finally{}r=fj(n,e,a,i),r!==null&&(a=ra(),rs(r,n,i,a),Oj(r,e,i))}}function Cj(n){var e=n.alternate;return n===sr||e!==null&&e===sr}function Ij(n,e){Fp=Sy=!0;var r=n.pending;r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e}function Oj(n,e,r){if(r&4194240){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,px(n,r)}}var Ey={readContext:Co,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useInsertionEffect:Ii,useLayoutEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useMutableSource:Ii,useSyncExternalStore:Ii,useId:Ii,unstable_isNewReconciler:!1},G$={readContext:Co,useCallback:function(n,e){return js().memoizedState=[n,e===void 0?null:e],n},useContext:Co,useEffect:RN,useImperativeHandle:function(n,e,r){return r=r!=null?r.concat([n]):null,zv(4194308,4,Sj.bind(null,e,n),r)},useLayoutEffect:function(n,e){return zv(4194308,4,n,e)},useInsertionEffect:function(n,e){return zv(4,2,n,e)},useMemo:function(n,e){var r=js();return e=e===void 0?null:e,n=n(),r.memoizedState=[n,e],n},useReducer:function(n,e,r){var i=js();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=H$.bind(null,sr,n),[i.memoizedState,n]},useRef:function(n){var e=js();return n={current:n},e.memoizedState=n},useState:DN,useDebugValue:Mx,useDeferredValue:function(n){return js().memoizedState=n},useTransition:function(){var n=DN(!1),e=n[0];return n=W$.bind(null,n[1]),js().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,r){var i=sr,a=js();if(tr){if(r===void 0)throw Error(Be(407));r=r()}else{if(r=e(),ci===null)throw Error(Be(349));gf&30||gj(i,e,r)}a.memoizedState=r;var o={value:r,getSnapshot:e};return a.queue=o,RN(yj.bind(null,i,o,n),[n]),i.flags|=2048,mm(9,vj.bind(null,i,o,r,e),void 0,null),r},useId:function(){var n=js(),e=ci.identifierPrefix;if(tr){var r=xl,i=_l;r=(i&~(1<<32-ns(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=hm++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=q$++,e=":"+e+"r"+r.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Y$={readContext:Co,useCallback:Pj,useContext:Co,useEffect:Rx,useImperativeHandle:Ej,useInsertionEffect:xj,useLayoutEffect:Aj,useMemo:Nj,useReducer:iw,useRef:_j,useState:function(){return iw(pm)},useDebugValue:Mx,useDeferredValue:function(n){var e=Io();return kj(e,Kr.memoizedState,n)},useTransition:function(){var n=iw(pm)[0],e=Io().memoizedState;return[n,e]},useMutableSource:pj,useSyncExternalStore:mj,useId:Tj,unstable_isNewReconciler:!1},X$={readContext:Co,useCallback:Pj,useContext:Co,useEffect:Rx,useImperativeHandle:Ej,useInsertionEffect:xj,useLayoutEffect:Aj,useMemo:Nj,useReducer:aw,useRef:_j,useState:function(){return aw(pm)},useDebugValue:Mx,useDeferredValue:function(n){var e=Io();return Kr===null?e.memoizedState=n:kj(e,Kr.memoizedState,n)},useTransition:function(){var n=aw(pm)[0],e=Io().memoizedState;return[n,e]},useMutableSource:pj,useSyncExternalStore:mj,useId:Tj,unstable_isNewReconciler:!1};function Yo(n,e){if(n&&n.defaultProps){e=lr({},e),n=n.defaultProps;for(var r in n)e[r]===void 0&&(e[r]=n[r]);return e}return e}function Qb(n,e,r,i){e=n.memoizedState,r=r(i,e),r=r==null?e:lr({},e,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var q0={isMounted:function(n){return(n=n._reactInternals)?Lf(n)===n:!1},enqueueSetState:function(n,e,r){n=n._reactInternals;var i=ra(),a=qu(n),o=Pl(i,a);o.payload=e,r!=null&&(o.callback=r),e=Vu(n,o,a),e!==null&&(rs(e,n,a,i),$v(e,n,a))},enqueueReplaceState:function(n,e,r){n=n._reactInternals;var i=ra(),a=qu(n),o=Pl(i,a);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Vu(n,o,a),e!==null&&(rs(e,n,a,i),$v(e,n,a))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var r=ra(),i=qu(n),a=Pl(r,i);a.tag=2,e!=null&&(a.callback=e),e=Vu(n,a,i),e!==null&&(rs(e,n,i,r),$v(e,n,i))}};function MN(n,e,r,i,a,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!sm(r,i)||!sm(a,o):!0}function jj(n,e,r){var i=!1,a=rc,o=e.contextType;return typeof o=="object"&&o!==null?o=Co(o):(a=_a(e)?pf:Wi.current,i=e.contextTypes,o=(i=i!=null)?Vd(n,a):rc),e=new e(r,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=q0,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=o),e}function FN(n,e,r,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==n&&q0.enqueueReplaceState(e,e.state,null)}function Zb(n,e,r,i){var a=n.stateNode;a.props=r,a.state=n.memoizedState,a.refs={},Tx(n);var o=e.contextType;typeof o=="object"&&o!==null?a.context=Co(o):(o=_a(e)?pf:Wi.current,a.context=Vd(n,o)),a.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Qb(n,e,o,r),a.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&q0.enqueueReplaceState(a,a.state,null),xy(n,r,a,i),a.state=n.memoizedState),typeof a.componentDidMount=="function"&&(n.flags|=4194308)}function Hd(n,e){try{var r="",i=e;do r+=SU(i),i=i.return;while(i);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:a,digest:null}}function ow(n,e,r){return{value:n,source:null,stack:r??null,digest:e??null}}function Jb(n,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Q$=typeof WeakMap=="function"?WeakMap:Map;function Lj(n,e,r){r=Pl(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){Ny||(Ny=!0,u5=i),Jb(n,e)},r}function Dj(n,e,r){r=Pl(-1,r),r.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=e.value;r.payload=function(){return i(a)},r.callback=function(){Jb(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Jb(n,e),typeof i!="function"&&(zu===null?zu=new Set([this]):zu.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function BN(n,e,r){var i=n.pingCache;if(i===null){i=n.pingCache=new Q$;var a=new Set;i.set(e,a)}else a=i.get(e),a===void 0&&(a=new Set,i.set(e,a));a.has(r)||(a.add(r),n=fV.bind(null,n,e,r),e.then(n,n))}function UN(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function $N(n,e,r,i,a){return n.mode&1?(n.flags|=65536,n.lanes=a,n):(n===e?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Pl(-1,1),e.tag=2,Vu(r,e,1))),r.lanes|=1),n)}var Z$=Kl.ReactCurrentOwner,ya=!1;function ta(n,e,r,i){e.child=n===null?cj(e,null,r,i):qd(e,n.child,r,i)}function VN(n,e,r,i,a){r=r.render;var o=e.ref;return Id(e,a),i=Lx(n,e,r,i,o,a),r=Dx(),n!==null&&!ya?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~a,jl(n,e,a)):(tr&&r&&xx(e),e.flags|=1,ta(n,e,i,a),e.child)}function zN(n,e,r,i,a){if(n===null){var o=r.type;return typeof o=="function"&&!Wx(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Rj(n,e,o,i,a)):(n=Kv(r.type,null,i,e,e.mode,a),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&a)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:sm,r(s,i)&&n.ref===e.ref)return jl(n,e,a)}return e.flags|=1,n=Wu(o,i),n.ref=e.ref,n.return=e,e.child=n}function Rj(n,e,r,i,a){if(n!==null){var o=n.memoizedProps;if(sm(o,i)&&n.ref===e.ref)if(ya=!1,e.pendingProps=i=o,(n.lanes&a)!==0)n.flags&131072&&(ya=!0);else return e.lanes=n.lanes,jl(n,e,a)}return e5(n,e,r,i,a)}function Mj(n,e,r){var i=e.pendingProps,a=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bn(xd,qa),qa|=r;else{if(!(r&1073741824))return n=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Bn(xd,qa),qa|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:r,Bn(xd,qa),qa|=i}else o!==null?(i=o.baseLanes|r,e.memoizedState=null):i=r,Bn(xd,qa),qa|=i;return ta(n,e,a,r),e.child}function Fj(n,e){var r=e.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function e5(n,e,r,i,a){var o=_a(r)?pf:Wi.current;return o=Vd(e,o),Id(e,a),r=Lx(n,e,r,i,o,a),i=Dx(),n!==null&&!ya?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~a,jl(n,e,a)):(tr&&i&&xx(e),e.flags|=1,ta(n,e,r,a),e.child)}function qN(n,e,r,i,a){if(_a(r)){var o=!0;vy(e)}else o=!1;if(Id(e,a),e.stateNode===null)qv(n,e),jj(e,r,i),Zb(e,r,i,a),i=!0;else if(n===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Co(c):(c=_a(r)?pf:Wi.current,c=Vd(e,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==i||u!==c)&&FN(e,s,i,c),Eu=!1;var h=e.memoizedState;s.state=h,xy(e,i,s,a),u=e.memoizedState,l!==i||h!==u||ba.current||Eu?(typeof f=="function"&&(Qb(e,r,f,i),u=e.memoizedState),(l=Eu||MN(e,r,l,i,h,u,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),s.props=i,s.state=u,s.context=c,i=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,dj(n,e),l=e.memoizedProps,c=e.type===e.elementType?l:Yo(e.type,l),s.props=c,d=e.pendingProps,h=s.context,u=r.contextType,typeof u=="object"&&u!==null?u=Co(u):(u=_a(r)?pf:Wi.current,u=Vd(e,u));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||h!==u)&&FN(e,s,i,u),Eu=!1,h=e.memoizedState,s.state=h,xy(e,i,s,a);var y=e.memoizedState;l!==d||h!==y||ba.current||Eu?(typeof p=="function"&&(Qb(e,r,p,i),y=e.memoizedState),(c=Eu||MN(e,r,c,i,h,y,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),s.props=i,s.state=y,s.context=u,i=c):(typeof s.componentDidUpdate!="function"||l===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return t5(n,e,r,i,o,a)}function t5(n,e,r,i,a,o){Fj(n,e);var s=(e.flags&128)!==0;if(!i&&!s)return a&&TN(e,r,!1),jl(n,e,o);i=e.stateNode,Z$.current=e;var l=s&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&s?(e.child=qd(e,n.child,null,o),e.child=qd(e,null,l,o)):ta(n,e,l,o),e.memoizedState=i.state,a&&TN(e,r,!0),e.child}function Bj(n){var e=n.stateNode;e.pendingContext?kN(n,e.pendingContext,e.pendingContext!==e.context):e.context&&kN(n,e.context,!1),Cx(n,e.containerInfo)}function WN(n,e,r,i,a){return zd(),Sx(a),e.flags|=256,ta(n,e,r,i),e.child}var n5={dehydrated:null,treeContext:null,retryLane:0};function r5(n){return{baseLanes:n,cachePool:null,transitions:null}}function Uj(n,e,r){var i=e.pendingProps,a=or.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=n!==null&&n.memoizedState===null?!1:(a&2)!==0),l?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(a|=1),Bn(or,a&1),n===null)return Yb(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,n=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=K0(s,i,0,null),n=af(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=r5(r),e.memoizedState=n5,n):Fx(e,s));if(a=n.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return J$(n,e,s,i,l,a,r);if(o){o=i.fallback,s=e.mode,a=n.child,l=a.sibling;var u={mode:"hidden",children:i.children};return!(s&1)&&e.child!==a?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=Wu(a,u),i.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Wu(l,o):(o=af(o,s,r,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=n.child.memoizedState,s=s===null?r5(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~r,e.memoizedState=n5,i}return o=n.child,n=o.sibling,i=Wu(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=i,e.memoizedState=null,i}function Fx(n,e){return e=K0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function tv(n,e,r,i){return i!==null&&Sx(i),qd(e,n.child,null,r),n=Fx(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function J$(n,e,r,i,a,o,s){if(r)return e.flags&256?(e.flags&=-257,i=ow(Error(Be(422))),tv(n,e,s,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=i.fallback,a=e.mode,i=K0({mode:"visible",children:i.children},a,0,null),o=af(o,a,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&qd(e,n.child,null,s),e.child.memoizedState=r5(s),e.memoizedState=n5,o);if(!(e.mode&1))return tv(n,e,s,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var l=i.dgst;return i=l,o=Error(Be(419)),i=ow(o,i,void 0),tv(n,e,s,i)}if(l=(s&n.childLanes)!==0,ya||l){if(i=ci,i!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|s)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Ol(n,a),rs(i,n,a,-1))}return qx(),i=ow(Error(Be(421))),tv(n,e,s,i)}return a.data==="$?"?(e.flags|=128,e.child=n.child,e=dV.bind(null,n),a._reactRetry=e,null):(n=o.treeContext,Ga=$u(a.nextSibling),Za=e,tr=!0,Qo=null,n!==null&&(Ao[So++]=_l,Ao[So++]=xl,Ao[So++]=mf,_l=n.id,xl=n.overflow,mf=e),e=Fx(e,i.children),e.flags|=4096,e)}function HN(n,e,r){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Xb(n.return,e,r)}function sw(n,e,r,i,a){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=a)}function $j(n,e,r){var i=e.pendingProps,a=i.revealOrder,o=i.tail;if(ta(n,e,i.children,r),i=or.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&HN(n,r,e);else if(n.tag===19)HN(n,r,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Bn(or,i),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)n=r.alternate,n!==null&&Ay(n)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),sw(e,!1,a,r,o);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(n=a.alternate,n!==null&&Ay(n)===null){e.child=a;break}n=a.sibling,a.sibling=r,r=a,a=n}sw(e,!0,r,null,o);break;case"together":sw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qv(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function jl(n,e,r){if(n!==null&&(e.dependencies=n.dependencies),vf|=e.lanes,!(r&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Be(153));if(e.child!==null){for(n=e.child,r=Wu(n,n.pendingProps),e.child=r,r.return=e;n.sibling!==null;)n=n.sibling,r=r.sibling=Wu(n,n.pendingProps),r.return=e;r.sibling=null}return e.child}function eV(n,e,r){switch(e.tag){case 3:Bj(e),zd();break;case 5:hj(e);break;case 1:_a(e.type)&&vy(e);break;case 4:Cx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,a=e.memoizedProps.value;Bn(by,i._currentValue),i._currentValue=a;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Bn(or,or.current&1),e.flags|=128,null):r&e.child.childLanes?Uj(n,e,r):(Bn(or,or.current&1),n=jl(n,e,r),n!==null?n.sibling:null);Bn(or,or.current&1);break;case 19:if(i=(r&e.childLanes)!==0,n.flags&128){if(i)return $j(n,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Bn(or,or.current),i)break;return null;case 22:case 23:return e.lanes=0,Mj(n,e,r)}return jl(n,e,r)}var Vj,i5,zj,qj;Vj=function(n,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};i5=function(){};zj=function(n,e,r,i){var a=n.memoizedProps;if(a!==i){n=e.stateNode,Xc(Bs.current);var o=null;switch(r){case"input":a=Pb(n,a),i=Pb(n,i),o=[];break;case"select":a=lr({},a,{value:void 0}),i=lr({},i,{value:void 0}),o=[];break;case"textarea":a=Tb(n,a),i=Tb(n,i),o=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=my)}Ib(r,i);var s;r=null;for(c in a)if(!i.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var l=a[c];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(em.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var u=i[c];if(l=a!=null?a[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(r||(r={}),r[s]=u[s])}else r||(o||(o=[]),o.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(em.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&qn("scroll",n),o||l===u||(o=[])):(o=o||[]).push(c,u))}r&&(o=o||[]).push("style",r);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};qj=function(n,e,r,i){r!==i&&(e.flags|=4)};function sp(n,e){if(!tr)switch(n.tailMode){case"hidden":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Oi(n){var e=n.alternate!==null&&n.alternate.child===n.child,r=0,i=0;if(e)for(var a=n.child;a!==null;)r|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=n,a=a.sibling;else for(a=n.child;a!==null;)r|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=n,a=a.sibling;return n.subtreeFlags|=i,n.childLanes=r,e}function tV(n,e,r){var i=e.pendingProps;switch(Ax(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(e),null;case 1:return _a(e.type)&&gy(),Oi(e),null;case 3:return i=e.stateNode,Wd(),Gn(ba),Gn(Wi),Ox(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Jg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qo!==null&&(d5(Qo),Qo=null))),i5(n,e),Oi(e),null;case 5:Ix(e);var a=Xc(dm.current);if(r=e.type,n!==null&&e.stateNode!=null)zj(n,e,r,i,a),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Be(166));return Oi(e),null}if(n=Xc(Bs.current),Jg(e)){i=e.stateNode,r=e.type;var o=e.memoizedProps;switch(i[Ls]=e,i[cm]=o,n=(e.mode&1)!==0,r){case"dialog":qn("cancel",i),qn("close",i);break;case"iframe":case"object":case"embed":qn("load",i);break;case"video":case"audio":for(a=0;a<Ep.length;a++)qn(Ep[a],i);break;case"source":qn("error",i);break;case"img":case"image":case"link":qn("error",i),qn("load",i);break;case"details":qn("toggle",i);break;case"input":tN(i,o),qn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},qn("invalid",i);break;case"textarea":rN(i,o),qn("invalid",i)}Ib(r,o),a=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?i.textContent!==l&&(o.suppressHydrationWarning!==!0&&Zg(i.textContent,l,n),a=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Zg(i.textContent,l,n),a=["children",""+l]):em.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&qn("scroll",i)}switch(r){case"input":qg(i),nN(i,o,!0);break;case"textarea":qg(i),iN(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=my)}i=a,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=yO(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=s.createElement(r,{is:i.is}):(n=s.createElement(r),r==="select"&&(s=n,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):n=s.createElementNS(n,r),n[Ls]=e,n[cm]=i,Vj(n,e,!1,!1),e.stateNode=n;e:{switch(s=Ob(r,i),r){case"dialog":qn("cancel",n),qn("close",n),a=i;break;case"iframe":case"object":case"embed":qn("load",n),a=i;break;case"video":case"audio":for(a=0;a<Ep.length;a++)qn(Ep[a],n);a=i;break;case"source":qn("error",n),a=i;break;case"img":case"image":case"link":qn("error",n),qn("load",n),a=i;break;case"details":qn("toggle",n),a=i;break;case"input":tN(n,i),a=Pb(n,i),qn("invalid",n);break;case"option":a=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},a=lr({},i,{value:void 0}),qn("invalid",n);break;case"textarea":rN(n,i),a=Tb(n,i),qn("invalid",n);break;default:a=i}Ib(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?_O(n,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&wO(n,u)):o==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&tm(n,u):typeof u=="number"&&tm(n,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(em.hasOwnProperty(o)?u!=null&&o==="onScroll"&&qn("scroll",n):u!=null&&lx(n,o,u,s))}switch(r){case"input":qg(n),nN(n,i,!1);break;case"textarea":qg(n),iN(n);break;case"option":i.value!=null&&n.setAttribute("value",""+nc(i.value));break;case"select":n.multiple=!!i.multiple,o=i.value,o!=null?Nd(n,!!i.multiple,o,!1):i.defaultValue!=null&&Nd(n,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(n.onclick=my)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oi(e),null;case 6:if(n&&e.stateNode!=null)qj(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Be(166));if(r=Xc(dm.current),Xc(Bs.current),Jg(e)){if(i=e.stateNode,r=e.memoizedProps,i[Ls]=e,(o=i.nodeValue!==r)&&(n=Za,n!==null))switch(n.tag){case 3:Zg(i.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Zg(i.nodeValue,r,(n.mode&1)!==0)}o&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Ls]=e,e.stateNode=i}return Oi(e),null;case 13:if(Gn(or),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(tr&&Ga!==null&&e.mode&1&&!(e.flags&128))lj(),zd(),e.flags|=98560,o=!1;else if(o=Jg(e),i!==null&&i.dehydrated!==null){if(n===null){if(!o)throw Error(Be(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Be(317));o[Ls]=e}else zd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oi(e),o=!1}else Qo!==null&&(d5(Qo),Qo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||or.current&1?Gr===0&&(Gr=3):qx())),e.updateQueue!==null&&(e.flags|=4),Oi(e),null);case 4:return Wd(),i5(n,e),n===null&&lm(e.stateNode.containerInfo),Oi(e),null;case 10:return Nx(e.type._context),Oi(e),null;case 17:return _a(e.type)&&gy(),Oi(e),null;case 19:if(Gn(or),o=e.memoizedState,o===null)return Oi(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)sp(o,!1);else{if(Gr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=Ay(n),s!==null){for(e.flags|=128,sp(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)o=r,n=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return Bn(or,or.current&1|2),e.child}n=n.sibling}o.tail!==null&&Cr()>Kd&&(e.flags|=128,i=!0,sp(o,!1),e.lanes=4194304)}else{if(!i)if(n=Ay(s),n!==null){if(e.flags|=128,i=!0,r=n.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),sp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!tr)return Oi(e),null}else 2*Cr()-o.renderingStartTime>Kd&&r!==1073741824&&(e.flags|=128,i=!0,sp(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(r=o.last,r!==null?r.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Cr(),e.sibling=null,r=or.current,Bn(or,i?r&1|2:r&1),e):(Oi(e),null);case 22:case 23:return zx(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?qa&1073741824&&(Oi(e),e.subtreeFlags&6&&(e.flags|=8192)):Oi(e),null;case 24:return null;case 25:return null}throw Error(Be(156,e.tag))}function nV(n,e){switch(Ax(e),e.tag){case 1:return _a(e.type)&&gy(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Wd(),Gn(ba),Gn(Wi),Ox(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Ix(e),null;case 13:if(Gn(or),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Be(340));zd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Gn(or),null;case 4:return Wd(),null;case 10:return Nx(e.type._context),null;case 22:case 23:return zx(),null;case 24:return null;default:return null}}var nv=!1,Ui=!1,rV=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function _d(n,e){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){gr(n,e,i)}else r.current=null}function a5(n,e,r){try{r()}catch(i){gr(n,e,i)}}var KN=!1;function iV(n,e){if(Vb=dy,n=YO(),_x(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,l=-1,u=-1,c=0,f=0,d=n,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(l=s+a),d!==o||i!==0&&d.nodeType!==3||(u=s+i),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===n)break t;if(h===r&&++c===a&&(l=s),h===o&&++f===i&&(u=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(zb={focusedElem:n,selectionRange:r},dy=!1,Ge=e;Ge!==null;)if(e=Ge,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ge=n;else for(;Ge!==null;){e=Ge;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,b=e.stateNode,S=b.getSnapshotBeforeUpdate(e.elementType===e.type?w:Yo(e.type,w),_);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(T){gr(e,e.return,T)}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}return y=KN,KN=!1,y}function Bp(n,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var o=a.destroy;a.destroy=void 0,o!==void 0&&a5(e,r,o)}a=a.next}while(a!==i)}}function W0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&n)===n){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function o5(n){var e=n.ref;if(e!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof e=="function"?e(n):e.current=n}}function Wj(n){var e=n.alternate;e!==null&&(n.alternate=null,Wj(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ls],delete e[cm],delete e[Hb],delete e[U$],delete e[$$])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Hj(n){return n.tag===5||n.tag===3||n.tag===4}function GN(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Hj(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function s5(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(n,e):r.insertBefore(n,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(n,r)):(e=r,e.appendChild(n)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=my));else if(i!==4&&(n=n.child,n!==null))for(s5(n,e,r),n=n.sibling;n!==null;)s5(n,e,r),n=n.sibling}function l5(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.insertBefore(n,e):r.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(l5(n,e,r),n=n.sibling;n!==null;)l5(n,e,r),n=n.sibling}var yi=null,Xo=!1;function yu(n,e,r){for(r=r.child;r!==null;)Kj(n,e,r),r=r.sibling}function Kj(n,e,r){if(Fs&&typeof Fs.onCommitFiberUnmount=="function")try{Fs.onCommitFiberUnmount(M0,r)}catch{}switch(r.tag){case 5:Ui||_d(r,e);case 6:var i=yi,a=Xo;yi=null,yu(n,e,r),yi=i,Xo=a,yi!==null&&(Xo?(n=yi,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):yi.removeChild(r.stateNode));break;case 18:yi!==null&&(Xo?(n=yi,r=r.stateNode,n.nodeType===8?ew(n.parentNode,r):n.nodeType===1&&ew(n,r),am(n)):ew(yi,r.stateNode));break;case 4:i=yi,a=Xo,yi=r.stateNode.containerInfo,Xo=!0,yu(n,e,r),yi=i,Xo=a;break;case 0:case 11:case 14:case 15:if(!Ui&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var o=a,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&a5(r,e,s),a=a.next}while(a!==i)}yu(n,e,r);break;case 1:if(!Ui&&(_d(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(l){gr(r,e,l)}yu(n,e,r);break;case 21:yu(n,e,r);break;case 22:r.mode&1?(Ui=(i=Ui)||r.memoizedState!==null,yu(n,e,r),Ui=i):yu(n,e,r);break;default:yu(n,e,r)}}function YN(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new rV),e.forEach(function(i){var a=hV.bind(null,n,i);r.has(i)||(r.add(i),i.then(a,a))})}}function Ko(n,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var a=r[i];try{var o=n,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:yi=l.stateNode,Xo=!1;break e;case 3:yi=l.stateNode.containerInfo,Xo=!0;break e;case 4:yi=l.stateNode.containerInfo,Xo=!0;break e}l=l.return}if(yi===null)throw Error(Be(160));Kj(o,s,a),yi=null,Xo=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(c){gr(a,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Gj(e,n),e=e.sibling}function Gj(n,e){var r=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ko(e,n),Cs(n),i&4){try{Bp(3,n,n.return),W0(3,n)}catch(w){gr(n,n.return,w)}try{Bp(5,n,n.return)}catch(w){gr(n,n.return,w)}}break;case 1:Ko(e,n),Cs(n),i&512&&r!==null&&_d(r,r.return);break;case 5:if(Ko(e,n),Cs(n),i&512&&r!==null&&_d(r,r.return),n.flags&32){var a=n.stateNode;try{tm(a,"")}catch(w){gr(n,n.return,w)}}if(i&4&&(a=n.stateNode,a!=null)){var o=n.memoizedProps,s=r!==null?r.memoizedProps:o,l=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&gO(a,o),Ob(l,s);var c=Ob(l,o);for(s=0;s<u.length;s+=2){var f=u[s],d=u[s+1];f==="style"?_O(a,d):f==="dangerouslySetInnerHTML"?wO(a,d):f==="children"?tm(a,d):lx(a,f,d,c)}switch(l){case"input":Nb(a,o);break;case"textarea":vO(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Nd(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Nd(a,!!o.multiple,o.defaultValue,!0):Nd(a,!!o.multiple,o.multiple?[]:"",!1))}a[cm]=o}catch(w){gr(n,n.return,w)}}break;case 6:if(Ko(e,n),Cs(n),i&4){if(n.stateNode===null)throw Error(Be(162));a=n.stateNode,o=n.memoizedProps;try{a.nodeValue=o}catch(w){gr(n,n.return,w)}}break;case 3:if(Ko(e,n),Cs(n),i&4&&r!==null&&r.memoizedState.isDehydrated)try{am(e.containerInfo)}catch(w){gr(n,n.return,w)}break;case 4:Ko(e,n),Cs(n);break;case 13:Ko(e,n),Cs(n),a=n.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||($x=Cr())),i&4&&YN(n);break;case 22:if(f=r!==null&&r.memoizedState!==null,n.mode&1?(Ui=(c=Ui)||f,Ko(e,n),Ui=c):Ko(e,n),Cs(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!f&&n.mode&1)for(Ge=n,f=n.child;f!==null;){for(d=Ge=f;Ge!==null;){switch(h=Ge,p=h.child,h.tag){case 0:case 11:case 14:case 15:Bp(4,h,h.return);break;case 1:_d(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){i=h,r=h.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){gr(i,r,w)}}break;case 5:_d(h,h.return);break;case 22:if(h.memoizedState!==null){QN(d);continue}}p!==null?(p.return=h,Ge=p):QN(d)}f=f.sibling}e:for(f=null,d=n;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,u=d.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=bO("display",s))}catch(w){gr(n,n.return,w)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){gr(n,n.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ko(e,n),Cs(n),i&4&&YN(n);break;case 21:break;default:Ko(e,n),Cs(n)}}function Cs(n){var e=n.flags;if(e&2){try{e:{for(var r=n.return;r!==null;){if(Hj(r)){var i=r;break e}r=r.return}throw Error(Be(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(tm(a,""),i.flags&=-33);var o=GN(n);l5(n,o,a);break;case 3:case 4:var s=i.stateNode.containerInfo,l=GN(n);s5(n,l,s);break;default:throw Error(Be(161))}}catch(u){gr(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function aV(n,e,r){Ge=n,Yj(n)}function Yj(n,e,r){for(var i=(n.mode&1)!==0;Ge!==null;){var a=Ge,o=a.child;if(a.tag===22&&i){var s=a.memoizedState!==null||nv;if(!s){var l=a.alternate,u=l!==null&&l.memoizedState!==null||Ui;l=nv;var c=Ui;if(nv=s,(Ui=u)&&!c)for(Ge=a;Ge!==null;)s=Ge,u=s.child,s.tag===22&&s.memoizedState!==null?ZN(a):u!==null?(u.return=s,Ge=u):ZN(a);for(;o!==null;)Ge=o,Yj(o),o=o.sibling;Ge=a,nv=l,Ui=c}XN(n)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Ge=o):XN(n)}}function XN(n){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ui||W0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ui)if(r===null)i.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:Yo(e.type,r.memoizedProps);i.componentDidUpdate(a,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&LN(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}LN(e,s,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&am(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}Ui||e.flags&512&&o5(e)}catch(h){gr(e,e.return,h)}}if(e===n){Ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ge=r;break}Ge=e.return}}function QN(n){for(;Ge!==null;){var e=Ge;if(e===n){Ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ge=r;break}Ge=e.return}}function ZN(n){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{W0(4,e)}catch(u){gr(e,r,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var a=e.return;try{i.componentDidMount()}catch(u){gr(e,a,u)}}var o=e.return;try{o5(e)}catch(u){gr(e,o,u)}break;case 5:var s=e.return;try{o5(e)}catch(u){gr(e,s,u)}}}catch(u){gr(e,e.return,u)}if(e===n){Ge=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ge=l;break}Ge=e.return}}var oV=Math.ceil,Py=Kl.ReactCurrentDispatcher,Bx=Kl.ReactCurrentOwner,ko=Kl.ReactCurrentBatchConfig,on=0,ci=null,Br=null,xi=0,qa=0,xd=mc(0),Gr=0,gm=null,vf=0,H0=0,Ux=0,Up=null,ga=null,$x=0,Kd=1/0,gl=null,Ny=!1,u5=null,zu=null,rv=!1,ju=null,ky=0,$p=0,c5=null,Wv=-1,Hv=0;function ra(){return on&6?Cr():Wv!==-1?Wv:Wv=Cr()}function qu(n){return n.mode&1?on&2&&xi!==0?xi&-xi:z$.transition!==null?(Hv===0&&(Hv=jO()),Hv):(n=En,n!==0||(n=window.event,n=n===void 0?16:UO(n.type)),n):1}function rs(n,e,r,i){if(50<$p)throw $p=0,c5=null,Error(Be(185));Gm(n,r,i),(!(on&2)||n!==ci)&&(n===ci&&(!(on&2)&&(H0|=r),Gr===4&&Tu(n,xi)),xa(n,i),r===1&&on===0&&!(e.mode&1)&&(Kd=Cr()+500,V0&&gc()))}function xa(n,e){var r=n.callbackNode;zU(n,e);var i=fy(n,n===ci?xi:0);if(i===0)r!==null&&sN(r),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(r!=null&&sN(r),e===1)n.tag===0?V$(JN.bind(null,n)):aj(JN.bind(null,n)),F$(function(){!(on&6)&&gc()}),r=null;else{switch(LO(i)){case 1:r=hx;break;case 4:r=IO;break;case 16:r=cy;break;case 536870912:r=OO;break;default:r=cy}r=r6(r,Xj.bind(null,n))}n.callbackPriority=e,n.callbackNode=r}}function Xj(n,e){if(Wv=-1,Hv=0,on&6)throw Error(Be(327));var r=n.callbackNode;if(Od()&&n.callbackNode!==r)return null;var i=fy(n,n===ci?xi:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Ty(n,i);else{e=i;var a=on;on|=2;var o=Zj();(ci!==n||xi!==e)&&(gl=null,Kd=Cr()+500,rf(n,e));do try{uV();break}catch(l){Qj(n,l)}while(!0);Px(),Py.current=o,on=a,Br!==null?e=0:(ci=null,xi=0,e=Gr)}if(e!==0){if(e===2&&(a=Mb(n),a!==0&&(i=a,e=f5(n,a))),e===1)throw r=gm,rf(n,0),Tu(n,i),xa(n,Cr()),r;if(e===6)Tu(n,i);else{if(a=n.current.alternate,!(i&30)&&!sV(a)&&(e=Ty(n,i),e===2&&(o=Mb(n),o!==0&&(i=o,e=f5(n,o))),e===1))throw r=gm,rf(n,0),Tu(n,i),xa(n,Cr()),r;switch(n.finishedWork=a,n.finishedLanes=i,e){case 0:case 1:throw Error(Be(345));case 2:$c(n,ga,gl);break;case 3:if(Tu(n,i),(i&130023424)===i&&(e=$x+500-Cr(),10<e)){if(fy(n,0)!==0)break;if(a=n.suspendedLanes,(a&i)!==i){ra(),n.pingedLanes|=n.suspendedLanes&a;break}n.timeoutHandle=Wb($c.bind(null,n,ga,gl),e);break}$c(n,ga,gl);break;case 4:if(Tu(n,i),(i&4194240)===i)break;for(e=n.eventTimes,a=-1;0<i;){var s=31-ns(i);o=1<<s,s=e[s],s>a&&(a=s),i&=~o}if(i=a,i=Cr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*oV(i/1960))-i,10<i){n.timeoutHandle=Wb($c.bind(null,n,ga,gl),i);break}$c(n,ga,gl);break;case 5:$c(n,ga,gl);break;default:throw Error(Be(329))}}}return xa(n,Cr()),n.callbackNode===r?Xj.bind(null,n):null}function f5(n,e){var r=Up;return n.current.memoizedState.isDehydrated&&(rf(n,e).flags|=256),n=Ty(n,e),n!==2&&(e=ga,ga=r,e!==null&&d5(e)),n}function d5(n){ga===null?ga=n:ga.push.apply(ga,n)}function sV(n){for(var e=n;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var a=r[i],o=a.getSnapshot;a=a.value;try{if(!is(o(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tu(n,e){for(e&=~Ux,e&=~H0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var r=31-ns(e),i=1<<r;n[r]=-1,e&=~i}}function JN(n){if(on&6)throw Error(Be(327));Od();var e=fy(n,0);if(!(e&1))return xa(n,Cr()),null;var r=Ty(n,e);if(n.tag!==0&&r===2){var i=Mb(n);i!==0&&(e=i,r=f5(n,i))}if(r===1)throw r=gm,rf(n,0),Tu(n,e),xa(n,Cr()),r;if(r===6)throw Error(Be(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,$c(n,ga,gl),xa(n,Cr()),null}function Vx(n,e){var r=on;on|=1;try{return n(e)}finally{on=r,on===0&&(Kd=Cr()+500,V0&&gc())}}function yf(n){ju!==null&&ju.tag===0&&!(on&6)&&Od();var e=on;on|=1;var r=ko.transition,i=En;try{if(ko.transition=null,En=1,n)return n()}finally{En=i,ko.transition=r,on=e,!(on&6)&&gc()}}function zx(){qa=xd.current,Gn(xd)}function rf(n,e){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,M$(r)),Br!==null)for(r=Br.return;r!==null;){var i=r;switch(Ax(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&gy();break;case 3:Wd(),Gn(ba),Gn(Wi),Ox();break;case 5:Ix(i);break;case 4:Wd();break;case 13:Gn(or);break;case 19:Gn(or);break;case 10:Nx(i.type._context);break;case 22:case 23:zx()}r=r.return}if(ci=n,Br=n=Wu(n.current,null),xi=qa=e,Gr=0,gm=null,Ux=H0=vf=0,ga=Up=null,Yc!==null){for(e=0;e<Yc.length;e++)if(r=Yc[e],i=r.interleaved,i!==null){r.interleaved=null;var a=i.next,o=r.pending;if(o!==null){var s=o.next;o.next=a,i.next=s}r.pending=i}Yc=null}return n}function Qj(n,e){do{var r=Br;try{if(Px(),Vv.current=Ey,Sy){for(var i=sr.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Sy=!1}if(gf=0,si=Kr=sr=null,Fp=!1,hm=0,Bx.current=null,r===null||r.return===null){Gr=1,gm=e,Br=null;break}e:{var o=n,s=r.return,l=r,u=e;if(e=xi,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=UN(s);if(p!==null){p.flags&=-257,$N(p,s,l,o,e),p.mode&1&&BN(o,c,e),e=p,u=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(u),e.updateQueue=w}else y.add(u);break e}else{if(!(e&1)){BN(o,c,e),qx();break e}u=Error(Be(426))}}else if(tr&&l.mode&1){var _=UN(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),$N(_,s,l,o,e),Sx(Hd(u,l));break e}}o=u=Hd(u,l),Gr!==4&&(Gr=2),Up===null?Up=[o]:Up.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=Lj(o,u,e);jN(o,b);break e;case 1:l=u;var S=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(zu===null||!zu.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=Dj(o,l,e);jN(o,T);break e}}o=o.return}while(o!==null)}e6(r)}catch(B){e=B,Br===r&&r!==null&&(Br=r=r.return);continue}break}while(!0)}function Zj(){var n=Py.current;return Py.current=Ey,n===null?Ey:n}function qx(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),ci===null||!(vf&268435455)&&!(H0&268435455)||Tu(ci,xi)}function Ty(n,e){var r=on;on|=2;var i=Zj();(ci!==n||xi!==e)&&(gl=null,rf(n,e));do try{lV();break}catch(a){Qj(n,a)}while(!0);if(Px(),on=r,Py.current=i,Br!==null)throw Error(Be(261));return ci=null,xi=0,Gr}function lV(){for(;Br!==null;)Jj(Br)}function uV(){for(;Br!==null&&!LU();)Jj(Br)}function Jj(n){var e=n6(n.alternate,n,qa);n.memoizedProps=n.pendingProps,e===null?e6(n):Br=e,Bx.current=null}function e6(n){var e=n;do{var r=e.alternate;if(n=e.return,e.flags&32768){if(r=nV(r,e),r!==null){r.flags&=32767,Br=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Gr=6,Br=null;return}}else if(r=tV(r,e,qa),r!==null){Br=r;return}if(e=e.sibling,e!==null){Br=e;return}Br=e=n}while(e!==null);Gr===0&&(Gr=5)}function $c(n,e,r){var i=En,a=ko.transition;try{ko.transition=null,En=1,cV(n,e,r,i)}finally{ko.transition=a,En=i}return null}function cV(n,e,r,i){do Od();while(ju!==null);if(on&6)throw Error(Be(327));r=n.finishedWork;var a=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(Be(177));n.callbackNode=null,n.callbackPriority=0;var o=r.lanes|r.childLanes;if(qU(n,o),n===ci&&(Br=ci=null,xi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rv||(rv=!0,r6(cy,function(){return Od(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ko.transition,ko.transition=null;var s=En;En=1;var l=on;on|=4,Bx.current=null,iV(n,r),Gj(r,n),C$(zb),dy=!!Vb,zb=Vb=null,n.current=r,aV(r),DU(),on=l,En=s,ko.transition=o}else n.current=r;if(rv&&(rv=!1,ju=n,ky=a),o=n.pendingLanes,o===0&&(zu=null),FU(r.stateNode),xa(n,Cr()),e!==null)for(i=n.onRecoverableError,r=0;r<e.length;r++)a=e[r],i(a.value,{componentStack:a.stack,digest:a.digest});if(Ny)throw Ny=!1,n=u5,u5=null,n;return ky&1&&n.tag!==0&&Od(),o=n.pendingLanes,o&1?n===c5?$p++:($p=0,c5=n):$p=0,gc(),null}function Od(){if(ju!==null){var n=LO(ky),e=ko.transition,r=En;try{if(ko.transition=null,En=16>n?16:n,ju===null)var i=!1;else{if(n=ju,ju=null,ky=0,on&6)throw Error(Be(331));var a=on;for(on|=4,Ge=n.current;Ge!==null;){var o=Ge,s=o.child;if(Ge.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Ge=c;Ge!==null;){var f=Ge;switch(f.tag){case 0:case 11:case 15:Bp(8,f,o)}var d=f.child;if(d!==null)d.return=f,Ge=d;else for(;Ge!==null;){f=Ge;var h=f.sibling,p=f.return;if(Wj(f),f===c){Ge=null;break}if(h!==null){h.return=p,Ge=h;break}Ge=p}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}Ge=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ge=s;else e:for(;Ge!==null;){if(o=Ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Bp(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,Ge=b;break e}Ge=o.return}}var S=n.current;for(Ge=S;Ge!==null;){s=Ge;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,Ge=A;else e:for(s=S;Ge!==null;){if(l=Ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:W0(9,l)}}catch(B){gr(l,l.return,B)}if(l===s){Ge=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,Ge=T;break e}Ge=l.return}}if(on=a,gc(),Fs&&typeof Fs.onPostCommitFiberRoot=="function")try{Fs.onPostCommitFiberRoot(M0,n)}catch{}i=!0}return i}finally{En=r,ko.transition=e}}return!1}function e4(n,e,r){e=Hd(r,e),e=Lj(n,e,1),n=Vu(n,e,1),e=ra(),n!==null&&(Gm(n,1,e),xa(n,e))}function gr(n,e,r){if(n.tag===3)e4(n,n,r);else for(;e!==null;){if(e.tag===3){e4(e,n,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zu===null||!zu.has(i))){n=Hd(r,n),n=Dj(e,n,1),e=Vu(e,n,1),n=ra(),e!==null&&(Gm(e,1,n),xa(e,n));break}}e=e.return}}function fV(n,e,r){var i=n.pingCache;i!==null&&i.delete(e),e=ra(),n.pingedLanes|=n.suspendedLanes&r,ci===n&&(xi&r)===r&&(Gr===4||Gr===3&&(xi&130023424)===xi&&500>Cr()-$x?rf(n,0):Ux|=r),xa(n,e)}function t6(n,e){e===0&&(n.mode&1?(e=Kg,Kg<<=1,!(Kg&130023424)&&(Kg=4194304)):e=1);var r=ra();n=Ol(n,e),n!==null&&(Gm(n,e,r),xa(n,r))}function dV(n){var e=n.memoizedState,r=0;e!==null&&(r=e.retryLane),t6(n,r)}function hV(n,e){var r=0;switch(n.tag){case 13:var i=n.stateNode,a=n.memoizedState;a!==null&&(r=a.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Be(314))}i!==null&&i.delete(e),t6(n,r)}var n6;n6=function(n,e,r){if(n!==null)if(n.memoizedProps!==e.pendingProps||ba.current)ya=!0;else{if(!(n.lanes&r)&&!(e.flags&128))return ya=!1,eV(n,e,r);ya=!!(n.flags&131072)}else ya=!1,tr&&e.flags&1048576&&oj(e,wy,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;qv(n,e),n=e.pendingProps;var a=Vd(e,Wi.current);Id(e,r),a=Lx(null,e,i,n,a,r);var o=Dx();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_a(i)?(o=!0,vy(e)):o=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Tx(e),a.updater=q0,e.stateNode=a,a._reactInternals=e,Zb(e,i,n,r),e=t5(null,e,i,!0,o,r)):(e.tag=0,tr&&o&&xx(e),ta(null,e,a,r),e=e.child),e;case 16:i=e.elementType;e:{switch(qv(n,e),n=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=mV(i),n=Yo(i,n),a){case 0:e=e5(null,e,i,n,r);break e;case 1:e=qN(null,e,i,n,r);break e;case 11:e=VN(null,e,i,n,r);break e;case 14:e=zN(null,e,i,Yo(i.type,n),r);break e}throw Error(Be(306,i,""))}return e;case 0:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:Yo(i,a),e5(n,e,i,a,r);case 1:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:Yo(i,a),qN(n,e,i,a,r);case 3:e:{if(Bj(e),n===null)throw Error(Be(387));i=e.pendingProps,o=e.memoizedState,a=o.element,dj(n,e),xy(e,i,null,r);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){a=Hd(Error(Be(423)),e),e=WN(n,e,i,r,a);break e}else if(i!==a){a=Hd(Error(Be(424)),e),e=WN(n,e,i,r,a);break e}else for(Ga=$u(e.stateNode.containerInfo.firstChild),Za=e,tr=!0,Qo=null,r=cj(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zd(),i===a){e=jl(n,e,r);break e}ta(n,e,i,r)}e=e.child}return e;case 5:return hj(e),n===null&&Yb(e),i=e.type,a=e.pendingProps,o=n!==null?n.memoizedProps:null,s=a.children,qb(i,a)?s=null:o!==null&&qb(i,o)&&(e.flags|=32),Fj(n,e),ta(n,e,s,r),e.child;case 6:return n===null&&Yb(e),null;case 13:return Uj(n,e,r);case 4:return Cx(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=qd(e,null,i,r):ta(n,e,i,r),e.child;case 11:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:Yo(i,a),VN(n,e,i,a,r);case 7:return ta(n,e,e.pendingProps,r),e.child;case 8:return ta(n,e,e.pendingProps.children,r),e.child;case 12:return ta(n,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,a=e.pendingProps,o=e.memoizedProps,s=a.value,Bn(by,i._currentValue),i._currentValue=s,o!==null)if(is(o.value,s)){if(o.children===a.children&&!ba.current){e=jl(n,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===i){if(o.tag===1){u=Pl(-1,r&-r),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),Xb(o.return,r,e),l.lanes|=r;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Be(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Xb(s,r,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ta(n,e,a.children,r),e=e.child}return e;case 9:return a=e.type,i=e.pendingProps.children,Id(e,r),a=Co(a),i=i(a),e.flags|=1,ta(n,e,i,r),e.child;case 14:return i=e.type,a=Yo(i,e.pendingProps),a=Yo(i.type,a),zN(n,e,i,a,r);case 15:return Rj(n,e,e.type,e.pendingProps,r);case 17:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:Yo(i,a),qv(n,e),e.tag=1,_a(i)?(n=!0,vy(e)):n=!1,Id(e,r),jj(e,i,a),Zb(e,i,a,r),t5(null,e,i,!0,n,r);case 19:return $j(n,e,r);case 22:return Mj(n,e,r)}throw Error(Be(156,e.tag))};function r6(n,e){return CO(n,e)}function pV(n,e,r,i){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Po(n,e,r,i){return new pV(n,e,r,i)}function Wx(n){return n=n.prototype,!(!n||!n.isReactComponent)}function mV(n){if(typeof n=="function")return Wx(n)?1:0;if(n!=null){if(n=n.$$typeof,n===cx)return 11;if(n===fx)return 14}return 2}function Wu(n,e){var r=n.alternate;return r===null?(r=Po(n.tag,e,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=e,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,e=n.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function Kv(n,e,r,i,a,o){var s=2;if(i=n,typeof n=="function")Wx(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case dd:return af(r.children,a,o,e);case ux:s=8,a|=8;break;case xb:return n=Po(12,r,e,a|2),n.elementType=xb,n.lanes=o,n;case Ab:return n=Po(13,r,e,a),n.elementType=Ab,n.lanes=o,n;case Sb:return n=Po(19,r,e,a),n.elementType=Sb,n.lanes=o,n;case hO:return K0(r,a,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case fO:s=10;break e;case dO:s=9;break e;case cx:s=11;break e;case fx:s=14;break e;case Su:s=16,i=null;break e}throw Error(Be(130,n==null?n:typeof n,""))}return e=Po(s,r,e,a),e.elementType=n,e.type=i,e.lanes=o,e}function af(n,e,r,i){return n=Po(7,n,i,e),n.lanes=r,n}function K0(n,e,r,i){return n=Po(22,n,i,e),n.elementType=hO,n.lanes=r,n.stateNode={isHidden:!1},n}function lw(n,e,r){return n=Po(6,n,null,e),n.lanes=r,n}function uw(n,e,r){return e=Po(4,n.children!==null?n.children:[],n.key,e),e.lanes=r,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function gV(n,e,r,i,a){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=z2(0),this.expirationTimes=z2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z2(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Hx(n,e,r,i,a,o,s,l,u){return n=new gV(n,e,r,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Po(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tx(o),n}function vV(n,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fd,key:i==null?null:""+i,children:n,containerInfo:e,implementation:r}}function i6(n){if(!n)return rc;n=n._reactInternals;e:{if(Lf(n)!==n||n.tag!==1)throw Error(Be(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_a(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Be(171))}if(n.tag===1){var r=n.type;if(_a(r))return ij(n,r,e)}return e}function a6(n,e,r,i,a,o,s,l,u){return n=Hx(r,i,!0,n,a,o,s,l,u),n.context=i6(null),r=n.current,i=ra(),a=qu(r),o=Pl(i,a),o.callback=e??null,Vu(r,o,a),n.current.lanes=a,Gm(n,a,i),xa(n,i),n}function G0(n,e,r,i){var a=e.current,o=ra(),s=qu(a);return r=i6(r),e.context===null?e.context=r:e.pendingContext=r,e=Pl(o,s),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Vu(a,e,s),n!==null&&(rs(n,a,s,o),$v(n,a,s)),s}function Cy(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function t4(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<e?r:e}}function Kx(n,e){t4(n,e),(n=n.alternate)&&t4(n,e)}function yV(){return null}var o6=typeof reportError=="function"?reportError:function(n){console.error(n)};function Gx(n){this._internalRoot=n}Y0.prototype.render=Gx.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Be(409));G0(n,e,null,null)};Y0.prototype.unmount=Gx.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;yf(function(){G0(null,n,null,null)}),e[Il]=null}};function Y0(n){this._internalRoot=n}Y0.prototype.unstable_scheduleHydration=function(n){if(n){var e=MO();n={blockedOn:null,target:n,priority:e};for(var r=0;r<ku.length&&e!==0&&e<ku[r].priority;r++);ku.splice(r,0,n),r===0&&BO(n)}};function Yx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function X0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function n4(){}function wV(n,e,r,i,a){if(a){if(typeof i=="function"){var o=i;i=function(){var c=Cy(s);o.call(c)}}var s=a6(e,i,n,0,null,!1,!1,"",n4);return n._reactRootContainer=s,n[Il]=s.current,lm(n.nodeType===8?n.parentNode:n),yf(),s}for(;a=n.lastChild;)n.removeChild(a);if(typeof i=="function"){var l=i;i=function(){var c=Cy(u);l.call(c)}}var u=Hx(n,0,!1,null,null,!1,!1,"",n4);return n._reactRootContainer=u,n[Il]=u.current,lm(n.nodeType===8?n.parentNode:n),yf(function(){G0(e,u,r,i)}),u}function Q0(n,e,r,i,a){var o=r._reactRootContainer;if(o){var s=o;if(typeof a=="function"){var l=a;a=function(){var u=Cy(s);l.call(u)}}G0(e,s,n,a)}else s=wV(r,e,n,a,i);return Cy(s)}DO=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var r=Sp(e.pendingLanes);r!==0&&(px(e,r|1),xa(e,Cr()),!(on&6)&&(Kd=Cr()+500,gc()))}break;case 13:yf(function(){var i=Ol(n,1);if(i!==null){var a=ra();rs(i,n,1,a)}}),Kx(n,1)}};mx=function(n){if(n.tag===13){var e=Ol(n,134217728);if(e!==null){var r=ra();rs(e,n,134217728,r)}Kx(n,134217728)}};RO=function(n){if(n.tag===13){var e=qu(n),r=Ol(n,e);if(r!==null){var i=ra();rs(r,n,e,i)}Kx(n,e)}};MO=function(){return En};FO=function(n,e){var r=En;try{return En=n,e()}finally{En=r}};Lb=function(n,e,r){switch(e){case"input":if(Nb(n,r),e=r.name,r.type==="radio"&&e!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==n&&i.form===n.form){var a=$0(i);if(!a)throw Error(Be(90));mO(i),Nb(i,a)}}}break;case"textarea":vO(n,r);break;case"select":e=r.value,e!=null&&Nd(n,!!r.multiple,e,!1)}};SO=Vx;EO=yf;var bV={usingClientEntryPoint:!1,Events:[Xm,gd,$0,xO,AO,Vx]},lp={findFiberByHostInstance:Gc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_V={bundleType:lp.bundleType,version:lp.version,rendererPackageName:lp.rendererPackageName,rendererConfig:lp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=kO(n),n===null?null:n.stateNode},findFiberByHostInstance:lp.findFiberByHostInstance||yV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iv.isDisabled&&iv.supportsFiber)try{M0=iv.inject(_V),Fs=iv}catch{}}oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bV;oo.createPortal=function(n,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yx(e))throw Error(Be(200));return vV(n,e,null,r)};oo.createRoot=function(n,e){if(!Yx(n))throw Error(Be(299));var r=!1,i="",a=o6;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Hx(n,1,!1,null,null,r,!1,i,a),n[Il]=e.current,lm(n.nodeType===8?n.parentNode:n),new Gx(e)};oo.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Be(188)):(n=Object.keys(n).join(","),Error(Be(268,n)));return n=kO(e),n=n===null?null:n.stateNode,n};oo.flushSync=function(n){return yf(n)};oo.hydrate=function(n,e,r){if(!X0(e))throw Error(Be(200));return Q0(null,n,e,!0,r)};oo.hydrateRoot=function(n,e,r){if(!Yx(n))throw Error(Be(405));var i=r!=null&&r.hydratedSources||null,a=!1,o="",s=o6;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=a6(e,null,n,1,r??null,a,!1,o,s),n[Il]=e.current,lm(n),i)for(n=0;n<i.length;n++)r=i[n],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Y0(e)};oo.render=function(n,e,r){if(!X0(e))throw Error(Be(200));return Q0(null,n,e,!1,r)};oo.unmountComponentAtNode=function(n){if(!X0(n))throw Error(Be(40));return n._reactRootContainer?(yf(function(){Q0(null,null,n,!1,function(){n._reactRootContainer=null,n[Il]=null})}),!0):!1};oo.unstable_batchedUpdates=Vx;oo.unstable_renderSubtreeIntoContainer=function(n,e,r,i){if(!X0(r))throw Error(Be(200));if(n==null||n._reactInternals===void 0)throw Error(Be(38));return Q0(n,e,r,!1,i)};oo.version="18.3.1-next-f1338f8080-20240426";function s6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s6)}catch(n){console.error(n)}}s6(),sO.exports=oo;var Zm=sO.exports,l6,r4=Zm;l6=r4.createRoot,r4.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vm(){return vm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},vm.apply(this,arguments)}var Lu;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Lu||(Lu={}));const i4="popstate";function xV(n){n===void 0&&(n={});function e(i,a){let{pathname:o,search:s,hash:l}=i.location;return h5("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:c6(a)}return SV(e,r,null,n)}function Yr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function u6(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AV(){return Math.random().toString(36).substr(2,8)}function a4(n,e){return{usr:n.state,key:n.key,idx:e}}function h5(n,e,r,i){return r===void 0&&(r=null),vm({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?bh(e):e,{state:r,key:e&&e.key||i||AV()})}function c6(n){let{pathname:e="/",search:r="",hash:i=""}=n;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function bh(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substr(r),n=n.substr(0,r));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function SV(n,e,r,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,s=a.history,l=Lu.Pop,u=null,c=f();c==null&&(c=0,s.replaceState(vm({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function d(){l=Lu.Pop;let _=f(),b=_==null?null:_-c;c=_,u&&u({action:l,location:w.location,delta:b})}function h(_,b){l=Lu.Push;let S=h5(w.location,_,b);c=f()+1;let A=a4(S,c),T=w.createHref(S);try{s.pushState(A,"",T)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;a.location.assign(T)}o&&u&&u({action:l,location:w.location,delta:1})}function p(_,b){l=Lu.Replace;let S=h5(w.location,_,b);c=f();let A=a4(S,c),T=w.createHref(S);s.replaceState(A,"",T),o&&u&&u({action:l,location:w.location,delta:0})}function y(_){let b=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof _=="string"?_:c6(_);return S=S.replace(/ $/,"%20"),Yr(b,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,b)}let w={get action(){return l},get location(){return n(a,s)},listen(_){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(i4,d),u=_,()=>{a.removeEventListener(i4,d),u=null}},createHref(_){return e(a,_)},createURL:y,encodeLocation(_){let b=y(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(_){return s.go(_)}};return w}var o4;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(o4||(o4={}));function EV(n,e,r){return r===void 0&&(r="/"),PV(n,e,r)}function PV(n,e,r,i){let a=typeof e=="string"?bh(e):e,o=h6(a.pathname||"/",r);if(o==null)return null;let s=f6(n);NV(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=BV(o);l=RV(s[u],c)}return l}function f6(n,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let a=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Yr(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let c=of([i,u.relativePath]),f=r.concat(u);o.children&&o.children.length>0&&(Yr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),f6(o.children,e,f,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:LV(c,o.index),routesMeta:f})};return n.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,s);else for(let u of d6(o.path))a(o,s,u)}),e}function d6(n){let e=n.split("/");if(e.length===0)return[];let[r,...i]=e,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let s=d6(i.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),a&&l.push(...s),l.map(u=>n.startsWith("/")&&u===""?"/":u)}function NV(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:DV(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const kV=/^:[\w-]+$/,TV=3,CV=2,IV=1,OV=10,jV=-2,s4=n=>n==="*";function LV(n,e){let r=n.split("/"),i=r.length;return r.some(s4)&&(i+=jV),e&&(i+=CV),r.filter(a=>!s4(a)).reduce((a,o)=>a+(kV.test(o)?TV:o===""?IV:OV),i)}function DV(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function RV(n,e,r){let{routesMeta:i}=n,a={},o="/",s=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=o==="/"?e:e.slice(o.length)||"/",d=MV({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),h=u.route;if(!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:of([o,d.pathname]),pathnameBase:WV(of([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=of([o,d.pathnameBase]))}return s}function MV(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,i]=FV(n.path,n.caseSensitive,n.end),a=e.match(r);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:i.reduce((c,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let w=l[d]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[d];return p&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:n}}function FV(n,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),u6(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function BV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return u6(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function h6(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=n.charAt(r);return i&&i!=="/"?null:n.slice(r)||"/"}function UV(n,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:a=""}=typeof n=="string"?bh(n):n;return{pathname:r?r.startsWith("/")?r:$V(r,e):e,search:HV(i),hash:KV(a)}}function $V(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function cw(n,e,r,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VV(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function zV(n,e){let r=VV(n);return e?r.map((i,a)=>a===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function qV(n,e,r,i){i===void 0&&(i=!1);let a;typeof n=="string"?a=bh(n):(a=vm({},n),Yr(!a.pathname||!a.pathname.includes("?"),cw("?","pathname","search",a)),Yr(!a.pathname||!a.pathname.includes("#"),cw("#","pathname","hash",a)),Yr(!a.search||!a.search.includes("#"),cw("#","search","hash",a)));let o=n===""||a.pathname==="",s=o?"/":a.pathname,l;if(s==null)l=r;else{let d=e.length-1;if(!i&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}l=d>=0?e[d]:"/"}let u=UV(a,l),c=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const of=n=>n.join("/").replace(/\/\/+/g,"/"),WV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,KV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function GV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const p6=["post","put","patch","delete"];new Set(p6);const YV=["get",...p6];new Set(YV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ym(){return ym=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},ym.apply(this,arguments)}const Xx=C.createContext(null),XV=C.createContext(null),Z0=C.createContext(null),J0=C.createContext(null),_h=C.createContext({outlet:null,matches:[],isDataRoute:!1}),m6=C.createContext(null);function e1(){return C.useContext(J0)!=null}function t1(){return e1()||Yr(!1),C.useContext(J0).location}function g6(n){C.useContext(Z0).static||C.useLayoutEffect(n)}function Df(){let{isDataRoute:n}=C.useContext(_h);return n?uz():QV()}function QV(){e1()||Yr(!1);let n=C.useContext(Xx),{basename:e,future:r,navigator:i}=C.useContext(Z0),{matches:a}=C.useContext(_h),{pathname:o}=t1(),s=JSON.stringify(zV(a,r.v7_relativeSplatPath)),l=C.useRef(!1);return g6(()=>{l.current=!0}),C.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){i.go(c);return}let d=qV(c,JSON.parse(s),o,f.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:of([e,d.pathname])),(f.replace?i.replace:i.push)(d,f.state,f)},[e,i,s,o,n])}function ZV(n,e){return JV(n,e)}function JV(n,e,r,i){e1()||Yr(!1);let{navigator:a}=C.useContext(Z0),{matches:o}=C.useContext(_h),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=t1(),f;if(e){var d;let _=typeof e=="string"?bh(e):e;u==="/"||(d=_.pathname)!=null&&d.startsWith(u)||Yr(!1),f=_}else f=c;let h=f.pathname||"/",p=h;if(u!=="/"){let _=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=EV(n,{pathname:p}),w=iz(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:of([u,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:of([u,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,r,i);return e&&w?C.createElement(J0.Provider,{value:{location:ym({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Lu.Pop}},w):w}function ez(){let n=lz(),e=GV(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:a},r):null,null)}const tz=C.createElement(ez,null);class nz extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(_h.Provider,{value:this.props.routeContext},C.createElement(m6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rz(n){let{routeContext:e,match:r,children:i}=n,a=C.useContext(Xx);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(_h.Provider,{value:e},i)}function iz(n,e,r,i){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),i===void 0&&(i=null),n==null){var o;if(!r)return null;if(r.errors)n=r.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let s=n,l=(a=r)==null?void 0:a.errors;if(l!=null){let f=s.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||Yr(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,c=-1;if(r&&i&&i.v7_partialHydration)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:h,errors:p}=r,y=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||y){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,d,h)=>{let p,y=!1,w=null,_=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,w=d.route.errorElement||tz,u&&(c<0&&h===0?(cz("route-fallback"),y=!0,_=null):c===h&&(y=!0,_=d.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,h+1)),S=()=>{let A;return p?A=w:y?A=_:d.route.Component?A=C.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=f,C.createElement(rz,{match:d,routeContext:{outlet:f,matches:b,isDataRoute:r!=null},children:A})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?C.createElement(nz,{location:r.location,revalidation:r.revalidation,component:w,error:p,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}var v6=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(v6||{}),y6=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(y6||{});function az(n){let e=C.useContext(Xx);return e||Yr(!1),e}function oz(n){let e=C.useContext(XV);return e||Yr(!1),e}function sz(n){let e=C.useContext(_h);return e||Yr(!1),e}function w6(n){let e=sz(),r=e.matches[e.matches.length-1];return r.route.id||Yr(!1),r.route.id}function lz(){var n;let e=C.useContext(m6),r=oz(),i=w6();return e!==void 0?e:(n=r.errors)==null?void 0:n[i]}function uz(){let{router:n}=az(v6.UseNavigateStable),e=w6(y6.UseNavigateStable),r=C.useRef(!1);return g6(()=>{r.current=!0}),C.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?n.navigate(a):n.navigate(a,ym({fromRouteId:e},o)))},[n,e])}const l4={};function cz(n,e,r){l4[n]||(l4[n]=!0)}function fz(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function ml(n){Yr(!1)}function dz(n){let{basename:e="/",children:r=null,location:i,navigationType:a=Lu.Pop,navigator:o,static:s=!1,future:l}=n;e1()&&Yr(!1);let u=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:u,navigator:o,static:s,future:ym({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof i=="string"&&(i=bh(i));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:y="default"}=i,w=C.useMemo(()=>{let _=h6(f,u);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:y},navigationType:a}},[u,f,d,h,p,y,a]);return w==null?null:C.createElement(Z0.Provider,{value:c},C.createElement(J0.Provider,{children:r,value:w}))}function hz(n){let{children:e,location:r}=n;return ZV(p5(e),r)}new Promise(()=>{});function p5(n,e){e===void 0&&(e=[]);let r=[];return C.Children.forEach(n,(i,a)=>{if(!C.isValidElement(i))return;let o=[...e,a];if(i.type===C.Fragment){r.push.apply(r,p5(i.props.children,o));return}i.type!==ml&&Yr(!1),!i.props.index||!i.props.children||Yr(!1);let s={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=p5(i.props.children,o)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m5(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,r)=>{let i=n[r];return e.concat(Array.isArray(i)?i.map(a=>[r,a]):[[r,i]])},[]))}function pz(n,e){let r=m5(n);return e&&e.forEach((i,a)=>{r.has(a)||e.getAll(a).forEach(o=>{r.append(a,o)})}),r}const mz="6";try{window.__reactRouterVersion=mz}catch{}const gz="startTransition",u4=aO[gz];function vz(n){let{basename:e,children:r,future:i,window:a}=n,o=C.useRef();o.current==null&&(o.current=xV({window:a,v5Compat:!0}));let s=o.current,[l,u]=C.useState({action:s.action,location:s.location}),{v7_startTransition:c}=i||{},f=C.useCallback(d=>{c&&u4?u4(()=>u(d)):u(d)},[u,c]);return C.useLayoutEffect(()=>s.listen(f),[s,f]),C.useEffect(()=>fz(i),[i]),C.createElement(dz,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:s,future:i})}var c4;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(c4||(c4={}));var f4;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(f4||(f4={}));function yz(n){let e=C.useRef(m5(n)),r=C.useRef(!1),i=t1(),a=C.useMemo(()=>pz(i.search,r.current?null:e.current),[i.search]),o=Df(),s=C.useCallback((l,u)=>{const c=m5(typeof l=="function"?l(a):l);r.current=!0,o("?"+c,u)},[o,a]);return[a,s]}const Jm=C.createContext({isCollapsed:!1,setIsCollapsed:()=>{}}),wz=({children:n})=>{const[e,r]=C.useState(!1);return v.jsx(Jm.Provider,{value:{isCollapsed:e,setIsCollapsed:r},children:n})};var vn=(n=>(n.ADMIN="admin",n.COMPANY_USER="company_user",n))(vn||{}),d4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=function(n){const e=[];let r=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},bz=function(n){const e=[];let r=0,i=0;for(;r<n.length;){const a=n[r++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[r++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[r++],s=n[r++],l=n[r++],u=((a&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const o=n[r++],s=n[r++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|s&63)}}return e.join("")},_6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],s=a+1<n.length,l=s?n[a+1]:0,u=a+2<n.length,c=u?n[a+2]:0,f=o>>2,d=(o&3)<<4|l>>4;let h=(l&15)<<2|c>>6,p=c&63;u||(p=64,s||(h=64)),i.push(r[f],r[d],r[h],r[p])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(b6(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bz(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=r[n.charAt(a++)],l=a<n.length?r[n.charAt(a)]:0;++a;const c=a<n.length?r[n.charAt(a)]:64;++a;const d=a<n.length?r[n.charAt(a)]:64;if(++a,o==null||l==null||c==null||d==null)throw new _z;const h=o<<2|l>>4;if(i.push(h),c!==64){const p=l<<4&240|c>>2;if(i.push(p),d!==64){const y=c<<6&192|d;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class _z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xz=function(n){const e=b6(n);return _6.encodeByteArray(e,!0)},Iy=function(n){return xz(n).replace(/\./g,"")},Az=function(n){try{return _6.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=()=>Sz().__FIREBASE_DEFAULTS__,Pz=()=>{if(typeof process>"u"||typeof d4>"u")return;const n=d4.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Nz=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Az(n[1]);return e&&JSON.parse(e)},Qx=()=>{try{return Ez()||Pz()||Nz()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kz=n=>{var e,r;return(r=(e=Qx())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[n]},x6=n=>{const e=kz(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),i]:[e.substring(0,r),i]},A6=()=>{var n;return(n=Qx())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,i)=>{r?this.reject(r):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Iy(JSON.stringify(r)),Iy(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Iz(){var n;const e=(n=Qx())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Oz(){return!Iz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jz(){try{return typeof indexedDB=="object"}catch{return!1}}function Lz(){return new Promise((n,e)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="FirebaseError";class Rf extends Error{constructor(e,r,i){super(r),this.code=e,this.customData=i,this.name=Dz,Object.setPrototypeOf(this,Rf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E6.prototype.create)}}class E6{constructor(e,r,i){this.service=e,this.serviceName=r,this.errors=i}create(e,...r){const i=r[0]||{},a=`${this.service}/${e}`,o=this.errors[e],s=o?Rz(o,i):"Error",l=`${this.serviceName}: ${s} (${a}).`;return new Rf(a,l,i)}}function Rz(n,e){return n.replace(Mz,(r,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Mz=/\{\$([^}]+)}/g;function g5(n,e){if(n===e)return!0;const r=Object.keys(n),i=Object.keys(e);for(const a of r){if(!i.includes(a))return!1;const o=n[a],s=e[a];if(h4(o)&&h4(s)){if(!g5(o,s))return!1}else if(o!==s)return!1}for(const a of i)if(!r.includes(a))return!1;return!0}function h4(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(n){return n&&n._delegate?n._delegate:n}class Gd{constructor(e,r,i){this.name=e,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fz=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const i=new Tz;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Uz(e))try{this.getOrInitializeService({instanceIdentifier:Vc})}catch{}for(const[r,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=Vc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vc){return this.instances.has(e)}getOptions(e=Vc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:r});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);i===l&&s.resolve(a)}return a}onInit(e,r){var i;const a=this.normalizeInstanceIdentifier(r),o=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(a,o);const s=this.instances.get(a);return s&&e(s,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const i=this.onInitCallbacks.get(r);if(i)for(const a of i)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Bz(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Vc){return this.component?this.component.multipleInstances?e:Vc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Bz(n){return n===Vc?void 0:n}function Uz(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Fz(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(an||(an={}));const Vz={debug:an.DEBUG,verbose:an.VERBOSE,info:an.INFO,warn:an.WARN,error:an.ERROR,silent:an.SILENT},zz=an.INFO,qz={[an.DEBUG]:"log",[an.VERBOSE]:"log",[an.INFO]:"info",[an.WARN]:"warn",[an.ERROR]:"error"},Wz=(n,e,...r)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=qz[e];if(a)console[a](`[${i}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P6{constructor(e){this.name=e,this._logLevel=zz,this._logHandler=Wz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in an))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,an.DEBUG,...e),this._logHandler(this,an.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,an.VERBOSE,...e),this._logHandler(this,an.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,an.INFO,...e),this._logHandler(this,an.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,an.WARN,...e),this._logHandler(this,an.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,an.ERROR,...e),this._logHandler(this,an.ERROR,...e)}}const Hz=(n,e)=>e.some(r=>n instanceof r);let p4,m4;function Kz(){return p4||(p4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gz(){return m4||(m4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N6=new WeakMap,v5=new WeakMap,k6=new WeakMap,fw=new WeakMap,Zx=new WeakMap;function Yz(n){const e=new Promise((r,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{r(Hu(n.result)),a()},s=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&N6.set(r,n)}).catch(()=>{}),Zx.set(e,n),e}function Xz(n){if(v5.has(n))return;const e=new Promise((r,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{r(),a()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});v5.set(n,e)}let y5={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return v5.get(n);if(e==="objectStoreNames")return n.objectStoreNames||k6.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Hu(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Qz(n){y5=n(y5)}function Zz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const i=n.call(dw(this),e,...r);return k6.set(i,e.sort?e.sort():[e]),Hu(i)}:Gz().includes(n)?function(...e){return n.apply(dw(this),e),Hu(N6.get(this))}:function(...e){return Hu(n.apply(dw(this),e))}}function Jz(n){return typeof n=="function"?Zz(n):(n instanceof IDBTransaction&&Xz(n),Hz(n,Kz())?new Proxy(n,y5):n)}function Hu(n){if(n instanceof IDBRequest)return Yz(n);if(fw.has(n))return fw.get(n);const e=Jz(n);return e!==n&&(fw.set(n,e),Zx.set(e,n)),e}const dw=n=>Zx.get(n);function eq(n,e,{blocked:r,upgrade:i,blocking:a,terminated:o}={}){const s=indexedDB.open(n,e),l=Hu(s);return i&&s.addEventListener("upgradeneeded",u=>{i(Hu(s.result),u.oldVersion,u.newVersion,Hu(s.transaction),u)}),r&&s.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),a&&u.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const tq=["get","getKey","getAll","getAllKeys","count"],nq=["put","add","delete","clear"],hw=new Map;function g4(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hw.get(e))return hw.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,a=nq.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(a||tq.includes(r)))return;const o=async function(s,...l){const u=this.transaction(s,a?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[r](...l),a&&u.done]))[0]};return hw.set(e,o),o}Qz(n=>({...n,get:(e,r,i)=>g4(e,r)||n.get(e,r,i),has:(e,r)=>!!g4(e,r)||n.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(iq(r)){const i=r.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(r=>r).join(" ")}}function iq(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const w5="@firebase/app",v4="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=new P6("@firebase/app"),aq="@firebase/app-compat",oq="@firebase/analytics-compat",sq="@firebase/analytics",lq="@firebase/app-check-compat",uq="@firebase/app-check",cq="@firebase/auth",fq="@firebase/auth-compat",dq="@firebase/database",hq="@firebase/data-connect",pq="@firebase/database-compat",mq="@firebase/functions",gq="@firebase/functions-compat",vq="@firebase/installations",yq="@firebase/installations-compat",wq="@firebase/messaging",bq="@firebase/messaging-compat",_q="@firebase/performance",xq="@firebase/performance-compat",Aq="@firebase/remote-config",Sq="@firebase/remote-config-compat",Eq="@firebase/storage",Pq="@firebase/storage-compat",Nq="@firebase/firestore",kq="@firebase/vertexai-preview",Tq="@firebase/firestore-compat",Cq="firebase",Iq="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="[DEFAULT]",Oq={[w5]:"fire-core",[aq]:"fire-core-compat",[sq]:"fire-analytics",[oq]:"fire-analytics-compat",[uq]:"fire-app-check",[lq]:"fire-app-check-compat",[cq]:"fire-auth",[fq]:"fire-auth-compat",[dq]:"fire-rtdb",[hq]:"fire-data-connect",[pq]:"fire-rtdb-compat",[mq]:"fire-fn",[gq]:"fire-fn-compat",[vq]:"fire-iid",[yq]:"fire-iid-compat",[wq]:"fire-fcm",[bq]:"fire-fcm-compat",[_q]:"fire-perf",[xq]:"fire-perf-compat",[Aq]:"fire-rc",[Sq]:"fire-rc-compat",[Eq]:"fire-gcs",[Pq]:"fire-gcs-compat",[Nq]:"fire-fst",[Tq]:"fire-fst-compat",[kq]:"fire-vertex","fire-js":"fire-js",[Cq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map,jq=new Map,_5=new Map;function y4(n,e){try{n.container.addComponent(e)}catch(r){Ll.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function wm(n){const e=n.name;if(_5.has(e))return Ll.debug(`There were multiple attempts to register component ${e}.`),!1;_5.set(e,n);for(const r of Oy.values())y4(r,n);for(const r of jq.values())y4(r,n);return!0}function T6(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ku=new E6("app","Firebase",Lq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,r,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ku.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=Iq;function I6(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:b5,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Ku.create("bad-app-name",{appName:String(a)});if(r||(r=A6()),!r)throw Ku.create("no-options");const o=Oy.get(a);if(o){if(g5(r,o.options)&&g5(i,o.config))return o;throw Ku.create("duplicate-app",{appName:a})}const s=new $z(a);for(const u of _5.values())s.addComponent(u);const l=new Dq(r,i,s);return Oy.set(a,l),l}function O6(n=b5){const e=Oy.get(n);if(!e&&n===b5&&A6())return I6();if(!e)throw Ku.create("no-app",{appName:n});return e}function Gu(n,e,r){var i;let a=(i=Oq[n])!==null&&i!==void 0?i:n;r&&(a+=`-${r}`);const o=a.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${a}" with version "${e}":`];o&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ll.warn(l.join(" "));return}wm(new Gd(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq="firebase-heartbeat-database",Mq=1,bm="firebase-heartbeat-store";let pw=null;function j6(){return pw||(pw=eq(Rq,Mq,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bm)}catch(r){console.warn(r)}}}}).catch(n=>{throw Ku.create("idb-open",{originalErrorMessage:n.message})})),pw}async function Fq(n){try{const r=(await j6()).transaction(bm),i=await r.objectStore(bm).get(L6(n));return await r.done,i}catch(e){if(e instanceof Rf)Ll.warn(e.message);else{const r=Ku.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ll.warn(r.message)}}}async function w4(n,e){try{const i=(await j6()).transaction(bm,"readwrite");await i.objectStore(bm).put(e,L6(n)),await i.done}catch(r){if(r instanceof Rf)Ll.warn(r.message);else{const i=Ku.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ll.warn(i.message)}}}function L6(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=1024,Uq=30*24*60*60*1e3;class $q{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new zq(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=b4();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=Uq}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ll.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=b4(),{heartbeatsToSend:i,unsentEntries:a}=Vq(this._heartbeatsCache.heartbeats),o=Iy(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return Ll.warn(r),""}}}function b4(){return new Date().toISOString().substring(0,10)}function Vq(n,e=Bq){const r=[];let i=n.slice();for(const a of n){const o=r.find(s=>s.agent===a.agent);if(o){if(o.dates.push(a.date),_4(r)>e){o.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),_4(r)>e){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class zq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jz()?Lz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Fq(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return w4(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return w4(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function _4(n){return Iy(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(n){wm(new Gd("platform-logger",e=>new rq(e),"PRIVATE")),wm(new Gd("heartbeat",e=>new $q(e),"PRIVATE")),Gu(w5,v4,n),Gu(w5,v4,"esm2017"),Gu("fire-js","")}qq("");var Wq="firebase",Hq="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gu(Wq,Hq,"app");var x4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sf,D6;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,I){function O(){}O.prototype=I.prototype,L.D=I.prototype,L.prototype=new O,L.prototype.constructor=L,L.C=function(U,k,R){for(var j=Array(arguments.length-2),H=2;H<arguments.length;H++)j[H-2]=arguments[H];return I.prototype[k].apply(U,j)}}function r(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,r),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(L,I,O){O||(O=0);var U=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)U[k]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(k=0;16>k;++k)U[k]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=L.g[0],O=L.g[1],k=L.g[2];var R=L.g[3],j=I+(R^O&(k^R))+U[0]+3614090360&4294967295;I=O+(j<<7&4294967295|j>>>25),j=R+(k^I&(O^k))+U[1]+3905402710&4294967295,R=I+(j<<12&4294967295|j>>>20),j=k+(O^R&(I^O))+U[2]+606105819&4294967295,k=R+(j<<17&4294967295|j>>>15),j=O+(I^k&(R^I))+U[3]+3250441966&4294967295,O=k+(j<<22&4294967295|j>>>10),j=I+(R^O&(k^R))+U[4]+4118548399&4294967295,I=O+(j<<7&4294967295|j>>>25),j=R+(k^I&(O^k))+U[5]+1200080426&4294967295,R=I+(j<<12&4294967295|j>>>20),j=k+(O^R&(I^O))+U[6]+2821735955&4294967295,k=R+(j<<17&4294967295|j>>>15),j=O+(I^k&(R^I))+U[7]+4249261313&4294967295,O=k+(j<<22&4294967295|j>>>10),j=I+(R^O&(k^R))+U[8]+1770035416&4294967295,I=O+(j<<7&4294967295|j>>>25),j=R+(k^I&(O^k))+U[9]+2336552879&4294967295,R=I+(j<<12&4294967295|j>>>20),j=k+(O^R&(I^O))+U[10]+4294925233&4294967295,k=R+(j<<17&4294967295|j>>>15),j=O+(I^k&(R^I))+U[11]+2304563134&4294967295,O=k+(j<<22&4294967295|j>>>10),j=I+(R^O&(k^R))+U[12]+1804603682&4294967295,I=O+(j<<7&4294967295|j>>>25),j=R+(k^I&(O^k))+U[13]+4254626195&4294967295,R=I+(j<<12&4294967295|j>>>20),j=k+(O^R&(I^O))+U[14]+2792965006&4294967295,k=R+(j<<17&4294967295|j>>>15),j=O+(I^k&(R^I))+U[15]+1236535329&4294967295,O=k+(j<<22&4294967295|j>>>10),j=I+(k^R&(O^k))+U[1]+4129170786&4294967295,I=O+(j<<5&4294967295|j>>>27),j=R+(O^k&(I^O))+U[6]+3225465664&4294967295,R=I+(j<<9&4294967295|j>>>23),j=k+(I^O&(R^I))+U[11]+643717713&4294967295,k=R+(j<<14&4294967295|j>>>18),j=O+(R^I&(k^R))+U[0]+3921069994&4294967295,O=k+(j<<20&4294967295|j>>>12),j=I+(k^R&(O^k))+U[5]+3593408605&4294967295,I=O+(j<<5&4294967295|j>>>27),j=R+(O^k&(I^O))+U[10]+38016083&4294967295,R=I+(j<<9&4294967295|j>>>23),j=k+(I^O&(R^I))+U[15]+3634488961&4294967295,k=R+(j<<14&4294967295|j>>>18),j=O+(R^I&(k^R))+U[4]+3889429448&4294967295,O=k+(j<<20&4294967295|j>>>12),j=I+(k^R&(O^k))+U[9]+568446438&4294967295,I=O+(j<<5&4294967295|j>>>27),j=R+(O^k&(I^O))+U[14]+3275163606&4294967295,R=I+(j<<9&4294967295|j>>>23),j=k+(I^O&(R^I))+U[3]+4107603335&4294967295,k=R+(j<<14&4294967295|j>>>18),j=O+(R^I&(k^R))+U[8]+1163531501&4294967295,O=k+(j<<20&4294967295|j>>>12),j=I+(k^R&(O^k))+U[13]+2850285829&4294967295,I=O+(j<<5&4294967295|j>>>27),j=R+(O^k&(I^O))+U[2]+4243563512&4294967295,R=I+(j<<9&4294967295|j>>>23),j=k+(I^O&(R^I))+U[7]+1735328473&4294967295,k=R+(j<<14&4294967295|j>>>18),j=O+(R^I&(k^R))+U[12]+2368359562&4294967295,O=k+(j<<20&4294967295|j>>>12),j=I+(O^k^R)+U[5]+4294588738&4294967295,I=O+(j<<4&4294967295|j>>>28),j=R+(I^O^k)+U[8]+2272392833&4294967295,R=I+(j<<11&4294967295|j>>>21),j=k+(R^I^O)+U[11]+1839030562&4294967295,k=R+(j<<16&4294967295|j>>>16),j=O+(k^R^I)+U[14]+4259657740&4294967295,O=k+(j<<23&4294967295|j>>>9),j=I+(O^k^R)+U[1]+2763975236&4294967295,I=O+(j<<4&4294967295|j>>>28),j=R+(I^O^k)+U[4]+1272893353&4294967295,R=I+(j<<11&4294967295|j>>>21),j=k+(R^I^O)+U[7]+4139469664&4294967295,k=R+(j<<16&4294967295|j>>>16),j=O+(k^R^I)+U[10]+3200236656&4294967295,O=k+(j<<23&4294967295|j>>>9),j=I+(O^k^R)+U[13]+681279174&4294967295,I=O+(j<<4&4294967295|j>>>28),j=R+(I^O^k)+U[0]+3936430074&4294967295,R=I+(j<<11&4294967295|j>>>21),j=k+(R^I^O)+U[3]+3572445317&4294967295,k=R+(j<<16&4294967295|j>>>16),j=O+(k^R^I)+U[6]+76029189&4294967295,O=k+(j<<23&4294967295|j>>>9),j=I+(O^k^R)+U[9]+3654602809&4294967295,I=O+(j<<4&4294967295|j>>>28),j=R+(I^O^k)+U[12]+3873151461&4294967295,R=I+(j<<11&4294967295|j>>>21),j=k+(R^I^O)+U[15]+530742520&4294967295,k=R+(j<<16&4294967295|j>>>16),j=O+(k^R^I)+U[2]+3299628645&4294967295,O=k+(j<<23&4294967295|j>>>9),j=I+(k^(O|~R))+U[0]+4096336452&4294967295,I=O+(j<<6&4294967295|j>>>26),j=R+(O^(I|~k))+U[7]+1126891415&4294967295,R=I+(j<<10&4294967295|j>>>22),j=k+(I^(R|~O))+U[14]+2878612391&4294967295,k=R+(j<<15&4294967295|j>>>17),j=O+(R^(k|~I))+U[5]+4237533241&4294967295,O=k+(j<<21&4294967295|j>>>11),j=I+(k^(O|~R))+U[12]+1700485571&4294967295,I=O+(j<<6&4294967295|j>>>26),j=R+(O^(I|~k))+U[3]+2399980690&4294967295,R=I+(j<<10&4294967295|j>>>22),j=k+(I^(R|~O))+U[10]+4293915773&4294967295,k=R+(j<<15&4294967295|j>>>17),j=O+(R^(k|~I))+U[1]+2240044497&4294967295,O=k+(j<<21&4294967295|j>>>11),j=I+(k^(O|~R))+U[8]+1873313359&4294967295,I=O+(j<<6&4294967295|j>>>26),j=R+(O^(I|~k))+U[15]+4264355552&4294967295,R=I+(j<<10&4294967295|j>>>22),j=k+(I^(R|~O))+U[6]+2734768916&4294967295,k=R+(j<<15&4294967295|j>>>17),j=O+(R^(k|~I))+U[13]+1309151649&4294967295,O=k+(j<<21&4294967295|j>>>11),j=I+(k^(O|~R))+U[4]+4149444226&4294967295,I=O+(j<<6&4294967295|j>>>26),j=R+(O^(I|~k))+U[11]+3174756917&4294967295,R=I+(j<<10&4294967295|j>>>22),j=k+(I^(R|~O))+U[2]+718787259&4294967295,k=R+(j<<15&4294967295|j>>>17),j=O+(R^(k|~I))+U[9]+3951481745&4294967295,L.g[0]=L.g[0]+I&4294967295,L.g[1]=L.g[1]+(k+(j<<21&4294967295|j>>>11))&4294967295,L.g[2]=L.g[2]+k&4294967295,L.g[3]=L.g[3]+R&4294967295}i.prototype.u=function(L,I){I===void 0&&(I=L.length);for(var O=I-this.blockSize,U=this.B,k=this.h,R=0;R<I;){if(k==0)for(;R<=O;)a(this,L,R),R+=this.blockSize;if(typeof L=="string"){for(;R<I;)if(U[k++]=L.charCodeAt(R++),k==this.blockSize){a(this,U),k=0;break}}else for(;R<I;)if(U[k++]=L[R++],k==this.blockSize){a(this,U),k=0;break}}this.h=k,this.o+=I},i.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var I=1;I<L.length-8;++I)L[I]=0;var O=8*this.o;for(I=L.length-8;I<L.length;++I)L[I]=O&255,O/=256;for(this.u(L),L=Array(16),I=O=0;4>I;++I)for(var U=0;32>U;U+=8)L[O++]=this.g[I]>>>U&255;return L};function o(L,I){var O=l;return Object.prototype.hasOwnProperty.call(O,L)?O[L]:O[L]=I(L)}function s(L,I){this.h=I;for(var O=[],U=!0,k=L.length-1;0<=k;k--){var R=L[k]|0;U&&R==I||(O[k]=R,U=!1)}this.g=O}var l={};function u(L){return-128<=L&&128>L?o(L,function(I){return new s([I|0],0>I?-1:0)}):new s([L|0],0>L?-1:0)}function c(L){if(isNaN(L)||!isFinite(L))return d;if(0>L)return _(c(-L));for(var I=[],O=1,U=0;L>=O;U++)I[U]=L/O|0,O*=4294967296;return new s(I,0)}function f(L,I){if(L.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(L.charAt(0)=="-")return _(f(L.substring(1),I));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=c(Math.pow(I,8)),U=d,k=0;k<L.length;k+=8){var R=Math.min(8,L.length-k),j=parseInt(L.substring(k,k+R),I);8>R?(R=c(Math.pow(I,R)),U=U.j(R).add(c(j))):(U=U.j(O),U=U.add(c(j)))}return U}var d=u(0),h=u(1),p=u(16777216);n=s.prototype,n.m=function(){if(w(this))return-_(this).m();for(var L=0,I=1,O=0;O<this.g.length;O++){var U=this.i(O);L+=(0<=U?U:4294967296+U)*I,I*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(y(this))return"0";if(w(this))return"-"+_(this).toString(L);for(var I=c(Math.pow(L,6)),O=this,U="";;){var k=T(O,I).g;O=b(O,k.j(I));var R=((0<O.g.length?O.g[0]:O.h)>>>0).toString(L);if(O=k,y(O))return R+U;for(;6>R.length;)R="0"+R;U=R+U}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function y(L){if(L.h!=0)return!1;for(var I=0;I<L.g.length;I++)if(L.g[I]!=0)return!1;return!0}function w(L){return L.h==-1}n.l=function(L){return L=b(this,L),w(L)?-1:y(L)?0:1};function _(L){for(var I=L.g.length,O=[],U=0;U<I;U++)O[U]=~L.g[U];return new s(O,~L.h).add(h)}n.abs=function(){return w(this)?_(this):this},n.add=function(L){for(var I=Math.max(this.g.length,L.g.length),O=[],U=0,k=0;k<=I;k++){var R=U+(this.i(k)&65535)+(L.i(k)&65535),j=(R>>>16)+(this.i(k)>>>16)+(L.i(k)>>>16);U=j>>>16,R&=65535,j&=65535,O[k]=j<<16|R}return new s(O,O[O.length-1]&-2147483648?-1:0)};function b(L,I){return L.add(_(I))}n.j=function(L){if(y(this)||y(L))return d;if(w(this))return w(L)?_(this).j(_(L)):_(_(this).j(L));if(w(L))return _(this.j(_(L)));if(0>this.l(p)&&0>L.l(p))return c(this.m()*L.m());for(var I=this.g.length+L.g.length,O=[],U=0;U<2*I;U++)O[U]=0;for(U=0;U<this.g.length;U++)for(var k=0;k<L.g.length;k++){var R=this.i(U)>>>16,j=this.i(U)&65535,H=L.i(k)>>>16,oe=L.i(k)&65535;O[2*U+2*k]+=j*oe,S(O,2*U+2*k),O[2*U+2*k+1]+=R*oe,S(O,2*U+2*k+1),O[2*U+2*k+1]+=j*H,S(O,2*U+2*k+1),O[2*U+2*k+2]+=R*H,S(O,2*U+2*k+2)}for(U=0;U<I;U++)O[U]=O[2*U+1]<<16|O[2*U];for(U=I;U<2*I;U++)O[U]=0;return new s(O,0)};function S(L,I){for(;(L[I]&65535)!=L[I];)L[I+1]+=L[I]>>>16,L[I]&=65535,I++}function A(L,I){this.g=L,this.h=I}function T(L,I){if(y(I))throw Error("division by zero");if(y(L))return new A(d,d);if(w(L))return I=T(_(L),I),new A(_(I.g),_(I.h));if(w(I))return I=T(L,_(I)),new A(_(I.g),I.h);if(30<L.g.length){if(w(L)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var O=h,U=I;0>=U.l(L);)O=B(O),U=B(U);var k=$(O,1),R=$(U,1);for(U=$(U,2),O=$(O,2);!y(U);){var j=R.add(U);0>=j.l(L)&&(k=k.add(O),R=j),U=$(U,1),O=$(O,1)}return I=b(L,k.j(I)),new A(k,I)}for(k=d;0<=L.l(I);){for(O=Math.max(1,Math.floor(L.m()/I.m())),U=Math.ceil(Math.log(O)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),R=c(O),j=R.j(I);w(j)||0<j.l(L);)O-=U,R=c(O),j=R.j(I);y(R)&&(R=h),k=k.add(R),L=b(L,j)}return new A(k,L)}n.A=function(L){return T(this,L).h},n.and=function(L){for(var I=Math.max(this.g.length,L.g.length),O=[],U=0;U<I;U++)O[U]=this.i(U)&L.i(U);return new s(O,this.h&L.h)},n.or=function(L){for(var I=Math.max(this.g.length,L.g.length),O=[],U=0;U<I;U++)O[U]=this.i(U)|L.i(U);return new s(O,this.h|L.h)},n.xor=function(L){for(var I=Math.max(this.g.length,L.g.length),O=[],U=0;U<I;U++)O[U]=this.i(U)^L.i(U);return new s(O,this.h^L.h)};function B(L){for(var I=L.g.length+1,O=[],U=0;U<I;U++)O[U]=L.i(U)<<1|L.i(U-1)>>>31;return new s(O,L.h)}function $(L,I){var O=I>>5;I%=32;for(var U=L.g.length-O,k=[],R=0;R<U;R++)k[R]=0<I?L.i(R+O)>>>I|L.i(R+O+1)<<32-I:L.i(R+O);return new s(k,L.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,D6=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,sf=s}).apply(typeof x4<"u"?x4:typeof self<"u"?self:typeof window<"u"?window:{});var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R6,Pp,M6,Gv,x5,F6,B6,U6;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,N,F){return g==Array.prototype||g==Object.prototype||(g[N]=F.value),g};function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof av=="object"&&av];for(var N=0;N<g.length;++N){var F=g[N];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var i=r(this);function a(g,N){if(N)e:{var F=i;g=g.split(".");for(var G=0;G<g.length-1;G++){var ge=g[G];if(!(ge in F))break e;F=F[ge]}g=g[g.length-1],G=F[g],N=N(G),N!=G&&N!=null&&e(F,g,{configurable:!0,writable:!0,value:N})}}function o(g,N){g instanceof String&&(g+="");var F=0,G=!1,ge={next:function(){if(!G&&F<g.length){var Pe=F++;return{value:N(Pe,g[Pe]),done:!1}}return G=!0,{done:!0,value:void 0}}};return ge[Symbol.iterator]=function(){return ge},ge}a("Array.prototype.values",function(g){return g||function(){return o(this,function(N,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(g){var N=typeof g;return N=N!="object"?N:g?Array.isArray(g)?"array":N:"null",N=="array"||N=="object"&&typeof g.length=="number"}function c(g){var N=typeof g;return N=="object"&&g!=null||N=="function"}function f(g,N,F){return g.call.apply(g.bind,arguments)}function d(g,N,F){if(!g)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var ge=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ge,G),g.apply(N,ge)}}return function(){return g.apply(N,arguments)}}function h(g,N,F){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:d,h.apply(null,arguments)}function p(g,N){var F=Array.prototype.slice.call(arguments,1);return function(){var G=F.slice();return G.push.apply(G,arguments),g.apply(this,G)}}function y(g,N){function F(){}F.prototype=N.prototype,g.aa=N.prototype,g.prototype=new F,g.prototype.constructor=g,g.Qb=function(G,ge,Pe){for(var Re=Array(arguments.length-2),un=2;un<arguments.length;un++)Re[un-2]=arguments[un];return N.prototype[ge].apply(G,Re)}}function w(g){const N=g.length;if(0<N){const F=Array(N);for(let G=0;G<N;G++)F[G]=g[G];return F}return[]}function _(g,N){for(let F=1;F<arguments.length;F++){const G=arguments[F];if(u(G)){const ge=g.length||0,Pe=G.length||0;g.length=ge+Pe;for(let Re=0;Re<Pe;Re++)g[ge+Re]=G[Re]}else g.push(G)}}class b{constructor(N,F){this.i=N,this.j=F,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function S(g){return/^[\s\xa0]*$/.test(g)}function A(){var g=l.navigator;return g&&(g=g.userAgent)?g:""}function T(g){return T[" "](g),g}T[" "]=function(){};var B=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function $(g,N,F){for(const G in g)N.call(F,g[G],G,g)}function L(g,N){for(const F in g)N.call(void 0,g[F],F,g)}function I(g){const N={};for(const F in g)N[F]=g[F];return N}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(g,N){let F,G;for(let ge=1;ge<arguments.length;ge++){G=arguments[ge];for(F in G)g[F]=G[F];for(let Pe=0;Pe<O.length;Pe++)F=O[Pe],Object.prototype.hasOwnProperty.call(G,F)&&(g[F]=G[F])}}function k(g){var N=1;g=g.split(":");const F=[];for(;0<N&&g.length;)F.push(g.shift()),N--;return g.length&&F.push(g.join(":")),F}function R(g){l.setTimeout(()=>{throw g},0)}function j(){var g=ue;let N=null;return g.g&&(N=g.g,g.g=g.g.next,g.g||(g.h=null),N.next=null),N}class H{constructor(){this.h=this.g=null}add(N,F){const G=oe.get();G.set(N,F),this.h?this.h.next=G:this.g=G,this.h=G}}var oe=new b(()=>new he,g=>g.reset());class he{constructor(){this.next=this.g=this.h=null}set(N,F){this.h=N,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,re=!1,ue=new H,ae=()=>{const g=l.Promise.resolve(void 0);ye=()=>{g.then(ne)}};var ne=()=>{for(var g;g=j();){try{g.h.call(g.g)}catch(F){R(F)}var N=oe;N.j(g),100>N.h&&(N.h++,g.next=N.g,N.g=g)}re=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(g,N){this.type=g,this.g=this.target=N,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,N=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const F=()=>{};l.addEventListener("test",F,N),l.removeEventListener("test",F,N)}catch{}return g}();function ie(g,N){if(Y.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var F=this.type=g.type,G=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=N,N=g.relatedTarget){if(B){e:{try{T(N.nodeName);var ge=!0;break e}catch{}ge=!1}ge||(N=null)}}else F=="mouseover"?N=g.fromElement:F=="mouseout"&&(N=g.toElement);this.relatedTarget=N,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:ce[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&ie.aa.h.call(this)}}y(ie,Y);var ce={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function le(g,N,F,G,ge){this.listener=g,this.proxy=null,this.src=N,this.type=F,this.capture=!!G,this.ha=ge,this.key=++Ee,this.da=this.fa=!1}function Ae(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ne(g){this.src=g,this.g={},this.h=0}Ne.prototype.add=function(g,N,F,G,ge){var Pe=g.toString();g=this.g[Pe],g||(g=this.g[Pe]=[],this.h++);var Re=Ue(g,N,G,ge);return-1<Re?(N=g[Re],F||(N.fa=!1)):(N=new le(N,this.src,Pe,!!G,ge),N.fa=F,g.push(N)),N};function we(g,N){var F=N.type;if(F in g.g){var G=g.g[F],ge=Array.prototype.indexOf.call(G,N,void 0),Pe;(Pe=0<=ge)&&Array.prototype.splice.call(G,ge,1),Pe&&(Ae(N),g.g[F].length==0&&(delete g.g[F],g.h--))}}function Ue(g,N,F,G){for(var ge=0;ge<g.length;++ge){var Pe=g[ge];if(!Pe.da&&Pe.listener==N&&Pe.capture==!!F&&Pe.ha==G)return ge}return-1}var be="closure_lm_"+(1e6*Math.random()|0),te={};function mt(g,N,F,G,ge){if(Array.isArray(N)){for(var Pe=0;Pe<N.length;Pe++)mt(g,N[Pe],F,G,ge);return null}return F=Pt(F),g&&g[pe]?g.K(N,F,c(G)?!!G.capture:!1,ge):vt(g,N,F,!1,G,ge)}function vt(g,N,F,G,ge,Pe){if(!N)throw Error("Invalid event type");var Re=c(ge)?!!ge.capture:!!ge,un=lt(g);if(un||(g[be]=un=new Ne(g)),F=un.add(N,F,G,Re,Pe),F.proxy)return F;if(G=dt(),F.proxy=G,G.src=g,G.listener=F,g.addEventListener)Z||(ge=Re),ge===void 0&&(ge=!1),g.addEventListener(N.toString(),G,ge);else if(g.attachEvent)g.attachEvent(ze(N.toString()),G);else if(g.addListener&&g.removeListener)g.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return F}function dt(){function g(F){return N.call(g.src,g.listener,F)}const N=Ct;return g}function Fe(g,N,F,G,ge){if(Array.isArray(N))for(var Pe=0;Pe<N.length;Pe++)Fe(g,N[Pe],F,G,ge);else G=c(G)?!!G.capture:!!G,F=Pt(F),g&&g[pe]?(g=g.i,N=String(N).toString(),N in g.g&&(Pe=g.g[N],F=Ue(Pe,F,G,ge),-1<F&&(Ae(Pe[F]),Array.prototype.splice.call(Pe,F,1),Pe.length==0&&(delete g.g[N],g.h--)))):g&&(g=lt(g))&&(N=g.g[N.toString()],g=-1,N&&(g=Ue(N,F,G,ge)),(F=-1<g?N[g]:null)&&at(F))}function at(g){if(typeof g!="number"&&g&&!g.da){var N=g.src;if(N&&N[pe])we(N.i,g);else{var F=g.type,G=g.proxy;N.removeEventListener?N.removeEventListener(F,G,g.capture):N.detachEvent?N.detachEvent(ze(F),G):N.addListener&&N.removeListener&&N.removeListener(G),(F=lt(N))?(we(F,g),F.h==0&&(F.src=null,N[be]=null)):Ae(g)}}}function ze(g){return g in te?te[g]:te[g]="on"+g}function Ct(g,N){if(g.da)g=!0;else{N=new ie(N,this);var F=g.listener,G=g.ha||g.src;g.fa&&at(g),g=F.call(G,N)}return g}function lt(g){return g=g[be],g instanceof Ne?g:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pt(g){return typeof g=="function"?g:(g[Yt]||(g[Yt]=function(N){return g.handleEvent(N)}),g[Yt])}function ot(){M.call(this),this.i=new Ne(this),this.M=this,this.F=null}y(ot,M),ot.prototype[pe]=!0,ot.prototype.removeEventListener=function(g,N,F,G){Fe(this,g,N,F,G)};function It(g,N){var F,G=g.F;if(G)for(F=[];G;G=G.F)F.push(G);if(g=g.M,G=N.type||N,typeof N=="string")N=new Y(N,g);else if(N instanceof Y)N.target=N.target||g;else{var ge=N;N=new Y(G,g),U(N,ge)}if(ge=!0,F)for(var Pe=F.length-1;0<=Pe;Pe--){var Re=N.g=F[Pe];ge=At(Re,G,!0,N)&&ge}if(Re=N.g=g,ge=At(Re,G,!0,N)&&ge,ge=At(Re,G,!1,N)&&ge,F)for(Pe=0;Pe<F.length;Pe++)Re=N.g=F[Pe],ge=At(Re,G,!1,N)&&ge}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var g=this.i,N;for(N in g.g){for(var F=g.g[N],G=0;G<F.length;G++)Ae(F[G]);delete g.g[N],g.h--}}this.F=null},ot.prototype.K=function(g,N,F,G){return this.i.add(String(g),N,!1,F,G)},ot.prototype.L=function(g,N,F,G){return this.i.add(String(g),N,!0,F,G)};function At(g,N,F,G){if(N=g.i.g[String(N)],!N)return!0;N=N.concat();for(var ge=!0,Pe=0;Pe<N.length;++Pe){var Re=N[Pe];if(Re&&!Re.da&&Re.capture==F){var un=Re.listener,Jn=Re.ha||Re.src;Re.fa&&we(g.i,Re),ge=un.call(Jn,G)!==!1&&ge}}return ge&&!G.defaultPrevented}function ut(g,N,F){if(typeof g=="function")F&&(g=h(g,F));else if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:l.setTimeout(g,N||0)}function wt(g){g.g=ut(()=>{g.g=null,g.i&&(g.i=!1,wt(g))},g.l);const N=g.h;g.h=null,g.m.apply(null,N)}class ht extends M{constructor(N,F){super(),this.m=N,this.l=F,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:wt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ln(g){M.call(this),this.h=g,this.g={}}y(ln,M);var Jt=[];function tt(g){$(g.g,function(N,F){this.g.hasOwnProperty(F)&&at(N)},g),g.g={}}ln.prototype.N=function(){ln.aa.N.call(this),tt(this)},ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var St=l.JSON.stringify,yn=l.JSON.parse,yt=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function $t(){}$t.prototype.h=null;function Nt(g){return g.h||(g.h=g.i())}function Xn(){}var Un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pn(){Y.call(this,"d")}y(pn,Y);function _t(){Y.call(this,"c")}y(_t,Y);var Vt={},fs=null;function _r(){return fs=fs||new ot}Vt.La="serverreachability";function co(g){Y.call(this,Vt.La,g)}y(co,Y);function Pi(g){const N=_r();It(N,new co(N))}Vt.STAT_EVENT="statevent";function gt(g,N){Y.call(this,Vt.STAT_EVENT,g),this.stat=N}y(gt,Y);function $n(g){const N=_r();It(N,new gt(N,g))}Vt.Ma="timingevent";function fo(g,N){Y.call(this,Vt.Ma,g),this.size=N}y(fo,Y);function ti(g,N){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},N)}function ni(){this.g=!0}ni.prototype.xa=function(){this.g=!1};function Qn(g,N,F,G,ge,Pe){g.info(function(){if(g.g)if(Pe)for(var Re="",un=Pe.split("&"),Jn=0;Jn<un.length;Jn++){var qt=un[Jn].split("=");if(1<qt.length){var Kt=qt[0];qt=qt[1];var bn=Kt.split("_");Re=2<=bn.length&&bn[1]=="type"?Re+(Kt+"="+qt+"&"):Re+(Kt+"=redacted&")}}else Re=null;else Re=Pe;return"XMLHTTP REQ ("+G+") [attempt "+ge+"]: "+N+`
`+F+`
`+Re})}function Dr(g,N,F,G,ge,Pe,Re){g.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ge+"]: "+N+`
`+F+`
`+Pe+" "+Re})}function Zn(g,N,F,G){g.info(function(){return"XMLHTTP TEXT ("+N+"): "+ds(g,F)+(G?" "+G:"")})}function Zs(g,N){g.info(function(){return"TIMEOUT: "+N})}ni.prototype.info=function(){};function ds(g,N){if(!g.g)return N;if(!N)return null;try{var F=JSON.parse(N);if(F){for(g=0;g<F.length;g++)if(Array.isArray(F[g])){var G=F[g];if(!(2>G.length)){var ge=G[1];if(Array.isArray(ge)&&!(1>ge.length)){var Pe=ge[0];if(Pe!="noop"&&Pe!="stop"&&Pe!="close")for(var Re=1;Re<ge.length;Re++)ge[Re]=""}}}}return St(F)}catch{return N}}var Ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ka={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ki;function ki(){}y(ki,$t),ki.prototype.g=function(){return new XMLHttpRequest},ki.prototype.i=function(){return{}},Ki=new ki;function xr(g,N,F,G){this.j=g,this.i=N,this.l=F,this.R=G||1,this.U=new ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hs}function hs(){this.i=null,this.g="",this.h=!1}var Ta={},Bo={};function ps(g,N,F){g.L=1,g.v=nl(Gi(N)),g.m=F,g.P=!0,Js(g,null)}function Js(g,N){g.F=Date.now(),ms(g),g.A=Gi(g.v);var F=g.A,G=g.R;Array.isArray(G)||(G=[String(G)]),xt(F.i,"t",G),g.C=0,F=g.j.J,g.h=new hs,g.g=zo(g.j,F?N:null,!g.m),0<g.O&&(g.M=new ht(h(g.Y,g,g.g),g.O)),N=g.U,F=g.g,G=g.ca;var ge="readystatechange";Array.isArray(ge)||(ge&&(Jt[0]=ge.toString()),ge=Jt);for(var Pe=0;Pe<ge.length;Pe++){var Re=mt(F,ge[Pe],G||N.handleEvent,!1,N.h||N);if(!Re)break;N.g[Re.key]=Re}N=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,N)):(g.u="GET",g.g.ea(g.A,g.u,null,N)),Pi(),Qn(g.i,g.u,g.A,g.l,g.R,g.m)}xr.prototype.ca=function(g){g=g.target;const N=this.M;N&&Yi(g)==3?N.j():this.Y(g)},xr.prototype.Y=function(g){try{if(g==this.g)e:{const bn=Yi(this.g);var N=this.g.Ba();const go=this.g.Z();if(!(3>bn)&&(bn!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||bn!=4||N==7||(N==8||0>=go?Pi(3):Pi(2)),eu(this);var F=this.g.Z();this.X=F;t:if(el(this)){var G=lu(this.g);g="";var ge=G.length,Pe=Yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ca(this),ri(this);var Re="";break t}this.h.i=new l.TextDecoder}for(N=0;N<ge;N++)this.h.h=!0,g+=this.h.i.decode(G[N],{stream:!(Pe&&N==ge-1)});G.length=0,this.h.g+=g,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=F==200,Dr(this.i,this.u,this.A,this.l,this.R,bn,F),this.o){if(this.T&&!this.K){t:{if(this.g){var un,Jn=this.g;if((un=Jn.g?Jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(un)){var qt=un;break t}}qt=null}if(F=qt)Zn(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tu(this,F);else{this.o=!1,this.s=3,$n(12),Ca(this),ri(this);break e}}if(this.P){F=!0;let di;for(;!this.J&&this.C<Re.length;)if(di=Mh(this,Re),di==Bo){bn==4&&(this.s=4,$n(14),F=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(di==Ta){this.s=4,$n(15),Zn(this.i,this.l,Re,"[Invalid Chunk]"),F=!1;break}else Zn(this.i,this.l,di,null),tu(this,di);if(el(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bn!=4||Re.length!=0||this.h.h||(this.s=1,$n(16),F=!1),this.o=this.o&&F,!F)Zn(this.i,this.l,Re,"[Invalid Chunked Response]"),Ca(this),ri(this);else if(0<Re.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),Xt(Kt),Kt.M=!0,$n(11))}}else Zn(this.i,this.l,Re,null),tu(this,Re);bn==4&&Ca(this),this.o&&!this.J&&(bn==4?mn(this.j,this):(this.o=!1,ms(this)))}else Xi(this.g),F==400&&0<Re.indexOf("Unknown SID")?(this.s=3,$n(12)):(this.s=0,$n(13)),Ca(this),ri(this)}}}catch{}finally{}};function el(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Mh(g,N){var F=g.C,G=N.indexOf(`
`,F);return G==-1?Bo:(F=Number(N.substring(F,G)),isNaN(F)?Ta:(G+=1,G+F>N.length?Bo:(N=N.slice(G,G+F),g.C=G+F,N)))}xr.prototype.cancel=function(){this.J=!0,Ca(this)};function ms(g){g.S=Date.now()+g.I,Ec(g,g.I)}function Ec(g,N){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ti(h(g.ba,g),N)}function eu(g){g.B&&(l.clearTimeout(g.B),g.B=null)}xr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Zs(this.i,this.A),this.L!=2&&(Pi(),$n(17)),Ca(this),this.s=2,ri(this)):Ec(this,this.S-g)};function ri(g){g.j.G==0||g.J||mn(g.j,g)}function Ca(g){eu(g);var N=g.M;N&&typeof N.ma=="function"&&N.ma(),g.M=null,tt(g.U),g.g&&(N=g.g,g.g=null,N.abort(),N.ma())}function tu(g,N){try{var F=g.j;if(F.G!=0&&(F.g==g||gs(F.h,g))){if(!g.K&&gs(F.h,g)&&F.G==3){try{var G=F.Da.g.parse(N)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ge=G;if(ge[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<g.F)Vn(F),Q(F);else break e;kt(F),$n(18)}}else F.za=ge[1],0<F.za-F.T&&37500>ge[2]&&F.F&&F.v==0&&!F.C&&(F.C=ti(h(F.Za,F),6e3));if(1>=Tc(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else kn(F,11)}else if((g.K||F.g==g)&&Vn(F),!S(N))for(ge=F.Da.g.parse(N),N=0;N<ge.length;N++){let qt=ge[N];if(F.T=qt[0],qt=qt[1],F.G==2)if(qt[0]=="c"){F.K=qt[1],F.ia=qt[2];const Kt=qt[3];Kt!=null&&(F.la=Kt,F.j.info("VER="+F.la));const bn=qt[4];bn!=null&&(F.Aa=bn,F.j.info("SVER="+F.Aa));const go=qt[5];go!=null&&typeof go=="number"&&0<go&&(G=1.5*go,F.L=G,F.j.info("backChannelRequestTimeoutMs_="+G)),G=F;const di=g.g;if(di){const ja=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var Pe=G.h;Pe.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(Cc(Pe,Pe.h),Pe.h=null))}if(G.D){const Ss=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ss&&(G.ya=Ss,Ht(G.I,G.D,Ss))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-g.F,F.j.info("Handshake RTT: "+F.R+"ms")),G=F;var Re=g;if(G.qa=mo(G,G.J?G.ia:null,G.W),Re.K){ar(G.h,Re);var un=Re,Jn=G.L;Jn&&(un.I=Jn),un.B&&(eu(un),ms(un)),G.g=Re}else bt(G);0<F.i.length&&me(F)}else qt[0]!="stop"&&qt[0]!="close"||kn(F,7);else F.G==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?kn(F,7):V(F):qt[0]!="noop"&&F.l&&F.l.ta(qt),F.v=0)}}Pi(4)}catch{}}var Pc=class{constructor(g,N){this.g=g,this.map=N}};function Nc(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kc(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Tc(g){return g.h?1:g.g?g.g.size:0}function gs(g,N){return g.h?g.h==N:g.g?g.g.has(N):!1}function Cc(g,N){g.g?g.g.add(N):g.h=N}function ar(g,N){g.h&&g.h==N?g.h=null:g.g&&g.g.has(N)&&g.g.delete(N)}Nc.prototype.cancel=function(){if(this.i=Ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Ic(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let N=g.i;for(const F of g.g.values())N=N.concat(F.D);return N}return w(g.i)}function Wf(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(u(g)){for(var N=[],F=g.length,G=0;G<F;G++)N.push(g[G]);return N}N=[],F=0;for(G in g)N[F++]=g[G];return N}function Uo(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(u(g)||typeof g=="string"){var N=[];g=g.length;for(var F=0;F<g;F++)N.push(F);return N}N=[],F=0;for(const G in g)N[F++]=G;return N}}}function vs(g,N){if(g.forEach&&typeof g.forEach=="function")g.forEach(N,void 0);else if(u(g)||typeof g=="string")Array.prototype.forEach.call(g,N,void 0);else for(var F=Uo(g),G=Wf(g),ge=G.length,Pe=0;Pe<ge;Pe++)N.call(void 0,G[Pe],F&&F[Pe],g)}var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tl(g,N){if(g){g=g.split("&");for(var F=0;F<g.length;F++){var G=g[F].indexOf("="),ge=null;if(0<=G){var Pe=g[F].substring(0,G);ge=g[F].substring(G+1)}else Pe=g[F];N(Pe,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function wn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof wn){this.h=g.h,nu(this,g.j),this.o=g.o,this.g=g.g,ru(this,g.s),this.l=g.l;var N=g.i,F=new ua;F.i=N.i,N.g&&(F.g=new Map(N.g),F.h=N.h),Hf(this,F),this.m=g.m}else g&&(N=String(g).match(sa))?(this.h=!1,nu(this,N[1]||"",!0),this.o=ys(N[2]||""),this.g=ys(N[3]||"",!0),ru(this,N[4]),this.l=ys(N[5]||"",!0),Hf(this,N[6]||"",!0),this.m=ys(N[7]||"")):(this.h=!1,this.i=new ua(null,this.h))}wn.prototype.toString=function(){var g=[],N=this.j;N&&g.push(la(N,Kf,!0),":");var F=this.g;return(F||N=="file")&&(g.push("//"),(N=this.o)&&g.push(la(N,Kf,!0),"@"),g.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&g.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&g.push("/"),g.push(la(F,F.charAt(0)=="/"?Bh:Fh,!0))),(F=this.i.toString())&&g.push("?",F),(F=this.m)&&g.push("#",la(F,rl)),g.join("")};function Gi(g){return new wn(g)}function nu(g,N,F){g.j=F?ys(N,!0):N,g.j&&(g.j=g.j.replace(/:$/,""))}function ru(g,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);g.s=N}else g.s=null}function Hf(g,N,F){N instanceof ua?(g.i=N,Uh(g.i,g.h)):(F||(N=la(N,jc)),g.i=new ua(N,g.h))}function Ht(g,N,F){g.i.set(N,F)}function nl(g){return Ht(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ys(g,N){return g?N?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function la(g,N,F){return typeof g=="string"?(g=encodeURI(g).replace(N,Oc),F&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Oc(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Kf=/[#\/\?@]/g,Fh=/[#\?:]/g,Bh=/[#\?]/g,jc=/[#\?@]/g,rl=/#/g;function ua(g,N){this.h=this.g=null,this.i=g||null,this.j=!!N}function ho(g){g.g||(g.g=new Map,g.h=0,g.i&&tl(g.i,function(N,F){g.add(decodeURIComponent(N.replace(/\+/g," ")),F)}))}n=ua.prototype,n.add=function(g,N){ho(this),this.i=null,g=bs(this,g);var F=this.g.get(g);return F||this.g.set(g,F=[]),F.push(N),this.h+=1,this};function ws(g,N){ho(g),N=bs(g,N),g.g.has(N)&&(g.i=null,g.h-=g.g.get(N).length,g.g.delete(N))}function iu(g,N){return ho(g),N=bs(g,N),g.g.has(N)}n.forEach=function(g,N){ho(this),this.g.forEach(function(F,G){F.forEach(function(ge){g.call(N,ge,G,this)},this)},this)},n.na=function(){ho(this);const g=Array.from(this.g.values()),N=Array.from(this.g.keys()),F=[];for(let G=0;G<N.length;G++){const ge=g[G];for(let Pe=0;Pe<ge.length;Pe++)F.push(N[G])}return F},n.V=function(g){ho(this);let N=[];if(typeof g=="string")iu(this,g)&&(N=N.concat(this.g.get(bs(this,g))));else{g=Array.from(this.g.values());for(let F=0;F<g.length;F++)N=N.concat(g[F])}return N},n.set=function(g,N){return ho(this),this.i=null,g=bs(this,g),iu(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[N]),this.h+=1,this},n.get=function(g,N){return g?(g=this.V(g),0<g.length?String(g[0]):N):N};function xt(g,N,F){ws(g,N),0<F.length&&(g.i=null,g.g.set(bs(g,N),w(F)),g.h+=F.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],N=Array.from(this.g.keys());for(var F=0;F<N.length;F++){var G=N[F];const Pe=encodeURIComponent(String(G)),Re=this.V(G);for(G=0;G<Re.length;G++){var ge=Pe;Re[G]!==""&&(ge+="="+encodeURIComponent(String(Re[G]))),g.push(ge)}}return this.i=g.join("&")};function bs(g,N){return N=String(N),g.j&&(N=N.toLowerCase()),N}function Uh(g,N){N&&!g.j&&(ho(g),g.i=null,g.g.forEach(function(F,G){var ge=G.toLowerCase();G!=ge&&(ws(this,G),xt(this,ge,F))},g)),g.j=N}function $h(g,N){const F=new ni;if(l.Image){const G=new Image;G.onload=p(ii,F,"TestLoadImage: loaded",!0,N,G),G.onerror=p(ii,F,"TestLoadImage: error",!1,N,G),G.onabort=p(ii,F,"TestLoadImage: abort",!1,N,G),G.ontimeout=p(ii,F,"TestLoadImage: timeout",!1,N,G),l.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=g}else N(!1)}function Vh(g,N){const F=new ni,G=new AbortController,ge=setTimeout(()=>{G.abort(),ii(F,"TestPingServer: timeout",!1,N)},1e4);fetch(g,{signal:G.signal}).then(Pe=>{clearTimeout(ge),Pe.ok?ii(F,"TestPingServer: ok",!0,N):ii(F,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(ge),ii(F,"TestPingServer: error",!1,N)})}function ii(g,N,F,G,ge){try{ge&&(ge.onload=null,ge.onerror=null,ge.onabort=null,ge.ontimeout=null),G(F)}catch{}}function $o(){this.g=new yt}function zh(g,N,F){const G=F||"";try{vs(g,function(ge,Pe){let Re=ge;c(ge)&&(Re=St(ge)),N.push(G+Pe+"="+encodeURIComponent(Re))})}catch(ge){throw N.push(G+"type="+encodeURIComponent("_badmap")),ge}}function au(g){this.l=g.Ub||null,this.j=g.eb||!1}y(au,$t),au.prototype.g=function(){return new Vo(this.l,this.j)},au.prototype.i=function(g){return function(){return g}}({});function Vo(g,N){ot.call(this),this.D=g,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Vo,ot),n=Vo.prototype,n.open=function(g,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=N,this.readyState=1,po(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(N.body=g),(this.D||l).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ia(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ou(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function ou(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var N=g.value?g.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!g.done}))&&(this.response=this.responseText+=N)}g.done?Ia(this):po(this),this.readyState==3&&ou(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Ia(this))},n.Qa=function(g){this.g&&(this.response=g,Ia(this))},n.ga=function(){this.g&&Ia(this)};function Ia(g){g.readyState=4,g.l=null,g.j=null,g.v=null,po(g)}n.setRequestHeader=function(g,N){this.u.append(g,N)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],N=this.h.entries();for(var F=N.next();!F.done;)F=F.value,g.push(F[0]+": "+F[1]),F=N.next();return g.join(`\r
`)};function po(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function il(g){let N="";return $(g,function(F,G){N+=G,N+=":",N+=F,N+=`\r
`}),N}function Lc(g,N,F){e:{for(G in F){var G=!1;break e}G=!0}G||(F=il(F),typeof g=="string"?F!=null&&encodeURIComponent(String(F)):Ht(g,N,F))}function Nn(g){ot.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Nn,ot);var Dc=/^https?$/i,al=["POST","PUT"];n=Nn.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,N,F,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);N=N?N.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ki.g(),this.v=this.o?Nt(this.o):Nt(Ki),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(N,String(g),!0),this.B=!1}catch(Pe){_s(this,Pe);return}if(g=F||"",F=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ge in G)F.set(ge,G[ge]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const Pe of G.keys())F.set(Pe,G.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(F.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),ge=l.FormData&&g instanceof l.FormData,!(0<=Array.prototype.indexOf.call(al,N,void 0))||G||ge||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,Re]of F)this.g.setRequestHeader(Pe,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(g),this.u=!1}catch(Pe){_s(this,Pe)}};function _s(g,N){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=N,g.m=5,su(g),xs(g)}function su(g){g.A||(g.A=!0,It(g,"complete"),It(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,It(this,"complete"),It(this,"abort"),xs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),Nn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ol(this):this.bb())},n.bb=function(){ol(this)};function ol(g){if(g.h&&typeof s<"u"&&(!g.v[1]||Yi(g)!=4||g.Z()!=2)){if(g.u&&Yi(g)==4)ut(g.Ea,0,g);else if(It(g,"readystatechange"),Yi(g)==4){g.h=!1;try{const Re=g.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var F;if(!(F=N)){var G;if(G=Re===0){var ge=String(g.D).match(sa)[1]||null;!ge&&l.self&&l.self.location&&(ge=l.self.location.protocol.slice(0,-1)),G=!Dc.test(ge?ge.toLowerCase():"")}F=G}if(F)It(g,"complete"),It(g,"success");else{g.m=6;try{var Pe=2<Yi(g)?g.g.statusText:""}catch{Pe=""}g.l=Pe+" ["+g.Z()+"]",su(g)}}finally{xs(g)}}}}function xs(g,N){if(g.g){As(g);const F=g.g,G=g.v[0]?()=>{}:null;g.g=null,g.v=null,N||It(g,"ready");try{F.onreadystatechange=G}catch{}}}function As(g){g.I&&(l.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function Yi(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<Yi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var N=this.g.responseText;return g&&N.indexOf(g)==0&&(N=N.substring(g.length)),yn(N)}};function lu(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(g){const N={};g=(g.g&&2<=Yi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<g.length;G++){if(S(g[G]))continue;var F=k(g[G]);const ge=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const Pe=N[ge]||[];N[ge]=Pe,Pe.push(F)}L(N,function(G){return G.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(g,N,F){return F&&F.internalChannelParams&&F.internalChannelParams[g]||N}function E(g){this.Aa=0,this.i=[],this.j=new ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ti("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ti("baseRetryDelayMs",5e3,g),this.cb=Ti("retryDelaySeedMs",1e4,g),this.Wa=Ti("forwardChannelMaxRetries",2,g),this.wa=Ti("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Nc(g&&g.concurrentRequestLimit),this.Da=new $o,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=E.prototype,n.la=8,n.G=1,n.connect=function(g,N,F,G){$n(0),this.W=g,this.H=N||{},F&&G!==void 0&&(this.H.OSID=F,this.H.OAID=G),this.F=this.X,this.I=mo(this,null,this.W),me(this)};function V(g){if(se(g),g.G==3){var N=g.U++,F=Gi(g.I);if(Ht(F,"SID",g.K),Ht(F,"RID",N),Ht(F,"TYPE","terminate"),We(g,F),N=new xr(g,g.j,N),N.L=2,N.v=nl(Gi(F)),F=!1,l.navigator&&l.navigator.sendBeacon)try{F=l.navigator.sendBeacon(N.v.toString(),"")}catch{}!F&&l.Image&&(new Image().src=N.v,F=!0),F||(N.g=zo(N.j,null),N.g.ea(N.v)),N.F=Date.now(),ms(N)}Rr(g)}function Q(g){g.g&&(Xt(g),g.g.cancel(),g.g=null)}function se(g){Q(g),g.u&&(l.clearTimeout(g.u),g.u=null),Vn(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&l.clearTimeout(g.s),g.s=null)}function me(g){if(!kc(g.h)&&!g.s){g.s=!0;var N=g.Ga;ye||ae(),re||(ye(),re=!0),ue.add(N,g),g.B=0}}function Ce(g,N){return Tc(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=N.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ti(h(g.Ga,g,N),fr(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const ge=new xr(this,this.j,g);let Pe=this.o;if(this.S&&(Pe?(Pe=I(Pe),U(Pe,this.S)):Pe=this.S),this.m!==null||this.O||(ge.H=Pe,Pe=null),this.P)e:{for(var N=0,F=0;F<this.i.length;F++){t:{var G=this.i[F];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(N+=G,4096<N){N=F;break e}if(N===4096||F===this.i.length-1){N=F+1;break e}}N=1e3}else N=1e3;N=Ze(this,ge,N),F=Gi(this.I),Ht(F,"RID",g),Ht(F,"CVER",22),this.D&&Ht(F,"X-HTTP-Session-Id",this.D),We(this,F),Pe&&(this.O?N="headers="+encodeURIComponent(String(il(Pe)))+"&"+N:this.m&&Lc(F,this.m,Pe)),Cc(this.h,ge),this.Ua&&Ht(F,"TYPE","init"),this.P?(Ht(F,"$req",N),Ht(F,"SID","null"),ge.T=!0,ps(ge,F,null)):ps(ge,F,N),this.G=2}}else this.G==3&&(g?je(this,g):this.i.length==0||kc(this.h)||je(this))};function je(g,N){var F;N?F=N.l:F=g.U++;const G=Gi(g.I);Ht(G,"SID",g.K),Ht(G,"RID",F),Ht(G,"AID",g.T),We(g,G),g.m&&g.o&&Lc(G,g.m,g.o),F=new xr(g,g.j,F,g.B+1),g.m===null&&(F.H=g.o),N&&(g.i=N.D.concat(g.i)),N=Ze(g,F,1e3),F.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Cc(g.h,F),ps(F,G,N)}function We(g,N){g.H&&$(g.H,function(F,G){Ht(N,G,F)}),g.l&&vs({},function(F,G){Ht(N,G,F)})}function Ze(g,N,F){F=Math.min(g.i.length,F);var G=g.l?h(g.l.Na,g.l,g):null;e:{var ge=g.i;let Pe=-1;for(;;){const Re=["count="+F];Pe==-1?0<F?(Pe=ge[0].g,Re.push("ofs="+Pe)):Pe=0:Re.push("ofs="+Pe);let un=!0;for(let Jn=0;Jn<F;Jn++){let qt=ge[Jn].g;const Kt=ge[Jn].map;if(qt-=Pe,0>qt)Pe=Math.max(0,ge[Jn].g-100),un=!1;else try{zh(Kt,Re,"req"+qt+"_")}catch{G&&G(Kt)}}if(un){G=Re.join("&");break e}}}return g=g.i.splice(0,F),N.D=g,G}function bt(g){if(!g.g&&!g.u){g.Y=1;var N=g.Fa;ye||ae(),re||(ye(),re=!0),ue.add(N,g),g.v=0}}function kt(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ti(h(g.Fa,g),fr(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,Ln(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ti(h(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$n(10),Q(this),Ln(this))};function Xt(g){g.A!=null&&(l.clearTimeout(g.A),g.A=null)}function Ln(g){g.g=new xr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var N=Gi(g.qa);Ht(N,"RID","rpc"),Ht(N,"SID",g.K),Ht(N,"AID",g.T),Ht(N,"CI",g.F?"0":"1"),!g.F&&g.ja&&Ht(N,"TO",g.ja),Ht(N,"TYPE","xmlhttp"),We(g,N),g.m&&g.o&&Lc(N,g.m,g.o),g.L&&(g.g.I=g.L);var F=g.g;g=g.ia,F.L=1,F.v=nl(Gi(N)),F.m=null,F.P=!0,Js(F,g)}n.Za=function(){this.C!=null&&(this.C=null,Q(this),kt(this),$n(19))};function Vn(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function mn(g,N){var F=null;if(g.g==N){Vn(g),Xt(g),g.g=null;var G=2}else if(gs(g.h,N))F=N.D,ar(g.h,N),G=1;else return;if(g.G!=0){if(N.o)if(G==1){F=N.m?N.m.length:0,N=Date.now()-N.F;var ge=g.B;G=_r(),It(G,new fo(G,F)),me(g)}else bt(g);else if(ge=N.s,ge==3||ge==0&&0<N.X||!(G==1&&Ce(g,N)||G==2&&kt(g)))switch(F&&0<F.length&&(N=g.h,N.i=N.i.concat(F)),ge){case 1:kn(g,5);break;case 4:kn(g,10);break;case 3:kn(g,6);break;default:kn(g,2)}}}function fr(g,N){let F=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(F*=2),F*N}function kn(g,N){if(g.j.info("Error code "+N),N==2){var F=h(g.fb,g),G=g.Xa;const ge=!G;G=new wn(G||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||nu(G,"https"),nl(G),ge?$h(G.toString(),F):Vh(G.toString(),F)}else $n(2);g.G=0,g.l&&g.l.sa(N),Rr(g),se(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),$n(2)):(this.j.info("Failed to ping google.com"),$n(1))};function Rr(g){if(g.G=0,g.ka=[],g.l){const N=Ic(g.h);(N.length!=0||g.i.length!=0)&&(_(g.ka,N),_(g.ka,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.ra()}}function mo(g,N,F){var G=F instanceof wn?Gi(F):new wn(F);if(G.g!="")N&&(G.g=N+"."+G.g),ru(G,G.s);else{var ge=l.location;G=ge.protocol,N=N?N+"."+ge.hostname:ge.hostname,ge=+ge.port;var Pe=new wn(null);G&&nu(Pe,G),N&&(Pe.g=N),ge&&ru(Pe,ge),F&&(Pe.l=F),G=Pe}return F=g.D,N=g.ya,F&&N&&Ht(G,F,N),Ht(G,"VER",g.la),We(g,G),G}function zo(g,N,F){if(N&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=g.Ca&&!g.pa?new Nn(new au({eb:F})):new Nn(g.pa),N.Ha(g.J),N}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gf(){}n=Gf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function sl(){}sl.prototype.g=function(g,N){return new Ar(g,N)};function Ar(g,N){ot.call(this),this.g=new E(N),this.l=g,this.h=N&&N.messageUrlParams||null,g=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(g?g["X-WebChannel-Content-Type"]=N.messageContentType:g={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(g?g["X-WebChannel-Client-Profile"]=N.va:g={"X-WebChannel-Client-Profile":N.va}),this.g.S=g,(g=N&&N.Sb)&&!S(g)&&(this.g.m=g),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!S(N)&&(this.g.D=N,g=this.h,g!==null&&N in g&&(g=this.h,N in g&&delete g[N])),this.j=new Oa(this)}y(Ar,ot),Ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){V(this.g)},Ar.prototype.o=function(g){var N=this.g;if(typeof g=="string"){var F={};F.__data__=g,g=F}else this.u&&(F={},F.__data__=St(g),g=F);N.i.push(new Pc(N.Ya++,g)),N.G==3&&me(N)},Ar.prototype.N=function(){this.g.l=null,delete this.j,V(this.g),delete this.g,Ar.aa.N.call(this)};function ca(g){pn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var N=g.__sm__;if(N){e:{for(const F in N){g=F;break e}g=void 0}(this.i=g)&&(g=this.i,N=N!==null&&g in N?N[g]:void 0),this.data=N}else this.data=g}y(ca,pn);function uu(){_t.call(this),this.status=1}y(uu,_t);function Oa(g){this.g=g}y(Oa,Gf),Oa.prototype.ua=function(){It(this.g,"a")},Oa.prototype.ta=function(g){It(this.g,new ca(g))},Oa.prototype.sa=function(g){It(this.g,new uu)},Oa.prototype.ra=function(){It(this.g,"b")},sl.prototype.createWebChannel=sl.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,U6=function(){return new sl},B6=function(){return _r()},F6=Vt,x5={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ni.NO_ERROR=0,Ni.TIMEOUT=8,Ni.HTTP_ERROR=6,Gv=Ni,ka.COMPLETE="complete",M6=ka,Xn.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Pp=Xn,Nn.prototype.listenOnce=Nn.prototype.L,Nn.prototype.getLastError=Nn.prototype.Ka,Nn.prototype.getLastErrorCode=Nn.prototype.Ba,Nn.prototype.getStatus=Nn.prototype.Z,Nn.prototype.getResponseJson=Nn.prototype.Oa,Nn.prototype.getResponseText=Nn.prototype.oa,Nn.prototype.send=Nn.prototype.ea,Nn.prototype.setWithCredentials=Nn.prototype.Ha,R6=Nn}).apply(typeof av<"u"?av:typeof self<"u"?self:typeof window<"u"?window:{});const A4="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bi.UNAUTHENTICATED=new Bi(null),Bi.GOOGLE_CREDENTIALS=new Bi("google-credentials-uid"),Bi.FIRST_PARTY=new Bi("first-party-uid"),Bi.MOCK_USER=new Bi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new P6("@firebase/firestore");function up(){return wf.logLevel}function Je(n,...e){if(wf.logLevel<=an.DEBUG){const r=e.map(Jx);wf.debug(`Firestore (${xh}): ${n}`,...r)}}function Dl(n,...e){if(wf.logLevel<=an.ERROR){const r=e.map(Jx);wf.error(`Firestore (${xh}): ${n}`,...r)}}function Yd(n,...e){if(wf.logLevel<=an.WARN){const r=e.map(Jx);wf.warn(`Firestore (${xh}): ${n}`,...r)}}function Jx(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n="Unexpected state"){const e=`FIRESTORE (${xh}) INTERNAL ASSERTION FAILED: `+n;throw Dl(e),new Error(e)}function Pn(n,e){n||Tt()}function Rt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Rf{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Bi.UNAUTHENTICATED))}shutdown(){}}class Gq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Yq{constructor(e){this.t=e,this.currentUser=Bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Pn(this.o===void 0);let i=this.i;const a=u=>this.i!==i?(i=this.i,r(u)):Promise.resolve();let o=new Nl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nl,e.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await a(this.currentUser)})},l=u=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nl)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(i=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pn(typeof i.accessToken=="string"),new $6(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pn(e===null||typeof e=="string"),new Bi(e)}}class Xq{constructor(e,r,i){this.l=e,this.h=r,this.P=i,this.type="FirstParty",this.user=Bi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Qq{constructor(e,r,i){this.l=e,this.h=r,this.P=i}getToken(){return Promise.resolve(new Xq(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jq{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Pn(this.o===void 0);const i=o=>{o.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Je("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const a=o=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Pn(typeof r.token=="string"),this.R=r.token,new Zq(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let i=0;i<n;i++)r[i]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const a=eW(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<r&&(i+=e.charAt(a[o]%e.length))}return i}}function cn(n,e){return n<e?-1:n>e?1:0}function Xd(n,e,r){return n.length===e.length&&n.every((i,a)=>r(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ke(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ke(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ke(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xr.fromMillis(Date.now())}static fromDate(e){return Xr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*r));return new Xr(r,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jt(e)}static min(){return new jt(new Xr(0,0))}static max(){return new jt(new Xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,r,i){r===void 0?r=0:r>e.length&&Tt(),i===void 0?i=e.length-r:i>e.length-r&&Tt(),this.segments=e,this.offset=r,this.len=i}get length(){return this.len}isEqual(e){return _m.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof _m?e.forEach(i=>{r.push(i)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,i=this.limit();r<i;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const i=Math.min(e.length,r.length);for(let a=0;a<i;a++){const o=e.get(a),s=r.get(a);if(o<s)return-1;if(o>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Hn extends _m{construct(e,r,i){return new Hn(e,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter(a=>a.length>0))}return new Hn(r)}static emptyPath(){return new Hn([])}}const tW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends _m{construct(e,r,i){return new _i(e,r,i)}static isValidIdentifier(e){return tW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _i(["__name__"])}static fromServerFormat(e){const r=[];let i="",a=0;const o=()=>{if(i.length===0)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""};let s=!1;for(;a<e.length;){const l=e[a];if(l==="\\"){if(a+1===e.length)throw new Ke(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ke(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,a+=2}else l==="`"?(s=!s,a++):l!=="."||s?(i+=l,a++):(o(),a++)}if(o(),s)throw new Ke(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _i(r)}static emptyPath(){return new _i([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Hn.fromString(e))}static fromName(e){return new pt(Hn.fromString(e).popFirst(5))}static empty(){return new pt(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Hn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Hn(e.slice()))}}function nW(n,e){const r=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=jt.fromTimestamp(i===1e9?new Xr(r+1,0):new Xr(r,i));return new ic(a,pt.empty(),e)}function rW(n){return new ic(n.readTime,n.key,-1)}class ic{constructor(e,r,i){this.readTime=e,this.documentKey=r,this.largestBatchId=i}static min(){return new ic(jt.min(),pt.empty(),-1)}static max(){return new ic(jt.max(),pt.empty(),-1)}}function iW(n,e){let r=n.readTime.compareTo(e.readTime);return r!==0?r:(r=pt.comparator(n.documentKey,e.documentKey),r!==0?r:cn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(n){if(n.code!==Oe.FAILED_PRECONDITION||n.message!==aW)throw n;Je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new De((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(r,o).next(i,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof De?r:De.resolve(r)}catch(r){return De.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):De.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):De.reject(r)}static resolve(e){return new De((r,i)=>{r(e)})}static reject(e){return new De((r,i)=>{i(e)})}static waitFor(e){return new De((r,i)=>{let a=0,o=0,s=!1;e.forEach(l=>{++a,l.next(()=>{++o,s&&o===a&&r()},u=>i(u))}),s=!0,o===a&&r()})}static or(e){let r=De.resolve(!1);for(const i of e)r=r.next(a=>a?De.resolve(a):i());return r}static forEach(e,r){const i=[];return e.forEach((a,o)=>{i.push(r.call(this,a,o))}),this.waitFor(i)}static mapArray(e,r){return new De((i,a)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;r(e[c]).next(f=>{s[c]=f,++l,l===o&&i(s)},f=>a(f))}})}static doWhile(e,r){return new De((i,a)=>{const o=()=>{e()===!0?r().next(()=>{o()},a):i()};o()})}}function sW(n){const e=n.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function tg(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}eA.oe=-1;function n1(n){return n==null}function jy(n){return n===0&&1/n==-1/0}function lW(n){return typeof n=="number"&&Number.isInteger(n)&&!jy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(n){let e=0;for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e++;return e}function Mf(n,e){for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(r,n[r])}function z6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,r){this.comparator=e,this.root=r||wi.EMPTY}insert(e,r){return new ur(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(e){return new ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(e){let r=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return r+i.left.size;a<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,i)=>(e(r,i),!1))}toString(){const e=[];return this.inorderTraversal((r,i)=>(e.push(`${r}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ov(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ov(this.root,e,this.comparator,!1)}getReverseIterator(){return new ov(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ov(this.root,e,this.comparator,!0)}}class ov{constructor(e,r,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?i(e.key,r):1,r&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wi{constructor(e,r,i,a,o){this.key=e,this.value=r,this.color=i??wi.RED,this.left=a??wi.EMPTY,this.right=o??wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,i,a,o){return new wi(e??this.key,r??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,r,i),null):o===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let i,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return wi.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const e=this.left.check();if(e!==this.right.check())throw Tt();return e+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1;wi.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(e,r,i,a,o){return this}insert(e,r,i){return new wi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.comparator=e,this.data=new ur(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,i)=>(e(r),!1))}forEachInRange(e,r){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new E4(this.data.getIterator())}getIteratorFrom(e){return new E4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(i=>{r=r.add(i)}),r}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const r=this.data.getIterator(),i=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ai(this.comparator);return r.data=e,r}}class E4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.fields=e,e.sort(_i.comparator)}static empty(){return new Ya([])}unionWith(e){let r=new Ai(_i.comparator);for(const i of this.fields)r=r.add(i);for(const i of e)r=r.add(i);return new Ya(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Xd(this.fields,e.fields,(r,i)=>r.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new q6("Invalid base64 string: "+o):o}}(e);return new Ei(r)}static fromUint8Array(e){const r=function(a){let o="";for(let s=0;s<a.length;++s)o+=String.fromCharCode(a[s]);return o}(e);return new Ei(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const uW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ac(n){if(Pn(!!n),typeof n=="string"){let e=0;const r=uW.exec(n);if(Pn(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tr(n.seconds),nanos:Tr(n.nanos)}}function Tr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bf(n){return typeof n=="string"?Ei.fromBase64String(n):Ei.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function nA(n){const e=n.mapValue.fields.__previous_value__;return tA(e)?nA(e):e}function xm(n){const e=ac(n.mapValue.fields.__local_write_time__.timestampValue);return new Xr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e,r,i,a,o,s,l,u,c){this.databaseId=e,this.appId=r,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Am{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Am("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Am&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv={mapValue:{}};function _f(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tA(n)?4:dW(n)?9007199254740991:fW(n)?10:11:Tt()}function Ks(n,e){if(n===e)return!0;const r=_f(n);if(r!==_f(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xm(n).isEqual(xm(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const s=ac(a.timestampValue),l=ac(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return bf(a.bytesValue).isEqual(bf(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return Tr(a.geoPointValue.latitude)===Tr(o.geoPointValue.latitude)&&Tr(a.geoPointValue.longitude)===Tr(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Tr(a.integerValue)===Tr(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const s=Tr(a.doubleValue),l=Tr(o.doubleValue);return s===l?jy(s)===jy(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return Xd(n.arrayValue.values||[],e.arrayValue.values||[],Ks);case 10:case 11:return function(a,o){const s=a.mapValue.fields||{},l=o.mapValue.fields||{};if(S4(s)!==S4(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!Ks(s[u],l[u])))return!1;return!0}(n,e);default:return Tt()}}function Sm(n,e){return(n.values||[]).find(r=>Ks(r,e))!==void 0}function Qd(n,e){if(n===e)return 0;const r=_f(n),i=_f(e);if(r!==i)return cn(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return cn(n.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Tr(o.integerValue||o.doubleValue),u=Tr(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(n,e);case 3:return P4(n.timestampValue,e.timestampValue);case 4:return P4(xm(n),xm(e));case 5:return cn(n.stringValue,e.stringValue);case 6:return function(o,s){const l=bf(o),u=bf(s);return l.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=cn(l[c],u[c]);if(f!==0)return f}return cn(l.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const l=cn(Tr(o.latitude),Tr(s.latitude));return l!==0?l:cn(Tr(o.longitude),Tr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return N4(n.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,c,f;const d=o.fields||{},h=s.fields||{},p=(l=d.value)===null||l===void 0?void 0:l.arrayValue,y=(u=h.value)===null||u===void 0?void 0:u.arrayValue,w=cn(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0);return w!==0?w:N4(p,y)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===sv.mapValue&&s===sv.mapValue)return 0;if(o===sv.mapValue)return 1;if(s===sv.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let d=0;d<u.length&&d<f.length;++d){const h=cn(u[d],f[d]);if(h!==0)return h;const p=Qd(l[u[d]],c[f[d]]);if(p!==0)return p}return cn(u.length,f.length)}(n.mapValue,e.mapValue);default:throw Tt()}}function P4(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return cn(n,e);const r=ac(n),i=ac(e),a=cn(r.seconds,i.seconds);return a!==0?a:cn(r.nanos,i.nanos)}function N4(n,e){const r=n.values||[],i=e.values||[];for(let a=0;a<r.length&&a<i.length;++a){const o=Qd(r[a],i[a]);if(o)return o}return cn(r.length,i.length)}function Zd(n){return A5(n)}function A5(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ac(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(r){return bf(r).toBase64()}(n.bytesValue):"referenceValue"in n?function(r){return pt.fromName(r).toString()}(n.referenceValue):"geoPointValue"in n?function(r){return`geo(${r.latitude},${r.longitude})`}(n.geoPointValue):"arrayValue"in n?function(r){let i="[",a=!0;for(const o of r.values||[])a?a=!1:i+=",",i+=A5(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",o=!0;for(const s of i)o?o=!1:a+=",",a+=`${s}:${A5(r.fields[s])}`;return a+"}"}(n.mapValue):Tt()}function k4(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function S5(n){return!!n&&"integerValue"in n}function rA(n){return!!n&&"arrayValue"in n}function T4(n){return!!n&&"nullValue"in n}function C4(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yv(n){return!!n&&"mapValue"in n}function fW(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Vp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Mf(n.mapValue.fields,(r,i)=>e.mapValue.fields[r]=Vp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(n.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Vp(n.arrayValue.values[r]);return e}return Object.assign({},n)}function dW(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.value=e}static empty(){return new va({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let i=0;i<e.length-1;++i)if(r=(r.mapValue.fields||{})[e.get(i)],!Yv(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vp(r)}setAll(e){let r=_i.emptyPath(),i={},a=[];e.forEach((s,l)=>{if(!r.isImmediateParentOf(l)){const u=this.getFieldsMap(r);this.applyChanges(u,i,a),i={},a=[],r=l.popLast()}s?i[l.lastSegment()]=Vp(s):a.push(l.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,i,a)}delete(e){const r=this.field(e.popLast());Yv(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ks(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=r.mapValue.fields[e.get(i)];Yv(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(i)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,i){Mf(r,(a,o)=>e[a]=o);for(const a of i)delete e[a]}clone(){return new va(Vp(this.value))}}function W6(n){const e=[];return Mf(n.fields,(r,i)=>{const a=new _i([r]);if(Yv(i)){const o=W6(i.mapValue).fields;if(o.length===0)e.push(a);else for(const s of o)e.push(a.child(s))}else e.push(a)}),new Ya(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,r,i,a,o,s,l){this.key=e,this.documentType=r,this.version=i,this.readTime=a,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new $i(e,0,jt.min(),jt.min(),jt.min(),va.empty(),0)}static newFoundDocument(e,r,i,a){return new $i(e,1,r,jt.min(),i,a,0)}static newNoDocument(e,r){return new $i(e,2,r,jt.min(),jt.min(),va.empty(),0)}static newUnknownDocument(e,r){return new $i(e,3,r,jt.min(),jt.min(),va.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=va.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=va.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,r){this.position=e,this.inclusive=r}}function I4(n,e,r){let i=0;for(let a=0;a<n.position.length;a++){const o=e[a],s=n.position[a];if(o.field.isKeyField()?i=pt.comparator(pt.fromName(s.referenceValue),r.key):i=Qd(s,r.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function O4(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let r=0;r<n.position.length;r++)if(!Ks(n.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,r="asc"){this.field=e,this.dir=r}}function hW(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H6=class{};class Ur extends H6{constructor(e,r,i){super(),this.field=e,this.op=r,this.value=i}static create(e,r,i){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,i):new mW(e,r,i):r==="array-contains"?new yW(e,i):r==="in"?new wW(e,i):r==="not-in"?new bW(e,i):r==="array-contains-any"?new _W(e,i):new Ur(e,r,i)}static createKeyFieldInFilter(e,r,i){return r==="in"?new gW(e,i):new vW(e,i)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Qd(r,this.value)):r!==null&&_f(this.value)===_f(r)&&this.matchesComparison(Qd(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class as extends H6{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new as(e,r)}matches(e){return K6(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function K6(n){return n.op==="and"}function G6(n){return pW(n)&&K6(n)}function pW(n){for(const e of n.filters)if(e instanceof as)return!1;return!0}function E5(n){if(n instanceof Ur)return n.field.canonicalString()+n.op.toString()+Zd(n.value);if(G6(n))return n.filters.map(e=>E5(e)).join(",");{const e=n.filters.map(r=>E5(r)).join(",");return`${n.op}(${e})`}}function Y6(n,e){return n instanceof Ur?function(i,a){return a instanceof Ur&&i.op===a.op&&i.field.isEqual(a.field)&&Ks(i.value,a.value)}(n,e):n instanceof as?function(i,a){return a instanceof as&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((o,s,l)=>o&&Y6(s,a.filters[l]),!0):!1}(n,e):void Tt()}function X6(n){return n instanceof Ur?function(r){return`${r.field.canonicalString()} ${r.op} ${Zd(r.value)}`}(n):n instanceof as?function(r){return r.op.toString()+" {"+r.getFilters().map(X6).join(" ,")+"}"}(n):"Filter"}class mW extends Ur{constructor(e,r,i){super(e,r,i),this.key=pt.fromName(i.referenceValue)}matches(e){const r=pt.comparator(e.key,this.key);return this.matchesComparison(r)}}class gW extends Ur{constructor(e,r){super(e,"in",r),this.keys=Q6("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class vW extends Ur{constructor(e,r){super(e,"not-in",r),this.keys=Q6("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Q6(n,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(i=>pt.fromName(i.referenceValue))}class yW extends Ur{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return rA(r)&&Sm(r.arrayValue,this.value)}}class wW extends Ur{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Sm(this.value.arrayValue,r)}}class bW extends Ur{constructor(e,r){super(e,"not-in",r)}matches(e){if(Sm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Sm(this.value.arrayValue,r)}}class _W extends Ur{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!rA(r)||!r.arrayValue.values)&&r.arrayValue.values.some(i=>Sm(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,r=null,i=[],a=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function j4(n,e=null,r=[],i=[],a=null,o=null,s=null){return new xW(n,e,r,i,a,o,s)}function iA(n){const e=Rt(n);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(i=>E5(i)).join(","),r+="|ob:",r+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),n1(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>Zd(i)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>Zd(i)).join(",")),e.ue=r}return e.ue}function aA(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!hW(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if(!Y6(n.filters[r],e.filters[r]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!O4(n.startAt,e.startAt)&&O4(n.endAt,e.endAt)}function P5(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,r=null,i=[],a=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function AW(n,e,r,i,a,o,s,l){return new Ah(n,e,r,i,a,o,s,l)}function r1(n){return new Ah(n)}function L4(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Z6(n){return n.collectionGroup!==null}function zp(n){const e=Rt(n);if(e.ce===null){e.ce=[];const r=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),r.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Ai(_i.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Em(o,i))}),r.has(_i.keyField().canonicalString())||e.ce.push(new Em(_i.keyField(),i))}return e.ce}function Us(n){const e=Rt(n);return e.le||(e.le=SW(e,zp(n))),e.le}function SW(n,e){if(n.limitType==="F")return j4(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Em(a.field,o)});const r=n.endAt?new Ly(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ly(n.startAt.position,n.startAt.inclusive):null;return j4(n.path,n.collectionGroup,e,n.filters,n.limit,r,i)}}function N5(n,e){const r=n.filters.concat([e]);return new Ah(n.path,n.collectionGroup,n.explicitOrderBy.slice(),r,n.limit,n.limitType,n.startAt,n.endAt)}function k5(n,e,r){return new Ah(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,r,n.startAt,n.endAt)}function i1(n,e){return aA(Us(n),Us(e))&&n.limitType===e.limitType}function J6(n){return`${iA(Us(n))}|lt:${n.limitType}`}function ad(n){return`Query(target=${function(r){let i=r.path.canonicalString();return r.collectionGroup!==null&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(a=>X6(a)).join(", ")}]`),n1(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(i+=", startAt: ",i+=r.startAt.inclusive?"b:":"a:",i+=r.startAt.position.map(a=>Zd(a)).join(",")),r.endAt&&(i+=", endAt: ",i+=r.endAt.inclusive?"a:":"b:",i+=r.endAt.position.map(a=>Zd(a)).join(",")),`Target(${i})`}(Us(n))}; limitType=${n.limitType})`}function a1(n,e){return e.isFoundDocument()&&function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,a){for(const o of zp(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(s,l,u){const c=I4(s,l,u);return s.inclusive?c<=0:c<0}(i.startAt,zp(i),a)||i.endAt&&!function(s,l,u){const c=I4(s,l,u);return s.inclusive?c>=0:c>0}(i.endAt,zp(i),a))}(n,e)}function EW(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eL(n){return(e,r)=>{let i=!1;for(const a of zp(n)){const o=PW(a,e,r);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function PW(n,e,r){const i=n.field.isKeyField()?pt.comparator(e.key,r.key):function(o,s,l){const u=s.data.field(o),c=l.data.field(o);return u!==null&&c!==null?Qd(u,c):Tt()}(n.field,e,r);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,r]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[r]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Mf(this.inner,(r,i)=>{for(const[a,o]of i)e(a,o)})}isEmpty(){return z6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=new ur(pt.comparator);function Rl(){return NW}const tL=new ur(pt.comparator);function Np(...n){let e=tL;for(const r of n)e=e.insert(r.key,r);return e}function nL(n){let e=tL;return n.forEach((r,i)=>e=e.insert(r,i.overlayedDocument)),e}function Qc(){return qp()}function rL(){return qp()}function qp(){return new Sh(n=>n.toString(),(n,e)=>n.isEqual(e))}const kW=new ur(pt.comparator),TW=new Ai(pt.comparator);function Gt(...n){let e=TW;for(const r of n)e=e.add(r);return e}const CW=new Ai(cn);function IW(){return CW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jy(e)?"-0":e}}function iL(n){return{integerValue:""+n}}function OW(n,e){return lW(e)?iL(e):oA(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this._=void 0}}function jW(n,e,r){return n instanceof Dy?function(a,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&tA(o)&&(o=nA(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(r,e):n instanceof Pm?oL(n,e):n instanceof Nm?sL(n,e):function(a,o){const s=aL(a,o),l=D4(s)+D4(a.Pe);return S5(s)&&S5(a.Pe)?iL(l):oA(a.serializer,l)}(n,e)}function LW(n,e,r){return n instanceof Pm?oL(n,e):n instanceof Nm?sL(n,e):r}function aL(n,e){return n instanceof Ry?function(i){return S5(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Dy extends o1{}class Pm extends o1{constructor(e){super(),this.elements=e}}function oL(n,e){const r=lL(e);for(const i of n.elements)r.some(a=>Ks(a,i))||r.push(i);return{arrayValue:{values:r}}}class Nm extends o1{constructor(e){super(),this.elements=e}}function sL(n,e){let r=lL(e);for(const i of n.elements)r=r.filter(a=>!Ks(a,i));return{arrayValue:{values:r}}}class Ry extends o1{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function D4(n){return Tr(n.integerValue||n.doubleValue)}function lL(n){return rA(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DW(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Pm&&a instanceof Pm||i instanceof Nm&&a instanceof Nm?Xd(i.elements,a.elements,Ks):i instanceof Ry&&a instanceof Ry?Ks(i.Pe,a.Pe):i instanceof Dy&&a instanceof Dy}(n.transform,e.transform)}class RW{constructor(e,r){this.version=e,this.transformResults=r}}class To{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new To}static exists(e){return new To(void 0,e)}static updateTime(e){return new To(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class s1{}function uL(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sA(n.key,To.none()):new ng(n.key,n.data,To.none());{const r=n.data,i=va.empty();let a=new Ai(_i.comparator);for(let o of e.fields)if(!a.has(o)){let s=r.field(o);s===null&&o.length>1&&(o=o.popLast(),s=r.field(o)),s===null?i.delete(o):i.set(o,s),a=a.add(o)}return new vc(n.key,i,new Ya(a.toArray()),To.none())}}function MW(n,e,r){n instanceof ng?function(a,o,s){const l=a.value.clone(),u=M4(a.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,r):n instanceof vc?function(a,o,s){if(!Xv(a.precondition,o))return void o.convertToUnknownDocument(s.version);const l=M4(a.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(cL(a)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,r):function(a,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function Wp(n,e,r,i){return n instanceof ng?function(o,s,l,u){if(!Xv(o.precondition,s))return l;const c=o.value.clone(),f=F4(o.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,r,i):n instanceof vc?function(o,s,l,u){if(!Xv(o.precondition,s))return l;const c=F4(o.fieldTransforms,u,s),f=s.data;return f.setAll(cL(o)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,r,i):function(o,s,l){return Xv(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(n,e,r)}function FW(n,e){let r=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),o=aL(i.transform,a||null);o!=null&&(r===null&&(r=va.empty()),r.set(i.field,o))}return r||null}function R4(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Xd(i,a,(o,s)=>DW(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ng extends s1{constructor(e,r,i,a=[]){super(),this.key=e,this.value=r,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class vc extends s1{constructor(e,r,i,a,o=[]){super(),this.key=e,this.data=r,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function cL(n){const e=new Map;return n.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const i=n.data.field(r);e.set(r,i)}}),e}function M4(n,e,r){const i=new Map;Pn(n.length===r.length);for(let a=0;a<r.length;a++){const o=n[a],s=o.transform,l=e.data.field(o.field);i.set(o.field,LW(s,l,r[a]))}return i}function F4(n,e,r){const i=new Map;for(const a of n){const o=a.transform,s=r.data.field(a.field);i.set(a.field,jW(o,s,e))}return i}class sA extends s1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BW extends s1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e,r,i,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,r){const i=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&MW(o,e,i[a])}}applyToLocalView(e,r){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(r=Wp(i,e,r,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(r=Wp(i,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const i=rL();return this.mutations.forEach(a=>{const o=e.get(a.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=r.has(a.key)?null:l;const u=uL(s,l);u!==null&&i.set(a.key,u),s.isValidDocument()||s.convertToNoDocument(jt.min())}),i}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Xd(this.mutations,e.mutations,(r,i)=>R4(r,i))&&Xd(this.baseMutations,e.baseMutations,(r,i)=>R4(r,i))}}class lA{constructor(e,r,i,a){this.batch=e,this.commitVersion=r,this.mutationResults=i,this.docVersions=a}static from(e,r,i){Pn(e.mutations.length===i.length);let a=function(){return kW}();const o=e.mutations;for(let s=0;s<o.length;s++)a=a.insert(o[s].key,i[s].version);return new lA(e,r,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr,tn;function zW(n){switch(n){default:return Tt();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0}}function fL(n){if(n===void 0)return Dl("GRPC error has no .code"),Oe.UNKNOWN;switch(n){case Mr.OK:return Oe.OK;case Mr.CANCELLED:return Oe.CANCELLED;case Mr.UNKNOWN:return Oe.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return Oe.INTERNAL;case Mr.UNAVAILABLE:return Oe.UNAVAILABLE;case Mr.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Mr.NOT_FOUND:return Oe.NOT_FOUND;case Mr.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Mr.ABORTED:return Oe.ABORTED;case Mr.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Mr.DATA_LOSS:return Oe.DATA_LOSS;default:return Tt()}}(tn=Mr||(Mr={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=new sf([4294967295,4294967295],0);function B4(n){const e=qW().encode(n),r=new D6;return r.update(e),new Uint8Array(r.digest())}function U4(n){const e=new DataView(n.buffer),r=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sf([r,i],0),new sf([a,o],0)]}class uA{constructor(e,r,i){if(this.bitmap=e,this.padding=r,this.hashCount=i,r<0||r>=8)throw new kp(`Invalid padding: ${r}`);if(i<0)throw new kp(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new kp(`Invalid hash count: ${i}`);if(e.length===0&&r!==0)throw new kp(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=sf.fromNumber(this.Ie)}Ee(e,r,i){let a=e.add(r.multiply(sf.fromNumber(i)));return a.compare(WW)===1&&(a=new sf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=B4(e),[i,a]=U4(r);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,a,o);if(!this.de(s))return!1}return!0}static create(e,r,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new uA(o,a,r);return i.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const r=B4(e),[i,a]=U4(r);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,a,o);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),i=e%8;this.bitmap[r]|=1<<i}}class kp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,r,i,a,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,i){const a=new Map;return a.set(e,rg.createSynthesizedTargetChangeForCurrentChange(e,r,i)),new l1(jt.min(),a,new ur(cn),Rl(),Gt())}}class rg{constructor(e,r,i,a,o){this.resumeToken=e,this.current=r,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,i){return new rg(i,r,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,r,i,a){this.Re=e,this.removedTargetIds=r,this.key=i,this.Ve=a}}class dL{constructor(e,r){this.targetId=e,this.me=r}}class hL{constructor(e,r,i=Ei.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=i,this.cause=a}}class $4{constructor(){this.fe=0,this.ge=z4(),this.pe=Ei.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Gt(),r=Gt(),i=Gt();return this.ge.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:i=i.add(a);break;default:Tt()}}),new rg(this.pe,this.ye,e,r,i)}Ce(){this.we=!1,this.ge=z4()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class HW{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rl(),this.qe=V4(),this.Qe=new ur(cn)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const i=this.Ge(r);switch(e.state){case 0:this.ze(r)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),i.De(e.resumeToken));break;default:Tt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((i,a)=>{this.ze(a)&&r(a)})}He(e){const r=e.targetId,i=e.me.count,a=this.Je(r);if(a){const o=a.target;if(P5(o))if(i===0){const s=new pt(o.path);this.Ue(r,s,$i.newNoDocument(s,jt.min()))}else Pn(i===1);else{const s=this.Ye(r);if(s!==i){const l=this.Ze(e),u=l?this.Xe(l,e,s):1;if(u!==0){this.je(r);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=r;let s,l;try{s=bf(i).toUint8Array()}catch(u){if(u instanceof q6)return Yd("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new uA(s,a,o)}catch(u){return Yd(u instanceof kp?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,r,i){return r.me.count===i-this.nt(e,r.targetId)?0:2}nt(e,r){const i=this.Le.getRemoteKeysForTarget(r);let a=0;return i.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(r,o,null),a++)}),a}rt(e){const r=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&P5(l.target)){const u=new pt(l.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,$i.newNoDocument(u,e))}o.be&&(r.set(s,o.ve()),o.Ce())}});let i=Gt();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const a=new l1(e,r,this.Qe,this.ke,i);return this.ke=Rl(),this.qe=V4(),this.Qe=new ur(cn),a}$e(e,r){if(!this.ze(e))return;const i=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,i),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,i){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,r)?a.Fe(r,1):a.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),i&&(this.ke=this.ke.insert(r,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new $4,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ai(cn),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Je("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $4),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function V4(){return new ur(pt.comparator)}function z4(){return new ur(pt.comparator)}const KW={asc:"ASCENDING",desc:"DESCENDING"},GW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YW={and:"AND",or:"OR"};class XW{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function T5(n,e){return n.useProto3Json||n1(e)?e:{value:e}}function My(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QW(n,e){return My(n,e.toTimestamp())}function $s(n){return Pn(!!n),jt.fromTimestamp(function(r){const i=ac(r);return new Xr(i.seconds,i.nanos)}(n))}function cA(n,e){return C5(n,e).canonicalString()}function C5(n,e){const r=function(a){return new Hn(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?r:r.child(e)}function mL(n){const e=Hn.fromString(n);return Pn(bL(e)),e}function I5(n,e){return cA(n.databaseId,e.path)}function mw(n,e){const r=mL(e);if(r.get(1)!==n.databaseId.projectId)throw new Ke(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+n.databaseId.projectId);if(r.get(3)!==n.databaseId.database)throw new Ke(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+n.databaseId.database);return new pt(vL(r))}function gL(n,e){return cA(n.databaseId,e)}function ZW(n){const e=mL(n);return e.length===4?Hn.emptyPath():vL(e)}function O5(n){return new Hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vL(n){return Pn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function q4(n,e,r){return{name:I5(n,e),fields:r.value.mapValue.fields}}function JW(n,e){let r;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Tt()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(c,f){return c.useProto3Json?(Pn(f===void 0||typeof f=="string"),Ei.fromBase64String(f||"")):(Pn(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ei.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const f=c.code===void 0?Oe.UNKNOWN:fL(c.code);return new Ke(f,c.message||"")}(s);r=new hL(i,a,o,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=mw(n,i.document.name),o=$s(i.document.updateTime),s=i.document.createTime?$s(i.document.createTime):jt.min(),l=new va({mapValue:{fields:i.document.fields}}),u=$i.newFoundDocument(a,o,s,l),c=i.targetIds||[],f=i.removedTargetIds||[];r=new Qv(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=mw(n,i.document),o=i.readTime?$s(i.readTime):jt.min(),s=$i.newNoDocument(a,o),l=i.removedTargetIds||[];r=new Qv([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=mw(n,i.document),o=i.removedTargetIds||[];r=new Qv([],o,a,null)}else{if(!("filter"in e))return Tt();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,s=new VW(a,o),l=i.targetId;r=new dL(l,s)}}return r}function eH(n,e){let r;if(e instanceof ng)r={update:q4(n,e.key,e.value)};else if(e instanceof sA)r={delete:I5(n,e.key)};else if(e instanceof vc)r={update:q4(n,e.key,e.data),updateMask:uH(e.fieldMask)};else{if(!(e instanceof BW))return Tt();r={verify:I5(n,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const l=s.transform;if(l instanceof Dy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Pm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Nm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ry)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw Tt()}(0,i))),e.precondition.isNone||(r.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:QW(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Tt()}(n,e.precondition)),r}function tH(n,e){return n&&n.length>0?(Pn(e!==void 0),n.map(r=>function(a,o){let s=a.updateTime?$s(a.updateTime):$s(o);return s.isEqual(jt.min())&&(s=$s(o)),new RW(s,a.transformResults||[])}(r,e))):[]}function nH(n,e){return{documents:[gL(n,e.path)]}}function rH(n,e){const r={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=gL(n,a);const o=function(c){if(c.length!==0)return wL(as.create(c,"and"))}(e.filters);o&&(r.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(f=>function(h){return{field:od(h.field),direction:oH(h.dir)}}(f))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const l=T5(n,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:a}}function iH(n){let e=ZW(n.parent);const r=n.structuredQuery,i=r.from?r.from.length:0;let a=null;if(i>0){Pn(i===1);const f=r.from[0];f.allDescendants?a=f.collectionId:e=e.child(f.collectionId)}let o=[];r.where&&(o=function(d){const h=yL(d);return h instanceof as&&G6(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(d){return d.map(h=>function(y){return new Em(sd(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(r.orderBy));let l=null;r.limit&&(l=function(d){let h;return h=typeof d=="object"?d.value:d,n1(h)?null:h}(r.limit));let u=null;r.startAt&&(u=function(d){const h=!!d.before,p=d.values||[];return new Ly(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new Ly(p,h)}(r.endAt)),AW(e,a,s,o,l,"F",u,c)}function aH(n,e){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function yL(n){return n.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const i=sd(r.unaryFilter.field);return Ur.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=sd(r.unaryFilter.field);return Ur.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=sd(r.unaryFilter.field);return Ur.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=sd(r.unaryFilter.field);return Ur.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}(n):n.fieldFilter!==void 0?function(r){return Ur.create(sd(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(r.fieldFilter.op),r.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(r){return as.create(r.compositeFilter.filters.map(i=>yL(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt()}}(r.compositeFilter.op))}(n):Tt()}function oH(n){return KW[n]}function sH(n){return GW[n]}function lH(n){return YW[n]}function od(n){return{fieldPath:n.canonicalString()}}function sd(n){return _i.fromServerFormat(n.fieldPath)}function wL(n){return n instanceof Ur?function(r){if(r.op==="=="){if(C4(r.value))return{unaryFilter:{field:od(r.field),op:"IS_NAN"}};if(T4(r.value))return{unaryFilter:{field:od(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(C4(r.value))return{unaryFilter:{field:od(r.field),op:"IS_NOT_NAN"}};if(T4(r.value))return{unaryFilter:{field:od(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:od(r.field),op:sH(r.op),value:r.value}}}(n):n instanceof as?function(r){const i=r.getFilters().map(a=>wL(a));return i.length===1?i[0]:{compositeFilter:{op:lH(r.op),filters:i}}}(n):Tt()}function uH(n){const e=[];return n.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function bL(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,r,i,a,o=jt.min(),s=jt.min(),l=Ei.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=r,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Du(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e){this.ct=e}}function fH(n){const e=iH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?k5(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(){this.un=new hH}addToCollectionParentIndex(e,r){return this.un.add(r),De.resolve()}getCollectionParents(e,r){return De.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return De.resolve()}deleteFieldIndex(e,r){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,r){return De.resolve()}getDocumentsMatchingTarget(e,r){return De.resolve(null)}getIndexType(e,r){return De.resolve(0)}getFieldIndexes(e,r){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,r){return De.resolve(ic.min())}getMinOffsetFromCollectionGroup(e,r){return De.resolve(ic.min())}updateCollectionGroup(e,r,i){return De.resolve()}updateIndexEntries(e,r){return De.resolve()}}class hH{constructor(){this.index={}}add(e){const r=e.lastSegment(),i=e.popLast(),a=this.index[r]||new Ai(Hn.comparator),o=!a.has(i);return this.index[r]=a.add(i),o}has(e){const r=e.lastSegment(),i=e.popLast(),a=this.index[r];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ai(Hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Jd(0)}static kn(){return new Jd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(){this.changes=new Sh(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const i=this.changes.get(r);return i!==void 0?De.resolve(i):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,r,i,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,r){let i=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(i!==null&&Wp(i.mutation,a,Ya.empty(),Xr.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(i=>this.getLocalViewOfDocuments(e,i,Gt()).next(()=>i))}getLocalViewOfDocuments(e,r,i=Gt()){const a=Qc();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,i).next(o=>{let s=Np();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const i=Qc();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,Gt()))}populateOverlays(e,r,i){const a=[];return i.forEach(o=>{r.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((s,l)=>{r.set(s,l)})})}computeViews(e,r,i,a){let o=Rl();const s=qp(),l=function(){return qp()}();return r.forEach((u,c)=>{const f=i.get(c.key);a.has(c.key)&&(f===void 0||f.mutation instanceof vc)?o=o.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),Wp(f.mutation,c,f.mutation.getFieldMask(),Xr.now())):s.set(c.key,Ya.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,f)=>s.set(c,f)),r.forEach((c,f)=>{var d;return l.set(c,new mH(f,(d=s.get(c))!==null&&d!==void 0?d:null))}),l))}recalculateAndSaveOverlays(e,r){const i=qp();let a=new ur((s,l)=>s-l),o=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=r.get(u);if(c===null)return;let f=i.get(u)||Ya.empty();f=l.applyToLocalView(c,f),i.set(u,f);const d=(a.get(l.batchId)||Gt()).add(u);a=a.insert(l.batchId,d)})}).next(()=>{const s=[],l=a.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,d=rL();f.forEach(h=>{if(!o.has(h)){const p=uL(r.get(h),i.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return De.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,r,i,a){return function(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Z6(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,i,a):this.getDocumentsMatchingCollectionQuery(e,r,i,a)}getNextDocuments(e,r,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,i,a).next(o=>{const s=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,i.largestBatchId,a-o.size):De.resolve(Qc());let l=-1,u=o;return s.next(c=>De.forEach(c,(f,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),o.get(f)?De.resolve():this.remoteDocumentCache.getEntry(e,f).next(h=>{u=u.insert(f,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,Gt())).next(f=>({batchId:l,changes:nL(f)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new pt(r)).next(i=>{let a=Np();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,i,a){const o=r.collectionGroup;let s=Np();return this.indexManager.getCollectionParents(e,o).next(l=>De.forEach(l,u=>{const c=function(d,h){return new Ah(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,i,a).next(f=>{f.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,i,o,a))).next(s=>{o.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,$i.newInvalidDocument(f)))});let l=Np();return s.forEach((u,c)=>{const f=o.get(u);f!==void 0&&Wp(f.mutation,c,Ya.empty(),Xr.now()),a1(r,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return De.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:$s(a.createTime)}}(r)),De.resolve()}getNamedQuery(e,r){return De.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(a){return{name:a.name,query:fH(a.bundledQuery),readTime:$s(a.readTime)}}(r)),De.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(){this.overlays=new ur(pt.comparator),this.Ir=new Map}getOverlay(e,r){return De.resolve(this.overlays.get(r))}getOverlays(e,r){const i=Qc();return De.forEach(r,a=>this.getOverlay(e,a).next(o=>{o!==null&&i.set(a,o)})).next(()=>i)}saveOverlays(e,r,i){return i.forEach((a,o)=>{this.ht(e,r,o)}),De.resolve()}removeOverlaysForBatchId(e,r,i){const a=this.Ir.get(i);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),De.resolve()}getOverlaysForCollection(e,r,i){const a=Qc(),o=r.length+1,s=new pt(r.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>i&&a.set(u.getKey(),u)}return De.resolve(a)}getOverlaysForCollectionGroup(e,r,i,a){let o=new ur((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>i){let f=o.get(c.largestBatchId);f===null&&(f=Qc(),o=o.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Qc(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=a)););return De.resolve(l)}ht(e,r,i){const a=this.overlays.get(i.key);if(a!==null){const s=this.Ir.get(a.largestBatchId).delete(i.key);this.Ir.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new $W(r,i));let o=this.Ir.get(r);o===void 0&&(o=Gt(),this.Ir.set(r,o)),this.Ir.set(r,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(){this.sessionToken=Ei.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,De.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.Tr=new Ai(ai.Er),this.dr=new Ai(ai.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const i=new ai(e,r);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,r){e.forEach(i=>this.addReference(i,r))}removeReference(e,r){this.Vr(new ai(e,r))}mr(e,r){e.forEach(i=>this.removeReference(i,r))}gr(e){const r=new pt(new Hn([])),i=new ai(r,e),a=new ai(r,e+1),o=[];return this.dr.forEachInRange([i,a],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new pt(new Hn([])),i=new ai(r,e),a=new ai(r,e+1);let o=Gt();return this.dr.forEachInRange([i,a],s=>{o=o.add(s.key)}),o}containsKey(e){const r=new ai(e,0),i=this.Tr.firstAfterOrEqual(r);return i!==null&&e.isEqual(i.key)}}class ai{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return pt.comparator(e.key,r.key)||cn(e.wr,r.wr)}static Ar(e,r){return cn(e.wr,r.wr)||pt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ai(ai.Er)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,i,a){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new UW(o,r,i,a);this.mutationQueue.push(s);for(const l of a)this.br=this.br.add(new ai(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return De.resolve(s)}lookupMutationBatch(e,r){return De.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const i=r+1,a=this.vr(i),o=a<0?0:a;return De.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const i=new ai(r,0),a=new ai(r,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,a],s=>{const l=this.Dr(s.wr);o.push(l)}),De.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let i=new Ai(cn);return r.forEach(a=>{const o=new ai(a,0),s=new ai(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],l=>{i=i.add(l.wr)})}),De.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,r){const i=r.path,a=i.length+1;let o=i;pt.isDocumentKey(o)||(o=o.child(""));const s=new ai(new pt(o),0);let l=new Ai(cn);return this.br.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===a&&(l=l.add(u.wr)),!0)},s),De.resolve(this.Cr(l))}Cr(e){const r=[];return e.forEach(i=>{const a=this.Dr(i);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){Pn(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return De.forEach(r.mutations,a=>{const o=new ai(a.key,r.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,r){const i=new ai(r,0),a=this.br.firstAfterOrEqual(i);return De.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e){this.Mr=e,this.docs=function(){return new ur(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const i=r.key,a=this.docs.get(i),o=a?a.size:0,s=this.Mr(r);return this.docs=this.docs.insert(i,{document:r.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const i=this.docs.get(r);return De.resolve(i?i.document.mutableCopy():$i.newInvalidDocument(r))}getEntries(e,r){let i=Rl();return r.forEach(a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():$i.newInvalidDocument(a))}),De.resolve(i)}getDocumentsMatchingQuery(e,r,i,a){let o=Rl();const s=r.path,l=new pt(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||iW(rW(f),i)<=0||(a.has(f.key)||a1(r,f))&&(o=o.insert(f.key,f.mutableCopy()))}return De.resolve(o)}getAllFromCollectionGroup(e,r,i,a){Tt()}Or(e,r){return De.forEach(this.docs,i=>r(i))}newChangeBuffer(e){return new xH(this)}getSize(e){return De.resolve(this.size)}}class xH extends pH{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?r.push(this.cr.addEntry(e,a)):this.cr.removeEntry(i)}),De.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.persistence=e,this.Nr=new Sh(r=>iA(r),aA),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fA,this.targetCount=0,this.kr=Jd.Bn()}forEachTarget(e,r){return this.Nr.forEach((i,a)=>r(a)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.Lr&&(this.Lr=r),De.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Jd(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,De.resolve()}updateTargetData(e,r){return this.Kn(r),De.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,r,i){let a=0;const o=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=r&&i.get(l.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),a++)}),De.waitFor(o).next(()=>a)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,r){const i=this.Nr.get(r)||null;return De.resolve(i)}addMatchingKeys(e,r,i){return this.Br.Rr(r,i),De.resolve()}removeMatchingKeys(e,r,i){this.Br.mr(r,i);const a=this.persistence.referenceDelegate,o=[];return a&&r.forEach(s=>{o.push(a.markPotentiallyOrphaned(e,s))}),De.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),De.resolve()}getMatchingKeysForTargetId(e,r){const i=this.Br.yr(r);return De.resolve(i)}containsKey(e,r){return De.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e,r){this.qr={},this.overlays={},this.Qr=new eA(0),this.Kr=!1,this.Kr=!0,this.$r=new wH,this.referenceDelegate=e(this),this.Ur=new AH(this),this.indexManager=new dH,this.remoteDocumentCache=function(a){return new _H(a)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new cH(r),this.Gr=new vH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new yH,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let i=this.qr[e.toKey()];return i||(i=new bH(r,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,i){Je("MemoryPersistence","Starting transaction:",e);const a=new EH(this.Qr.next());return this.referenceDelegate.zr(),i(a).next(o=>this.referenceDelegate.jr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Hr(e,r){return De.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,r)))}}class EH extends oW{constructor(e){super(),this.currentSequenceNumber=e}}class dA{constructor(e){this.persistence=e,this.Jr=new fA,this.Yr=null}static Zr(e){return new dA(e)}get Xr(){if(this.Yr)return this.Yr;throw Tt()}addReference(e,r,i){return this.Jr.addReference(i,r),this.Xr.delete(i.toString()),De.resolve()}removeReference(e,r,i){return this.Jr.removeReference(i,r),this.Xr.add(i.toString()),De.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),De.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(a=>this.Xr.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Xr,i=>{const a=pt.fromPath(i);return this.ei(e,a).next(o=>{o||r.removeEntry(a,jt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(i=>{i?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return De.or([()=>De.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,r,i,a){this.targetId=e,this.fromCache=r,this.$i=i,this.Ui=a}static Wi(e,r){let i=Gt(),a=Gt();for(const o of r.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new hA(e,r.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Oz()?8:sW(Cz())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,i,a){const o={result:null};return this.Yi(e,r).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,r,a,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new PH;return this.Xi(e,r,s).next(l=>{if(o.result=l,this.zi)return this.es(e,r,s,l.size)})}).next(()=>o.result)}es(e,r,i,a){return i.documentReadCount<this.ji?(up()<=an.DEBUG&&Je("QueryEngine","SDK will not create cache indexes for query:",ad(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),De.resolve()):(up()<=an.DEBUG&&Je("QueryEngine","Query:",ad(r),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Hi*a?(up()<=an.DEBUG&&Je("QueryEngine","The SDK decides to create cache indexes for query:",ad(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Us(r))):De.resolve())}Yi(e,r){if(L4(r))return De.resolve(null);let i=Us(r);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=k5(r,null,"F"),i=Us(r)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=Gt(...o);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.ts(r,l);return this.ns(r,c,s,u.readTime)?this.Yi(e,k5(r,null,"F")):this.rs(e,c,r,u)}))})))}Zi(e,r,i,a){return L4(r)||a.isEqual(jt.min())?De.resolve(null):this.Ji.getDocuments(e,i).next(o=>{const s=this.ts(r,o);return this.ns(r,s,i,a)?De.resolve(null):(up()<=an.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ad(r)),this.rs(e,s,r,nW(a,-1)).next(l=>l))})}ts(e,r){let i=new Ai(eL(e));return r.forEach((a,o)=>{a1(e,o)&&(i=i.add(o))}),i}ns(e,r,i,a){if(e.limit===null)return!1;if(i.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Xi(e,r,i){return up()<=an.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",ad(r)),this.Ji.getDocumentsMatchingQuery(e,r,ic.min(),i)}rs(e,r,i,a){return this.Ji.getDocumentsMatchingQuery(e,i,a).next(o=>(r.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e,r,i,a){this.persistence=e,this.ss=r,this.serializer=a,this.os=new ur(cn),this._s=new Sh(o=>iA(o),aA),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gH(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function TH(n,e,r,i){return new kH(n,e,r,i)}async function _L(n,e){const r=Rt(n);return await r.persistence.runTransaction("Handle user change","readonly",i=>{let a;return r.mutationQueue.getAllMutationBatches(i).next(o=>(a=o,r.ls(e),r.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],l=[];let u=Gt();for(const c of a){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of o){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return r.localDocuments.getDocuments(i,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:l}))})})}function CH(n,e){const r=Rt(n);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),o=r.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const d=c.batch,h=d.keys();let p=De.resolve();return h.forEach(y=>{p=p.next(()=>f.getEntry(u,y)).next(w=>{const _=c.docVersions.get(y);Pn(_!==null),w.version.compareTo(_)<0&&(d.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),f.addEntry(w)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(u,d))}(r,i,e,o).next(()=>o.apply(i)).next(()=>r.mutationQueue.performConsistencyCheck(i)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=Gt();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>r.localDocuments.getDocuments(i,a))})}function xL(n){const e=Rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function IH(n,e){const r=Rt(n),i=e.snapshotVersion;let a=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});a=r.os;const l=[];e.targetChanges.forEach((f,d)=>{const h=a.get(d);if(!h)return;l.push(r.Ur.removeMatchingKeys(o,f.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(o,f.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Ei.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,i)),a=a.insert(d,p),function(w,_,b){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,f)&&l.push(r.Ur.updateTargetData(o,p))});let u=Rl(),c=Gt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(OH(o,s,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!i.isEqual(jt.min())){const f=r.Ur.getLastRemoteSnapshotVersion(o).next(d=>r.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));l.push(f)}return De.waitFor(l).next(()=>s.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(r.os=a,o))}function OH(n,e,r){let i=Gt(),a=Gt();return r.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Rl();return r.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(l)),u.isNoDocument()&&u.version.isEqual(jt.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):Je("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:a}})}function jH(n,e){const r=Rt(n);return r.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function LH(n,e){const r=Rt(n);return r.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return r.Ur.getTargetData(i,e).next(o=>o?(a=o,De.resolve(a)):r.Ur.allocateTargetId(i).next(s=>(a=new Du(e,s,"TargetPurposeListen",i.currentSequenceNumber),r.Ur.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=r.os.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.os=r.os.insert(i.targetId,i),r._s.set(e,i.targetId)),i})}async function j5(n,e,r){const i=Rt(n),a=i.os.get(e),o=r?"readwrite":"readwrite-primary";try{r||await i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!tg(s))throw s;Je("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.os=i.os.remove(e),i._s.delete(a.target)}function W4(n,e,r){const i=Rt(n);let a=jt.min(),o=Gt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const d=Rt(u),h=d._s.get(f);return h!==void 0?De.resolve(d.os.get(h)):d.Ur.getTargetData(c,f)}(i,s,Us(e)).next(l=>{if(l)return a=l.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>i.ss.getDocumentsMatchingQuery(s,e,r?a:jt.min(),r?o:Gt())).next(l=>(DH(i,EW(e),l),{documents:l,Ts:o})))}function DH(n,e,r){let i=n.us.get(e)||jt.min();r.forEach((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.us.set(e,i)}class H4{constructor(){this.activeTargetIds=IW()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RH{constructor(){this.so=new H4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,i){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,i){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new H4,Promise.resolve()}handleUserChange(e,r,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lv=null;function gw(){return lv===null?lv=function(){return 268435456+Math.round(2147483648*Math.random())}():lv++,"0x"+lv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="WebChannelConnection";class UH extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const i=r.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+r.host,this.vo=`projects/${a}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${o}`}get Fo(){return!1}Mo(r,i,a,o,s){const l=gw(),u=this.xo(r,i.toUriEncodedString());Je("RestConnection",`Sending RPC '${r}' ${l}:`,u,a);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(r,u,c,a).then(f=>(Je("RestConnection",`Received RPC '${r}' ${l}: `,f),f),f=>{throw Yd("RestConnection",`RPC '${r}' ${l} failed with error: `,f,"url: ",u,"request:",a),f})}Lo(r,i,a,o,s,l){return this.Mo(r,i,a,o,s)}Oo(r,i,a){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xh}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>r[s]=o),a&&a.headers.forEach((o,s)=>r[s]=o)}xo(r,i){const a=FH[r];return`${this.Do}/v1/${i}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,i,a){const o=gw();return new Promise((s,l)=>{const u=new R6;u.setWithCredentials(!0),u.listenOnce(M6.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Gv.NO_ERROR:const f=u.getResponseJson();Je(ji,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Gv.TIMEOUT:Je(ji,`RPC '${e}' ${o} timed out`),l(new Ke(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case Gv.HTTP_ERROR:const d=u.getStatus();if(Je(ji,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const y=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(b)>=0?b:Oe.UNKNOWN}(p.status);l(new Ke(y,p.message))}else l(new Ke(Oe.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ke(Oe.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{Je(ji,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(a);Je(ji,`RPC '${e}' ${o} sending request:`,a),u.send(r,"POST",c,i,15)})}Bo(e,r,i){const a=gw(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=U6(),l=B6(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,r,i),u.encodeInitMessageHeaders=!0;const f=o.join("");Je(ji,`Creating RPC '${e}' stream ${a}: ${f}`,u);const d=s.createWebChannel(f,u);let h=!1,p=!1;const y=new BH({Io:_=>{p?Je(ji,`Not sending because RPC '${e}' stream ${a} is closed:`,_):(h||(Je(ji,`Opening RPC '${e}' stream ${a} transport.`),d.open(),h=!0),Je(ji,`RPC '${e}' stream ${a} sending:`,_),d.send(_))},To:()=>d.close()}),w=(_,b,S)=>{_.listen(b,A=>{try{S(A)}catch(T){setTimeout(()=>{throw T},0)}})};return w(d,Pp.EventType.OPEN,()=>{p||(Je(ji,`RPC '${e}' stream ${a} transport opened.`),y.yo())}),w(d,Pp.EventType.CLOSE,()=>{p||(p=!0,Je(ji,`RPC '${e}' stream ${a} transport closed`),y.So())}),w(d,Pp.EventType.ERROR,_=>{p||(p=!0,Yd(ji,`RPC '${e}' stream ${a} transport errored:`,_),y.So(new Ke(Oe.UNAVAILABLE,"The operation could not be completed")))}),w(d,Pp.EventType.MESSAGE,_=>{var b;if(!p){const S=_.data[0];Pn(!!S);const A=S,T=A.error||((b=A[0])===null||b===void 0?void 0:b.error);if(T){Je(ji,`RPC '${e}' stream ${a} received error:`,T);const B=T.status;let $=function(O){const U=Mr[O];if(U!==void 0)return fL(U)}(B),L=T.message;$===void 0&&($=Oe.INTERNAL,L="Unknown error status: "+B+" with message "+T.message),p=!0,y.So(new Ke($,L)),d.close()}else Je(ji,`RPC '${e}' stream ${a} received:`,S),y.bo(S)}}),w(l,F6.STAT_EVENT,_=>{_.stat===x5.PROXY?Je(ji,`RPC '${e}' stream ${a} detected buffering proxy`):_.stat===x5.NOPROXY&&Je(ji,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function vw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n){return new XW(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,r,i=1e3,a=1.5,o=6e4){this.ui=e,this.timerId=r,this.ko=i,this.qo=a,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),a=Math.max(0,r-i);a>0&&Je("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,r,i,a,o,s,l,u){this.ui=e,this.Ho=i,this.Jo=a,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new AL(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Oe.RESOURCE_EXHAUSTED?(Dl(r.toString()),Dl("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Yo===r&&this.P_(i,a)},i=>{e(()=>{const a=new Ke(Oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(a)})})}P_(e,r){const i=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{i(()=>this.I_(a))}),this.stream.onMessage(a=>{i(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $H extends SL{constructor(e,r,i,a,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s),this.serializer=o}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=JW(this.serializer,e),i=function(o){if(!("targetChange"in o))return jt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?jt.min():s.readTime?$s(s.readTime):jt.min()}(e);return this.listener.d_(r,i)}A_(e){const r={};r.database=O5(this.serializer),r.addTarget=function(o,s){let l;const u=s.target;if(l=P5(u)?{documents:nH(o,u)}:{query:rH(o,u)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=pL(o,s.resumeToken);const c=T5(o,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(jt.min())>0){l.readTime=My(o,s.snapshotVersion.toTimestamp());const c=T5(o,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=aH(this.serializer,e);i&&(r.labels=i),this.a_(r)}R_(e){const r={};r.database=O5(this.serializer),r.removeTarget=e,this.a_(r)}}class VH extends SL{constructor(e,r,i,a,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Pn(!!e.streamToken),this.lastStreamToken=e.streamToken,Pn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Pn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=tH(e.writeResults,e.commitTime),i=$s(e.commitTime);return this.listener.g_(i,r)}p_(){const e={};e.database=O5(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(i=>eH(this.serializer,i))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH extends class{}{constructor(e,r,i,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=i,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Ke(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,C5(r,i),a,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(Oe.UNKNOWN,o.toString())})}Lo(e,r,i,a,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,C5(r,i),a,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(Oe.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class qH{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dl(r),this.D_=!1):Je("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,r,i,a,o){this.localStore=e,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{i.enqueueAndForget(async()=>{Ff(this)&&(Je("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Rt(u);c.L_.add(4),await ig(c),c.q_.set("Unknown"),c.L_.delete(4),await c1(c)}(this))})}),this.q_=new qH(i,a)}}async function c1(n){if(Ff(n))for(const e of n.B_)await e(!0)}async function ig(n){for(const e of n.B_)await e(!1)}function EL(n,e){const r=Rt(n);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),vA(r)?gA(r):Eh(r).r_()&&mA(r,e))}function pA(n,e){const r=Rt(n),i=Eh(r);r.N_.delete(e),i.r_()&&PL(r,e),r.N_.size===0&&(i.r_()?i.o_():Ff(r)&&r.q_.set("Unknown"))}function mA(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const r=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Eh(n).A_(e)}function PL(n,e){n.Q_.xe(e),Eh(n).R_(e)}function gA(n){n.Q_=new HW({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Eh(n).start(),n.q_.v_()}function vA(n){return Ff(n)&&!Eh(n).n_()&&n.N_.size>0}function Ff(n){return Rt(n).L_.size===0}function NL(n){n.Q_=void 0}async function HH(n){n.q_.set("Online")}async function KH(n){n.N_.forEach((e,r)=>{mA(n,e)})}async function GH(n,e){NL(n),vA(n)?(n.q_.M_(e),gA(n)):n.q_.set("Unknown")}async function YH(n,e,r){if(n.q_.set("Online"),e instanceof hL&&e.state===2&&e.cause)try{await async function(a,o){const s=o.cause;for(const l of o.targetIds)a.N_.has(l)&&(await a.remoteSyncer.rejectListen(l,s),a.N_.delete(l),a.Q_.removeTarget(l))}(n,e)}catch(i){Je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Fy(n,i)}else if(e instanceof Qv?n.Q_.Ke(e):e instanceof dL?n.Q_.He(e):n.Q_.We(e),!r.isEqual(jt.min()))try{const i=await xL(n.localStore);r.compareTo(i)>=0&&await function(o,s){const l=o.Q_.rt(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.N_.get(c);f&&o.N_.set(c,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(Ei.EMPTY_BYTE_STRING,f.snapshotVersion)),PL(o,u);const d=new Du(f.target,u,c,f.sequenceNumber);mA(o,d)}),o.remoteSyncer.applyRemoteEvent(l)}(n,r)}catch(i){Je("RemoteStore","Failed to raise snapshot:",i),await Fy(n,i)}}async function Fy(n,e,r){if(!tg(e))throw e;n.L_.add(1),await ig(n),n.q_.set("Offline"),r||(r=()=>xL(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Je("RemoteStore","Retrying IndexedDB access"),await r(),n.L_.delete(1),await c1(n)})}function kL(n,e){return e().catch(r=>Fy(n,r,e))}async function f1(n){const e=Rt(n),r=oc(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;XH(e);)try{const a=await jH(e.localStore,i);if(a===null){e.O_.length===0&&r.o_();break}i=a.batchId,QH(e,a)}catch(a){await Fy(e,a)}TL(e)&&CL(e)}function XH(n){return Ff(n)&&n.O_.length<10}function QH(n,e){n.O_.push(e);const r=oc(n);r.r_()&&r.V_&&r.m_(e.mutations)}function TL(n){return Ff(n)&&!oc(n).n_()&&n.O_.length>0}function CL(n){oc(n).start()}async function ZH(n){oc(n).p_()}async function JH(n){const e=oc(n);for(const r of n.O_)e.m_(r.mutations)}async function eK(n,e,r){const i=n.O_.shift(),a=lA.from(i,e,r);await kL(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await f1(n)}async function tK(n,e){e&&oc(n).V_&&await async function(i,a){if(function(s){return zW(s)&&s!==Oe.ABORTED}(a.code)){const o=i.O_.shift();oc(i).s_(),await kL(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a)),await f1(i)}}(n,e),TL(n)&&CL(n)}async function G4(n,e){const r=Rt(n);r.asyncQueue.verifyOperationInProgress(),Je("RemoteStore","RemoteStore received new credentials");const i=Ff(r);r.L_.add(3),await ig(r),i&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await c1(r)}async function nK(n,e){const r=Rt(n);e?(r.L_.delete(2),await c1(r)):e||(r.L_.add(2),await ig(r),r.q_.set("Unknown"))}function Eh(n){return n.K_||(n.K_=function(r,i,a){const o=Rt(r);return o.w_(),new $H(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{Eo:HH.bind(null,n),Ro:KH.bind(null,n),mo:GH.bind(null,n),d_:YH.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),vA(n)?gA(n):n.q_.set("Unknown")):(await n.K_.stop(),NL(n))})),n.K_}function oc(n){return n.U_||(n.U_=function(r,i,a){const o=Rt(r);return o.w_(),new VH(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ZH.bind(null,n),mo:tK.bind(null,n),f_:JH.bind(null,n),g_:eK.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await f1(n)):(await n.U_.stop(),n.O_.length>0&&(Je("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,r,i,a,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Nl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,i,a,o){const s=Date.now()+i,l=new yA(e,r,s,a,o);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wA(n,e){if(Dl("AsyncQueue",`${e}: ${n}`),tg(n))return new Ke(Oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.comparator=e?(r,i)=>e(r,i)||pt.comparator(r.key,i.key):(r,i)=>pt.comparator(r.key,i.key),this.keyedMap=Np(),this.sortedSet=new ur(this.comparator)}static emptySet(e){return new jd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,i)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof jd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const i=new jd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=r,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.W_=new ur(pt.comparator)}track(e){const r=e.doc.key,i=this.W_.get(r);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(r,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(r,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(r):e.type===1&&i.type===2?this.W_=this.W_.insert(r,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Tt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,i)=>{e.push(i)}),e}}class eh{constructor(e,r,i,a,o,s,l,u,c){this.query=e,this.docs=r,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,r,i,a,o){const s=[];return r.forEach(l=>{s.push({type:0,doc:l})}),new eh(e,r,jd.emptySet(r),s,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&i1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,i=e.docChanges;if(r.length!==i.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==i[a].type||!r[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class iK{constructor(){this.queries=X4(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,i){const a=Rt(r),o=a.queries;a.queries=X4(),o.forEach((s,l)=>{for(const u of l.j_)u.onError(i)})})(this,new Ke(Oe.ABORTED,"Firestore shutting down"))}}function X4(){return new Sh(n=>J6(n),i1)}async function bA(n,e){const r=Rt(n);let i=3;const a=e.query;let o=r.queries.get(a);o?!o.H_()&&e.J_()&&(i=2):(o=new rK,i=e.J_()?0:1);try{switch(i){case 0:o.z_=await r.onListen(a,!0);break;case 1:o.z_=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const l=wA(s,`Initialization of query '${ad(e.query)}' failed`);return void e.onError(l)}r.queries.set(a,o),o.j_.push(e),e.Z_(r.onlineState),o.z_&&e.X_(o.z_)&&xA(r)}async function _A(n,e){const r=Rt(n),i=e.query;let a=3;const o=r.queries.get(i);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?a=e.J_()?0:1:!o.H_()&&e.J_()&&(a=2))}switch(a){case 0:return r.queries.delete(i),r.onUnlisten(i,!0);case 1:return r.queries.delete(i),r.onUnlisten(i,!1);case 2:return r.onLastRemoteStoreUnlisten(i);default:return}}function aK(n,e){const r=Rt(n);let i=!1;for(const a of e){const o=a.query,s=r.queries.get(o);if(s){for(const l of s.j_)l.X_(a)&&(i=!0);s.z_=a}}i&&xA(r)}function oK(n,e,r){const i=Rt(n),a=i.queries.get(e);if(a)for(const o of a.j_)o.onError(r);i.queries.delete(e)}function xA(n){n.Y_.forEach(e=>{e.next()})}var L5,Q4;(Q4=L5||(L5={})).ea="default",Q4.Cache="cache";class AA{constructor(e,r,i){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new eh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const i=r!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=eh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==L5.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.key=e}}class OL{constructor(e){this.key=e}}class sK{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Gt(),this.mutatedKeys=Gt(),this.Aa=eL(e),this.Ra=new jd(this.Aa)}get Va(){return this.Ta}ma(e,r){const i=r?r.fa:new Y4,a=r?r.Ra:this.Ra;let o=r?r.mutatedKeys:this.mutatedKeys,s=a,l=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((f,d)=>{const h=a.get(f),p=a1(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;h&&p?h.data.isEqual(p.data)?y!==w&&(i.track({type:3,doc:p}),_=!0):this.ga(h,p)||(i.track({type:2,doc:p}),_=!0,(u&&this.Aa(p,u)>0||c&&this.Aa(p,c)<0)&&(l=!0)):!h&&p?(i.track({type:0,doc:p}),_=!0):h&&!p&&(i.track({type:1,doc:h}),_=!0,(u||c)&&(l=!0)),_&&(p?(s=s.add(p),o=w?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),i.track({type:1,doc:f})}return{Ra:s,fa:i,ns:l,mutatedKeys:o}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,i,a){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((f,d)=>function(p,y){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return w(p)-w(y)}(f.type,d.type)||this.Aa(f.doc,d.doc)),this.pa(i),a=a!=null&&a;const l=r&&!a?this.ya():[],u=this.da.size===0&&this.current&&!a?1:0,c=u!==this.Ea;return this.Ea=u,s.length!==0||c?{snapshot:new eh(this.query,e.Ra,o,s,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Y4,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Gt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const r=[];return e.forEach(i=>{this.da.has(i)||r.push(new OL(i))}),this.da.forEach(i=>{e.has(i)||r.push(new IL(i))}),r}ba(e){this.Ta=e.Ts,this.da=Gt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return eh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class lK{constructor(e,r,i){this.query=e,this.targetId=r,this.view=i}}class uK{constructor(e){this.key=e,this.va=!1}}class cK{constructor(e,r,i,a,o,s){this.localStore=e,this.remoteStore=r,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Sh(l=>J6(l),i1),this.Ma=new Map,this.xa=new Set,this.Oa=new ur(pt.comparator),this.Na=new Map,this.La=new fA,this.Ba={},this.ka=new Map,this.qa=Jd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function fK(n,e,r=!0){const i=FL(n);let a;const o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Da()):a=await jL(i,e,r,!0),a}async function dK(n,e){const r=FL(n);await jL(r,e,!0,!1)}async function jL(n,e,r,i){const a=await LH(n.localStore,Us(e)),o=a.targetId,s=n.sharedClientState.addLocalQueryTarget(o,r);let l;return i&&(l=await hK(n,e,o,s==="current",a.resumeToken)),n.isPrimaryClient&&r&&EL(n.remoteStore,a),l}async function hK(n,e,r,i,a){n.Ka=(d,h,p)=>async function(w,_,b,S){let A=_.view.ma(b);A.ns&&(A=await W4(w.localStore,_.query,!1).then(({documents:L})=>_.view.ma(L,A)));const T=S&&S.targetChanges.get(_.targetId),B=S&&S.targetMismatches.get(_.targetId)!=null,$=_.view.applyChanges(A,w.isPrimaryClient,T,B);return J4(w,_.targetId,$.wa),$.snapshot}(n,d,h,p);const o=await W4(n.localStore,e,!0),s=new sK(e,o.Ts),l=s.ma(o.documents),u=rg.createSynthesizedTargetChangeForCurrentChange(r,i&&n.onlineState!=="Offline",a),c=s.applyChanges(l,n.isPrimaryClient,u);J4(n,r,c.wa);const f=new lK(e,r,s);return n.Fa.set(e,f),n.Ma.has(r)?n.Ma.get(r).push(e):n.Ma.set(r,[e]),c.snapshot}async function pK(n,e,r){const i=Rt(n),a=i.Fa.get(e),o=i.Ma.get(a.targetId);if(o.length>1)return i.Ma.set(a.targetId,o.filter(s=>!i1(s,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await j5(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),r&&pA(i.remoteStore,a.targetId),D5(i,a.targetId)}).catch(eg)):(D5(i,a.targetId),await j5(i.localStore,a.targetId,!0))}async function mK(n,e){const r=Rt(n),i=r.Fa.get(e),a=r.Ma.get(i.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),pA(r.remoteStore,i.targetId))}async function gK(n,e,r){const i=AK(n);try{const a=await function(s,l){const u=Rt(s),c=Xr.now(),f=l.reduce((p,y)=>p.add(y.key),Gt());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Rl(),w=Gt();return u.cs.getEntries(p,f).next(_=>{y=_,y.forEach((b,S)=>{S.isValidDocument()||(w=w.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,y)).next(_=>{d=_;const b=[];for(const S of l){const A=FW(S,d.get(S.key).overlayedDocument);A!=null&&b.push(new vc(S.key,A,W6(A.value.mapValue),To.exists(!0)))}return u.mutationQueue.addMutationBatch(p,c,b,l)}).next(_=>{h=_;const b=_.applyToLocalDocumentSet(d,w);return u.documentOverlayCache.saveOverlays(p,_.batchId,b)})}).then(()=>({batchId:h.batchId,changes:nL(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(s,l,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new ur(cn)),c=c.insert(l,u),s.Ba[s.currentUser.toKey()]=c}(i,a.batchId,r),await ag(i,a.changes),await f1(i.remoteStore)}catch(a){const o=wA(a,"Failed to persist write");r.reject(o)}}async function LL(n,e){const r=Rt(n);try{const i=await IH(r.localStore,e);e.targetChanges.forEach((a,o)=>{const s=r.Na.get(o);s&&(Pn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?s.va=!0:a.modifiedDocuments.size>0?Pn(s.va):a.removedDocuments.size>0&&(Pn(s.va),s.va=!1))}),await ag(r,i,e)}catch(i){await eg(i)}}function Z4(n,e,r){const i=Rt(n);if(i.isPrimaryClient&&r===0||!i.isPrimaryClient&&r===1){const a=[];i.Fa.forEach((o,s)=>{const l=s.view.Z_(e);l.snapshot&&a.push(l.snapshot)}),function(s,l){const u=Rt(s);u.onlineState=l;let c=!1;u.queries.forEach((f,d)=>{for(const h of d.j_)h.Z_(l)&&(c=!0)}),c&&xA(u)}(i.eventManager,e),a.length&&i.Ca.d_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function vK(n,e,r){const i=Rt(n);i.sharedClientState.updateQueryState(e,"rejected",r);const a=i.Na.get(e),o=a&&a.key;if(o){let s=new ur(pt.comparator);s=s.insert(o,$i.newNoDocument(o,jt.min()));const l=Gt().add(o),u=new l1(jt.min(),new Map,new ur(cn),s,l);await LL(i,u),i.Oa=i.Oa.remove(o),i.Na.delete(e),SA(i)}else await j5(i.localStore,e,!1).then(()=>D5(i,e,r)).catch(eg)}async function yK(n,e){const r=Rt(n),i=e.batch.batchId;try{const a=await CH(r.localStore,e);RL(r,i,null),DL(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),await ag(r,a)}catch(a){await eg(a)}}async function wK(n,e,r){const i=Rt(n);try{const a=await function(s,l){const u=Rt(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(d=>(Pn(d!==null),f=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,e);RL(i,e,r),DL(i,e),i.sharedClientState.updateMutationState(e,"rejected",r),await ag(i,a)}catch(a){await eg(a)}}function DL(n,e){(n.ka.get(e)||[]).forEach(r=>{r.resolve()}),n.ka.delete(e)}function RL(n,e,r){const i=Rt(n);let a=i.Ba[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(r?o.reject(r):o.resolve(),a=a.remove(e)),i.Ba[i.currentUser.toKey()]=a}}function D5(n,e,r=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),r&&n.Ca.$a(i,r);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||ML(n,i)})}function ML(n,e){n.xa.delete(e.path.canonicalString());const r=n.Oa.get(e);r!==null&&(pA(n.remoteStore,r),n.Oa=n.Oa.remove(e),n.Na.delete(r),SA(n))}function J4(n,e,r){for(const i of r)i instanceof IL?(n.La.addReference(i.key,e),bK(n,i)):i instanceof OL?(Je("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||ML(n,i.key)):Tt()}function bK(n,e){const r=e.key,i=r.path.canonicalString();n.Oa.get(r)||n.xa.has(i)||(Je("SyncEngine","New document in limbo: "+r),n.xa.add(i),SA(n))}function SA(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const r=new pt(Hn.fromString(e)),i=n.qa.next();n.Na.set(i,new uK(r)),n.Oa=n.Oa.insert(r,i),EL(n.remoteStore,new Du(Us(r1(r.path)),i,"TargetPurposeLimboResolution",eA.oe))}}async function ag(n,e,r){const i=Rt(n),a=[],o=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((l,u)=>{s.push(i.Ka(u,e,r).then(c=>{var f;if((c||r)&&i.isPrimaryClient){const d=c?!c.fromCache:(f=r==null?void 0:r.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){a.push(c);const d=hA.Wi(u.targetId,c);o.push(d)}}))}),await Promise.all(s),i.Ca.d_(a),await async function(u,c){const f=Rt(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>De.forEach(c,h=>De.forEach(h.$i,p=>f.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>De.forEach(h.Ui,p=>f.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!tg(d))throw d;Je("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=f.os.get(h),y=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(y);f.os=f.os.insert(h,w)}}}(i.localStore,o))}async function _K(n,e){const r=Rt(n);if(!r.currentUser.isEqual(e)){Je("SyncEngine","User change. New user:",e.toKey());const i=await _L(r.localStore,e);r.currentUser=e,function(o,s){o.ka.forEach(l=>{l.forEach(u=>{u.reject(new Ke(Oe.CANCELLED,s))})}),o.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ag(r,i.hs)}}function xK(n,e){const r=Rt(n),i=r.Na.get(e);if(i&&i.va)return Gt().add(i.key);{let a=Gt();const o=r.Ma.get(e);if(!o)return a;for(const s of o){const l=r.Fa.get(s);a=a.unionWith(l.view.Va)}return a}}function FL(n){const e=Rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vK.bind(null,e),e.Ca.d_=aK.bind(null,e.eventManager),e.Ca.$a=oK.bind(null,e.eventManager),e}function AK(n){const e=Rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wK.bind(null,e),e}class By{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=u1(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return TH(this.persistence,new NH,e.initialUser,this.serializer)}Ga(e){return new SH(dA.Zr,this.serializer)}Wa(e){return new RH}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}By.provider={build:()=>new By};class R5{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Z4(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_K.bind(null,this.syncEngine),await nK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iK}()}createDatastore(e){const r=u1(e.databaseInfo.databaseId),i=function(o){return new UH(o)}(e.databaseInfo);return function(o,s,l,u){return new zH(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return function(i,a,o,s,l){return new WH(i,a,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,r=>Z4(this.syncEngine,r,0),function(){return K4.D()?new K4:new MH}())}createSyncEngine(e,r){return function(a,o,s,l,u,c,f){const d=new cK(a,o,s,l,u,c);return f&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const o=Rt(a);Je("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await ig(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}R5.provider={build:()=>new R5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dl("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(e,r,i,a,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=a,this.user=Bi.UNAUTHENTICATED,this.clientId=V6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async s=>{Je("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(Je("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=wA(r,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function yw(n,e){n.asyncQueue.verifyOperationInProgress(),Je("FirestoreClient","Initializing OfflineComponentProvider");const r=n.configuration;await e.initialize(r);let i=r.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await _L(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ek(n,e){n.asyncQueue.verifyOperationInProgress();const r=await EK(n);Je("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,n.configuration),n.setCredentialChangeListener(i=>G4(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>G4(e.remoteStore,a)),n._onlineComponents=e}async function EK(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Je("FirestoreClient","Using user provided OfflineComponentProvider");try{await yw(n,n._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===Oe.FAILED_PRECONDITION||a.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Yd("Error using user provided cache. Falling back to memory cache: "+r),await yw(n,new By)}}else Je("FirestoreClient","Using default OfflineComponentProvider"),await yw(n,new By);return n._offlineComponents}async function BL(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Je("FirestoreClient","Using user provided OnlineComponentProvider"),await ek(n,n._uninitializedComponentsProvider._online)):(Je("FirestoreClient","Using default OnlineComponentProvider"),await ek(n,new R5))),n._onlineComponents}function PK(n){return BL(n).then(e=>e.syncEngine)}async function Uy(n){const e=await BL(n),r=e.eventManager;return r.onListen=fK.bind(null,e.syncEngine),r.onUnlisten=pK.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=dK.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=mK.bind(null,e.syncEngine),r}function NK(n,e,r={}){const i=new Nl;return n.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new EA({next:h=>{f.Za(),s.enqueueAndForget(()=>_A(o,d));const p=h.docs.has(l);!p&&h.fromCache?c.reject(new Ke(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&u&&u.source==="server"?c.reject(new Ke(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new AA(r1(l.path),f,{includeMetadataChanges:!0,_a:!0});return bA(o,d)}(await Uy(n),n.asyncQueue,e,r,i)),i.promise}function kK(n,e,r={}){const i=new Nl;return n.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new EA({next:h=>{f.Za(),s.enqueueAndForget(()=>_A(o,d)),h.fromCache&&u.source==="server"?c.reject(new Ke(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new AA(l,f,{includeMetadataChanges:!0,_a:!0});return bA(o,d)}(await Uy(n),n.asyncQueue,e,r,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(n,e,r){if(!r)throw new Ke(Oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TK(n,e,r,i){if(e===!0&&i===!0)throw new Ke(Oe.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function nk(n){if(!pt.isDocumentKey(n))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rk(n){if(pt.isDocumentKey(n))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function d1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Tt()}function Aa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ke(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=d1(n);throw new Ke(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){var r,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ke(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UL((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ke(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ke(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ke(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class h1{constructor(e,r,i,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ik({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ik(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Kq;switch(i.type){case"firstParty":return new Qq(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ke(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=tk.get(r);i&&(Je("ComponentProvider","Removing Datastore"),tk.delete(r),i.terminate())}(this),Promise.resolve()}}function CK(n,e,r,i={}){var a;const o=(n=Aa(n,h1))._getSettings(),s=`${e}:${r}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Yd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let l,u;if(typeof i.mockUserToken=="string")l=i.mockUserToken,u=Bi.MOCK_USER;else{l=S6(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Ke(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Bi(c)}n._authCredentials=new Gq(new $6(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new yc(this.firestore,e,this._query)}}class qi{constructor(e,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qi(this.firestore,e,this._key)}}class Yu extends yc{constructor(e,r,i){super(e,r,r1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qi(this.firestore,null,new pt(e))}withConverter(e){return new Yu(this.firestore,e,this._path)}}function Sa(n,e,...r){if(n=Ea(n),$L("collection","path",e),n instanceof h1){const i=Hn.fromString(e,...r);return rk(i),new Yu(n,null,i)}{if(!(n instanceof qi||n instanceof Yu))throw new Ke(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Hn.fromString(e,...r));return rk(i),new Yu(n.firestore,null,i)}}function yr(n,e,...r){if(n=Ea(n),arguments.length===1&&(e=V6.newId()),$L("doc","path",e),n instanceof h1){const i=Hn.fromString(e,...r);return nk(i),new qi(n,null,new pt(i))}{if(!(n instanceof qi||n instanceof Yu))throw new Ke(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Hn.fromString(e,...r));return nk(i),new qi(n.firestore,n instanceof Yu?n.converter:null,new pt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new AL(this,"async_queue_retry"),this.Vu=()=>{const i=vw();i&&Je("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const r=vw();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=vw();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Nl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!tg(e))throw e;Je("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const a=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(i);throw Dl("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.du=!1,i))));return this.mu=r,r}enqueueAfterDelay(e,r,i){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const a=yA.createAndSchedule(this,e,r,i,o=>this.yu(o));return this.Tu.push(a),a}fu(){this.Eu&&Tt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,i)=>r.targetTimeMs-i.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function ok(n){return function(r,i){if(typeof r!="object"||r===null)return!1;const a=r;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Ml extends h1{constructor(e,r,i,a){super(e,r,i,a),this.type="firestore",this._queue=new ak,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ak(e),this._firestoreClient=void 0,await e}}}function IK(n,e){const r=typeof n=="object"?n:O6(),i=typeof n=="string"?n:"(default)",a=T6(r,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=x6("firestore");o&&CK(a,...o)}return a}function p1(n){if(n._terminated)throw new Ke(Oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||OK(n),n._firestoreClient}function OK(n){var e,r,i;const a=n._freezeSettings(),o=function(l,u,c,f){return new cW(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,UL(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new SK(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this._byteString=e}static fromBase64String(e){try{return new th(Ei.fromBase64String(e))}catch(r){throw new Ke(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new th(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ke(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ke(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ke(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK=/^__.*__$/;class LK{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return this.fieldMask!==null?new vc(e,this.data,this.fieldMask,r,this.fieldTransforms):new ng(e,this.data,r,this.fieldTransforms)}}class VL{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return new vc(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function zL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class TA{constructor(e,r,i,a,o,s){this.settings=e,this.databaseId=r,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new TA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Fu({path:i,xu:!1});return a.Ou(e),a}Nu(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Fu({path:i,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $y(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(zL(this.Cu)&&jK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class DK{constructor(e,r,i){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=i||u1(e)}Qu(e,r,i,a=!1){return new TA({Cu:e,methodName:r,qu:i,path:_i.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g1(n){const e=n._freezeSettings(),r=u1(n._databaseId);return new DK(n._databaseId,!!e.ignoreUndefinedProperties,r)}function qL(n,e,r,i,a,o={}){const s=n.Qu(o.merge||o.mergeFields?2:0,e,r,a);CA("Data must be an object, but it was:",s,i);const l=WL(i,s);let u,c;if(o.merge)u=new Ya(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const d of o.mergeFields){const h=M5(e,d,r);if(!s.contains(h))throw new Ke(Oe.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);KL(f,h)||f.push(h)}u=new Ya(f),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new LK(new va(l),u,c)}class v1 extends PA{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof v1}}function RK(n,e,r,i){const a=n.Qu(1,e,r);CA("Data must be an object, but it was:",a,i);const o=[],s=va.empty();Mf(i,(u,c)=>{const f=IA(e,u,r);c=Ea(c);const d=a.Nu(f);if(c instanceof v1)o.push(f);else{const h=og(c,d);h!=null&&(o.push(f),s.set(f,h))}});const l=new Ya(o);return new VL(s,l,a.fieldTransforms)}function MK(n,e,r,i,a,o){const s=n.Qu(1,e,r),l=[M5(e,i,r)],u=[a];if(o.length%2!=0)throw new Ke(Oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)l.push(M5(e,o[h])),u.push(o[h+1]);const c=[],f=va.empty();for(let h=l.length-1;h>=0;--h)if(!KL(c,l[h])){const p=l[h];let y=u[h];y=Ea(y);const w=s.Nu(p);if(y instanceof v1)c.push(p);else{const _=og(y,w);_!=null&&(c.push(p),f.set(p,_))}}const d=new Ya(c);return new VL(f,d,s.fieldTransforms)}function FK(n,e,r,i=!1){return og(r,n.Qu(i?4:3,e))}function og(n,e){if(HL(n=Ea(n)))return CA("Unsupported field value:",e,n),WL(n,e);if(n instanceof PA)return function(i,a){if(!zL(a.Cu))throw a.Bu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,a){const o=[];let s=0;for(const l of i){let u=og(l,a.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,a){if((i=Ea(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return OW(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Xr.fromDate(i);return{timestampValue:My(a.serializer,o)}}if(i instanceof Xr){const o=new Xr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:My(a.serializer,o)}}if(i instanceof NA)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof th)return{bytesValue:pL(a.serializer,i._byteString)};if(i instanceof qi){const o=a.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw a.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cA(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof kA)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return oA(l.serializer,u)})}}}}}}(i,a);throw a.Bu(`Unsupported field value: ${d1(i)}`)}(n,e)}function WL(n,e){const r={};return z6(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mf(n,(i,a)=>{const o=og(a,e.Mu(i));o!=null&&(r[i]=o)}),{mapValue:{fields:r}}}function HL(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xr||n instanceof NA||n instanceof th||n instanceof qi||n instanceof PA||n instanceof kA)}function CA(n,e,r){if(!HL(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const i=d1(r);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function M5(n,e,r){if((e=Ea(e))instanceof m1)return e._internalPath;if(typeof e=="string")return IA(n,e);throw $y("Field path arguments must be of type string or ",n,!1,void 0,r)}const BK=new RegExp("[~\\*/\\[\\]]");function IA(n,e,r){if(e.search(BK)>=0)throw $y(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new m1(...e.split("."))._internalPath}catch{throw $y(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function $y(n,e,r,i,a){const o=i&&!i.isEmpty(),s=a!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${i}`),s&&(u+=` in document ${a}`),u+=")"),new Ke(Oe.INVALID_ARGUMENT,l+n+u)}function KL(n,e){return n.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,r,i,a,o){this._firestore=e,this._userDataWriter=r,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(y1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class UK extends GL{data(){return super.data()}}function y1(n,e){return typeof e=="string"?IA(n,e):e instanceof m1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ke(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OA{}class XL extends OA{}function xf(n,e,...r){let i=[];e instanceof OA&&i.push(e),i=i.concat(r),function(o){const s=o.filter(u=>u instanceof jA).length,l=o.filter(u=>u instanceof w1).length;if(s>1||s>0&&l>0)throw new Ke(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class w1 extends XL{constructor(e,r,i){super(),this._field=e,this._op=r,this._value=i,this.type="where"}static _create(e,r,i){return new w1(e,r,i)}_apply(e){const r=this._parse(e);return QL(e._query,r),new yc(e.firestore,e.converter,N5(e._query,r))}_parse(e){const r=g1(e.firestore);return function(o,s,l,u,c,f,d){let h;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ke(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){lk(d,f);const p=[];for(const y of d)p.push(sk(u,o,y));h={arrayValue:{values:p}}}else h=sk(u,o,d)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||lk(d,f),h=FK(l,s,d,f==="in"||f==="not-in");return Ur.create(c,f,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Xu(n,e,r){const i=e,a=y1("where",n);return w1._create(a,i,r)}class jA extends OA{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new jA(e,r)}_parse(e){const r=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return r.length===1?r[0]:as.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(a,o){let s=a;const l=o.getFlattenedFilters();for(const u of l)QL(s,u),s=N5(s,u)}(e._query,r),new yc(e.firestore,e.converter,N5(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class LA extends XL{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new LA(e,r)}_apply(e){const r=function(a,o,s){if(a.startAt!==null)throw new Ke(Oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ke(Oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Em(o,s)}(e._query,this._field,this._direction);return new yc(e.firestore,e.converter,function(a,o){const s=a.explicitOrderBy.concat([o]);return new Ah(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}function F5(n,e="asc"){const r=e,i=y1("orderBy",n);return LA._create(i,r)}function sk(n,e,r){if(typeof(r=Ea(r))=="string"){if(r==="")throw new Ke(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z6(e)&&r.indexOf("/")!==-1)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const i=e.path.child(Hn.fromString(r));if(!pt.isDocumentKey(i))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return k4(n,new pt(i))}if(r instanceof qi)return k4(n,r._key);throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${d1(r)}.`)}function lk(n,e){if(!Array.isArray(n)||n.length===0)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QL(n,e){const r=function(a,o){for(const s of a)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Ke(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class $K{convertValue(e,r="none"){switch(_f(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(bf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const i={};return Mf(e,(a,o)=>{i[a]=this.convertValue(o,r)}),i}convertVectorValue(e){var r,i,a;const o=(a=(i=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(s=>Tr(s.doubleValue));return new kA(o)}convertGeoPoint(e){return new NA(Tr(e.latitude),Tr(e.longitude))}convertArray(e,r){return(e.values||[]).map(i=>this.convertValue(i,r))}convertServerTimestamp(e,r){switch(r){case"previous":const i=nA(e);return i==null?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(xm(e));default:return null}}convertTimestamp(e){const r=ac(e);return new Xr(r.seconds,r.nanos)}convertDocumentKey(e,r){const i=Hn.fromString(e);Pn(bL(i));const a=new Am(i.get(1),i.get(3)),o=new pt(i.popFirst(5));return a.isEqual(r)||Dl(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(n,e,r){let i;return i=n?r&&(r.merge||r.mergeFields)?n.toFirestore(e,r):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JL extends GL{constructor(e,r,i,a,o,s){super(e,r,i,a,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Zv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const i=this._document.data.field(y1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}}class Zv extends JL{data(e={}){return super.data(e)}}class eD{constructor(e,r,i,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new Tp(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(i=>{e.call(r,new Zv(this._firestore,this._userDataWriter,i.key,i,new Tp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ke(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(l=>{const u=new Zv(a._firestore,a._userDataWriter,l.doc.key,l.doc,new Tp(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new Zv(a._firestore,a._userDataWriter,l.doc.key,l.doc,new Tp(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,f=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:VK(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function VK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(n){n=Aa(n,qi);const e=Aa(n.firestore,Ml);return NK(p1(e),n._key).then(r=>nD(e,n,r))}class DA extends $K{constructor(e){super(),this.firestore=e}convertBytes(e){return new th(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,r)}}function Vs(n){n=Aa(n,yc);const e=Aa(n.firestore,Ml),r=p1(e),i=new DA(e);return YL(n._query),kK(r,n._query).then(a=>new eD(e,i,n,a))}function km(n,e,r){n=Aa(n,qi);const i=Aa(n.firestore,Ml),a=ZL(n.converter,e,r);return b1(i,[qL(g1(i),"setDoc",n._key,a,n.converter!==null,r).toMutation(n._key,To.none())])}function Zu(n,e,r,...i){n=Aa(n,qi);const a=Aa(n.firestore,Ml),o=g1(a);let s;return s=typeof(e=Ea(e))=="string"||e instanceof m1?MK(o,"updateDoc",n._key,e,r,i):RK(o,"updateDoc",n._key,e),b1(a,[s.toMutation(n._key,To.exists(!0))])}function zK(n){return b1(Aa(n.firestore,Ml),[new sA(n._key,To.none())])}function tD(n,e){const r=Aa(n.firestore,Ml),i=yr(n),a=ZL(n.converter,e);return b1(r,[qL(g1(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,To.exists(!1))]).then(()=>i)}function qK(n,...e){var r,i,a;n=Ea(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ok(e[s])||(o=e[s],s++);const l={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ok(e[s])){const d=e[s];e[s]=(r=d.next)===null||r===void 0?void 0:r.bind(d),e[s+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[s+2]=(a=d.complete)===null||a===void 0?void 0:a.bind(d)}let u,c,f;if(n instanceof qi)c=Aa(n.firestore,Ml),f=r1(n._key.path),u={next:d=>{e[s]&&e[s](nD(c,n,d))},error:e[s+1],complete:e[s+2]};else{const d=Aa(n,yc);c=Aa(d.firestore,Ml),f=d._query;const h=new DA(c);u={next:p=>{e[s]&&e[s](new eD(c,h,d,p))},error:e[s+1],complete:e[s+2]},YL(n._query)}return function(h,p,y,w){const _=new EA(w),b=new AA(p,_,y);return h.asyncQueue.enqueueAndForget(async()=>bA(await Uy(h),b)),()=>{_.Za(),h.asyncQueue.enqueueAndForget(async()=>_A(await Uy(h),b))}}(p1(c),f,l,u)}function b1(n,e){return function(i,a){const o=new Nl;return i.asyncQueue.enqueueAndForget(async()=>gK(await PK(i),a,o)),o.promise}(p1(n),e)}function nD(n,e,r){const i=r.docs.get(e._key),a=new DA(n);return new JL(n,a,e._key,i,new Tp(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(a){xh=a})(C6),wm(new Gd("firestore",(i,{instanceIdentifier:a,options:o})=>{const s=i.getProvider("app").getImmediate(),l=new Ml(new Yq(i.getProvider("auth-internal")),new Jq(i.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ke(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Am(c.options.projectId,f)}(s,a),s);return o=Object.assign({useFetchStreams:r},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Gu(A4,"4.7.3",e),Gu(A4,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firebasestorage.googleapis.com",iD="storageBucket",WK=2*60*1e3,HK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Rf{constructor(e,r,i=0){super(ww(e),`Firebase Storage: ${r} (${ww(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ww(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wr||(wr={}));function ww(n){return"storage/"+n}function RA(){const n="An unknown error occurred, please check the error payload for server response.";return new br(wr.UNKNOWN,n)}function KK(n){return new br(wr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function GK(n){return new br(wr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function YK(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new br(wr.UNAUTHENTICATED,n)}function XK(){return new br(wr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QK(n){return new br(wr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function ZK(){return new br(wr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JK(){return new br(wr.CANCELED,"User canceled the upload/download.")}function eG(n){return new br(wr.INVALID_URL,"Invalid URL '"+n+"'.")}function tG(n){return new br(wr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function nG(){return new br(wr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iD+"' property when initializing the app?")}function rG(){return new br(wr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iG(){return new br(wr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aG(n){return new br(wr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function B5(n){return new br(wr.INVALID_ARGUMENT,n)}function aD(){return new br(wr.APP_DELETED,"The Firebase app was deleted.")}function oG(n){return new br(wr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hp(n,e){return new br(wr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function cp(n){throw new br(wr.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let i;try{i=Xa.makeFromUrl(e,r)}catch{return new Xa(e,"")}if(i.path==="")return i;throw tG(e)}static makeFromUrl(e,r){let i=null;const a="([A-Za-z0-9.\\-_]+)";function o(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+a+s,"i"),u={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}const f="v[A-Za-z0-9_]+",d=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${f}/b/${a}/o${h}`,"i"),y={bucket:1,path:3},w=r===rD?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",b=new RegExp(`^https?://${w}/${a}/${_}`,"i"),A=[{regex:l,indices:u,postModify:o},{regex:p,indices:y,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<A.length;T++){const B=A[T],$=B.regex.exec(e);if($){const L=$[B.indices.bucket];let I=$[B.indices.path];I||(I=""),i=new Xa(L,I),B.postModify(i);break}}if(i==null)throw eG(e);return i}}class sG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(n,e,r){let i=1,a=null,o=null,s=!1,l=0;function u(){return l===2}let c=!1;function f(..._){c||(c=!0,e.apply(null,_))}function d(_){a=setTimeout(()=>{a=null,n(p,u())},_)}function h(){o&&clearTimeout(o)}function p(_,...b){if(c){h();return}if(_){h(),f.call(null,_,...b);return}if(u()||s){h(),f.call(null,_,...b);return}i<64&&(i*=2);let A;l===1?(l=2,A=0):A=(i+Math.random())*1e3,d(A)}let y=!1;function w(_){y||(y=!0,h(),!c&&(a!==null?(_||(l=2),clearTimeout(a),d(0)):_||(l=1)))}return d(0),o=setTimeout(()=>{s=!0,w(!0)},r),w}function uG(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(n){return n!==void 0}function fG(n){return typeof n=="object"&&!Array.isArray(n)}function MA(n){return typeof n=="string"||n instanceof String}function uk(n){return FA()&&n instanceof Blob}function FA(){return typeof Blob<"u"}function ck(n,e,r,i){if(i<e)throw B5(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>r)throw B5(`Invalid value for '${n}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(n,e,r){let i=e;return r==null&&(i=`https://${e}`),`${r}://${i}/v0${n}`}function oD(n){const e=encodeURIComponent;let r="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);r=r+a+"&"}return r=r.slice(0,-1),r}var lf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(lf||(lf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(n,e){const r=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return r||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e,r,i,a,o,s,l,u,c,f,d,h=!0){this.url_=e,this.method_=r,this.headers_=i,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new uv(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const l=o.getErrorCode()===lf.NO_ERROR,u=o.getStatus();if(!l||dG(u,this.additionalRetryCodes_)&&this.retry){const f=o.getErrorCode()===lf.ABORT;i(!1,new uv(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;i(!0,new uv(c,o))})},r=(i,a)=>{const o=this.resolve_,s=this.reject_,l=a.connection;if(a.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());cG(u)?o(u):o()}catch(u){s(u)}else if(l!==null){const u=RA();u.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,u)):s(u)}else if(a.canceled){const u=this.appDelete_?aD():JK();s(u)}else{const u=ZK();s(u)}};this.canceled_?r(!1,new uv(!1,null,!0)):this.backoffId_=lG(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uv{constructor(e,r,i){this.wasSuccessCode=e,this.connection=r,this.canceled=!!i}}function pG(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function mG(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gG(n,e){e&&(n["X-Firebase-GMPID"]=e)}function vG(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function yG(n,e,r,i,a,o,s=!0){const l=oD(n.urlParams),u=n.url+l,c=Object.assign({},n.headers);return gG(c,e),pG(c,r),mG(c,o),vG(c,i),new hG(u,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bG(...n){const e=wG();if(e!==void 0){const r=new e;for(let i=0;i<n.length;i++)r.append(n[i]);return r.getBlob()}else{if(FA())return new Blob(n);throw new br(wr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _G(n,e,r){return n.webkitSlice?n.webkitSlice(e,r):n.mozSlice?n.mozSlice(e,r):n.slice?n.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(n){if(typeof atob>"u")throw aG("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bw{constructor(e,r){this.data=e,this.contentType=r||null}}function AG(n,e){switch(n){case Ds.RAW:return new bw(sD(e));case Ds.BASE64:case Ds.BASE64URL:return new bw(lD(n,e));case Ds.DATA_URL:return new bw(EG(e),PG(e))}throw RA()}function sD(n){const e=[];for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(r<n.length-1&&(n.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const o=i,s=n.charCodeAt(++r);i=65536|(o&1023)<<10|s&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function SG(n){let e;try{e=decodeURIComponent(n)}catch{throw Hp(Ds.DATA_URL,"Malformed data URL.")}return sD(e)}function lD(n,e){switch(n){case Ds.BASE64:{const a=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(a||o)throw Hp(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Ds.BASE64URL:{const a=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(a||o)throw Hp(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=xG(e)}catch(a){throw a.message.includes("polyfill")?a:Hp(n,"Invalid character found")}const i=new Uint8Array(r.length);for(let a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return i}class uD{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Hp(Ds.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=r[1]||null;i!=null&&(this.base64=NG(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function EG(n){const e=new uD(n);return e.base64?lD(Ds.BASE64,e.rest):SG(e.rest)}function PG(n){return new uD(n).contentType}function NG(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,r){let i=0,a="";uk(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,r){if(uk(this.data_)){const i=this.data_,a=_G(i,e,r);return a===null?null:new Cu(a)}else{const i=new Uint8Array(this.data_.buffer,e,r-e);return new Cu(i,!0)}}static getBlob(...e){if(FA()){const r=e.map(i=>i instanceof Cu?i.data_:i);return new Cu(bG.apply(null,r))}else{const r=e.map(s=>MA(s)?AG(Ds.RAW,s).data:s.data_);let i=0;r.forEach(s=>{i+=s.byteLength});const a=new Uint8Array(i);let o=0;return r.forEach(s=>{for(let l=0;l<s.length;l++)a[o++]=s[l]}),new Cu(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(n){let e;try{e=JSON.parse(n)}catch{return null}return fG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function TG(n,e){const r=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?r:n+"/"+r}function fD(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CG(n,e){return e}class ea{constructor(e,r,i,a){this.server=e,this.local=r||e,this.writable=!!i,this.xform=a||CG}}let cv=null;function IG(n){return!MA(n)||n.length<2?n:fD(n)}function dD(){if(cv)return cv;const n=[];n.push(new ea("bucket")),n.push(new ea("generation")),n.push(new ea("metageneration")),n.push(new ea("name","fullPath",!0));function e(o,s){return IG(s)}const r=new ea("name");r.xform=e,n.push(r);function i(o,s){return s!==void 0?Number(s):s}const a=new ea("size");return a.xform=i,n.push(a),n.push(new ea("timeCreated")),n.push(new ea("updated")),n.push(new ea("md5Hash",null,!0)),n.push(new ea("cacheControl",null,!0)),n.push(new ea("contentDisposition",null,!0)),n.push(new ea("contentEncoding",null,!0)),n.push(new ea("contentLanguage",null,!0)),n.push(new ea("contentType",null,!0)),n.push(new ea("metadata","customMetadata",!0)),cv=n,cv}function OG(n,e){function r(){const i=n.bucket,a=n.fullPath,o=new Xa(i,a);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:r})}function jG(n,e,r){const i={};i.type="file";const a=r.length;for(let o=0;o<a;o++){const s=r[o];i[s.local]=s.xform(i,e[s.server])}return OG(i,n),i}function hD(n,e,r){const i=cD(e);return i===null?null:jG(n,i,r)}function LG(n,e,r,i){const a=cD(e);if(a===null||!MA(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const f=n.bucket,d=n.fullPath,h="/b/"+s(f)+"/o/"+s(d),p=BA(h,r,i),y=oD({alt:"media",token:c});return p+y})[0]}function DG(n,e){const r={},i=e.length;for(let a=0;a<i;a++){const o=e[a];o.writable&&(r[o.server]=n[o.local])}return JSON.stringify(r)}class pD{constructor(e,r,i,a){this.url=e,this.method=r,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n){if(!n)throw RA()}function RG(n,e){function r(i,a){const o=hD(n,a,e);return mD(o!==null),o}return r}function MG(n,e){function r(i,a){const o=hD(n,a,e);return mD(o!==null),LG(o,a,n.host,n._protocol)}return r}function gD(n){function e(r,i){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=XK():a=YK():r.getStatus()===402?a=GK(n.bucket):r.getStatus()===403?a=QK(n.path):a=i,a.status=r.getStatus(),a.serverResponse=i.serverResponse,a}return e}function FG(n){const e=gD(n);function r(i,a){let o=e(i,a);return i.getStatus()===404&&(o=KK(n.path)),o.serverResponse=a.serverResponse,o}return r}function BG(n,e,r){const i=e.fullServerUrl(),a=BA(i,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,l=new pD(a,o,MG(n,r),s);return l.errorHandler=FG(e),l}function UG(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function $G(n,e,r){const i=Object.assign({},r);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=UG(null,e)),i}function VG(n,e,r,i,a){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let A="";for(let T=0;T<2;T++)A=A+Math.random().toString().slice(2);return A}const u=l();s["Content-Type"]="multipart/related; boundary="+u;const c=$G(e,i,a),f=DG(c,r),d="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+u+"--",p=Cu.getBlob(d,i,h);if(p===null)throw rG();const y={name:c.fullPath},w=BA(o,n.host,n._protocol),_="POST",b=n.maxUploadRetryTime,S=new pD(w,_,RG(n,r),b);return S.urlParams=y,S.headers=s,S.body=p.uploadData(),S.errorHandler=gD(e),S}class zG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,i,a){if(this.sent_)throw cp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qG extends zG{initXhr(){this.xhr_.responseType="text"}}function vD(){return new qG}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,r){this._service=e,r instanceof Xa?this._location=r:this._location=Xa.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Af(e,r)}get root(){const e=new Xa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fD(this._location.path)}get storage(){return this._service}get parent(){const e=kG(this._location.path);if(e===null)return null;const r=new Xa(this._location.bucket,e);return new Af(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw oG(e)}}function WG(n,e,r){n._throwIfRoot("uploadBytes");const i=VG(n.storage,n._location,dD(),new Cu(e,!0),r);return n.storage.makeRequestWithTokens(i,vD).then(a=>({metadata:a,ref:n}))}function HG(n){n._throwIfRoot("getDownloadURL");const e=BG(n.storage,n._location,dD());return n.storage.makeRequestWithTokens(e,vD).then(r=>{if(r===null)throw iG();return r})}function KG(n,e){const r=TG(n._location.path,e),i=new Xa(n._location.bucket,r);return new Af(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(n){return/^[A-Za-z]+:\/\//.test(n)}function YG(n,e){return new Af(n,e)}function yD(n,e){if(n instanceof UA){const r=n;if(r._bucket==null)throw nG();const i=new Af(r,r._bucket);return e!=null?yD(i,e):i}else return e!==void 0?KG(n,e):n}function XG(n,e){if(e&&GG(e)){if(n instanceof UA)return YG(n,e);throw B5("To use ref(service, url), the first argument must be a Storage instance.")}else return yD(n,e)}function fk(n,e){const r=e==null?void 0:e[iD];return r==null?null:Xa.makeFromBucketSpec(r,n)}function QG(n,e,r,i={}){n.host=`${e}:${r}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:S6(a,n.app.options.projectId))}class UA{constructor(e,r,i,a,o){this.app=e,this._authProvider=r,this._appCheckProvider=i,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=rD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WK,this._maxUploadRetryTime=HK,this._requests=new Set,a!=null?this._bucket=Xa.makeFromBucketSpec(a,this._host):this._bucket=fk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xa.makeFromBucketSpec(this._url,e):this._bucket=fk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ck("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ck("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Af(this,e)}_makeRequest(e,r,i,a,o=!0){if(this._deleted)return new sG(aD());{const s=yG(e,this._appId,i,a,r,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,i,a).getPromise()}}const dk="@firebase/storage",hk="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="storage";function ZG(n,e,r){return n=Ea(n),WG(n,e,r)}function JG(n){return n=Ea(n),HG(n)}function eY(n,e){return n=Ea(n),XG(n,e)}function tY(n=O6(),e){n=Ea(n);const i=T6(n,wD).getImmediate({identifier:e}),a=x6("storage");return a&&nY(i,...a),i}function nY(n,e,r,i={}){QG(n,e,r,i)}function rY(n,{instanceIdentifier:e}){const r=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new UA(r,i,a,e,C6)}function iY(){wm(new Gd(wD,rY,"PUBLIC").setMultipleInstances(!0)),Gu(dk,hk,""),Gu(dk,hk,"esm2017")}iY();console.log("Variveis de ambiente:",{VITE_FIREBASE_API_KEY:"AIzaSyA32ur8WlKhwwvxevvB-P0M0sHK95DBeFw",VITE_FIREBASE_AUTH_DOMAIN:"sealogistics-4f899.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"sealogistics-4f899",VITE_FIREBASE_STORAGE_BUCKET:"sealogistics-4f899.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"813384700244",VITE_FIREBASE_APP_ID:"1:813384700244:web:d400348141dbcadacb78c1"});const bD={apiKey:"AIzaSyA32ur8WlKhwwvxevvB-P0M0sHK95DBeFw",authDomain:"sealogistics-4f899.firebaseapp.com",projectId:"sealogistics-4f899",storageBucket:"sealogistics-4f899.appspot.com",messagingSenderId:"813384700244",appId:"1:813384700244:web:d400348141dbcadacb78c1"};console.log("Firebase Config:",bD);const _D=I6(bD),Zt=IK(_D),pk=tY(_D),xD=C.createContext(void 0),Do=()=>{const n=C.useContext(xD);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},aY=({children:n})=>{const[e,r]=C.useState(null),[i,a]=C.useState(null),[o,s]=C.useState(!0);C.useEffect(()=>{const _=localStorage.getItem("currentUser");if(_)try{const b=JSON.parse(_);console.log("Carregando dados do localStorage:",b),b.id?l(b.id):(console.warn("ID do usurio no encontrado no localStorage"),s(!1))}catch(b){console.error("Error parsing saved user:",b),localStorage.removeItem("currentUser"),s(!1)}else s(!1)},[]);const l=async _=>{try{console.log("Carregando dados do usurio do Firestore:",_);const b=await Qu(yr(Zt,"users",_));if(b.exists()){const S={...b.data(),uid:b.id};if(console.log("Dados do usurio carregados:",S),r(S),localStorage.setItem("currentUser",JSON.stringify({email:S.email,name:S.displayName,id:S.uid,role:S.role})),S.role===vn.COMPANY_USER&&S.companyId){const A=await Qu(yr(Zt,"companies",S.companyId));if(A.exists()){const T={...A.data(),id:A.id};a(T)}}}else console.warn("Usurio no encontrado no Firestore:",_),localStorage.removeItem("currentUser"),r(null)}catch(b){console.error("Error loading user data:",b),localStorage.removeItem("currentUser"),r(null)}finally{s(!1)}},u=async()=>{e!=null&&e.uid&&(console.log("Atualizando dados do usurio..."),await l(e.uid))},c=async(_,b)=>{try{console.log("Attempting login with password:",b?"***":"no password");const S=xf(Sa(Zt,"users"),Xu("email","==",_)),A=await Vs(S);if(A.empty)throw new Error("Usurio no encontrado");const T=A.docs[0],B={...T.data(),uid:T.id};if(console.log("Usurio encontrado:",B),!B.isActive)throw new Error("Usurio inativo. Contacte o administrador.");if(await km(yr(Zt,"users",T.id),{...B,lastLogin:new Date},{merge:!0}),r(B),B.role===vn.COMPANY_USER&&B.companyId){const L=await Qu(yr(Zt,"companies",B.companyId));if(L.exists()){const I={...L.data(),id:L.id};a(I)}}const $={email:B.email,name:B.displayName,id:T.id,role:B.role};console.log("Salvando no localStorage:",$),localStorage.setItem("currentUser",JSON.stringify($))}catch(S){throw console.error("Login error:",S),S}},f=()=>{console.log("Fazendo logout..."),r(null),a(null),localStorage.removeItem("currentUser")},d=()=>e?e.role===vn.ADMIN:!1,w={currentUser:e,currentCompany:i,login:c,logout:f,isAdmin:d,isCompanyUser:()=>(e==null?void 0:e.role)===vn.COMPANY_USER,canAccessAdminFeatures:()=>d(),canManageShipments:()=>(e==null?void 0:e.role)===vn.ADMIN||(e==null?void 0:e.role)===vn.COMPANY_USER,loading:o,refreshUserData:u};return v.jsx(xD.Provider,{value:w,children:n})},oY={en:{welcomeTo:"Welcome to",loginTitle:"Sign in to your account",welcomeMessage:"Welcome to Sea Logistics",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",loginButton:"Login",selectLanguage:"Select language",forgotPassword:"Forgot password?",nameError:"Name is required",emailError:"Invalid email",passwordError:"Password is required",confirmPasswordError:"Password is required",passwordsDontMatch:"Passwords don't match",dontHaveAccount:"Don't have an account?",registerLink:"Register",createAccount:"Create an Account",name:"Name",namePlaceholder:"Enter your full name",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm your password",registerButton:"Register",alreadyHaveAccount:"Already have an account?",loginLink:"Login",registerText:"Connecting the world through the oceans. Register to access our platform.",home:"Home",dashboard:"Dashboard",shipments:"Shipments",newShipment:"New Shipment",users:"Users",settings:"Settings",logout:"Logout",profile:"Profile",inicio:"Home",envios:"Shipments",novoEnvio:"New Shipment",configuracoes:"Settings",sair:"Logout",collapseMenu:"Collapse menu",expandMenu:"Expand menu",administrativeDashboard:"Administrative Dashboard",welcomeAdmin:"Welcome, Admin User!",overview:"Overview",analytics:"Analytics",advancedFilters:"Advanced Filters",totalShipments:"Total Shipments",inTransit:"In Transit",delivered:"Delivered",pending:"Pending",thisMonth:"This Month",totalUsers:"Total Users",activeCompanies:"Active Companies",manageShipments:"Manage Shipments",configurePreferences:"Configure preferences",clickToSeeAllShipments:"Click to see all shipments",quickActions:"Quick Actions",adminPanel:"Admin Panel",configurations:"Configurations",distributionByStatus:"Distribution by Status",top10Clients:"Top 10 Clients",loadingCharts:"Loading charts...",stabilizingData:"Stabilizing data for display.",welcomeUser:"Welcome,",statusUpdated:"Status updated",shipmentsTitle:"Shipments",newShipmentTitle:"New Shipment",editShipment:"Edit Shipment",shipmentDetails:"Shipment Details",shipmentNumber:"Shipment Number",origin:"Origin",destination:"Destination",status:"Status",company:"Company",date:"Date",actions:"Actions",view:"View",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",close:"Close",search:"Search",filter:"Filter",clearFilters:"Clear Filters",noShipments:"No shipments found",loading:"Loading...",error:"Error",shippingTable:"Shipping Table",exportAll:"Export All",searchFilters:"Search Filters",more:"More",less:"Less",sortBy:"Sort by:",month:"Month:",allMonths:"All months",searchPlaceholderAdmin:"Client, BL, Booking...",searchPlaceholderClient:"BL, Booking...",mostRecent:"Most recent",oldest:"Oldest",etdDate:"Departure date (ETD)",etaDate:"Arrival date (ETA)",clientAZ:"Client A-Z",client:"Client",type:"Type",shipper:"Shipper",pol:"POL",pod:"POD",etdOrigin:"ETD Origin",etaDestination:"ETA Destination",quantBox:"Quant Box",blNumber:"BL Number",carrier:"Carrier",booking:"Booking",invoice:"Invoice",transportType:"Transport Type",selectTransportType:"Select transport type",portOfOrigin:"Port of Origin (POL)",selectPortOfOrigin:"Select port of origin",portOfDestination:"Port of Destination (POD)",selectPortOfDestination:"Select port of destination",departureDate:"Departure Date (ETD)",arrivalDate:"Estimated Arrival (ETA)",dateFormat:"dd/mm/yyyy",accessDenied:"Access denied. Only administrators can create new shipments.",fillInfoNewShipment:"Fill in the information to create a new shipment",statusPending:"Pending",statusInTransit:"In Transit",statusDelivered:"Delivered",statusCancelled:"Cancelled",statusDelayed:"Delayed",statusDocumentation:"Documentation",statusScheduled:"Scheduled",statusToShip:"To Ship",statusShipping:"Shipping",statusUnloading:"Unloading",statusInDelivery:"In Delivery",statusCompleted:"Completed",statusSuspended:"Suspended",required:"Required",optional:"Optional",submit:"Submit",reset:"Reset",back:"Back",next:"Next",previous:"Previous",finish:"Finish",selectClient:"Select a client",selectOperator:"Select an operator",pleaseSelectValidClient:"Please select a valid client.",success:"Success",warning:"Warning",info:"Information",confirmDelete:"Are you sure you want to delete this item?",deleteSuccess:"Item deleted successfully",saveSuccess:"Item saved successfully",updateSuccess:"Item updated successfully",redirecting:"Redirecting...",manageDocuments:"Manage Documents",viewDocuments:"View Documents",accountSettings:"Account Settings",managePersonalInfo:"Manage your personal information and preferences",personalInformation:"Personal Information",fullName:"Full Name",phone:"Phone",role:"Role",yourRoleInCompany:"Your role in the company",company:"Company",companyName:"Company name",notifications:"Notifications",emailNotifications:"Email Notifications",receiveImportantUpdates:"Receive important updates by email",pushNotifications:"Push Notifications",receiveRealTimeNotifications:"Receive real-time notifications in the browser",statusUpdates:"Status Updates",notifiedWhenStatusChanges:"Be notified when the status of shipments changes",yes:"Yes",no:"No",ok:"OK",noData:"No data available",refresh:"Refresh",export:"Export",import:"Import",download:"Download",upload:"Upload",documentType:"Document Type",billOfLading:"Bill of Lading (BL)",invoice:"Invoice",packingList:"Packing List",commercialInvoice:"Commercial Invoice",certificateOfOrigin:"Certificate of Origin",insuranceCertificate:"Insurance Certificate",exportLicense:"Export License",importLicense:"Import License",customsDeclaration:"Customs Declaration",transportDocument:"Transport Document",other:"Other"},pt:{welcomeTo:"Bem-vindo ao",loginTitle:"Entre na sua conta",welcomeMessage:"Bem-vindo  Sea Logistics",email:"Email",emailPlaceholder:"Digite seu email",password:"Senha",passwordPlaceholder:"Digite sua senha",loginButton:"Entrar",selectLanguage:"Selecionar idioma",forgotPassword:"Esqueceu a senha?",nameError:"O nome  obrigatrio",emailError:"Email invlido",passwordError:"A senha  obrigatria",confirmPasswordError:"A senha  obrigatria",passwordsDontMatch:"As senhas no coincidem",dontHaveAccount:"No tem uma conta?",registerLink:"Registrar",createAccount:"Criar uma Conta",name:"Nome",namePlaceholder:"Digite seu nome completo",confirmPassword:"Confirmar Senha",confirmPasswordPlaceholder:"Confirme sua senha",registerButton:"Registrar",alreadyHaveAccount:"J tem uma conta?",loginLink:"Entrar",registerText:"Conectando o mundo atravs dos oceanos. Registre-se para acessar nossa plataforma.",home:"Incio",dashboard:"Painel",shipments:"Envios",newShipment:"Novo Envio",users:"Usurios",settings:"Configuraes",logout:"Sair",profile:"Perfil",inicio:"Incio",envios:"Envios",novoEnvio:"Novo Envio",configuracoes:"Configuraes",sair:"Sair",collapseMenu:"Recolher menu",expandMenu:"Expandir menu",administrativeDashboard:"Dashboard Administrativo",welcomeAdmin:"Bem-vindo, Usuario Admin!",overview:"Viso Geral",analytics:"Anlises",advancedFilters:"Filtros Avanados",totalShipments:"Total de Envios",inTransit:"Em Trnsito",delivered:"Entregues",pending:"Pendentes",thisMonth:"Este Ms",totalUsers:"Total de Usurios",activeCompanies:"Empresas Ativas",manageShipments:"Gerenciar Envios",configurePreferences:"Configurar preferncias",clickToSeeAllShipments:"Clique para ver todos os envios",quickActions:"Aes Rpidas",adminPanel:"Painel Admin",configurations:"Configuraes",distributionByStatus:"Distribuio por Status",top10Clients:"Top 10 Clientes",loadingCharts:"Carregando grficos...",stabilizingData:"Estabilizando dados para exibio.",welcomeUser:"Bem-vindo,",statusUpdated:"Status atualizado",shipmentsTitle:"Envios",newShipmentTitle:"Novo Envio",editShipment:"Editar Envio",shipmentDetails:"Detalhes do Envio",shipmentNumber:"Nmero do Envio",origin:"Origem",destination:"Destino",status:"Status",company:"Empresa",date:"Data",actions:"Aes",view:"Visualizar",edit:"Editar",delete:"Excluir",save:"Salvar",cancel:"Cancelar",close:"Fechar",search:"Buscar",filter:"Filtrar",clearFilters:"Limpar Filtros",noShipments:"Nenhum envio encontrado",loading:"Carregando...",error:"Erro",shippingTable:"Tabela de Envios",exportAll:"Exportar Todos",searchFilters:"Filtros de Busca",more:"Mais",less:"Menos",sortBy:"Ordenar:",month:"Todos os meses",searchPlaceholderAdmin:"Cliente, BL, Booking...",searchPlaceholderClient:"BL, Booking...",mostRecent:"Mais recentes",oldest:"Mais antigos",etdDate:"Data partida (ETD)",etaDate:"Data chegada (ETA)",clientAZ:"Cliente A-Z",client:"Cliente",type:"Tipo",shipper:"Shipper",pol:"POL",pod:"POD",etdOrigin:"ETD Origem",etaDestination:"ETA Destino",quantBox:"Quant Box",blNumber:"N BL",carrier:"Armador",booking:"Booking",invoice:"Invoice",transportType:"Tipo de Transporte",selectTransportType:"Selecione o tipo de transporte",portOfOrigin:"Porto de Origem (POL)",selectPortOfOrigin:"Selecione o porto de origem",portOfDestination:"Porto de Destino (POD)",selectPortOfDestination:"Selecione o porto de destino",departureDate:"Data de Partida (ETD)",arrivalDate:"Data Prevista Chegada (ETA)",dateFormat:"dd/mm/aaaa",accessDenied:"Acesso negado. Apenas administradores podem criar novos shipments.",fillInfoNewShipment:"Preencha as informaes para criar um novo envio",statusPending:"Pendente",statusInTransit:"Em Trnsito",statusDelivered:"Entregue",statusCancelled:"Cancelado",statusDelayed:"Atrasado",statusDocumentation:"Documentao",statusScheduled:"Agendado",statusToShip:"Para Envio",statusShipping:"Em Transporte",statusUnloading:"Descarregamento",statusInDelivery:"Em Entrega",statusCompleted:"Concludo",statusSuspended:"Suspenso",required:"Obrigatrio",optional:"Opcional",submit:"Enviar",reset:"Resetar",back:"Voltar",next:"Prximo",previous:"Anterior",finish:"Finalizar",selectClient:"Selecione um cliente",selectOperator:"Selecione um operador",pleaseSelectValidClient:"Por favor, selecione um cliente vlido.",success:"Sucesso",warning:"Aviso",info:"Informao",confirmDelete:"Tem certeza que deseja excluir este item?",deleteSuccess:"Item excludo com sucesso",saveSuccess:"Item salvo com sucesso",updateSuccess:"Item atualizado com sucesso",redirecting:"Redirecionando...",manageDocuments:"Gerenciar Documentos",viewDocuments:"Visualizar Documentos",yes:"Sim",no:"No",ok:"OK",noData:"Nenhum dado disponvel",refresh:"Atualizar",export:"Exportar",import:"Importar",download:"Baixar",upload:"Enviar",documentType:"Tipo de Documento",billOfLading:"Conhecimento de Embarque (BL)",invoice:"Fatura",packingList:"Lista de Empacotamento",commercialInvoice:"Fatura Comercial",certificateOfOrigin:"Certificado de Origem",insuranceCertificate:"Certificado de Seguro",exportLicense:"Licena de Exportao",importLicense:"Licena de Importao",customsDeclaration:"Declarao Aduaneira",transportDocument:"Documento de Transporte",other:"Outro"},es:{welcomeTo:"Bienvenido a",loginTitle:"Inicia sesin en tu cuenta",welcomeMessage:"Bienvenido a Sea Logistics",email:"Correo electrnico",emailPlaceholder:"Ingrese su correo electrnico",password:"Contrasea",passwordPlaceholder:"Ingrese su contrasea",loginButton:"Iniciar sesin",selectLanguage:"Seleccionar idioma",forgotPassword:"Olvid su contrasea?",nameError:"El nombre es obligatorio",emailError:"Correo electrnico invlido",passwordError:"La contrasea es obligatoria",confirmPasswordError:"La contrasea es obligatoria",passwordsDontMatch:"Las contraseas no coinciden",dontHaveAccount:"No tiene una cuenta?",registerLink:"Registrarse",createAccount:"Crear una Cuenta",name:"Nombre",namePlaceholder:"Ingrese su nombre completo",confirmPassword:"Confirmar Contrasea",confirmPasswordPlaceholder:"Confirme su contrasea",registerButton:"Registrarse",alreadyHaveAccount:"Ya tiene una cuenta?",loginLink:"Iniciar sesin",registerText:"Conectando el mundo a travs de los ocanos. Regstrate para acceder a nuestra plataforma.",home:"Inicio",dashboard:"Panel",shipments:"Envos",newShipment:"Nuevo Envo",users:"Usuarios",settings:"Configuraciones",logout:"Cerrar Sesin",profile:"Perfil",inicio:"Inicio",envios:"Envos",novoEnvio:"Nuevo Envo",configuracoes:"Configuraciones",sair:"Cerrar Sesin",collapseMenu:"Contraer men",expandMenu:"Expandir men",administrativeDashboard:"Panel Administrativo",welcomeAdmin:"Bienvenido, Usuario Admin!",totalShipments:"Total de Envos",inTransit:"En Trnsito",delivered:"Entregados",pending:"Pendientes",thisMonth:"Este Mes",totalUsers:"Total de Usuarios",activeCompanies:"Empresas Activas",manageShipments:"Gestionar Envos",clickToSeeAllShipments:"Haga clic para ver todos los envos",quickActions:"Acciones Rpidas",adminPanel:"Panel Admin",configurations:"Configuraciones",shippingTable:"Tabla de Envos",exportAll:"Exportar Todos",searchFilters:"Filtros de Bsqueda",more:"Ms",less:"Menos",sortBy:"Ordenar por:",month:"Mes:",allMonths:"Todos los meses",searchPlaceholderAdmin:"Cliente, BL, Booking...",searchPlaceholderClient:"BL, Booking...",mostRecent:"Ms recientes",oldest:"Ms antiguos",etdDate:"Fecha de partida (ETD)",etaDate:"Fecha de llegada (ETA)",clientAZ:"Cliente A-Z",distributionByStatus:"Distribucin por Estado",top10Clients:"Top 10 Clientes",loadingCharts:"Cargando grficos...",stabilizingData:"Estabilizando datos para visualizacin.",welcomeUser:"Bienvenido,",statusUpdated:"Estado actualizado",shipmentsTitle:"Envos",newShipmentTitle:"Nuevo Envo",editShipment:"Editar Envo",shipmentDetails:"Detalles del Envo",shipmentNumber:"Nmero de Envo",origin:"Origen",destination:"Destino",status:"Estado",company:"Empresa",date:"Fecha",actions:"Acciones",view:"Ver",edit:"Editar",delete:"Eliminar",save:"Guardar",cancel:"Cancelar",close:"Cerrar",search:"Buscar",filter:"Filtrar",clearFilters:"Limpiar Filtros",noShipments:"No se encontraron envos",loading:"Cargando...",error:"Error",statusPending:"Pendiente",statusInTransit:"En Trnsito",statusDelivered:"Entregado",statusCancelled:"Cancelado",statusDelayed:"Retrasado",statusDocumentation:"Documentacin",statusScheduled:"Programado",statusToShip:"Para Envo",statusShipping:"En Transporte",statusUnloading:"Descargando",statusInDelivery:"En Entrega",statusCompleted:"Completado",statusSuspended:"Suspendido",required:"Requerido",optional:"Opcional",submit:"Enviar",reset:"Restablecer",back:"Atrs",next:"Siguiente",previous:"Anterior",finish:"Finalizar",selectClient:"Seleccione un cliente",selectOperator:"Seleccione un operador",pleaseSelectValidClient:"Por favor, seleccione un cliente vlido.",success:"xito",warning:"Advertencia",info:"Informacin",confirmDelete:"Est seguro de que desea eliminar este elemento?",deleteSuccess:"Elemento eliminado exitosamente",saveSuccess:"Elemento guardado exitosamente",updateSuccess:"Elemento actualizado exitosamente",redirecting:"Redirigiendo...",manageDocuments:"Gestionar Documentos",viewDocuments:"Ver Documentos",yes:"S",no:"No",ok:"OK",noData:"No hay datos disponibles",refresh:"Actualizar",export:"Exportar",import:"Importar",download:"Descargar",upload:"Subir",documentType:"Tipo de Documento",billOfLading:"Conocimiento de Embarque (BL)",invoice:"Factura",packingList:"Lista de Empaque",commercialInvoice:"Factura Comercial",certificateOfOrigin:"Certificado de Origen",insuranceCertificate:"Certificado de Seguro",exportLicense:"Licencia de Exportacin",importLicense:"Licencia de Importacin",customsDeclaration:"Declaracin Aduanera",transportDocument:"Documento de Transporte",other:"Otro"}},AD=C.createContext(void 0);function U5({children:n}){const[e,r]=C.useState("en");C.useEffect(()=>{const o=localStorage.getItem("language");o&&["en","pt","es"].includes(o)&&r(o)},[]);const a={language:e,setLanguage:o=>{r(o),localStorage.setItem("language",o)},translations:oY[e]};return v.jsx(AD.Provider,{value:a,children:n})}function ss(){const n=C.useContext(AD);if(n===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return n}const mk="https://sealogistics-email-server.onrender.com/".replace(/\/+$/,""),sY=async({to:n,subject:e,html:r})=>{try{console.log("=== INICIANDO ENVIO DE EMAIL ==="),console.log("Configurao:",{url:mk,to:n,subject:e});const i=await fetch(`${mk}/send-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:n,subject:e,html:r})});if(!i.ok){const o=await i.json();throw new Error(o.error||`Erro ${i.status}: ${i.statusText}`)}const a=await i.json();if(!a.success)throw new Error(a.error||"Erro ao enviar email");return console.log("=== EMAIL ENVIADO COM SUCESSO ==="),!0}catch(i){return console.error("=== ERRO AO ENVIAR EMAIL ==="),console.error("Detalhes do erro:",i),!1}},SD=async(n,e,r)=>{const i="ATUALIZAO DE SEU EMBARQUE MARTIMO - Sea Logistics International",a=`
        <!DOCTYPE html>
        <html lang="pt-BR">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Atualizao de Embarque Martimo</title>
            <style>
                body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f4f4; }
                .container { max-width: 800px; margin: 0 auto; background-color: white; }
                .header { background: linear-gradient(135deg, #1e3a8a, #3b82f6); color: white; padding: 30px; text-align: center; }
                .logo { font-size: 28px; font-weight: bold; margin-bottom: 10px; }
                .logo-s { font-size: 36px; color: #60a5fa; }
                .subtitle { font-size: 16px; opacity: 0.9; margin-bottom: 20px; }
                .contact-info { font-size: 14px; opacity: 0.8; }
                .content { padding: 30px; }
                .greeting { font-size: 18px; margin-bottom: 20px; }
                .shipment-details { background-color: #f8fafc; padding: 20px; border-radius: 8px; margin: 20px 0; }
                .shipment-details h3 { color: #1e3a8a; margin-top: 0; }
                .shipment-details ul { list-style: none; padding: 0; }
                .shipment-details li { padding: 8px 0; border-bottom: 1px solid #e2e8f0; }
                .shipment-details li:last-child { border-bottom: none; }
                .shipment-details strong { color: #374151; }
                .tracking-section { background-color: #f0f9ff; padding: 20px; border-radius: 8px; margin: 20px 0; }
                .tracking-section h3 { color: #1e3a8a; margin-top: 0; }
                .map-placeholder { background-color: #e5e7eb; height: 300px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #6b7280; margin: 20px 0; }
                .whatsapp-section { background-color: #f0fdf4; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #22c55e; }
                .whatsapp-section h3 { color: #166534; margin-top: 0; }
                .whatsapp-section ul { list-style: none; padding: 0; }
                .whatsapp-section li { padding: 5px 0; }
                .whatsapp-section li:before { content: " "; color: #22c55e; font-weight: bold; }
                .cta-button { display: inline-block; background-color: #22c55e; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; margin-top: 15px; }
                .footer { background-color: #1f2937; color: white; padding: 20px; text-align: center; font-size: 14px; }
            </style>
        </head>
        <body>
            <div class="container">
                <!-- Header -->
                <div class="header">
                    <div class="logo">SEA LOGISTICS <span class="logo-s">S</span> INTERNATIONAL</div>
                    <div class="subtitle">ATUALIZAO DE SEU EMBARQUE MARTIMO</div>
                    <div class="subtitle">Acompanhe detalhes atualizados de seu embarque.</div>
                    <div class="contact-info">
                        www.sealogistics.com.br | +55 11 95939-1837
                    </div>
                </div>

                <!-- Content -->
                <div class="content">
                    <div class="greeting">
                        Prezado Cliente <strong>${e}</strong>,
                    </div>
                    
                    <p>Segue principais informaes sobre o status da sua carga ref ao booking <strong>${r.booking||"N/A"}</strong>.</p>

                    <!-- Detalhes do Embarque -->
                    <div class="shipment-details">
                        <h3>Detalhes do Embarque</h3>
                        <ul>
                            <li><strong>Navio:</strong> ${r.vessel||"N/A"}</li>
                            <li><strong>Rota:</strong> [${r.originPort||"N/A"}]  [${r.destinationPort||"N/A"}]</li>
                            <li><strong>Booking:</strong> ${r.booking||"N/A"}</li>
                            <li><strong>BL:</strong> ${r.blNumber||"N/A"}</li>
                            <li><strong>ETD (Data de Partida):</strong> ${r.etd?new Date(r.etd).toLocaleDateString("pt-BR"):"N/A"}</li>
                            <li><strong>ETA (Data de Chegada):</strong> ${r.eta?new Date(r.eta).toLocaleDateString("pt-BR"):"N/A"}</li>
                            <li><strong>Localizao Atual:</strong> ${r.currentLocation||"O navio est em trnsito"}</li>
                        </ul>
                    </div>

                    <!-- Seo de Localizao Atual Detalhada -->
                    <div class="tracking-section">
                        <h3> Localizao Atual</h3>
                        <p>${r.currentLocation||"O navio est em trnsito"}</p>
                        
                        <div style="background: #f8fafc; padding: 15px; border-radius: 8px; margin: 15px 0;">
                            <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                <span style="font-size: 20px; margin-right: 10px;"></span>
                                <div>
                                    <strong>${r.vessel||"N/A"}</strong>
                                    <div style="font-size: 14px; color: #666;">Container Ship IMO: ${r.imo||"9735206"}</div>
                                </div>
                            </div>
                            
                            <!-- Tabs de Navegao -->
                            <div style="display: flex; border-bottom: 1px solid #e2e8f0; margin-bottom: 15px;">
                                <div style="padding: 10px 15px; background: #3b82f6; color: white; border-radius: 6px 6px 0 0; font-weight: bold;">Overview</div>
                                <div style="padding: 10px 15px; color: #666; cursor: pointer;">Port call log</div>
                                <div style="padding: 10px 15px; color: #666; cursor: pointer;">Vessel characteristics</div>
                                <div style="padding: 10px 15px; color: #666; cursor: pointer;">Ownership</div>
                                <div style="padding: 10px 15px; color: #666; cursor: pointer;">Performance insight</div>
                            </div>
                            
                            <!-- Mapa Interativo -->
                            <div style="background: #e5e7eb; height: 250px; border-radius: 8px; position: relative; margin: 15px 0;">
                                <div style="position: absolute; top: 10px; right: 10px;">
                                    <button style="background: #3b82f6; color: white; border: none; padding: 5px 10px; border-radius: 4px; font-size: 12px; cursor: pointer;">
                                        View on live map
                                    </button>
                                </div>
                                
                                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: #6b7280;">
                                    <div style="font-size: 20px; margin-bottom: 10px;"></div>
                                    <div style="font-weight: bold; margin-bottom: 5px;">Mapa de Rastreamento</div>
                                    <div style="font-size: 12px; margin-bottom: 15px;">
                                        <strong>Rota:</strong> ${r.originPort||""}  ${r.destinationPort||""}
                                    </div>
                                    
                                    <!-- Timeline -->
                                    <div style="display: flex; align-items: center; justify-content: center; margin: 20px 0;">
                                        <div style="display: flex; align-items: center; margin-right: 20px;">
                                            <div style="width: 12px; height: 12px; background: #3b82f6; border-radius: 50%; margin-right: 8px;"></div>
                                            <span style="font-size: 12px;">Departure from ${r.originPort||""}</span>
                                        </div>
                                        <div style="width: 40px; height: 2px; background: #d1d5db; margin: 0 10px;"></div>
                                        <div style="display: flex; align-items: center;">
                                            <div style="width: 12px; height: 12px; background: #9ca3af; border-radius: 50%; margin-right: 8px;"></div>
                                            <span style="font-size: 12px;">Arrival at ${r.destinationPort||""}</span>
                                        </div>
                                    </div>
                                    
                                    <!-- Informaes de Tempo -->
                                    <div style="font-size: 11px; color: #9ca3af;">
                                        <div><strong>Actual time of departure:</strong> ${r.actualDeparture||"2025-08-23 21:19 (UTC-5)"}</div>
                                        <div><strong>Reported ETA:</strong> ${r.reportedEta||"2025-09-03 12:00 (UTC-3)"}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Seo WhatsApp -->
                    <div class="whatsapp-section">
                        <h3> Rastreamento Automtico via WhatsApp</h3>
                        <p>Pensando em facilitar ainda mais sua rotina logstica, a SEA LOGISTICS oferece o rastreamento automtico de cargas via WhatsApp!</p>
                        
                        <p><strong> Basta enviar o nmero do seu booking para nosso WhatsApp!</strong></p>
                        
                        <p>Receba automaticamente:</p>
                        <ul>
                            <li>Status da carga</li>
                            <li>Localizao do navio</li>
                            <li>Previso de chegada</li>
                        </ul>
                        
                        <p><strong>Tudo isso sem login, sem complicaes, 24h por dia.</strong></p>
                        
                        <p><strong>Clique aqui e teste agora:</strong></p>
                        <a href="https://wa.me/5511959391837?text=Ol! Gostaria de rastrear meu booking ${r.booking||""}" class="cta-button">
                             Rastrear via WhatsApp
                        </a>
                    </div>
                </div>

                <!-- Footer -->
                <div class="footer">
                    <p> 2024 Sea Logistics International. Todos os direitos reservados.</p>
                    <p>Para suporte: contato@sealogistics.com.br</p>
                </div>
            </div>
        </body>
        </html>
    `;return sY({to:n,subject:i,html:a})},gk=async(n,e,r,i="update")=>SD(n,e,r),ED=C.createContext(void 0),_1=()=>{const n=C.useContext(ED);if(n===void 0)throw new Error("useShipments must be used within a ShipmentsProvider");return n},lY=({children:n})=>{const[e,r]=C.useState([]),[i,a]=C.useState(!0),{currentUser:o,isAdmin:s}=Do();C.useEffect(()=>{if(!o){r([]),a(!1);return}let h;if(s())h=xf(Sa(Zt,"shipments"),F5("createdAt","desc"));else if(o.role===vn.COMPANY_USER&&o.companyId)h=xf(Sa(Zt,"shipments"),Xu("companyId","==",o.companyId),F5("createdAt","desc"));else{r([]),a(!1);return}const p=qK(h,y=>{const w=[];y.forEach(_=>{w.push({id:_.id,..._.data()})}),r(w),a(!1)},y=>{console.error("Error fetching shipments:",y),a(!1)});return()=>p()},[o,s]);const l=async h=>{try{if(!o)throw new Error("Usurio no autenticado");if(!s())throw new Error("Apenas administradores podem criar novos shipments");const p={...h,createdAt:new Date,updatedAt:new Date};h.companyId!==void 0?p.companyId=h.companyId:delete p.companyId;const y=await tD(Sa(Zt,"shipments"),p);if(console.log("Shipment added with ID: ",y.id),h.companyId)try{console.log("Buscando dados da empresa...");const w=await Qu(yr(Zt,"companies",h.companyId));if(w.exists()){const _=w.data();console.log("Dados da empresa:",_),_.contactEmail?(console.log("Preparando para enviar email para:",_.contactEmail),await gk(_.contactEmail,_.name||h.cliente,{vessel:h.armador||"N/A",originPort:h.pol||"N/A",destinationPort:h.pod||"N/A",booking:h.booking||"N/A",blNumber:h.numeroBl||"N/A",etd:h.etdOrigem,eta:h.etaDestino,currentLocation:h.currentLocation||"O navio est em trnsito",status:h.status||"Em trnsito",imo:h.imo||"9735206",actualDeparture:h.etdOrigem?`${h.etdOrigem} 21:19 (UTC-5)`:"N/A",reportedEta:h.etaDestino?`${h.etaDestino} 12:00 (UTC-3)`:"N/A"},"confirmation")):console.log("Empresa no tem email de contato cadastrado")}else console.log("Empresa no encontrada no Firestore")}catch(w){console.error("=== ERRO AO ENVIAR EMAIL DE NOTIFICAO ==="),console.error("Detalhes do erro:",w)}}catch(p){throw console.error("Error adding shipment: ",p),p}},u=async h=>{try{if(!h.id)throw new Error("Shipment ID is required for updates");if(!c(h))throw new Error("Sem permisso para editar este shipment");console.log("=== INICIANDO ATUALIZAO DE SHIPMENT ==="),console.log("ID do shipment:",h.id),console.log("Company ID:",h.companyId);const p=yr(Zt,"shipments",h.id),y=await Qu(p);if(!y.exists())throw new Error("Shipment no encontrado");const _=y.data().status;if(console.log("Status atual:",_),console.log("Novo status:",h.status),await Zu(p,{cliente:h.cliente,operador:h.operador,shipper:h.shipper,pol:h.pol,pod:h.pod,etdOrigem:h.etdOrigem,etaDestino:h.etaDestino,currentLocation:h.currentLocation,quantBox:h.quantBox,status:h.status,numeroBl:h.numeroBl,armador:h.armador,booking:h.booking,invoice:h.invoice,observacoes:h.observacoes||"",tipo:h.tipo||"",imo:h.imo||"",actualDeparture:h.actualDeparture||"",reportedEta:h.reportedEta||"",updatedAt:new Date}),_!==h.status&&h.companyId)try{console.log("Status alterado, buscando dados da empresa..."),console.log("Company ID para busca:",h.companyId);const b=await Qu(yr(Zt,"companies",h.companyId));if(console.log("Documento da empresa encontrado:",b.exists()),b.exists()){const S=b.data();console.log("Dados da empresa:",S),S.contactEmail?(console.log("Preparando para enviar email para:",S.contactEmail),h.tipo==="Martimo"?await sendMaritimeShipmentUpdateEmail(S.contactEmail,S.name||"Cliente",{vessel:h.armador,originPort:h.pol,destinationPort:h.pod,booking:h.booking,blNumber:h.numeroBl,etd:h.etdOrigem,eta:h.etaDestino,currentLocation:h.currentLocation,status:h.status,imo:h.imo||"9735206",actualDeparture:h.actualDeparture||`${h.etdOrigem} 21:19 (UTC-5)`,reportedEta:h.reportedEta||`${h.etaDestino} 12:00 (UTC-3)`}):await gk(S.contactEmail,S.name||h.cliente,{vessel:h.armador||"N/A",originPort:h.pol||"N/A",destinationPort:h.pod||"N/A",booking:h.booking||"N/A",blNumber:h.numeroBl||"N/A",etd:h.etdOrigem,eta:h.etaDestino,currentLocation:h.currentLocation||"O navio est em trnsito",status:h.status||"Em trnsito",imo:h.imo||"9735206",actualDeparture:h.actualDeparture||`${h.etdOrigem} 21:19 (UTC-5)`,reportedEta:h.reportedEta||`${h.etaDestino} 12:00 (UTC-3)`},"status-change")):console.log("Empresa no tem email de contato cadastrado")}else console.log("Empresa no encontrada no Firestore")}catch(b){console.error("=== ERRO AO ENVIAR EMAIL DE NOTIFICAO ==="),console.error("Detalhes do erro:",b)}else console.log("Status no foi alterado ou shipment no tem companyId"),console.log("oldStatus === updatedShipment.status:",_===h.status),console.log("updatedShipment.companyId:",h.companyId);console.log("Shipment updated successfully:",h.id)}catch(p){throw console.error("Error updating shipment: ",p),p}},c=h=>o?s()?!0:o.role===vn.COMPANY_USER?h.companyId===o.companyId:!1:!1,d={shipments:e,addShipment:l,updateShipment:u,canEditShipment:c,canCreateShipment:()=>s(),loading:i};return v.jsx(ED.Provider,{value:d,children:n})},uY=new Date().getFullYear(),cY=({theme:n="light",useGradient:e=!1,gradientColors:r=["#4A00E0","#8E2DE2"],gradientDirection:i="to right",backgroundColor:a=n==="dark"?"#1e1e1e":"#f9f9f9",logoVariant:o=n})=>{const s=n==="dark",l=e?{backgroundImage:`linear-gradient(${i}, ${r[0]}, ${r[1]})`}:{backgroundColor:a},u=s?"#ffffff":"#333333",c=o==="light"?"https://borderlessdevs.netlify.app/static/media/logo-dark.2fa878784899c906a14f.png":"https://borderlessdevs.netlify.app/static/media/logo-light.e753328ab34c0b67df5a.png";return v.jsxs("footer",{style:Object.assign(Object.assign({width:"100%",textAlign:"center",padding:"0.75rem 0.5rem"},l),{color:u}),children:[v.jsx("a",{href:"https://borderlessdevs.netlify.app",target:"_blank",rel:"noopener noreferrer",children:v.jsx("img",{src:c,alt:"Logo Borderless",style:{height:24,marginBottom:6}})}),v.jsxs("p",{style:{margin:0,fontSize:"0.75rem",fontWeight:500},children:["Desenvolvido por Borderless  ",uY]})]})},fY=({theme:n="light"})=>v.jsx("div",{className:"footer-container",children:v.jsx(cY,{theme:n,useGradient:!1})});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ut=(n,e)=>{const r=C.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:u,...c},f)=>C.createElement("svg",{ref:f,...dY,width:a,height:a,stroke:i,strokeWidth:s?Number(o)*24/Number(a):o,className:["lucide",`lucide-${hY(n)}`,l].join(" "),...c},[...e.map(([d,h])=>C.createElement(d,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${n}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=Ut("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=Ut("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=Ut("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=Ut("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=Ut("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=Ut("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=Ut("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Ut("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=Ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=Ut("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=Ut("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Ut("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=Ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=Ut("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Ut("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=Ut("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=Ut("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=Ut("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=Ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=Ut("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Ut("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=Ut("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=Ut("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=Ut("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Ut("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=Ut("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=Ut("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=Ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Ut("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=Ut("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=Ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=Ut("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Ut("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=Ut("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=Ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=Ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ef=()=>{const[n,e]=C.useState(!1),[r,i]=C.useState([]),[a,o]=C.useState(""),[s,l]=C.useState(!1),u=C.useRef(null),c=()=>{e(!n),!n&&r.length===0&&setTimeout(()=>{i([{id:Date.now(),text:"Ol! Sou o assistente virtual da SeaLogistics. Como posso ajudar voc hoje?",sender:"bot"}])},500)},f=w=>{o(w.target.value)},d=()=>{var w;(w=u.current)==null||w.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{d()},[r]);const h=()=>{const w=["Entendi! Vou verificar essa informao para voc.","Obrigado pela sua mensagem. Posso ajudar com mais alguma coisa?","A SeaLogistics oferece diversos servios de logstica martima. Gostaria de saber mais sobre algum servio especfico?","Estou processando sua solicitao. Em breve teremos uma resposta para voc.","Isso  interessante! Vamos analisar as melhores opes para sua necessidade."],_=w[Math.floor(Math.random()*w.length)];l(!0),setTimeout(()=>{i(b=>[...b,{id:Date.now(),text:_,sender:"bot"}]),l(!1)},1500)},p=()=>{if(a.trim()==="")return;const w={id:Date.now(),text:a,sender:"user"};i(_=>[..._,w]),o(""),h()},y=w=>{w.key==="Enter"&&p()};return v.jsx("div",{className:"chat-assistant-container",children:n?v.jsxs("div",{className:"chat-window",children:[v.jsxs("div",{className:"chat-header",children:[v.jsxs("div",{className:"chat-title",children:[v.jsx(gY,{size:20}),v.jsx("span",{children:"Assistente SeaLogistics"})]}),v.jsx("button",{className:"close-button",onClick:c,"aria-label":"Fechar chat",children:v.jsx(Fl,{size:20})})]}),v.jsxs("div",{className:"messages-container",children:[r.map(w=>v.jsx("div",{className:`message ${w.sender}`,children:w.text},w.id)),s&&v.jsx("div",{className:"message bot typing",children:v.jsxs("span",{className:"typing-indicator",children:[v.jsx("span",{className:"dot"}),v.jsx("span",{className:"dot"}),v.jsx("span",{className:"dot"})]})}),v.jsx("div",{ref:u})]}),v.jsxs("div",{className:"input-container",children:[v.jsx("input",{type:"text",value:a,onChange:f,onKeyPress:y,placeholder:"Digite sua mensagem...","aria-label":"Mensagem"}),v.jsx("button",{className:"send-button",onClick:p,disabled:a.trim()==="","aria-label":"Enviar mensagem",children:v.jsx(IY,{size:18})})]})]}):v.jsx("button",{className:"chat-button",onClick:c,"aria-label":"Abrir chat",children:v.jsx(PY,{size:24})})})};function LD(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(r=LD(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function dn(){for(var n,e,r=0,i="",a=arguments.length;r<a;r++)(n=arguments[r])&&(e=LD(n))&&(i&&(i+=" "),i+=e);return i}var x1={},DD={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}n.isUnsafeProperty=e})(DD);var qA={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}n.isDeepKey=e})(qA);var WA={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){var i;return typeof r=="string"||typeof r=="symbol"?r:Object.is((i=r==null?void 0:r.valueOf)==null?void 0:i.call(r),-0)?"-0":String(r)}n.toKey=e})(WA);var A1={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){const i=[],a=r.length;if(a===0)return i;let o=0,s="",l="",u=!1;for(r.charCodeAt(0)===46&&(i.push(""),o++);o<a;){const c=r[o];l?c==="\\"&&o+1<a?(o++,s+=r[o]):c===l?l="":s+=c:u?c==='"'||c==="'"?l=c:c==="]"?(u=!1,i.push(s),s=""):s+=c:c==="["?(u=!0,s&&(i.push(s),s="")):c==="."?s&&(i.push(s),s=""):s+=c,o++}return s&&i.push(s),i}n.toPath=e})(A1);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=DD,r=qA,i=WA,a=A1;function o(l,u,c){if(l==null)return c;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return c;const f=l[u];return f===void 0?r.isDeepKey(u)?o(l,a.toPath(u),c):c:f}case"number":case"symbol":{typeof u=="number"&&(u=i.toKey(u));const f=l[u];return f===void 0?c:f}default:{if(Array.isArray(u))return s(l,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return c;const f=l[u];return f===void 0?c:f}}}function s(l,u,c){if(u.length===0)return c;let f=l;for(let d=0;d<u.length;d++){if(f==null||e.isUnsafeProperty(u[d]))return c;f=f[u[d]]}return f===void 0?c:f}n.get=o})(x1);var DY=x1.get;const sc=Xs(DY);var RD={exports:{}},jn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA=Symbol.for("react.transitional.element"),KA=Symbol.for("react.portal"),S1=Symbol.for("react.fragment"),E1=Symbol.for("react.strict_mode"),P1=Symbol.for("react.profiler"),N1=Symbol.for("react.consumer"),k1=Symbol.for("react.context"),T1=Symbol.for("react.forward_ref"),C1=Symbol.for("react.suspense"),I1=Symbol.for("react.suspense_list"),O1=Symbol.for("react.memo"),j1=Symbol.for("react.lazy"),RY=Symbol.for("react.view_transition"),MY=Symbol.for("react.client.reference");function Ro(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case HA:switch(n=n.type,n){case S1:case P1:case E1:case C1:case I1:case RY:return n;default:switch(n=n&&n.$$typeof,n){case k1:case T1:case j1:case O1:return n;case N1:return n;default:return e}}case KA:return e}}}jn.ContextConsumer=N1;jn.ContextProvider=k1;jn.Element=HA;jn.ForwardRef=T1;jn.Fragment=S1;jn.Lazy=j1;jn.Memo=O1;jn.Portal=KA;jn.Profiler=P1;jn.StrictMode=E1;jn.Suspense=C1;jn.SuspenseList=I1;jn.isContextConsumer=function(n){return Ro(n)===N1};jn.isContextProvider=function(n){return Ro(n)===k1};jn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===HA};jn.isForwardRef=function(n){return Ro(n)===T1};jn.isFragment=function(n){return Ro(n)===S1};jn.isLazy=function(n){return Ro(n)===j1};jn.isMemo=function(n){return Ro(n)===O1};jn.isPortal=function(n){return Ro(n)===KA};jn.isProfiler=function(n){return Ro(n)===P1};jn.isStrictMode=function(n){return Ro(n)===E1};jn.isSuspense=function(n){return Ro(n)===C1};jn.isSuspenseList=function(n){return Ro(n)===I1};jn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===S1||n===P1||n===E1||n===C1||n===I1||typeof n=="object"&&n!==null&&(n.$$typeof===j1||n.$$typeof===O1||n.$$typeof===k1||n.$$typeof===N1||n.$$typeof===T1||n.$$typeof===MY||n.getModuleId!==void 0)};jn.typeOf=Ro;RD.exports=jn;var FY=RD.exports,ui=n=>n===0?0:n>0?1:-1,to=n=>typeof n=="number"&&n!=+n,Zc=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,He=n=>(typeof n=="number"||n instanceof Number)&&!to(n),Gs=n=>He(n)||typeof n=="string",BY=0,Im=n=>{var e=++BY;return"".concat(n||"").concat(e)},ia=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(e)&&typeof e!="string")return i;var o;if(Zc(e)){if(r==null)return i;var s=e.indexOf("%");o=r*parseFloat(e.slice(0,s))/100}else o=+e;return to(o)&&(o=i),a&&r!=null&&o>r&&(o=r),o},MD=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,r={},i=0;i<e;i++)if(!r[n[i]])r[n[i]]=!0;else return!0;return!1},yk=(n,e)=>He(n)&&He(e)?r=>n+r*(e-n):()=>e;function Zo(n,e,r){return He(n)&&He(e)?n+r*(e-n):e}function FD(n,e,r){if(!(!n||!n.length))return n.find(i=>i&&(typeof e=="function"?e(i):sc(i,e))===r)}var Yn=n=>n===null||typeof n>"u",sg=n=>Yn(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1)),UY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function GA(n){if(typeof n!="string")return!1;var e=UY;return e.includes(n)}var $Y=["viewBox","children"],wk=["points","pathLength"],_w={svg:$Y,polygon:wk,polyline:wk},YA=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var r=n;if(C.isValidElement(n)&&(r=n.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{GA(a)&&(i[a]=o=>r[a](r,o))}),i},VY=(n,e,r)=>i=>(n(e,r,i),null),lg=(n,e,r)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(a=>{var o=n[a];GA(a)&&typeof o=="function"&&(i||(i={}),i[a]=VY(o,e,r))}),i},zY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function BD(n){if(typeof n!="string")return!1;var e=zY;return e.includes(n)}function Gl(n){var e=Object.entries(n).filter(r=>{var[i]=r;return BD(i)});return Object.fromEntries(e)}var bk=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",_k=null,xw=null,UD=n=>{if(n===_k&&Array.isArray(xw))return xw;var e=[];return C.Children.forEach(n,r=>{Yn(r)||(FY.isFragment(r)?e=e.concat(UD(r.props.children)):e.push(r))}),xw=e,_k=n,e};function ug(n,e){var r=[],i=[];return Array.isArray(e)?i=e.map(a=>bk(a)):i=[bk(e)],UD(n).forEach(a=>{var o=sc(a,"type.displayName")||sc(a,"type.name");i.indexOf(o)!==-1&&r.push(a)}),r}var $D=n=>n&&typeof n=="object"&&"clipDot"in n?!!n.clipDot:!0,qY=(n,e,r,i)=>{var a;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(a=i&&(_w==null?void 0:_w[i]))!==null&&a!==void 0?a:[],s=e.startsWith("data-"),l=typeof n!="function"&&(!!i&&o.includes(e)||BD(e)),u=!!r&&GA(e);return s||l||u},nr=(n,e,r)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var i=n;if(C.isValidElement(n)&&(i=n.props),typeof i!="object"&&typeof i!="function")return null;var a={};return Object.keys(i).forEach(o=>{var s;qY((s=i)===null||s===void 0?void 0:s[o],o,e,r)&&(a[o]=i[o])}),a},WY=["children","width","height","viewBox","className","style","title","desc"];function V5(){return V5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},V5.apply(null,arguments)}function HY(n,e){if(n==null)return{};var r,i,a=KY(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function KY(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}var XA=C.forwardRef((n,e)=>{var{children:r,width:i,height:a,viewBox:o,className:s,style:l,title:u,desc:c}=n,f=HY(n,WY),d=o||{width:i,height:a,x:0,y:0},h=dn("recharts-surface",s);return C.createElement("svg",V5({},nr(f,!0,"svg"),{className:h,width:i,height:a,style:l,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),C.createElement("title",null,u),C.createElement("desc",null,c),r)}),GY=["children","className"];function z5(){return z5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},z5.apply(null,arguments)}function YY(n,e){if(n==null)return{};var r,i,a=XY(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function XY(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}var Hi=C.forwardRef((n,e)=>{var{children:r,className:i}=n,a=YY(n,GY),o=dn("recharts-layer",i);return C.createElement("g",z5({className:o},nr(a,!0),{ref:e}),r)}),VD=C.createContext(null),QY=()=>C.useContext(VD);function Fn(n){return function(){return n}}const zD=Math.cos,Vy=Math.sin,ls=Math.sqrt,zy=Math.PI,L1=2*zy,q5=Math.PI,W5=2*q5,zc=1e-6,ZY=W5-zc;function qD(n){this._+=n[0];for(let e=1,r=n.length;e<r;++e)this._+=arguments[e]+n[e]}function JY(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return qD;const r=10**e;return function(i){this._+=i[0];for(let a=1,o=i.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+i[a]}}class eX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qD:JY(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,i,a){this._append`Q${+e},${+r},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(e,r,i,a,o,s){this._append`C${+e},${+r},${+i},${+a},${this._x1=+o},${this._y1=+s}`}arcTo(e,r,i,a,o){if(e=+e,r=+r,i=+i,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,u=i-e,c=a-r,f=s-e,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>zc)if(!(Math.abs(d*u-c*f)>zc)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let p=i-s,y=a-l,w=u*u+c*c,_=p*p+y*y,b=Math.sqrt(w),S=Math.sqrt(h),A=o*Math.tan((q5-Math.acos((w+h-_)/(2*b*S)))/2),T=A/S,B=A/b;Math.abs(T-1)>zc&&this._append`L${e+T*f},${r+T*d}`,this._append`A${o},${o},0,0,${+(d*p>f*y)},${this._x1=e+B*u},${this._y1=r+B*c}`}}arc(e,r,i,a,o,s){if(e=+e,r=+r,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(a),u=i*Math.sin(a),c=e+l,f=r+u,d=1^s,h=s?a-o:o-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>zc||Math.abs(this._y1-f)>zc)&&this._append`L${c},${f}`,i&&(h<0&&(h=h%W5+W5),h>ZY?this._append`A${i},${i},0,1,${d},${e-l},${r-u}A${i},${i},0,1,${d},${this._x1=c},${this._y1=f}`:h>zc&&this._append`A${i},${i},0,${+(h>=q5)},${d},${this._x1=e+i*Math.cos(o)},${this._y1=r+i*Math.sin(o)}`)}rect(e,r,i,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function QA(n){let e=3;return n.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);e=i}return n},()=>new eX(e)}function ZA(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function WD(n){this._context=n}WD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function D1(n){return new WD(n)}function HD(n){return n[0]}function KD(n){return n[1]}function GD(n,e){var r=Fn(!0),i=null,a=D1,o=null,s=QA(l);n=typeof n=="function"?n:n===void 0?HD:Fn(n),e=typeof e=="function"?e:e===void 0?KD:Fn(e);function l(u){var c,f=(u=ZA(u)).length,d,h=!1,p;for(i==null&&(o=a(p=s())),c=0;c<=f;++c)!(c<f&&r(d=u[c],c,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+n(d,c,u),+e(d,c,u));if(p)return o=null,p+""||null}return l.x=function(u){return arguments.length?(n=typeof u=="function"?u:Fn(+u),l):n},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Fn(+u),l):e},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Fn(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,i!=null&&(o=a(i)),l):a},l.context=function(u){return arguments.length?(u==null?i=o=null:o=a(i=u),l):i},l}function fv(n,e,r){var i=null,a=Fn(!0),o=null,s=D1,l=null,u=QA(c);n=typeof n=="function"?n:n===void 0?HD:Fn(+n),e=typeof e=="function"?e:Fn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?KD:Fn(+r);function c(d){var h,p,y,w=(d=ZA(d)).length,_,b=!1,S,A=new Array(w),T=new Array(w);for(o==null&&(l=s(S=u())),h=0;h<=w;++h){if(!(h<w&&a(_=d[h],h,d))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(A[y],T[y]);l.lineEnd(),l.areaEnd()}b&&(A[h]=+n(_,h,d),T[h]=+e(_,h,d),l.point(i?+i(_,h,d):A[h],r?+r(_,h,d):T[h]))}if(S)return l=null,S+""||null}function f(){return GD().defined(a).curve(s).context(o)}return c.x=function(d){return arguments.length?(n=typeof d=="function"?d:Fn(+d),i=null,c):n},c.x0=function(d){return arguments.length?(n=typeof d=="function"?d:Fn(+d),c):n},c.x1=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:Fn(+d),c):i},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Fn(+d),r=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Fn(+d),c):e},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Fn(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(n).y(e)},c.lineY1=function(){return f().x(n).y(r)},c.lineX1=function(){return f().x(i).y(e)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Fn(!!d),c):a},c.curve=function(d){return arguments.length?(s=d,o!=null&&(l=s(o)),c):s},c.context=function(d){return arguments.length?(d==null?o=l=null:l=s(o=d),c):o},c}class YD{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function tX(n){return new YD(n,!0)}function nX(n){return new YD(n,!1)}const JA={draw(n,e){const r=ls(e/zy);n.moveTo(r,0),n.arc(0,0,r,0,L1)}},rX={draw(n,e){const r=ls(e/5)/2;n.moveTo(-3*r,-r),n.lineTo(-r,-r),n.lineTo(-r,-3*r),n.lineTo(r,-3*r),n.lineTo(r,-r),n.lineTo(3*r,-r),n.lineTo(3*r,r),n.lineTo(r,r),n.lineTo(r,3*r),n.lineTo(-r,3*r),n.lineTo(-r,r),n.lineTo(-3*r,r),n.closePath()}},XD=ls(1/3),iX=XD*2,aX={draw(n,e){const r=ls(e/iX),i=r*XD;n.moveTo(0,-r),n.lineTo(i,0),n.lineTo(0,r),n.lineTo(-i,0),n.closePath()}},oX={draw(n,e){const r=ls(e),i=-r/2;n.rect(i,i,r,r)}},sX=.8908130915292852,QD=Vy(zy/10)/Vy(7*zy/10),lX=Vy(L1/10)*QD,uX=-zD(L1/10)*QD,cX={draw(n,e){const r=ls(e*sX),i=lX*r,a=uX*r;n.moveTo(0,-r),n.lineTo(i,a);for(let o=1;o<5;++o){const s=L1*o/5,l=zD(s),u=Vy(s);n.lineTo(u*r,-l*r),n.lineTo(l*i-u*a,u*i+l*a)}n.closePath()}},Aw=ls(3),fX={draw(n,e){const r=-ls(e/(Aw*3));n.moveTo(0,r*2),n.lineTo(-Aw*r,-r),n.lineTo(Aw*r,-r),n.closePath()}},wo=-.5,bo=ls(3)/2,H5=1/ls(12),dX=(H5/2+1)*3,hX={draw(n,e){const r=ls(e/dX),i=r/2,a=r*H5,o=i,s=r*H5+r,l=-o,u=s;n.moveTo(i,a),n.lineTo(o,s),n.lineTo(l,u),n.lineTo(wo*i-bo*a,bo*i+wo*a),n.lineTo(wo*o-bo*s,bo*o+wo*s),n.lineTo(wo*l-bo*u,bo*l+wo*u),n.lineTo(wo*i+bo*a,wo*a-bo*i),n.lineTo(wo*o+bo*s,wo*s-bo*o),n.lineTo(wo*l+bo*u,wo*u-bo*l),n.closePath()}};function pX(n,e){let r=null,i=QA(a);n=typeof n=="function"?n:Fn(n||JA),e=typeof e=="function"?e:Fn(e===void 0?64:+e);function a(){let o;if(r||(r=o=i()),n.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(n=typeof o=="function"?o:Fn(o),a):n},a.size=function(o){return arguments.length?(e=typeof o=="function"?o:Fn(+o),a):e},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function qy(){}function Wy(n,e,r){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+r)/6)}function ZD(n){this._context=n}ZD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wy(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function mX(n){return new ZD(n)}function JD(n){this._context=n}JD.prototype={areaStart:qy,areaEnd:qy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:Wy(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function gX(n){return new JD(n)}function eR(n){this._context=n}eR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:Wy(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function vX(n){return new eR(n)}function tR(n){this._context=n}tR.prototype={areaStart:qy,areaEnd:qy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function yX(n){return new tR(n)}function xk(n){return n<0?-1:1}function Ak(n,e,r){var i=n._x1-n._x0,a=e-n._x1,o=(n._y1-n._y0)/(i||a<0&&-0),s=(r-n._y1)/(a||i<0&&-0),l=(o*a+s*i)/(i+a);return(xk(o)+xk(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function Sk(n,e){var r=n._x1-n._x0;return r?(3*(n._y1-n._y0)/r-e)/2:e}function Sw(n,e,r){var i=n._x0,a=n._y0,o=n._x1,s=n._y1,l=(o-i)/3;n._context.bezierCurveTo(i+l,a+l*e,o-l,s-l*r,o,s)}function Hy(n){this._context=n}Hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sw(this,this._t0,Sk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var r=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,Sw(this,Sk(this,r=Ak(this,n,e)),r);break;default:Sw(this,this._t0,r=Ak(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=r}}};function nR(n){this._context=new rR(n)}(nR.prototype=Object.create(Hy.prototype)).point=function(n,e){Hy.prototype.point.call(this,e,n)};function rR(n){this._context=n}rR.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,r,i,a,o){this._context.bezierCurveTo(e,n,i,r,o,a)}};function wX(n){return new Hy(n)}function bX(n){return new nR(n)}function iR(n){this._context=n}iR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,r=n.length;if(r)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),r===2)this._context.lineTo(n[1],e[1]);else for(var i=Ek(n),a=Ek(e),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(i[0][o],a[0][o],i[1][o],a[1][o],n[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function Ek(n){var e,r=n.length-1,i,a=new Array(r),o=new Array(r),s=new Array(r);for(a[0]=0,o[0]=2,s[0]=n[0]+2*n[1],e=1;e<r-1;++e)a[e]=1,o[e]=4,s[e]=4*n[e]+2*n[e+1];for(a[r-1]=2,o[r-1]=7,s[r-1]=8*n[r-1]+n[r],e=1;e<r;++e)i=a[e]/o[e-1],o[e]-=i,s[e]-=i*s[e-1];for(a[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/o[e];for(o[r-1]=(n[r]+a[r-1])/2,e=0;e<r-1;++e)o[e]=2*n[e+1]-a[e+1];return[a,o]}function _X(n){return new iR(n)}function R1(n,e){this._context=n,this._t=e}R1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var r=this._x*(1-this._t)+n*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=n,this._y=e}};function xX(n){return new R1(n,.5)}function AX(n){return new R1(n,0)}function SX(n){return new R1(n,1)}function rh(n,e){if((s=n.length)>1)for(var r=1,i,a,o=n[e[0]],s,l=o.length;r<s;++r)for(a=o,o=n[e[r]],i=0;i<l;++i)o[i][1]+=o[i][0]=isNaN(a[i][1])?a[i][0]:a[i][1]}function K5(n){for(var e=n.length,r=new Array(e);--e>=0;)r[e]=e;return r}function EX(n,e){return n[e]}function PX(n){const e=[];return e.key=n,e}function NX(){var n=Fn([]),e=K5,r=rh,i=EX;function a(o){var s=Array.from(n.apply(this,arguments),PX),l,u=s.length,c=-1,f;for(const d of o)for(l=0,++c;l<u;++l)(s[l][c]=[0,+i(d,s[l].key,c,o)]).data=d;for(l=0,f=ZA(e(s));l<u;++l)s[f[l]].index=l;return r(s,f),s}return a.keys=function(o){return arguments.length?(n=typeof o=="function"?o:Fn(Array.from(o)),a):n},a.value=function(o){return arguments.length?(i=typeof o=="function"?o:Fn(+o),a):i},a.order=function(o){return arguments.length?(e=o==null?K5:typeof o=="function"?o:Fn(Array.from(o)),a):e},a.offset=function(o){return arguments.length?(r=o??rh,a):r},a}function kX(n,e){if((i=n.length)>0){for(var r,i,a=0,o=n[0].length,s;a<o;++a){for(s=r=0;r<i;++r)s+=n[r][a][1]||0;if(s)for(r=0;r<i;++r)n[r][a][1]/=s}rh(n,e)}}function TX(n,e){if((a=n.length)>0){for(var r=0,i=n[e[0]],a,o=i.length;r<o;++r){for(var s=0,l=0;s<a;++s)l+=n[s][r][1]||0;i[r][1]+=i[r][0]=-l/2}rh(n,e)}}function CX(n,e){if(!(!((s=n.length)>0)||!((o=(a=n[e[0]]).length)>0))){for(var r=0,i=1,a,o,s;i<o;++i){for(var l=0,u=0,c=0;l<s;++l){for(var f=n[e[l]],d=f[i][1]||0,h=f[i-1][1]||0,p=(d-h)/2,y=0;y<l;++y){var w=n[e[y]],_=w[i][1]||0,b=w[i-1][1]||0;p+=_-b}u+=d,c+=p*d}a[i-1][1]+=a[i-1][0]=r,u&&(r-=c/u)}a[i-1][1]+=a[i-1][0]=r,rh(n,e)}}var IX=["type","size","sizeType"];function G5(){return G5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},G5.apply(null,arguments)}function Pk(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Nk(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(r),!0).forEach(function(i){OX(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function OX(n,e,r){return(e=jX(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function jX(n){var e=LX(n,"string");return typeof e=="symbol"?e:e+""}function LX(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function DX(n,e){if(n==null)return{};var r,i,a=RX(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function RX(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}var aR={symbolCircle:JA,symbolCross:rX,symbolDiamond:aX,symbolSquare:oX,symbolStar:cX,symbolTriangle:fX,symbolWye:hX},MX=Math.PI/180,FX=n=>{var e="symbol".concat(sg(n));return aR[e]||JA},BX=(n,e,r)=>{if(e==="area")return n;switch(r){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*MX;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},UX=(n,e)=>{aR["symbol".concat(sg(n))]=e},eS=n=>{var{type:e="circle",size:r=64,sizeType:i="area"}=n,a=DX(n,IX),o=Nk(Nk({},a),{},{type:e,size:r,sizeType:i}),s=()=>{var d=FX(e),h=pX().type(d).size(BX(r,i,e));return h()},{className:l,cx:u,cy:c}=o,f=nr(o,!0);return u===+u&&c===+c&&r===+r?C.createElement("path",G5({},f,{className:dn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};eS.registerSymbol=UX;function Y5(){return Y5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Y5.apply(null,arguments)}function kk(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function $X(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(r),!0).forEach(function(i){tS(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function tS(n,e,r){return(e=VX(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function VX(n){var e=zX(n,"string");return typeof e=="symbol"?e:e+""}function zX(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var _o=32;class nS extends C.PureComponent{renderIcon(e,r){var{inactiveColor:i}=this.props,a=_o/2,o=_o/6,s=_o/3,l=e.inactive?i:e.color,u=r??e.type;if(u==="none")return null;if(u==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:_o,y2:a,className:"recharts-legend-icon"});if(u==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(_o,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return C.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(_o/8,"h").concat(_o,"v").concat(_o*3/4,"h").concat(-_o,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var c=$X({},e);return delete c.legendIcon,C.cloneElement(e.legendIcon,c)}return C.createElement(eS,{fill:l,cx:a,cy:a,size:_o,sizeType:"diameter",type:u})}renderItems(){var{payload:e,iconSize:r,layout:i,formatter:a,inactiveColor:o,iconType:s}=this.props,l={x:0,y:0,width:_o,height:_o},u={display:i==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((f,d)=>{var h=f.formatter||a,p=dn({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:f.inactive});if(f.type==="none")return null;var y=f.inactive?o:f.color,w=h?h(f.value,f,d):f.value;return C.createElement("li",Y5({className:p,style:u,key:"legend-item-".concat(d)},lg(this.props,f,d)),C.createElement(XA,{width:r,height:r,viewBox:l,style:c,"aria-label":"".concat(w," legend icon")},this.renderIcon(f,s)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},w))})}render(){var{payload:e,layout:r,align:i}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}tS(nS,"displayName","Legend");tS(nS,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var oR={},sR={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r,i){const a=new Map;for(let o=0;o<r.length;o++){const s=r[o],l=i(s);a.has(l)||a.set(l,s)}return Array.from(a.values())}n.uniqBy=e})(sR);var rS={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return r}n.identity=e})(rS);var lR={},M1={},uR={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}n.isLength=e})(uR);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=uR;function r(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}n.isArrayLike=r})(M1);var cR={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}n.isObjectLike=e})(cR);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=M1,r=cR;function i(a){return r.isObjectLike(a)&&e.isArrayLike(a)}n.isArrayLikeObject=i})(lR);var fR={},dR={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=x1;function r(i){return function(a){return e.get(a,i)}}n.property=r})(dR);var hR={},Ew={},Pw={},iS={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}n.isObject=e})(iS);var aS={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}n.isPrimitive=e})(aS);var F1={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r,i){return r===i||Number.isNaN(r)&&Number.isNaN(i)}n.eq=e})(F1);var Tk;function qX(){return Tk||(Tk=1,function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=oS(),r=iS,i=aS,a=F1;function o(d,h,p){return typeof p!="function"?e.isMatch(d,h):s(d,h,function y(w,_,b,S,A,T){const B=p(w,_,b,S,A,T);return B!==void 0?!!B:s(w,_,y,T)},new Map)}function s(d,h,p,y){if(h===d)return!0;switch(typeof h){case"object":return l(d,h,p,y);case"function":return Object.keys(h).length>0?s(d,{...h},p,y):a.eq(d,h);default:return r.isObject(d)?typeof h=="string"?h==="":!0:a.eq(d,h)}}function l(d,h,p,y){if(h==null)return!0;if(Array.isArray(h))return c(d,h,p,y);if(h instanceof Map)return u(d,h,p,y);if(h instanceof Set)return f(d,h,p,y);const w=Object.keys(h);if(d==null)return w.length===0;if(w.length===0)return!0;if(y&&y.has(h))return y.get(h)===d;y&&y.set(h,d);try{for(let _=0;_<w.length;_++){const b=w[_];if(!i.isPrimitive(d)&&!(b in d)||h[b]===void 0&&d[b]!==void 0||h[b]===null&&d[b]!==null||!p(d[b],h[b],b,d,h,y))return!1}return!0}finally{y&&y.delete(h)}}function u(d,h,p,y){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[w,_]of h.entries()){const b=d.get(w);if(p(b,_,w,d,h,y)===!1)return!1}return!0}function c(d,h,p,y){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const w=new Set;for(let _=0;_<h.length;_++){const b=h[_];let S=!1;for(let A=0;A<d.length;A++){if(w.has(A))continue;const T=d[A];let B=!1;if(p(T,b,_,d,h,y)&&(B=!0),B){w.add(A),S=!0;break}}if(!S)return!1}return!0}function f(d,h,p,y){return h.size===0?!0:d instanceof Set?c([...d],[...h],p,y):!1}n.isMatchWith=o,n.isSetMatch=f}(Pw)),Pw}var Ck;function oS(){return Ck||(Ck=1,function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=qX();function r(i,a){return e.isMatchWith(i,a,()=>{})}n.isMatch=r}(Ew)),Ew}var pR={},sS={},lS={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(i=>Object.prototype.propertyIsEnumerable.call(r,i))}n.getSymbols=e})(lS);var B1={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}n.getTag=e})(B1);var U1={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",i="[object Number]",a="[object Boolean]",o="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",c="[object Set]",f="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",y="[object Error]",w="[object DataView]",_="[object Uint8Array]",b="[object Uint8ClampedArray]",S="[object Uint16Array]",A="[object Uint32Array]",T="[object BigUint64Array]",B="[object Int8Array]",$="[object Int16Array]",L="[object Int32Array]",I="[object BigInt64Array]",O="[object Float32Array]",U="[object Float64Array]";n.argumentsTag=o,n.arrayBufferTag=h,n.arrayTag=f,n.bigInt64ArrayTag=I,n.bigUint64ArrayTag=T,n.booleanTag=a,n.dataViewTag=w,n.dateTag=l,n.errorTag=y,n.float32ArrayTag=O,n.float64ArrayTag=U,n.functionTag=d,n.int16ArrayTag=$,n.int32ArrayTag=L,n.int8ArrayTag=B,n.mapTag=u,n.numberTag=i,n.objectTag=p,n.regexpTag=e,n.setTag=c,n.stringTag=r,n.symbolTag=s,n.uint16ArrayTag=S,n.uint32ArrayTag=A,n.uint8ArrayTag=_,n.uint8ClampedArrayTag=b})(U1);var mR={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}n.isTypedArray=e})(mR);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=lS,r=B1,i=U1,a=aS,o=mR;function s(f,d){return l(f,void 0,f,new Map,d)}function l(f,d,h,p=new Map,y=void 0){const w=y==null?void 0:y(f,d,h,p);if(w!==void 0)return w;if(a.isPrimitive(f))return f;if(p.has(f))return p.get(f);if(Array.isArray(f)){const _=new Array(f.length);p.set(f,_);for(let b=0;b<f.length;b++)_[b]=l(f[b],b,h,p,y);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;p.set(f,_);for(const[b,S]of f)_.set(b,l(S,b,h,p,y));return _}if(f instanceof Set){const _=new Set;p.set(f,_);for(const b of f)_.add(l(b,void 0,h,p,y));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(o.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);p.set(f,_);for(let b=0;b<f.length;b++)_[b]=l(f[b],b,h,p,y);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return p.set(f,_),u(_,f,h,p,y),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return p.set(f,_),u(_,f,h,p,y),_}if(f instanceof Blob){const _=new Blob([f],{type:f.type});return p.set(f,_),u(_,f,h,p,y),_}if(f instanceof Error){const _=new f.constructor;return p.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,u(_,f,h,p,y),_}if(typeof f=="object"&&c(f)){const _=Object.create(Object.getPrototypeOf(f));return p.set(f,_),u(_,f,h,p,y),_}return f}function u(f,d,h=f,p,y){const w=[...Object.keys(d),...e.getSymbols(d)];for(let _=0;_<w.length;_++){const b=w[_],S=Object.getOwnPropertyDescriptor(f,b);(S==null||S.writable)&&(f[b]=l(d[b],b,h,p,y))}}function c(f){switch(r.getTag(f)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=s,n.cloneDeepWithImpl=l,n.copyProperties=u})(sS);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=sS;function r(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=r})(pR);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=oS(),r=pR;function i(a){return a=r.cloneDeep(a),o=>e.isMatch(o,a)}n.matches=i})(hR);var gR={},vR={},yR={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=sS,r=U1;function i(a,o){return e.cloneDeepWith(a,(s,l,u,c)=>{const f=o==null?void 0:o(s,l,u,c);if(f!==void 0)return f;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(d,a),d}case r.argumentsTag:{const d={};return e.copyProperties(d,a),d.length=a.length,d[Symbol.iterator]=a[Symbol.iterator],d}default:return}})}n.cloneDeepWith=i})(yR);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=yR;function r(i){return e.cloneDeepWith(i)}n.cloneDeep=r})(vR);var wR={},uS={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(i,a=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<a;case"symbol":return!1;case"string":return e.test(i)}}n.isIndex=r})(uS);var bR={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=B1;function r(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}n.isArguments=r})(bR);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=qA,r=uS,i=bR,a=A1;function o(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&(s==null?void 0:s[l])==null?u=a.toPath(l):u=[l],u.length===0)return!1;let c=s;for(let f=0;f<u.length;f++){const d=u[f];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||i.isArguments(c))&&r.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}n.has=o})(wR);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=oS(),r=WA,i=vR,a=x1,o=wR;function s(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=i.cloneDeep(u),function(c){const f=a.get(c,l);return f===void 0?o.has(c,l):u===void 0?f===void 0:e.isMatch(f,u)}}n.matchesProperty=s})(gR);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=rS,r=dR,i=hR,a=gR;function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):i.matches(s);case"string":case"symbol":case"number":return r.property(s)}}n.iteratee=o})(fR);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=sR,r=rS,i=lR,a=fR;function o(s,l=r.identity){return i.isArrayLikeObject(s)?e.uniqBy(Array.from(s),a.iteratee(l)):[]}n.uniqBy=o})(oR);var WX=oR.uniqBy;const Ik=Xs(WX);function _R(n,e,r){return e===!0?Ik(n,r):typeof e=="function"?Ik(n,e):n}var xR={exports:{}},AR={},SR={exports:{}},ER={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=C;function HX(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var KX=typeof Object.is=="function"?Object.is:HX,GX=ih.useState,YX=ih.useEffect,XX=ih.useLayoutEffect,QX=ih.useDebugValue;function ZX(n,e){var r=e(),i=GX({inst:{value:r,getSnapshot:e}}),a=i[0].inst,o=i[1];return XX(function(){a.value=r,a.getSnapshot=e,Nw(a)&&o({inst:a})},[n,r,e]),YX(function(){return Nw(a)&&o({inst:a}),n(function(){Nw(a)&&o({inst:a})})},[n]),QX(r),r}function Nw(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!KX(n,r)}catch{return!0}}function JX(n,e){return e()}var eQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JX:ZX;ER.useSyncExternalStore=ih.useSyncExternalStore!==void 0?ih.useSyncExternalStore:eQ;SR.exports=ER;var tQ=SR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1=C,nQ=tQ;function rQ(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var iQ=typeof Object.is=="function"?Object.is:rQ,aQ=nQ.useSyncExternalStore,oQ=$1.useRef,sQ=$1.useEffect,lQ=$1.useMemo,uQ=$1.useDebugValue;AR.useSyncExternalStoreWithSelector=function(n,e,r,i,a){var o=oQ(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=lQ(function(){function u(p){if(!c){if(c=!0,f=p,p=i(p),a!==void 0&&s.hasValue){var y=s.value;if(a(y,p))return d=y}return d=p}if(y=d,iQ(f,p))return y;var w=i(p);return a!==void 0&&a(y,w)?(f=p,y):(f=p,d=w)}var c=!1,f,d,h=r===void 0?null:r;return[function(){return u(e())},h===null?void 0:function(){return u(h())}]},[e,r,i,a]);var l=aQ(n,o[0],o[1]);return sQ(function(){s.hasValue=!0,s.value=l},[l]),uQ(l),l};xR.exports=AR;var cQ=xR.exports,cS=C.createContext(null),fQ=n=>n,cr=()=>{var n=C.useContext(cS);return n?n.store.dispatch:fQ},Jv=()=>{},dQ=()=>Jv,hQ=(n,e)=>n===e;function it(n){var e=C.useContext(cS);return cQ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:dQ,e?e.store.getState:Jv,e?e.store.getState:Jv,e?n:Jv,hQ)}function pQ(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function mQ(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function gQ(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(r=>typeof r=="function")){const r=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${r}]`)}}var Ok=n=>Array.isArray(n)?n:[n];function vQ(n){const e=Array.isArray(n[0])?n[0]:n;return gQ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function yQ(n,e){const r=[],{length:i}=n;for(let a=0;a<i;a++)r.push(n[a].apply(null,e));return r}var wQ=class{constructor(n){this.value=n}deref(){return this.value}},bQ=typeof WeakRef<"u"?WeakRef:wQ,_Q=0,jk=1;function dv(){return{s:_Q,v:void 0,o:null,p:null}}function PR(n,e={}){let r=dv();const{resultEqualityCheck:i}=e;let a,o=0;function s(){var d;let l=r;const{length:u}=arguments;for(let h=0,p=u;h<p;h++){const y=arguments[h];if(typeof y=="function"||typeof y=="object"&&y!==null){let w=l.o;w===null&&(l.o=w=new WeakMap);const _=w.get(y);_===void 0?(l=dv(),w.set(y,l)):l=_}else{let w=l.p;w===null&&(l.p=w=new Map);const _=w.get(y);_===void 0?(l=dv(),w.set(y,l)):l=_}}const c=l;let f;if(l.s===jk)f=l.v;else if(f=n.apply(null,arguments),o++,i){const h=((d=a==null?void 0:a.deref)==null?void 0:d.call(a))??a;h!=null&&i(h,f)&&(f=h,o!==0&&o--),a=typeof f=="object"&&f!==null||typeof f=="function"?new bQ(f):f}return c.s=jk,c.v=f,f}return s.clearCache=()=>{r=dv(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function xQ(n,...e){const r=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...a)=>{let o=0,s=0,l,u={},c=a.pop();typeof c=="object"&&(u=c,c=a.pop()),pQ(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const f={...r,...u},{memoize:d,memoizeOptions:h=[],argsMemoize:p=PR,argsMemoizeOptions:y=[]}=f,w=Ok(h),_=Ok(y),b=vQ(a),S=d(function(){return o++,c.apply(null,arguments)},...w),A=p(function(){s++;const B=yQ(b,arguments);return l=S.apply(null,B),l},..._);return Object.assign(A,{resultFunc:c,memoizedResultFunc:S,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:p})};return Object.assign(i,{withTypes:()=>i}),i}var Se=xQ(PR),AQ=Object.assign((n,e=Se)=>{mQ(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const r=Object.keys(n),i=r.map(o=>n[o]);return e(i,(...o)=>o.reduce((s,l,u)=>(s[r[u]]=l,s),{}))},{withTypes:()=>AQ}),NR={},kR={},TR={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const r=(i,a,o)=>{if(i!==a){const s=e(i),l=e(a);if(s===l&&s===0){if(i<a)return o==="desc"?1:-1;if(i>a)return o==="desc"?-1:1}return o==="desc"?l-s:s-l}return 0};n.compareValues=r})(TR);var CR={},fS={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}n.isSymbol=e})(fS);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=fS,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(i.test(o)||!r.test(o))||s!=null&&Object.hasOwn(s,o)}n.isKey=a})(CR);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=TR,r=CR,i=A1;function a(o,s,l,u){if(o==null)return[];l=u?void 0:l,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const c=(p,y)=>{let w=p;for(let _=0;_<y.length&&w!=null;++_)w=w[y[_]];return w},f=(p,y)=>y==null||p==null?y:typeof p=="object"&&"key"in p?Object.hasOwn(y,p.key)?y[p.key]:c(y,p.path):typeof p=="function"?p(y):Array.isArray(p)?c(y,p):typeof y=="object"?y[p]:y,d=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:i.toPath(p)}));return o.map(p=>({original:p,criteria:d.map(y=>f(y,p))})).slice().sort((p,y)=>{for(let w=0;w<d.length;w++){const _=e.compareValues(p.criteria[w],y.criteria[w],l[w]);if(_!==0)return _}return 0}).map(p=>p.original)}n.orderBy=a})(kR);var IR={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r,i=1){const a=[],o=Math.floor(i),s=(l,u)=>{for(let c=0;c<l.length;c++){const f=l[c];Array.isArray(f)&&u<o?s(f,u+1):a.push(f)}};return s(r,0),a}n.flatten=e})(IR);var dS={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=uS,r=M1,i=iS,a=F1;function o(s,l,u){return i.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?a.eq(u[l],s):!1}n.isIterateeCall=o})(dS);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=kR,r=IR,i=dS;function a(o,...s){const l=s.length;return l>1&&i.isIterateeCall(o,s[0],s[1])?s=[]:l>2&&i.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,r.flatten(s),["asc"])}n.sortBy=a})(NR);var SQ=NR.sortBy;const V1=Xs(SQ);var OR=n=>n.legend.settings,EQ=n=>n.legend.size,PQ=n=>n.legend.payload,NQ=Se([PQ,OR],(n,e)=>{var{itemSorter:r}=e,i=n.flat(1);return r?V1(i,r):i});function kQ(){return it(NQ)}var hv=1;function jR(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=C.useState({height:0,left:0,top:0,width:0}),i=C.useCallback(a=>{if(a!=null){var o=a.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>hv||Math.abs(s.left-e.left)>hv||Math.abs(s.top-e.top)>hv||Math.abs(s.width-e.width)>hv)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,i]}function vi(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var TQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",Lk=TQ,kw=()=>Math.random().toString(36).substring(7).split("").join("."),CQ={INIT:`@@redux/INIT${kw()}`,REPLACE:`@@redux/REPLACE${kw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kw()}`},Ky=CQ;function hS(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function LR(n,e,r){if(typeof n!="function")throw new Error(vi(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(vi(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(vi(1));return r(LR)(n,e)}let i=n,a=e,o=new Map,s=o,l=0,u=!1;function c(){s===o&&(s=new Map,o.forEach((_,b)=>{s.set(b,_)}))}function f(){if(u)throw new Error(vi(3));return a}function d(_){if(typeof _!="function")throw new Error(vi(4));if(u)throw new Error(vi(5));let b=!0;c();const S=l++;return s.set(S,_),function(){if(b){if(u)throw new Error(vi(6));b=!1,c(),s.delete(S),o=null}}}function h(_){if(!hS(_))throw new Error(vi(7));if(typeof _.type>"u")throw new Error(vi(8));if(typeof _.type!="string")throw new Error(vi(17));if(u)throw new Error(vi(9));try{u=!0,a=i(a,_)}finally{u=!1}return(o=s).forEach(S=>{S()}),_}function p(_){if(typeof _!="function")throw new Error(vi(10));i=_,h({type:Ky.REPLACE})}function y(){const _=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(vi(11));function S(){const T=b;T.next&&T.next(f())}return S(),{unsubscribe:_(S)}},[Lk](){return this}}}return h({type:Ky.INIT}),{dispatch:h,subscribe:d,getState:f,replaceReducer:p,[Lk]:y}}function IQ(n){Object.keys(n).forEach(e=>{const r=n[e];if(typeof r(void 0,{type:Ky.INIT})>"u")throw new Error(vi(12));if(typeof r(void 0,{type:Ky.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vi(13))})}function DR(n){const e=Object.keys(n),r={};for(let o=0;o<e.length;o++){const s=e[o];typeof n[s]=="function"&&(r[s]=n[s])}const i=Object.keys(r);let a;try{IQ(r)}catch(o){a=o}return function(s={},l){if(a)throw a;let u=!1;const c={};for(let f=0;f<i.length;f++){const d=i[f],h=r[d],p=s[d],y=h(p,l);if(typeof y>"u")throw l&&l.type,new Error(vi(14));c[d]=y,u=u||y!==p}return u=u||i.length!==Object.keys(s).length,u?c:s}}function Gy(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,r)=>(...i)=>e(r(...i)))}function OQ(...n){return e=>(r,i)=>{const a=e(r,i);let o=()=>{throw new Error(vi(15))};const s={getState:a.getState,dispatch:(u,...c)=>o(u,...c)},l=n.map(u=>u(s));return o=Gy(...l)(a.dispatch),{...a,dispatch:o}}}function RR(n){return hS(n)&&"type"in n&&typeof n.type=="string"}var MR=Symbol.for("immer-nothing"),Dk=Symbol.for("immer-draftable"),no=Symbol.for("immer-state");function es(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ah=Object.getPrototypeOf;function Pf(n){return!!n&&!!n[no]}function Bl(n){var e;return n?FR(n)||Array.isArray(n)||!!n[Dk]||!!((e=n.constructor)!=null&&e[Dk])||q1(n)||W1(n):!1}var jQ=Object.prototype.constructor.toString();function FR(n){if(!n||typeof n!="object")return!1;const e=ah(n);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===jQ}function Yy(n,e){z1(n)===0?Reflect.ownKeys(n).forEach(r=>{e(r,n[r],n)}):n.forEach((r,i)=>e(i,r,n))}function z1(n){const e=n[no];return e?e.type_:Array.isArray(n)?1:q1(n)?2:W1(n)?3:0}function X5(n,e){return z1(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function BR(n,e,r){const i=z1(n);i===2?n.set(e,r):i===3?n.add(r):n[e]=r}function LQ(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function q1(n){return n instanceof Map}function W1(n){return n instanceof Set}function qc(n){return n.copy_||n.base_}function Q5(n,e){if(q1(n))return new Map(n);if(W1(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const r=FR(n);if(e===!0||e==="class_only"&&!r){const i=Object.getOwnPropertyDescriptors(n);delete i[no];let a=Reflect.ownKeys(i);for(let o=0;o<a.length;o++){const s=a[o],l=i[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(i[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:n[s]})}return Object.create(ah(n),i)}else{const i=ah(n);if(i!==null&&r)return{...n};const a=Object.create(i);return Object.assign(a,n)}}function pS(n,e=!1){return H1(n)||Pf(n)||!Bl(n)||(z1(n)>1&&(n.set=n.add=n.clear=n.delete=DQ),Object.freeze(n),e&&Object.entries(n).forEach(([r,i])=>pS(i,!0))),n}function DQ(){es(2)}function H1(n){return Object.isFrozen(n)}var RQ={};function Nf(n){const e=RQ[n];return e||es(0,n),e}var Om;function UR(){return Om}function MQ(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Rk(n,e){e&&(Nf("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Z5(n){J5(n),n.drafts_.forEach(FQ),n.drafts_=null}function J5(n){n===Om&&(Om=n.parent_)}function Mk(n){return Om=MQ(Om,n)}function FQ(n){const e=n[no];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Fk(n,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return n!==void 0&&n!==r?(r[no].modified_&&(Z5(e),es(4)),Bl(n)&&(n=Xy(e,n),e.parent_||Qy(e,n)),e.patches_&&Nf("Patches").generateReplacementPatches_(r[no].base_,n,e.patches_,e.inversePatches_)):n=Xy(e,r,[]),Z5(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==MR?n:void 0}function Xy(n,e,r){if(H1(e))return e;const i=e[no];if(!i)return Yy(e,(a,o)=>Bk(n,i,e,a,o,r)),e;if(i.scope_!==n)return e;if(!i.modified_)return Qy(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),Yy(o,(l,u)=>Bk(n,i,a,l,u,r,s)),Qy(n,a,!1),r&&n.patches_&&Nf("Patches").generatePatches_(i,r,n.patches_,n.inversePatches_)}return i.copy_}function Bk(n,e,r,i,a,o,s){if(Pf(a)){const l=o&&e&&e.type_!==3&&!X5(e.assigned_,i)?o.concat(i):void 0,u=Xy(n,a,l);if(BR(r,i,u),Pf(u))n.canAutoFreeze_=!1;else return}else s&&r.add(a);if(Bl(a)&&!H1(a)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Xy(n,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,i)&&Qy(n,a)}}function Qy(n,e,r=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&pS(e,r)}function BQ(n,e){const r=Array.isArray(n),i={type_:r?1:0,scope_:e?e.scope_:UR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,o=mS;r&&(a=[i],o=jm);const{revoke:s,proxy:l}=Proxy.revocable(a,o);return i.draft_=l,i.revoke_=s,l}var mS={get(n,e){if(e===no)return n;const r=qc(n);if(!X5(r,e))return UQ(n,r,e);const i=r[e];return n.finalized_||!Bl(i)?i:i===Tw(n.base_,e)?(Cw(n),n.copy_[e]=t_(i,n)):i},has(n,e){return e in qc(n)},ownKeys(n){return Reflect.ownKeys(qc(n))},set(n,e,r){const i=$R(qc(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,r),!0;if(!n.modified_){const a=Tw(qc(n),e),o=a==null?void 0:a[no];if(o&&o.base_===r)return n.copy_[e]=r,n.assigned_[e]=!1,!0;if(LQ(r,a)&&(r!==void 0||X5(n.base_,e)))return!0;Cw(n),e_(n)}return n.copy_[e]===r&&(r!==void 0||e in n.copy_)||Number.isNaN(r)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=r,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Tw(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Cw(n),e_(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const r=qc(n),i=Reflect.getOwnPropertyDescriptor(r,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:r[e]}},defineProperty(){es(11)},getPrototypeOf(n){return ah(n.base_)},setPrototypeOf(){es(12)}},jm={};Yy(mS,(n,e)=>{jm[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});jm.deleteProperty=function(n,e){return jm.set.call(this,n,e,void 0)};jm.set=function(n,e,r){return mS.set.call(this,n[0],e,r,n[0])};function Tw(n,e){const r=n[no];return(r?qc(r):n)[e]}function UQ(n,e,r){var a;const i=$R(e,r);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(n.draft_):void 0}function $R(n,e){if(!(e in n))return;let r=ah(n);for(;r;){const i=Object.getOwnPropertyDescriptor(r,e);if(i)return i;r=ah(r)}}function e_(n){n.modified_||(n.modified_=!0,n.parent_&&e_(n.parent_))}function Cw(n){n.copy_||(n.copy_=Q5(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var $Q=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,i)=>{if(typeof e=="function"&&typeof r!="function"){const o=r;r=e;const s=this;return function(u=o,...c){return s.produce(u,f=>r.call(this,f,...c))}}typeof r!="function"&&es(6),i!==void 0&&typeof i!="function"&&es(7);let a;if(Bl(e)){const o=Mk(this),s=t_(e,void 0);let l=!0;try{a=r(s),l=!1}finally{l?Z5(o):J5(o)}return Rk(o,i),Fk(a,o)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===MR&&(a=void 0),this.autoFreeze_&&pS(a,!0),i){const o=[],s=[];Nf("Patches").generateReplacementPatches_(e,a,o,s),i(o,s)}return a}else es(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,u=>e(u,...l));let i,a;return[this.produce(e,r,(s,l)=>{i=s,a=l}),i,a]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Bl(n)||es(8),Pf(n)&&(n=kl(n));const e=Mk(this),r=t_(n,void 0);return r[no].isManual_=!0,J5(e),r}finishDraft(n,e){const r=n&&n[no];(!r||!r.isManual_)&&es(9);const{scope_:i}=r;return Rk(i,e),Fk(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}r>-1&&(e=e.slice(r+1));const i=Nf("Patches").applyPatches_;return Pf(n)?i(n,e):this.produce(n,a=>i(a,e))}};function t_(n,e){const r=q1(n)?Nf("MapSet").proxyMap_(n,e):W1(n)?Nf("MapSet").proxySet_(n,e):BQ(n,e);return(e?e.scope_:UR()).drafts_.push(r),r}function kl(n){return Pf(n)||es(10,n),VR(n)}function VR(n){if(!Bl(n)||H1(n))return n;const e=n[no];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Q5(n,e.scope_.immer_.useStrictShallowCopy_)}else r=Q5(n,!0);return Yy(r,(i,a)=>{BR(r,i,VR(a))}),e&&(e.finalized_=!1),r}var ro=new $Q,zR=ro.produce;ro.produceWithPatches.bind(ro);ro.setAutoFreeze.bind(ro);ro.setUseStrictShallowCopy.bind(ro);ro.applyPatches.bind(ro);ro.createDraft.bind(ro);ro.finishDraft.bind(ro);function qR(n){return({dispatch:r,getState:i})=>a=>o=>typeof o=="function"?o(r,i,n):a(o)}var VQ=qR(),zQ=qR,qQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gy:Gy.apply(null,arguments)};function Oo(n,e){function r(...i){if(e){let a=e(...i);if(!a)throw new Error(Ja(0));return{type:n,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:n,payload:i[0]}}return r.toString=()=>`${n}`,r.type=n,r.match=i=>RR(i)&&i.type===n,r}var WR=class Cp extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Cp.prototype)}static get[Symbol.species](){return Cp}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Cp(...e[0].concat(this)):new Cp(...e.concat(this))}};function Uk(n){return Bl(n)?zR(n,()=>{}):n}function pv(n,e,r){return n.has(e)?n.get(e):n.set(e,r(e)).get(e)}function WQ(n){return typeof n=="boolean"}var HQ=()=>function(e){const{thunk:r=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=e??{};let s=new WR;return r&&(WQ(r)?s.push(VQ):s.push(zQ(r.extraArgument))),s},KQ="RTK_autoBatch",$k=n=>e=>{setTimeout(e,n)},GQ=(n={type:"raf"})=>e=>(...r)=>{const i=e(...r);let a=!0,o=!1,s=!1;const l=new Set,u=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$k(10):n.type==="callback"?n.queueNotification:$k(n.timeout),c=()=>{s=!1,o&&(o=!1,l.forEach(f=>f()))};return Object.assign({},i,{subscribe(f){const d=()=>a&&f(),h=i.subscribe(d);return l.add(f),()=>{h(),l.delete(f)}},dispatch(f){var d;try{return a=!((d=f==null?void 0:f.meta)!=null&&d[KQ]),o=!a,o&&(s||(s=!0,u(c))),i.dispatch(f)}finally{a=!0}}})},YQ=n=>function(r){const{autoBatch:i=!0}=r??{};let a=new WR(n);return i&&a.push(GQ(typeof i=="object"?i:void 0)),a};function XQ(n){const e=HQ(),{reducer:r=void 0,middleware:i,devTools:a=!0,preloadedState:o=void 0,enhancers:s=void 0}=n||{};let l;if(typeof r=="function")l=r;else if(hS(r))l=DR(r);else throw new Error(Ja(1));let u;typeof i=="function"?u=i(e):u=e();let c=Gy;a&&(c=qQ({trace:!1,...typeof a=="object"&&a}));const f=OQ(...u),d=YQ(f);let h=typeof s=="function"?s(d):d();const p=c(...h);return LR(l,o,p)}function HR(n){const e={},r=[];let i;const a={addCase(o,s){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(Ja(28));if(l in e)throw new Error(Ja(29));return e[l]=s,a},addMatcher(o,s){return r.push({matcher:o,reducer:s}),a},addDefaultCase(o){return i=o,a}};return n(a),[e,r,i]}function QQ(n){return typeof n=="function"}function ZQ(n,e){let[r,i,a]=HR(e),o;if(QQ(n))o=()=>Uk(n());else{const l=Uk(n);o=()=>l}function s(l=o(),u){let c=[r[u.type],...i.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return c.filter(f=>!!f).length===0&&(c=[a]),c.reduce((f,d)=>{if(d)if(Pf(f)){const p=d(f,u);return p===void 0?f:p}else{if(Bl(f))return zR(f,h=>d(h,u));{const h=d(f,u);if(h===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return f},l)}return s.getInitialState=o,s}var JQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eZ=(n=21)=>{let e="",r=n;for(;r--;)e+=JQ[Math.random()*64|0];return e},tZ=Symbol.for("rtk-slice-createasyncthunk");function nZ(n,e){return`${n}/${e}`}function rZ({creators:n}={}){var r;const e=(r=n==null?void 0:n.asyncThunk)==null?void 0:r[tZ];return function(a){const{name:o,reducerPath:s=o}=a;if(!o)throw new Error(Ja(11));const l=(typeof a.reducers=="function"?a.reducers(aZ()):a.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(T,B){const $=typeof T=="string"?T:T.type;if(!$)throw new Error(Ja(12));if($ in c.sliceCaseReducersByType)throw new Error(Ja(13));return c.sliceCaseReducersByType[$]=B,f},addMatcher(T,B){return c.sliceMatchers.push({matcher:T,reducer:B}),f},exposeAction(T,B){return c.actionCreators[T]=B,f},exposeCaseReducer(T,B){return c.sliceCaseReducersByName[T]=B,f}};u.forEach(T=>{const B=l[T],$={reducerName:T,type:nZ(o,T),createNotation:typeof a.reducers=="function"};sZ(B)?uZ($,B,f,e):oZ($,B,f)});function d(){const[T={},B=[],$=void 0]=typeof a.extraReducers=="function"?HR(a.extraReducers):[a.extraReducers],L={...T,...c.sliceCaseReducersByType};return ZQ(a.initialState,I=>{for(let O in L)I.addCase(O,L[O]);for(let O of c.sliceMatchers)I.addMatcher(O.matcher,O.reducer);for(let O of B)I.addMatcher(O.matcher,O.reducer);$&&I.addDefaultCase($)})}const h=T=>T,p=new Map,y=new WeakMap;let w;function _(T,B){return w||(w=d()),w(T,B)}function b(){return w||(w=d()),w.getInitialState()}function S(T,B=!1){function $(I){let O=I[T];return typeof O>"u"&&B&&(O=pv(y,$,b)),O}function L(I=h){const O=pv(p,B,()=>new WeakMap);return pv(O,I,()=>{const U={};for(const[k,R]of Object.entries(a.selectors??{}))U[k]=iZ(R,I,()=>pv(y,I,b),B);return U})}return{reducerPath:T,getSelectors:L,get selectors(){return L($)},selectSlice:$}}const A={name:o,reducer:_,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...S(s),injectInto(T,{reducerPath:B,...$}={}){const L=B??s;return T.inject({reducerPath:L,reducer:_},$),{...A,...S(L,!0)}}};return A}}function iZ(n,e,r,i){function a(o,...s){let l=e(o);return typeof l>"u"&&i&&(l=r()),n(l,...s)}return a.unwrapped=n,a}var lo=rZ();function aZ(){function n(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:n}}function oZ({type:n,reducerName:e,createNotation:r},i,a){let o,s;if("reducer"in i){if(r&&!lZ(i))throw new Error(Ja(17));o=i.reducer,s=i.prepare}else o=i;a.addCase(n,o).exposeCaseReducer(e,o).exposeAction(e,s?Oo(n,s):Oo(n))}function sZ(n){return n._reducerDefinitionType==="asyncThunk"}function lZ(n){return n._reducerDefinitionType==="reducerWithPrepare"}function uZ({type:n,reducerName:e},r,i,a){if(!a)throw new Error(Ja(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:u,settled:c,options:f}=r,d=a(n,o,f);i.exposeAction(e,d),s&&i.addCase(d.fulfilled,s),l&&i.addCase(d.pending,l),u&&i.addCase(d.rejected,u),c&&i.addMatcher(d.settled,c),i.exposeCaseReducer(e,{fulfilled:s||mv,pending:l||mv,rejected:u||mv,settled:c||mv})}function mv(){}var cZ="task",KR="listener",GR="completed",gS="cancelled",fZ=`task-${gS}`,dZ=`task-${GR}`,n_=`${KR}-${gS}`,hZ=`${KR}-${GR}`,K1=class{constructor(n){gn(this,"name","TaskAbortError");gn(this,"message");this.code=n,this.message=`${cZ} ${gS} (reason: ${n})`}},vS=(n,e)=>{if(typeof n!="function")throw new TypeError(Ja(32))},Zy=()=>{},YR=(n,e=Zy)=>(n.catch(e),n),XR=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),uf=(n,e)=>{const r=n.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),n.abort(e))},cf=n=>{if(n.aborted){const{reason:e}=n;throw new K1(e)}};function QR(n,e){let r=Zy;return new Promise((i,a)=>{const o=()=>a(new K1(n.reason));if(n.aborted){o();return}r=XR(n,o),e.finally(()=>r()).then(i,a)}).finally(()=>{r=Zy})}var pZ=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(r){return{status:r instanceof K1?"cancelled":"rejected",error:r}}finally{e==null||e()}},Jy=n=>e=>YR(QR(n,e).then(r=>(cf(n),r))),ZR=n=>{const e=Jy(n);return r=>e(new Promise(i=>setTimeout(i,r)))},{assign:Ld}=Object,Vk={},G1="listenerMiddleware",mZ=(n,e)=>{const r=i=>XR(n,()=>uf(i,n.reason));return(i,a)=>{vS(i);const o=new AbortController;r(o);const s=pZ(async()=>{cf(n),cf(o.signal);const l=await i({pause:Jy(o.signal),delay:ZR(o.signal),signal:o.signal});return cf(o.signal),l},()=>uf(o,dZ));return a!=null&&a.autoJoin&&e.push(s.catch(Zy)),{result:Jy(n)(s),cancel(){uf(o,fZ)}}}},gZ=(n,e)=>{const r=async(i,a)=>{cf(e);let o=()=>{};const l=[new Promise((u,c)=>{let f=n({predicate:i,effect:(d,h)=>{h.unsubscribe(),u([d,h.getState(),h.getOriginalState()])}});o=()=>{f(),c()}})];a!=null&&l.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await QR(e,Promise.race(l));return cf(e),u}finally{o()}};return(i,a)=>YR(r(i,a))},JR=n=>{let{type:e,actionCreator:r,matcher:i,predicate:a,effect:o}=n;if(e)a=Oo(e).match;else if(r)e=r.type,a=r.match;else if(i)a=i;else if(!a)throw new Error(Ja(21));return vS(o),{predicate:a,type:e,effect:o}},e8=Ld(n=>{const{type:e,predicate:r,effect:i}=JR(n);return{id:eZ(),effect:i,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ja(22))}}},{withTypes:()=>e8}),zk=(n,e)=>{const{type:r,effect:i,predicate:a}=JR(e);return Array.from(n.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===a)&&o.effect===i)},r_=n=>{n.pending.forEach(e=>{uf(e,n_)})},vZ=n=>()=>{n.forEach(r_),n.clear()},qk=(n,e,r)=>{try{n(e,r)}catch(i){setTimeout(()=>{throw i},0)}},t8=Ld(Oo(`${G1}/add`),{withTypes:()=>t8}),yZ=Oo(`${G1}/removeAll`),n8=Ld(Oo(`${G1}/remove`),{withTypes:()=>n8}),wZ=(...n)=>{console.error(`${G1}/error`,...n)},cg=(n={})=>{const e=new Map,{extra:r,onError:i=wZ}=n;vS(i);const a=f=>(f.unsubscribe=()=>e.delete(f.id),e.set(f.id,f),d=>{f.unsubscribe(),d!=null&&d.cancelActive&&r_(f)}),o=f=>{const d=zk(e,f)??e8(f);return a(d)};Ld(o,{withTypes:()=>o});const s=f=>{const d=zk(e,f);return d&&(d.unsubscribe(),f.cancelActive&&r_(d)),!!d};Ld(s,{withTypes:()=>s});const l=async(f,d,h,p)=>{const y=new AbortController,w=gZ(o,y.signal),_=[];try{f.pending.add(y),await Promise.resolve(f.effect(d,Ld({},h,{getOriginalState:p,condition:(b,S)=>w(b,S).then(Boolean),take:w,delay:ZR(y.signal),pause:Jy(y.signal),extra:r,signal:y.signal,fork:mZ(y.signal,_),unsubscribe:f.unsubscribe,subscribe:()=>{e.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((b,S,A)=>{b!==y&&(uf(b,n_),A.delete(b))})},cancel:()=>{uf(y,n_),f.pending.delete(y)},throwIfCancelled:()=>{cf(y.signal)}})))}catch(b){b instanceof K1||qk(i,b,{raisedBy:"effect"})}finally{await Promise.all(_),uf(y,hZ),f.pending.delete(y)}},u=vZ(e);return{middleware:f=>d=>h=>{if(!RR(h))return d(h);if(t8.match(h))return o(h.payload);if(yZ.match(h)){u();return}if(n8.match(h))return s(h.payload);let p=f.getState();const y=()=>{if(p===Vk)throw new Error(Ja(23));return p};let w;try{if(w=d(h),e.size>0){const _=f.getState(),b=Array.from(e.values());for(const S of b){let A=!1;try{A=S.predicate(h,_,p)}catch(T){A=!1,qk(i,T,{raisedBy:"predicate"})}A&&l(S,h,f,y)}}}finally{p=Vk}return w},startListening:o,stopListening:s,clearListeners:u}};function Ja(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var bZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},r8=lo({name:"chartLayout",initialState:bZ,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){n.margin.top=e.payload.top,n.margin.right=e.payload.right,n.margin.bottom=e.payload.bottom,n.margin.left=e.payload.left},setScale(n,e){n.scale=e.payload}}}),{setMargin:_Z,setLayout:xZ,setChartSize:AZ,setScale:SZ}=r8.actions,EZ=r8.reducer;function Wk(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Hk(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(r),!0).forEach(function(i){PZ(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function PZ(n,e,r){return(e=NZ(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function NZ(n){var e=kZ(n,"string");return typeof e=="symbol"?e:e+""}function kZ(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var e0=Math.PI/180,TZ=n=>n*180/Math.PI,$r=(n,e,r,i)=>({x:n+Math.cos(-e0*i)*r,y:e+Math.sin(-e0*i)*r}),i8=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(r-(i.top||0)-(i.bottom||0)))/2},CZ=(n,e)=>{var{x:r,y:i}=n,{x:a,y:o}=e;return Math.sqrt((r-a)**2+(i-o)**2)},IZ=(n,e)=>{var{x:r,y:i}=n,{cx:a,cy:o}=e,s=CZ({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s,angle:0};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:TZ(u),angleInRadian:u}},OZ=n=>{var{startAngle:e,endAngle:r}=n,i=Math.floor(e/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:e-o*360,endAngle:r-o*360}},jZ=(n,e)=>{var{startAngle:r,endAngle:i}=e,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return n+s*360},LZ=(n,e)=>{var{x:r,y:i}=n,{radius:a,angle:o}=IZ({x:r,y:i},e),{innerRadius:s,outerRadius:l}=e;if(a<s||a>l||a===0)return null;var{startAngle:u,endAngle:c}=OZ(e),f=o,d;if(u<=c){for(;f>c;)f-=360;for(;f<u;)f+=360;d=f>=u&&f<=c}else{for(;f>u;)f-=360;for(;f<c;)f+=360;d=f>=c&&f<=u}return d?Hk(Hk({},e),{},{radius:a,angle:jZ(f,e)}):null};function a8(n,e,r){return Array.isArray(n)&&n&&e+r!==0?n.slice(e,r+1):n}function Kk(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Eo(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(r),!0).forEach(function(i){DZ(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function DZ(n,e,r){return(e=RZ(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function RZ(n){var e=MZ(n,"string");return typeof e=="symbol"?e:e+""}function MZ(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function In(n,e,r){return Yn(n)||Yn(e)?r:Gs(e)?sc(n,e,r):typeof e=="function"?e(n):r}var FZ=(n,e,r,i,a)=>{var o,s=-1,l=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(l<=1||n==null)return 0;if(i==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<l;u++){var c=u>0?r[u-1].coordinate:r[l-1].coordinate,f=r[u].coordinate,d=u>=l-1?r[0].coordinate:r[u+1].coordinate,h=void 0;if(ui(f-c)!==ui(d-f)){var p=[];if(ui(d-f)===ui(a[1]-a[0])){h=d;var y=f+a[1]-a[0];p[0]=Math.min(y,(y+c)/2),p[1]=Math.max(y,(y+c)/2)}else{h=c;var w=d+a[1]-a[0];p[0]=Math.min(f,(w+f)/2),p[1]=Math.max(f,(w+f)/2)}var _=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(n>_[0]&&n<=_[1]||n>=p[0]&&n<=p[1]){({index:s}=r[u]);break}}else{var b=Math.min(c,d),S=Math.max(c,d);if(n>(b+f)/2&&n<=(S+f)/2){({index:s}=r[u]);break}}}else if(e){for(var A=0;A<l;A++)if(A===0&&n<=(e[A].coordinate+e[A+1].coordinate)/2||A>0&&A<l-1&&n>(e[A].coordinate+e[A-1].coordinate)/2&&n<=(e[A].coordinate+e[A+1].coordinate)/2||A===l-1&&n>(e[A].coordinate+e[A-1].coordinate)/2){({index:s}=e[A]);break}}return s},BZ=(n,e,r)=>{if(e&&r){var{width:i,height:a}=r,{align:o,verticalAlign:s,layout:l}=e;if((l==="vertical"||l==="horizontal"&&s==="middle")&&o!=="center"&&He(n[o]))return Eo(Eo({},n),{},{[o]:n[o]+(i||0)});if((l==="horizontal"||l==="vertical"&&o==="center")&&s!=="middle"&&He(n[s]))return Eo(Eo({},n),{},{[s]:n[s]+(a||0)})}return n},wc=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",o8=(n,e,r,i)=>{if(i)return n.map(l=>l.coordinate);var a,o,s=n.map(l=>(l.coordinate===e&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate));return a||s.push(e),o||s.push(r),s},s8=(n,e,r)=>{if(!n)return null;var{duplicateDomain:i,type:a,range:o,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:c,tickCount:f,ticks:d,niceTicks:h,axisType:p}=n;if(!s)return null;var y=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=a==="category"&&s.bandwidth?s.bandwidth()/y:0;if(w=p==="angleAxis"&&o&&o.length>=2?ui(o[0]-o[1])*2*w:w,d||h){var _=(d||h||[]).map((b,S)=>{var A=i?i.indexOf(b):b;return{coordinate:s(A)+w,value:b,offset:w,index:S}});return _.filter(b=>!to(b.coordinate))}return u&&c?c.map((b,S)=>({coordinate:s(b)+w,value:b,index:S,offset:w})):s.ticks&&f!=null?s.ticks(f).map((b,S)=>({coordinate:s(b)+w,value:b,offset:w,index:S})):s.domain().map((b,S)=>({coordinate:s(b)+w,value:i?i[b]:b,index:S,offset:w}))},Gk=1e-4,UZ=n=>{var e=n.domain();if(!(!e||e.length<=2)){var r=e.length,i=n.range(),a=Math.min(i[0],i[1])-Gk,o=Math.max(i[0],i[1])+Gk,s=n(e[0]),l=n(e[r-1]);(s<a||s>o||l<a||l>o)&&n.domain([e[0],e[r-1]])}},$Z=(n,e)=>{if(!e||e.length!==2||!He(e[0])||!He(e[1]))return n;var r=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),a=[n[0],n[1]];return(!He(n[0])||n[0]<r)&&(a[0]=r),(!He(n[1])||n[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},VZ=n=>{var e=n.length;if(!(e<=0))for(var r=0,i=n[0].length;r<i;++r)for(var a=0,o=0,s=0;s<e;++s){var l=to(n[s][r][1])?n[s][r][0]:n[s][r][1];l>=0?(n[s][r][0]=a,n[s][r][1]=a+l,a=n[s][r][1]):(n[s][r][0]=o,n[s][r][1]=o+l,o=n[s][r][1])}},zZ=n=>{var e=n.length;if(!(e<=0))for(var r=0,i=n[0].length;r<i;++r)for(var a=0,o=0;o<e;++o){var s=to(n[o][r][1])?n[o][r][0]:n[o][r][1];s>=0?(n[o][r][0]=a,n[o][r][1]=a+s,a=n[o][r][1]):(n[o][r][0]=0,n[o][r][1]=0)}},qZ={sign:VZ,expand:kX,none:rh,silhouette:TX,wiggle:CX,positive:zZ},WZ=(n,e,r)=>{var i=qZ[r],a=NX().keys(e).value((o,s)=>+In(o,s,0)).order(K5).offset(i);return a(n)};function HZ(n){return n==null?void 0:String(n)}function Yk(n){var{axis:e,ticks:r,bandSize:i,entry:a,index:o,dataKey:s}=n;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Yn(a[e.dataKey])){var l=FD(r,"value",a[e.dataKey]);if(l)return l.coordinate+i/2}return r[o]?r[o].coordinate+i/2:null}var u=In(a,Yn(s)?e.dataKey:s);return Yn(u)?null:e.scale(u)}var Xk=n=>{var{axis:e,ticks:r,offset:i,bandSize:a,entry:o,index:s}=n;if(e.type==="category")return r[s]?r[s].coordinate+i:null;var l=In(o,e.dataKey,e.scale.domain()[s]);return Yn(l)?null:e.scale(l)-a/2+i},KZ=n=>{var{numericAxis:e}=n,r=e.scale.domain();if(e.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},GZ=n=>{var e=n.flat(2).filter(He);return[Math.min(...e),Math.max(...e)]},YZ=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],XZ=(n,e,r)=>{if(n!=null)return YZ(Object.keys(n).reduce((i,a)=>{var o=n[a],{stackedData:s}=o,l=s.reduce((u,c)=>{var f=a8(c,e,r),d=GZ(f);return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]))},Qk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lm=(n,e,r)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!r||i>0)return i}if(n&&e&&e.length>=2){for(var a=V1(e,f=>f.coordinate),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0};function Jk(n){var{tooltipEntrySettings:e,dataKey:r,payload:i,value:a,name:o}=n;return Eo(Eo({},e),{},{dataKey:r,payload:i,value:a,name:o})}function Ph(n,e){if(n)return String(n);if(typeof e=="string")return e}function QZ(n,e,r,i,a){if(r==="horizontal"||r==="vertical"){var o=n>=a.left&&n<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return o?{x:n,y:e}:null}return i?LZ({x:n,y:e},i):null}var ZZ=(n,e,r,i)=>{var a=e.find(c=>c&&c.index===r);if(a){if(n==="horizontal")return{x:a.coordinate,y:i.y};if(n==="vertical")return{x:i.x,y:a.coordinate};if(n==="centric"){var o=a.coordinate,{radius:s}=i;return Eo(Eo(Eo({},i),$r(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,{angle:u}=i;return Eo(Eo(Eo({},i),$r(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return{x:0,y:0}},JZ=(n,e)=>e==="horizontal"?n.x:e==="vertical"?n.y:e==="centric"?n.angle:n.radius,Yl=n=>n.layout.width,Xl=n=>n.layout.height,eJ=n=>n.layout.scale,l8=n=>n.layout.margin,yS=Se(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),wS=Se(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),u8="data-recharts-item-index",c8="data-recharts-item-data-key",Y1=60;function eT(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function wu(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(r),!0).forEach(function(i){tJ(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function tJ(n,e,r){return(e=nJ(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function nJ(n){var e=rJ(n,"string");return typeof e=="symbol"?e:e+""}function rJ(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var iJ=n=>n.brush.height,Qr=Se([Yl,Xl,l8,iJ,yS,wS,OR,EQ],(n,e,r,i,a,o,s,l)=>{var u=o.reduce((y,w)=>{var{orientation:_}=w;if(!w.mirror&&!w.hide){var b=typeof w.width=="number"?w.width:Y1;return wu(wu({},y),{},{[_]:y[_]+b})}return y},{left:r.left||0,right:r.right||0}),c=a.reduce((y,w)=>{var{orientation:_}=w;return!w.mirror&&!w.hide?wu(wu({},y),{},{[_]:sc(y,"".concat(_))+w.height}):y},{top:r.top||0,bottom:r.bottom||0}),f=wu(wu({},c),u),d=f.bottom;f.bottom+=i,f=BZ(f,s,l);var h=n-f.left-f.right,p=e-f.top-f.bottom;return wu(wu({brushBottom:d},f),{},{width:Math.max(h,0),height:Math.max(p,0)})}),aJ=Se(Qr,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),f8=Se(Yl,Xl,(n,e)=>({x:0,y:0,width:n,height:e})),oJ=C.createContext(null),Pa=()=>C.useContext(oJ)!=null,X1=n=>n.brush,Q1=Se([X1,Qr,l8],(n,e,r)=>({height:n.height,x:He(n.x)?n.x:e.left,y:He(n.y)?n.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:He(n.width)?n.width:e.width})),bS=()=>{var n,e=Pa(),r=it(aJ),i=it(Q1),a=(n=it(X1))===null||n===void 0?void 0:n.padding;return!e||!i||!a?r:{width:i.width-a.left-a.right,height:i.height-a.top-a.bottom,x:a.left,y:a.top}},sJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},d8=()=>{var n;return(n=it(Qr))!==null&&n!==void 0?n:sJ},_S=()=>it(Yl),xS=()=>it(Xl),lJ={top:0,right:0,bottom:0,left:0},uJ=()=>{var n;return(n=it(e=>e.layout.margin))!==null&&n!==void 0?n:lJ},nn=n=>n.layout.layoutType,Z1=()=>it(nn),cJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},h8=lo({name:"legend",initialState:cJ,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload(n,e){n.payload.push(e.payload)},removeLegendPayload(n,e){var r=kl(n).payload.indexOf(e.payload);r>-1&&n.payload.splice(r,1)}}}),{setLegendSize:tT,setLegendSettings:fJ,addLegendPayload:p8,removeLegendPayload:m8}=h8.actions,dJ=h8.reducer,hJ=["contextPayload"];function i_(){return i_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},i_.apply(null,arguments)}function nT(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function oh(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(r),!0).forEach(function(i){AS(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function AS(n,e,r){return(e=pJ(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function pJ(n){var e=mJ(n,"string");return typeof e=="symbol"?e:e+""}function mJ(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gJ(n,e){if(n==null)return{};var r,i,a=vJ(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function vJ(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}function yJ(n){return n.value}function wJ(n){var{contextPayload:e}=n,r=gJ(n,hJ),i=_R(e,n.payloadUniqBy,yJ),a=oh(oh({},r),{},{payload:i});return C.isValidElement(n.content)?C.cloneElement(n.content,a):typeof n.content=="function"?C.createElement(n.content,a):C.createElement(nS,a)}function bJ(n,e,r,i,a,o){var{layout:s,align:l,verticalAlign:u}=e,c,f;return(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))&&(l==="center"&&s==="vertical"?c={left:((i||0)-o.width)/2}:c=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))&&(u==="middle"?f={top:((a||0)-o.height)/2}:f=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),oh(oh({},c),f)}function _J(n){var e=cr();return C.useEffect(()=>{e(fJ(n))},[e,n]),null}function xJ(n){var e=cr();return C.useEffect(()=>(e(tT(n)),()=>{e(tT({width:0,height:0}))}),[e,n]),null}function AJ(n){var e=kQ(),r=QY(),i=uJ(),{width:a,height:o,wrapperStyle:s,portal:l}=n,[u,c]=jR([e]),f=_S(),d=xS(),h=f-(i.left||0)-(i.right||0),p=J1.getWidthOrHeight(n.layout,o,a,h),y=l?s:oh(oh({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||o||"auto"},bJ(s,n,i,f,d,u)),s),w=l??r;if(w==null)return null;var _=C.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:c},C.createElement(_J,{layout:n.layout,align:n.align,verticalAlign:n.verticalAlign,itemSorter:n.itemSorter}),C.createElement(xJ,{width:u.width,height:u.height}),C.createElement(wJ,i_({},n,p,{margin:i,chartWidth:f,chartHeight:d,contextPayload:e})));return Zm.createPortal(_,w)}class J1 extends C.PureComponent{static getWidthOrHeight(e,r,i,a){return e==="vertical"&&He(r)?{height:r}:e==="horizontal"?{width:i||a}:null}render(){return C.createElement(AJ,this.props)}}AS(J1,"displayName","Legend");AS(J1,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function a_(){return a_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},a_.apply(null,arguments)}function rT(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Iw(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rT(Object(r),!0).forEach(function(i){SJ(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function SJ(n,e,r){return(e=EJ(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function EJ(n){var e=PJ(n,"string");return typeof e=="symbol"?e:e+""}function PJ(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function NJ(n){return Array.isArray(n)&&Gs(n[0])&&Gs(n[1])?n.join(" ~ "):n}var kJ=n=>{var{separator:e=" : ",contentStyle:r={},itemStyle:i={},labelStyle:a={},payload:o,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:c,label:f,labelFormatter:d,accessibilityLayer:h=!1}=n,p=()=>{if(o&&o.length){var B={padding:0,margin:0},$=(l?V1(o,l):o).map((L,I)=>{if(L.type==="none")return null;var O=L.formatter||s||NJ,{value:U,name:k}=L,R=U,j=k;if(O){var H=O(U,k,L,I,o);if(Array.isArray(H))[R,j]=H;else if(H!=null)R=H;else return null}var oe=Iw({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},i);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:oe},Gs(j)?C.createElement("span",{className:"recharts-tooltip-item-name"},j):null,Gs(j)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},R),C.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:B},$)}return null},y=Iw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=Iw({margin:0},a),_=!Yn(f),b=_?f:"",S=dn("recharts-default-tooltip",u),A=dn("recharts-tooltip-label",c);_&&d&&o!==void 0&&o!==null&&(b=d(f,o));var T=h?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",a_({className:S,style:y},T),C.createElement("p",{className:A,style:w},C.isValidElement(b)?b:"".concat(b)),p())},fp="recharts-tooltip-wrapper",TJ={visibility:"hidden"};function CJ(n){var{coordinate:e,translateX:r,translateY:i}=n;return dn(fp,{["".concat(fp,"-right")]:He(r)&&e&&He(e.x)&&r>=e.x,["".concat(fp,"-left")]:He(r)&&e&&He(e.x)&&r<e.x,["".concat(fp,"-bottom")]:He(i)&&e&&He(e.y)&&i>=e.y,["".concat(fp,"-top")]:He(i)&&e&&He(e.y)&&i<e.y})}function iT(n){var{allowEscapeViewBox:e,coordinate:r,key:i,offsetTopLeft:a,position:o,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:c}=n;if(o&&He(o[i]))return o[i];var f=r[i]-l-(a>0?a:0),d=r[i]+a;if(e[i])return s[i]?f:d;var h=u[i];if(h==null)return 0;if(s[i]){var p=f,y=h;return p<y?Math.max(d,h):Math.max(f,h)}if(c==null)return 0;var w=d+l,_=h+c;return w>_?Math.max(f,h):Math.max(d,h)}function IJ(n){var{translateX:e,translateY:r,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function OJ(n){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipBox:s,useTranslate3d:l,viewBox:u}=n,c,f,d;return s.height>0&&s.width>0&&r?(f=iT({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),d=iT({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=IJ({translateX:f,translateY:d,useTranslate3d:l})):c=TJ,{cssProperties:c,cssClasses:CJ({translateX:f,translateY:d,coordinate:r})}}function aT(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function gv(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(r),!0).forEach(function(i){o_(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function o_(n,e,r){return(e=jJ(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function jJ(n){var e=LJ(n,"string");return typeof e=="symbol"?e:e+""}function LJ(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class DJ extends C.PureComponent{constructor(){super(...arguments),o_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),o_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,i,a,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0,y:(a=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,children:o,coordinate:s,hasPayload:l,isAnimationActive:u,offset:c,position:f,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:y,lastBoundingBox:w,innerRef:_,hasPortalFromProps:b}=this.props,{cssClasses:S,cssProperties:A}=OJ({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:f,reverseDirection:d,tooltipBox:{height:w.height,width:w.width},useTranslate3d:h,viewBox:p}),T=b?{}:gv(gv({transition:u&&e?"transform ".concat(i,"ms ").concat(a):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),B=gv(gv({},T),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},y);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:B,ref:_},o)}}var RJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Bf={isSsr:RJ()},g8=()=>it(n=>n.rootProps.accessibilityLayer);function io(n){return Number.isFinite(n)}function sh(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function s_(){return s_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},s_.apply(null,arguments)}function oT(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function sT(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oT(Object(r),!0).forEach(function(i){MJ(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function MJ(n,e,r){return(e=FJ(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function FJ(n){var e=BJ(n,"string");return typeof e=="symbol"?e:e+""}function BJ(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lT={curveBasisClosed:gX,curveBasisOpen:vX,curveBasis:mX,curveBumpX:tX,curveBumpY:nX,curveLinearClosed:yX,curveLinear:D1,curveMonotoneX:wX,curveMonotoneY:bX,curveNatural:_X,curveStep:xX,curveStepAfter:SX,curveStepBefore:AX},vv=n=>io(n.x)&&io(n.y),dp=n=>n.x,hp=n=>n.y,UJ=(n,e)=>{if(typeof n=="function")return n;var r="curve".concat(sg(n));return(r==="curveMonotone"||r==="curveBump")&&e?lT["".concat(r).concat(e==="vertical"?"Y":"X")]:lT[r]||D1},$J=n=>{var{type:e="linear",points:r=[],baseLine:i,layout:a,connectNulls:o=!1}=n,s=UJ(e,a),l=o?r.filter(vv):r,u;if(Array.isArray(i)){var c=o?i.filter(d=>vv(d)):i,f=l.map((d,h)=>sT(sT({},d),{},{base:c[h]}));return a==="vertical"?u=fv().y(hp).x1(dp).x0(d=>d.base.x):u=fv().x(dp).y1(hp).y0(d=>d.base.y),u.defined(vv).curve(s),u(f)}return a==="vertical"&&He(i)?u=fv().y(hp).x1(dp).x0(i):He(i)?u=fv().x(dp).y1(hp).y0(i):u=GD().x(dp).y(hp),u.defined(vv).curve(s),u(l)},SS=n=>{var{className:e,points:r,path:i,pathRef:a}=n;if((!r||!r.length)&&!i)return null;var o=r&&r.length?$J(n):i;return C.createElement("path",s_({},Gl(n),YA(n),{className:dn("recharts-curve",e),d:o===null?void 0:o,ref:a}))},VJ=["x","y","top","left","width","height","className"];function l_(){return l_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},l_.apply(null,arguments)}function uT(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function zJ(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uT(Object(r),!0).forEach(function(i){qJ(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function qJ(n,e,r){return(e=WJ(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function WJ(n){var e=HJ(n,"string");return typeof e=="symbol"?e:e+""}function HJ(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KJ(n,e){if(n==null)return{};var r,i,a=GJ(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function GJ(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}var YJ=(n,e,r,i,a,o)=>"M".concat(n,",").concat(a,"v").concat(i,"M").concat(o,",").concat(e,"h").concat(r),XJ=n=>{var{x:e=0,y:r=0,top:i=0,left:a=0,width:o=0,height:s=0,className:l}=n,u=KJ(n,VJ),c=zJ({x:e,y:r,top:i,left:a,width:o,height:s},u);return!He(e)||!He(r)||!He(o)||!He(s)||!He(i)||!He(a)?null:C.createElement("path",l_({},nr(c,!0),{className:dn("recharts-cross",l),d:YJ(e,r,o,s,i,a)}))};function QJ(n,e,r,i){var a=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-a:r.left+.5,y:n==="horizontal"?r.top+.5:e.y-a,width:n==="horizontal"?i:r.width-1,height:n==="horizontal"?r.height-1:i}}function cT(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function ZJ(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cT(Object(r),!0).forEach(function(i){JJ(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function JJ(n,e,r){return(e=eee(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function eee(n){var e=tee(n,"string");return typeof e=="symbol"?e:e+""}function tee(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uo(n,e){var r=ZJ({},n),i=e,a=Object.keys(e),o=a.reduce((s,l)=>(s[l]===void 0&&i[l]!==void 0&&(s[l]=i[l]),s),r);return o}var v8={},y8={},w8={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const i=Object.getPrototypeOf(r);return i===null||i===Object.prototype||Object.getPrototypeOf(i)===null?Object.prototype.toString.call(r)==="[object Object]":!1}n.isPlainObject=e})(w8);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=w8,r=lS,i=B1,a=U1,o=F1;function s(c,f,d){return l(c,f,void 0,void 0,void 0,void 0,d)}function l(c,f,d,h,p,y,w){const _=w(c,f,d,h,p,y);if(_!==void 0)return _;if(typeof c==typeof f)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===f;case"number":return c===f||Object.is(c,f);case"function":return c===f;case"object":return u(c,f,y,w)}return u(c,f,y,w)}function u(c,f,d,h){if(Object.is(c,f))return!0;let p=i.getTag(c),y=i.getTag(f);if(p===a.argumentsTag&&(p=a.objectTag),y===a.argumentsTag&&(y=a.objectTag),p!==y)return!1;switch(p){case a.stringTag:return c.toString()===f.toString();case a.numberTag:{const b=c.valueOf(),S=f.valueOf();return o.eq(b,S)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(c.valueOf(),f.valueOf());case a.regexpTag:return c.source===f.source&&c.flags===f.flags;case a.functionTag:return c===f}d=d??new Map;const w=d.get(c),_=d.get(f);if(w!=null&&_!=null)return w===f;d.set(c,f),d.set(f,c);try{switch(p){case a.mapTag:{if(c.size!==f.size)return!1;for(const[b,S]of c.entries())if(!f.has(b)||!l(S,f.get(b),b,c,f,d,h))return!1;return!0}case a.setTag:{if(c.size!==f.size)return!1;const b=Array.from(c.values()),S=Array.from(f.values());for(let A=0;A<b.length;A++){const T=b[A],B=S.findIndex($=>l(T,$,void 0,c,f,d,h));if(B===-1)return!1;S.splice(B,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(f)||c.length!==f.length)return!1;for(let b=0;b<c.length;b++)if(!l(c[b],f[b],b,c,f,d,h))return!1;return!0}case a.arrayBufferTag:return c.byteLength!==f.byteLength?!1:u(new Uint8Array(c),new Uint8Array(f),d,h);case a.dataViewTag:return c.byteLength!==f.byteLength||c.byteOffset!==f.byteOffset?!1:u(new Uint8Array(c),new Uint8Array(f),d,h);case a.errorTag:return c.name===f.name&&c.message===f.message;case a.objectTag:{if(!(u(c.constructor,f.constructor,d,h)||e.isPlainObject(c)&&e.isPlainObject(f)))return!1;const S=[...Object.keys(c),...r.getSymbols(c)],A=[...Object.keys(f),...r.getSymbols(f)];if(S.length!==A.length)return!1;for(let T=0;T<S.length;T++){const B=S[T],$=c[B];if(!Object.hasOwn(f,B))return!1;const L=f[B];if(!l($,L,B,c,f,d,h))return!1}return!0}default:return!1}}finally{d.delete(c),d.delete(f)}}n.isEqualWith=s})(y8);var b8={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(){}n.noop=e})(b8);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=y8,r=b8;function i(a,o){return e.isEqualWith(a,o,r.noop)}n.isEqual=i})(v8);var nee=v8.isEqual;const ree=Xs(nee);var t0=1e-4,_8=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],x8=(n,e)=>n.map((r,i)=>r*e**i).reduce((r,i)=>r+i),fT=(n,e)=>r=>{var i=_8(n,e);return x8(i,r)},iee=(n,e)=>r=>{var i=_8(n,e),a=[...i.map((o,s)=>o*s).slice(1),0];return x8(a,r)},dT=function(){for(var e,r,i,a,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];if(s.length===1)switch(s[0]){case"linear":[e,i,r,a]=[0,0,1,1];break;case"ease":[e,i,r,a]=[.25,.1,.25,1];break;case"ease-in":[e,i,r,a]=[.42,0,1,1];break;case"ease-out":[e,i,r,a]=[.42,0,.58,1];break;case"ease-in-out":[e,i,r,a]=[0,0,.58,1];break;default:{var u=s[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([e,i,r,a]=u[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else s.length===4&&([e,i,r,a]=s);var c=fT(e,r),f=fT(i,a),d=iee(e,r),h=y=>y>1?1:y<0?0:y,p=y=>{for(var w=y>1?1:y,_=w,b=0;b<8;++b){var S=c(_)-w,A=d(_);if(Math.abs(S-w)<t0||A<t0)return f(_);_=h(_-S/A)}return f(_)};return p.isStepper=!1,p},aee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:i=8,dt:a=17}=e,o=(s,l,u)=>{var c=-(s-l)*r,f=u*i,d=u+(c-f)*a/1e3,h=u*a/1e3+s;return Math.abs(h-l)<t0&&Math.abs(d)<t0?[l,0]:[h,d]};return o.isStepper=!0,o.dt=a,o},A8=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dT(n);case"spring":return aee();default:if(n.split("(")[0]==="cubic-bezier")return dT(n)}return typeof n=="function"?n:null};function hT(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function pT(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hT(Object(r),!0).forEach(function(i){oee(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function oee(n,e,r){return(e=see(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function see(n){var e=lee(n,"string");return typeof e=="symbol"?e:e+""}function lee(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var uee=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),cee=(n,e,r)=>n.map(i=>"".concat(uee(i)," ").concat(e,"ms ").concat(r)).join(","),fee=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((r,i)=>r.filter(a=>i.includes(a))),Dm=(n,e)=>Object.keys(e).reduce((r,i)=>pT(pT({},r),{},{[i]:n(i,e[i])}),{});function mT(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function bi(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mT(Object(r),!0).forEach(function(i){dee(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function dee(n,e,r){return(e=hee(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function hee(n){var e=pee(n,"string");return typeof e=="symbol"?e:e+""}function pee(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var n0=(n,e,r)=>n+(e-n)*r,u_=n=>{var{from:e,to:r}=n;return e!==r},S8=(n,e,r)=>{var i=Dm((a,o)=>{if(u_(o)){var[s,l]=n(o.from,o.to,o.velocity);return bi(bi({},o),{},{from:s,velocity:l})}return o},e);return r<1?Dm((a,o)=>u_(o)?bi(bi({},o),{},{velocity:n0(o.velocity,i[a].velocity,r),from:n0(o.from,i[a].from,r)}):o,e):S8(n,i,r-1)};function mee(n,e,r,i,a,o){var s,l=i.reduce((h,p)=>bi(bi({},h),{},{[p]:{from:n[p],velocity:0,to:e[p]}}),{}),u=()=>Dm((h,p)=>p.from,l),c=()=>!Object.values(l).filter(u_).length,f=null,d=h=>{s||(s=h);var p=h-s,y=p/r.dt;l=S8(r,l,y),a(bi(bi(bi({},n),e),u())),s=h,c()||(f=o.setTimeout(d))};return()=>(f=o.setTimeout(d),()=>{f()})}function gee(n,e,r,i,a,o,s){var l=null,u=a.reduce((d,h)=>bi(bi({},d),{},{[h]:[n[h],e[h]]}),{}),c,f=d=>{c||(c=d);var h=(d-c)/i,p=Dm((w,_)=>n0(..._,r(h)),u);if(o(bi(bi(bi({},n),e),p)),h<1)l=s.setTimeout(f);else{var y=Dm((w,_)=>n0(..._,r(1)),u);o(bi(bi(bi({},n),e),y))}};return()=>(l=s.setTimeout(f),()=>{l()})}const E8=(n,e,r,i,a,o)=>{var s=fee(n,e);return r.isStepper===!0?mee(n,e,r,s,a,o):gee(n,e,r,i,s,a,o)};function vee(n){var e,r=()=>null,i=!1,a=null,o=s=>{if(!i){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...c]=l;if(typeof u=="number"){a=n.setTimeout(o.bind(null,c),u);return}o(u),a=n.setTimeout(o.bind(null,c));return}typeof s=="string"&&(e=s,r(e)),typeof s=="object"&&(e=s,r(e)),typeof s=="function"&&s()}};return{stop:()=>{i=!0},start:s=>{i=!1,a&&(a(),a=null),o(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>n}}class yee{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),a=null,o=s=>{s-i>=r?e(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{cancelAnimationFrame(a)}}}function wee(){return vee(new yee)}var bee=C.createContext(wee);function P8(n,e){var r=C.useContext(bee);return C.useMemo(()=>e??r(n),[n,e,r])}var _ee=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function c_(){return c_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},c_.apply(null,arguments)}function xee(n,e){if(n==null)return{};var r,i,a=Aee(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function Aee(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}function gT(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function bu(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(r),!0).forEach(function(i){Jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Jc(n,e,r){return(e=See(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function See(n){var e=Eee(n,"string");return typeof e=="symbol"?e:e+""}function Eee(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class ES extends C.PureComponent{constructor(e,r){super(e,r),Jc(this,"mounted",!1),Jc(this,"manager",void 0),Jc(this,"stopJSAnimation",null),Jc(this,"unSubscribe",null);var{isActive:i,attributeName:a,from:o,to:s,children:l,duration:u,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!i||u<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:s});return}if(o){if(typeof l=="function"){this.state={style:o};return}this.state={style:a?{[a]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:i,attributeName:a,shouldReAnimate:o,to:s,from:l}=this.props,{style:u}=this.state;if(i){if(!r){var c={style:a?{[a]:s}:s};this.state&&u&&(a&&u[a]!==s||!a&&u!==s)&&this.setState(c);return}if(!(ree(e.to,s)&&e.canBegin&&e.isActive)){var f=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=f||o?l:e.to;if(this.state&&u){var h={style:a?{[a]:d}:d};(a&&u[a]!==d||!a&&u!==d)&&this.setState(h)}this.runAnimation(bu(bu({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:i,duration:a,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:u}=e,c=E8(r,i,A8(o),a,this.changeStyle,this.manager.getTimeoutController()),f=()=>{this.stopJSAnimation=c()};this.manager.start([u,s,f,a,l])}runAnimation(e){var{begin:r,duration:i,attributeName:a,to:o,easing:s,onAnimationStart:l,onAnimationEnd:u,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof c=="function"||s==="spring"){this.runJSAnimation(e);return}var f=a?{[a]:o}:o,d=cee(Object.keys(f),i,s);this.manager.start([l,r,bu(bu({},f),{},{transition:d}),i,u])}render(){var e=this.props,{children:r,begin:i,duration:a,attributeName:o,easing:s,isActive:l,from:u,to:c,canBegin:f,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:p,animationManager:y}=e,w=xee(e,_ee),_=C.Children.count(r),b=this.state.style;if(typeof r=="function")return r(b);if(!l||_===0||a<=0)return r;var S=A=>{var{style:T={},className:B}=A.props,$=C.cloneElement(A,bu(bu({},w),{},{style:bu(bu({},T),b),className:B}));return $};return _===1?S(C.Children.only(r)):C.createElement("div",null,C.Children.map(r,A=>S(A)))}}Jc(ES,"displayName","Animate");Jc(ES,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function r0(n){var e,r=P8((e=n.attributeName)!==null&&e!==void 0?e:Object.keys(n.to).join(","),n.animationManager);return C.createElement(ES,c_({},n,{animationManager:r}))}function i0(){return i0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},i0.apply(null,arguments)}var vT=(n,e,r,i,a)=>{var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,h=4;d<h;d++)f[d]=a[d]>o?o:a[d];c="M".concat(n,",").concat(e+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(n+l*f[0],",").concat(e)),c+="L ".concat(n+r-l*f[1],",").concat(e),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(n+r,",").concat(e+s*f[1])),c+="L ".concat(n+r,",").concat(e+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(n+r-l*f[2],",").concat(e+i)),c+="L ".concat(n+l*f[3],",").concat(e+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(n,",").concat(e+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var p=Math.min(o,a);c="M ".concat(n,",").concat(e+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(n+l*p,",").concat(e,`
            L `).concat(n+r-l*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(n+r,",").concat(e+s*p,`
            L `).concat(n+r,",").concat(e+i-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(n+r-l*p,",").concat(e+i,`
            L `).concat(n+l*p,",").concat(e+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(n,",").concat(e+i-s*p," Z")}else c="M ".concat(n,",").concat(e," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Pee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N8=n=>{var e=uo(n,Pee),r=C.useRef(null),[i,a]=C.useState(-1);C.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&a(b)}catch{}},[]);var{x:o,y:s,width:l,height:u,radius:c,className:f}=e,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:y,isUpdateAnimationActive:w}=e;if(o!==+o||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var _=dn("recharts-rectangle",f);return w?C.createElement(r0,{canBegin:i>0,from:{width:l,height:u,x:o,y:s},to:{width:l,height:u,x:o,y:s},duration:h,animationEasing:d,isActive:w},b=>{var{width:S,height:A,x:T,y:B}=b;return C.createElement(r0,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:y,easing:d},C.createElement("path",i0({},nr(e,!0),{className:_,d:vT(T,B,S,A,c),ref:r})))}):C.createElement("path",i0({},nr(e,!0),{className:_,d:vT(o,s,l,u,c)}))};function k8(n){var{cx:e,cy:r,radius:i,startAngle:a,endAngle:o}=n,s=$r(e,r,i,a),l=$r(e,r,i,o);return{points:[s,l],cx:e,cy:r,radius:i,startAngle:a,endAngle:o}}function f_(){return f_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},f_.apply(null,arguments)}var Nee=(n,e)=>{var r=ui(e-n),i=Math.min(Math.abs(e-n),359.999);return r*i},yv=n=>{var{cx:e,cy:r,radius:i,angle:a,sign:o,isExternal:s,cornerRadius:l,cornerIsExternal:u}=n,c=l*(s?1:-1)+i,f=Math.asin(l/c)/e0,d=u?a:a+o*f,h=$r(e,r,c,d),p=$r(e,r,i,d),y=u?a-o*f:a,w=$r(e,r,c*Math.cos(f*e0),y);return{center:h,circleTangency:p,lineTangency:w,theta:f}},T8=n=>{var{cx:e,cy:r,innerRadius:i,outerRadius:a,startAngle:o,endAngle:s}=n,l=Nee(o,s),u=o+l,c=$r(e,r,a,o),f=$r(e,r,a,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=$r(e,r,i,o),p=$r(e,r,i,u);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(e,",").concat(r," Z");return d},kee=n=>{var{cx:e,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}=n,f=ui(c-u),{circleTangency:d,lineTangency:h,theta:p}=yv({cx:e,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),{circleTangency:y,lineTangency:w,theta:_}=yv({cx:e,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),b=l?Math.abs(u-c):Math.abs(u-c)-p-_;if(b<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):T8({cx:e,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var S="M ".concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var{circleTangency:A,lineTangency:T,theta:B}=yv({cx:e,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),{circleTangency:$,lineTangency:L,theta:I}=yv({cx:e,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=l?Math.abs(u-c):Math.abs(u-c)-B-I;if(O<0&&o===0)return"".concat(S,"L").concat(e,",").concat(r,"Z");S+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(e,",").concat(r,"Z");return S},Tee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},C8=n=>{var e=uo(n,Tee),{cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f,className:d}=e;if(o<a||c===f)return null;var h=dn("recharts-sector",d),p=o-a,y=ia(s,p,0,!0),w;return y>0&&Math.abs(c-f)<360?w=kee({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,p/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=T8({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),C.createElement("path",f_({},nr(e,!0),{className:h,d:w}))};function Cee(n,e,r){var i,a,o,s;if(n==="horizontal")i=e.x,o=i,a=r.top,s=r.top+r.height;else if(n==="vertical")a=e.y,s=a,i=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(n==="centric"){var{cx:l,cy:u,innerRadius:c,outerRadius:f,angle:d}=e,h=$r(l,u,c,d),p=$r(l,u,f,d);i=h.x,a=h.y,o=p.x,s=p.y}else return k8(e);return[{x:i,y:a},{x:o,y:s}]}var I8={},O8={},j8={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=fS;function r(i){return e.isSymbol(i)?NaN:Number(i)}n.toNumber=r})(j8);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=j8;function r(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=r})(O8);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=dS,r=O8;function i(a,o,s){s&&typeof s!="number"&&e.isIterateeCall(a,o,s)&&(o=s=void 0),a=r.toFinite(a),o===void 0?(o=a,a=0):o=r.toFinite(o),s=s===void 0?a<o?1:-1:r.toFinite(s);const l=Math.max(Math.ceil((o-a)/(s||1)),0),u=new Array(l);for(let c=0;c<l;c++)u[c]=a,a+=s;return u}n.range=i})(I8);var Iee=I8.range;const L8=Xs(Iee);function Ju(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Oee(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function PS(n){let e,r,i;n.length!==2?(e=Ju,r=(l,u)=>Ju(n(l),u),i=(l,u)=>n(l)-u):(e=n===Ju||n===Oee?n:jee,r=n,i=n);function a(l,u,c=0,f=l.length){if(c<f){if(e(u,u)!==0)return f;do{const d=c+f>>>1;r(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}function o(l,u,c=0,f=l.length){if(c<f){if(e(u,u)!==0)return f;do{const d=c+f>>>1;r(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}function s(l,u,c=0,f=l.length){const d=a(l,u,c,f-1);return d>c&&i(l[d-1],u)>-i(l[d],u)?d-1:d}return{left:a,center:s,right:o}}function jee(){return 0}function D8(n){return n===null?NaN:+n}function*Lee(n,e){for(let r of n)r!=null&&(r=+r)>=r&&(yield r)}const Dee=PS(Ju),fg=Dee.right;PS(D8).center;class yT extends Map{constructor(e,r=Fee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[i,a]of e)this.set(i,a)}get(e){return super.get(wT(this,e))}has(e){return super.has(wT(this,e))}set(e,r){return super.set(Ree(this,e),r)}delete(e){return super.delete(Mee(this,e))}}function wT({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):r}function Ree({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):(n.set(i,r),r)}function Mee({_intern:n,_key:e},r){const i=e(r);return n.has(i)&&(r=n.get(i),n.delete(i)),r}function Fee(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Bee(n=Ju){if(n===Ju)return R8;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,r)=>{const i=n(e,r);return i||i===0?i:(n(r,r)===0)-(n(e,e)===0)}}function R8(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const Uee=Math.sqrt(50),$ee=Math.sqrt(10),Vee=Math.sqrt(2);function a0(n,e,r){const i=(e-n)/Math.max(0,r),a=Math.floor(Math.log10(i)),o=i/Math.pow(10,a),s=o>=Uee?10:o>=$ee?5:o>=Vee?2:1;let l,u,c;return a<0?(c=Math.pow(10,-a)/s,l=Math.round(n*c),u=Math.round(e*c),l/c<n&&++l,u/c>e&&--u,c=-c):(c=Math.pow(10,a)*s,l=Math.round(n/c),u=Math.round(e/c),l*c<n&&++l,u*c>e&&--u),u<l&&.5<=r&&r<2?a0(n,e,r*2):[l,u,c]}function d_(n,e,r){if(e=+e,n=+n,r=+r,!(r>0))return[];if(n===e)return[n];const i=e<n,[a,o,s]=i?a0(e,n,r):a0(n,e,r);if(!(o>=a))return[];const l=o-a+1,u=new Array(l);if(i)if(s<0)for(let c=0;c<l;++c)u[c]=(o-c)/-s;else for(let c=0;c<l;++c)u[c]=(o-c)*s;else if(s<0)for(let c=0;c<l;++c)u[c]=(a+c)/-s;else for(let c=0;c<l;++c)u[c]=(a+c)*s;return u}function h_(n,e,r){return e=+e,n=+n,r=+r,a0(n,e,r)[2]}function p_(n,e,r){e=+e,n=+n,r=+r;const i=e<n,a=i?h_(e,n,r):h_(n,e,r);return(i?-1:1)*(a<0?1/-a:a)}function bT(n,e){let r;for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);return r}function _T(n,e){let r;for(const i of n)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);return r}function M8(n,e,r=0,i=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),i=Math.floor(Math.min(n.length-1,i)),!(r<=e&&e<=i))return n;for(a=a===void 0?R8:Bee(a);i>r;){if(i-r>600){const u=i-r+1,c=e-r+1,f=Math.log(u),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(u-d)/u)*(c-u/2<0?-1:1),p=Math.max(r,Math.floor(e-c*d/u+h)),y=Math.min(i,Math.floor(e+(u-c)*d/u+h));M8(n,e,p,y,a)}const o=n[e];let s=r,l=i;for(pp(n,r,e),a(n[i],o)>0&&pp(n,r,i);s<l;){for(pp(n,s,l),++s,--l;a(n[s],o)<0;)++s;for(;a(n[l],o)>0;)--l}a(n[r],o)===0?pp(n,r,l):(++l,pp(n,l,i)),l<=e&&(r=l+1),e<=l&&(i=l-1)}return n}function pp(n,e,r){const i=n[e];n[e]=n[r],n[r]=i}function zee(n,e,r){if(n=Float64Array.from(Lee(n)),!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return _T(n);if(e>=1)return bT(n);var i,a=(i-1)*e,o=Math.floor(a),s=bT(M8(n,o).subarray(0,o+1)),l=_T(n.subarray(o+1));return s+(l-s)*(a-o)}}function qee(n,e,r=D8){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+r(n[0],0,n);if(e>=1)return+r(n[i-1],i-1,n);var i,a=(i-1)*e,o=Math.floor(a),s=+r(n[o],o,n),l=+r(n[o+1],o+1,n);return s+(l-s)*(a-o)}}function Wee(n,e,r){n=+n,e=+e,r=(a=arguments.length)<2?(e=n,n=0,1):a<3?1:+r;for(var i=-1,a=Math.max(0,Math.ceil((e-n)/r))|0,o=new Array(a);++i<a;)o[i]=n+i*r;return o}function Mo(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Ql(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const m_=Symbol("implicit");function NS(){var n=new yT,e=[],r=[],i=m_;function a(o){let s=n.get(o);if(s===void 0){if(i!==m_)return i;n.set(o,s=e.push(o)-1)}return r[s%r.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],n=new yT;for(const s of o)n.has(s)||n.set(s,e.push(s)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.copy=function(){return NS(e,r).unknown(i)},Mo.apply(a,arguments),a}function kS(){var n=NS().unknown(void 0),e=n.domain,r=n.range,i=0,a=1,o,s,l=!1,u=0,c=0,f=.5;delete n.unknown;function d(){var h=e().length,p=a<i,y=p?a:i,w=p?i:a;o=(w-y)/Math.max(1,h-u+c*2),l&&(o=Math.floor(o)),y+=(w-y-o*(h-u))*f,s=o*(1-u),l&&(y=Math.round(y),s=Math.round(s));var _=Wee(h).map(function(b){return y+o*b});return r(p?_.reverse():_)}return n.domain=function(h){return arguments.length?(e(h),d()):e()},n.range=function(h){return arguments.length?([i,a]=h,i=+i,a=+a,d()):[i,a]},n.rangeRound=function(h){return[i,a]=h,i=+i,a=+a,l=!0,d()},n.bandwidth=function(){return s},n.step=function(){return o},n.round=function(h){return arguments.length?(l=!!h,d()):l},n.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),d()):u},n.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),d()):u},n.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},n.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},n.copy=function(){return kS(e(),[i,a]).round(l).paddingInner(u).paddingOuter(c).align(f)},Mo.apply(d(),arguments)}function F8(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return F8(e())},n}function Hee(){return F8(kS.apply(null,arguments).paddingInner(1))}function TS(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function B8(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}function dg(){}var Rm=.7,o0=1/Rm,Dd="\\s*([+-]?\\d+)\\s*",Mm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kee=/^#([0-9a-f]{3,8})$/,Gee=new RegExp(`^rgb\\(${Dd},${Dd},${Dd}\\)$`),Yee=new RegExp(`^rgb\\(${Ws},${Ws},${Ws}\\)$`),Xee=new RegExp(`^rgba\\(${Dd},${Dd},${Dd},${Mm}\\)$`),Qee=new RegExp(`^rgba\\(${Ws},${Ws},${Ws},${Mm}\\)$`),Zee=new RegExp(`^hsl\\(${Mm},${Ws},${Ws}\\)$`),Jee=new RegExp(`^hsla\\(${Mm},${Ws},${Ws},${Mm}\\)$`),xT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TS(dg,Fm,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:AT,formatHex:AT,formatHex8:ete,formatHsl:tte,formatRgb:ST,toString:ST});function AT(){return this.rgb().formatHex()}function ete(){return this.rgb().formatHex8()}function tte(){return U8(this).formatHsl()}function ST(){return this.rgb().formatRgb()}function Fm(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=Kee.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?ET(e):r===3?new wa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?wv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?wv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Gee.exec(n))?new wa(e[1],e[2],e[3],1):(e=Yee.exec(n))?new wa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Xee.exec(n))?wv(e[1],e[2],e[3],e[4]):(e=Qee.exec(n))?wv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zee.exec(n))?kT(e[1],e[2]/100,e[3]/100,1):(e=Jee.exec(n))?kT(e[1],e[2]/100,e[3]/100,e[4]):xT.hasOwnProperty(n)?ET(xT[n]):n==="transparent"?new wa(NaN,NaN,NaN,0):null}function ET(n){return new wa(n>>16&255,n>>8&255,n&255,1)}function wv(n,e,r,i){return i<=0&&(n=e=r=NaN),new wa(n,e,r,i)}function nte(n){return n instanceof dg||(n=Fm(n)),n?(n=n.rgb(),new wa(n.r,n.g,n.b,n.opacity)):new wa}function g_(n,e,r,i){return arguments.length===1?nte(n):new wa(n,e,r,i??1)}function wa(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}TS(wa,g_,B8(dg,{brighter(n){return n=n==null?o0:Math.pow(o0,n),new wa(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Rm:Math.pow(Rm,n),new wa(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new wa(ff(this.r),ff(this.g),ff(this.b),s0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PT,formatHex:PT,formatHex8:rte,formatRgb:NT,toString:NT}));function PT(){return`#${ef(this.r)}${ef(this.g)}${ef(this.b)}`}function rte(){return`#${ef(this.r)}${ef(this.g)}${ef(this.b)}${ef((isNaN(this.opacity)?1:this.opacity)*255)}`}function NT(){const n=s0(this.opacity);return`${n===1?"rgb(":"rgba("}${ff(this.r)}, ${ff(this.g)}, ${ff(this.b)}${n===1?")":`, ${n})`}`}function s0(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function ff(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function ef(n){return n=ff(n),(n<16?"0":"")+n.toString(16)}function kT(n,e,r,i){return i<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new ts(n,e,r,i)}function U8(n){if(n instanceof ts)return new ts(n.h,n.s,n.l,n.opacity);if(n instanceof dg||(n=Fm(n)),!n)return new ts;if(n instanceof ts)return n;n=n.rgb();var e=n.r/255,r=n.g/255,i=n.b/255,a=Math.min(e,r,i),o=Math.max(e,r,i),s=NaN,l=o-a,u=(o+a)/2;return l?(e===o?s=(r-i)/l+(r<i)*6:r===o?s=(i-e)/l+2:s=(e-r)/l+4,l/=u<.5?o+a:2-o-a,s*=60):l=u>0&&u<1?0:s,new ts(s,l,u,n.opacity)}function ite(n,e,r,i){return arguments.length===1?U8(n):new ts(n,e,r,i??1)}function ts(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}TS(ts,ite,B8(dg,{brighter(n){return n=n==null?o0:Math.pow(o0,n),new ts(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Rm:Math.pow(Rm,n),new ts(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,a=2*r-i;return new wa(Ow(n>=240?n-240:n+120,a,i),Ow(n,a,i),Ow(n<120?n+240:n-120,a,i),this.opacity)},clamp(){return new ts(TT(this.h),bv(this.s),bv(this.l),s0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=s0(this.opacity);return`${n===1?"hsl(":"hsla("}${TT(this.h)}, ${bv(this.s)*100}%, ${bv(this.l)*100}%${n===1?")":`, ${n})`}`}}));function TT(n){return n=(n||0)%360,n<0?n+360:n}function bv(n){return Math.max(0,Math.min(1,n||0))}function Ow(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}const CS=n=>()=>n;function ate(n,e){return function(r){return n+r*e}}function ote(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(i){return Math.pow(n+i*e,r)}}function ste(n){return(n=+n)==1?$8:function(e,r){return r-e?ote(e,r,n):CS(isNaN(e)?r:e)}}function $8(n,e){var r=e-n;return r?ate(n,r):CS(isNaN(n)?e:n)}const CT=function n(e){var r=ste(e);function i(a,o){var s=r((a=g_(a)).r,(o=g_(o)).r),l=r(a.g,o.g),u=r(a.b,o.b),c=$8(a.opacity,o.opacity);return function(f){return a.r=s(f),a.g=l(f),a.b=u(f),a.opacity=c(f),a+""}}return i.gamma=n,i}(1);function lte(n,e){e||(e=[]);var r=n?Math.min(e.length,n.length):0,i=e.slice(),a;return function(o){for(a=0;a<r;++a)i[a]=n[a]*(1-o)+e[a]*o;return i}}function ute(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function cte(n,e){var r=e?e.length:0,i=n?Math.min(r,n.length):0,a=new Array(i),o=new Array(r),s;for(s=0;s<i;++s)a[s]=Nh(n[s],e[s]);for(;s<r;++s)o[s]=e[s];return function(l){for(s=0;s<i;++s)o[s]=a[s](l);return o}}function fte(n,e){var r=new Date;return n=+n,e=+e,function(i){return r.setTime(n*(1-i)+e*i),r}}function l0(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}function dte(n,e){var r={},i={},a;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in n?r[a]=Nh(n[a],e[a]):i[a]=e[a];return function(o){for(a in r)i[a]=r[a](o);return i}}var v_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jw=new RegExp(v_.source,"g");function hte(n){return function(){return n}}function pte(n){return function(e){return n(e)+""}}function mte(n,e){var r=v_.lastIndex=jw.lastIndex=0,i,a,o,s=-1,l=[],u=[];for(n=n+"",e=e+"";(i=v_.exec(n))&&(a=jw.exec(e));)(o=a.index)>r&&(o=e.slice(r,o),l[s]?l[s]+=o:l[++s]=o),(i=i[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,u.push({i:s,x:l0(i,a)})),r=jw.lastIndex;return r<e.length&&(o=e.slice(r),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?pte(u[0].x):hte(e):(e=u.length,function(c){for(var f=0,d;f<e;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}function Nh(n,e){var r=typeof e,i;return e==null||r==="boolean"?CS(e):(r==="number"?l0:r==="string"?(i=Fm(e))?(e=i,CT):mte:e instanceof Fm?CT:e instanceof Date?fte:ute(e)?lte:Array.isArray(e)?cte:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dte:l0)(n,e)}function IS(n,e){return n=+n,e=+e,function(r){return Math.round(n*(1-r)+e*r)}}function gte(n,e){e===void 0&&(e=n,n=Nh);for(var r=0,i=e.length-1,a=e[0],o=new Array(i<0?0:i);r<i;)o[r]=n(a,a=e[++r]);return function(s){var l=Math.max(0,Math.min(i-1,Math.floor(s*=i)));return o[l](s-l)}}function vte(n){return function(){return n}}function u0(n){return+n}var IT=[0,1];function na(n){return n}function y_(n,e){return(e-=n=+n)?function(r){return(r-n)/e}:vte(isNaN(e)?NaN:.5)}function yte(n,e){var r;return n>e&&(r=n,n=e,e=r),function(i){return Math.max(n,Math.min(e,i))}}function wte(n,e,r){var i=n[0],a=n[1],o=e[0],s=e[1];return a<i?(i=y_(a,i),o=r(s,o)):(i=y_(i,a),o=r(o,s)),function(l){return o(i(l))}}function bte(n,e,r){var i=Math.min(n.length,e.length)-1,a=new Array(i),o=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++s<i;)a[s]=y_(n[s],n[s+1]),o[s]=r(e[s],e[s+1]);return function(l){var u=fg(n,l,1,i)-1;return o[u](a[u](l))}}function hg(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function e2(){var n=IT,e=IT,r=Nh,i,a,o,s=na,l,u,c;function f(){var h=Math.min(n.length,e.length);return s!==na&&(s=yte(n[0],n[h-1])),l=h>2?bte:wte,u=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(u||(u=l(n.map(i),e,r)))(i(s(h)))}return d.invert=function(h){return s(a((c||(c=l(e,n.map(i),l0)))(h)))},d.domain=function(h){return arguments.length?(n=Array.from(h,u0),f()):n.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=IS,f()},d.clamp=function(h){return arguments.length?(s=h?!0:na,f()):s!==na},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return i=h,a=p,f()}}function OS(){return e2()(na,na)}function _te(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function c0(n,e){if((r=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var r,i=n.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+n.slice(r+1)]}function lh(n){return n=c0(Math.abs(n)),n?n[1]:NaN}function xte(n,e){return function(r,i){for(var a=r.length,o=[],s=0,l=n[0],u=0;a>0&&l>0&&(u+l+1>i&&(l=Math.max(1,i-u)),o.push(r.substring(a-=l,a+l)),!((u+=l+1)>i));)l=n[s=(s+1)%n.length];return o.reverse().join(e)}}function Ate(n){return function(e){return e.replace(/[0-9]/g,function(r){return n[+r]})}}var Ste=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bm(n){if(!(e=Ste.exec(n)))throw new Error("invalid format: "+n);var e;return new jS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bm.prototype=jS.prototype;function jS(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}jS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ete(n){e:for(var e=n.length,r=1,i=-1,a;r<e;++r)switch(n[r]){case".":i=a=r;break;case"0":i===0&&(i=r),a=r;break;default:if(!+n[r])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(a+1):n}var V8;function Pte(n,e){var r=c0(n,e);if(!r)return n+"";var i=r[0],a=r[1],o=a-(V8=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+c0(n,Math.max(0,e+o-1))[0]}function OT(n,e){var r=c0(n,e);if(!r)return n+"";var i=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}const jT={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:_te,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>OT(n*100,e),r:OT,s:Pte,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function LT(n){return n}var DT=Array.prototype.map,RT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nte(n){var e=n.grouping===void 0||n.thousands===void 0?LT:xte(DT.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",a=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?LT:Ate(DT.call(n.numerals,String)),s=n.percent===void 0?"%":n.percent+"",l=n.minus===void 0?"":n.minus+"",u=n.nan===void 0?"NaN":n.nan+"";function c(d){d=Bm(d);var h=d.fill,p=d.align,y=d.sign,w=d.symbol,_=d.zero,b=d.width,S=d.comma,A=d.precision,T=d.trim,B=d.type;B==="n"?(S=!0,B="g"):jT[B]||(A===void 0&&(A=12),T=!0,B="g"),(_||h==="0"&&p==="=")&&(_=!0,h="0",p="=");var $=w==="$"?r:w==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",L=w==="$"?i:/[%p]/.test(B)?s:"",I=jT[B],O=/[defgprs%]/.test(B);A=A===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function U(k){var R=$,j=L,H,oe,he;if(B==="c")j=I(k)+j,k="";else{k=+k;var ye=k<0||1/k<0;if(k=isNaN(k)?u:I(Math.abs(k),A),T&&(k=Ete(k)),ye&&+k==0&&y!=="+"&&(ye=!1),R=(ye?y==="("?y:l:y==="-"||y==="("?"":y)+R,j=(B==="s"?RT[8+V8/3]:"")+j+(ye&&y==="("?")":""),O){for(H=-1,oe=k.length;++H<oe;)if(he=k.charCodeAt(H),48>he||he>57){j=(he===46?a+k.slice(H+1):k.slice(H))+j,k=k.slice(0,H);break}}}S&&!_&&(k=e(k,1/0));var re=R.length+k.length+j.length,ue=re<b?new Array(b-re+1).join(h):"";switch(S&&_&&(k=e(ue+k,ue.length?b-j.length:1/0),ue=""),p){case"<":k=R+k+j+ue;break;case"=":k=R+ue+k+j;break;case"^":k=ue.slice(0,re=ue.length>>1)+R+k+j+ue.slice(re);break;default:k=ue+R+k+j;break}return o(k)}return U.toString=function(){return d+""},U}function f(d,h){var p=c((d=Bm(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(lh(h)/3)))*3,w=Math.pow(10,-y),_=RT[8+y/3];return function(b){return p(w*b)+_}}return{format:c,formatPrefix:f}}var _v,LS,z8;kte({thousands:",",grouping:[3],currency:["$",""]});function kte(n){return _v=Nte(n),LS=_v.format,z8=_v.formatPrefix,_v}function Tte(n){return Math.max(0,-lh(Math.abs(n)))}function Cte(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lh(e)/3)))*3-lh(Math.abs(n)))}function Ite(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,lh(e)-lh(n))+1}function q8(n,e,r,i){var a=p_(n,e,r),o;switch(i=Bm(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(o=Cte(a,s))&&(i.precision=o),z8(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=Ite(a,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=Tte(a))&&(i.precision=o-(i.type==="%")*2);break}}return LS(i)}function bc(n){var e=n.domain;return n.ticks=function(r){var i=e();return d_(i[0],i[i.length-1],r??10)},n.tickFormat=function(r,i){var a=e();return q8(a[0],a[a.length-1],r??10,i)},n.nice=function(r){r==null&&(r=10);var i=e(),a=0,o=i.length-1,s=i[a],l=i[o],u,c,f=10;for(l<s&&(c=s,s=l,l=c,c=a,a=o,o=c);f-- >0;){if(c=h_(s,l,r),c===u)return i[a]=s,i[o]=l,e(i);if(c>0)s=Math.floor(s/c)*c,l=Math.ceil(l/c)*c;else if(c<0)s=Math.ceil(s*c)/c,l=Math.floor(l*c)/c;else break;u=c}return n},n}function W8(){var n=OS();return n.copy=function(){return hg(n,W8())},Mo.apply(n,arguments),bc(n)}function H8(n){var e;function r(i){return i==null||isNaN(i=+i)?e:i}return r.invert=r,r.domain=r.range=function(i){return arguments.length?(n=Array.from(i,u0),r):n.slice()},r.unknown=function(i){return arguments.length?(e=i,r):e},r.copy=function(){return H8(n).unknown(e)},n=arguments.length?Array.from(n,u0):[0,1],bc(r)}function K8(n,e){n=n.slice();var r=0,i=n.length-1,a=n[r],o=n[i],s;return o<a&&(s=r,r=i,i=s,s=a,a=o,o=s),n[r]=e.floor(a),n[i]=e.ceil(o),n}function MT(n){return Math.log(n)}function FT(n){return Math.exp(n)}function Ote(n){return-Math.log(-n)}function jte(n){return-Math.exp(-n)}function Lte(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Dte(n){return n===10?Lte:n===Math.E?Math.exp:e=>Math.pow(n,e)}function Rte(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function BT(n){return(e,r)=>-n(-e,r)}function DS(n){const e=n(MT,FT),r=e.domain;let i=10,a,o;function s(){return a=Rte(i),o=Dte(i),r()[0]<0?(a=BT(a),o=BT(o),n(Ote,jte)):n(MT,FT),e}return e.base=function(l){return arguments.length?(i=+l,s()):i},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const u=r();let c=u[0],f=u[u.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=a(c),p=a(f),y,w;const _=l==null?10:+l;let b=[];if(!(i%1)&&p-h<_){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(y=1;y<i;++y)if(w=h<0?y/o(-h):y*o(h),!(w<c)){if(w>f)break;b.push(w)}}else for(;h<=p;++h)for(y=i-1;y>=1;--y)if(w=h>0?y/o(-h):y*o(h),!(w<c)){if(w>f)break;b.push(w)}b.length*2<_&&(b=d_(c,f,_))}else b=d_(h,p,Math.min(p-h,_)).map(o);return d?b.reverse():b},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=i===10?"s":","),typeof u!="function"&&(!(i%1)&&(u=Bm(u)).precision==null&&(u.trim=!0),u=LS(u)),l===1/0)return u;const c=Math.max(1,i*l/e.ticks().length);return f=>{let d=f/o(Math.round(a(f)));return d*i<i-.5&&(d*=i),d<=c?u(f):""}},e.nice=()=>r(K8(r(),{floor:l=>o(Math.floor(a(l))),ceil:l=>o(Math.ceil(a(l)))})),e}function G8(){const n=DS(e2()).domain([1,10]);return n.copy=()=>hg(n,G8()).base(n.base()),Mo.apply(n,arguments),n}function UT(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function $T(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function RS(n){var e=1,r=n(UT(e),$T(e));return r.constant=function(i){return arguments.length?n(UT(e=+i),$T(e)):e},bc(r)}function Y8(){var n=RS(e2());return n.copy=function(){return hg(n,Y8()).constant(n.constant())},Mo.apply(n,arguments)}function VT(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function Mte(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Fte(n){return n<0?-n*n:n*n}function MS(n){var e=n(na,na),r=1;function i(){return r===1?n(na,na):r===.5?n(Mte,Fte):n(VT(r),VT(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,i()):r},bc(e)}function FS(){var n=MS(e2());return n.copy=function(){return hg(n,FS()).exponent(n.exponent())},Mo.apply(n,arguments),n}function Bte(){return FS.apply(null,arguments).exponent(.5)}function zT(n){return Math.sign(n)*n*n}function Ute(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function X8(){var n=OS(),e=[0,1],r=!1,i;function a(o){var s=Ute(n(o));return isNaN(s)?i:r?Math.round(s):s}return a.invert=function(o){return n.invert(zT(o))},a.domain=function(o){return arguments.length?(n.domain(o),a):n.domain()},a.range=function(o){return arguments.length?(n.range((e=Array.from(o,u0)).map(zT)),a):e.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(n.clamp(o),a):n.clamp()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.copy=function(){return X8(n.domain(),e).round(r).clamp(n.clamp()).unknown(i)},Mo.apply(a,arguments),bc(a)}function Q8(){var n=[],e=[],r=[],i;function a(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=qee(n,s/l);return o}function o(s){return s==null||isNaN(s=+s)?i:e[fg(r,s)]}return o.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:n[0],l<r.length?r[l]:n[n.length-1]]},o.domain=function(s){if(!arguments.length)return n.slice();n=[];for(let l of s)l!=null&&!isNaN(l=+l)&&n.push(l);return n.sort(Ju),a()},o.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},o.unknown=function(s){return arguments.length?(i=s,o):i},o.quantiles=function(){return r.slice()},o.copy=function(){return Q8().domain(n).range(e).unknown(i)},Mo.apply(o,arguments)}function Z8(){var n=0,e=1,r=1,i=[.5],a=[0,1],o;function s(u){return u!=null&&u<=u?a[fg(i,u,0,r)]:o}function l(){var u=-1;for(i=new Array(r);++u<r;)i[u]=((u+1)*e-(u-r)*n)/(r+1);return s}return s.domain=function(u){return arguments.length?([n,e]=u,n=+n,e=+e,l()):[n,e]},s.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},s.invertExtent=function(u){var c=a.indexOf(u);return c<0?[NaN,NaN]:c<1?[n,i[0]]:c>=r?[i[r-1],e]:[i[c-1],i[c]]},s.unknown=function(u){return arguments.length&&(o=u),s},s.thresholds=function(){return i.slice()},s.copy=function(){return Z8().domain([n,e]).range(a).unknown(o)},Mo.apply(bc(s),arguments)}function J8(){var n=[.5],e=[0,1],r,i=1;function a(o){return o!=null&&o<=o?e[fg(n,o,0,i)]:r}return a.domain=function(o){return arguments.length?(n=Array.from(o),i=Math.min(n.length,e.length-1),a):n.slice()},a.range=function(o){return arguments.length?(e=Array.from(o),i=Math.min(n.length,e.length-1),a):e.slice()},a.invertExtent=function(o){var s=e.indexOf(o);return[n[s-1],n[s]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return J8().domain(n).range(e).unknown(r)},Mo.apply(a,arguments)}const Lw=new Date,Dw=new Date;function Zr(n,e,r,i){function a(o){return n(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(n(o=new Date(+o)),o),a.ceil=o=>(n(o=new Date(o-1)),e(o,1),n(o),o),a.round=o=>{const s=a(o),l=a.ceil(o);return o-s<l-o?s:l},a.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),a.range=(o,s,l)=>{const u=[];if(o=a.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return u;let c;do u.push(c=new Date(+o)),e(o,l),n(o);while(c<o&&o<s);return u},a.filter=o=>Zr(s=>{if(s>=s)for(;n(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),r&&(a.count=(o,s)=>(Lw.setTime(+o),Dw.setTime(+s),n(Lw),n(Dw),Math.floor(r(Lw,Dw))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(i?s=>i(s)%o===0:s=>a.count(0,s)%o===0):a)),a}const f0=Zr(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);f0.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Zr(e=>{e.setTime(Math.floor(e/n)*n)},(e,r)=>{e.setTime(+e+r*n)},(e,r)=>(r-e)/n):f0);f0.range;const Al=1e3,No=Al*60,Sl=No*60,Ul=Sl*24,BS=Ul*7,qT=Ul*30,Rw=Ul*365,tf=Zr(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*Al)},(n,e)=>(e-n)/Al,n=>n.getUTCSeconds());tf.range;const US=Zr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Al)},(n,e)=>{n.setTime(+n+e*No)},(n,e)=>(e-n)/No,n=>n.getMinutes());US.range;const $S=Zr(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*No)},(n,e)=>(e-n)/No,n=>n.getUTCMinutes());$S.range;const VS=Zr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Al-n.getMinutes()*No)},(n,e)=>{n.setTime(+n+e*Sl)},(n,e)=>(e-n)/Sl,n=>n.getHours());VS.range;const zS=Zr(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*Sl)},(n,e)=>(e-n)/Sl,n=>n.getUTCHours());zS.range;const pg=Zr(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*No)/Ul,n=>n.getDate()-1);pg.range;const t2=Zr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Ul,n=>n.getUTCDate()-1);t2.range;const eM=Zr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Ul,n=>Math.floor(n/Ul));eM.range;function Uf(n){return Zr(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*No)/BS)}const n2=Uf(0),d0=Uf(1),$te=Uf(2),Vte=Uf(3),uh=Uf(4),zte=Uf(5),qte=Uf(6);n2.range;d0.range;$te.range;Vte.range;uh.range;zte.range;qte.range;function $f(n){return Zr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/BS)}const r2=$f(0),h0=$f(1),Wte=$f(2),Hte=$f(3),ch=$f(4),Kte=$f(5),Gte=$f(6);r2.range;h0.range;Wte.range;Hte.range;ch.range;Kte.range;Gte.range;const qS=Zr(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());qS.range;const WS=Zr(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());WS.range;const $l=Zr(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());$l.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Zr(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*n)});$l.range;const Vl=Zr(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Vl.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Zr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*n)});Vl.range;function tM(n,e,r,i,a,o){const s=[[tf,1,Al],[tf,5,5*Al],[tf,15,15*Al],[tf,30,30*Al],[o,1,No],[o,5,5*No],[o,15,15*No],[o,30,30*No],[a,1,Sl],[a,3,3*Sl],[a,6,6*Sl],[a,12,12*Sl],[i,1,Ul],[i,2,2*Ul],[r,1,BS],[e,1,qT],[e,3,3*qT],[n,1,Rw]];function l(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const p=d&&typeof d.range=="function"?d:u(c,f,d),y=p?p.range(c,+f+1):[];return h?y.reverse():y}function u(c,f,d){const h=Math.abs(f-c)/d,p=PS(([,,_])=>_).right(s,h);if(p===s.length)return n.every(p_(c/Rw,f/Rw,d));if(p===0)return f0.every(Math.max(p_(c,f,d),1));const[y,w]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return y.every(w)}return[l,u]}const[Yte,Xte]=tM(Vl,WS,r2,eM,zS,$S),[Qte,Zte]=tM($l,qS,n2,pg,VS,US);function Mw(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Fw(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function mp(n,e,r){return{y:n,m:e,d:r,H:0,M:0,S:0,L:0}}function Jte(n){var e=n.dateTime,r=n.date,i=n.time,a=n.periods,o=n.days,s=n.shortDays,l=n.months,u=n.shortMonths,c=gp(a),f=vp(a),d=gp(o),h=vp(o),p=gp(s),y=vp(s),w=gp(l),_=vp(l),b=gp(u),S=vp(u),A={a:ye,A:re,b:ue,B:ae,c:null,d:XT,e:XT,f:xne,g:One,G:Lne,H:wne,I:bne,j:_ne,L:nM,m:Ane,M:Sne,p:ne,q:M,Q:JT,s:eC,S:Ene,u:Pne,U:Nne,V:kne,w:Tne,W:Cne,x:null,X:null,y:Ine,Y:jne,Z:Dne,"%":ZT},T={a:Y,A:Z,b:ie,B:ce,c:null,d:QT,e:QT,f:Bne,g:Yne,G:Qne,H:Rne,I:Mne,j:Fne,L:iM,m:Une,M:$ne,p:pe,q:Ee,Q:JT,s:eC,S:Vne,u:zne,U:qne,V:Wne,w:Hne,W:Kne,x:null,X:null,y:Gne,Y:Xne,Z:Zne,"%":ZT},B={a:U,A:k,b:R,B:j,c:H,d:GT,e:GT,f:mne,g:KT,G:HT,H:YT,I:YT,j:fne,L:pne,m:cne,M:dne,p:O,q:une,Q:vne,s:yne,S:hne,u:ine,U:ane,V:one,w:rne,W:sne,x:oe,X:he,y:KT,Y:HT,Z:lne,"%":gne};A.x=$(r,A),A.X=$(i,A),A.c=$(e,A),T.x=$(r,T),T.X=$(i,T),T.c=$(e,T);function $(le,Ae){return function(Ne){var we=[],Ue=-1,be=0,te=le.length,mt,vt,dt;for(Ne instanceof Date||(Ne=new Date(+Ne));++Ue<te;)le.charCodeAt(Ue)===37&&(we.push(le.slice(be,Ue)),(vt=WT[mt=le.charAt(++Ue)])!=null?mt=le.charAt(++Ue):vt=mt==="e"?" ":"0",(dt=Ae[mt])&&(mt=dt(Ne,vt)),we.push(mt),be=Ue+1);return we.push(le.slice(be,Ue)),we.join("")}}function L(le,Ae){return function(Ne){var we=mp(1900,void 0,1),Ue=I(we,le,Ne+="",0),be,te;if(Ue!=Ne.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(Ae&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(be=Fw(mp(we.y,0,1)),te=be.getUTCDay(),be=te>4||te===0?h0.ceil(be):h0(be),be=t2.offset(be,(we.V-1)*7),we.y=be.getUTCFullYear(),we.m=be.getUTCMonth(),we.d=be.getUTCDate()+(we.w+6)%7):(be=Mw(mp(we.y,0,1)),te=be.getDay(),be=te>4||te===0?d0.ceil(be):d0(be),be=pg.offset(be,(we.V-1)*7),we.y=be.getFullYear(),we.m=be.getMonth(),we.d=be.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),te="Z"in we?Fw(mp(we.y,0,1)).getUTCDay():Mw(mp(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(te+5)%7:we.w+we.U*7-(te+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,Fw(we)):Mw(we)}}function I(le,Ae,Ne,we){for(var Ue=0,be=Ae.length,te=Ne.length,mt,vt;Ue<be;){if(we>=te)return-1;if(mt=Ae.charCodeAt(Ue++),mt===37){if(mt=Ae.charAt(Ue++),vt=B[mt in WT?Ae.charAt(Ue++):mt],!vt||(we=vt(le,Ne,we))<0)return-1}else if(mt!=Ne.charCodeAt(we++))return-1}return we}function O(le,Ae,Ne){var we=c.exec(Ae.slice(Ne));return we?(le.p=f.get(we[0].toLowerCase()),Ne+we[0].length):-1}function U(le,Ae,Ne){var we=p.exec(Ae.slice(Ne));return we?(le.w=y.get(we[0].toLowerCase()),Ne+we[0].length):-1}function k(le,Ae,Ne){var we=d.exec(Ae.slice(Ne));return we?(le.w=h.get(we[0].toLowerCase()),Ne+we[0].length):-1}function R(le,Ae,Ne){var we=b.exec(Ae.slice(Ne));return we?(le.m=S.get(we[0].toLowerCase()),Ne+we[0].length):-1}function j(le,Ae,Ne){var we=w.exec(Ae.slice(Ne));return we?(le.m=_.get(we[0].toLowerCase()),Ne+we[0].length):-1}function H(le,Ae,Ne){return I(le,e,Ae,Ne)}function oe(le,Ae,Ne){return I(le,r,Ae,Ne)}function he(le,Ae,Ne){return I(le,i,Ae,Ne)}function ye(le){return s[le.getDay()]}function re(le){return o[le.getDay()]}function ue(le){return u[le.getMonth()]}function ae(le){return l[le.getMonth()]}function ne(le){return a[+(le.getHours()>=12)]}function M(le){return 1+~~(le.getMonth()/3)}function Y(le){return s[le.getUTCDay()]}function Z(le){return o[le.getUTCDay()]}function ie(le){return u[le.getUTCMonth()]}function ce(le){return l[le.getUTCMonth()]}function pe(le){return a[+(le.getUTCHours()>=12)]}function Ee(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Ae=$(le+="",A);return Ae.toString=function(){return le},Ae},parse:function(le){var Ae=L(le+="",!1);return Ae.toString=function(){return le},Ae},utcFormat:function(le){var Ae=$(le+="",T);return Ae.toString=function(){return le},Ae},utcParse:function(le){var Ae=L(le+="",!0);return Ae.toString=function(){return le},Ae}}}var WT={"-":"",_:" ",0:"0"},fi=/^\s*\d+/,ene=/^%/,tne=/[\\^$*+?|[\]().{}]/g;function hn(n,e,r){var i=n<0?"-":"",a=(i?-n:n)+"",o=a.length;return i+(o<r?new Array(r-o+1).join(e)+a:a)}function nne(n){return n.replace(tne,"\\$&")}function gp(n){return new RegExp("^(?:"+n.map(nne).join("|")+")","i")}function vp(n){return new Map(n.map((e,r)=>[e.toLowerCase(),r]))}function rne(n,e,r){var i=fi.exec(e.slice(r,r+1));return i?(n.w=+i[0],r+i[0].length):-1}function ine(n,e,r){var i=fi.exec(e.slice(r,r+1));return i?(n.u=+i[0],r+i[0].length):-1}function ane(n,e,r){var i=fi.exec(e.slice(r,r+2));return i?(n.U=+i[0],r+i[0].length):-1}function one(n,e,r){var i=fi.exec(e.slice(r,r+2));return i?(n.V=+i[0],r+i[0].length):-1}function sne(n,e,r){var i=fi.exec(e.slice(r,r+2));return i?(n.W=+i[0],r+i[0].length):-1}function HT(n,e,r){var i=fi.exec(e.slice(r,r+4));return i?(n.y=+i[0],r+i[0].length):-1}function KT(n,e,r){var i=fi.exec(e.slice(r,r+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function lne(n,e,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function une(n,e,r){var i=fi.exec(e.slice(r,r+1));return i?(n.q=i[0]*3-3,r+i[0].length):-1}function cne(n,e,r){var i=fi.exec(e.slice(r,r+2));return i?(n.m=i[0]-1,r+i[0].length):-1}function GT(n,e,r){var i=fi.exec(e.slice(r,r+2));return i?(n.d=+i[0],r+i[0].length):-1}function fne(n,e,r){var i=fi.exec(e.slice(r,r+3));return i?(n.m=0,n.d=+i[0],r+i[0].length):-1}function YT(n,e,r){var i=fi.exec(e.slice(r,r+2));return i?(n.H=+i[0],r+i[0].length):-1}function dne(n,e,r){var i=fi.exec(e.slice(r,r+2));return i?(n.M=+i[0],r+i[0].length):-1}function hne(n,e,r){var i=fi.exec(e.slice(r,r+2));return i?(n.S=+i[0],r+i[0].length):-1}function pne(n,e,r){var i=fi.exec(e.slice(r,r+3));return i?(n.L=+i[0],r+i[0].length):-1}function mne(n,e,r){var i=fi.exec(e.slice(r,r+6));return i?(n.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function gne(n,e,r){var i=ene.exec(e.slice(r,r+1));return i?r+i[0].length:-1}function vne(n,e,r){var i=fi.exec(e.slice(r));return i?(n.Q=+i[0],r+i[0].length):-1}function yne(n,e,r){var i=fi.exec(e.slice(r));return i?(n.s=+i[0],r+i[0].length):-1}function XT(n,e){return hn(n.getDate(),e,2)}function wne(n,e){return hn(n.getHours(),e,2)}function bne(n,e){return hn(n.getHours()%12||12,e,2)}function _ne(n,e){return hn(1+pg.count($l(n),n),e,3)}function nM(n,e){return hn(n.getMilliseconds(),e,3)}function xne(n,e){return nM(n,e)+"000"}function Ane(n,e){return hn(n.getMonth()+1,e,2)}function Sne(n,e){return hn(n.getMinutes(),e,2)}function Ene(n,e){return hn(n.getSeconds(),e,2)}function Pne(n){var e=n.getDay();return e===0?7:e}function Nne(n,e){return hn(n2.count($l(n)-1,n),e,2)}function rM(n){var e=n.getDay();return e>=4||e===0?uh(n):uh.ceil(n)}function kne(n,e){return n=rM(n),hn(uh.count($l(n),n)+($l(n).getDay()===4),e,2)}function Tne(n){return n.getDay()}function Cne(n,e){return hn(d0.count($l(n)-1,n),e,2)}function Ine(n,e){return hn(n.getFullYear()%100,e,2)}function One(n,e){return n=rM(n),hn(n.getFullYear()%100,e,2)}function jne(n,e){return hn(n.getFullYear()%1e4,e,4)}function Lne(n,e){var r=n.getDay();return n=r>=4||r===0?uh(n):uh.ceil(n),hn(n.getFullYear()%1e4,e,4)}function Dne(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+hn(e/60|0,"0",2)+hn(e%60,"0",2)}function QT(n,e){return hn(n.getUTCDate(),e,2)}function Rne(n,e){return hn(n.getUTCHours(),e,2)}function Mne(n,e){return hn(n.getUTCHours()%12||12,e,2)}function Fne(n,e){return hn(1+t2.count(Vl(n),n),e,3)}function iM(n,e){return hn(n.getUTCMilliseconds(),e,3)}function Bne(n,e){return iM(n,e)+"000"}function Une(n,e){return hn(n.getUTCMonth()+1,e,2)}function $ne(n,e){return hn(n.getUTCMinutes(),e,2)}function Vne(n,e){return hn(n.getUTCSeconds(),e,2)}function zne(n){var e=n.getUTCDay();return e===0?7:e}function qne(n,e){return hn(r2.count(Vl(n)-1,n),e,2)}function aM(n){var e=n.getUTCDay();return e>=4||e===0?ch(n):ch.ceil(n)}function Wne(n,e){return n=aM(n),hn(ch.count(Vl(n),n)+(Vl(n).getUTCDay()===4),e,2)}function Hne(n){return n.getUTCDay()}function Kne(n,e){return hn(h0.count(Vl(n)-1,n),e,2)}function Gne(n,e){return hn(n.getUTCFullYear()%100,e,2)}function Yne(n,e){return n=aM(n),hn(n.getUTCFullYear()%100,e,2)}function Xne(n,e){return hn(n.getUTCFullYear()%1e4,e,4)}function Qne(n,e){var r=n.getUTCDay();return n=r>=4||r===0?ch(n):ch.ceil(n),hn(n.getUTCFullYear()%1e4,e,4)}function Zne(){return"+0000"}function ZT(){return"%"}function JT(n){return+n}function eC(n){return Math.floor(+n/1e3)}var td,oM,sM;Jne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jne(n){return td=Jte(n),oM=td.format,td.parse,sM=td.utcFormat,td.utcParse,td}function ere(n){return new Date(n)}function tre(n){return n instanceof Date?+n:+new Date(+n)}function HS(n,e,r,i,a,o,s,l,u,c){var f=OS(),d=f.invert,h=f.domain,p=c(".%L"),y=c(":%S"),w=c("%I:%M"),_=c("%I %p"),b=c("%a %d"),S=c("%b %d"),A=c("%B"),T=c("%Y");function B($){return(u($)<$?p:l($)<$?y:s($)<$?w:o($)<$?_:i($)<$?a($)<$?b:S:r($)<$?A:T)($)}return f.invert=function($){return new Date(d($))},f.domain=function($){return arguments.length?h(Array.from($,tre)):h().map(ere)},f.ticks=function($){var L=h();return n(L[0],L[L.length-1],$??10)},f.tickFormat=function($,L){return L==null?B:c(L)},f.nice=function($){var L=h();return(!$||typeof $.range!="function")&&($=e(L[0],L[L.length-1],$??10)),$?h(K8(L,$)):f},f.copy=function(){return hg(f,HS(n,e,r,i,a,o,s,l,u,c))},f}function nre(){return Mo.apply(HS(Qte,Zte,$l,qS,n2,pg,VS,US,tf,oM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rre(){return Mo.apply(HS(Yte,Xte,Vl,WS,r2,t2,zS,$S,tf,sM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function i2(){var n=0,e=1,r,i,a,o,s=na,l=!1,u;function c(d){return d==null||isNaN(d=+d)?u:s(a===0?.5:(d=(o(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([n,e]=d,r=o(n=+n),i=o(e=+e),a=r===i?0:1/(i-r),c):[n,e]},c.clamp=function(d){return arguments.length?(l=!!d,c):l},c.interpolator=function(d){return arguments.length?(s=d,c):s};function f(d){return function(h){var p,y;return arguments.length?([p,y]=h,s=d(p,y),c):[s(0),s(1)]}}return c.range=f(Nh),c.rangeRound=f(IS),c.unknown=function(d){return arguments.length?(u=d,c):u},function(d){return o=d,r=d(n),i=d(e),a=r===i?0:1/(i-r),c}}function _c(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function lM(){var n=bc(i2()(na));return n.copy=function(){return _c(n,lM())},Ql.apply(n,arguments)}function uM(){var n=DS(i2()).domain([1,10]);return n.copy=function(){return _c(n,uM()).base(n.base())},Ql.apply(n,arguments)}function cM(){var n=RS(i2());return n.copy=function(){return _c(n,cM()).constant(n.constant())},Ql.apply(n,arguments)}function KS(){var n=MS(i2());return n.copy=function(){return _c(n,KS()).exponent(n.exponent())},Ql.apply(n,arguments)}function ire(){return KS.apply(null,arguments).exponent(.5)}function fM(){var n=[],e=na;function r(i){if(i!=null&&!isNaN(i=+i))return e((fg(n,i,1)-1)/(n.length-1))}return r.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let a of i)a!=null&&!isNaN(a=+a)&&n.push(a);return n.sort(Ju),r},r.interpolator=function(i){return arguments.length?(e=i,r):e},r.range=function(){return n.map((i,a)=>e(a/(n.length-1)))},r.quantiles=function(i){return Array.from({length:i+1},(a,o)=>zee(n,o/i))},r.copy=function(){return fM(e).domain(n)},Ql.apply(r,arguments)}function a2(){var n=0,e=.5,r=1,i=1,a,o,s,l,u,c=na,f,d=!1,h;function p(w){return isNaN(w=+w)?h:(w=.5+((w=+f(w))-o)*(i*w<i*o?l:u),c(d?Math.max(0,Math.min(1,w)):w))}p.domain=function(w){return arguments.length?([n,e,r]=w,a=f(n=+n),o=f(e=+e),s=f(r=+r),l=a===o?0:.5/(o-a),u=o===s?0:.5/(s-o),i=o<a?-1:1,p):[n,e,r]},p.clamp=function(w){return arguments.length?(d=!!w,p):d},p.interpolator=function(w){return arguments.length?(c=w,p):c};function y(w){return function(_){var b,S,A;return arguments.length?([b,S,A]=_,c=gte(w,[b,S,A]),p):[c(0),c(.5),c(1)]}}return p.range=y(Nh),p.rangeRound=y(IS),p.unknown=function(w){return arguments.length?(h=w,p):h},function(w){return f=w,a=w(n),o=w(e),s=w(r),l=a===o?0:.5/(o-a),u=o===s?0:.5/(s-o),i=o<a?-1:1,p}}function dM(){var n=bc(a2()(na));return n.copy=function(){return _c(n,dM())},Ql.apply(n,arguments)}function hM(){var n=DS(a2()).domain([.1,1,10]);return n.copy=function(){return _c(n,hM()).base(n.base())},Ql.apply(n,arguments)}function pM(){var n=RS(a2());return n.copy=function(){return _c(n,pM()).constant(n.constant())},Ql.apply(n,arguments)}function GS(){var n=MS(a2());return n.copy=function(){return _c(n,GS()).exponent(n.exponent())},Ql.apply(n,arguments)}function are(){return GS.apply(null,arguments).exponent(.5)}const Ip=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kS,scaleDiverging:dM,scaleDivergingLog:hM,scaleDivergingPow:GS,scaleDivergingSqrt:are,scaleDivergingSymlog:pM,scaleIdentity:H8,scaleImplicit:m_,scaleLinear:W8,scaleLog:G8,scaleOrdinal:NS,scalePoint:Hee,scalePow:FS,scaleQuantile:Q8,scaleQuantize:Z8,scaleRadial:X8,scaleSequential:lM,scaleSequentialLog:uM,scaleSequentialPow:KS,scaleSequentialQuantile:fM,scaleSequentialSqrt:ire,scaleSequentialSymlog:cM,scaleSqrt:Bte,scaleSymlog:Y8,scaleThreshold:J8,scaleTime:nre,scaleUtc:rre,tickFormat:q8},Symbol.toStringTag,{value:"Module"}));var xc=n=>n.chartData,YS=Se([xc],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),o2=(n,e,r,i)=>i?YS(n):xc(n);function fh(n){if(Array.isArray(n)&&n.length===2){var[e,r]=n;if(io(e)&&io(r))return!0}return!1}function tC(n,e,r){return r?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function ore(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[r,i]=n,a,o;if(io(r))a=r;else if(typeof r=="function")return;if(io(i))o=i;else if(typeof i=="function")return;var s=[a,o];if(fh(s))return s}}function sre(n,e,r){if(!(!r&&e==null)){if(typeof n=="function"&&e!=null)try{var i=n(e,r);if(fh(i))return tC(i,e,r)}catch{}if(Array.isArray(n)&&n.length===2){var[a,o]=n,s,l;if(a==="auto")e!=null&&(s=Math.min(...e));else if(He(a))s=a;else if(typeof a=="function")try{e!=null&&(s=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&Qk.test(a)){var u=Qk.exec(a);if(u==null||e==null)s=void 0;else{var c=+u[1];s=e[0]-c}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(l=Math.max(...e));else if(He(o))l=o;else if(typeof o=="function")try{e!=null&&(l=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&Zk.test(o)){var f=Zk.exec(o);if(f==null||e==null)l=void 0;else{var d=+f[1];l=e[1]+d}}else l=e==null?void 0:e[1];var h=[s,l];if(fh(h))return e==null?h:tC(h,e,r)}}}var kh=1e9,lre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QS,rr=!0,jo="[DecimalError] ",df=jo+"Invalid argument: ",XS=jo+"Exponent out of range: ",Th=Math.floor,Wc=Math.pow,ure=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ka,oi=1e7,Wn=7,mM=9007199254740991,p0=Th(mM/Wn),Ye={};Ye.absoluteValue=Ye.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Ye.comparedTo=Ye.cmp=function(n){var e,r,i,a,o=this;if(n=new o.constructor(n),o.s!==n.s)return o.s||-n.s;if(o.e!==n.e)return o.e>n.e^o.s<0?1:-1;for(i=o.d.length,a=n.d.length,e=0,r=i<a?i:a;e<r;++e)if(o.d[e]!==n.d[e])return o.d[e]>n.d[e]^o.s<0?1:-1;return i===a?0:i>a^o.s<0?1:-1};Ye.decimalPlaces=Ye.dp=function(){var n=this,e=n.d.length-1,r=(e-n.e)*Wn;if(e=n.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ye.dividedBy=Ye.div=function(n){return Tl(this,new this.constructor(n))};Ye.dividedToIntegerBy=Ye.idiv=function(n){var e=this,r=e.constructor;return On(Tl(e,new r(n),0,1),r.precision)};Ye.equals=Ye.eq=function(n){return!this.cmp(n)};Ye.exponent=function(){return Vr(this)};Ye.greaterThan=Ye.gt=function(n){return this.cmp(n)>0};Ye.greaterThanOrEqualTo=Ye.gte=function(n){return this.cmp(n)>=0};Ye.isInteger=Ye.isint=function(){return this.e>this.d.length-2};Ye.isNegative=Ye.isneg=function(){return this.s<0};Ye.isPositive=Ye.ispos=function(){return this.s>0};Ye.isZero=function(){return this.s===0};Ye.lessThan=Ye.lt=function(n){return this.cmp(n)<0};Ye.lessThanOrEqualTo=Ye.lte=function(n){return this.cmp(n)<1};Ye.logarithm=Ye.log=function(n){var e,r=this,i=r.constructor,a=i.precision,o=a+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(Ka))throw Error(jo+"NaN");if(r.s<1)throw Error(jo+(r.s?"NaN":"-Infinity"));return r.eq(Ka)?new i(0):(rr=!1,e=Tl(Um(r,o),Um(n,o),o),rr=!0,On(e,a))};Ye.minus=Ye.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?yM(e,n):gM(e,(n.s=-n.s,n))};Ye.modulo=Ye.mod=function(n){var e,r=this,i=r.constructor,a=i.precision;if(n=new i(n),!n.s)throw Error(jo+"NaN");return r.s?(rr=!1,e=Tl(r,n,0,1).times(n),rr=!0,r.minus(e)):On(new i(r),a)};Ye.naturalExponential=Ye.exp=function(){return vM(this)};Ye.naturalLogarithm=Ye.ln=function(){return Um(this)};Ye.negated=Ye.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Ye.plus=Ye.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?gM(e,n):yM(e,(n.s=-n.s,n))};Ye.precision=Ye.sd=function(n){var e,r,i,a=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(df+n);if(e=Vr(a)+1,i=a.d.length-1,r=i*Wn+1,i=a.d[i],i){for(;i%10==0;i/=10)r--;for(i=a.d[0];i>=10;i/=10)r++}return n&&e>r?e:r};Ye.squareRoot=Ye.sqrt=function(){var n,e,r,i,a,o,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(jo+"NaN")}for(n=Vr(l),rr=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Rs(l.d),(e.length+n)%2==0&&(e+="0"),a=Math.sqrt(e),n=Th((n+1)/2)-(n<0||n%2),a==1/0?e="5e"+n:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),i=new u(e)):i=new u(a.toString()),r=u.precision,a=s=r+3;;)if(o=i,i=o.plus(Tl(l,o,s+2)).times(.5),Rs(o.d).slice(0,s)===(e=Rs(i.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(On(o,r+1,0),o.times(o).eq(l)){i=o;break}}else if(e!="9999")break;s+=4}return rr=!0,On(i,r)};Ye.times=Ye.mul=function(n){var e,r,i,a,o,s,l,u,c,f=this,d=f.constructor,h=f.d,p=(n=new d(n)).d;if(!f.s||!n.s)return new d(0);for(n.s*=f.s,r=f.e+n.e,u=h.length,c=p.length,u<c&&(o=h,h=p,p=o,s=u,u=c,c=s),o=[],s=u+c,i=s;i--;)o.push(0);for(i=c;--i>=0;){for(e=0,a=u+i;a>i;)l=o[a]+p[i]*h[a-i-1]+e,o[a--]=l%oi|0,e=l/oi|0;o[a]=(o[a]+e)%oi|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),n.d=o,n.e=r,rr?On(n,d.precision):n};Ye.toDecimalPlaces=Ye.todp=function(n,e){var r=this,i=r.constructor;return r=new i(r),n===void 0?r:(Ys(n,0,kh),e===void 0?e=i.rounding:Ys(e,0,8),On(r,n+Vr(r)+1,e))};Ye.toExponential=function(n,e){var r,i=this,a=i.constructor;return n===void 0?r=kf(i,!0):(Ys(n,0,kh),e===void 0?e=a.rounding:Ys(e,0,8),i=On(new a(i),n+1,e),r=kf(i,!0,n+1)),r};Ye.toFixed=function(n,e){var r,i,a=this,o=a.constructor;return n===void 0?kf(a):(Ys(n,0,kh),e===void 0?e=o.rounding:Ys(e,0,8),i=On(new o(a),n+Vr(a)+1,e),r=kf(i.abs(),!1,n+Vr(i)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ye.toInteger=Ye.toint=function(){var n=this,e=n.constructor;return On(new e(n),Vr(n)+1,e.rounding)};Ye.toNumber=function(){return+this};Ye.toPower=Ye.pow=function(n){var e,r,i,a,o,s,l=this,u=l.constructor,c=12,f=+(n=new u(n));if(!n.s)return new u(Ka);if(l=new u(l),!l.s){if(n.s<1)throw Error(jo+"Infinity");return l}if(l.eq(Ka))return l;if(i=u.precision,n.eq(Ka))return On(l,i);if(e=n.e,r=n.d.length-1,s=e>=r,o=l.s,s){if((r=f<0?-f:f)<=mM){for(a=new u(Ka),e=Math.ceil(i/Wn+4),rr=!1;r%2&&(a=a.times(l),rC(a.d,e)),r=Th(r/2),r!==0;)l=l.times(l),rC(l.d,e);return rr=!0,n.s<0?new u(Ka).div(a):On(a,i)}}else if(o<0)throw Error(jo+"NaN");return o=o<0&&n.d[Math.max(e,r)]&1?-1:1,l.s=1,rr=!1,a=n.times(Um(l,i+c)),rr=!0,a=vM(a),a.s=o,a};Ye.toPrecision=function(n,e){var r,i,a=this,o=a.constructor;return n===void 0?(r=Vr(a),i=kf(a,r<=o.toExpNeg||r>=o.toExpPos)):(Ys(n,1,kh),e===void 0?e=o.rounding:Ys(e,0,8),a=On(new o(a),n,e),r=Vr(a),i=kf(a,n<=r||r<=o.toExpNeg,n)),i};Ye.toSignificantDigits=Ye.tosd=function(n,e){var r=this,i=r.constructor;return n===void 0?(n=i.precision,e=i.rounding):(Ys(n,1,kh),e===void 0?e=i.rounding:Ys(e,0,8)),On(new i(r),n,e)};Ye.toString=Ye.valueOf=Ye.val=Ye.toJSON=Ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Vr(n),r=n.constructor;return kf(n,e<=r.toExpNeg||e>=r.toExpPos)};function gM(n,e){var r,i,a,o,s,l,u,c,f=n.constructor,d=f.precision;if(!n.s||!e.s)return e.s||(e=new f(n)),rr?On(e,d):e;if(u=n.d,c=e.d,s=n.e,a=e.e,u=u.slice(),o=s-a,o){for(o<0?(i=u,o=-o,l=c.length):(i=c,a=s,l=u.length),s=Math.ceil(d/Wn),l=s>l?s+1:l+1,o>l&&(o=l,i.length=1),i.reverse();o--;)i.push(0);i.reverse()}for(l=u.length,o=c.length,l-o<0&&(o=l,i=c,c=u,u=i),r=0;o;)r=(u[--o]=u[o]+c[o]+r)/oi|0,u[o]%=oi;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=a,rr?On(e,d):e}function Ys(n,e,r){if(n!==~~n||n<e||n>r)throw Error(df+n)}function Rs(n){var e,r,i,a=n.length-1,o="",s=n[0];if(a>0){for(o+=s,e=1;e<a;e++)i=n[e]+"",r=Wn-i.length,r&&(o+=Pu(r)),o+=i;s=n[e],i=s+"",r=Wn-i.length,r&&(o+=Pu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Tl=function(){function n(i,a){var o,s=0,l=i.length;for(i=i.slice();l--;)o=i[l]*a+s,i[l]=o%oi|0,s=o/oi|0;return s&&i.unshift(s),i}function e(i,a,o,s){var l,u;if(o!=s)u=o>s?1:-1;else for(l=u=0;l<o;l++)if(i[l]!=a[l]){u=i[l]>a[l]?1:-1;break}return u}function r(i,a,o){for(var s=0;o--;)i[o]-=s,s=i[o]<a[o]?1:0,i[o]=s*oi+i[o]-a[o];for(;!i[0]&&i.length>1;)i.shift()}return function(i,a,o,s){var l,u,c,f,d,h,p,y,w,_,b,S,A,T,B,$,L,I,O=i.constructor,U=i.s==a.s?1:-1,k=i.d,R=a.d;if(!i.s)return new O(i);if(!a.s)throw Error(jo+"Division by zero");for(u=i.e-a.e,L=R.length,B=k.length,p=new O(U),y=p.d=[],c=0;R[c]==(k[c]||0);)++c;if(R[c]>(k[c]||0)&&--u,o==null?S=o=O.precision:s?S=o+(Vr(i)-Vr(a))+1:S=o,S<0)return new O(0);if(S=S/Wn+2|0,c=0,L==1)for(f=0,R=R[0],S++;(c<B||f)&&S--;c++)A=f*oi+(k[c]||0),y[c]=A/R|0,f=A%R|0;else{for(f=oi/(R[0]+1)|0,f>1&&(R=n(R,f),k=n(k,f),L=R.length,B=k.length),T=L,w=k.slice(0,L),_=w.length;_<L;)w[_++]=0;I=R.slice(),I.unshift(0),$=R[0],R[1]>=oi/2&&++$;do f=0,l=e(R,w,L,_),l<0?(b=w[0],L!=_&&(b=b*oi+(w[1]||0)),f=b/$|0,f>1?(f>=oi&&(f=oi-1),d=n(R,f),h=d.length,_=w.length,l=e(d,w,h,_),l==1&&(f--,r(d,L<h?I:R,h))):(f==0&&(l=f=1),d=R.slice()),h=d.length,h<_&&d.unshift(0),r(w,d,_),l==-1&&(_=w.length,l=e(R,w,L,_),l<1&&(f++,r(w,L<_?I:R,_))),_=w.length):l===0&&(f++,w=[0]),y[c++]=f,l&&w[0]?w[_++]=k[T]||0:(w=[k[T]],_=1);while((T++<B||w[0]!==void 0)&&S--)}return y[0]||y.shift(),p.e=u,On(p,s?o+Vr(p)+1:o)}}();function vM(n,e){var r,i,a,o,s,l,u=0,c=0,f=n.constructor,d=f.precision;if(Vr(n)>16)throw Error(XS+Vr(n));if(!n.s)return new f(Ka);for(rr=!1,l=d,s=new f(.03125);n.abs().gte(.1);)n=n.times(s),c+=5;for(i=Math.log(Wc(2,c))/Math.LN10*2+5|0,l+=i,r=a=o=new f(Ka),f.precision=l;;){if(a=On(a.times(n),l),r=r.times(++u),s=o.plus(Tl(a,r,l)),Rs(s.d).slice(0,l)===Rs(o.d).slice(0,l)){for(;c--;)o=On(o.times(o),l);return f.precision=d,e==null?(rr=!0,On(o,d)):o}o=s}}function Vr(n){for(var e=n.e*Wn,r=n.d[0];r>=10;r/=10)e++;return e}function Bw(n,e,r){if(e>n.LN10.sd())throw rr=!0,r&&(n.precision=r),Error(jo+"LN10 precision limit exceeded");return On(new n(n.LN10),e)}function Pu(n){for(var e="";n--;)e+="0";return e}function Um(n,e){var r,i,a,o,s,l,u,c,f,d=1,h=10,p=n,y=p.d,w=p.constructor,_=w.precision;if(p.s<1)throw Error(jo+(p.s?"NaN":"-Infinity"));if(p.eq(Ka))return new w(0);if(e==null?(rr=!1,c=_):c=e,p.eq(10))return e==null&&(rr=!0),Bw(w,c);if(c+=h,w.precision=c,r=Rs(y),i=r.charAt(0),o=Vr(p),Math.abs(o)<15e14){for(;i<7&&i!=1||i==1&&r.charAt(1)>3;)p=p.times(n),r=Rs(p.d),i=r.charAt(0),d++;o=Vr(p),i>1?(p=new w("0."+r),o++):p=new w(i+"."+r.slice(1))}else return u=Bw(w,c+2,_).times(o+""),p=Um(new w(i+"."+r.slice(1)),c-h).plus(u),w.precision=_,e==null?(rr=!0,On(p,_)):p;for(l=s=p=Tl(p.minus(Ka),p.plus(Ka),c),f=On(p.times(p),c),a=3;;){if(s=On(s.times(f),c),u=l.plus(Tl(s,new w(a),c)),Rs(u.d).slice(0,c)===Rs(l.d).slice(0,c))return l=l.times(2),o!==0&&(l=l.plus(Bw(w,c+2,_).times(o+""))),l=Tl(l,new w(d),c),w.precision=_,e==null?(rr=!0,On(l,_)):l;l=u,a+=2}}function nC(n,e){var r,i,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(r<0&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):r<0&&(r=e.length),i=0;e.charCodeAt(i)===48;)++i;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(i,a),e){if(a-=i,r=r-i-1,n.e=Th(r/Wn),n.d=[],i=(r+1)%Wn,r<0&&(i+=Wn),i<a){for(i&&n.d.push(+e.slice(0,i)),a-=Wn;i<a;)n.d.push(+e.slice(i,i+=Wn));e=e.slice(i),i=Wn-e.length}else i-=a;for(;i--;)e+="0";if(n.d.push(+e),rr&&(n.e>p0||n.e<-p0))throw Error(XS+r)}else n.s=0,n.e=0,n.d=[0];return n}function On(n,e,r){var i,a,o,s,l,u,c,f,d=n.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(i=e-s,i<0)i+=Wn,a=e,c=d[f=0];else{if(f=Math.ceil((i+1)/Wn),o=d.length,f>=o)return n;for(c=o=d[f],s=1;o>=10;o/=10)s++;i%=Wn,a=i-Wn+s}if(r!==void 0&&(o=Wc(10,s-a-1),l=c/o%10|0,u=e<0||d[f+1]!==void 0||c%o,u=r<4?(l||u)&&(r==0||r==(n.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(i>0?a>0?c/Wc(10,s-a):0:d[f-1])%10&1||r==(n.s<0?8:7))),e<1||!d[0])return u?(o=Vr(n),d.length=1,e=e-o-1,d[0]=Wc(10,(Wn-e%Wn)%Wn),n.e=Th(-e/Wn)||0):(d.length=1,d[0]=n.e=n.s=0),n;if(i==0?(d.length=f,o=1,f--):(d.length=f+1,o=Wc(10,Wn-i),d[f]=a>0?(c/Wc(10,s-a)%Wc(10,a)|0)*o:0),u)for(;;)if(f==0){(d[0]+=o)==oi&&(d[0]=1,++n.e);break}else{if(d[f]+=o,d[f]!=oi)break;d[f--]=0,o=1}for(i=d.length;d[--i]===0;)d.pop();if(rr&&(n.e>p0||n.e<-p0))throw Error(XS+Vr(n));return n}function yM(n,e){var r,i,a,o,s,l,u,c,f,d,h=n.constructor,p=h.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new h(n),rr?On(e,p):e;if(u=n.d,d=e.d,i=e.e,c=n.e,u=u.slice(),s=c-i,s){for(f=s<0,f?(r=u,s=-s,l=d.length):(r=d,i=c,l=u.length),a=Math.max(Math.ceil(p/Wn),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=d.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(u[a]!=d[a]){f=u[a]<d[a];break}s=0}for(f&&(r=u,u=d,d=r,e.s=-e.s),l=u.length,a=d.length-l;a>0;--a)u[l++]=0;for(a=d.length;a>s;){if(u[--a]<d[a]){for(o=a;o&&u[--o]===0;)u[o]=oi-1;--u[o],u[a]+=oi}u[a]-=d[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--i;return u[0]?(e.d=u,e.e=i,rr?On(e,p):e):new h(0)}function kf(n,e,r){var i,a=Vr(n),o=Rs(n.d),s=o.length;return e?(r&&(i=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Pu(i):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Pu(-a-1)+o,r&&(i=r-s)>0&&(o+=Pu(i))):a>=s?(o+=Pu(a+1-s),r&&(i=r-a-1)>0&&(o=o+"."+Pu(i))):((i=a+1)<s&&(o=o.slice(0,i)+"."+o.slice(i)),r&&(i=r-s)>0&&(a+1===s&&(o+="."),o+=Pu(i))),n.s<0?"-"+o:o}function rC(n,e){if(n.length>e)return n.length=e,!0}function wM(n){var e,r,i;function a(o){var s=this;if(!(s instanceof a))return new a(o);if(s.constructor=a,o instanceof a){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(df+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return nC(s,o.toString())}else if(typeof o!="string")throw Error(df+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,ure.test(o))nC(s,o);else throw Error(df+o)}if(a.prototype=Ye,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=wM,a.config=a.set=cre,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)n.hasOwnProperty(r=i[e++])||(n[r]=this[r]);return a.config(n),a}function cre(n){if(!n||typeof n!="object")throw Error(jo+"Object expected");var e,r,i,a=["precision",1,kh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((i=n[r=a[e]])!==void 0)if(Th(i)===i&&i>=a[e+1]&&i<=a[e+2])this[r]=i;else throw Error(df+r+": "+i);if((i=n[r="LN10"])!==void 0)if(i==Math.LN10)this[r]=new this(i);else throw Error(df+r+": "+i);return this}var QS=wM(lre);Ka=new QS(1);const An=QS;var fre=n=>n,bM={},_M=n=>n===bM,iC=n=>function e(){return arguments.length===0||arguments.length===1&&_M(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},xM=(n,e)=>n===1?e:iC(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(s=>s!==bM).length;return o>=n?e(...i):xM(n-o,iC(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(f=>_M(f)?l.shift():f);return e(...c,...l)}))}),s2=n=>xM(n.length,n),w_=(n,e)=>{for(var r=[],i=n;i<e;++i)r[i-n]=i;return r},dre=s2((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(r=>e[r]).map(n)),hre=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(!r.length)return fre;var a=r.reverse(),o=a[0],s=a.slice(1);return function(){return s.reduce((l,u)=>u(l),o(...arguments))}},b_=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join(""),AM=n=>{var e=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e&&a.every((s,l)=>{var u;return s===((u=e)===null||u===void 0?void 0:u[l])})||(e=a,r=n(...a)),r}};function SM(n){var e;return n===0?e=1:e=Math.floor(new An(n).abs().log(10).toNumber())+1,e}function EM(n,e,r){for(var i=new An(n),a=0,o=[];i.lt(e)&&a<1e5;)o.push(i.toNumber()),i=i.add(r),a++;return o}s2((n,e,r)=>{var i=+n,a=+e;return i+r*(a-i)});s2((n,e,r)=>{var i=e-+n;return i=i||1/0,(r-n)/i});s2((n,e,r)=>{var i=e-+n;return i=i||1/0,Math.max(0,Math.min(1,(r-n)/i))});var PM=n=>{var[e,r]=n,[i,a]=[e,r];return e>r&&([i,a]=[r,e]),[i,a]},NM=(n,e,r)=>{if(n.lte(0))return new An(0);var i=SM(n.toNumber()),a=new An(10).pow(i),o=n.div(a),s=i!==1?.05:.1,l=new An(Math.ceil(o.div(s).toNumber())).add(r).mul(s),u=l.mul(a);return e?new An(u.toNumber()):new An(Math.ceil(u.toNumber()))},pre=(n,e,r)=>{var i=new An(1),a=new An(n);if(!a.isint()&&r){var o=Math.abs(n);o<1?(i=new An(10).pow(SM(n)-1),a=new An(Math.floor(a.div(i).toNumber())).mul(i)):o>1&&(a=new An(Math.floor(n)))}else n===0?a=new An(Math.floor((e-1)/2)):r||(a=new An(Math.floor(n)));var s=Math.floor((e-1)/2),l=hre(dre(u=>a.add(new An(u-s).mul(i)).toNumber()),w_);return l(0,e)},kM=function(e,r,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(i-1)))return{step:new An(0),tickMin:new An(0),tickMax:new An(0)};var s=NM(new An(r).sub(e).div(i-1),a,o),l;e<=0&&r>=0?l=new An(0):(l=new An(e).add(r).div(2),l=l.sub(new An(l).mod(s)));var u=Math.ceil(l.sub(e).div(s).toNumber()),c=Math.ceil(new An(r).sub(l).div(s).toNumber()),f=u+c+1;return f>i?kM(e,r,i,a,o+1):(f<i&&(c=r>0?c+(i-f):c,u=r>0?u:u+(i-f)),{step:s,tickMin:l.sub(new An(u).mul(s)),tickMax:l.add(new An(c).mul(s))})};function mre(n){var[e,r]=n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,l]=PM([e,r]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...w_(0,i-1).map(()=>1/0)]:[...w_(0,i-1).map(()=>-1/0),l];return e>r?b_(u):u}if(s===l)return pre(s,i,a);var{step:c,tickMin:f,tickMax:d}=kM(s,l,o,a,0),h=EM(f,d.add(new An(.1).mul(c)),c);return e>r?b_(h):h}function gre(n,e){var[r,i]=n,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=PM([r,i]);if(o===-1/0||s===1/0)return[r,i];if(o===s)return[o];var l=Math.max(e,2),u=NM(new An(s).sub(o).div(l-1),a,0),c=[...EM(new An(o),new An(s),u),s];return a===!1&&(c=c.map(f=>Math.round(f))),r>i?b_(c):c}var vre=AM(mre),yre=AM(gre),TM=n=>n.rootProps.maxBarSize,wre=n=>n.rootProps.barGap,CM=n=>n.rootProps.barCategoryGap,bre=n=>n.rootProps.barSize,mg=n=>n.rootProps.stackOffset,ZS=n=>n.options.chartName,JS=n=>n.rootProps.syncId,IM=n=>n.rootProps.syncMethod,eE=n=>n.options.eventEmitter,wl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},l2=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},_re={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:wl.angleAxisId,includeHidden:!1,name:void 0,reversed:wl.reversed,scale:wl.scale,tick:wl.tick,tickCount:void 0,ticks:void 0,type:wl.type,unit:void 0},xre={allowDataOverflow:Wa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wa.scale,tick:Wa.tick,tickCount:Wa.tickCount,ticks:void 0,type:Wa.type,unit:void 0},Are={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:wl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wl.scale,tick:wl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Sre={allowDataOverflow:Wa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wa.scale,tick:Wa.tick,tickCount:Wa.tickCount,ticks:void 0,type:"category",unit:void 0},tE=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?Are:_re,nE=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?Sre:xre,u2=n=>n.polarOptions,rE=Se([Yl,Xl,Qr],i8),OM=Se([u2,rE],(n,e)=>{if(n!=null)return ia(n.innerRadius,e,0)}),jM=Se([u2,rE],(n,e)=>{if(n!=null)return ia(n.outerRadius,e,e*.8)}),Ere=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:r}=n;return[e,r]},LM=Se([u2],Ere);Se([tE,LM],l2);var DM=Se([rE,OM,jM],(n,e,r)=>{if(!(n==null||e==null||r==null))return[e,r]});Se([nE,DM],l2);var RM=Se([nn,u2,OM,jM,Yl,Xl],(n,e,r,i,a,o)=>{if(!(n!=="centric"&&n!=="radial"||e==null||r==null||i==null)){var{cx:s,cy:l,startAngle:u,endAngle:c}=e;return{cx:ia(s,a,a/2),cy:ia(l,o,o/2),innerRadius:r,outerRadius:i,startAngle:u,endAngle:c,clockWise:!1}}}),ir=(n,e)=>e,gg=(n,e,r)=>r;function iE(n){return n==null?void 0:n.id}var Jr=n=>{var e=nn(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ch=n=>n.tooltip.settings.axisId,ei=n=>{var e=Jr(n),r=Ch(n);return vg(n,e,r)};function MM(n,e,r){var{chartData:i=[]}=e,a=r==null?void 0:r.dataKey,o=new Map;return n.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:i;if(!(u==null||u.length===0)){var c=iE(s);u.forEach((f,d)=>{var h=a==null?d:String(In(f,a,null)),p=In(f,s.dataKey,0),y;o.has(h)?y=o.get(h):y={},Object.assign(y,{[c]:p}),o.set(h,y)})}}),Array.from(o.values())}function c2(n){return n.stackId!=null&&n.dataKey!=null}function aC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function m0(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(r),!0).forEach(function(i){Pre(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Pre(n,e,r){return(e=Nre(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Nre(n){var e=kre(n,"string");return typeof e=="symbol"?e:e+""}function kre(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var __=[0,"auto"],Va={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Zl=(n,e)=>{var r=n.cartesianAxis.xAxis[e];return r??Va},za={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:__,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Y1},Ac=(n,e)=>{var r=n.cartesianAxis.yAxis[e];return r??za},Tre={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aE=(n,e)=>{var r=n.cartesianAxis.zAxis[e];return r??Tre},Lr=(n,e,r)=>{switch(e){case"xAxis":return Zl(n,r);case"yAxis":return Ac(n,r);case"zAxis":return aE(n,r);case"angleAxis":return tE(n,r);case"radiusAxis":return nE(n,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Cre=(n,e,r)=>{switch(e){case"xAxis":return Zl(n,r);case"yAxis":return Ac(n,r);default:throw new Error("Unexpected axis type: ".concat(e))}},vg=(n,e,r)=>{switch(e){case"xAxis":return Zl(n,r);case"yAxis":return Ac(n,r);case"angleAxis":return tE(n,r);case"radiusAxis":return nE(n,r);default:throw new Error("Unexpected axis type: ".concat(e))}},FM=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function oE(n,e){return r=>{switch(n){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var f2=n=>n.graphicalItems.cartesianItems,Ire=Se([ir,gg],oE),sE=(n,e,r)=>n.filter(r).filter(i=>(e==null?void 0:e.includeHidden)===!0?!0:!i.hide),yg=Se([f2,Lr,Ire],sE),BM=Se([yg],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(c2)),UM=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),$M=Se([yg],UM),lE=n=>n.map(e=>e.data).filter(Boolean).flat(1),Ore=Se([yg],lE),uE=(n,e)=>{var{chartData:r=[],dataStartIndex:i,dataEndIndex:a}=e;return n.length>0?n:r.slice(i,a+1)},cE=Se([Ore,o2],uE),fE=(n,e,r)=>(e==null?void 0:e.dataKey)!=null?n.map(i=>({value:In(i,e.dataKey)})):r.length>0?r.map(i=>i.dataKey).flatMap(i=>n.map(a=>({value:In(a,i)}))):n.map(i=>({value:i})),d2=Se([cE,Lr,yg],fE);function VM(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Vf(n){return n.filter(e=>Gs(e)||e instanceof Date).map(Number).filter(e=>to(e)===!1)}function jre(n,e,r){return!r||typeof e!="number"||to(e)?[]:r.length?Vf(r.flatMap(i=>{var a=In(n,i.dataKey),o,s;if(Array.isArray(a)?[o,s]=a:o=s=a,!(!io(o)||!io(s)))return[e-o,e+s]})):[]}var Lre=Se([BM,o2,ei],MM),zM=(n,e,r)=>{var i={},a=e.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,l]=o,u=l.map(iE);return[s,{stackedData:WZ(n,u,r),graphicalItems:l}]}))},x_=Se([Lre,BM,mg],zM),qM=(n,e,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r!=="zAxis"){var o=XZ(n,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Dre=Se([x_,xc,ir],qM),WM=(n,e,r,i,a)=>r.length>0?n.flatMap(o=>r.flatMap(s=>{var l,u,c=(l=i[s.id])===null||l===void 0?void 0:l.filter(d=>VM(a,d)),f=In(o,(u=e.dataKey)!==null&&u!==void 0?u:s.dataKey);return{value:f,errorDomain:jre(o,f,c)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?n.map(o=>({value:In(o,e.dataKey),errorDomain:[]})):n.map(o=>({value:o,errorDomain:[]})),h2=n=>n.errorBars,HM=(n,e,r)=>n.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>VM(r,i));Se([$M,h2,ir],HM);var Rre=Se([cE,Lr,$M,h2,ir],WM);function Mre(n){var{value:e}=n;if(Gs(e)||e instanceof Date)return e}var oC=n=>{var e=n.flatMap(i=>[i.value,i.errorDomain]).flat(1),r=Vf(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Fre=(n,e,r)=>{var i=n.map(Mre).filter(a=>a!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&MD(i))?L8(0,n.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},dE=n=>{var e;if(n==null||!("domain"in n))return __;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var r=Vf(n.ticks);return[Math.min(...r),Math.max(...r)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:__},g0=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=r.filter(Boolean);if(a.length!==0){var o=a.flat(),s=Math.min(...o),l=Math.max(...o);return[s,l]}},KM=n=>n.referenceElements.dots,Ih=(n,e,r)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===r:i.yAxisId===r),Bre=Se([KM,ir,gg],Ih),GM=n=>n.referenceElements.areas,Ure=Se([GM,ir,gg],Ih),YM=n=>n.referenceElements.lines,$re=Se([YM,ir,gg],Ih),XM=(n,e)=>{var r=Vf(n.map(i=>e==="xAxis"?i.x:i.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Vre=Se(Bre,ir,XM),QM=(n,e)=>{var r=Vf(n.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zre=Se([Ure,ir],QM),ZM=(n,e)=>{var r=Vf(n.map(i=>e==="xAxis"?i.x:i.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qre=Se($re,ir,ZM),Wre=Se(Vre,qre,zre,(n,e,r)=>g0(n,r,e)),JM=Se([Lr],dE),hE=(n,e,r,i,a,o,s)=>{var l=ore(e,n.allowDataOverflow);if(l!=null)return l;var u=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=u?g0(r,a,oC(i)):g0(a,oC(i));return sre(e,c,n.allowDataOverflow)},Hre=Se([Lr,JM,Dre,Rre,Wre,nn,ir],hE),Kre=[0,1],pE=(n,e,r,i,a,o,s)=>{if(!((n==null||r==null||r.length===0)&&s===void 0)){var{dataKey:l,type:u}=n,c=wc(e,o);return c&&l==null?L8(0,r.length):u==="category"?Fre(i,n,c):a==="expand"?Kre:s}},mE=Se([Lr,nn,cE,d2,mg,ir,Hre],pE),e7=(n,e,r,i,a)=>{if(n!=null){var{scale:o,type:s}=n;if(o==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":s==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var l="scale".concat(sg(o));return l in Ip?l:"point"}}},Oh=Se([Lr,nn,FM,ZS,ir],e7);function Gre(n){if(n!=null){if(n in Ip)return Ip[n]();var e="scale".concat(sg(n));if(e in Ip)return Ip[e]()}}function gE(n,e,r,i){if(!(r==null||i==null)){if(typeof n.scale=="function")return n.scale.copy().domain(r).range(i);var a=Gre(e);if(a!=null){var o=a.domain(r).range(i);return UZ(o),o}}}var vE=(n,e,r)=>{var i=dE(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&fh(n))return vre(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&fh(n))return yre(n,e.tickCount,e.allowDecimals)}},yE=Se([mE,vg,Oh],vE),wE=(n,e,r,i)=>{if(i!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&fh(e)&&Array.isArray(r)&&r.length>0){var a=e[0],o=r[0],s=e[1],l=r[r.length-1];return[Math.min(a,o),Math.max(s,l)]}return e},Yre=Se([Lr,mE,yE,ir],wE),Xre=Se(d2,Lr,(n,e)=>{if(!(!e||e.type!=="number")){var r=1/0,i=Array.from(Vf(n.map(l=>l.value))).sort((l,u)=>l-u);if(i.length<2)return 1/0;var a=i[i.length-1]-i[0];if(a===0)return 1/0;for(var o=0;o<i.length-1;o++){var s=i[o+1]-i[o];r=Math.min(r,s)}return r/a}}),t7=Se(Xre,nn,CM,Qr,(n,e,r,i)=>i,(n,e,r,i,a)=>{if(!io(n))return 0;var o=e==="vertical"?i.height:i.width;if(a==="gap")return n*o/2;if(a==="no-gap"){var s=ia(r,n*o),l=n*o/2;return l-s-(l-s)/o*s}return 0}),Qre=(n,e)=>{var r=Zl(n,e);return r==null||typeof r.padding!="string"?0:t7(n,"xAxis",e,r.padding)},Zre=(n,e)=>{var r=Ac(n,e);return r==null||typeof r.padding!="string"?0:t7(n,"yAxis",e,r.padding)},Jre=Se(Zl,Qre,(n,e)=>{var r,i;if(n==null)return{left:0,right:0};var{padding:a}=n;return typeof a=="string"?{left:e,right:e}:{left:((r=a.left)!==null&&r!==void 0?r:0)+e,right:((i=a.right)!==null&&i!==void 0?i:0)+e}}),eie=Se(Ac,Zre,(n,e)=>{var r,i;if(n==null)return{top:0,bottom:0};var{padding:a}=n;return typeof a=="string"?{top:e,bottom:e}:{top:((r=a.top)!==null&&r!==void 0?r:0)+e,bottom:((i=a.bottom)!==null&&i!==void 0?i:0)+e}}),tie=Se([Qr,Jre,Q1,X1,(n,e,r)=>r],(n,e,r,i,a)=>{var{padding:o}=i;return a?[o.left,r.width-o.right]:[n.left+e.left,n.left+n.width-e.right]}),nie=Se([Qr,nn,eie,Q1,X1,(n,e,r)=>r],(n,e,r,i,a,o)=>{var{padding:s}=a;return o?[i.height-s.bottom,s.top]:e==="horizontal"?[n.top+n.height-r.bottom,n.top+r.top]:[n.top+r.top,n.top+n.height-r.bottom]}),wg=(n,e,r,i)=>{var a;switch(e){case"xAxis":return tie(n,r,i);case"yAxis":return nie(n,r,i);case"zAxis":return(a=aE(n,r))===null||a===void 0?void 0:a.range;case"angleAxis":return LM(n);case"radiusAxis":return DM(n,r);default:return}},n7=Se([Lr,wg],l2),jh=Se([Lr,Oh,Yre,n7],gE);Se([yg,h2,ir],HM);function r7(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var p2=(n,e)=>e,m2=(n,e,r)=>r,rie=Se(yS,p2,m2,(n,e,r)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===r).sort(r7)),iie=Se(wS,p2,m2,(n,e,r)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===r).sort(r7)),i7=(n,e)=>({width:n.width,height:e.height}),aie=(n,e)=>{var r=typeof e.width=="number"?e.width:Y1;return{width:r,height:n.height}},a7=Se(Qr,Zl,i7),oie=(n,e,r)=>{switch(e){case"top":return n.top;case"bottom":return r-n.bottom;default:return 0}},sie=(n,e,r)=>{switch(e){case"left":return n.left;case"right":return r-n.right;default:return 0}},lie=Se(Xl,Qr,rie,p2,m2,(n,e,r,i,a)=>{var o={},s;return r.forEach(l=>{var u=i7(e,l);s==null&&(s=oie(e,i,n));var c=i==="top"&&!a||i==="bottom"&&a;o[l.id]=s-Number(c)*u.height,s+=(c?-1:1)*u.height}),o}),uie=Se(Yl,Qr,iie,p2,m2,(n,e,r,i,a)=>{var o={},s;return r.forEach(l=>{var u=aie(e,l);s==null&&(s=sie(e,i,n));var c=i==="left"&&!a||i==="right"&&a;o[l.id]=s-Number(c)*u.width,s+=(c?-1:1)*u.width}),o}),cie=(n,e)=>{var r=Qr(n),i=Zl(n,e);if(i!=null){var a=lie(n,i.orientation,i.mirror),o=a[e];return o==null?{x:r.left,y:0}:{x:r.left,y:o}}},fie=(n,e)=>{var r=Qr(n),i=Ac(n,e);if(i!=null){var a=uie(n,i.orientation,i.mirror),o=a[e];return o==null?{x:0,y:r.top}:{x:o,y:r.top}}},o7=Se(Qr,Ac,(n,e)=>{var r=typeof e.width=="number"?e.width:Y1;return{width:r,height:n.height}}),sC=(n,e,r)=>{switch(e){case"xAxis":return a7(n,r).width;case"yAxis":return o7(n,r).height;default:return}},s7=(n,e,r,i)=>{if(r!=null){var{allowDuplicatedCategory:a,type:o,dataKey:s}=r,l=wc(n,i),u=e.map(c=>c.value);if(s&&l&&o==="category"&&a&&MD(u))return u}},bE=Se([nn,d2,Lr,ir],s7),l7=(n,e,r,i)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:o}=r,s=wc(n,i);if(s&&(a==="number"||o!=="auto"))return e.map(l=>l.value)}},_E=Se([nn,d2,vg,ir],l7),lC=Se([nn,Cre,Oh,jh,bE,_E,wg,yE,ir],(n,e,r,i,a,o,s,l,u)=>{if(e==null)return null;var c=wc(n,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:o,duplicateDomain:a,isCategorical:c,niceTicks:l,range:s,realScaleType:r,scale:i}}),die=(n,e,r,i,a,o,s,l,u)=>{if(!(e==null||i==null)){var c=wc(n,u),{type:f,ticks:d,tickCount:h}=e,p=r==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,y=f==="category"&&i.bandwidth?i.bandwidth()/p:0;y=u==="angleAxis"&&o!=null&&o.length>=2?ui(o[0]-o[1])*2*y:y;var w=d||a;if(w){var _=w.map((b,S)=>{var A=s?s.indexOf(b):b;return{index:S,coordinate:i(A)+y,value:b,offset:y}});return _.filter(b=>!to(b.coordinate))}return c&&l?l.map((b,S)=>({coordinate:i(b)+y,value:b,index:S,offset:y})):i.ticks?i.ticks(h).map(b=>({coordinate:i(b)+y,value:b,offset:y})):i.domain().map((b,S)=>({coordinate:i(b)+y,value:s?s[b]:b,index:S,offset:y}))}},u7=Se([nn,vg,Oh,jh,yE,wg,bE,_E,ir],die),hie=(n,e,r,i,a,o,s)=>{if(!(e==null||r==null||i==null||i[0]===i[1])){var l=wc(n,s),{tickCount:u}=e,c=0;return c=s==="angleAxis"&&(i==null?void 0:i.length)>=2?ui(i[0]-i[1])*2*c:c,l&&o?o.map((f,d)=>({coordinate:r(f)+c,value:f,index:d,offset:c})):r.ticks?r.ticks(u).map(f=>({coordinate:r(f)+c,value:f,offset:c})):r.domain().map((f,d)=>({coordinate:r(f)+c,value:a?a[f]:f,index:d,offset:c}))}},lc=Se([nn,vg,jh,wg,bE,_E,ir],hie),uc=Se(Lr,jh,(n,e)=>{if(!(n==null||e==null))return m0(m0({},n),{},{scale:e})}),pie=Se([Lr,Oh,mE,n7],gE);Se((n,e,r)=>aE(n,r),pie,(n,e)=>{if(!(n==null||e==null))return m0(m0({},n),{},{scale:e})});var mie=Se([nn,yS,wS],(n,e,r)=>{switch(n){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),c7=n=>n.options.defaultTooltipEventType,f7=n=>n.options.validateTooltipEventTypes;function d7(n,e,r){if(n==null)return e;var i=n?"axis":"item";return r==null?e:r.includes(i)?i:e}function xE(n,e){var r=c7(n),i=f7(n);return d7(e,r,i)}function gie(n){return it(e=>xE(e,n))}var h7=(n,e)=>{var r,i=Number(e);if(!(to(i)||e==null))return i>=0?n==null||(r=n[i])===null||r===void 0?void 0:r.value:void 0},vie=n=>n.tooltip.settings,Iu={active:!1,index:null,dataKey:void 0,coordinate:void 0},yie={itemInteraction:{click:Iu,hover:Iu},axisInteraction:{click:Iu,hover:Iu},keyboardInteraction:Iu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},p7=lo({name:"tooltip",initialState:yie,reducers:{addTooltipEntrySettings(n,e){n.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(n,e){var r=kl(n).tooltipItemPayloads.indexOf(e.payload);r>-1&&n.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:wie,removeTooltipEntrySettings:bie,setTooltipSettingsState:_ie,setActiveMouseOverItemIndex:m7,mouseLeaveItem:xie,mouseLeaveChart:g7,setActiveClickItemIndex:Aie,setMouseOverAxisIndex:v7,setMouseClickAxisIndex:Sie,setSyncInteraction:A_,setKeyboardInteraction:S_}=p7.actions,Eie=p7.reducer;function uC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function xv(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(r),!0).forEach(function(i){Pie(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Pie(n,e,r){return(e=Nie(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Nie(n){var e=kie(n,"string");return typeof e=="symbol"?e:e+""}function kie(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Tie(n,e,r){return e==="axis"?r==="click"?n.axisInteraction.click:n.axisInteraction.hover:r==="click"?n.itemInteraction.click:n.itemInteraction.hover}function Cie(n){return n.index!=null}var y7=(n,e,r,i)=>{if(e==null)return Iu;var a=Tie(n,e,r);if(a==null)return Iu;if(a.active)return a;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var o=n.settings.active===!0;if(Cie(a)){if(o)return xv(xv({},a),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return xv(xv({},Iu),{},{coordinate:a.coordinate})},AE=(n,e)=>{var r=n==null?void 0:n.index;if(r==null)return null;var i=Number(r);if(!io(i))return r;var a=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(a,Math.min(i,o)))},w7=(n,e,r,i,a,o,s,l)=>{if(!(o==null||l==null)){var u=s[0],c=u==null?void 0:l(u.positions,o);if(c!=null)return c;var f=a==null?void 0:a[Number(o)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(i.top+e)/2};default:return{x:(i.left+n)/2,y:f.coordinate}}}},b7=(n,e,r,i)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=n.itemInteraction.hover.dataKey:a=n.itemInteraction.click.dataKey,a==null&&i!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===a})},bg=n=>n.options.tooltipPayloadSearcher,Lh=n=>n.tooltip;function cC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function fC(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(r),!0).forEach(function(i){Iie(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Iie(n,e,r){return(e=Oie(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Oie(n){var e=jie(n,"string");return typeof e=="symbol"?e:e+""}function jie(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Lie(n,e){return n??e}var _7=(n,e,r,i,a,o,s)=>{if(!(e==null||o==null)){var{chartData:l,computedData:u,dataStartIndex:c,dataEndIndex:f}=r,d=[];return n.reduce((h,p)=>{var y,{dataDefinedOnItem:w,settings:_}=p,b=Lie(w,l),S=Array.isArray(b)?a8(b,c,f):b,A=(y=_==null?void 0:_.dataKey)!==null&&y!==void 0?y:i==null?void 0:i.dataKey,T=_==null?void 0:_.nameKey,B;if(i!=null&&i.dataKey&&Array.isArray(S)&&!Array.isArray(S[0])&&s==="axis"?B=FD(S,i.dataKey,a):B=o(S,e,u,T),Array.isArray(B))B.forEach(L=>{var I=fC(fC({},_),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});h.push(Jk({tooltipEntrySettings:I,dataKey:L.dataKey,payload:L.payload,value:In(L.payload,L.dataKey),name:L.name}))});else{var $;h.push(Jk({tooltipEntrySettings:_,dataKey:A,payload:B,value:In(B,A),name:($=In(B,T))!==null&&$!==void 0?$:_==null?void 0:_.name}))}return h},d)}},SE=Se([ei,nn,FM,ZS,Jr],e7),Die=Se([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),Rie=Se([Jr,Ch],oE),_g=Se([Die,ei,Rie],sE),Mie=Se([_g],n=>n.filter(c2)),Fie=Se([_g],lE),Dh=Se([Fie,xc],uE),Bie=Se([Mie,xc,ei],MM),EE=Se([Dh,ei,_g],fE),Uie=Se([ei],dE),$ie=Se([_g],n=>n.filter(c2)),Vie=Se([Bie,$ie,mg],zM),zie=Se([Vie,xc,Jr],qM),qie=Se([_g],UM),Wie=Se([Dh,ei,qie,h2,Jr],WM),Hie=Se([KM,Jr,Ch],Ih),Kie=Se([Hie,Jr],XM),Gie=Se([GM,Jr,Ch],Ih),Yie=Se([Gie,Jr],QM),Xie=Se([YM,Jr,Ch],Ih),Qie=Se([Xie,Jr],ZM),Zie=Se([Kie,Qie,Yie],g0),Jie=Se([ei,Uie,zie,Wie,Zie,nn,Jr],hE),x7=Se([ei,nn,Dh,EE,mg,Jr,Jie],pE),eae=Se([x7,ei,SE],vE),tae=Se([ei,x7,eae,Jr],wE),A7=n=>{var e=Jr(n),r=Ch(n),i=!1;return wg(n,e,r,i)},S7=Se([ei,A7],l2),E7=Se([ei,SE,tae,S7],gE),nae=Se([nn,EE,ei,Jr],s7),rae=Se([nn,EE,ei,Jr],l7),iae=(n,e,r,i,a,o,s,l)=>{if(e){var{type:u}=e,c=wc(n,l);if(i){var f=r==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,d=u==="category"&&i.bandwidth?i.bandwidth()/f:0;return d=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ui(a[0]-a[1])*2*d:d,c&&s?s.map((h,p)=>({coordinate:i(h)+d,value:h,index:p,offset:d})):i.domain().map((h,p)=>({coordinate:i(h)+d,value:o?o[h]:h,index:p,offset:d}))}}},Jl=Se([nn,ei,SE,E7,A7,nae,rae,Jr],iae),PE=Se([c7,f7,vie],(n,e,r)=>d7(r.shared,n,e)),P7=n=>n.tooltip.settings.trigger,NE=n=>n.tooltip.settings.defaultIndex,g2=Se([Lh,PE,P7,NE],y7),cc=Se([g2,Dh],AE),N7=Se([Jl,cc],h7),k7=Se([g2],n=>{if(n)return n.dataKey}),T7=Se([Lh,PE,P7,NE],b7),aae=Se([Yl,Xl,nn,Qr,Jl,NE,T7,bg],w7),oae=Se([g2,aae],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),sae=Se([g2],n=>n.active),lae=Se([T7,cc,xc,ei,N7,bg,PE],_7),uae=Se([lae],n=>{if(n!=null){var e=n.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function dC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function hC(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(r),!0).forEach(function(i){cae(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function cae(n,e,r){return(e=fae(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function fae(n){var e=dae(n,"string");return typeof e=="symbol"?e:e+""}function dae(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var hae=()=>it(ei),pae=()=>{var n=hae(),e=it(Jl),r=it(E7);return Lm(hC(hC({},n),{},{scale:r}),e)},mae=()=>it(ZS),kE=(n,e)=>e,C7=(n,e,r)=>r,TE=(n,e,r,i)=>i,gae=Se(Jl,n=>V1(n,e=>e.coordinate)),CE=Se([Lh,kE,C7,TE],y7),I7=Se([CE,Dh],AE),vae=(n,e,r)=>{if(e!=null){var i=Lh(n);return e==="axis"?r==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:r==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},O7=Se([Lh,kE,C7,TE],b7),v0=Se([Yl,Xl,nn,Qr,Jl,TE,O7,bg],w7),yae=Se([CE,v0],(n,e)=>{var r;return(r=n.coordinate)!==null&&r!==void 0?r:e}),j7=Se(Jl,I7,h7),wae=Se([O7,I7,xc,ei,j7,bg,kE],_7),bae=Se([CE],n=>({isActive:n.active,activeIndex:n.index})),_ae=(n,e,r,i,a,o,s,l)=>{if(!(!n||!e||!i||!a||!o)){var u=QZ(n.chartX,n.chartY,e,r,l);if(u){var c=JZ(u,e),f=FZ(c,s,o,i,a),d=ZZ(e,o,f,u);return{activeIndex:String(f),activeCoordinate:d}}}};function E_(){return E_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},E_.apply(null,arguments)}function pC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Av(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(r),!0).forEach(function(i){xae(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function xae(n,e,r){return(e=Aae(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Aae(n){var e=Sae(n,"string");return typeof e=="symbol"?e:e+""}function Sae(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Eae(n){var{coordinate:e,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:c}=n,f=e,d=r,h=i;if(!l||!f||c!=="ScatterChart"&&u!=="axis")return null;var p,y;if(c==="ScatterChart")p=f,y=XJ;else if(c==="BarChart")p=QJ(s,f,a,o),y=N8;else if(s==="radial"){var{cx:w,cy:_,radius:b,startAngle:S,endAngle:A}=k8(f);p={cx:w,cy:_,startAngle:S,endAngle:A,innerRadius:b,outerRadius:b},y=C8}else p={points:Cee(s,f,a)},y=SS;var T=typeof l=="object"&&"className"in l?l.className:void 0,B=Av(Av(Av(Av({stroke:"#ccc",pointerEvents:"none"},a),p),nr(l,!1)),{},{payload:d,payloadIndex:h,className:dn("recharts-tooltip-cursor",T)});return C.isValidElement(l)?C.cloneElement(l,B):C.createElement(y,B)}function Pae(n){var e=pae(),r=d8(),i=Z1(),a=mae();return C.createElement(Eae,E_({},n,{coordinate:n.coordinate,index:n.index,payload:n.payload,offset:r,layout:i,tooltipAxisBandSize:e,chartName:a}))}var L7=C.createContext(null),Nae=()=>C.useContext(L7),D7={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function a(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function o(u,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||u,h),y=r?r+c:c;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],p]:u._events[y].push(p):(u._events[y]=p,u._eventsCount++),u}function s(u,c){--u._eventsCount===0?u._events=new i:delete u._events[c]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)e.call(f,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c){var f=r?r+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,y=new Array(p);h<p;h++)y[h]=d[h].fn;return y},l.prototype.listenerCount=function(c){var f=r?r+c:c,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(c,f,d,h,p,y){var w=r?r+c:c;if(!this._events[w])return!1;var _=this._events[w],b=arguments.length,S,A;if(_.fn){switch(_.once&&this.removeListener(c,_.fn,void 0,!0),b){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,d),!0;case 4:return _.fn.call(_.context,f,d,h),!0;case 5:return _.fn.call(_.context,f,d,h,p),!0;case 6:return _.fn.call(_.context,f,d,h,p,y),!0}for(A=1,S=new Array(b-1);A<b;A++)S[A-1]=arguments[A];_.fn.apply(_.context,S)}else{var T=_.length,B;for(A=0;A<T;A++)switch(_[A].once&&this.removeListener(c,_[A].fn,void 0,!0),b){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,f);break;case 3:_[A].fn.call(_[A].context,f,d);break;case 4:_[A].fn.call(_[A].context,f,d,h);break;default:if(!S)for(B=1,S=new Array(b-1);B<b;B++)S[B-1]=arguments[B];_[A].fn.apply(_[A].context,S)}}return!0},l.prototype.on=function(c,f,d){return o(this,c,f,d,!1)},l.prototype.once=function(c,f,d){return o(this,c,f,d,!0)},l.prototype.removeListener=function(c,f,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===f&&(!h||y.once)&&(!d||y.context===d)&&s(this,p);else{for(var w=0,_=[],b=y.length;w<b;w++)(y[w].fn!==f||h&&!y[w].once||d&&y[w].context!==d)&&_.push(y[w]);_.length?this._events[p]=_.length===1?_[0]:_:s(this,p)}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&s(this,f)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,n.exports=l})(D7);var kae=D7.exports;const Tae=Xs(kae);var $m=new Tae,P_="recharts.syncEvent.tooltip",mC="recharts.syncEvent.brush";function IE(n,e){if(e){var r=Number.parseInt(e,10);if(!to(r))return n==null?void 0:n[r]}}var Cae={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},R7=lo({name:"options",initialState:Cae,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Iae=R7.reducer,{createEventEmitter:Oae}=R7.actions;function jae(n){return n.tooltip.syncInteraction}var Lae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},M7=lo({name:"chartData",initialState:Lae,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:r,endIndex:i}=e.payload;r!=null&&(n.dataStartIndex=r),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:gC,setDataStartEndIndexes:Dae,setComputedData:Zge}=M7.actions,Rae=M7.reducer,F7=()=>{};function Mae(){var n=it(JS),e=it(eE),r=cr(),i=it(IM),a=it(Jl),o=Z1(),s=bS(),l=it(u=>u.rootProps.className);C.useEffect(()=>{if(n==null)return F7;var u=(c,f,d)=>{if(e!==d&&n===c){if(i==="index"){r(f);return}if(a!=null){var h;if(typeof i=="function"){var p={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},y=i(a,p);h=a[y]}else i==="value"&&(h=a.find($=>String($.value)===f.payload.label));var{coordinate:w}=f.payload;if(h==null||f.payload.active===!1||w==null||s==null){r(A_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:b}=w,S=Math.min(_,s.x+s.width),A=Math.min(b,s.y+s.height),T={x:o==="horizontal"?h.coordinate:S,y:o==="horizontal"?A:h.coordinate},B=A_({active:f.payload.active,coordinate:T,dataKey:f.payload.dataKey,index:String(h.index),label:f.payload.label});r(B)}}};return $m.on(P_,u),()=>{$m.off(P_,u)}},[l,r,e,n,i,a,o,s])}function Fae(){var n=it(JS),e=it(eE),r=cr();C.useEffect(()=>{if(n==null)return F7;var i=(a,o,s)=>{e!==s&&n===a&&r(Dae(o))};return $m.on(mC,i),()=>{$m.off(mC,i)}},[r,e,n])}function Bae(){var n=cr();C.useEffect(()=>{n(Oae())},[n]),Mae(),Fae()}function Uae(n,e,r,i,a,o){var s=it(h=>vae(h,n,e)),l=it(eE),u=it(JS),c=it(IM),f=it(jae),d=f==null?void 0:f.active;C.useEffect(()=>{if(!d&&u!=null&&l!=null){var h=A_({active:o,coordinate:r,dataKey:s,index:a,label:typeof i=="number"?String(i):i});$m.emit(P_,u,h,l)}},[d,r,s,a,i,l,u,c,o])}function vC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function yC(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vC(Object(r),!0).forEach(function(i){$ae(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function $ae(n,e,r){return(e=Vae(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Vae(n){var e=zae(n,"string");return typeof e=="symbol"?e:e+""}function zae(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qae(n){return n.dataKey}function Wae(n,e){return C.isValidElement(n)?C.cloneElement(n,e):typeof n=="function"?C.createElement(n,e):C.createElement(kJ,e)}var wC=[],Hae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Bf.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Sv(n){var e=uo(n,Hae),{active:r,allowEscapeViewBox:i,animationDuration:a,animationEasing:o,content:s,filterNull:l,isAnimationActive:u,offset:c,payloadUniqBy:f,position:d,reverseDirection:h,useTranslate3d:p,wrapperStyle:y,cursor:w,shared:_,trigger:b,defaultIndex:S,portal:A,axisId:T}=e,B=cr(),$=typeof S=="number"?String(S):S;C.useEffect(()=>{B(_ie({shared:_,trigger:b,axisId:T,active:r,defaultIndex:$}))},[B,_,b,T,r,$]);var L=bS(),I=g8(),O=gie(_),{activeIndex:U,isActive:k}=it(ie=>bae(ie,O,b,$)),R=it(ie=>wae(ie,O,b,$)),j=it(ie=>j7(ie,O,b,$)),H=it(ie=>yae(ie,O,b,$)),oe=R,he=Nae(),ye=r??k,[re,ue]=jR([oe,ye]),ae=O==="axis"?j:void 0;Uae(O,b,H,ae,U,ye);var ne=A??he;if(ne==null)return null;var M=oe??wC;ye||(M=wC),l&&M.length&&(M=_R(oe.filter(ie=>ie.value!=null&&(ie.hide!==!0||e.includeHidden)),f,qae));var Y=M.length>0,Z=C.createElement(DJ,{allowEscapeViewBox:i,animationDuration:a,animationEasing:o,isAnimationActive:u,active:ye,coordinate:H,hasPayload:Y,offset:c,position:d,reverseDirection:h,useTranslate3d:p,viewBox:L,wrapperStyle:y,lastBoundingBox:re,innerRef:ue,hasPortalFromProps:!!A},Wae(s,yC(yC({},e),{},{payload:M,label:ae,active:ye,coordinate:H,accessibilityLayer:I})));return C.createElement(C.Fragment,null,Zm.createPortal(Z,ne),ye&&C.createElement(Pae,{cursor:w,tooltipEventType:O,coordinate:H,payload:oe,index:U}))}var B7={},U7={},$7={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r,i,{signal:a,edges:o}={}){let s,l=null;const u=o!=null&&o.includes("leading"),c=o==null||o.includes("trailing"),f=()=>{l!==null&&(r.apply(s,l),s=void 0,l=null)},d=()=>{c&&f(),w()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},i)},y=()=>{h!==null&&(clearTimeout(h),h=null)},w=()=>{y(),s=void 0,l=null},_=()=>{f()},b=function(...S){if(a!=null&&a.aborted)return;s=this,l=S;const A=h==null;p(),u&&A&&f()};return b.schedule=p,b.cancel=w,b.flush=_,a==null||a.addEventListener("abort",w,{once:!0}),b}n.debounce=e})($7);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=$7;function r(i,a=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:l=!0,maxWait:u}=o,c=Array(2);s&&(c[0]="leading"),l&&(c[1]="trailing");let f,d=null;const h=e.debounce(function(...w){f=i.apply(this,w),d=null},a,{edges:c}),p=function(...w){return u!=null&&(d===null&&(d=Date.now()),Date.now()-d>=u)?(f=i.apply(this,w),d=Date.now(),h.cancel(),h.schedule(),f):(h.apply(this,w),f)},y=()=>(h.flush(),f);return p.cancel=h.cancel,p.flush=y,p}n.debounce=r})(U7);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=U7;function r(i,a=0,o={}){const{leading:s=!0,trailing:l=!0}=o;return e.debounce(i,a,{leading:s,maxWait:a,trailing:l})}n.throttle=r})(B7);var Kae=B7.throttle;const Gae=Xs(Kae);var Kp=function(e,r){for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o]};function bC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Uw(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(r),!0).forEach(function(i){Yae(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Yae(n,e,r){return(e=Xae(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Xae(n){var e=Qae(n,"string");return typeof e=="symbol"?e:e+""}function Qae(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Ev=C.forwardRef((n,e)=>{var{aspect:r,initialDimension:i={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:s=0,minHeight:l,maxHeight:u,children:c,debounce:f=0,id:d,className:h,onResize:p,style:y={}}=n,w=C.useRef(null),_=C.useRef();_.current=p,C.useImperativeHandle(e,()=>w.current);var[b,S]=C.useState({containerWidth:i.width,containerHeight:i.height}),A=C.useCallback((B,$)=>{S(L=>{var I=Math.round(B),O=Math.round($);return L.containerWidth===I&&L.containerHeight===O?L:{containerWidth:I,containerHeight:O}})},[]);C.useEffect(()=>{var B=O=>{var U,{width:k,height:R}=O[0].contentRect;A(k,R),(U=_.current)===null||U===void 0||U.call(_,k,R)};f>0&&(B=Gae(B,f,{trailing:!0,leading:!1}));var $=new ResizeObserver(B),{width:L,height:I}=w.current.getBoundingClientRect();return A(L,I),$.observe(w.current),()=>{$.disconnect()}},[A,f]);var T=C.useMemo(()=>{var{containerWidth:B,containerHeight:$}=b;if(B<0||$<0)return null;Kp(Zc(a)||Zc(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,o),Kp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Zc(a)?B:a,I=Zc(o)?$:o;return r&&r>0&&(L?I=L/r:I&&(L=I*r),u&&I>u&&(I=u)),Kp(L>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,I,a,o,s,l,r),C.Children.map(c,O=>C.cloneElement(O,{width:L,height:I,style:Uw({width:L,height:I},O.props.style)}))},[r,c,o,u,l,s,b,a]);return C.createElement("div",{id:d?"".concat(d):void 0,className:dn("recharts-responsive-container",h),style:Uw(Uw({},y),{},{width:a,height:o,minWidth:s,minHeight:l,maxHeight:u}),ref:w},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},T))}),xg=n=>null;xg.displayName="Cell";function Zae(n,e,r){return(e=Jae(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Jae(n){var e=eoe(n,"string");return typeof e=="symbol"?e:e+""}function eoe(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class toe{constructor(e){Zae(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function _C(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function noe(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(r),!0).forEach(function(i){roe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function roe(n,e,r){return(e=ioe(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function ioe(n){var e=aoe(n,"string");return typeof e=="symbol"?e:e+""}function aoe(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var ooe={cacheSize:2e3,enableCache:!0},V7=noe({},ooe),xC=new toe(V7.cacheSize),soe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AC="recharts_measurement_span";function loe(n,e){var r=e.fontSize||"",i=e.fontFamily||"",a=e.fontWeight||"",o=e.fontStyle||"",s=e.letterSpacing||"",l=e.textTransform||"";return"".concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s,"|").concat(l)}var SC=(n,e)=>{try{var r=document.getElementById(AC);r||(r=document.createElement("span"),r.setAttribute("id",AC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,soe,e),r.textContent="".concat(n);var i=r.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},Gp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Bf.isSsr)return{width:0,height:0};if(!V7.enableCache)return SC(e,r);var i=loe(e,r),a=xC.get(i);if(a)return a;var o=SC(e,r);return xC.set(i,o),o},EC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uoe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,coe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,z7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},foe=Object.keys(z7),Ad="NaN";function doe(n,e){return n*z7[e]}class ma{static parse(e){var r,[,i,a]=(r=coe.exec(e))!==null&&r!==void 0?r:[];return new ma(parseFloat(i),a??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,to(e)&&(this.unit=""),r!==""&&!uoe.test(r)&&(this.num=NaN,this.unit=""),foe.includes(r)&&(this.num=doe(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new ma(NaN,""):new ma(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ma(NaN,""):new ma(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ma(NaN,""):new ma(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ma(NaN,""):new ma(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return to(this.num)}}function q7(n){if(n.includes(Ad))return Ad;for(var e=n;e.includes("*")||e.includes("/");){var r,[,i,a,o]=(r=EC.exec(e))!==null&&r!==void 0?r:[],s=ma.parse(i??""),l=ma.parse(o??""),u=a==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return Ad;e=e.replace(EC,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,f,d,h]=(c=PC.exec(e))!==null&&c!==void 0?c:[],p=ma.parse(f??""),y=ma.parse(h??""),w=d==="+"?p.add(y):p.subtract(y);if(w.isNaN())return Ad;e=e.replace(PC,w.toString())}return e}var NC=/\(([^()]*)\)/;function hoe(n){for(var e=n,r;(r=NC.exec(e))!=null;){var[,i]=r;e=e.replace(NC,q7(i))}return e}function poe(n){var e=n.replace(/\s+/g,"");return e=hoe(e),e=q7(e),e}function moe(n){try{return poe(n)}catch{return Ad}}function $w(n){var e=moe(n.slice(5,-1));return e===Ad?"":e}var goe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],voe=["dx","dy","angle","className","breakAll"];function N_(){return N_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},N_.apply(null,arguments)}function kC(n,e){if(n==null)return{};var r,i,a=yoe(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function yoe(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}var W7=/[ \f\n\r\t\v\u2028\u2029]+/,H7=n=>{var{children:e,breakAll:r,style:i}=n;try{var a=[];Yn(e)||(r?a=e.toString().split(""):a=e.toString().split(W7));var o=a.map(l=>({word:l,width:Gp(l,i).width})),s=r?0:Gp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},woe=(n,e,r,i,a)=>{var{maxLines:o,children:s,style:l,breakAll:u}=n,c=He(o),f=s,d=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k.reduce((R,j)=>{var{word:H,width:oe}=j,he=R[R.length-1];if(he&&(i==null||a||he.width+oe+r<Number(i)))he.words.push(H),he.width+=oe+r;else{var ye={words:[H],width:oe};R.push(ye)}return R},[])},h=d(e),p=U=>U.reduce((k,R)=>k.width>R.width?k:R);if(!c||a)return h;var y=h.length>o||p(h).width>Number(i);if(!y)return h;for(var w="",_=U=>{var k=f.slice(0,U),R=H7({breakAll:u,style:l,children:k+w}).wordsWithComputedWidth,j=d(R),H=j.length>o||p(j).width>Number(i);return[H,j]},b=0,S=f.length-1,A=0,T;b<=S&&A<=f.length-1;){var B=Math.floor((b+S)/2),$=B-1,[L,I]=_($),[O]=_(B);if(!L&&!O&&(b=B+1),L&&O&&(S=B-1),!L&&O){T=I;break}A++}return T||h},TC=n=>{var e=Yn(n)?[]:n.toString().split(W7);return[{words:e}]},boe=n=>{var{width:e,scaleToFit:r,children:i,style:a,breakAll:o,maxLines:s}=n;if((e||r)&&!Bf.isSsr){var l,u,c=H7({breakAll:o,children:i,style:a});if(c){var{wordsWithComputedWidth:f,spaceWidth:d}=c;l=f,u=d}else return TC(i);return woe({breakAll:o,children:i,maxLines:s,style:a},l,u,e,r)}return TC(i)},CC="#808080",v2=C.forwardRef((n,e)=>{var{x:r=0,y:i=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:u="end",fill:c=CC}=n,f=kC(n,goe),d=C.useMemo(()=>boe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:s,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,s,f.style,f.width]),{dx:h,dy:p,angle:y,className:w,breakAll:_}=f,b=kC(f,voe);if(!Gs(r)||!Gs(i))return null;var S=r+(He(h)?h:0),A=i+(He(p)?p:0),T;switch(u){case"start":T=$w("calc(".concat(o,")"));break;case"middle":T=$w("calc(".concat((d.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:T=$w("calc(".concat(d.length-1," * -").concat(a,")"));break}var B=[];if(s){var $=d[0].width,{width:L}=f;B.push("scale(".concat(He(L)?L/$:1,")"))}return y&&B.push("rotate(".concat(y,", ").concat(S,", ").concat(A,")")),B.length&&(b.transform=B.join(" ")),C.createElement("text",N_({},nr(b,!0),{ref:e,x:S,y:A,className:dn("recharts-text",w),textAnchor:l,fill:c.includes("url")?CC:c}),d.map((I,O)=>{var U=I.words.join(_?"":" ");return C.createElement("tspan",{x:S,dy:O===0?T:a,key:"".concat(U,"-").concat(O)},U)}))});v2.displayName="Text";var _oe=["offset"],xoe=["labelRef"];function IC(n,e){if(n==null)return{};var r,i,a=Aoe(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function Aoe(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}function OC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function pr(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(r),!0).forEach(function(i){Soe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Soe(n,e,r){return(e=Eoe(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Eoe(n){var e=Poe(n,"string");return typeof e=="symbol"?e:e+""}function Poe(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bl(){return bl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},bl.apply(null,arguments)}var Noe=n=>{var{value:e,formatter:r}=n,i=Yn(n.children)?e:n.children;return typeof r=="function"?r(i):i},OE=n=>n!=null&&typeof n=="function",koe=(n,e)=>{var r=ui(e-n),i=Math.min(Math.abs(e-n),360);return r*i},Toe=(n,e,r,i)=>{var{position:a,offset:o,className:s}=n,{cx:l,cy:u,innerRadius:c,outerRadius:f,startAngle:d,endAngle:h,clockWise:p}=i,y=(c+f)/2,w=koe(d,h),_=w>=0?1:-1,b,S;a==="insideStart"?(b=d+_*o,S=p):a==="insideEnd"?(b=h-_*o,S=!p):a==="end"&&(b=h+_*o,S=p),S=w<=0?S:!S;var A=$r(l,u,y,b),T=$r(l,u,y,b+(S?1:-1)*359),B="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(T.x,",").concat(T.y),$=Yn(n.id)?Im("recharts-radial-line-"):n.id;return C.createElement("text",bl({},r,{dominantBaseline:"central",className:dn("recharts-radial-bar-label",s)}),C.createElement("defs",null,C.createElement("path",{id:$,d:B})),C.createElement("textPath",{xlinkHref:"#".concat($)},e))},Coe=(n,e,r)=>{var{cx:i,cy:a,innerRadius:o,outerRadius:s,startAngle:l,endAngle:u}=n,c=(l+u)/2;if(r==="outside"){var{x:f,y:d}=$r(i,a,s+e,c);return{x:f,y:d,textAnchor:f>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(o+s)/2,{x:p,y}=$r(i,a,h,c);return{x:p,y,textAnchor:"middle",verticalAnchor:"middle"}},Ioe=(n,e)=>{var{parentViewBox:r,offset:i,position:a}=n,{x:o,y:s,width:l,height:u}=e,c=u>=0?1:-1,f=c*i,d=c>0?"end":"start",h=c>0?"start":"end",p=l>=0?1:-1,y=p*i,w=p>0?"end":"start",_=p>0?"start":"end";if(a==="top"){var b={x:o+l/2,y:s-c*i,textAnchor:"middle",verticalAnchor:d};return pr(pr({},b),r?{height:Math.max(s-r.y,0),width:l}:{})}if(a==="bottom"){var S={x:o+l/2,y:s+u+f,textAnchor:"middle",verticalAnchor:h};return pr(pr({},S),r?{height:Math.max(r.y+r.height-(s+u),0),width:l}:{})}if(a==="left"){var A={x:o-y,y:s+u/2,textAnchor:w,verticalAnchor:"middle"};return pr(pr({},A),r?{width:Math.max(A.x-r.x,0),height:u}:{})}if(a==="right"){var T={x:o+l+y,y:s+u/2,textAnchor:_,verticalAnchor:"middle"};return pr(pr({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:u}:{})}var B=r?{width:l,height:u}:{};return a==="insideLeft"?pr({x:o+y,y:s+u/2,textAnchor:_,verticalAnchor:"middle"},B):a==="insideRight"?pr({x:o+l-y,y:s+u/2,textAnchor:w,verticalAnchor:"middle"},B):a==="insideTop"?pr({x:o+l/2,y:s+f,textAnchor:"middle",verticalAnchor:h},B):a==="insideBottom"?pr({x:o+l/2,y:s+u-f,textAnchor:"middle",verticalAnchor:d},B):a==="insideTopLeft"?pr({x:o+y,y:s+f,textAnchor:_,verticalAnchor:h},B):a==="insideTopRight"?pr({x:o+l-y,y:s+f,textAnchor:w,verticalAnchor:h},B):a==="insideBottomLeft"?pr({x:o+y,y:s+u-f,textAnchor:_,verticalAnchor:d},B):a==="insideBottomRight"?pr({x:o+l-y,y:s+u-f,textAnchor:w,verticalAnchor:d},B):a&&typeof a=="object"&&(He(a.x)||Zc(a.x))&&(He(a.y)||Zc(a.y))?pr({x:o+ia(a.x,l),y:s+ia(a.y,u),textAnchor:"end",verticalAnchor:"end"},B):pr({x:o+l/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Ooe=n=>"cx"in n&&He(n.cx);function Ha(n){var{offset:e=5}=n,r=IC(n,_oe),i=pr({offset:e},r),{viewBox:a,position:o,value:s,children:l,content:u,className:c="",textBreakAll:f,labelRef:d}=i,h=it(RM),p=bS(),y=o==="center"?p:h??p,w=a||y;if(!w||Yn(s)&&Yn(l)&&!C.isValidElement(u)&&typeof u!="function")return null;var _=pr(pr({},i),{},{viewBox:w});if(C.isValidElement(u)){var{labelRef:b}=_,S=IC(_,xoe);return C.cloneElement(u,S)}var A;if(typeof u=="function"){if(A=C.createElement(u,_),C.isValidElement(A))return A}else A=Noe(i);var T=Ooe(w),B=nr(i,!0);if(T&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Toe(i,A,B,w);var $=T?Coe(w,i.offset,i.position):Ioe(i,w);return C.createElement(v2,bl({ref:d,className:dn("recharts-label",c)},B,$,{breakAll:f}),A)}Ha.displayName="Label";var K7=n=>{var{cx:e,cy:r,angle:i,startAngle:a,endAngle:o,r:s,radius:l,innerRadius:u,outerRadius:c,x:f,y:d,top:h,left:p,width:y,height:w,clockWise:_,labelViewBox:b}=n;if(b)return b;if(He(y)&&He(w)){if(He(f)&&He(d))return{x:f,y:d,width:y,height:w};if(He(h)&&He(p))return{x:h,y:p,width:y,height:w}}if(He(f)&&He(d))return{x:f,y:d,width:0,height:0};if(He(e)&&He(r))return{cx:e,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:_};if(n.viewBox)return n.viewBox},joe=(n,e,r)=>{if(!n)return null;var i={viewBox:e,labelRef:r};return n===!0?C.createElement(Ha,bl({key:"label-implicit"},i)):Gs(n)?C.createElement(Ha,bl({key:"label-implicit",value:n},i)):C.isValidElement(n)?n.type===Ha?C.cloneElement(n,pr({key:"label-implicit"},i)):C.createElement(Ha,bl({key:"label-implicit",content:n},i)):OE(n)?C.createElement(Ha,bl({key:"label-implicit",content:n},i)):n&&typeof n=="object"?C.createElement(Ha,bl({},n,{key:"label-implicit"},i)):null},Loe=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&i&&!e.label)return null;var{children:a,labelRef:o}=e,s=K7(e),l=ug(a,Ha).map((c,f)=>C.cloneElement(c,{viewBox:r||s,key:"label-".concat(f)}));if(!i)return l;var u=joe(e.label,r||s,o);return[u,...l]};Ha.parseViewBox=K7;Ha.renderCallByParent=Loe;var G7={},Y7={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}n.last=e})(Y7);var X7={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}n.toArray=e})(X7);(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Y7,r=X7,i=M1;function a(o){if(i.isArrayLike(o))return e.last(r.toArray(o))}n.last=a})(G7);var Doe=G7.last;const Roe=Xs(Doe);var Moe=["valueAccessor"],Foe=["data","dataKey","clockWise","id","textBreakAll"];function y0(){return y0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},y0.apply(null,arguments)}function jC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function LC(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(r),!0).forEach(function(i){Boe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Boe(n,e,r){return(e=Uoe(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Uoe(n){var e=$oe(n,"string");return typeof e=="symbol"?e:e+""}function $oe(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function DC(n,e){if(n==null)return{};var r,i,a=Voe(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function Voe(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}var zoe=n=>Array.isArray(n.value)?Roe(n.value):n.value;function ec(n){var{valueAccessor:e=zoe}=n,r=DC(n,Moe),{data:i,dataKey:a,clockWise:o,id:s,textBreakAll:l}=r,u=DC(r,Foe);return!i||!i.length?null:C.createElement(Hi,{className:"recharts-label-list"},i.map((c,f)=>{var d=Yn(a)?e(c,f):In(c&&c.payload,a),h=Yn(s)?{}:{id:"".concat(s,"-").concat(f)};return C.createElement(Ha,y0({},nr(c,!0),u,h,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:Ha.parseViewBox(Yn(o)?c:LC(LC({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ec.displayName="LabelList";function qoe(n,e){return n?n===!0?C.createElement(ec,{key:"labelList-implicit",data:e}):C.isValidElement(n)||OE(n)?C.createElement(ec,{key:"labelList-implicit",data:e,content:n}):typeof n=="object"?C.createElement(ec,y0({data:e},n,{key:"labelList-implicit"})):null:null}function Woe(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&r&&!n.label)return null;var{children:i}=n,a=ug(i,ec).map((s,l)=>C.cloneElement(s,{data:e,key:"labelList-".concat(l)}));if(!r)return a;var o=qoe(n.label,e);return[o,...a]}ec.renderCallByParent=Woe;function k_(){return k_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},k_.apply(null,arguments)}var Q7=n=>{var{cx:e,cy:r,r:i,className:a}=n,o=dn("recharts-dot",a);return e===+e&&r===+r&&i===+i?C.createElement("circle",k_({},Gl(n),YA(n),{className:o,cx:e,cy:r,r:i})):null},Z7=n=>n.graphicalItems.polarItems,Hoe=Se([ir,gg],oE),jE=Se([Z7,Lr,Hoe],sE),Koe=Se([jE],lE),LE=Se([Koe,YS],uE),Goe=Se([LE,Lr,jE],fE),Yoe=Se([LE,Lr,jE],(n,e,r)=>r.length>0?n.flatMap(i=>r.flatMap(a=>{var o,s=In(i,(o=e.dataKey)!==null&&o!==void 0?o:a.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?n.map(i=>({value:In(i,e.dataKey),errorDomain:[]})):n.map(i=>({value:i,errorDomain:[]}))),RC=()=>{},Xoe=Se([Lr,JM,RC,Yoe,RC,nn,ir],hE),J7=Se([Lr,nn,LE,Goe,mg,ir,Xoe],pE),Qoe=Se([J7,Lr,Oh],vE);Se([Lr,J7,Qoe,ir],wE);var Zoe={radiusAxis:{},angleAxis:{}},eF=lo({name:"polarAxis",initialState:Zoe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:Jge,removeRadiusAxis:eve,addAngleAxis:tve,removeAngleAxis:nve}=eF.actions,Joe=eF.reducer;function MC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function FC(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(r),!0).forEach(function(i){ese(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function ese(n,e,r){return(e=tse(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function tse(n){var e=nse(n,"string");return typeof e=="symbol"?e:e+""}function nse(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var rse=(n,e)=>e,DE=Se([Z7,rse],(n,e)=>n.filter(r=>r.type==="pie").find(r=>r.id===e)),ise=[],RE=(n,e,r)=>(r==null?void 0:r.length)===0?ise:r,tF=Se([YS,DE,RE],(n,e,r)=>{var{chartData:i}=n;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=i,(!a||!a.length)&&r!=null&&(a=r.map(o=>FC(FC({},e.presentationProps),o.props))),a!=null)return a}}),ase=Se([tF,DE,RE],(n,e,r)=>{if(!(n==null||e==null))return n.map((i,a)=>{var o,s=In(i,e.nameKey,e.name),l;return r!=null&&(o=r[a])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?l=r[a].props.fill:typeof i=="object"&&i!=null&&"fill"in i?l=i.fill:l=e.fill,{value:Ph(s,e.dataKey),color:l,payload:i,type:e.legendType}})}),ose=Se([tF,DE,RE,Qr],(n,e,r,i)=>{if(!(e==null||n==null))return Qse({offset:i,pieSettings:e,displayedData:n,cells:r})}),nF={};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const o=r[Symbol.toStringTag];return o==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${o}]`}let i=r;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(r)===i}n.isPlainObject=e})(nF);var sse=nF.isPlainObject;const lse=Xs(sse);function w0(){return w0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},w0.apply(null,arguments)}var BC=(n,e,r,i,a)=>{var o=r-i,s;return s="M ".concat(n,",").concat(e),s+="L ".concat(n+r,",").concat(e),s+="L ".concat(n+r-o/2,",").concat(e+a),s+="L ".concat(n+r-o/2-i,",").concat(e+a),s+="L ".concat(n,",").concat(e," Z"),s},use={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cse=n=>{var e=uo(n,use),r=C.useRef(),[i,a]=C.useState(-1);C.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&a(_)}catch{}},[]);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:c,className:f}=e,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:y}=e;if(o!==+o||s!==+s||l!==+l||u!==+u||c!==+c||l===0&&u===0||c===0)return null;var w=dn("recharts-trapezoid",f);return y?C.createElement(r0,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:c,x:o,y:s},to:{upperWidth:l,lowerWidth:u,height:c,x:o,y:s},duration:h,animationEasing:d,isActive:y},_=>{var{upperWidth:b,lowerWidth:S,height:A,x:T,y:B}=_;return C.createElement(r0,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:d},C.createElement("path",w0({},nr(e,!0),{className:w,d:BC(T,B,b,S,A),ref:r})))}):C.createElement("g",null,C.createElement("path",w0({},nr(e,!0),{className:w,d:BC(o,s,l,u,c)})))},fse=["option","shapeType","propTransformer","activeClassName","isActive"];function dse(n,e){if(n==null)return{};var r,i,a=hse(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function hse(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}function UC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function b0(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(r),!0).forEach(function(i){pse(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function pse(n,e,r){return(e=mse(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function mse(n){var e=gse(n,"string");return typeof e=="symbol"?e:e+""}function gse(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vse(n,e){return b0(b0({},e),n)}function yse(n,e){return n==="symbols"}function $C(n){var{shapeType:e,elementProps:r}=n;switch(e){case"rectangle":return C.createElement(N8,r);case"trapezoid":return C.createElement(cse,r);case"sector":return C.createElement(C8,r);case"symbols":if(yse(e))return C.createElement(eS,r);break;default:return null}}function wse(n){return C.isValidElement(n)?n.props:n}function rF(n){var{option:e,shapeType:r,propTransformer:i=vse,activeClassName:a="recharts-active-shape",isActive:o}=n,s=dse(n,fse),l;if(C.isValidElement(e))l=C.cloneElement(e,b0(b0({},s),wse(e)));else if(typeof e=="function")l=e(s);else if(lse(e)&&typeof e!="boolean"){var u=i(e,s);l=C.createElement($C,{shapeType:r,elementProps:u})}else{var c=s;l=C.createElement($C,{shapeType:r,elementProps:c})}return o?C.createElement(Hi,{className:a},l):l}var ME=(n,e)=>{var r=cr();return(i,a)=>o=>{n==null||n(i,a,o),r(m7({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition}))}},FE=n=>{var e=cr();return(r,i)=>a=>{n==null||n(r,i,a),e(xie())}},BE=(n,e)=>{var r=cr();return(i,a)=>o=>{n==null||n(i,a,o),r(Aie({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition}))}};function UE(n){var{fn:e,args:r}=n,i=cr(),a=Pa();return C.useEffect(()=>{if(!a){var o=e(r);return i(wie(o)),()=>{i(bie(o))}}},[e,r,i,a]),null}var iF=()=>{};function aF(n){var{legendPayload:e}=n,r=cr(),i=Pa();return C.useEffect(()=>i?iF:(r(p8(e)),()=>{r(m8(e))}),[r,i,e]),null}function bse(n){var{legendPayload:e}=n,r=cr(),i=it(nn);return C.useEffect(()=>i!=="centric"&&i!=="radial"?iF:(r(p8(e)),()=>{r(m8(e))}),[r,i,e]),null}function $E(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=C.useRef(Im(e)),i=C.useRef(n);return i.current!==n&&(r.current=Im(e),i.current=n),r.current}var Vw,_se=()=>{var[n]=C.useState(()=>Im("uid-"));return n},xse=(Vw=aO.useId)!==null&&Vw!==void 0?Vw:_se;function Ase(n,e){var r=xse();return e||(n?"".concat(n,"-").concat(r):r)}var Sse=C.createContext(void 0),VE=n=>{var{id:e,type:r,children:i}=n,a=Ase("recharts-".concat(r),e);return C.createElement(Sse.Provider,{value:a},i(a))},Ese={cartesianItems:[],polarItems:[]},oF=lo({name:"graphicalItems",initialState:Ese,reducers:{addCartesianGraphicalItem(n,e){n.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(n,e){var{prev:r,next:i}=e.payload,a=kl(n).cartesianItems.indexOf(r);a>-1&&(n.cartesianItems[a]=i)},removeCartesianGraphicalItem(n,e){var r=kl(n).cartesianItems.indexOf(e.payload);r>-1&&n.cartesianItems.splice(r,1)},addPolarGraphicalItem(n,e){n.polarItems.push(e.payload)},removePolarGraphicalItem(n,e){var r=kl(n).polarItems.indexOf(e.payload);r>-1&&n.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Pse,replaceCartesianGraphicalItem:Nse,removeCartesianGraphicalItem:kse,addPolarGraphicalItem:Tse,removePolarGraphicalItem:Cse}=oF.actions,Ise=oF.reducer;function sF(n){var e=cr(),r=C.useRef(null);return C.useEffect(()=>{r.current===null?e(Pse(n)):r.current!==n&&e(Nse({prev:r.current,next:n})),r.current=n},[e,n]),C.useEffect(()=>()=>{r.current&&(e(kse(r.current)),r.current=null)},[e]),null}function Ose(n){var e=cr();return C.useEffect(()=>(e(Tse(n)),()=>{e(Cse(n))}),[e,n]),null}function jse(){}var Lse={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},VC={t:0},zw={t:1};function zE(n){var e=uo(n,Lse),{isActive:r,canBegin:i,duration:a,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:u,children:c}=e,f=P8("JavascriptAnimate",e.animationManager),[d,h]=C.useState(r?VC:zw),p=C.useRef(null);return C.useEffect(()=>{r||h(zw)},[r]),C.useEffect(()=>{if(!r||!i)return jse;var y=E8(VC,zw,A8(o),a,h,f.getTimeoutController()),w=()=>{p.current=y()};return f.start([u,s,w,a,l]),()=>{f.stop(),p.current&&p.current(),l()}},[r,i,a,o,s,u,l,f]),c(d.t)}var Dse=["onMouseEnter","onClick","onMouseLeave"],Rse=["id"],Mse=["id"];function qE(n,e){if(n==null)return{};var r,i,a=Fse(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function Fse(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}function zC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function vr(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(r),!0).forEach(function(i){Bse(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Bse(n,e,r){return(e=Use(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Use(n){var e=$se(n,"string");return typeof e=="symbol"?e:e+""}function $se(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zl(){return zl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},zl.apply(null,arguments)}function Vse(n){var e=C.useMemo(()=>ug(n.children,xg),[n.children]),r=it(i=>ase(i,n.id,e));return r==null?null:C.createElement(bse,{legendPayload:r})}function zse(n){var{dataKey:e,nameKey:r,sectors:i,stroke:a,strokeWidth:o,fill:s,name:l,hide:u,tooltipType:c}=n;return{dataDefinedOnItem:i==null?void 0:i.map(f=>f.tooltipPayload),positions:i==null?void 0:i.map(f=>f.tooltipPosition),settings:{stroke:a,strokeWidth:o,fill:s,dataKey:e,nameKey:r,name:Ph(l,e),hide:u,type:c,color:s,unit:""}}}var qse=(n,e)=>n>e?"start":n<e?"end":"middle",Wse=(n,e,r)=>typeof e=="function"?e(n):ia(e,r,r*.8),Hse=(n,e,r)=>{var{top:i,left:a,width:o,height:s}=e,l=i8(o,s),u=a+ia(n.cx,o,o/2),c=i+ia(n.cy,s,s/2),f=ia(n.innerRadius,l,0),d=Wse(r,n.outerRadius,l),h=n.maxRadius||Math.sqrt(o*o+s*s)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:d,maxRadius:h}},Kse=(n,e)=>{var r=ui(e-n),i=Math.min(Math.abs(e-n),360);return r*i},Gse=(n,e)=>{if(C.isValidElement(n))return C.cloneElement(n,e);if(typeof n=="function")return n(e);var r=dn("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return C.createElement(SS,zl({},e,{type:"linear",className:r}))},Yse=(n,e,r)=>{if(C.isValidElement(n))return C.cloneElement(n,e);var i=r;if(typeof n=="function"&&(i=n(e),C.isValidElement(i)))return i;var a=dn("recharts-pie-label-text",typeof n!="boolean"&&typeof n!="function"?n.className:"");return C.createElement(v2,zl({},e,{alignmentBaseline:"middle",className:a}),i)};function Xse(n){var{sectors:e,props:r,showLabels:i}=n,{label:a,labelLine:o,dataKey:s}=r;if(!i||!a||!e)return null;var l=Gl(r),u=nr(a,!1),c=nr(o,!1),f=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,d=e.map((h,p)=>{var y=(h.startAngle+h.endAngle)/2,w=$r(h.cx,h.cy,h.outerRadius+f,y),_=vr(vr(vr(vr({},l),h),{},{stroke:"none"},u),{},{index:p,textAnchor:qse(w.x,h.cx)},w),b=vr(vr(vr(vr({},l),h),{},{fill:"none",stroke:h.fill},c),{},{index:p,points:[$r(h.cx,h.cy,h.outerRadius,y),w],key:"line"});return C.createElement(Hi,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},o&&Gse(o,b),Yse(a,_,In(h,s)))});return C.createElement(Hi,{className:"recharts-pie-labels"},d)}function lF(n){var{sectors:e,activeShape:r,inactiveShape:i,allOtherPieProps:a,showLabels:o}=n,s=it(cc),{onMouseEnter:l,onClick:u,onMouseLeave:c}=a,f=qE(a,Dse),d=ME(l,a.dataKey),h=FE(c),p=BE(u,a.dataKey);return e==null?null:C.createElement(C.Fragment,null,e.map((y,w)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&e.length!==1)return null;var _=r&&String(w)===s,b=s?i:null,S=_?r:b,A=vr(vr({},y),{},{stroke:y.stroke,tabIndex:-1,[u8]:w,[c8]:a.dataKey});return C.createElement(Hi,zl({tabIndex:-1,className:"recharts-pie-sector"},lg(f,y,w),{onMouseEnter:d(y,w),onMouseLeave:h(y,w),onClick:p(y,w),key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(w)}),C.createElement(rF,zl({option:S,isActive:_,shapeType:"sector"},A)))}),C.createElement(Xse,{sectors:e,props:a,showLabels:o}))}function Qse(n){var e,{pieSettings:r,displayedData:i,cells:a,offset:o}=n,{cornerRadius:s,startAngle:l,endAngle:u,dataKey:c,nameKey:f,tooltipType:d}=r,h=Math.abs(r.minAngle),p=Kse(l,u),y=Math.abs(p),w=i.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,_=i.filter($=>In($,c,0)!==0).length,b=(y>=360?_:_-1)*w,S=y-_*h-b,A=i.reduce(($,L)=>{var I=In(L,c,0);return $+(He(I)?I:0)},0),T;if(A>0){var B;T=i.map(($,L)=>{var I=In($,c,0),O=In($,f,L),U=Hse(r,o,$),k=(He(I)?I:0)/A,R,j=vr(vr({},$),a&&a[L]&&a[L].props);L?R=B.endAngle+ui(p)*w*(I!==0?1:0):R=l;var H=R+ui(p)*((I!==0?h:0)+k*S),oe=(R+H)/2,he=(U.innerRadius+U.outerRadius)/2,ye=[{name:O,value:I,payload:j,dataKey:c,type:d}],re=$r(U.cx,U.cy,he,oe);return B=vr(vr(vr(vr({},r.presentationProps),{},{percent:k,cornerRadius:s,name:O,tooltipPayload:ye,midAngle:oe,middleRadius:he,tooltipPosition:re},j),U),{},{value:In($,c),startAngle:R,endAngle:H,payload:j,paddingAngle:ui(p)*w}),B})}return T}function Zse(n){var{props:e,previousSectorsRef:r}=n,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:f,onAnimationEnd:d}=e,h=$E(e,"recharts-pie-"),p=r.current,[y,w]=C.useState(!0),_=C.useCallback(()=>{typeof d=="function"&&d(),w(!1)},[d]),b=C.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return C.createElement(zE,{begin:o,duration:s,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:_,key:h},S=>{var A=[],T=i&&i[0],B=T.startAngle;return i.forEach(($,L)=>{var I=p&&p[L],O=L>0?sc($,"paddingAngle",0):0;if(I){var U=yk(I.endAngle-I.startAngle,$.endAngle-$.startAngle),k=vr(vr({},$),{},{startAngle:B+O,endAngle:B+U(S)+O});A.push(k),B=k.endAngle}else{var{endAngle:R,startAngle:j}=$,H=yk(0,R-j),oe=H(S),he=vr(vr({},$),{},{startAngle:B+O,endAngle:B+oe+O});A.push(he),B=he.endAngle}}),r.current=A,C.createElement(Hi,null,C.createElement(lF,{sectors:A,activeShape:u,inactiveShape:c,allOtherPieProps:e,showLabels:!y}))})}function Jse(n){var{sectors:e,isAnimationActive:r,activeShape:i,inactiveShape:a}=n,o=C.useRef(null),s=o.current;return r&&e&&e.length&&(!s||s!==e)?C.createElement(Zse,{props:n,previousSectorsRef:o}):C.createElement(lF,{sectors:e,activeShape:i,inactiveShape:a,allOtherPieProps:n,showLabels:!0})}function ele(n){var{hide:e,className:r,rootTabIndex:i}=n,a=dn("recharts-pie",r);return e?null:C.createElement(Hi,{tabIndex:i,className:a},C.createElement(Jse,n))}var tle={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Bf.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function nle(n){var{id:e}=n,r=qE(n,Rse),i=C.useMemo(()=>ug(n.children,xg),[n.children]),a=it(o=>ose(o,e,i));return C.createElement(C.Fragment,null,C.createElement(UE,{fn:zse,args:vr(vr({},n),{},{sectors:a})}),C.createElement(ele,zl({},r,{sectors:a})))}function uF(n){var e=uo(n,tle),{id:r}=e,i=qE(e,Mse),a=Gl(i);return C.createElement(VE,{id:r,type:"pie"},o=>C.createElement(C.Fragment,null,C.createElement(Ose,{type:"pie",id:o,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:a}),C.createElement(Vse,zl({},i,{id:o})),C.createElement(nle,zl({},i,{id:o})),i.children))}uF.displayName="Pie";var rle=Se([Qr],n=>{if(n)return{top:n.top,bottom:n.bottom,left:n.left,right:n.right}}),ile=Se([rle,Yl,Xl],(n,e,r)=>{if(!(!n||e==null||r==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,r-n.top-n.bottom)}}),WE=()=>it(ile),ale=()=>it(uae);function qC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function WC(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(r),!0).forEach(function(i){ole(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function ole(n,e,r){return(e=sle(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function sle(n){var e=lle(n,"string");return typeof e=="symbol"?e:e+""}function lle(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var ule=n=>{var{point:e,childIndex:r,mainColor:i,activeDot:a,dataKey:o}=n;if(a===!1||e.x==null||e.y==null)return null;var s=WC(WC({index:r,dataKey:o,cx:e.x,cy:e.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},nr(a,!1)),YA(a)),l;return C.isValidElement(a)?l=C.cloneElement(a,s):typeof a=="function"?l=a(s):l=C.createElement(Q7,s),C.createElement(Hi,{className:"recharts-active-dot"},l)};function cle(n){var{points:e,mainColor:r,activeDot:i,itemDataKey:a}=n,o=it(cc),s=ale();if(e==null||s==null)return null;var l=e.find(u=>s.includes(u.payload));return Yn(l)?null:ule({point:l,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:i})}var fle="Invariant failed";function dle(n,e){throw new Error(fle)}var hle=["x","y"];function T_(){return T_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},T_.apply(null,arguments)}function HC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function yp(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(r),!0).forEach(function(i){ple(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function ple(n,e,r){return(e=mle(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function mle(n){var e=gle(n,"string");return typeof e=="symbol"?e:e+""}function gle(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vle(n,e){if(n==null)return{};var r,i,a=yle(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function yle(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}function wle(n,e){var{x:r,y:i}=n,a=vle(n,hle),o="".concat(r),s=parseInt(o,10),l="".concat(i),u=parseInt(l,10),c="".concat(e.height||a.height),f=parseInt(c,10),d="".concat(e.width||a.width),h=parseInt(d,10);return yp(yp(yp(yp(yp({},e),a),s?{x:s}:{}),u?{y:u}:{}),{},{height:f,width:h,name:e.name,radius:e.radius})}function cF(n){return C.createElement(rF,T_({shapeType:"rectangle",propTransformer:wle,activeClassName:"recharts-active-bar"},n))}var ble=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,a)=>{if(He(e))return e;var o=He(i)||Yn(i);return o?e(i,a):(o||dle(),r)}},_le={},fF=lo({name:"errorBars",initialState:_le,reducers:{addErrorBar:(n,e)=>{var{itemId:r,errorBar:i}=e.payload;n[r]||(n[r]=[]),n[r].push(i)},removeErrorBar:(n,e)=>{var{itemId:r,errorBar:i}=e.payload;n[r]&&(n[r]=n[r].filter(a=>a.dataKey!==i.dataKey||a.direction!==i.direction))}}}),{addErrorBar:rve,removeErrorBar:ive}=fF.actions,xle=fF.reducer,Ale=["children"];function Sle(n,e){if(n==null)return{};var r,i,a=Ele(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function Ele(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}var Ple={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Nle=C.createContext(Ple);function dF(n){var{children:e}=n,r=Sle(n,Ale);return C.createElement(Nle.Provider,{value:r},e)}function HE(n,e){var r,i,a=it(c=>Zl(c,n)),o=it(c=>Ac(c,e)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Va.allowDataOverflow,l=(i=o==null?void 0:o.allowDataOverflow)!==null&&i!==void 0?i:za.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function hF(n){var{xAxisId:e,yAxisId:r,clipPathId:i}=n,a=WE(),{needClipX:o,needClipY:s,needClip:l}=HE(e,r);if(!l)return null;var{x:u,y:c,width:f,height:d}=a;return C.createElement("clipPath",{id:"clipPath-".concat(i)},C.createElement("rect",{x:o?u:u-f/2,y:s?c:c-d/2,width:o?f:f*2,height:s?d:d*2}))}var kle=["onMouseEnter","onMouseLeave","onClick"],Tle=["value","background","tooltipPosition"],Cle=["id"],Ile=["onMouseEnter","onClick","onMouseLeave"];function dh(){return dh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},dh.apply(null,arguments)}function KC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Vi(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(r),!0).forEach(function(i){Ole(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Ole(n,e,r){return(e=jle(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function jle(n){var e=Lle(n,"string");return typeof e=="symbol"?e:e+""}function Lle(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _0(n,e){if(n==null)return{};var r,i,a=Dle(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function Dle(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}var Rle=n=>{var{dataKey:e,name:r,fill:i,legendType:a,hide:o}=n;return[{inactive:o,dataKey:e,type:a,color:i,value:Ph(r,e),payload:n}]};function Mle(n){var{dataKey:e,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=n;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Ph(o,e),hide:s,type:n.tooltipType,color:n.fill,unit:l}}}function Fle(n){var e=it(cc),{data:r,dataKey:i,background:a,allOtherBarProps:o}=n,{onMouseEnter:s,onMouseLeave:l,onClick:u}=o,c=_0(o,kle),f=ME(s,i),d=FE(l),h=BE(u,i);if(!a||r==null)return null;var p=nr(a,!1);return C.createElement(C.Fragment,null,r.map((y,w)=>{var{value:_,background:b,tooltipPosition:S}=y,A=_0(y,Tle);if(!b)return null;var T=f(y,w),B=d(y,w),$=h(y,w),L=Vi(Vi(Vi(Vi(Vi({option:a,isActive:String(w)===e},A),{},{fill:"#eee"},b),p),lg(c,y,w)),{},{onMouseEnter:T,onMouseLeave:B,onClick:$,dataKey:i,index:w,className:"recharts-bar-background-rectangle"});return C.createElement(cF,dh({key:"background-bar-".concat(w)},L))}))}function pF(n){var{data:e,props:r,showLabels:i}=n,a=Gl(r),{id:o}=a,s=_0(a,Cle),{shape:l,dataKey:u,activeBar:c}=r,f=it(cc),d=it(k7),{onMouseEnter:h,onClick:p,onMouseLeave:y}=r,w=_0(r,Ile),_=ME(h,u),b=FE(y),S=BE(p,u);return e?C.createElement(C.Fragment,null,e.map((A,T)=>{var B=c&&String(T)===f&&(d==null||u===d),$=B?c:l,L=Vi(Vi(Vi({},s),A),{},{isActive:B,option:$,index:T,dataKey:u});return C.createElement(Hi,dh({className:"recharts-bar-rectangle"},lg(w,A,T),{onMouseEnter:_(A,T),onMouseLeave:b(A,T),onClick:S(A,T),key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(T)}),C.createElement(cF,L))}),i&&ec.renderCallByParent(r,e)):null}function Ble(n){var{props:e,previousRectanglesRef:r}=n,{data:i,layout:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:u,onAnimationEnd:c,onAnimationStart:f}=e,d=r.current,h=$E(e,"recharts-bar-"),[p,y]=C.useState(!1),w=C.useCallback(()=>{typeof c=="function"&&c(),y(!1)},[c]),_=C.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return C.createElement(zE,{begin:s,duration:l,isActive:o,easing:u,onAnimationEnd:w,onAnimationStart:_,key:h},b=>{var S=b===1?i:i==null?void 0:i.map((A,T)=>{var B=d&&d[T];if(B)return Vi(Vi({},A),{},{x:Zo(B.x,A.x,b),y:Zo(B.y,A.y,b),width:Zo(B.width,A.width,b),height:Zo(B.height,A.height,b)});if(a==="horizontal"){var $=Zo(0,A.height,b);return Vi(Vi({},A),{},{y:A.y+A.height-$,height:$})}var L=Zo(0,A.width,b);return Vi(Vi({},A),{},{width:L})});return b>0&&(r.current=S??null),S==null?null:C.createElement(Hi,null,C.createElement(pF,{props:e,data:S,showLabels:!p}))})}function Ule(n){var{data:e,isAnimationActive:r}=n,i=C.useRef(null);return r&&e&&e.length&&(i.current==null||i.current!==e)?C.createElement(Ble,{previousRectanglesRef:i,props:n}):C.createElement(pF,{props:n,data:e,showLabels:!0})}var mF=0,$le=(n,e)=>{var r=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:r,errorVal:In(n,e)}};class Vle extends C.PureComponent{render(){var{hide:e,data:r,dataKey:i,className:a,xAxisId:o,yAxisId:s,needClip:l,background:u,id:c}=this.props;if(e)return null;var f=dn("recharts-bar",a),d=c;return C.createElement(Hi,{className:f,id:c},l&&C.createElement("defs",null,C.createElement(hF,{clipPathId:d,xAxisId:o,yAxisId:s})),C.createElement(Hi,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(d,")"):void 0},C.createElement(Fle,{data:r,dataKey:i,background:u,allOtherBarProps:this.props}),C.createElement(Ule,this.props)),this.props.children)}}var zle={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Bf.isSsr,legendType:"rect",minPointSize:mF,xAxisId:0,yAxisId:0};function qle(n){var{xAxisId:e,yAxisId:r,hide:i,legendType:a,minPointSize:o,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:c,isAnimationActive:f}=n,{needClip:d}=HE(e,r),h=Z1(),p=Pa(),y=ug(n.children,xg),w=it(S=>vue(S,e,r,p,n.id,y));if(h!=="vertical"&&h!=="horizontal")return null;var _,b=w==null?void 0:w[0];return b==null||b.height==null||b.width==null?_=0:_=h==="vertical"?b.height/2:b.width/2,C.createElement(dF,{xAxisId:e,yAxisId:r,data:w,dataPointFormatter:$le,errorBarOffset:_},C.createElement(Vle,dh({},n,{layout:h,needClip:d,data:w,xAxisId:e,yAxisId:r,hide:i,legendType:a,minPointSize:o,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:c,isAnimationActive:f})))}function Wle(n){var{layout:e,barSettings:{dataKey:r,minPointSize:i},pos:a,bandSize:o,xAxis:s,yAxis:l,xAxisTicks:u,yAxisTicks:c,stackedData:f,displayedData:d,offset:h,cells:p}=n,y=e==="horizontal"?l:s,w=f?y.scale.domain():null,_=KZ({numericAxis:y});return d.map((b,S)=>{var A,T,B,$,L,I;f?A=$Z(f[S],w):(A=In(b,r),Array.isArray(A)||(A=[_,A]));var O=ble(i,mF)(A[1],S);if(e==="horizontal"){var U,[k,R]=[l.scale(A[0]),l.scale(A[1])];T=Xk({axis:s,ticks:u,bandSize:o,offset:a.offset,entry:b,index:S}),B=(U=R??k)!==null&&U!==void 0?U:void 0,$=a.size;var j=k-R;if(L=to(j)?0:j,I={x:T,y:h.top,width:$,height:h.height},Math.abs(O)>0&&Math.abs(L)<Math.abs(O)){var H=ui(L||O)*(Math.abs(O)-Math.abs(L));B-=H,L+=H}}else{var[oe,he]=[s.scale(A[0]),s.scale(A[1])];if(T=oe,B=Xk({axis:l,ticks:c,bandSize:o,offset:a.offset,entry:b,index:S}),$=he-oe,L=a.size,I={x:h.left,y:B,width:h.width,height:L},Math.abs(O)>0&&Math.abs($)<Math.abs(O)){var ye=ui($||O)*(Math.abs(O)-Math.abs($));$+=ye}}if(T==null||B==null||$==null||L==null)return null;var re=Vi(Vi({},b),{},{x:T,y:B,width:$,height:L,value:f?A:A[1],payload:b,background:I,tooltipPosition:{x:T+$/2,y:B+L/2}},p&&p[S]&&p[S].props);return re}).filter(Boolean)}function C_(n){var e=uo(n,zle),r=Pa();return C.createElement(VE,{id:e.id,type:"bar"},i=>C.createElement(C.Fragment,null,C.createElement(aF,{legendPayload:Rle(e)}),C.createElement(UE,{fn:Mle,args:e}),C.createElement(sF,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:HZ(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),C.createElement(qle,dh({},e,{id:i}))))}C_.displayName="Bar";function GC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Pv(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(r),!0).forEach(function(i){Hle(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Hle(n,e,r){return(e=Kle(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Kle(n){var e=Gle(n,"string");return typeof e=="symbol"?e:e+""}function Gle(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Yle=(n,e)=>e,Xle=(n,e,r)=>r,Qle=(n,e,r,i)=>i,Zle=(n,e,r,i,a)=>a,Ag=Se([f2,Zle],(n,e)=>n.filter(r=>r.type==="bar").find(r=>r.id===e)),Jle=Se([Ag],n=>n==null?void 0:n.maxBarSize),eue=(n,e,r,i,a,o)=>o,YC=(n,e,r)=>{var i=r??n;if(!Yn(i))return ia(i,e,0)},tue=Se([nn,f2,Yle,Xle,Qle],(n,e,r,i,a)=>e.filter(o=>n==="horizontal"?o.xAxisId===r:o.yAxisId===i).filter(o=>o.isPanorama===a).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),nue=(n,e,r,i)=>{var a=nn(n);return a==="horizontal"?x_(n,"yAxis",r,i):x_(n,"xAxis",e,i)},rue=(n,e,r)=>{var i=nn(n);return i==="horizontal"?sC(n,"xAxis",e):sC(n,"yAxis",r)},iue=(n,e,r)=>{var i={},a=n.filter(c2),o=n.filter(c=>c.stackId==null),s=a.reduce((c,f)=>(c[f.stackId]||(c[f.stackId]=[]),c[f.stackId].push(f),c),i),l=Object.entries(s).map(c=>{var[f,d]=c,h=d.map(y=>y.dataKey),p=YC(e,r,d[0].barSize);return{stackId:f,dataKeys:h,barSize:p}}),u=o.map(c=>{var f=[c.dataKey].filter(h=>h!=null),d=YC(e,r,c.barSize);return{stackId:void 0,dataKeys:f,barSize:d}});return[...l,...u]},aue=Se([tue,bre,rue],iue),oue=(n,e,r,i,a)=>{var o,s,l=Ag(n,e,r,i,a);if(l!=null){var u=nn(n),c=TM(n),{maxBarSize:f}=l,d=Yn(f)?c:f,h,p;return u==="horizontal"?(h=uc(n,"xAxis",e,i),p=lc(n,"xAxis",e,i)):(h=uc(n,"yAxis",r,i),p=lc(n,"yAxis",r,i)),(o=(s=Lm(h,p,!0))!==null&&s!==void 0?s:d)!==null&&o!==void 0?o:0}},gF=(n,e,r,i)=>{var a=nn(n),o,s;return a==="horizontal"?(o=uc(n,"xAxis",e,i),s=lc(n,"xAxis",e,i)):(o=uc(n,"yAxis",r,i),s=lc(n,"yAxis",r,i)),Lm(o,s)};function sue(n,e,r,i,a){var o=i.length;if(!(o<1)){var s=ia(n,r,0,!0),l,u=[];if(io(i[0].barSize)){var c=!1,f=r/o,d=i.reduce((b,S)=>b+(S.barSize||0),0);d+=(o-1)*s,d>=r&&(d-=(o-1)*s,s=0),d>=r&&f>0&&(c=!0,f*=.9,d=o*f);var h=(r-d)/2>>0,p={offset:h-s,size:0};l=i.reduce((b,S)=>{var A,T={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:p.offset+p.size+s,size:c?f:(A=S.barSize)!==null&&A!==void 0?A:0}},B=[...b,T];return p=B[B.length-1].position,B},u)}else{var y=ia(e,r,0,!0);r-2*y-(o-1)*s<=0&&(s=0);var w=(r-2*y-(o-1)*s)/o;w>1&&(w>>=0);var _=io(a)?Math.min(w,a):w;l=i.reduce((b,S,A)=>[...b,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:y+(w+s)*A+(w-_)/2,size:_}}],u)}return l}}var lue=(n,e,r,i,a,o,s)=>{var l=Yn(s)?e:s,u=sue(r,i,a!==o?a:o,n,l);return a!==o&&u!=null&&(u=u.map(c=>Pv(Pv({},c),{},{position:Pv(Pv({},c.position),{},{offset:c.position.offset-a/2})}))),u},uue=Se([aue,TM,wre,CM,oue,gF,Jle],lue),cue=(n,e,r,i)=>uc(n,"xAxis",e,i),fue=(n,e,r,i)=>uc(n,"yAxis",r,i),due=(n,e,r,i)=>lc(n,"xAxis",e,i),hue=(n,e,r,i)=>lc(n,"yAxis",r,i),pue=Se([uue,Ag],(n,e)=>{if(!(n==null||e==null)){var r=n.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),mue=(n,e)=>{var r=iE(e);if(!(!n||r==null||e==null)){var{stackId:i}=e;if(i!=null){var a=n[i];if(a){var{stackedData:o}=a;if(o)return o.find(s=>s.key===r)}}}},gue=Se([nue,Ag],mue),vue=Se([Qr,cue,fue,due,hue,pue,nn,o2,gF,gue,Ag,eue],(n,e,r,i,a,o,s,l,u,c,f,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:y}=l;if(!(f==null||o==null||s!=="horizontal"&&s!=="vertical"||e==null||r==null||i==null||a==null||u==null)){var{data:w}=f,_;if(w!=null&&w.length>0?_=w:_=h==null?void 0:h.slice(p,y+1),_!=null)return Wle({layout:s,barSettings:f,pos:o,bandSize:u,xAxis:e,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:_,offset:n,cells:d})}}),vF=n=>{var{chartData:e}=n,r=cr(),i=Pa();return C.useEffect(()=>i?()=>{}:(r(gC(e)),()=>{r(gC(void 0))}),[e,r,i]),null},XC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yF=lo({name:"brush",initialState:XC,reducers:{setBrushSettings(n,e){return e.payload==null?XC:e.payload}}}),{setBrushSettings:ave}=yF.actions,yue=yF.reducer;function wue(n,e,r){return(e=bue(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function bue(n){var e=_ue(n,"string");return typeof e=="symbol"?e:e+""}function _ue(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class KE{static create(e){return new KE(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(i)switch(i){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?e>=i&&e<=a:e>=a&&e<=i}}wue(KE,"EPS",1e-4);function xue(n){return(n%180+180)%180}var Aue=function(e){var{width:r,height:i}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=xue(a),s=o*Math.PI/180,l=Math.atan(i/r),u=s>l&&s<Math.PI-l?i/Math.sin(s):r/Math.cos(s);return Math.abs(u)},Sue={dots:[],areas:[],lines:[]},wF=lo({name:"referenceElements",initialState:Sue,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var r=kl(n).dots.findIndex(i=>i===e.payload);r!==-1&&n.dots.splice(r,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var r=kl(n).areas.findIndex(i=>i===e.payload);r!==-1&&n.areas.splice(r,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var r=kl(n).lines.findIndex(i=>i===e.payload);r!==-1&&n.lines.splice(r,1)}}}),{addDot:ove,removeDot:sve,addArea:lve,removeArea:uve,addLine:cve,removeLine:fve}=wF.actions,Eue=wF.reducer,Pue=C.createContext(void 0),Nue=n=>{var{children:e}=n,[r]=C.useState("".concat(Im("recharts"),"-clip")),i=WE();if(i==null)return null;var{x:a,y:o,width:s,height:l}=i;return C.createElement(Pue.Provider,{value:r},C.createElement("defs",null,C.createElement("clipPath",{id:r},C.createElement("rect",{x:a,y:o,height:l,width:s}))),e)};function qw(n,e){for(var r in n)if({}.hasOwnProperty.call(n,r)&&(!{}.hasOwnProperty.call(e,r)||n[r]!==e[r]))return!1;for(var i in e)if({}.hasOwnProperty.call(e,i)&&!{}.hasOwnProperty.call(n,i))return!1;return!0}function bF(n,e,r){if(e<1)return[];if(e===1&&r===void 0)return n;for(var i=[],a=0;a<n.length;a+=e)i.push(n[a]);return i}function kue(n,e,r){var i={width:n.width+e.width,height:n.height+e.height};return Aue(i,r)}function Tue(n,e,r){var i=r==="width",{x:a,y:o,width:s,height:l}=n;return e===1?{start:i?a:o,end:i?a+s:o+l}:{start:i?a+s:o+l,end:i?a:o}}function x0(n,e,r,i,a){if(n*e<n*i||n*e>n*a)return!1;var o=r();return n*(e-n*o/2-i)>=0&&n*(e+n*o/2-a)<=0}function Cue(n,e){return bF(n,e+1)}function Iue(n,e,r,i,a){for(var o=(i||[]).slice(),{start:s,end:l}=e,u=0,c=1,f=s,d=function(){var y=i==null?void 0:i[u];if(y===void 0)return{v:bF(i,c)};var w=u,_,b=()=>(_===void 0&&(_=r(y,w)),_),S=y.coordinate,A=u===0||x0(n,S,b,f,l);A||(u=0,f=s,c+=1),A&&(f=S+n*(b()/2+a),u+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function QC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Fi(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(r),!0).forEach(function(i){Oue(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Oue(n,e,r){return(e=jue(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function jue(n){var e=Lue(n,"string");return typeof e=="symbol"?e:e+""}function Lue(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Due(n,e,r,i,a){for(var o=(i||[]).slice(),s=o.length,{start:l}=e,{end:u}=e,c=function(h){var p=o[h],y,w=()=>(y===void 0&&(y=r(p,h)),y);if(h===s-1){var _=n*(p.coordinate+n*w()/2-u);o[h]=p=Fi(Fi({},p),{},{tickCoord:_>0?p.coordinate-_*n:p.coordinate})}else o[h]=p=Fi(Fi({},p),{},{tickCoord:p.coordinate});var b=x0(n,p.tickCoord,w,l,u);b&&(u=p.tickCoord-n*(w()/2+a),o[h]=Fi(Fi({},p),{},{isShow:!0}))},f=s-1;f>=0;f--)c(f);return o}function Rue(n,e,r,i,a,o){var s=(i||[]).slice(),l=s.length,{start:u,end:c}=e;if(o){var f=i[l-1],d=r(f,l-1),h=n*(f.coordinate+n*d/2-c);s[l-1]=f=Fi(Fi({},f),{},{tickCoord:h>0?f.coordinate-h*n:f.coordinate});var p=x0(n,f.tickCoord,()=>d,u,c);p&&(c=f.tickCoord-n*(d/2+a),s[l-1]=Fi(Fi({},f),{},{isShow:!0}))}for(var y=o?l-1:l,w=function(S){var A=s[S],T,B=()=>(T===void 0&&(T=r(A,S)),T);if(S===0){var $=n*(A.coordinate-n*B()/2-u);s[S]=A=Fi(Fi({},A),{},{tickCoord:$<0?A.coordinate-$*n:A.coordinate})}else s[S]=A=Fi(Fi({},A),{},{tickCoord:A.coordinate});var L=x0(n,A.tickCoord,B,u,c);L&&(u=A.tickCoord+n*(B()/2+a),s[S]=Fi(Fi({},A),{},{isShow:!0}))},_=0;_<y;_++)w(_);return s}function GE(n,e,r){var{tick:i,ticks:a,viewBox:o,minTickGap:s,orientation:l,interval:u,tickFormatter:c,unit:f,angle:d}=n;if(!a||!a.length||!i)return[];if(He(u)||Bf.isSsr){var h;return(h=Cue(a,He(u)?u:0))!==null&&h!==void 0?h:[]}var p=[],y=l==="top"||l==="bottom"?"width":"height",w=f&&y==="width"?Gp(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},_=(A,T)=>{var B=typeof c=="function"?c(A.value,T):A.value;return y==="width"?kue(Gp(B,{fontSize:e,letterSpacing:r}),w,d):Gp(B,{fontSize:e,letterSpacing:r})[y]},b=a.length>=2?ui(a[1].coordinate-a[0].coordinate):1,S=Tue(o,b,y);return u==="equidistantPreserveStart"?Iue(b,S,_,a,s):(u==="preserveStart"||u==="preserveStartEnd"?p=Rue(b,S,_,a,s,u==="preserveStartEnd"):p=Due(b,S,_,a,s),p.filter(A=>A.isShow))}var Mue=["viewBox"],Fue=["viewBox"];function Sd(){return Sd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Sd.apply(null,arguments)}function ZC(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Hr(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(r),!0).forEach(function(i){YE(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function JC(n,e){if(n==null)return{};var r,i,a=Bue(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function Bue(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}function YE(n,e,r){return(e=Uue(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Uue(n){var e=$ue(n,"string");return typeof e=="symbol"?e:e+""}function $ue(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class Sc extends C.Component{constructor(e){super(e),this.tickRefs=C.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:i}=e,a=JC(e,Mue),o=this.props,{viewBox:s}=o,l=JC(o,Fue);return!qw(i,s)||!qw(a,l)||!qw(r,this.state)}getTickLineCoord(e){var{x:r,y:i,width:a,height:o,orientation:s,tickSize:l,mirror:u,tickMargin:c}=this.props,f,d,h,p,y,w,_=u?-1:1,b=e.tickSize||l,S=He(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":f=d=e.coordinate,p=i+ +!u*o,h=p-_*b,w=h-_*c,y=S;break;case"left":h=p=e.coordinate,d=r+ +!u*a,f=d-_*b,y=f-_*c,w=S;break;case"right":h=p=e.coordinate,d=r+ +u*a,f=d+_*b,y=f+_*c,w=S;break;default:f=d=e.coordinate,p=i+ +u*o,h=p+_*b,w=h+_*c,y=S;break}return{line:{x1:f,y1:h,x2:d,y2:p},tick:{x:y,y:w}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,i;switch(e){case"left":i=r?"start":"end";break;case"right":i=r?"end":"start";break;default:i="middle";break}return i}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:i,height:a,orientation:o,mirror:s,axisLine:l}=this.props,u=Hr(Hr(Hr({},nr(this.props,!1)),nr(l,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!s||o==="bottom"&&s);u=Hr(Hr({},u),{},{x1:e,y1:r+c*a,x2:e+i,y2:r+c*a})}else{var f=+(o==="left"&&!s||o==="right"&&s);u=Hr(Hr({},u),{},{x1:e+f*i,y1:r,x2:e+f*i,y2:r+a})}return C.createElement("line",Sd({},u,{className:dn("recharts-cartesian-axis-line",sc(l,"className"))}))}static renderTickItem(e,r,i){var a,o=dn(r.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))a=C.cloneElement(e,Hr(Hr({},r),{},{className:o}));else if(typeof e=="function")a=e(Hr(Hr({},r),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=dn(s,e.className)),a=C.createElement(v2,Sd({},r,{className:s}),i)}return a}renderTicks(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:o,tick:s,tickFormatter:l,unit:u,padding:c}=this.props,f=GE(Hr(Hr({},this.props),{},{ticks:i}),e,r),d=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=Gl(this.props),y=nr(s,!1),w=Hr(Hr({},p),{},{fill:"none"},nr(a,!1)),_=f.map((b,S)=>{var{line:A,tick:T}=this.getTickLineCoord(b),B=Hr(Hr(Hr(Hr({textAnchor:d,verticalAnchor:h},p),{},{stroke:"none",fill:o},y),T),{},{index:S,payload:b,visibleTicksCount:f.length,tickFormatter:l,padding:c});return C.createElement(Hi,Sd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},lg(this.props,b,S)),a&&C.createElement("line",Sd({},w,A,{className:dn("recharts-cartesian-axis-tick-line",sc(a,"className"))})),s&&Sc.renderTickItem(s,B,"".concat(typeof l=="function"?l(b.value,S):b.value).concat(u||"")))});return _.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},_):null}render(){var{axisLine:e,width:r,height:i,className:a,hide:o}=this.props;if(o)return null;var{ticks:s}=this.props;return r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(Hi,{className:dn("recharts-cartesian-axis",a),ref:l=>{if(l){var u=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(u);var c=u[0];if(c){var f=window.getComputedStyle(c).fontSize,d=window.getComputedStyle(c).letterSpacing;(f!==this.state.fontSize||d!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),Ha.renderCallByParent(this.props))}}YE(Sc,"displayName","CartesianAxis");YE(Sc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Vue=["x1","y1","x2","y2","key"],zue=["offset"],que=["xAxisId","yAxisId"],Wue=["xAxisId","yAxisId"];function e3(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function zi(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(r),!0).forEach(function(i){Hue(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Hue(n,e,r){return(e=Kue(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Kue(n){var e=Gue(n,"string");return typeof e=="symbol"?e:e+""}function Gue(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nf(){return nf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},nf.apply(null,arguments)}function A0(n,e){if(n==null)return{};var r,i,a=Yue(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function Yue(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}var Xue=n=>{var{fill:e}=n;if(!e||e==="none")return null;var{fillOpacity:r,x:i,y:a,width:o,height:s,ry:l}=n;return C.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _F(n,e){var r;if(C.isValidElement(n))r=C.cloneElement(n,e);else if(typeof n=="function")r=n(e);else{var{x1:i,y1:a,x2:o,y2:s,key:l}=e,u=A0(e,Vue),c=Gl(u),{offset:f}=c,d=A0(c,zue);r=C.createElement("line",nf({},d,{x1:i,y1:a,x2:o,y2:s,fill:"none",key:l}))}return r}function Que(n){var{x:e,width:r,horizontal:i=!0,horizontalPoints:a}=n;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=n,l=A0(n,que),u=a.map((c,f)=>{var d=zi(zi({},l),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(f),index:f});return _F(i,d)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Zue(n){var{y:e,height:r,vertical:i=!0,verticalPoints:a}=n;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=n,l=A0(n,Wue),u=a.map((c,f)=>{var d=zi(zi({},l),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(f),index:f});return _F(i,d)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Jue(n){var{horizontalFill:e,fillOpacity:r,x:i,y:a,width:o,height:s,horizontalPoints:l,horizontal:u=!0}=n;if(!u||!e||!e.length)return null;var c=l.map(d=>Math.round(d+a-a)).sort((d,h)=>d-h);a!==c[0]&&c.unshift(0);var f=c.map((d,h)=>{var p=!c[h+1],y=p?a+s-d:c[h+1]-d;if(y<=0)return null;var w=h%e.length;return C.createElement("rect",{key:"react-".concat(h),y:d,x:i,height:y,width:o,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ece(n){var{vertical:e=!0,verticalFill:r,fillOpacity:i,x:a,y:o,width:s,height:l,verticalPoints:u}=n;if(!e||!r||!r.length)return null;var c=u.map(d=>Math.round(d+a-a)).sort((d,h)=>d-h);a!==c[0]&&c.unshift(0);var f=c.map((d,h)=>{var p=!c[h+1],y=p?a+s-d:c[h+1]-d;if(y<=0)return null;var w=h%r.length;return C.createElement("rect",{key:"react-".concat(h),x:d,y:o,width:y,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var tce=(n,e)=>{var{xAxis:r,width:i,height:a,offset:o}=n;return o8(GE(zi(zi(zi({},Sc.defaultProps),r),{},{ticks:s8(r),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,e)},nce=(n,e)=>{var{yAxis:r,width:i,height:a,offset:o}=n;return o8(GE(zi(zi(zi({},Sc.defaultProps),r),{},{ticks:s8(r),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,e)},rce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function ey(n){var e=_S(),r=xS(),i=d8(),a=zi(zi({},uo(n,rce)),{},{x:He(n.x)?n.x:i.left,y:He(n.y)?n.y:i.top,width:He(n.width)?n.width:i.width,height:He(n.height)?n.height:i.height}),{xAxisId:o,yAxisId:s,x:l,y:u,width:c,height:f,syncWithTicks:d,horizontalValues:h,verticalValues:p}=a,y=Pa(),w=it(O=>lC(O,"xAxis",o,y)),_=it(O=>lC(O,"yAxis",s,y));if(!He(c)||c<=0||!He(f)||f<=0||!He(l)||l!==+l||!He(u)||u!==+u)return null;var b=a.verticalCoordinatesGenerator||tce,S=a.horizontalCoordinatesGenerator||nce,{horizontalPoints:A,verticalPoints:T}=a;if((!A||!A.length)&&typeof S=="function"){var B=h&&h.length,$=S({yAxis:_?zi(zi({},_),{},{ticks:B?h:_.ticks}):void 0,width:e,height:r,offset:i},B?!0:d);Kp(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(A=$)}if((!T||!T.length)&&typeof b=="function"){var L=p&&p.length,I=b({xAxis:w?zi(zi({},w),{},{ticks:L?p:w.ticks}):void 0,width:e,height:r,offset:i},L?!0:d);Kp(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(T=I)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(Xue,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),C.createElement(Jue,nf({},a,{horizontalPoints:A})),C.createElement(ece,nf({},a,{verticalPoints:T})),C.createElement(Que,nf({},a,{offset:i,horizontalPoints:A,xAxis:w,yAxis:_})),C.createElement(Zue,nf({},a,{offset:i,verticalPoints:T,xAxis:w,yAxis:_})))}ey.displayName="CartesianGrid";var xF=(n,e,r,i)=>uc(n,"xAxis",e,i),AF=(n,e,r,i)=>lc(n,"xAxis",e,i),SF=(n,e,r,i)=>uc(n,"yAxis",r,i),EF=(n,e,r,i)=>lc(n,"yAxis",r,i),ice=Se([nn,xF,SF,AF,EF],(n,e,r,i,a)=>wc(n,"xAxis")?Lm(e,i,!1):Lm(r,a,!1)),ace=(n,e,r,i,a)=>a;function oce(n){return n.type==="line"}var sce=Se([f2,ace],(n,e)=>n.filter(oce).find(r=>r.id===e)),lce=Se([nn,xF,SF,AF,EF,sce,ice,o2],(n,e,r,i,a,o,s,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:f}=l;if(!(o==null||e==null||r==null||i==null||a==null||i.length===0||a.length===0||s==null)){var{dataKey:d,data:h}=o,p;if(h!=null&&h.length>0?p=h:p=u==null?void 0:u.slice(c,f+1),p!=null)return Tce({layout:n,xAxis:e,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:d,bandSize:s,displayedData:p})}}),uce=["id"],cce=["type","layout","connectNulls","needClip"],fce=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function t3(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Jo(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t3(Object(r),!0).forEach(function(i){dce(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function dce(n,e,r){return(e=hce(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function hce(n){var e=pce(n,"string");return typeof e=="symbol"?e:e+""}function pce(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function XE(n,e){if(n==null)return{};var r,i,a=mce(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function mce(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}function Tf(){return Tf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Tf.apply(null,arguments)}var gce=n=>{var{dataKey:e,name:r,stroke:i,legendType:a,hide:o}=n;return[{inactive:o,dataKey:e,type:a,color:i,value:Ph(r,e),payload:n}]};function vce(n){var{dataKey:e,data:r,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,unit:u}=n;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:void 0,name:Ph(s,e),hide:l,type:n.tooltipType,color:n.stroke,unit:u}}}var PF=(n,e)=>"".concat(e,"px ").concat(n-e,"px");function yce(n,e){for(var r=n.length%2!==0?[...n,0]:n,i=[],a=0;a<e;++a)i=[...i,...r];return i}var wce=(n,e,r)=>{var i=r.reduce((d,h)=>d+h);if(!i)return PF(e,n);for(var a=Math.floor(n/i),o=n%i,s=e-n,l=[],u=0,c=0;u<r.length;c+=r[u],++u)if(c+r[u]>o){l=[...r.slice(0,u),o-c];break}var f=l.length%2===0?[0,s]:[s];return[...yce(r,a),...l,...f].map(d=>"".concat(d,"px")).join(", ")};function bce(n,e){var r;if(C.isValidElement(n))r=C.cloneElement(n,e);else if(typeof n=="function")r=n(e);else{var i=dn("recharts-line-dot",typeof n!="boolean"?n.className:"");r=C.createElement(Q7,Tf({},e,{className:i}))}return r}function _ce(n,e){return n==null?!1:e?!0:n.length===1}function xce(n){var{clipPathId:e,points:r,props:i}=n,{dot:a,dataKey:o,needClip:s}=i;if(!_ce(r,a))return null;var{id:l}=i,u=XE(i,uce),c=$D(a),f=Gl(u),d=nr(a,!0),h=r.map((y,w)=>{var _=Jo(Jo(Jo({key:"dot-".concat(w),r:3},f),d),{},{index:w,cx:y.x,cy:y.y,dataKey:o,value:y.value,payload:y.payload,points:r});return bce(a,_)}),p={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(e,")"):void 0};return C.createElement(Hi,Tf({className:"recharts-line-dots",key:"dots"},p),h)}function I_(n){var{clipPathId:e,pathRef:r,points:i,strokeDasharray:a,props:o,showLabels:s}=n,{type:l,layout:u,connectNulls:c,needClip:f}=o,d=XE(o,cce),h=Jo(Jo({},nr(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:i,type:l,layout:u,connectNulls:c,strokeDasharray:a??o.strokeDasharray});return C.createElement(C.Fragment,null,(i==null?void 0:i.length)>1&&C.createElement(SS,Tf({},h,{pathRef:r})),C.createElement(xce,{points:i,clipPathId:e,props:o}),s&&ec.renderCallByParent(o,i))}function Ace(n){try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}function Sce(n){var{clipPathId:e,props:r,pathRef:i,previousPointsRef:a,longestAnimatedLengthRef:o}=n,{points:s,strokeDasharray:l,isAnimationActive:u,animationBegin:c,animationDuration:f,animationEasing:d,animateNewValues:h,width:p,height:y,onAnimationEnd:w,onAnimationStart:_}=r,b=a.current,S=$E(r,"recharts-line-"),[A,T]=C.useState(!1),B=C.useCallback(()=>{typeof w=="function"&&w(),T(!1)},[w]),$=C.useCallback(()=>{typeof _=="function"&&_(),T(!0)},[_]),L=Ace(i.current),I=o.current;return C.createElement(zE,{begin:c,duration:f,isActive:u,easing:d,onAnimationEnd:B,onAnimationStart:$,key:S},O=>{var U=Zo(I,L+I,O),k=Math.min(U,L),R;if(l){var j="".concat(l).split(/[,\s]+/gim).map(he=>parseFloat(he));R=wce(k,L,j)}else R=PF(L,k);if(b){var H=b.length/s.length,oe=O===1?s:s.map((he,ye)=>{var re=Math.floor(ye*H);if(b[re]){var ue=b[re];return Jo(Jo({},he),{},{x:Zo(ue.x,he.x,O),y:Zo(ue.y,he.y,O)})}return h?Jo(Jo({},he),{},{x:Zo(p*2,he.x,O),y:Zo(y/2,he.y,O)}):Jo(Jo({},he),{},{x:he.x,y:he.y})});return a.current=oe,C.createElement(I_,{props:r,points:oe,clipPathId:e,pathRef:i,showLabels:!A,strokeDasharray:R})}return O>0&&L>0&&(a.current=s,o.current=k),C.createElement(I_,{props:r,points:s,clipPathId:e,pathRef:i,showLabels:!A,strokeDasharray:R})})}function Ece(n){var{clipPathId:e,props:r}=n,{points:i,isAnimationActive:a}=r,o=C.useRef(null),s=C.useRef(0),l=C.useRef(null),u=o.current;return a&&i&&i.length&&u!==i?C.createElement(Sce,{props:r,clipPathId:e,previousPointsRef:o,longestAnimatedLengthRef:s,pathRef:l}):C.createElement(I_,{props:r,points:i,clipPathId:e,pathRef:l,showLabels:!0})}var Pce=(n,e)=>({x:n.x,y:n.y,value:n.value,errorVal:In(n.payload,e)});class Nce extends C.Component{render(){var e,{hide:r,dot:i,points:a,className:o,xAxisId:s,yAxisId:l,top:u,left:c,width:f,height:d,id:h,needClip:p}=this.props;if(r)return null;var y=dn("recharts-line",o),w=h,{r:_=3,strokeWidth:b=2}=(e=nr(i,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},S=$D(i),A=_*2+b;return C.createElement(C.Fragment,null,C.createElement(Hi,{className:y},p&&C.createElement("defs",null,C.createElement(hF,{clipPathId:w,xAxisId:s,yAxisId:l}),!S&&C.createElement("clipPath",{id:"clipPath-dots-".concat(w)},C.createElement("rect",{x:c-A/2,y:u-A/2,width:f+A,height:d+A}))),C.createElement(Ece,{props:this.props,clipPathId:w}),C.createElement(dF,{xAxisId:s,yAxisId:l,data:a,dataPointFormatter:Pce,errorBarOffset:0},this.props.children)),C.createElement(cle,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var NF={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Bf.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function kce(n){var e=uo(n,NF),{activeDot:r,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,connectNulls:l,dot:u,hide:c,isAnimationActive:f,label:d,legendType:h,xAxisId:p,yAxisId:y,id:w}=e,_=XE(e,fce),{needClip:b}=HE(p,y),S=WE(),A=Z1(),T=Pa(),B=it(U=>lce(U,p,y,T,w));if(A!=="horizontal"&&A!=="vertical"||B==null||S==null)return null;var{height:$,width:L,x:I,y:O}=S;return C.createElement(Nce,Tf({},_,{id:w,connectNulls:l,dot:u,activeDot:r,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,isAnimationActive:f,hide:c,label:d,legendType:h,xAxisId:p,yAxisId:y,points:B,layout:A,height:$,width:L,left:I,top:O,needClip:b}))}function Tce(n){var{layout:e,xAxis:r,yAxis:i,xAxisTicks:a,yAxisTicks:o,dataKey:s,bandSize:l,displayedData:u}=n;return u.map((c,f)=>{var d=In(c,s);if(e==="horizontal"){var h=Yk({axis:r,ticks:a,bandSize:l,entry:c,index:f}),p=Yn(d)?null:i.scale(d);return{x:h,y:p,value:d,payload:c}}var y=Yn(d)?null:r.scale(d),w=Yk({axis:i,ticks:o,bandSize:l,entry:c,index:f});return y==null||w==null?null:{x:y,y:w,value:d,payload:c}}).filter(Boolean)}function kF(n){var e=uo(n,NF),r=Pa();return C.createElement(VE,{id:e.id,type:"line"},i=>C.createElement(C.Fragment,null,C.createElement(aF,{legendPayload:gce(e)}),C.createElement(UE,{fn:vce,args:e}),C.createElement(sF,{type:"line",id:i,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),C.createElement(kce,Tf({},e,{id:i}))))}kF.displayName="Line";function n3(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function r3(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n3(Object(r),!0).forEach(function(i){Cce(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):n3(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Cce(n,e,r){return(e=Ice(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Ice(n){var e=Oce(n,"string");return typeof e=="symbol"?e:e+""}function Oce(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var jce={xAxis:{},yAxis:{},zAxis:{}},TF=lo({name:"cartesianAxis",initialState:jce,reducers:{addXAxis(n,e){n.xAxis[e.payload.id]=e.payload},removeXAxis(n,e){delete n.xAxis[e.payload.id]},addYAxis(n,e){n.yAxis[e.payload.id]=e.payload},removeYAxis(n,e){delete n.yAxis[e.payload.id]},addZAxis(n,e){n.zAxis[e.payload.id]=e.payload},removeZAxis(n,e){delete n.zAxis[e.payload.id]},updateYAxisWidth(n,e){var{id:r,width:i}=e.payload;n.yAxis[r]&&(n.yAxis[r]=r3(r3({},n.yAxis[r]),{},{width:i}))}}}),{addXAxis:Lce,removeXAxis:Dce,addYAxis:Rce,removeYAxis:Mce,addZAxis:dve,removeZAxis:hve,updateYAxisWidth:Fce}=TF.actions,Bce=TF.reducer,Uce=["children"],$ce=["dangerouslySetInnerHTML","ticks"];function CF(n,e,r){return(e=Vce(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Vce(n){var e=zce(n,"string");return typeof e=="symbol"?e:e+""}function zce(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function O_(){return O_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},O_.apply(null,arguments)}function IF(n,e){if(n==null)return{};var r,i,a=qce(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function qce(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}function Wce(n){var e=cr(),r=C.useMemo(()=>{var{children:o}=n,s=IF(n,Uce);return s},[n]),i=it(o=>Zl(o,r.id)),a=r===i;return C.useEffect(()=>(e(Lce(r)),()=>{e(Dce(r))}),[r,e]),a?n.children:null}var Hce=n=>{var{xAxisId:e,className:r}=n,i=it(f8),a=Pa(),o="xAxis",s=it(p=>jh(p,o,e,a)),l=it(p=>u7(p,o,e,a)),u=it(p=>a7(p,e)),c=it(p=>cie(p,e));if(u==null||c==null)return null;var{dangerouslySetInnerHTML:f,ticks:d}=n,h=IF(n,$ce);return C.createElement(Sc,O_({},h,{scale:s,x:c.x,y:c.y,width:u.width,height:u.height,className:dn("recharts-".concat(o," ").concat(o),r),viewBox:i,ticks:l}))},Kce=n=>{var e,r,i,a,o;return C.createElement(Wce,{interval:(e=n.interval)!==null&&e!==void 0?e:"preserveEnd",id:n.xAxisId,scale:n.scale,type:n.type,padding:n.padding,allowDataOverflow:n.allowDataOverflow,domain:n.domain,dataKey:n.dataKey,allowDuplicatedCategory:n.allowDuplicatedCategory,allowDecimals:n.allowDecimals,tickCount:n.tickCount,includeHidden:(r=n.includeHidden)!==null&&r!==void 0?r:!1,reversed:n.reversed,ticks:n.ticks,height:n.height,orientation:n.orientation,mirror:n.mirror,hide:n.hide,unit:n.unit,name:n.name,angle:(i=n.angle)!==null&&i!==void 0?i:0,minTickGap:(a=n.minTickGap)!==null&&a!==void 0?a:5,tick:(o=n.tick)!==null&&o!==void 0?o:!0,tickFormatter:n.tickFormatter},C.createElement(Hce,n))};class Yp extends C.Component{render(){return C.createElement(Kce,this.props)}}CF(Yp,"displayName","XAxis");CF(Yp,"defaultProps",{allowDataOverflow:Va.allowDataOverflow,allowDecimals:Va.allowDecimals,allowDuplicatedCategory:Va.allowDuplicatedCategory,height:Va.height,hide:!1,mirror:Va.mirror,orientation:Va.orientation,padding:Va.padding,reversed:Va.reversed,scale:Va.scale,tickCount:Va.tickCount,type:Va.type,xAxisId:0});var Gce=n=>{var{ticks:e,label:r,labelGapWithTick:i=5,tickSize:a=0,tickMargin:o=0}=n,s=0;if(e){e.forEach(f=>{if(f){var d=f.getBoundingClientRect();d.width>s&&(s=d.width)}});var l=r?r.getBoundingClientRect().width:0,u=a+o,c=s+u+l+(r?i:0);return Math.round(c)}return 0},Yce=["dangerouslySetInnerHTML","ticks"];function OF(n,e,r){return(e=Xce(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Xce(n){var e=Qce(n,"string");return typeof e=="symbol"?e:e+""}function Qce(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function j_(){return j_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},j_.apply(null,arguments)}function Zce(n,e){if(n==null)return{};var r,i,a=Jce(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function Jce(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}function efe(n){var e=cr();return C.useEffect(()=>(e(Rce(n)),()=>{e(Mce(n))}),[n,e]),null}var tfe=n=>{var e,{yAxisId:r,className:i,width:a,label:o}=n,s=C.useRef(null),l=C.useRef(null),u=it(f8),c=Pa(),f=cr(),d="yAxis",h=it(A=>jh(A,d,r,c)),p=it(A=>o7(A,r)),y=it(A=>fie(A,r)),w=it(A=>u7(A,d,r,c));if(C.useLayoutEffect(()=>{var A;if(!(a!=="auto"||!p||OE(o)||C.isValidElement(o))){var T=s.current,B=T==null||(A=T.tickRefs)===null||A===void 0?void 0:A.current,{tickSize:$,tickMargin:L}=T.props,I=Gce({ticks:B,label:l.current,labelGapWithTick:5,tickSize:$,tickMargin:L});Math.round(p.width)!==Math.round(I)&&f(Fce({id:r,width:I}))}},[s,s==null||(e=s.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,p==null?void 0:p.width,p,f,o,r,a]),p==null||y==null)return null;var{dangerouslySetInnerHTML:_,ticks:b}=n,S=Zce(n,Yce);return C.createElement(Sc,j_({},S,{ref:s,labelRef:l,scale:h,x:y.x,y:y.y,width:p.width,height:p.height,className:dn("recharts-".concat(d," ").concat(d),i),viewBox:u,ticks:w}))},nfe=n=>{var e,r,i,a,o;return C.createElement(C.Fragment,null,C.createElement(efe,{interval:(e=n.interval)!==null&&e!==void 0?e:"preserveEnd",id:n.yAxisId,scale:n.scale,type:n.type,domain:n.domain,allowDataOverflow:n.allowDataOverflow,dataKey:n.dataKey,allowDuplicatedCategory:n.allowDuplicatedCategory,allowDecimals:n.allowDecimals,tickCount:n.tickCount,padding:n.padding,includeHidden:(r=n.includeHidden)!==null&&r!==void 0?r:!1,reversed:n.reversed,ticks:n.ticks,width:n.width,orientation:n.orientation,mirror:n.mirror,hide:n.hide,unit:n.unit,name:n.name,angle:(i=n.angle)!==null&&i!==void 0?i:0,minTickGap:(a=n.minTickGap)!==null&&a!==void 0?a:5,tick:(o=n.tick)!==null&&o!==void 0?o:!0,tickFormatter:n.tickFormatter}),C.createElement(tfe,n))},rfe={allowDataOverflow:za.allowDataOverflow,allowDecimals:za.allowDecimals,allowDuplicatedCategory:za.allowDuplicatedCategory,hide:!1,mirror:za.mirror,orientation:za.orientation,padding:za.padding,reversed:za.reversed,scale:za.scale,tickCount:za.tickCount,type:za.type,width:za.width,yAxisId:0};class Xp extends C.Component{render(){return C.createElement(nfe,this.props)}}OF(Xp,"displayName","YAxis");OF(Xp,"defaultProps",rfe);var ife={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=C;function afe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ofe=typeof Object.is=="function"?Object.is:afe,sfe=Sg.useSyncExternalStore,lfe=Sg.useRef,ufe=Sg.useEffect,cfe=Sg.useMemo,ffe=Sg.useDebugValue;ife.useSyncExternalStoreWithSelector=function(n,e,r,i,a){var o=lfe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=cfe(function(){function u(p){if(!c){if(c=!0,f=p,p=i(p),a!==void 0&&s.hasValue){var y=s.value;if(a(y,p))return d=y}return d=p}if(y=d,ofe(f,p))return y;var w=i(p);return a!==void 0&&a(y,w)?(f=p,y):(f=p,d=w)}var c=!1,f,d,h=r===void 0?null:r;return[function(){return u(e())},h===null?void 0:function(){return u(h())}]},[e,r,i,a]);var l=sfe(n,o[0],o[1]);return ufe(function(){s.hasValue=!0,s.value=l},[l]),ffe(l),l};function dfe(n){n()}function hfe(){let n=null,e=null;return{clear(){n=null,e=null},notify(){dfe(()=>{let r=n;for(;r;)r.callback(),r=r.next})},get(){const r=[];let i=n;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:n=a,function(){!i||n===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}var i3={notify(){},get:()=>[]};function pfe(n,e){let r,i=i3,a=0,o=!1;function s(w){f();const _=i.subscribe(w);let b=!1;return()=>{b||(b=!0,_(),d())}}function l(){i.notify()}function u(){y.onStateChange&&y.onStateChange()}function c(){return o}function f(){a++,r||(r=n.subscribe(u),i=hfe())}function d(){a--,r&&a===0&&(r(),r=void 0,i.clear(),i=i3)}function h(){o||(o=!0,f())}function p(){o&&(o=!1,d())}const y={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>i};return y}var mfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gfe=mfe(),vfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yfe=vfe(),wfe=()=>gfe||yfe?C.useLayoutEffect:C.useEffect,bfe=wfe(),Ww=Symbol.for("react-redux-context"),Hw=typeof globalThis<"u"?globalThis:{};function _fe(){if(!C.createContext)return{};const n=Hw[Ww]??(Hw[Ww]=new Map);let e=n.get(C.createContext);return e||(e=C.createContext(null),n.set(C.createContext,e)),e}var xfe=_fe();function Afe(n){const{children:e,context:r,serverState:i,store:a}=n,o=C.useMemo(()=>{const u=pfe(a);return{store:a,subscription:u,getServerState:i?()=>i:void 0}},[a,i]),s=C.useMemo(()=>a.getState(),[a]);bfe(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,s]);const l=r||xfe;return C.createElement(l.Provider,{value:o},e)}var Sfe=Afe,Efe=(n,e)=>e,QE=Se([Efe,nn,RM,Jr,S7,Jl,gae,Qr],_ae),ZE=n=>{var e=n.currentTarget.getBoundingClientRect(),r=e.width/n.currentTarget.offsetWidth,i=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/r),chartY:Math.round((n.clientY-e.top)/i)}},jF=Oo("mouseClick"),LF=cg();LF.startListening({actionCreator:jF,effect:(n,e)=>{var r=n.payload,i=QE(e.getState(),ZE(r));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(Sie({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var L_=Oo("mouseMove"),DF=cg();DF.startListening({actionCreator:L_,effect:(n,e)=>{var r=n.payload,i=e.getState(),a=xE(i,i.tooltip.settings.shared),o=QE(i,ZE(r));a==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(v7({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(g7()))}});function Pfe(n,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var a3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},RF=lo({name:"rootProps",initialState:a3,reducers:{updateOptions:(n,e)=>{var r;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:a3.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className}}}),Nfe=RF.reducer,{updateOptions:kfe}=RF.actions,MF=lo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:Tfe}=MF.actions,Cfe=MF.reducer,FF=Oo("keyDown"),BF=Oo("focus"),JE=cg();JE.startListening({actionCreator:FF,effect:(n,e)=>{var r=e.getState(),i=r.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:a}=r.tooltip,o=n.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=Number(AE(a,Dh(r))),l=Jl(r);if(o==="Enter"){var u=v0(r,"axis","hover",String(a.index));e.dispatch(S_({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var c=mie(r),f=c==="left-to-right"?1:-1,d=o==="ArrowRight"?1:-1,h=s+d*f;if(!(l==null||h>=l.length||h<0)){var p=v0(r,"axis","hover",String(h));e.dispatch(S_({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});JE.startListening({actionCreator:BF,effect:(n,e)=>{var r=e.getState(),i=r.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var o="0",s=v0(r,"axis","hover",String(o));e.dispatch(S_({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var xo=Oo("externalEvent"),UF=cg();UF.startListening({actionCreator:xo,effect:(n,e)=>{if(n.payload.handler!=null){var r=e.getState(),i={activeCoordinate:oae(r),activeDataKey:k7(r),activeIndex:cc(r),activeLabel:N7(r),activeTooltipIndex:cc(r),isTooltipActive:sae(r)};n.payload.handler(i,n.payload.reactEvent)}}});var Ife=Se([Lh],n=>n.tooltipItemPayloads),Ofe=Se([Ife,bg,(n,e,r)=>e,(n,e,r)=>r],(n,e,r,i)=>{var a=n.find(l=>l.settings.dataKey===i);if(a!=null){var{positions:o}=a;if(o!=null){var s=e(o,r);return s}}}),$F=Oo("touchMove"),VF=cg();VF.startListening({actionCreator:$F,effect:(n,e)=>{var r=n.payload,i=e.getState(),a=xE(i,i.tooltip.settings.shared);if(a==="axis"){var o=QE(i,ZE({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(v7({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=r.touches[0],u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(u8),f=(s=u.getAttribute(c8))!==null&&s!==void 0?s:void 0,d=Ofe(e.getState(),c,f);e.dispatch(m7({activeDataKey:f,activeIndex:c,activeCoordinate:d}))}}});var jfe=DR({brush:yue,cartesianAxis:Bce,chartData:Rae,errorBars:xle,graphicalItems:Ise,layout:EZ,legend:dJ,options:Iae,polarAxis:Joe,polarOptions:Cfe,referenceElements:Eue,rootProps:Nfe,tooltip:Eie}),Lfe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return XQ({reducer:jfe,preloadedState:e,middleware:i=>i({serializableCheck:!1}).concat([LF.middleware,DF.middleware,JE.middleware,UF.middleware,VF.middleware]),devTools:{serialize:{replacer:Pfe},name:"recharts-".concat(r)}})};function zF(n){var{preloadedState:e,children:r,reduxStoreName:i}=n,a=Pa(),o=C.useRef(null);if(a)return r;o.current==null&&(o.current=Lfe(e,i));var s=cS;return C.createElement(Sfe,{context:s,store:o.current},r)}function qF(n){var{layout:e,width:r,height:i,margin:a}=n,o=cr(),s=Pa();return C.useEffect(()=>{s||(o(xZ(e)),o(AZ({width:r,height:i})),o(_Z(a)))},[o,s,e,r,i,a]),null}function WF(n){var e=cr();return C.useEffect(()=>{e(kfe(n))},[e,n]),null}var Dfe=["children"];function Rfe(n,e){if(n==null)return{};var r,i,a=Mfe(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function Mfe(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}function S0(){return S0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},S0.apply(null,arguments)}var Ffe={width:"100%",height:"100%"},Bfe=C.forwardRef((n,e)=>{var r=_S(),i=xS(),a=g8();if(!sh(r)||!sh(i))return null;var{children:o,otherAttributes:s,title:l,desc:u}=n,c,f;return typeof s.tabIndex=="number"?c=s.tabIndex:c=a?0:void 0,typeof s.role=="string"?f=s.role:f=a?"application":void 0,C.createElement(XA,S0({},s,{title:l,desc:u,role:f,tabIndex:c,width:r,height:i,style:Ffe,ref:e}),o)}),Ufe=n=>{var{children:e}=n,r=it(Q1);if(!r)return null;var{width:i,height:a,y:o,x:s}=r;return C.createElement(XA,{width:i,height:a,x:s,y:o},e)},o3=C.forwardRef((n,e)=>{var{children:r}=n,i=Rfe(n,Dfe),a=Pa();return a?C.createElement(Ufe,null,r):C.createElement(Bfe,S0({ref:e},i),r)});function $fe(){var n=cr(),[e,r]=C.useState(null),i=it(eJ);return C.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),o=a.width/e.offsetWidth;io(o)&&o!==i&&n(SZ(o))}},[e,n,i]),r}function s3(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Vfe(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s3(Object(r),!0).forEach(function(i){zfe(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function zfe(n,e,r){return(e=qfe(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function qfe(n){var e=Wfe(n,"string");return typeof e=="symbol"?e:e+""}function Wfe(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Hfe=C.forwardRef((n,e)=>{var{children:r,className:i,height:a,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:c,onMouseLeave:f,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:y,onTouchStart:w,style:_,width:b}=n,S=cr(),[A,T]=C.useState(null),[B,$]=C.useState(null);Bae();var L=$fe(),I=C.useCallback(M=>{L(M),typeof e=="function"&&e(M),T(M),$(M)},[L,e,T,$]),O=C.useCallback(M=>{S(jF(M)),S(xo({handler:o,reactEvent:M}))},[S,o]),U=C.useCallback(M=>{S(L_(M)),S(xo({handler:c,reactEvent:M}))},[S,c]),k=C.useCallback(M=>{S(g7()),S(xo({handler:f,reactEvent:M}))},[S,f]),R=C.useCallback(M=>{S(L_(M)),S(xo({handler:d,reactEvent:M}))},[S,d]),j=C.useCallback(()=>{S(BF())},[S]),H=C.useCallback(M=>{S(FF(M.key))},[S]),oe=C.useCallback(M=>{S(xo({handler:s,reactEvent:M}))},[S,s]),he=C.useCallback(M=>{S(xo({handler:l,reactEvent:M}))},[S,l]),ye=C.useCallback(M=>{S(xo({handler:u,reactEvent:M}))},[S,u]),re=C.useCallback(M=>{S(xo({handler:h,reactEvent:M}))},[S,h]),ue=C.useCallback(M=>{S(xo({handler:w,reactEvent:M}))},[S,w]),ae=C.useCallback(M=>{S($F(M)),S(xo({handler:y,reactEvent:M}))},[S,y]),ne=C.useCallback(M=>{S(xo({handler:p,reactEvent:M}))},[S,p]);return C.createElement(L7.Provider,{value:A},C.createElement(VD.Provider,{value:B},C.createElement("div",{className:dn("recharts-wrapper",i),style:Vfe({position:"relative",cursor:"default",width:b,height:a},_),onClick:O,onContextMenu:oe,onDoubleClick:he,onFocus:j,onKeyDown:H,onMouseDown:ye,onMouseEnter:U,onMouseLeave:k,onMouseMove:R,onMouseUp:re,onTouchEnd:ne,onTouchMove:ae,onTouchStart:ue,ref:I},r)))}),Kfe=["children","className","width","height","style","compact","title","desc"];function Gfe(n,e){if(n==null)return{};var r,i,a=Yfe(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function Yfe(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}var HF=C.forwardRef((n,e)=>{var{children:r,className:i,width:a,height:o,style:s,compact:l,title:u,desc:c}=n,f=Gfe(n,Kfe),d=Gl(f);return l?C.createElement(o3,{otherAttributes:d,title:u,desc:c},r):C.createElement(Hfe,{className:i,style:s,width:a,height:o,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},C.createElement(o3,{otherAttributes:d,title:u,desc:c,ref:e},C.createElement(Nue,null,r)))}),Xfe=["width","height"];function D_(){return D_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},D_.apply(null,arguments)}function Qfe(n,e){if(n==null)return{};var r,i,a=Zfe(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function Zfe(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}var Jfe={top:5,right:5,bottom:5,left:5},ede={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jfe,reverseStackOrder:!1,syncMethod:"index"},KF=C.forwardRef(function(e,r){var i,a=uo(e.categoricalChartProps,ede),{width:o,height:s}=a,l=Qfe(a,Xfe);if(!sh(o)||!sh(s))return null;var{chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,p={chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:d,eventEmitter:void 0};return C.createElement(zF,{preloadedState:{options:p},reduxStoreName:(i=h.id)!==null&&i!==void 0?i:u},C.createElement(vF,{chartData:h.data}),C.createElement(qF,{width:o,height:s,layout:a.layout,margin:a.margin}),C.createElement(WF,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),C.createElement(HF,D_({},l,{width:o,height:s,ref:r})))}),tde=["axis"],nde=C.forwardRef((n,e)=>C.createElement(KF,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tde,tooltipPayloadSearcher:IE,categoricalChartProps:n,ref:e})),rde=["axis","item"],l3=C.forwardRef((n,e)=>C.createElement(KF,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rde,tooltipPayloadSearcher:IE,categoricalChartProps:n,ref:e}));function ide(n){var e=cr();return C.useEffect(()=>{e(Tfe(n))},[e,n]),null}var ade=["width","height","layout"];function R_(){return R_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},R_.apply(null,arguments)}function ode(n,e){if(n==null)return{};var r,i,a=sde(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function sde(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;r[i]=n[i]}return r}var lde={top:5,right:5,bottom:5,left:5},ude={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lde,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},cde=C.forwardRef(function(e,r){var i,a=uo(e.categoricalChartProps,ude),{width:o,height:s,layout:l}=a,u=ode(a,ade);if(!sh(o)||!sh(s))return null;var{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,p={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return C.createElement(zF,{preloadedState:{options:p},reduxStoreName:(i=a.id)!==null&&i!==void 0?i:c},C.createElement(vF,{chartData:a.data}),C.createElement(qF,{width:o,height:s,layout:l,margin:a.margin}),C.createElement(WF,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),C.createElement(ide,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),C.createElement(HF,R_({width:o,height:s},u,{ref:r})))}),fde=["item"],dde={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},hde=C.forwardRef((n,e)=>{var r=uo(n,dde);return C.createElement(cde,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:fde,tooltipPayloadSearcher:IE,categoricalChartProps:r,ref:e})});const _u=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],GF=({shipments:n,isAdmin:e=!1})=>{const{translations:r}=ss(),i=C.useRef([]),[a,o]=iO.useState([]);C.useEffect(()=>{if(!n||!Array.isArray(n)){o([]);return}const b=JSON.stringify(n.map(A=>({id:A.id,cliente:A.cliente,status:A.status,armador:A.armador}))),S=JSON.stringify(i.current.map(A=>({id:A.id,cliente:A.cliente,status:A.status,armador:A.armador})));if(b!==S){const A=setTimeout(()=>{o(n),i.current=n},100);return()=>clearTimeout(A)}},[n]);const s=C.useMemo(()=>!a||!Array.isArray(a)||a.length===0?[]:a.filter(b=>b&&typeof b=="object"),[a]),l=()=>{if(s.length===0)return[];const b={};return s.forEach(S=>{const A=S.status||"No definido";b[A]=(b[A]||0)+1}),Object.entries(b).map(([S,A],T)=>({name:S,value:A,color:_u[T%_u.length]}))},u=()=>{if(s.length===0)return[];const b={};return s.forEach(S=>{if(S.etdOrigem){const A=new Date(S.etdOrigem),T=`${A.getMonth()+1}/${A.getFullYear()}`;b[T]=(b[T]||0)+1}}),Object.entries(b).sort((S,A)=>{const[T,B]=S[0].split("/"),[$,L]=A[0].split("/");return new Date(parseInt(B),parseInt(T)-1).getTime()-new Date(parseInt(L),parseInt($)-1).getTime()}).map(([S,A])=>({name:S,value:A,color:"#8884d8"}))},c=()=>{if(s.length===0)return[];const b={};return s.forEach(S=>{if(S.pol){const A=S.pol;b[A]=(b[A]||0)+1}}),Object.entries(b).sort((S,A)=>A[1]-S[1]).slice(0,8).map(([S,A],T)=>({name:S,value:A,color:_u[T%_u.length]}))},f=()=>{if(s.length===0)return[];const b={};return s.forEach(S=>{const A=S.cliente||"No definido";b[A]=(b[A]||0)+1}),Object.entries(b).sort((S,A)=>A[1]-S[1]).slice(0,10).map(([S,A],T)=>({name:S,value:A,color:_u[T%_u.length]}))},d=()=>{if(s.length===0)return[];const b={};return s.forEach(S=>{if(S.armador){const A=S.armador;b[A]=(b[A]||0)+1}}),Object.entries(b).sort((S,A)=>A[1]-S[1]).slice(0,8).map(([S,A],T)=>({name:S,value:A,color:_u[T%_u.length]}))},h=()=>{const b=s.length,S=s.filter(B=>B.status==="concluido"||B.status==="entregue").length,A=s.filter(B=>B.status==="documentacao"||B.status==="pendente").length,T=s.filter(B=>B.status==="em-transito"||B.status==="embarcado").length;return{total:b,completed:S,pending:A,inTransit:T,completedPercentage:b>0?Math.round(S/b*100):0,pendingPercentage:b>0?Math.round(A/b*100):0}},p=l(),y=u(),w=c();f(),d();const _=C.useMemo(()=>h(),[s]);return s.length===0?n&&n.length>0?v.jsx("div",{className:"dashboard-charts",children:v.jsxs("div",{className:"loading-charts",children:[v.jsx(qs,{size:48}),v.jsx("h3",{children:r.loadingCharts}),v.jsx("p",{children:r.stabilizingData})]})}):v.jsx("div",{className:"dashboard-charts",children:v.jsxs("div",{className:"no-data-message",children:[v.jsx(qs,{size:48}),v.jsx("h3",{children:"Nenhum dado disponvel"}),v.jsx("p",{children:"No h envios para exibir nos grficos."})]})}):v.jsxs("div",{className:"dashboard-charts",children:[v.jsxs("div",{className:"stats-overview",children:[v.jsxs("div",{className:"stat-item",children:[v.jsx("div",{className:"stat-icon total",children:v.jsx(Sf,{size:20})}),v.jsxs("div",{className:"stat-content",children:[v.jsx("h3",{children:"Total de Envios"}),v.jsx("p",{className:"stat-number",children:_.total})]})]}),v.jsxs("div",{className:"stat-item",children:[v.jsx("div",{className:"stat-icon completed",children:v.jsx(Tm,{size:20})}),v.jsxs("div",{className:"stat-content",children:[v.jsx("h3",{children:"Completos"}),v.jsxs("p",{className:"stat-number",children:[_.completedPercentage,"%"]}),v.jsxs("small",{children:[_.completed," de ",_.total]})]})]}),v.jsxs("div",{className:"stat-item",children:[v.jsx("div",{className:"stat-icon pending",children:v.jsx(Cm,{size:20})}),v.jsxs("div",{className:"stat-content",children:[v.jsx("h3",{children:"Pendentes"}),v.jsxs("p",{className:"stat-number",children:[_.pendingPercentage,"%"]}),v.jsxs("small",{children:[_.pending," de ",_.total]})]})]}),v.jsxs("div",{className:"stat-item",children:[v.jsx("div",{className:"stat-icon in-transit",children:v.jsx(qs,{size:20})}),v.jsxs("div",{className:"stat-content",children:[v.jsx("h3",{children:"Em Trnsito"}),v.jsx("p",{className:"stat-number",children:_.inTransit})]})]})]}),v.jsxs("div",{className:"charts-grid",children:[v.jsxs("div",{className:"chart-container",children:[v.jsx("h3",{children:r.distributionByStatus}),v.jsx(Ev,{width:"100%",height:300,children:v.jsxs(hde,{children:[v.jsx(uF,{data:p,cx:"50%",cy:"50%",labelLine:!1,label:({name:b,percent:S})=>`${b} ${((S||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:p.map((b,S)=>v.jsx(xg,{fill:b.color},`cell-${S}`))}),v.jsx(Sv,{})]})})]}),v.jsxs("div",{className:"chart-container",children:[v.jsx("h3",{children:"Evoluo dos Meus Envios"}),v.jsx(Ev,{width:"100%",height:300,children:v.jsxs(l3,{data:y,children:[v.jsx(ey,{strokeDasharray:"3 3"}),v.jsx(Yp,{dataKey:"name"}),v.jsx(Xp,{}),v.jsx(Sv,{}),v.jsx(C_,{dataKey:"value",fill:"#82ca9d"})]})})]}),v.jsxs("div",{className:"chart-container",children:[v.jsx("h3",{children:"Status dos Meus Envios"}),v.jsx(Ev,{width:"100%",height:300,children:v.jsxs(nde,{data:y,children:[v.jsx(ey,{strokeDasharray:"3 3"}),v.jsx(Yp,{dataKey:"name"}),v.jsx(Xp,{}),v.jsx(Sv,{}),v.jsx(J1,{}),v.jsx(kF,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2})]})})]}),v.jsxs("div",{className:"chart-container",children:[v.jsx("h3",{children:"Portos de Origem"}),v.jsx(Ev,{width:"100%",height:300,children:v.jsxs(l3,{data:w,children:[v.jsx(ey,{strokeDasharray:"3 3"}),v.jsx(Yp,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),v.jsx(Xp,{}),v.jsx(Sv,{}),v.jsx(C_,{dataKey:"value",fill:"#ffc658"})]})})]})]})]})},YF="/assets/logo2-zcXtDjh0.png",XF=({onClose:n,initialTab:e})=>{const{isAdmin:r}=Do(),[i,a]=C.useState([]),[o,s]=C.useState([]),[l,u]=C.useState([]),[c,f]=C.useState(!0),[d,h]=C.useState(e||"users"),[p,y]=C.useState(!1),[w,_]=C.useState({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:vn.COMPANY_USER}),[b,S]=C.useState(!1),[A,T]=C.useState({});C.useEffect(()=>{r()&&(e&&h(e),B())},[r,e]);const B=async()=>{try{f(!0);const H=(await Vs(Sa(Zt,"users"))).docs.map(ue=>({...ue.data(),uid:ue.id}));a(H);const he=(await Vs(Sa(Zt,"companies"))).docs.map(ue=>({...ue.data(),id:ue.id}));s(he);const re=(await Vs(Sa(Zt,"shipments"))).docs.map(ue=>({...ue.data(),id:ue.id}));u(re)}catch(j){console.error("Error loading admin data:",j)}finally{f(!1)}},$=async(j,H)=>{try{await Zu(yr(Zt,"users",j),{isActive:!H,updatedAt:new Date}),a(i.map(oe=>oe.uid===j?{...oe,isActive:!H}:oe))}catch(oe){console.error("Error updating user status:",oe),alert("Erro ao atualizar status do usurio")}},L=async(j,H)=>{try{await Zu(yr(Zt,"companies",j),{isActive:!H,updatedAt:new Date}),s(o.map(oe=>oe.id===j?{...oe,isActive:!H}:oe))}catch(oe){console.error("Error updating company status:",oe),alert("Erro ao atualizar status da empresa")}},I=async(j,H)=>{try{await Zu(yr(Zt,"shipments",j),{companyId:H==="unassigned"?null:H,updatedAt:new Date}),u(l.map(oe=>oe.id===j?{...oe,companyId:H==="unassigned"?void 0:H}:oe))}catch(oe){console.error("Error assigning shipment:",oe),alert("Erro ao atribuir shipment  empresa")}},O=async j=>{if(confirm("Tem certeza que deseja excluir este usurio?"))try{await zK(yr(Zt,"users",j)),a(i.filter(H=>H.uid!==j))}catch(H){console.error("Error deleting user:",H),alert("Erro ao excluir usurio")}},U=j=>{if(!j)return"No atribudo";const H=o.find(oe=>oe.id===j);return H?H.name:"Empresa no encontrada"},k=async()=>{const j={};if(w.name.trim()||(j.name="Nome  obrigatrio"),w.email.trim()?/\S+@\S+\.\S+/.test(w.email)||(j.email="Email invlido"):j.email="Email  obrigatrio",w.password?w.password.length<6&&(j.password="Senha deve ter pelo menos 6 caracteres"):j.password="Senha  obrigatria",w.password!==w.confirmPassword&&(j.confirmPassword="Senhas no coincidem"),w.role===vn.COMPANY_USER&&(w.companyName.trim()||(j.companyName="Nome da empresa  obrigatrio"),w.companyCode.trim()||(j.companyCode="Cdigo da empresa  obrigatrio")),Object.keys(j).length>0){T(j);return}T({}),S(!0);try{if(i.find(ae=>ae.email===w.email)){alert("Este email j est em uso");return}const oe=`user_${Date.now()}`;let he;if(w.role===vn.COMPANY_USER&&w.companyName&&w.companyCode){const ae=o.find(ne=>ne.code===w.companyCode.toUpperCase());if(ae)he=ae.id;else{he=`company_${Date.now()}`,await km(yr(Zt,"companies",he),{id:he,name:w.companyName,code:w.companyCode.toUpperCase(),contactEmail:w.email,isActive:!0,createdAt:new Date});const ne={id:he,name:w.companyName,code:w.companyCode.toUpperCase(),contactEmail:w.email,isActive:!0,createdAt:new Date};s([...o,ne])}}const ye={uid:oe,displayName:w.name,email:w.email,role:w.role,isActive:!0,createdAt:new Date},re=w.role===vn.COMPANY_USER?{...ye,companyId:he,companyName:w.companyName}:ye;await km(yr(Zt,"users",oe),re);const ue=re;a([...i,ue]),_({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:vn.COMPANY_USER}),y(!1),alert("Usurio criado com sucesso!")}catch(H){console.error("Erro ao criar usurio:",H),alert("Erro ao criar usurio. Tente novamente.")}finally{S(!1)}},R=()=>{_({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:vn.COMPANY_USER}),T({}),y(!1)};return r()?c?v.jsx("div",{className:"admin-panel",children:v.jsx("div",{className:"admin-panel-content",children:v.jsx("h2",{children:"Carregando..."})})}):v.jsx("div",{className:"admin-panel",children:v.jsxs("div",{className:"admin-panel-content",children:[v.jsxs("div",{className:"admin-panel-header",children:[v.jsx("h2",{children:"Painel Administrativo"}),v.jsx("button",{onClick:n,className:"close-button",children:""})]}),v.jsxs("div",{className:"admin-tabs",children:[v.jsxs("button",{className:`tab-button ${d==="users"?"active":""}`,onClick:()=>h("users"),"data-tab":"users",children:["Usurios (",i.length,")"]}),v.jsxs("button",{className:`tab-button ${d==="companies"?"active":""}`,onClick:()=>h("companies"),"data-tab":"companies",children:["Empresas (",o.length,")"]}),v.jsxs("button",{className:`tab-button ${d==="shipments"?"active":""}`,onClick:()=>h("shipments"),"data-tab":"shipments",children:["Shipments (",l.length,")"]})]}),d==="users"&&v.jsxs("div",{className:"admin-section",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[v.jsx("h3",{style:{margin:0},children:"Gerenciar Usurios"}),v.jsxs("button",{onClick:()=>y(!0),style:{display:"flex",alignItems:"center",gap:"0.5rem",backgroundColor:"#789170",marginRight:0,marginBottom:0,color:"white"},children:[v.jsx(jY,{size:16}),"Criar Usurio"]})]}),v.jsx("div",{className:"admin-table",children:v.jsxs("table",{children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Nome"}),v.jsx("th",{children:"Email"}),v.jsx("th",{children:"Role"}),v.jsx("th",{children:"Empresa"}),v.jsx("th",{children:"Status"}),v.jsx("th",{children:"Aes"})]})}),v.jsx("tbody",{children:i.map(j=>v.jsxs("tr",{children:[v.jsx("td",{children:j.displayName}),v.jsx("td",{children:j.email}),v.jsx("td",{children:v.jsx("span",{className:`role-badge ${j.role}`,children:j.role===vn.ADMIN?"Admin":"Empresa"})}),v.jsx("td",{children:j.companyName||"-"}),v.jsx("td",{children:v.jsx("span",{className:`status-badge ${j.isActive?"active":"inactive"}`,children:j.isActive?"Ativo":"Inativo"})}),v.jsx("td",{children:v.jsxs("div",{className:"action-buttons",children:[v.jsx("button",{onClick:()=>$(j.uid,j.isActive),children:j.isActive?"Desativar":"Ativar"}),v.jsx("button",{onClick:()=>O(j.uid),className:"delete",children:"Excluir"})]})})]},j.uid))})]})})]}),d==="companies"&&v.jsxs("div",{className:"admin-section",children:[v.jsx("h3",{children:"Gerenciar Empresas"}),v.jsx("div",{className:"admin-table",children:v.jsxs("table",{children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Nome"}),v.jsx("th",{children:"Cdigo"}),v.jsx("th",{children:"Email de Contato"}),v.jsx("th",{children:"Status"}),v.jsx("th",{children:"Aes"})]})}),v.jsx("tbody",{children:o.map(j=>v.jsxs("tr",{children:[v.jsx("td",{children:j.name}),v.jsx("td",{children:j.code}),v.jsx("td",{children:j.contactEmail}),v.jsx("td",{children:v.jsx("span",{className:`status-badge ${j.isActive?"active":"inactive"}`,children:j.isActive?"Ativa":"Inativa"})}),v.jsx("td",{children:v.jsx("button",{onClick:()=>L(j.id,j.isActive),children:j.isActive?"Desativar":"Ativar"})})]},j.id))})]})})]}),d==="shipments"&&v.jsxs("div",{className:"admin-section",children:[v.jsx("h3",{children:"Gerenciar Shipments"}),v.jsx("div",{className:"admin-note",children:v.jsxs("p",{children:[v.jsx("strong",{children:"Nota:"})," Apenas administradores podem criar shipments. Use esta aba para atribuir shipments s empresas."]})}),v.jsx("div",{className:"admin-table",children:v.jsxs("table",{children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"BL"}),v.jsx("th",{children:"Cliente"}),v.jsx("th",{children:"POL  POD"}),v.jsx("th",{children:"Status"}),v.jsx("th",{children:"Empresa Atual"}),v.jsx("th",{children:"Atribuir  Empresa"})]})}),v.jsx("tbody",{children:l.map(j=>v.jsxs("tr",{children:[v.jsx("td",{children:j.numeroBl}),v.jsx("td",{children:j.cliente}),v.jsxs("td",{children:[j.pol,"  ",j.pod]}),v.jsx("td",{children:j.status}),v.jsx("td",{children:U(j.companyId)}),v.jsx("td",{children:v.jsxs("select",{value:j.companyId||"unassigned",onChange:H=>I(j.id,H.target.value),className:"company-selector",children:[v.jsx("option",{value:"unassigned",children:"No atribudo"}),o.filter(H=>H.isActive).map(H=>v.jsxs("option",{value:H.id,children:[H.name," (",H.code,")"]},H.id))]})})]},j.id))})]})})]}),p&&v.jsx("div",{className:"admin-panel",style:{zIndex:1100},children:v.jsxs("div",{className:"admin-panel-content",style:{maxWidth:"600px"},children:[v.jsxs("div",{className:"admin-panel-header",children:[v.jsx("h2",{children:"Criar Novo Usurio"}),v.jsx("button",{onClick:R,className:"close-button",children:""})]}),v.jsxs("div",{className:"admin-section",children:[v.jsxs("div",{style:{marginBottom:"1.5rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Tipo de Usurio"}),v.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",padding:"0.5rem 1rem",border:"2px solid #e1e5e9",borderRadius:"8px",backgroundColor:w.role===vn.COMPANY_USER?"#e6f3ff":"white",borderColor:w.role===vn.COMPANY_USER?"#0066cc":"#e1e5e9"},children:[v.jsx("input",{type:"radio",name:"userType",checked:w.role===vn.COMPANY_USER,onChange:()=>_({...w,role:vn.COMPANY_USER}),style:{margin:0}}),"Usurio de Empresa"]}),v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",padding:"0.5rem 1rem",border:"2px solid #e1e5e9",borderRadius:"8px",backgroundColor:w.role===vn.ADMIN?"#e6f3ff":"white",borderColor:w.role===vn.ADMIN?"#0066cc":"#e1e5e9"},children:[v.jsx("input",{type:"radio",name:"userType",checked:w.role===vn.ADMIN,onChange:()=>_({...w,role:vn.ADMIN}),style:{margin:0}}),"Administrador"]})]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Nome Completo *"}),v.jsx("input",{type:"text",value:w.name,onChange:j=>_({...w,name:j.target.value}),placeholder:"Digite o nome completo",style:{width:"100%",padding:"0.75rem",border:`1px solid ${A.name?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),A.name&&v.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:A.name})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Email *"}),v.jsx("input",{type:"email",value:w.email,onChange:j=>_({...w,email:j.target.value}),placeholder:"usuario@email.com",style:{width:"100%",padding:"0.75rem",border:`1px solid ${A.email?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),A.email&&v.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:A.email})]})]}),w.role===vn.COMPANY_USER&&v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Nome da Empresa *"}),v.jsx("input",{type:"text",value:w.companyName,onChange:j=>_({...w,companyName:j.target.value}),placeholder:"Digite o nome da empresa",style:{width:"100%",padding:"0.75rem",border:`1px solid ${A.companyName?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),A.companyName&&v.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:A.companyName})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Cdigo da Empresa *"}),v.jsx("input",{type:"text",value:w.companyCode,onChange:j=>_({...w,companyCode:j.target.value.toUpperCase()}),placeholder:"Ex: LOG001",style:{width:"100%",padding:"0.75rem",border:`1px solid ${A.companyCode?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),A.companyCode&&v.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:A.companyCode}),v.jsx("small",{style:{color:"#6c757d",fontSize:"0.8rem"},children:"Cdigo nico para identificar a empresa"})]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Senha *"}),v.jsx("input",{type:"password",value:w.password,onChange:j=>_({...w,password:j.target.value}),placeholder:"Mnimo 6 caracteres",style:{width:"100%",padding:"0.75rem",border:`1px solid ${A.password?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),A.password&&v.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:A.password})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Confirmar Senha *"}),v.jsx("input",{type:"password",value:w.confirmPassword,onChange:j=>_({...w,confirmPassword:j.target.value}),placeholder:"Confirme a senha",style:{width:"100%",padding:"0.75rem",border:`1px solid ${A.confirmPassword?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),A.confirmPassword&&v.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:A.confirmPassword})]})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[v.jsx("button",{onClick:R,style:{backgroundColor:"#6c757d",color:"white"},disabled:b,children:"Cancelar"}),v.jsx("button",{onClick:k,style:{backgroundColor:"#789170",color:"white"},disabled:b,children:b?"Criando...":"Criar Usurio"})]})]})]})})]})}):v.jsx("div",{className:"admin-panel",children:v.jsxs("div",{className:"admin-panel-content",children:[v.jsx("h2",{children:"Acesso Negado"}),v.jsx("p",{children:"Voc no tem permisso para acessar o painel administrativo."}),v.jsx("button",{onClick:n,children:"Fechar"})]})})},ql=()=>{const{isCollapsed:n,setIsCollapsed:e}=C.useContext(Jm),[r,i]=C.useState(!1),a=Df(),o=t1(),{isAdmin:s,logout:l}=Do(),{translations:u}=ss(),f=o.pathname.includes("settings")?"settings":o.pathname.includes("novo-envio")?"novo-envio":o.pathname.includes("envios")?"envios":"home",d=()=>{l(),a("/")};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:`navbar ${n?"collapsed":"expanded"}`,children:[v.jsxs("div",{className:"navbar-header",children:[v.jsx("button",{className:"toggle-btn",onClick:()=>e(!n),"aria-label":n?u.expandMenu:u.collapseMenu,children:n?v.jsx(EY,{size:20}):v.jsx(Fl,{size:20})}),v.jsx("div",{className:"company-logo",children:v.jsx("img",{src:YF,alt:"SeaLogistics Logo",className:`company-logo-img ${n?"hidden":"visible"}`})})]}),v.jsxs("nav",{className:"nav-items",children:[v.jsxs("div",{className:`nav-item ${f==="home"?"active":""}`,onClick:()=>a("/home"),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&a("/home"),children:[v.jsx("div",{className:"icon-container",children:v.jsx(SY,{size:20})}),v.jsx("span",{className:`nav-text ${n?"hidden":"visible"}`,children:s()?u.dashboard:u.inicio})]}),v.jsxs("div",{className:`nav-item ${f==="envios"?"active":""}`,onClick:()=>a("/envios"),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&a("/envios"),children:[v.jsx("div",{className:"icon-container",children:v.jsx(Sf,{size:20})}),v.jsx("span",{className:`nav-text ${n?"hidden":"visible"}`,children:u.envios})]}),s()&&v.jsxs("div",{className:`nav-item ${f==="novo-envio"?"active":""}`,onClick:()=>a("/novo-envio"),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&a("/novo-envio"),children:[v.jsx("div",{className:"icon-container",children:v.jsx(CD,{size:20})}),v.jsx("span",{className:`nav-text ${n?"hidden":"visible"}`,children:u.novoEnvio})]}),v.jsxs("div",{className:`nav-item ${f==="settings"?"active":""}`,onClick:()=>a("/settings"),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&a("/settings"),children:[v.jsx("div",{className:"icon-container",children:v.jsx(VA,{size:20})}),v.jsx("span",{className:`nav-text ${n?"hidden":"visible"}`,children:u.configuracoes})]}),v.jsxs("div",{className:"nav-item logout",onClick:d,role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&d(),children:[v.jsx("div",{className:"icon-container",children:v.jsx(Fl,{size:20})}),v.jsx("span",{className:`nav-text ${n?"hidden":"visible"}`,children:u.sair})]})]})]}),r&&v.jsx(XF,{onClose:()=>i(!1)})]})},QF=()=>{const{currentUser:n}=Do(),{translations:e}=ss(),{shipments:r,loading:i}=_1(),a=Df(),[o,s]=C.useState({totalShipments:0,inTransit:0,delivered:0,pending:0,thisMonth:0,totalUsers:0,totalCompanies:0,activeCompanies:0}),[l,u]=C.useState(!0),[c,f]=C.useState(!1),[d,h]=C.useState("users"),p=y=>{h(y),f(!0)};return C.useEffect(()=>{(async()=>{try{u(!0);const _=(await Vs(Sa(Zt,"users"))).size,S=(await Vs(Sa(Zt,"companies"))).docs.map(j=>j.data()),A=S.length,T=S.filter(j=>j.isActive).length,B=new Date,$=B.getMonth(),L=B.getFullYear(),I=r.length,O=r.filter(j=>j.status==="em-transito"||j.status==="agendado").length,U=r.filter(j=>j.status==="concluido").length,k=r.filter(j=>j.status==="documentacao").length,R=r.filter(j=>{if(j.etdOrigem){const H=new Date(j.etdOrigem);return H.getMonth()===$&&H.getFullYear()===L}return!1}).length;s({totalShipments:I,inTransit:O,delivered:U,pending:k,thisMonth:R,totalUsers:_,totalCompanies:A,activeCompanies:T})}catch(w){console.error("Error loading admin stats:",w)}finally{u(!1)}})()},[r]),l||i?v.jsxs("main",{className:"dashboard-container",children:[v.jsx(ql,{}),v.jsx("div",{className:"dashboard-content",children:v.jsx("div",{className:"loading-message",children:e.loading})}),v.jsx(Ef,{})]}):v.jsxs("main",{className:"dashboard-container",children:[v.jsx(ql,{}),v.jsxs("div",{className:"dashboard-content",children:[v.jsxs("div",{className:"dashboard-header",children:[v.jsx("h1",{children:e.administrativeDashboard}),v.jsx("p",{children:e.welcomeAdmin})]}),v.jsxs("div",{className:"stats-grid",children:[v.jsxs("div",{className:"stat-card clickable",onClick:()=>a("/envios"),children:[v.jsx("div",{className:"stat-icon",children:v.jsx(Sf,{size:24})}),v.jsxs("div",{className:"stat-info",children:[v.jsx("h3",{children:e.totalShipments}),v.jsx("p",{className:"stat-number",children:o.totalShipments})]})]}),v.jsxs("div",{className:"stat-card clickable",onClick:()=>a("/envios?status=em-transito"),children:[v.jsx("div",{className:"stat-icon in-transit",children:v.jsx(qs,{size:24})}),v.jsxs("div",{className:"stat-info",children:[v.jsx("h3",{children:e.inTransit}),v.jsx("p",{className:"stat-number",children:o.inTransit})]})]}),v.jsxs("div",{className:"stat-card clickable",onClick:()=>a("/envios?status=concluido"),children:[v.jsx("div",{className:"stat-icon delivered",children:v.jsx(Tm,{size:24})}),v.jsxs("div",{className:"stat-info",children:[v.jsx("h3",{children:e.delivered}),v.jsx("p",{className:"stat-number",children:o.delivered})]})]}),v.jsxs("div",{className:"stat-card clickable",onClick:()=>a("/envios?status=documentacao"),children:[v.jsx("div",{className:"stat-icon pending",children:v.jsx(Cm,{size:24})}),v.jsxs("div",{className:"stat-info",children:[v.jsx("h3",{children:e.pending}),v.jsx("p",{className:"stat-number",children:o.pending})]})]}),v.jsxs("div",{className:"stat-card clickable",onClick:()=>a("/envios?filter=this-month"),children:[v.jsx("div",{className:"stat-icon this-month",children:v.jsx(jD,{size:24})}),v.jsxs("div",{className:"stat-info",children:[v.jsx("h3",{children:e.thisMonth}),v.jsx("p",{className:"stat-number",children:o.thisMonth})]})]}),v.jsxs("div",{className:"stat-card clickable",onClick:()=>{p("users")},children:[v.jsx("div",{className:"stat-icon users",children:v.jsx(LY,{size:24})}),v.jsxs("div",{className:"stat-info",children:[v.jsx("h3",{children:e.totalUsers}),v.jsx("p",{className:"stat-number",children:o.totalUsers})]})]}),v.jsxs("div",{className:"stat-card clickable",onClick:()=>{p("companies")},children:[v.jsx("div",{className:"stat-icon companies",children:v.jsx(vY,{size:24})}),v.jsxs("div",{className:"stat-info",children:[v.jsx("h3",{children:e.activeCompanies}),v.jsxs("p",{className:"stat-number",children:[o.activeCompanies,"/",o.totalCompanies]})]})]}),v.jsxs("div",{className:"stat-card clickable",onClick:()=>a("/envios"),children:[v.jsx("div",{className:"stat-icon action",children:v.jsx(nh,{size:24})}),v.jsxs("div",{className:"stat-info",children:[v.jsx("h3",{children:e.manageShipments}),v.jsx("p",{className:"action-text",children:e.clickToSeeAllShipments})]})]})]}),v.jsxs("div",{className:"quick-actions",children:[v.jsx("h2",{children:e.quickActions}),v.jsxs("div",{className:"actions-grid",children:[v.jsxs("button",{onClick:()=>a("/novo-envio"),children:[v.jsx(CD,{size:20}),v.jsx("span",{children:e.newShipment})]}),v.jsxs("button",{onClick:()=>{p("users")},children:[v.jsx(OD,{size:20}),v.jsx("span",{children:e.adminPanel})]}),v.jsxs("button",{onClick:()=>a("/settings"),children:[v.jsx(VA,{size:20}),v.jsx("span",{children:e.configurations})]})]})]}),v.jsx(GF,{shipments:r,isAdmin:!0})]}),c&&v.jsx(XF,{onClose:()=>f(!1),initialTab:d}),v.jsx(Ef,{})]})},ZF=()=>{const{currentUser:n,isAdmin:e}=Do(),{shipments:r,loading:i}=_1(),{translations:a}=ss(),o=Df(),[s,l]=C.useState({totalShipments:0,inTransit:0,delivered:0,pending:0,thisMonth:0}),[u,c]=C.useState([]);C.useEffect(()=>{!i&&e()&&o("/envios")},[e,i,o]);const f=C.useCallback(w=>{const _=new Date,b=_.getMonth(),S=_.getFullYear(),A=w.length,T=w.filter(I=>I.status==="em-transito"||I.status==="agendado").length,B=w.filter(I=>I.status==="concluido").length,$=w.filter(I=>I.status==="documentacao").length,L=w.filter(I=>{if(I.etdOrigem){const O=new Date(I.etdOrigem);return O.getMonth()===b&&O.getFullYear()===S}return!1}).length;l({totalShipments:A,inTransit:T,delivered:B,pending:$,thisMonth:L})},[]),d=C.useCallback(w=>{const _=w.slice(0,5).map(b=>({id:b.id||"",action:h(b.status),shipment:`${b.pol}  ${b.pod}`,date:b.etdOrigem||"",status:b.status}));c(_)},[a]),h=w=>{switch(w){case"documentao":return a.statusPending;case"agendado":return a.statusInTransit;case"em-trnsito":return a.statusInTransit;case"concludo":return a.statusDelivered;default:return a.statusUpdated}};C.useEffect(()=>{r.length>0&&(f(r),d(r))},[r,f,d]);const p=w=>w?new Date(w).toLocaleDateString("pt-BR"):"",y=w=>{switch(w){case"documentao":return"#073b4c";case"agendado":return"#118ab2";case"em-trnsito":return"#ffd166";case"concludo":return"#06d6a0";default:return"#6c757d"}};return i||e()?v.jsxs("main",{className:"dashboard-container",children:[v.jsx(ql,{}),v.jsx("div",{className:"dashboard-content",children:v.jsx("div",{className:"loading-message",children:i?a.loading:a.redirecting})}),v.jsx(Ef,{})]}):v.jsxs("main",{className:"dashboard-container",children:[v.jsx(ql,{}),v.jsxs("div",{className:"dashboard-content",children:[v.jsxs("div",{className:"dashboard-header",children:[v.jsx("h1",{children:a.dashboard}),v.jsxs("p",{children:[a.welcomeUser," ",n==null?void 0:n.displayName,"!"]})]}),v.jsxs("div",{className:"stats-section",children:[v.jsx("h2",{className:"section-title",children:a.overview}),v.jsxs("div",{className:"stats-grid",children:[v.jsxs("div",{className:"stat-card",onClick:()=>o("/envios"),children:[v.jsx("div",{className:"stat-icon",children:v.jsx(Sf,{size:24})}),v.jsxs("div",{className:"stat-info",children:[v.jsx("h3",{children:a.totalShipments}),v.jsx("p",{className:"stat-number",children:s.totalShipments})]})]}),v.jsxs("div",{className:"stat-card",onClick:()=>o("/envios?status=em-transito"),children:[v.jsx("div",{className:"stat-icon in-transit",children:v.jsx(qs,{size:24})}),v.jsxs("div",{className:"stat-info",children:[v.jsx("h3",{children:a.inTransit}),v.jsx("p",{className:"stat-number",children:s.inTransit})]})]}),v.jsxs("div",{className:"stat-card",onClick:()=>o("/envios?status=concluido"),children:[v.jsx("div",{className:"stat-icon delivered",children:v.jsx(Tm,{size:24})}),v.jsxs("div",{className:"stat-info",children:[v.jsx("h3",{children:a.delivered}),v.jsx("p",{className:"stat-number",children:s.delivered})]})]}),v.jsxs("div",{className:"stat-card",onClick:()=>o("/envios?status=documentacao"),children:[v.jsx("div",{className:"stat-icon pending",children:v.jsx(Cm,{size:24})}),v.jsxs("div",{className:"stat-info",children:[v.jsx("h3",{children:a.pending}),v.jsx("p",{className:"stat-number",children:s.pending})]})]}),v.jsxs("div",{className:"stat-card",onClick:()=>o("/envios?period=this-month"),children:[v.jsx("div",{className:"stat-icon this-month",children:v.jsx(jD,{size:24})}),v.jsxs("div",{className:"stat-info",children:[v.jsx("h3",{children:a.thisMonth}),v.jsx("p",{className:"stat-number",children:s.thisMonth})]})]})]})]}),v.jsxs("div",{className:"main-content-grid",children:[v.jsx("div",{className:"left-column",children:v.jsxs("div",{className:"recent-activity clickable-card",onClick:()=>o("/envios"),children:[v.jsx("h2",{className:"section-title",children:a.shipmentsTitle}),u.length>0?v.jsx("div",{className:"activity-list",children:u.map(w=>v.jsxs("div",{className:"activity-item",children:[v.jsx("div",{className:"activity-status-dot",style:{backgroundColor:y(w.status)}}),v.jsxs("div",{className:"activity-details",children:[v.jsx("p",{className:"activity-action",children:w.action}),v.jsxs("p",{className:"activity-shipment",children:[v.jsx($A,{size:14}),w.shipment]})]}),v.jsxs("div",{className:"activity-date",children:[v.jsx($5,{size:14}),p(w.date)]})]},w.id))}):v.jsxs("div",{className:"empty-activity",children:[v.jsx(nh,{size:48}),v.jsx("p",{children:a.noShipments})]})]})}),v.jsx("div",{className:"right-column",children:v.jsxs("div",{className:"quick-actions-section",children:[v.jsx("h2",{className:"section-title",children:a.quickActions}),v.jsxs("div",{className:"quick-actions-grid",children:[v.jsxs("a",{href:"/envios",className:"quick-action-card",children:[v.jsx("div",{className:"action-icon",children:v.jsx(Sf,{size:24})}),v.jsxs("div",{className:"action-content",children:[v.jsx("h3",{children:a.shipmentsTitle}),v.jsx("p",{children:a.manageShipments})]})]}),v.jsxs("a",{href:"/settings",className:"quick-action-card",children:[v.jsx("div",{className:"action-icon",children:v.jsx(VA,{size:24})}),v.jsxs("div",{className:"action-content",children:[v.jsx("h3",{children:a.settings}),v.jsx("p",{children:a.configurePreferences})]})]})]})]})})]}),v.jsxs("div",{className:"charts-section-full",children:[v.jsx("h2",{className:"section-title",children:a.analytics}),v.jsx(GF,{shipments:r,isAdmin:!1})]})]}),v.jsx(Ef,{})]})};var pde={exports:{}};(function(n,e){(function(r,i){i()})(ep,function(){function r(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function i(c,f,d){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){u(h.response,f,d)},h.onerror=function(){console.error("could not download file")},h.send()}function a(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function o(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ep=="object"&&ep.global===ep?ep:void 0,l=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(c,f,d){var h=s.URL||s.webkitURL,p=document.createElement("a");f=f||c.name||"download",p.download=f,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?o(p):a(p.href)?i(c,f,d):o(p,p.target="_blank")):(p.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){o(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,d){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(r(c,d),f);else if(a(c))i(c,f,d);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){o(h)})}}:function(c,f,d,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return i(c,f,d);var p=c.type==="application/octet-stream",y=/constructor/i.test(s.HTMLElement)||s.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||p&&y||l)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var A=_.result;A=w?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=A:location=A,h=null},_.readAsDataURL(c)}else{var b=s.URL||s.webkitURL,S=b.createObjectURL(c);h?h.location=S:location.href=S,h=null,setTimeout(function(){b.revokeObjectURL(S)},4e4)}});s.saveAs=u.saveAs=u,n.exports=u})})(pde);const mde="modulepreload",gde=function(n){return"/"+n},u3={},Kw=function(e,r,i){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(u=>{if(u=gde(u),u in u3)return;u3[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":mde,c||(d.as="script"),d.crossOrigin="",d.href=u,l&&d.setAttribute("nonce",l),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};function Sn(n){"@babel/helpers - typeof";return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(n)}var os=Uint8Array,Qa=Uint16Array,eP=Int32Array,tP=new os([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),nP=new os([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c3=new os([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JF=function(n,e){for(var r=new Qa(31),i=0;i<31;++i)r[i]=e+=1<<n[i-1];for(var a=new eP(r[30]),i=1;i<30;++i)for(var o=r[i];o<r[i+1];++o)a[o]=o-r[i]<<5|i;return{b:r,r:a}},e9=JF(tP,2),vde=e9.b,M_=e9.r;vde[28]=258,M_[258]=28;var yde=JF(nP,0),f3=yde.r,F_=new Qa(32768);for(var Kn=0;Kn<32768;++Kn){var xu=(Kn&43690)>>1|(Kn&21845)<<1;xu=(xu&52428)>>2|(xu&13107)<<2,xu=(xu&61680)>>4|(xu&3855)<<4,F_[Kn]=((xu&65280)>>8|(xu&255)<<8)>>1}var Qp=function(n,e,r){for(var i=n.length,a=0,o=new Qa(e);a<i;++a)n[a]&&++o[n[a]-1];var s=new Qa(e);for(a=1;a<e;++a)s[a]=s[a-1]+o[a-1]<<1;var l;if(r){l=new Qa(1<<e);var u=15-e;for(a=0;a<i;++a)if(n[a])for(var c=a<<4|n[a],f=e-n[a],d=s[n[a]-1]++<<f,h=d|(1<<f)-1;d<=h;++d)l[F_[d]>>u]=c}else for(l=new Qa(i),a=0;a<i;++a)n[a]&&(l[a]=F_[s[n[a]-1]++]>>15-n[a]);return l},Cf=new os(288);for(var Kn=0;Kn<144;++Kn)Cf[Kn]=8;for(var Kn=144;Kn<256;++Kn)Cf[Kn]=9;for(var Kn=256;Kn<280;++Kn)Cf[Kn]=7;for(var Kn=280;Kn<288;++Kn)Cf[Kn]=8;var E0=new os(32);for(var Kn=0;Kn<32;++Kn)E0[Kn]=5;var wde=Qp(Cf,9,0),bde=Qp(E0,5,0),t9=function(n){return(n+7)/8|0},_de=function(n,e,r){return(r==null||r>n.length)&&(r=n.length),new os(n.subarray(e,r))},hl=function(n,e,r){r<<=e&7;var i=e/8|0;n[i]|=r,n[i+1]|=r>>8},wp=function(n,e,r){r<<=e&7;var i=e/8|0;n[i]|=r,n[i+1]|=r>>8,n[i+2]|=r>>16},Gw=function(n,e){for(var r=[],i=0;i<n.length;++i)n[i]&&r.push({s:i,f:n[i]});var a=r.length,o=r.slice();if(!a)return{t:r9,l:0};if(a==1){var s=new os(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(B,$){return B.f-$.f}),r.push({s:-1,f:25001});var l=r[0],u=r[1],c=0,f=1,d=2;for(r[0]={s:-1,f:l.f+u.f,l,r:u};f!=a-1;)l=r[r[c].f<r[d].f?c++:d++],u=r[c!=f&&r[c].f<r[d].f?c++:d++],r[f++]={s:-1,f:l.f+u.f,l,r:u};for(var h=o[0].s,i=1;i<a;++i)o[i].s>h&&(h=o[i].s);var p=new Qa(h+1),y=B_(r[f-1],p,0);if(y>e){var i=0,w=0,_=y-e,b=1<<_;for(o.sort(function($,L){return p[L.s]-p[$.s]||$.f-L.f});i<a;++i){var S=o[i].s;if(p[S]>e)w+=b-(1<<y-p[S]),p[S]=e;else break}for(w>>=_;w>0;){var A=o[i].s;p[A]<e?w-=1<<e-p[A]++-1:++i}for(;i>=0&&w;--i){var T=o[i].s;p[T]==e&&(--p[T],++w)}y=e}return{t:new os(p),l:y}},B_=function(n,e,r){return n.s==-1?Math.max(B_(n.l,e,r+1),B_(n.r,e,r+1)):e[n.s]=r},d3=function(n){for(var e=n.length;e&&!n[--e];);for(var r=new Qa(++e),i=0,a=n[0],o=1,s=function(u){r[i++]=u},l=1;l<=e;++l)if(n[l]==a&&l!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(a),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(a);o=1,a=n[l]}return{c:r.subarray(0,i),n:e}},bp=function(n,e){for(var r=0,i=0;i<e.length;++i)r+=n[i]*e[i];return r},n9=function(n,e,r){var i=r.length,a=t9(e+2);n[a]=i&255,n[a+1]=i>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<i;++o)n[a+o+4]=r[o];return(a+4+i)*8},h3=function(n,e,r,i,a,o,s,l,u,c,f){hl(e,f++,r),++a[256];for(var d=Gw(a,15),h=d.t,p=d.l,y=Gw(o,15),w=y.t,_=y.l,b=d3(h),S=b.c,A=b.n,T=d3(w),B=T.c,$=T.n,L=new Qa(19),I=0;I<S.length;++I)++L[S[I]&31];for(var I=0;I<B.length;++I)++L[B[I]&31];for(var O=Gw(L,7),U=O.t,k=O.l,R=19;R>4&&!U[c3[R-1]];--R);var j=c+5<<3,H=bp(a,Cf)+bp(o,E0)+s,oe=bp(a,h)+bp(o,w)+s+14+3*R+bp(L,U)+2*L[16]+3*L[17]+7*L[18];if(u>=0&&j<=H&&j<=oe)return n9(e,f,n.subarray(u,u+c));var he,ye,re,ue;if(hl(e,f,1+(oe<H)),f+=2,oe<H){he=Qp(h,p,0),ye=h,re=Qp(w,_,0),ue=w;var ae=Qp(U,k,0);hl(e,f,A-257),hl(e,f+5,$-1),hl(e,f+10,R-4),f+=14;for(var I=0;I<R;++I)hl(e,f+3*I,U[c3[I]]);f+=3*R;for(var ne=[S,B],M=0;M<2;++M)for(var Y=ne[M],I=0;I<Y.length;++I){var Z=Y[I]&31;hl(e,f,ae[Z]),f+=U[Z],Z>15&&(hl(e,f,Y[I]>>5&127),f+=Y[I]>>12)}}else he=wde,ye=Cf,re=bde,ue=E0;for(var I=0;I<l;++I){var ie=i[I];if(ie>255){var Z=ie>>18&31;wp(e,f,he[Z+257]),f+=ye[Z+257],Z>7&&(hl(e,f,ie>>23&31),f+=tP[Z]);var ce=ie&31;wp(e,f,re[ce]),f+=ue[ce],ce>3&&(wp(e,f,ie>>5&8191),f+=nP[ce])}else wp(e,f,he[ie]),f+=ye[ie]}return wp(e,f,he[256]),f+ye[256]},xde=new eP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),r9=new os(0),Ade=function(n,e,r,i,a,o){var s=o.z||n.length,l=new os(i+s+5*(1+Math.ceil(s/7e3))+a),u=l.subarray(i,l.length-a),c=o.l,f=(o.r||0)&7;if(e){f&&(u[0]=o.r>>3);for(var d=xde[e-1],h=d>>13,p=d&8191,y=(1<<r)-1,w=o.p||new Qa(32768),_=o.h||new Qa(y+1),b=Math.ceil(r/3),S=2*b,A=function(be){return(n[be]^n[be+1]<<b^n[be+2]<<S)&y},T=new eP(25e3),B=new Qa(288),$=new Qa(32),L=0,I=0,O=o.i||0,U=0,k=o.w||0,R=0;O+2<s;++O){var j=A(O),H=O&32767,oe=_[j];if(w[H]=oe,_[j]=H,k<=O){var he=s-O;if((L>7e3||U>24576)&&(he>423||!c)){f=h3(n,u,0,T,B,$,I,U,R,O-R,f),U=L=I=0,R=O;for(var ye=0;ye<286;++ye)B[ye]=0;for(var ye=0;ye<30;++ye)$[ye]=0}var re=2,ue=0,ae=p,ne=H-oe&32767;if(he>2&&j==A(O-ne))for(var M=Math.min(h,he)-1,Y=Math.min(32767,O),Z=Math.min(258,he);ne<=Y&&--ae&&H!=oe;){if(n[O+re]==n[O+re-ne]){for(var ie=0;ie<Z&&n[O+ie]==n[O+ie-ne];++ie);if(ie>re){if(re=ie,ue=ne,ie>M)break;for(var ce=Math.min(ne,ie-2),pe=0,ye=0;ye<ce;++ye){var Ee=O-ne+ye&32767,le=w[Ee],Ae=Ee-le&32767;Ae>pe&&(pe=Ae,oe=Ee)}}}H=oe,oe=w[H],ne+=H-oe&32767}if(ue){T[U++]=268435456|M_[re]<<18|f3[ue];var Ne=M_[re]&31,we=f3[ue]&31;I+=tP[Ne]+nP[we],++B[257+Ne],++$[we],k=O+re,++L}else T[U++]=n[O],++B[n[O]]}}for(O=Math.max(O,k);O<s;++O)T[U++]=n[O],++B[n[O]];f=h3(n,u,c,T,B,$,I,U,R,O-R,f),c||(o.r=f&7|u[f/8|0]<<3,f-=7,o.h=_,o.p=w,o.i=O,o.w=k)}else{for(var O=o.w||0;O<s+c;O+=65535){var Ue=O+65535;Ue>=s&&(u[f/8|0]=c,Ue=s),f=n9(u,f+1,n.subarray(O,Ue))}o.i=s}return _de(l,0,i+t9(f)+a)},i9=function(){var n=1,e=0;return{p:function(r){for(var i=n,a=e,o=r.length|0,s=0;s!=o;){for(var l=Math.min(s+2655,o);s<l;++s)a+=i+=r[s];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}n=i,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Sde=function(n,e,r,i,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new os(o.length+n.length);s.set(o),s.set(n,o.length),n=s,a.w=o.length}return Ade(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,r,i,a)},a9=function(n,e,r){for(;r;++e)n[e]=r,r>>>=8},Ede=function(n,e){var r=e.level,i=r==0?0:r<6?1:r==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=i9();a.p(e.dictionary),a9(n,2,a.d())}};function U_(n,e){e||(e={});var r=i9();r.p(n);var i=Sde(n,e,e.dictionary?6:2,4);return Ede(i,e),a9(i,i.length-4,r.d()),i}var Pde=typeof TextDecoder<"u"&&new TextDecoder,Nde=0;try{Pde.decode(r9,{stream:!0}),Nde=1}catch{}function kde(n){if(Array.isArray(n))return n}function Tde(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,a,o,s,l=[],u=!0,c=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(u=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(f){c=!0,a=f}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function p3(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Cde(n,e){if(n){if(typeof n=="string")return p3(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p3(n,e):void 0}}function Ide(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m3(n,e){return kde(n)||Tde(n,e)||Cde(n,e)||Ide()}function g3(n,e="utf8"){return new TextDecoder(e).decode(n)}const Ode=new TextEncoder;function jde(n){return Ode.encode(n)}const Lde=1024*8,Dde=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Yw={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class rP{constructor(e=Lde,r={}){gn(this,"buffer");gn(this,"byteLength");gn(this,"byteOffset");gn(this,"length");gn(this,"offset");gn(this,"lastWrittenByte");gn(this,"littleEndian");gn(this,"_data");gn(this,"_mark");gn(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,o=e.byteLength-a;let s=a;(ArrayBuffer.isView(e)||e instanceof rP)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+a),e=e.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,a=new Uint8Array(i);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const i=Yw[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+i);if(this.littleEndian===Dde&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+i));l.reverse();const u=new Yw[r](l.buffer);return this.offset+=i,u.reverse(),u}const s=new Yw[r](o);return this.offset+=i,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let i=0;i<e;i++)r+=this.readChar();return r}readUtf8(e=1){return g3(this.readBytes(e))}decodeText(e=1,r="utf8"){return g3(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(jde(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Rh(n){let e=n.length;for(;--e>=0;)n[e]=0}const Rde=3,Mde=258,o9=29,Fde=256,Bde=Fde+1+o9,s9=30,Ude=512,$de=new Array((Bde+2)*2);Rh($de);const Vde=new Array(s9*2);Rh(Vde);const zde=new Array(Ude);Rh(zde);const qde=new Array(Mde-Rde+1);Rh(qde);const Wde=new Array(o9);Rh(Wde);const Hde=new Array(s9);Rh(Hde);const Kde=(n,e,r,i)=>{let a=n&65535|0,o=n>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do a=a+e[i++]|0,o=o+a|0;while(--s);a%=65521,o%=65521}return a|o<<16|0};var $_=Kde;const Gde=()=>{let n,e=[];for(var r=0;r<256;r++){n=r;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[r]=n}return e},Yde=new Uint32Array(Gde()),Xde=(n,e,r,i)=>{const a=Yde,o=i+r;n^=-1;for(let s=i;s<o;s++)n=n>>>8^a[(n^e[s])&255];return n^-1};var Is=Xde,V_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},l9={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Qde=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Zde=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const i in r)Qde(r,i)&&(n[i]=r[i])}}return n},Jde=n=>{let e=0;for(let i=0,a=n.length;i<a;i++)e+=n[i].length;const r=new Uint8Array(e);for(let i=0,a=0,o=n.length;i<o;i++){let s=n[i];r.set(s,a),a+=s.length}return r},u9={assign:Zde,flattenChunks:Jde};let c9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c9=!1}const Vm=new Uint8Array(256);for(let n=0;n<256;n++)Vm[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Vm[254]=Vm[254]=1;var ehe=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,r,i,a,o,s=n.length,l=0;for(a=0;a<s;a++)r=n.charCodeAt(a),(r&64512)===55296&&a+1<s&&(i=n.charCodeAt(a+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),o=0,a=0;o<l;a++)r=n.charCodeAt(a),(r&64512)===55296&&a+1<s&&(i=n.charCodeAt(a+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),a++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|r&63):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|r&63):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|r&63);return e};const the=(n,e)=>{if(e<65534&&n.subarray&&c9)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let r="";for(let i=0;i<e;i++)r+=String.fromCharCode(n[i]);return r};var nhe=(n,e)=>{const r=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let i,a;const o=new Array(r*2);for(a=0,i=0;i<r;){let s=n[i++];if(s<128){o[a++]=s;continue}let l=Vm[s];if(l>4){o[a++]=65533,i+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&i<r;)s=s<<6|n[i++]&63,l--;if(l>1){o[a++]=65533;continue}s<65536?o[a++]=s:(s-=65536,o[a++]=55296|s>>10&1023,o[a++]=56320|s&1023)}return the(o,a)},rhe=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let r=e-1;for(;r>=0&&(n[r]&192)===128;)r--;return r<0||r===0?e:r+Vm[n[r]]>e?r:e},z_={string2buf:ehe,buf2string:nhe,utf8border:rhe};function ihe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ahe=ihe;const Nv=16209,ohe=16191;var she=function(e,r){let i,a,o,s,l,u,c,f,d,h,p,y,w,_,b,S,A,T,B,$,L,I,O,U;const k=e.state;i=e.next_in,O=e.input,a=i+(e.avail_in-5),o=e.next_out,U=e.output,s=o-(r-e.avail_out),l=o+(e.avail_out-257),u=k.dmax,c=k.wsize,f=k.whave,d=k.wnext,h=k.window,p=k.hold,y=k.bits,w=k.lencode,_=k.distcode,b=(1<<k.lenbits)-1,S=(1<<k.distbits)-1;e:do{y<15&&(p+=O[i++]<<y,y+=8,p+=O[i++]<<y,y+=8),A=w[p&b];t:for(;;){if(T=A>>>24,p>>>=T,y-=T,T=A>>>16&255,T===0)U[o++]=A&65535;else if(T&16){B=A&65535,T&=15,T&&(y<T&&(p+=O[i++]<<y,y+=8),B+=p&(1<<T)-1,p>>>=T,y-=T),y<15&&(p+=O[i++]<<y,y+=8,p+=O[i++]<<y,y+=8),A=_[p&S];n:for(;;){if(T=A>>>24,p>>>=T,y-=T,T=A>>>16&255,T&16){if($=A&65535,T&=15,y<T&&(p+=O[i++]<<y,y+=8,y<T&&(p+=O[i++]<<y,y+=8)),$+=p&(1<<T)-1,$>u){e.msg="invalid distance too far back",k.mode=Nv;break e}if(p>>>=T,y-=T,T=o-s,$>T){if(T=$-T,T>f&&k.sane){e.msg="invalid distance too far back",k.mode=Nv;break e}if(L=0,I=h,d===0){if(L+=c-T,T<B){B-=T;do U[o++]=h[L++];while(--T);L=o-$,I=U}}else if(d<T){if(L+=c+d-T,T-=d,T<B){B-=T;do U[o++]=h[L++];while(--T);if(L=0,d<B){T=d,B-=T;do U[o++]=h[L++];while(--T);L=o-$,I=U}}}else if(L+=d-T,T<B){B-=T;do U[o++]=h[L++];while(--T);L=o-$,I=U}for(;B>2;)U[o++]=I[L++],U[o++]=I[L++],U[o++]=I[L++],B-=3;B&&(U[o++]=I[L++],B>1&&(U[o++]=I[L++]))}else{L=o-$;do U[o++]=U[L++],U[o++]=U[L++],U[o++]=U[L++],B-=3;while(B>2);B&&(U[o++]=U[L++],B>1&&(U[o++]=U[L++]))}}else if(T&64){e.msg="invalid distance code",k.mode=Nv;break e}else{A=_[(A&65535)+(p&(1<<T)-1)];continue n}break}}else if(T&64)if(T&32){k.mode=ohe;break e}else{e.msg="invalid literal/length code",k.mode=Nv;break e}else{A=w[(A&65535)+(p&(1<<T)-1)];continue t}break}}while(i<a&&o<l);B=y>>3,i-=B,y-=B<<3,p&=(1<<y)-1,e.next_in=i,e.next_out=o,e.avail_in=i<a?5+(a-i):5-(i-a),e.avail_out=o<l?257+(l-o):257-(o-l),k.hold=p,k.bits=y};const nd=15,v3=852,y3=592,w3=0,Xw=1,b3=2,lhe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),uhe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),che=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fhe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),dhe=(n,e,r,i,a,o,s,l)=>{const u=l.bits;let c=0,f=0,d=0,h=0,p=0,y=0,w=0,_=0,b=0,S=0,A,T,B,$,L,I=null,O;const U=new Uint16Array(nd+1),k=new Uint16Array(nd+1);let R=null,j,H,oe;for(c=0;c<=nd;c++)U[c]=0;for(f=0;f<i;f++)U[e[r+f]]++;for(p=u,h=nd;h>=1&&U[h]===0;h--);if(p>h&&(p=h),h===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,l.bits=1,0;for(d=1;d<h&&U[d]===0;d++);for(p<d&&(p=d),_=1,c=1;c<=nd;c++)if(_<<=1,_-=U[c],_<0)return-1;if(_>0&&(n===w3||h!==1))return-1;for(k[1]=0,c=1;c<nd;c++)k[c+1]=k[c]+U[c];for(f=0;f<i;f++)e[r+f]!==0&&(s[k[e[r+f]]++]=f);if(n===w3?(I=R=s,O=20):n===Xw?(I=lhe,R=uhe,O=257):(I=che,R=fhe,O=0),S=0,f=0,c=d,L=o,y=p,w=0,B=-1,b=1<<p,$=b-1,n===Xw&&b>v3||n===b3&&b>y3)return 1;for(;;){j=c-w,s[f]+1<O?(H=0,oe=s[f]):s[f]>=O?(H=R[s[f]-O],oe=I[s[f]-O]):(H=96,oe=0),A=1<<c-w,T=1<<y,d=T;do T-=A,a[L+(S>>w)+T]=j<<24|H<<16|oe|0;while(T!==0);for(A=1<<c-1;S&A;)A>>=1;if(A!==0?(S&=A-1,S+=A):S=0,f++,--U[c]===0){if(c===h)break;c=e[r+s[f]]}if(c>p&&(S&$)!==B){for(w===0&&(w=p),L+=d,y=c-w,_=1<<y;y+w<h&&(_-=U[y+w],!(_<=0));)y++,_<<=1;if(b+=1<<y,n===Xw&&b>v3||n===b3&&b>y3)return 1;B=S&$,a[B]=p<<24|y<<16|L-o|0}}return S!==0&&(a[L+S]=c-w<<24|64<<16|0),l.bits=p,0};var Zp=dhe;const hhe=0,f9=1,d9=2,{Z_FINISH:_3,Z_BLOCK:phe,Z_TREES:kv,Z_OK:If,Z_STREAM_END:mhe,Z_NEED_DICT:ghe,Z_STREAM_ERROR:Lo,Z_DATA_ERROR:h9,Z_MEM_ERROR:p9,Z_BUF_ERROR:vhe,Z_DEFLATED:x3}=l9,y2=16180,A3=16181,S3=16182,E3=16183,P3=16184,N3=16185,k3=16186,T3=16187,C3=16188,I3=16189,P0=16190,pl=16191,Qw=16192,O3=16193,Zw=16194,j3=16195,L3=16196,D3=16197,R3=16198,Tv=16199,Cv=16200,M3=16201,F3=16202,B3=16203,U3=16204,$3=16205,Jw=16206,V3=16207,z3=16208,er=16209,m9=16210,g9=16211,yhe=852,whe=592,bhe=15,_he=bhe,q3=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function xhe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zf=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<y2||e.mode>g9?1:0},v9=n=>{if(zf(n))return Lo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=y2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(yhe),e.distcode=e.distdyn=new Int32Array(whe),e.sane=1,e.back=-1,If},y9=n=>{if(zf(n))return Lo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,v9(n)},w9=(n,e)=>{let r;if(zf(n))return Lo;const i=n.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Lo:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,y9(n))},b9=(n,e)=>{if(!n)return Lo;const r=new xhe;n.state=r,r.strm=n,r.window=null,r.mode=y2;const i=w9(n,e);return i!==If&&(n.state=null),i},Ahe=n=>b9(n,_he);let W3=!0,eb,tb;const She=n=>{if(W3){eb=new Int32Array(512),tb=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Zp(f9,n.lens,0,288,eb,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Zp(d9,n.lens,0,32,tb,0,n.work,{bits:5}),W3=!1}n.lencode=eb,n.lenbits=9,n.distcode=tb,n.distbits=5},_9=(n,e,r,i)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>i&&(a=i),o.window.set(e.subarray(r-i,r-i+a),o.wnext),i-=a,i?(o.window.set(e.subarray(r-i,r),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},Ehe=(n,e)=>{let r,i,a,o,s,l,u,c,f,d,h,p,y,w,_=0,b,S,A,T,B,$,L,I;const O=new Uint8Array(4);let U,k;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zf(n)||!n.output||!n.input&&n.avail_in!==0)return Lo;r=n.state,r.mode===pl&&(r.mode=Qw),s=n.next_out,a=n.output,u=n.avail_out,o=n.next_in,i=n.input,l=n.avail_in,c=r.hold,f=r.bits,d=l,h=u,I=If;e:for(;;)switch(r.mode){case y2:if(r.wrap===0){r.mode=Qw;break}for(;f<16;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,O[0]=c&255,O[1]=c>>>8&255,r.check=Is(r.check,O,2,0),c=0,f=0,r.mode=A3;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",r.mode=er;break}if((c&15)!==x3){n.msg="unknown compression method",r.mode=er;break}if(c>>>=4,f-=4,L=(c&15)+8,r.wbits===0&&(r.wbits=L),L>15||L>r.wbits){n.msg="invalid window size",r.mode=er;break}r.dmax=1<<r.wbits,r.flags=0,n.adler=r.check=1,r.mode=c&512?I3:pl,c=0,f=0;break;case A3:for(;f<16;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}if(r.flags=c,(r.flags&255)!==x3){n.msg="unknown compression method",r.mode=er;break}if(r.flags&57344){n.msg="unknown header flags set",r.mode=er;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,r.check=Is(r.check,O,2,0)),c=0,f=0,r.mode=S3;case S3:for(;f<32;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,O[2]=c>>>16&255,O[3]=c>>>24&255,r.check=Is(r.check,O,4,0)),c=0,f=0,r.mode=E3;case E3:for(;f<16;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,r.check=Is(r.check,O,2,0)),c=0,f=0,r.mode=P3;case P3:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,r.check=Is(r.check,O,2,0)),c=0,f=0}else r.head&&(r.head.extra=null);r.mode=N3;case N3:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(i.subarray(o,o+p),L)),r.flags&512&&r.wrap&4&&(r.check=Is(r.check,i,p,o)),l-=p,o+=p,r.length-=p),r.length))break e;r.length=0,r.mode=k3;case k3:if(r.flags&2048){if(l===0)break e;p=0;do L=i[o+p++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L));while(L&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Is(r.check,i,p,o)),l-=p,o+=p,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=T3;case T3:if(r.flags&4096){if(l===0)break e;p=0;do L=i[o+p++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L));while(L&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Is(r.check,i,p,o)),l-=p,o+=p,L)break e}else r.head&&(r.head.comment=null);r.mode=C3;case C3:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}if(r.wrap&4&&c!==(r.check&65535)){n.msg="header crc mismatch",r.mode=er;break}c=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),n.adler=r.check=0,r.mode=pl;break;case I3:for(;f<32;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}n.adler=r.check=q3(c),c=0,f=0,r.mode=P0;case P0:if(r.havedict===0)return n.next_out=s,n.avail_out=u,n.next_in=o,n.avail_in=l,r.hold=c,r.bits=f,ghe;n.adler=r.check=1,r.mode=pl;case pl:if(e===phe||e===kv)break e;case Qw:if(r.last){c>>>=f&7,f-=f&7,r.mode=Jw;break}for(;f<3;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}switch(r.last=c&1,c>>>=1,f-=1,c&3){case 0:r.mode=O3;break;case 1:if(She(r),r.mode=Tv,e===kv){c>>>=2,f-=2;break e}break;case 2:r.mode=L3;break;case 3:n.msg="invalid block type",r.mode=er}c>>>=2,f-=2;break;case O3:for(c>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",r.mode=er;break}if(r.length=c&65535,c=0,f=0,r.mode=Zw,e===kv)break e;case Zw:r.mode=j3;case j3:if(p=r.length,p){if(p>l&&(p=l),p>u&&(p=u),p===0)break e;a.set(i.subarray(o,o+p),s),l-=p,o+=p,u-=p,s+=p,r.length-=p;break}r.mode=pl;break;case L3:for(;f<14;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}if(r.nlen=(c&31)+257,c>>>=5,f-=5,r.ndist=(c&31)+1,c>>>=5,f-=5,r.ncode=(c&15)+4,c>>>=4,f-=4,r.nlen>286||r.ndist>30){n.msg="too many length or distance symbols",r.mode=er;break}r.have=0,r.mode=D3;case D3:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}r.lens[R[r.have++]]=c&7,c>>>=3,f-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,U={bits:r.lenbits},I=Zp(hhe,r.lens,0,19,r.lencode,0,r.work,U),r.lenbits=U.bits,I){n.msg="invalid code lengths set",r.mode=er;break}r.have=0,r.mode=R3;case R3:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[c&(1<<r.lenbits)-1],b=_>>>24,S=_>>>16&255,A=_&65535,!(b<=f);){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}if(A<16)c>>>=b,f-=b,r.lens[r.have++]=A;else{if(A===16){for(k=b+2;f<k;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}if(c>>>=b,f-=b,r.have===0){n.msg="invalid bit length repeat",r.mode=er;break}L=r.lens[r.have-1],p=3+(c&3),c>>>=2,f-=2}else if(A===17){for(k=b+3;f<k;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}c>>>=b,f-=b,L=0,p=3+(c&7),c>>>=3,f-=3}else{for(k=b+7;f<k;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}c>>>=b,f-=b,L=0,p=11+(c&127),c>>>=7,f-=7}if(r.have+p>r.nlen+r.ndist){n.msg="invalid bit length repeat",r.mode=er;break}for(;p--;)r.lens[r.have++]=L}}if(r.mode===er)break;if(r.lens[256]===0){n.msg="invalid code -- missing end-of-block",r.mode=er;break}if(r.lenbits=9,U={bits:r.lenbits},I=Zp(f9,r.lens,0,r.nlen,r.lencode,0,r.work,U),r.lenbits=U.bits,I){n.msg="invalid literal/lengths set",r.mode=er;break}if(r.distbits=6,r.distcode=r.distdyn,U={bits:r.distbits},I=Zp(d9,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,U),r.distbits=U.bits,I){n.msg="invalid distances set",r.mode=er;break}if(r.mode=Tv,e===kv)break e;case Tv:r.mode=Cv;case Cv:if(l>=6&&u>=258){n.next_out=s,n.avail_out=u,n.next_in=o,n.avail_in=l,r.hold=c,r.bits=f,she(n,h),s=n.next_out,a=n.output,u=n.avail_out,o=n.next_in,i=n.input,l=n.avail_in,c=r.hold,f=r.bits,r.mode===pl&&(r.back=-1);break}for(r.back=0;_=r.lencode[c&(1<<r.lenbits)-1],b=_>>>24,S=_>>>16&255,A=_&65535,!(b<=f);){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}if(S&&!(S&240)){for(T=b,B=S,$=A;_=r.lencode[$+((c&(1<<T+B)-1)>>T)],b=_>>>24,S=_>>>16&255,A=_&65535,!(T+b<=f);){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}c>>>=T,f-=T,r.back+=T}if(c>>>=b,f-=b,r.back+=b,r.length=A,S===0){r.mode=$3;break}if(S&32){r.back=-1,r.mode=pl;break}if(S&64){n.msg="invalid literal/length code",r.mode=er;break}r.extra=S&15,r.mode=M3;case M3:if(r.extra){for(k=r.extra;f<k;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=F3;case F3:for(;_=r.distcode[c&(1<<r.distbits)-1],b=_>>>24,S=_>>>16&255,A=_&65535,!(b<=f);){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}if(!(S&240)){for(T=b,B=S,$=A;_=r.distcode[$+((c&(1<<T+B)-1)>>T)],b=_>>>24,S=_>>>16&255,A=_&65535,!(T+b<=f);){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}c>>>=T,f-=T,r.back+=T}if(c>>>=b,f-=b,r.back+=b,S&64){n.msg="invalid distance code",r.mode=er;break}r.offset=A,r.extra=S&15,r.mode=B3;case B3:if(r.extra){for(k=r.extra;f<k;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){n.msg="invalid distance too far back",r.mode=er;break}r.mode=U3;case U3:if(u===0)break e;if(p=h-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){n.msg="invalid distance too far back",r.mode=er;break}p>r.wnext?(p-=r.wnext,y=r.wsize-p):y=r.wnext-p,p>r.length&&(p=r.length),w=r.window}else w=a,y=s-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do a[s++]=w[y++];while(--p);r.length===0&&(r.mode=Cv);break;case $3:if(u===0)break e;a[s++]=r.length,u--,r.mode=Cv;break;case Jw:if(r.wrap){for(;f<32;){if(l===0)break e;l--,c|=i[o++]<<f,f+=8}if(h-=u,n.total_out+=h,r.total+=h,r.wrap&4&&h&&(n.adler=r.check=r.flags?Is(r.check,a,h,s-h):$_(r.check,a,h,s-h)),h=u,r.wrap&4&&(r.flags?c:q3(c))!==r.check){n.msg="incorrect data check",r.mode=er;break}c=0,f=0}r.mode=V3;case V3:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,c+=i[o++]<<f,f+=8}if(r.wrap&4&&c!==(r.total&4294967295)){n.msg="incorrect length check",r.mode=er;break}c=0,f=0}r.mode=z3;case z3:I=mhe;break e;case er:I=h9;break e;case m9:return p9;case g9:default:return Lo}return n.next_out=s,n.avail_out=u,n.next_in=o,n.avail_in=l,r.hold=c,r.bits=f,(r.wsize||h!==n.avail_out&&r.mode<er&&(r.mode<Jw||e!==_3))&&_9(n,n.output,n.next_out,h-n.avail_out),d-=n.avail_in,h-=n.avail_out,n.total_in+=d,n.total_out+=h,r.total+=h,r.wrap&4&&h&&(n.adler=r.check=r.flags?Is(r.check,a,h,n.next_out-h):$_(r.check,a,h,n.next_out-h)),n.data_type=r.bits+(r.last?64:0)+(r.mode===pl?128:0)+(r.mode===Tv||r.mode===Zw?256:0),(d===0&&h===0||e===_3)&&I===If&&(I=vhe),I},Phe=n=>{if(zf(n))return Lo;let e=n.state;return e.window&&(e.window=null),n.state=null,If},Nhe=(n,e)=>{if(zf(n))return Lo;const r=n.state;return r.wrap&2?(r.head=e,e.done=!1,If):Lo},khe=(n,e)=>{const r=e.length;let i,a,o;return zf(n)||(i=n.state,i.wrap!==0&&i.mode!==P0)?Lo:i.mode===P0&&(a=1,a=$_(a,e,r,0),a!==i.check)?h9:(o=_9(n,e,r,r),o?(i.mode=m9,p9):(i.havedict=1,If))};var The=y9,Che=w9,Ihe=v9,Ohe=Ahe,jhe=b9,Lhe=Ehe,Dhe=Phe,Rhe=Nhe,Mhe=khe,Fhe="pako inflate (from Nodeca project)",yl={inflateReset:The,inflateReset2:Che,inflateResetKeep:Ihe,inflateInit:Ohe,inflateInit2:jhe,inflate:Lhe,inflateEnd:Dhe,inflateGetHeader:Rhe,inflateSetDictionary:Mhe,inflateInfo:Fhe};function Bhe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Uhe=Bhe;const x9=Object.prototype.toString,{Z_NO_FLUSH:$he,Z_FINISH:Vhe,Z_OK:zm,Z_STREAM_END:nb,Z_NEED_DICT:rb,Z_STREAM_ERROR:zhe,Z_DATA_ERROR:H3,Z_MEM_ERROR:qhe}=l9;function Eg(n){this.options=u9.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ahe,this.strm.avail_out=0;let r=yl.inflateInit2(this.strm,e.windowBits);if(r!==zm)throw new Error(V_[r]);if(this.header=new Uhe,yl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=z_.string2buf(e.dictionary):x9.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=yl.inflateSetDictionary(this.strm,e.dictionary),r!==zm)))throw new Error(V_[r])}Eg.prototype.push=function(n,e){const r=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let o,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Vhe:$he,x9.call(n)==="[object ArrayBuffer]"?r.input=new Uint8Array(n):r.input=n,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),o=yl.inflate(r,s),o===rb&&a&&(o=yl.inflateSetDictionary(r,a),o===zm?o=yl.inflate(r,s):o===H3&&(o=rb));r.avail_in>0&&o===nb&&r.state.wrap>0&&n[r.next_in]!==0;)yl.inflateReset(r),o=yl.inflate(r,s);switch(o){case zhe:case H3:case rb:case qhe:return this.onEnd(o),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||o===nb))if(this.options.to==="string"){let u=z_.utf8border(r.output,r.next_out),c=r.next_out-u,f=z_.buf2string(r.output,u);r.next_out=c,r.avail_out=i-c,c&&r.output.set(r.output.subarray(u,u+c),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===zm&&l===0)){if(o===nb)return o=yl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Eg.prototype.onData=function(n){this.chunks.push(n)};Eg.prototype.onEnd=function(n){n===zm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u9.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Whe(n,e){const r=new Eg(e);if(r.push(n),r.err)throw r.msg||V_[r.err];return r.result}var Hhe=Eg,Khe=Whe,Ghe={Inflate:Hhe,inflate:Khe};const{Inflate:Yhe,inflate:Xhe}=Ghe;var K3=Yhe,Qhe=Xhe;const A9=[];for(let n=0;n<256;n++){let e=n;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;A9[n]=e}const G3=4294967295;function Zhe(n,e,r){let i=n;for(let a=0;a<r;a++)i=A9[(i^e[a])&255]^i>>>8;return i}function Jhe(n,e){return(Zhe(G3,n,e)^G3)>>>0}function Y3(n,e,r){const i=n.readUint32(),a=Jhe(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==i)throw new Error(`CRC mismatch for chunk ${r}. Expected ${i}, found ${a}`)}function S9(n,e,r){for(let i=0;i<r;i++)e[i]=n[i]}function E9(n,e,r,i){let a=0;for(;a<i;a++)e[a]=n[a];for(;a<r;a++)e[a]=n[a]+e[a-i]&255}function P9(n,e,r,i){let a=0;if(r.length===0)for(;a<i;a++)e[a]=n[a];else for(;a<i;a++)e[a]=n[a]+r[a]&255}function N9(n,e,r,i,a){let o=0;if(r.length===0){for(;o<a;o++)e[o]=n[o];for(;o<i;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(r[o]>>1)&255;for(;o<i;o++)e[o]=n[o]+(e[o-a]+r[o]>>1)&255}}function k9(n,e,r,i,a){let o=0;if(r.length===0){for(;o<a;o++)e[o]=n[o];for(;o<i;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+r[o]&255;for(;o<i;o++)e[o]=n[o]+epe(e[o-a],r[o],r[o-a])&255}}function epe(n,e,r){const i=n+e-r,a=Math.abs(i-n),o=Math.abs(i-e),s=Math.abs(i-r);return a<=o&&a<=s?n:o<=s?e:r}function tpe(n,e,r,i,a,o){switch(n){case 0:S9(e,r,a);break;case 1:E9(e,r,a,o);break;case 2:P9(e,r,i,a);break;case 3:N9(e,r,i,a,o);break;case 4:k9(e,r,i,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const npe=new Uint16Array([255]),rpe=new Uint8Array(npe.buffer),ipe=rpe[0]===255;function ape(n){const{data:e,width:r,height:i,channels:a,depth:o}=n,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(o/8)*a,u=new Uint8Array(i*r*l);let c=0;for(let f=0;f<7;f++){const d=s[f],h=Math.ceil((r-d.x)/d.xStep),p=Math.ceil((i-d.y)/d.yStep);if(h<=0||p<=0)continue;const y=h*l,w=new Uint8Array(y);for(let _=0;_<p;_++){const b=e[c++],S=e.subarray(c,c+y);c+=y;const A=new Uint8Array(y);tpe(b,S,A,w,y,l),w.set(A);for(let T=0;T<h;T++){const B=d.x+T*d.xStep,$=d.y+_*d.yStep;if(!(B>=r||$>=i))for(let L=0;L<l;L++)u[($*r+B)*l+L]=A[T*l+L]}}}if(o===16){const f=new Uint16Array(u.buffer);if(ipe)for(let d=0;d<f.length;d++)f[d]=ope(f[d]);return f}else return u}function ope(n){return(n&255)<<8|n>>8&255}const spe=new Uint16Array([255]),lpe=new Uint8Array(spe.buffer),upe=lpe[0]===255,cpe=new Uint8Array(0);function X3(n){const{data:e,width:r,height:i,channels:a,depth:o}=n,s=Math.ceil(o/8)*a,l=Math.ceil(o/8*a*r),u=new Uint8Array(i*l);let c=cpe,f=0,d,h;for(let p=0;p<i;p++){switch(d=e.subarray(f+1,f+1+l),h=u.subarray(p*l,(p+1)*l),e[f]){case 0:S9(d,h,l);break;case 1:E9(d,h,l,s);break;case 2:P9(d,h,c,l);break;case 3:N9(d,h,c,l,s);break;case 4:k9(d,h,c,l,s);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}c=h,f+=l+1}if(o===16){const p=new Uint16Array(u.buffer);if(upe)for(let y=0;y<p.length;y++)p[y]=fpe(p[y]);return p}else return u}function fpe(n){return(n&255)<<8|n>>8&255}const ty=Uint8Array.of(137,80,78,71,13,10,26,10);function Q3(n){if(!dpe(n.readBytes(ty.length)))throw new Error("wrong PNG signature")}function dpe(n){if(n.length<ty.length)return!1;for(let e=0;e<ty.length;e++)if(n[e]!==ty[e])return!1;return!0}const hpe="tEXt",ppe=0,T9=new TextDecoder("latin1");function mpe(n){if(vpe(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const gpe=/^[\u0000-\u00FF]*$/;function vpe(n){if(!gpe.test(n))throw new Error("invalid latin1 text")}function ype(n,e,r){const i=C9(e);n[i]=wpe(e,r-i.length-1)}function C9(n){for(n.mark();n.readByte()!==ppe;);const e=n.offset;n.reset();const r=T9.decode(n.readBytes(e-n.offset-1));return n.skip(1),mpe(r),r}function wpe(n,e){return T9.decode(n.readBytes(e))}const $a={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ib={UNKNOWN:-1,DEFLATE:0},Z3={UNKNOWN:-1,ADAPTIVE:0},ab={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Iv={NONE:0,BACKGROUND:1,PREVIOUS:2},ob={SOURCE:0,OVER:1};class bpe extends rP{constructor(r,i={}){super(r);gn(this,"_checkCrc");gn(this,"_inflator");gn(this,"_png");gn(this,"_apng");gn(this,"_end");gn(this,"_hasPalette");gn(this,"_palette");gn(this,"_hasTransparency");gn(this,"_transparency");gn(this,"_compressionMethod");gn(this,"_filterMethod");gn(this,"_interlaceMethod");gn(this,"_colorType");gn(this,"_isAnimated");gn(this,"_numberOfFrames");gn(this,"_numberOfPlays");gn(this,"_frames");gn(this,"_writingDataChunks");const{checkCrc:a=!1}=i;this._checkCrc=a,this._inflator=new K3,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ib.UNKNOWN,this._filterMethod=Z3.UNKNOWN,this._interlaceMethod=ab.UNKNOWN,this._colorType=$a.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Q3(this);!this._end;){const r=this.readUint32(),i=this.readChars(4);this.decodeChunk(r,i)}return this.decodeImage(),this._png}decodeApng(){for(Q3(this);!this._end;){const r=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(r,i)}return this.decodeApngImage(),this._apng}decodeChunk(r,i){const a=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case hpe:ype(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?Y3(this,r+4,i):this.skip(4)}decodeApngChunk(r,i){const a=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,i),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?Y3(this,r+4,i):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=_pe(this.readUint8());const i=this.readUint8();this._colorType=i;let a;switch(i){case $a.GREYSCALE:a=1;break;case $a.TRUECOLOUR:a=3;break;case $a.INDEXED_COLOUR:a=1;break;case $a.GREYSCALE_ALPHA:a=2;break;case $a.TRUECOLOUR_ALPHA:a=4;break;case $a.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==ib.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const i=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<i;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const i=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let i=r,a=this.offset+this.byteOffset;if(a+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,a,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case $a.GREYSCALE:case $a.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let i=0;i<r/2;i++)this._transparency[i]=this.readUint16();break}case $a.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let i=0;for(;i<r;i++){const a=this.readByte();this._palette[i].push(a)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case $a.UNKNOWN:case $a.GREYSCALE_ALPHA:case $a.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const i=C9(this),a=this.readUint8();if(a!==ib.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(r-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:Qhe(o)}}decodepHYs(){const r=this.readUint32(),i=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:i,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const i={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=X3({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)i.data=a.data;else{const o=this._apng.frames.at(r-1);this.disposeFrame(a,o,i),this.addFrameDataToCanvas(i,a)}this._apng.frames.push(i)}}return this._apng}disposeFrame(r,i,a){switch(r.disposeOp){case Iv.NONE:break;case Iv.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let s=0;s<this._png.width;s++){const l=(o*r.width+s)*this._png.channels;for(let u=0;u<this._png.channels;u++)a.data[l+u]=0}break;case Iv.PREVIOUS:a.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,i){const a=1<<this._png.depth,o=(s,l)=>{const u=((s+i.yOffset)*this._png.width+i.xOffset+l)*this._png.channels,c=(s*i.width+l)*this._png.channels;return{index:u,frameIndex:c}};switch(i.blendOp){case ob.SOURCE:for(let s=0;s<i.height;s++)for(let l=0;l<i.width;l++){const{index:u,frameIndex:c}=o(s,l);for(let f=0;f<this._png.channels;f++)r.data[u+f]=i.data[c+f]}break;case ob.OVER:for(let s=0;s<i.height;s++)for(let l=0;l<i.width;l++){const{index:u,frameIndex:c}=o(s,l);for(let f=0;f<this._png.channels;f++){const d=i.data[c+this._png.channels-1]/a,h=f%(this._png.channels-1)===0?1:i.data[c+f],p=Math.floor(d*h+(1-d)*r.data[u+f]);r.data[u+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==Z3.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===ab.NO_INTERLACE)this._png.data=X3({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===ab.ADAM7)this._png.data=ape({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,i=this._frames.at(-1);i?i.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Iv.NONE,blendOp:ob.SOURCE,data:r}),this._inflator=new K3,this._writingDataChunks=!1}}function _pe(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var J3;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(J3||(J3={}));function xpe(n,e){return new bpe(n,e).decode()}var Et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function sb(){Et.console&&typeof Et.console.log=="function"&&Et.console.log.apply(Et.console,arguments)}var Cn={log:sb,warn:function(n){Et.console&&(typeof Et.console.warn=="function"?Et.console.warn.apply(Et.console,arguments):sb.call(null,arguments))},error:function(n){Et.console&&(typeof Et.console.error=="function"?Et.console.error.apply(Et.console,arguments):sb(n))}};function lb(n,e,r){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Hc(i.response,e,r)},i.onerror=function(){Cn.error("could not download file")},i.send()}function eI(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ov(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Hc=Et.saveAs||((typeof window>"u"?"undefined":Sn(window))!=="object"||window!==Et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,r){var i=Et.URL||Et.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?eI(a.href)?lb(n,e,r):Ov(a,a.target="_blank"):Ov(a)):(a.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){Ov(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,r){if(e=e||n.name||"download",typeof n=="string")if(eI(n))lb(n,e,r);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Ov(i)})}else navigator.msSaveOrOpenBlob(function(a,o){return o===void 0?o={autoBom:!1}:Sn(o)!=="object"&&(Cn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(n,r),e)}:function(n,e,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return lb(n,e,r);var a=n.type==="application/octet-stream",o=/constructor/i.test(Et.HTMLElement)||Et.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&o)&&(typeof FileReader>"u"?"undefined":Sn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=f:location=f,i=null},l.readAsDataURL(n)}else{var u=Et.URL||Et.webkitURL,c=u.createObjectURL(n);i?i.location=c:location.href=c,i=null,setTimeout(function(){u.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function I9(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],i=0;i<r.length;i++){var a=r[i].re,o=r[i].process,s=a.exec(n);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),c=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),"#"+l+u+c}}var ny=Et.atob.bind(Et),tI=Et.btoa.bind(Et);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ub(n,e){var r=n[0],i=n[1],a=n[2],o=n[3];r=Li(r,i,a,o,e[0],7,-680876936),o=Li(o,r,i,a,e[1],12,-389564586),a=Li(a,o,r,i,e[2],17,606105819),i=Li(i,a,o,r,e[3],22,-1044525330),r=Li(r,i,a,o,e[4],7,-176418897),o=Li(o,r,i,a,e[5],12,1200080426),a=Li(a,o,r,i,e[6],17,-1473231341),i=Li(i,a,o,r,e[7],22,-45705983),r=Li(r,i,a,o,e[8],7,1770035416),o=Li(o,r,i,a,e[9],12,-1958414417),a=Li(a,o,r,i,e[10],17,-42063),i=Li(i,a,o,r,e[11],22,-1990404162),r=Li(r,i,a,o,e[12],7,1804603682),o=Li(o,r,i,a,e[13],12,-40341101),a=Li(a,o,r,i,e[14],17,-1502002290),r=Di(r,i=Li(i,a,o,r,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Di(o,r,i,a,e[6],9,-1069501632),a=Di(a,o,r,i,e[11],14,643717713),i=Di(i,a,o,r,e[0],20,-373897302),r=Di(r,i,a,o,e[5],5,-701558691),o=Di(o,r,i,a,e[10],9,38016083),a=Di(a,o,r,i,e[15],14,-660478335),i=Di(i,a,o,r,e[4],20,-405537848),r=Di(r,i,a,o,e[9],5,568446438),o=Di(o,r,i,a,e[14],9,-1019803690),a=Di(a,o,r,i,e[3],14,-187363961),i=Di(i,a,o,r,e[8],20,1163531501),r=Di(r,i,a,o,e[13],5,-1444681467),o=Di(o,r,i,a,e[2],9,-51403784),a=Di(a,o,r,i,e[7],14,1735328473),r=Ri(r,i=Di(i,a,o,r,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Ri(o,r,i,a,e[8],11,-2022574463),a=Ri(a,o,r,i,e[11],16,1839030562),i=Ri(i,a,o,r,e[14],23,-35309556),r=Ri(r,i,a,o,e[1],4,-1530992060),o=Ri(o,r,i,a,e[4],11,1272893353),a=Ri(a,o,r,i,e[7],16,-155497632),i=Ri(i,a,o,r,e[10],23,-1094730640),r=Ri(r,i,a,o,e[13],4,681279174),o=Ri(o,r,i,a,e[0],11,-358537222),a=Ri(a,o,r,i,e[3],16,-722521979),i=Ri(i,a,o,r,e[6],23,76029189),r=Ri(r,i,a,o,e[9],4,-640364487),o=Ri(o,r,i,a,e[12],11,-421815835),a=Ri(a,o,r,i,e[15],16,530742520),r=Mi(r,i=Ri(i,a,o,r,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Mi(o,r,i,a,e[7],10,1126891415),a=Mi(a,o,r,i,e[14],15,-1416354905),i=Mi(i,a,o,r,e[5],21,-57434055),r=Mi(r,i,a,o,e[12],6,1700485571),o=Mi(o,r,i,a,e[3],10,-1894986606),a=Mi(a,o,r,i,e[10],15,-1051523),i=Mi(i,a,o,r,e[1],21,-2054922799),r=Mi(r,i,a,o,e[8],6,1873313359),o=Mi(o,r,i,a,e[15],10,-30611744),a=Mi(a,o,r,i,e[6],15,-1560198380),i=Mi(i,a,o,r,e[13],21,1309151649),r=Mi(r,i,a,o,e[4],6,-145523070),o=Mi(o,r,i,a,e[11],10,-1120210379),a=Mi(a,o,r,i,e[2],15,718787259),i=Mi(i,a,o,r,e[9],21,-343485551),n[0]=Ru(r,n[0]),n[1]=Ru(i,n[1]),n[2]=Ru(a,n[2]),n[3]=Ru(o,n[3])}function w2(n,e,r,i,a,o){return e=Ru(Ru(e,n),Ru(i,o)),Ru(e<<a|e>>>32-a,r)}function Li(n,e,r,i,a,o,s){return w2(e&r|~e&i,n,e,a,o,s)}function Di(n,e,r,i,a,o,s){return w2(e&i|r&~i,n,e,a,o,s)}function Ri(n,e,r,i,a,o,s){return w2(e^r^i,n,e,a,o,s)}function Mi(n,e,r,i,a,o,s){return w2(r^(e|~i),n,e,a,o,s)}function O9(n){var e,r=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)ub(i,Ape(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(ub(i,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,ub(i,a),i}function Ape(n){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return r}var nI="0123456789abcdef".split("");function Spe(n){for(var e="",r=0;r<4;r++)e+=nI[n>>8*r+4&15]+nI[n>>8*r&15];return e}function Epe(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function q_(n){return O9(n).map(Epe).join("")}var Ppe=function(n){for(var e=0;e<n.length;e++)n[e]=Spe(n[e]);return n.join("")}(O9("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ru(n,e){if(Ppe){var r=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(r>>16)<<16|65535&r}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function W_(n,e){var r,i,a,o;if(n!==r){for(var s=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),l=[],u=0;u<256;u++)l[u]=u;var c=0;for(u=0;u<256;u++){var f=l[u];c=(c+f+s.charCodeAt(u))%256,l[u]=l[c],l[c]=f}r=n,i=l}else l=i;var d=e.length,h=0,p=0,y="";for(u=0;u<d;u++)p=(p+(f=l[h=(h+1)%256]))%256,l[h]=l[p],l[p]=f,s=l[(l[h]+l[p])%256],y+=String.fromCharCode(e.charCodeAt(u)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var rI={print:4,modify:8,copy:16,"annot-forms":32};function ld(n,e,r,i){this.v=1,this.r=2;var a=192;n.forEach(function(l){if(rI.perm!==void 0)throw new Error("Invalid permission: "+l);a+=rI[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^a)),this.encryptionKey=q_(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=W_(this.encryptionKey,this.padding)}function ud(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",r=n.length,i=0;i<r;i++){var a=n.charCodeAt(i);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[i]}return e}function iI(n){if(Sn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,i,a){if(a=a||!1,typeof r!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var o=Math.random().toString(35);return e[r][o]=[i,!!a],o},this.unsubscribe=function(r){for(var i in e)if(e[i][r])return delete e[i][r],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[r]){var s=e[r][o];try{s[0].apply(n,i)}catch(l){Et.console&&Cn.error("jsPDF PubSub Error",l.message,l)}s[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function N0(n){if(!(this instanceof N0))return new N0(n);var e="opacity,stroke-opacity".split(",");for(var r in n)n.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=n[r]);this.id="",this.objectNumber=-1}function j9(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Kc(n,e,r,i,a){if(!(this instanceof Kc))return new Kc(n,e,r,i,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=r,j9.call(this,i,a)}function Ed(n,e,r,i,a){if(!(this instanceof Ed))return new Ed(n,e,r,i,a);this.boundingBox=n,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,j9.call(this,i,a)}function ft(n){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],o=arguments[3],s=[],l=1,u=16,c="S",f=null;Sn(n=n||{})==="object"&&(r=n.orientation,i=n.unit||i,a=n.format||a,o=n.compress||n.compressPdf||o,(f=n.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),c=n.defaultPathOperation||"S"),s=n.filters||(o===!0?["FlateEncode"]:s),i=i||"mm",r=(""+(r||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=iI;var y="1.3",w=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(E){y=E};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return _};var b=p.__private__.getPageFormat=function(E){return _[E]};a=a||"a4";var S="compat",A="advanced",T=S;function B(){this.saveGraphicsState(),te(new gt(wt,0,0,-wt,0,Xi()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),c="n",T=A}function $(){this.restoreGraphicsState(),c="S",T=S}var L=p.__private__.combineFontStyleAndFontWeight=function(E,V){if(E=="bold"&&V=="normal"||E=="bold"&&V==400||E=="normal"&&V=="italic"||E=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(E=V==400||V==="normal"?E==="italic"?"italic":"normal":V!=700&&V!=="bold"||E!=="normal"?(V==700?"bold":V)+""+E:"bold"),E};p.advancedAPI=function(E){var V=T===S;return V&&B.call(this),typeof E!="function"||(E(this),V&&$.call(this)),this},p.compatAPI=function(E){var V=T===A;return V&&$.call(this),typeof E!="function"||(E(this),V&&B.call(this)),this},p.isAdvancedAPI=function(){return T===A};var I,O=function(E){if(T!==A)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=p.roundToPrecision=p.__private__.roundToPrecision=function(E,V){var Q=e||V;if(isNaN(E)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(Q).replace(/0+$/,"")};I=p.hpf=p.__private__.hpf=typeof u=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return U(E,u)}:u==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return U(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return U(E,16)};var k=p.f2=p.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return U(E,2)},R=p.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return U(E,3)},j=p.scale=p.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return T===S?E*wt:T===A?E:void 0},H=function(E){return j(function(V){return T===S?Xi()-V:T===A?V:void 0}(E))};p.__private__.setPrecision=p.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var oe,he="00000000000000000000000000000000",ye=p.__private__.getFileId=function(){return he},re=p.__private__.setFileId=function(E){return he=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():he.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(wn=new ld(f.userPermissions,f.userPassword,f.ownerPassword,he)),he};p.setFileId=function(E){return re(E),this},p.getFileId=function(){return ye()};var ue=p.__private__.convertDateToPDFDate=function(E){var V=E.getTimezoneOffset(),Q=V<0?"+":"-",se=Math.floor(Math.abs(V/60)),me=Math.abs(V%60),Ce=[Q,Z(se),"'",Z(me),"'"].join("");return["D:",E.getFullYear(),Z(E.getMonth()+1),Z(E.getDate()),Z(E.getHours()),Z(E.getMinutes()),Z(E.getSeconds()),Ce].join("")},ae=p.__private__.convertPDFDateToDate=function(E){var V=parseInt(E.substr(2,4),10),Q=parseInt(E.substr(6,2),10)-1,se=parseInt(E.substr(8,2),10),me=parseInt(E.substr(10,2),10),Ce=parseInt(E.substr(12,2),10),je=parseInt(E.substr(14,2),10);return new Date(V,Q,se,me,Ce,je,0)},ne=p.__private__.setCreationDate=function(E){var V;if(E===void 0&&(E=new Date),E instanceof Date)V=ue(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=E}return oe=V},M=p.__private__.getCreationDate=function(E){var V=oe;return E==="jsDate"&&(V=ae(oe)),V};p.setCreationDate=function(E){return ne(E),this},p.getCreationDate=function(E){return M(E)};var Y,Z=p.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},ie=p.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},ce=0,pe=[],Ee=[],le=0,Ae=[],Ne=[],we=!1,Ue=Ee;p.__private__.setCustomOutputDestination=function(E){we=!0,Ue=E};var be=function(E){we||(Ue=E)};p.__private__.resetCustomOutputDestination=function(){we=!1,Ue=Ee};var te=p.__private__.out=function(E){return E=E.toString(),le+=E.length+1,Ue.push(E),Ue},mt=p.__private__.write=function(E){return te(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},vt=p.__private__.getArrayBuffer=function(E){for(var V=E.length,Q=new ArrayBuffer(V),se=new Uint8Array(Q);V--;)se[V]=E.charCodeAt(V);return Q},dt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return dt};var Fe=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(E){return Fe=T===A?E/wt:E,this};var at,ze=p.__private__.getFontSize=p.getFontSize=function(){return T===S?Fe:Fe*wt},Ct=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(E){return Ct=E,this},p.__private__.getR2L=p.getR2L=function(){return Ct};var lt,Yt=p.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))at=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');at=E}else at=parseInt(E,10)};p.__private__.getZoomMode=function(){return at};var Pt,ot=p.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');lt=E};p.__private__.getPageMode=function(){return lt};var It=p.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');Pt=E};p.__private__.getLayoutMode=function(){return Pt},p.__private__.setDisplayMode=p.setDisplayMode=function(E,V,Q){return Yt(E),It(V),ot(Q),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(E){if(Object.keys(At).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[E]},p.__private__.getDocumentProperties=function(){return At},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(E){for(var V in At)At.hasOwnProperty(V)&&E[V]&&(At[V]=E[V]);return this},p.__private__.setDocumentProperty=function(E,V){if(Object.keys(At).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[E]=V};var ut,wt,ht,ln,Jt,tt={},St={},yn=[],yt={},$t={},Nt={},Xn={},Un=null,pn=0,_t=[],Vt=new iI(p),fs=n.hotfixes||[],_r={},co={},Pi=[],gt=function E(V,Q,se,me,Ce,je){if(!(this instanceof E))return new E(V,Q,se,me,Ce,je);isNaN(V)&&(V=1),isNaN(Q)&&(Q=0),isNaN(se)&&(se=0),isNaN(me)&&(me=1),isNaN(Ce)&&(Ce=0),isNaN(je)&&(je=0),this._matrix=[V,Q,se,me,Ce,je]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(E)},gt.prototype.multiply=function(E){var V=E.sx*this.sx+E.shy*this.shx,Q=E.sx*this.shy+E.shy*this.sy,se=E.shx*this.sx+E.sy*this.shx,me=E.shx*this.shy+E.sy*this.sy,Ce=E.tx*this.sx+E.ty*this.shx+this.tx,je=E.tx*this.shy+E.ty*this.sy+this.ty;return new gt(V,Q,se,me,Ce,je)},gt.prototype.decompose=function(){var E=this.sx,V=this.shy,Q=this.shx,se=this.sy,me=this.tx,Ce=this.ty,je=Math.sqrt(E*E+V*V),We=(E/=je)*Q+(V/=je)*se;Q-=E*We,se-=V*We;var Ze=Math.sqrt(Q*Q+se*se);return We/=Ze,E*(se/=Ze)<V*(Q/=Ze)&&(E=-E,V=-V,We=-We,je=-je),{scale:new gt(je,0,0,Ze,0,0),translate:new gt(1,0,0,1,me,Ce),rotate:new gt(E,V,-V,E,0,0),skew:new gt(1,0,We,1,0,0)}},gt.prototype.toString=function(E){return this.join(" ")},gt.prototype.inversed=function(){var E=this.sx,V=this.shy,Q=this.shx,se=this.sy,me=this.tx,Ce=this.ty,je=1/(E*se-V*Q),We=se*je,Ze=-V*je,bt=-Q*je,kt=E*je;return new gt(We,Ze,bt,kt,-We*me-bt*Ce,-Ze*me-kt*Ce)},gt.prototype.applyToPoint=function(E){var V=E.x*this.sx+E.y*this.shx+this.tx,Q=E.x*this.shy+E.y*this.sy+this.ty;return new _s(V,Q)},gt.prototype.applyToRectangle=function(E){var V=this.applyToPoint(E),Q=this.applyToPoint(new _s(E.x+E.w,E.y+E.h));return new su(V.x,V.y,Q.x-V.x,Q.y-V.y)},gt.prototype.clone=function(){var E=this.sx,V=this.shy,Q=this.shx,se=this.sy,me=this.tx,Ce=this.ty;return new gt(E,V,Q,se,me,Ce)},p.Matrix=gt;var $n=p.matrixMult=function(E,V){return V.multiply(E)},fo=new gt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=fo;var ti=function(E,V){if(!$t[E]){var Q=(V instanceof Kc?"Sh":"P")+(Object.keys(yt).length+1).toString(10);V.id=Q,$t[E]=Q,yt[Q]=V,Vt.publish("addPattern",V)}};p.ShadingPattern=Kc,p.TilingPattern=Ed,p.addShadingPattern=function(E,V){return O("addShadingPattern()"),ti(E,V),this},p.beginTilingPattern=function(E){O("beginTilingPattern()"),xs(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},p.endTilingPattern=function(E,V){O("endTilingPattern()"),V.stream=Ne[Y].join(`
`),ti(E,V),Vt.publish("endTilingPattern",V),Pi.pop().restore()};var ni,Qn=p.__private__.newObject=function(){var E=Dr();return Zn(E,!0),E},Dr=p.__private__.newObjectDeferred=function(){return ce++,pe[ce]=function(){return le},ce},Zn=function(E,V){return V=typeof V=="boolean"&&V,pe[E]=le,V&&te(E+" 0 obj"),E},Zs=p.__private__.newAdditionalObject=function(){var E={objId:Dr(),content:""};return Ae.push(E),E},ds=Dr(),Ni=Dr(),ka=p.__private__.decodeColorString=function(E){var V=E.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var Q=parseFloat(V[0]);V=[Q,Q,Q,"r"]}for(var se="#",me=0;me<3;me++)se+=("0"+Math.floor(255*parseFloat(V[me])).toString(16)).slice(-2);return se},Ki=p.__private__.encodeColorString=function(E){var V;typeof E=="string"&&(E={ch1:E});var Q=E.ch1,se=E.ch2,me=E.ch3,Ce=E.ch4,je=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Q=="string"&&Q.charAt(0)!=="#"){var We=new I9(Q);if(We.ok)Q=We.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if(typeof Q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),typeof Q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var Ze=parseInt(Q.substr(1),16);Q=Ze>>16&255,se=Ze>>8&255,me=255&Ze}if(se===void 0||Ce===void 0&&Q===se&&se===me)V=typeof Q=="string"?Q+" "+je[0]:E.precision===2?k(Q/255)+" "+je[0]:R(Q/255)+" "+je[0];else if(Ce===void 0||Sn(Ce)==="object"){if(Ce&&!isNaN(Ce.a)&&Ce.a===0)return["1.","1.","1.",je[1]].join(" ");V=typeof Q=="string"?[Q,se,me,je[1]].join(" "):E.precision===2?[k(Q/255),k(se/255),k(me/255),je[1]].join(" "):[R(Q/255),R(se/255),R(me/255),je[1]].join(" ")}else V=typeof Q=="string"?[Q,se,me,Ce,je[2]].join(" "):E.precision===2?[k(Q),k(se),k(me),k(Ce),je[2]].join(" "):[R(Q),R(se),R(me),R(Ce),je[2]].join(" ");return V},ki=p.__private__.getFilters=function(){return s},xr=p.__private__.putStream=function(E){var V=(E=E||{}).data||"",Q=E.filters||ki(),se=E.alreadyAppliedFilters||[],me=E.addLength1||!1,Ce=V.length,je=E.objectId,We=function(fr){return fr};if(f!==null&&je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(We=wn.encryptor(je,0));var Ze={};Q===!0&&(Q=["FlateEncode"]);var bt=E.additionalKeyValues||[],kt=(Ze=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(V,Q):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(Ze.data.length!==0&&(bt.push({key:"Length",value:Ze.data.length}),me===!0&&bt.push({key:"Length1",value:Ce})),kt.length!=0)if(kt.split("/").length-1==1)bt.push({key:"Filter",value:kt});else{bt.push({key:"Filter",value:"["+kt+"]"});for(var Xt=0;Xt<bt.length;Xt+=1)if(bt[Xt].key==="DecodeParms"){for(var Ln=[],Vn=0;Vn<Ze.reverseChain.split("/").length-1;Vn+=1)Ln.push("null");Ln.push(bt[Xt].value),bt[Xt].value="["+Ln.join(" ")+"]"}}te("<<");for(var mn=0;mn<bt.length;mn++)te("/"+bt[mn].key+" "+bt[mn].value);te(">>"),Ze.data.length!==0&&(te("stream"),te(We(Ze.data)),te("endstream"))},hs=p.__private__.putPage=function(E){var V=E.number,Q=E.data,se=E.objId,me=E.contentsObjId;Zn(se,!0),te("<</Type /Page"),te("/Parent "+E.rootDictionaryObjId+" 0 R"),te("/Resources "+E.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(I(E.mediaBox.bottomLeftX))+" "+parseFloat(I(E.mediaBox.bottomLeftY))+" "+I(E.mediaBox.topRightX)+" "+I(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&te("/CropBox ["+I(E.cropBox.bottomLeftX)+" "+I(E.cropBox.bottomLeftY)+" "+I(E.cropBox.topRightX)+" "+I(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&te("/BleedBox ["+I(E.bleedBox.bottomLeftX)+" "+I(E.bleedBox.bottomLeftY)+" "+I(E.bleedBox.topRightX)+" "+I(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&te("/TrimBox ["+I(E.trimBox.bottomLeftX)+" "+I(E.trimBox.bottomLeftY)+" "+I(E.trimBox.topRightX)+" "+I(E.trimBox.topRightY)+"]"),E.artBox!==null&&te("/ArtBox ["+I(E.artBox.bottomLeftX)+" "+I(E.artBox.bottomLeftY)+" "+I(E.artBox.topRightX)+" "+I(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&te("/UserUnit "+E.userUnit),Vt.publish("putPage",{objId:se,pageContext:_t[V],pageNumber:V,page:Q}),te("/Contents "+me+" 0 R"),te(">>"),te("endobj");var Ce=Q.join(`
`);return T===A&&(Ce+=`
Q`),Zn(me,!0),xr({data:Ce,filters:ki(),objectId:me}),te("endobj"),se},Ta=p.__private__.putPages=function(){var E,V,Q=[];for(E=1;E<=pn;E++)_t[E].objId=Dr(),_t[E].contentsObjId=Dr();for(E=1;E<=pn;E++)Q.push(hs({number:E,data:Ne[E],objId:_t[E].objId,contentsObjId:_t[E].contentsObjId,mediaBox:_t[E].mediaBox,cropBox:_t[E].cropBox,bleedBox:_t[E].bleedBox,trimBox:_t[E].trimBox,artBox:_t[E].artBox,userUnit:_t[E].userUnit,rootDictionaryObjId:ds,resourceDictionaryObjId:Ni}));Zn(ds,!0),te("<</Type /Pages");var se="/Kids [";for(V=0;V<pn;V++)se+=Q[V]+" 0 R ";te(se+"]"),te("/Count "+pn),te(">>"),te("endobj"),Vt.publish("postPutPages")},Bo=function(E){Vt.publish("putFont",{font:E,out:te,newObject:Qn,putStream:xr}),E.isAlreadyPutted!==!0&&(E.objectNumber=Qn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+ud(E.postScriptName)),te("/Subtype /Type1"),typeof E.encoding=="string"&&te("/Encoding /"+E.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},ps=function(E){E.objectNumber=Qn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[I(E.x),I(E.y),I(E.x+E.width),I(E.y+E.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var Q=E.pages[1].join(`
`);xr({data:Q,additionalKeyValues:V,objectId:E.objectNumber}),te("endobj")},Js=function(E,V){V||(V=21);var Q=Qn(),se=function(je,We){var Ze,bt=[],kt=1/(We-1);for(Ze=0;Ze<1;Ze+=kt)bt.push(Ze);if(bt.push(1),je[0].offset!=0){var Xt={offset:0,color:je[0].color};je.unshift(Xt)}if(je[je.length-1].offset!=1){var Ln={offset:1,color:je[je.length-1].color};je.push(Ln)}for(var Vn="",mn=0,fr=0;fr<bt.length;fr++){for(Ze=bt[fr];Ze>je[mn+1].offset;)mn++;var kn=je[mn].offset,Rr=(Ze-kn)/(je[mn+1].offset-kn),mo=je[mn].color,zo=je[mn+1].color;Vn+=ie(Math.round((1-Rr)*mo[0]+Rr*zo[0]).toString(16))+ie(Math.round((1-Rr)*mo[1]+Rr*zo[1]).toString(16))+ie(Math.round((1-Rr)*mo[2]+Rr*zo[2]).toString(16))}return Vn.trim()}(E.colors,V),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+V+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xr({data:se,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),te("endobj"),E.objectNumber=Qn(),te("<< /ShadingType "+E.type),te("/ColorSpace /DeviceRGB");var Ce="/Coords ["+I(parseFloat(E.coords[0]))+" "+I(parseFloat(E.coords[1]))+" ";E.type===2?Ce+=I(parseFloat(E.coords[2]))+" "+I(parseFloat(E.coords[3])):Ce+=I(parseFloat(E.coords[2]))+" "+I(parseFloat(E.coords[3]))+" "+I(parseFloat(E.coords[4]))+" "+I(parseFloat(E.coords[5])),te(Ce+="]"),E.matrix&&te("/Matrix ["+E.matrix.toString()+"]"),te("/Function "+Q+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},el=function(E,V){var Q=Dr(),se=Qn();V.push({resourcesOid:Q,objectOid:se}),E.objectNumber=se;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+E.boundingBox.map(I).join(" ")+"]"}),me.push({key:"XStep",value:I(E.xStep)}),me.push({key:"YStep",value:I(E.yStep)}),me.push({key:"Resources",value:Q+" 0 R"}),E.matrix&&me.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),xr({data:E.stream,additionalKeyValues:me,objectId:E.objectNumber}),te("endobj")},Mh=function(E){for(var V in E.objectNumber=Qn(),te("<<"),E)switch(V){case"opacity":te("/ca "+k(E[V]));break;case"stroke-opacity":te("/CA "+k(E[V]))}te(">>"),te("endobj")},ms=function(E){Zn(E.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var V in te("/Font <<"),tt)tt.hasOwnProperty(V)&&(d===!1||d===!0&&h.hasOwnProperty(V))&&te("/"+V+" "+tt[V].objectNumber+" 0 R");te(">>")}(),function(){if(Object.keys(yt).length>0){for(var V in te("/Shading <<"),yt)yt.hasOwnProperty(V)&&yt[V]instanceof Kc&&yt[V].objectNumber>=0&&te("/"+V+" "+yt[V].objectNumber+" 0 R");Vt.publish("putShadingPatternDict"),te(">>")}}(),function(V){if(Object.keys(yt).length>0){for(var Q in te("/Pattern <<"),yt)yt.hasOwnProperty(Q)&&yt[Q]instanceof p.TilingPattern&&yt[Q].objectNumber>=0&&yt[Q].objectNumber<V&&te("/"+Q+" "+yt[Q].objectNumber+" 0 R");Vt.publish("putTilingPatternDict"),te(">>")}}(E.objectOid),function(){if(Object.keys(Nt).length>0){var V;for(V in te("/ExtGState <<"),Nt)Nt.hasOwnProperty(V)&&Nt[V].objectNumber>=0&&te("/"+V+" "+Nt[V].objectNumber+" 0 R");Vt.publish("putGStateDict"),te(">>")}}(),function(){for(var V in te("/XObject <<"),_r)_r.hasOwnProperty(V)&&_r[V].objectNumber>=0&&te("/"+V+" "+_r[V].objectNumber+" 0 R");Vt.publish("putXobjectDict"),te(">>")}(),te(">>"),te("endobj")},Ec=function(E){St[E.fontName]=St[E.fontName]||{},St[E.fontName][E.fontStyle]=E.id},eu=function(E,V,Q,se,me){var Ce={id:"F"+(Object.keys(tt).length+1).toString(10),postScriptName:E,fontName:V,fontStyle:Q,encoding:se,isStandardFont:me||!1,metadata:{}};return Vt.publish("addFont",{font:Ce,instance:this}),tt[Ce.id]=Ce,Ec(Ce),Ce.id},ri=p.__private__.pdfEscape=p.pdfEscape=function(E,V){return function(Q,se){var me,Ce,je,We,Ze,bt,kt,Xt,Ln;if(je=(se=se||{}).sourceEncoding||"Unicode",Ze=se.outputEncoding,(se.autoencode||Ze)&&tt[ut].metadata&&tt[ut].metadata[je]&&tt[ut].metadata[je].encoding&&(We=tt[ut].metadata[je].encoding,!Ze&&tt[ut].encoding&&(Ze=tt[ut].encoding),!Ze&&We.codePages&&(Ze=We.codePages[0]),typeof Ze=="string"&&(Ze=We[Ze]),Ze)){for(kt=!1,bt=[],me=0,Ce=Q.length;me<Ce;me++)(Xt=Ze[Q.charCodeAt(me)])?bt.push(String.fromCharCode(Xt)):bt.push(Q[me]),bt[me].charCodeAt(0)>>8&&(kt=!0);Q=bt.join("")}for(me=Q.length;kt===void 0&&me!==0;)Q.charCodeAt(me-1)>>8&&(kt=!0),me--;if(!kt)return Q;for(bt=se.noBOM?[]:[254,255],me=0,Ce=Q.length;me<Ce;me++){if((Ln=(Xt=Q.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+Q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bt.push(Ln),bt.push(Xt-(Ln<<8))}return String.fromCharCode.apply(void 0,bt)}(E,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ca=p.__private__.beginPage=function(E){Ne[++pn]=[],_t[pn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Nc(pn),be(Ne[Y])},tu=function(E,V){var Q,se,me;switch(r=V||r,typeof E=="string"&&(Q=b(E.toLowerCase()),Array.isArray(Q)&&(se=Q[0],me=Q[1])),Array.isArray(E)&&(se=E[0]*wt,me=E[1]*wt),isNaN(se)&&(se=a[0],me=a[1]),(se>14400||me>14400)&&(Cn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),me=Math.min(14400,me)),a=[se,me],r.substr(0,1)){case"l":me>se&&(a=[me,se]);break;case"p":se>me&&(a=[me,se])}Ca(a),bs(iu),te(Vo),Nn!==0&&te(Nn+" J"),Dc!==0&&te(Dc+" j"),Vt.publish("addPage",{pageNumber:pn})},Pc=function(E){E>0&&E<=pn&&(Ne.splice(E,1),_t.splice(E,1),pn--,Y>pn&&(Y=pn),this.setPage(Y))},Nc=function(E){E>0&&E<=pn&&(Y=E)},kc=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ne.length-1},Tc=function(E,V,Q){var se,me=void 0;return Q=Q||{},E=E!==void 0?E:tt[ut].fontName,V=V!==void 0?V:tt[ut].fontStyle,se=E.toLowerCase(),St[se]!==void 0&&St[se][V]!==void 0?me=St[se][V]:St[E]!==void 0&&St[E][V]!==void 0?me=St[E][V]:Q.disableWarning===!1&&Cn.warn("Unable to look up font label for font '"+E+"', '"+V+"'. Refer to getFontList() for available fonts."),me||Q.noFallback||(me=St.times[V])==null&&(me=St.times.normal),me},gs=p.__private__.putInfo=function(){var E=Qn(),V=function(se){return se};for(var Q in f!==null&&(V=wn.encryptor(E,0)),te("<<"),te("/Producer ("+ri(V("jsPDF "+ft.version))+")"),At)At.hasOwnProperty(Q)&&At[Q]&&te("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+ri(V(At[Q]))+")");te("/CreationDate ("+ri(V(oe))+")"),te(">>"),te("endobj")},Cc=p.__private__.putCatalog=function(E){var V=(E=E||{}).rootDictionaryObjId||ds;switch(Qn(),te("<<"),te("/Type /Catalog"),te("/Pages "+V+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+at;Q.substr(Q.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&te("/OpenAction [3 0 R /XYZ null null "+k(at)+"]")}switch(Pt||(Pt="continuous"),Pt){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}lt&&te("/PageMode /"+lt),Vt.publish("putCatalog"),te(">>"),te("endobj")},ar=p.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(ce+1)),te("/Root "+ce+" 0 R"),te("/Info "+(ce-1)+" 0 R"),f!==null&&te("/Encrypt "+wn.oid+" 0 R"),te("/ID [ <"+he+"> <"+he+"> ]"),te(">>")},Ic=p.__private__.putHeader=function(){te("%PDF-"+y),te("%")},Wf=p.__private__.putXRef=function(){var E="0000000000";te("xref"),te("0 "+(ce+1)),te("0000000000 65535 f ");for(var V=1;V<=ce;V++)typeof pe[V]=="function"?te((E+pe[V]()).slice(-10)+" 00000 n "):pe[V]!==void 0?te((E+pe[V]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Uo=p.__private__.buildDocument=function(){var E;ce=0,le=0,Ee=[],pe=[],Ae=[],ds=Dr(),Ni=Dr(),be(Ee),Vt.publish("buildDocument"),Ic(),Ta(),function(){Vt.publish("putAdditionalObjects");for(var Q=0;Q<Ae.length;Q++){var se=Ae[Q];Zn(se.objId,!0),te(se.content),te("endobj")}Vt.publish("postPutAdditionalObjects")}(),E=[],function(){for(var Q in tt)tt.hasOwnProperty(Q)&&(d===!1||d===!0&&h.hasOwnProperty(Q))&&Bo(tt[Q])}(),function(){var Q;for(Q in Nt)Nt.hasOwnProperty(Q)&&Mh(Nt[Q])}(),function(){for(var Q in _r)_r.hasOwnProperty(Q)&&ps(_r[Q])}(),function(Q){var se;for(se in yt)yt.hasOwnProperty(se)&&(yt[se]instanceof Kc?Js(yt[se]):yt[se]instanceof Ed&&el(yt[se],Q))}(E),Vt.publish("putResources"),E.forEach(ms),ms({resourcesOid:Ni,objectOid:Number.MAX_SAFE_INTEGER}),Vt.publish("postPutResources"),f!==null&&(wn.oid=Qn(),te("<<"),te("/Filter /Standard"),te("/V "+wn.v),te("/R "+wn.r),te("/U <"+wn.toHexString(wn.U)+">"),te("/O <"+wn.toHexString(wn.O)+">"),te("/P "+wn.P),te(">>"),te("endobj")),gs(),Cc();var V=le;return Wf(),ar(),te("startxref"),te(""+V),te("%%EOF"),be(Ne[Y]),Ee.join(`
`)},vs=p.__private__.getBlob=function(E){return new Blob([vt(E)],{type:"application/pdf"})},sa=p.output=p.__private__.output=(ni=function(E,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",E){case void 0:return Uo();case"save":p.save(V.filename);break;case"arraybuffer":return vt(Uo());case"blob":return vs(Uo());case"bloburi":case"bloburl":if(Et.URL!==void 0&&typeof Et.URL.createObjectURL=="function")return Et.URL&&Et.URL.createObjectURL(vs(Uo()))||void 0;Cn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",se=Uo();try{Q=tI(se)}catch{Q=tI(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+V.filename+";base64,"+Q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ce=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(me=V.pdfObjectUrl,Ce="");var je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+Ce+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",We=Et.open();return We!==null&&We.document.write(je),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',bt=Et.open();if(bt!==null){bt.document.write(Ze);var kt=this;bt.document.documentElement.querySelector("#pdfViewer").onload=function(){bt.document.title=V.filename,bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kt.output("bloburl"))}}return bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Ln=Et.open();if(Ln!==null&&(Ln.document.write(Xt),Ln.document.title=V.filename),Ln||typeof safari>"u")return Ln;break;case"datauri":case"dataurl":return Et.document.location.href=this.output("datauristring",V);default:return null}},ni.foo=function(){try{return ni.apply(this,arguments)}catch(Q){var E=Q.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var V="Error in function "+E.split(`
`)[0].split("<")[0]+": "+Q.message;if(!Et.console)throw new Error(V);Et.console.error(V,Q),Et.alert&&alert(V)}},ni.foo.bar=ni,ni.foo),tl=function(E){return Array.isArray(fs)===!0&&fs.indexOf(E)>-1};switch(i){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=tl("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);wt=i}var wn=null;ne(),re();var Gi=p.__private__.getPageInfo=p.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_t[E].objId,pageNumber:E,pageContext:_t[E]}},nu=p.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in _t)if(_t[V].objId===E)break;return Gi(V)},ru=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:_t[Y].objId,pageNumber:Y,pageContext:_t[Y]}};p.addPage=function(){return tu.apply(this,arguments),this},p.setPage=function(){return Nc.apply(this,arguments),be.call(this,Ne[Y]),this},p.insertPage=function(E){return this.addPage(),this.movePage(Y,E),this},p.movePage=function(E,V){var Q,se;if(E>V){Q=Ne[E],se=_t[E];for(var me=E;me>V;me--)Ne[me]=Ne[me-1],_t[me]=_t[me-1];Ne[V]=Q,_t[V]=se,this.setPage(V)}else if(E<V){Q=Ne[E],se=_t[E];for(var Ce=E;Ce<V;Ce++)Ne[Ce]=Ne[Ce+1],_t[Ce]=_t[Ce+1];Ne[V]=Q,_t[V]=se,this.setPage(V)}return this},p.deletePage=function(){return Pc.apply(this,arguments),this},p.__private__.text=p.text=function(E,V,Q,se,me){var Ce,je,We,Ze,bt,kt,Xt,Ln,Vn,mn=(se=se||{}).scope||this;if(typeof E=="number"&&typeof V=="number"&&(typeof Q=="string"||Array.isArray(Q))){var fr=Q;Q=V,V=E,E=fr}if(arguments[3]instanceof gt==0?(We=arguments[4],Ze=arguments[5],Sn(Xt=arguments[3])==="object"&&Xt!==null||(typeof We=="string"&&(Ze=We,We=null),typeof Xt=="string"&&(Ze=Xt,Xt=null),typeof Xt=="number"&&(We=Xt,Xt=null),se={flags:Xt,angle:We,align:Ze})):(O("The transform parameter of text() with a Matrix value"),Vn=me),isNaN(V)||isNaN(Q)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return mn;var kn,Rr="",mo=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:ws,zo=mn.internal.scaleFactor;function Gf(Dn){return Dn=Dn.split("	").join(Array(se.TabLen||9).join(" ")),ri(Dn,Xt)}function sl(Dn){for(var Rn,Er=Dn.concat(),Pr=[],ul=Er.length;ul--;)typeof(Rn=Er.shift())=="string"?Pr.push(Rn):Array.isArray(Dn)&&(Rn.length===1||Rn[1]===void 0&&Rn[2]===void 0)?Pr.push(Rn[0]):Pr.push([Rn[0],Rn[1],Rn[2]]);return Pr}function Ar(Dn,Rn){var Er;if(typeof Dn=="string")Er=Rn(Dn)[0];else if(Array.isArray(Dn)){for(var Pr,ul,Zf=Dn.concat(),Ts=[],Kh=Zf.length;Kh--;)typeof(Pr=Zf.shift())=="string"?Ts.push(Rn(Pr)[0]):Array.isArray(Pr)&&typeof Pr[0]=="string"&&(ul=Rn(Pr[0],Pr[1],Pr[2]),Ts.push([ul[0],ul[1],ul[2]]));Er=Ts}return Er}var ca=!1,uu=!0;if(typeof E=="string")ca=!0;else if(Array.isArray(E)){var Oa=E.concat();je=[];for(var g,N=Oa.length;N--;)(typeof(g=Oa.shift())!="string"||Array.isArray(g)&&typeof g[0]!="string")&&(uu=!1);ca=uu}if(ca===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var F=Fe/mn.internal.scaleFactor,G=F*(mo-1);switch(se.baseline){case"bottom":Q-=G;break;case"top":Q+=F-G;break;case"hanging":Q+=F-2*G;break;case"middle":Q+=F/2-G}if((kt=se.maxWidth||0)>0&&(typeof E=="string"?E=mn.splitTextToSize(E,kt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(Dn,Rn){return Dn.concat(mn.splitTextToSize(Rn,kt))},[]))),Ce={text:E,x:V,y:Q,options:se,mutex:{pdfEscape:ri,activeFontKey:ut,fonts:tt,activeFontSize:Fe}},Vt.publish("preProcessText",Ce),E=Ce.text,We=(se=Ce.options).angle,Vn instanceof gt==0&&We&&typeof We=="number"){We*=Math.PI/180,se.rotationDirection===0&&(We=-We),T===A&&(We=-We);var ge=Math.cos(We),Pe=Math.sin(We);Vn=new gt(ge,Pe,-Pe,ge,0,0)}else We&&We instanceof gt&&(Vn=We);T!==A||Vn||(Vn=fo),(bt=se.charSpace||il)!==void 0&&(Rr+=I(j(bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ln=se.horizontalScale)!==void 0&&(Rr+=I(100*Ln)+` Tz
`),se.lang;var Re=-1,un=se.renderingMode!==void 0?se.renderingMode:se.stroke,Jn=mn.internal.getCurrentPageInfo().pageContext;switch(un){case 0:case!1:case"fill":Re=0;break;case 1:case!0:case"stroke":Re=1;break;case 2:case"fillThenStroke":Re=2;break;case 3:case"invisible":Re=3;break;case 4:case"fillAndAddForClipping":Re=4;break;case 5:case"strokeAndAddPathForClipping":Re=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Re=6;break;case 7:case"addToPathForClipping":Re=7}var qt=Jn.usedRenderingMode!==void 0?Jn.usedRenderingMode:-1;Re!==-1?Rr+=Re+` Tr
`:qt!==-1&&(Rr+=`0 Tr
`),Re!==-1&&(Jn.usedRenderingMode=Re),Ze=se.align||"left";var Kt,bn=Fe*mo,go=mn.internal.pageSize.getWidth(),di=tt[ut];bt=se.charSpace||il,kt=se.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},se.flags);var ja=[],Ss=function(Dn){return mn.getStringUnitWidth(Dn,{font:di,charSpace:bt,fontSize:Fe,doKerning:!1})*Fe/zo};if(Object.prototype.toString.call(E)==="[object Array]"){var fa;je=sl(E),Ze!=="left"&&(Kt=je.map(Ss));var da,Rc=0;if(Ze==="right"){V-=Kt[0],E=[],N=je.length;for(var Es=0;Es<N;Es++)Es===0?(da=ii(V),fa=$o(Q)):(da=j(Rc-Kt[Es]),fa=-bn),E.push([je[Es],da,fa]),Rc=Kt[Es]}else if(Ze==="center"){V-=Kt[0]/2,E=[],N=je.length;for(var cu=0;cu<N;cu++)cu===0?(da=ii(V),fa=$o(Q)):(da=j((Rc-Kt[cu])/2),fa=-bn),E.push([je[cu],da,fa]),Rc=Kt[cu]}else if(Ze==="left"){E=[],N=je.length;for(var qh=0;qh<N;qh++)E.push(je[qh])}else if(Ze==="justify"&&di.encoding==="Identity-H"){E=[],N=je.length,kt=kt!==0?kt:go;for(var fu=0,Sr=0;Sr<N;Sr++)if(fa=Sr===0?$o(Q):-bn,da=Sr===0?ii(V):fu,Sr<N-1){var _2=j((kt-Kt[Sr])/(je[Sr].split(" ").length-1)),Ps=je[Sr].split(" ");E.push([Ps[0]+" ",da,fa]),fu=0;for(var Ns=1;Ns<Ps.length;Ns++){var Yf=(Ss(Ps[Ns-1]+" "+Ps[Ns])-Ss(Ps[Ns]))*zo+_2;Ns==Ps.length-1?E.push([Ps[Ns],Yf,0]):E.push([Ps[Ns]+" ",Yf,0]),fu-=Yf}}else E.push([je[Sr],da,fa]);E.push(["",fu,0])}else{if(Ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],N=je.length,kt=kt!==0?kt:go,Sr=0;Sr<N;Sr++)fa=Sr===0?$o(Q):-bn,da=Sr===0?ii(V):0,Sr<N-1?ja.push(I(j((kt-Kt[Sr])/(je[Sr].split(" ").length-1)))):ja.push(0),E.push([je[Sr],da,fa])}}(typeof se.R2L=="boolean"?se.R2L:Ct)===!0&&(E=Ar(E,function(Dn,Rn,Er){return[Dn.split("").reverse().join(""),Rn,Er]})),Ce={text:E,x:V,y:Q,options:se,mutex:{pdfEscape:ri,activeFontKey:ut,fonts:tt,activeFontSize:Fe}},Vt.publish("postProcessText",Ce),E=Ce.text,kn=Ce.mutex.isHex||!1;var Wh=tt[ut].encoding;Wh!=="WinAnsiEncoding"&&Wh!=="StandardEncoding"||(E=Ar(E,function(Dn,Rn,Er){return[Gf(Dn),Rn,Er]})),je=sl(E),E=[];for(var Xf,Qf,Mc,Fc=Array.isArray(je[0])?1:0,ll="",Hh=function(Dn,Rn,Er){var Pr="";return Er instanceof gt?(Er=typeof se.angle=="number"?$n(Er,new gt(1,0,0,1,Dn,Rn)):$n(new gt(1,0,0,1,Dn,Rn),Er),T===A&&(Er=$n(new gt(1,0,0,-1,0,0),Er)),Pr=Er.join(" ")+` Tm
`):Pr=I(Dn)+" "+I(Rn)+` Td
`,Pr},La=0;La<je.length;La++){switch(ll="",Fc){case 1:Mc=(kn?"<":"(")+je[La][0]+(kn?">":")"),Xf=parseFloat(je[La][1]),Qf=parseFloat(je[La][2]);break;case 0:Mc=(kn?"<":"(")+je[La]+(kn?">":")"),Xf=ii(V),Qf=$o(Q)}ja!==void 0&&ja[La]!==void 0&&(ll=ja[La]+` Tw
`),La===0?E.push(ll+Hh(Xf,Qf,Vn)+Mc):Fc===0?E.push(ll+Mc):Fc===1&&E.push(ll+Hh(Xf,Qf,Vn)+Mc)}E=Fc===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var ks=`BT
/`;return ks+=ut+" "+Fe+` Tf
`,ks+=I(Fe*mo)+` TL
`,ks+=Ia+`
`,ks+=Rr,ks+=E,te(ks+="ET"),h[ut]=!0,mn};var Hf=p.__private__.clip=p.clip=function(E){return te(E==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Hf("evenodd")},p.__private__.discardPath=p.discardPath=function(){return te("n"),this};var Ht=p.__private__.isValidStyle=function(E){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(V=!0),V};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(E){return Ht(E)&&(c=E),this};var nl=p.__private__.getStyle=p.getStyle=function(E){var V=c;switch(E){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=E}return V},ys=p.close=function(){return te("h"),this};p.stroke=function(){return te("S"),this},p.fill=function(E){return la("f",E),this},p.fillEvenOdd=function(E){return la("f*",E),this},p.fillStroke=function(E){return la("B",E),this},p.fillStrokeEvenOdd=function(E){return la("B*",E),this};var la=function(E,V){Sn(V)==="object"?Fh(V,E):te(E)},Oc=function(E){E===null||T===A&&E===void 0||(E=nl(E),te(E))};function Kf(E,V,Q,se,me){var Ce=new Ed(V||this.boundingBox,Q||this.xStep,se||this.yStep,this.gState,me||this.matrix);Ce.stream=this.stream;var je=E+"$$"+this.cloneIndex+++"$$";return ti(je,Ce),Ce}var Fh=function(E,V){var Q=$t[E.key],se=yt[Q];if(se instanceof Kc)te("q"),te(Bh(V)),se.gState&&p.setGState(se.gState),te(E.matrix.toString()+" cm"),te("/"+Q+" sh"),te("Q");else if(se instanceof Ed){var me=new gt(1,0,0,-1,0,Xi());E.matrix&&(me=me.multiply(E.matrix||fo),Q=Kf.call(se,E.key,E.boundingBox,E.xStep,E.yStep,me).id),te("q"),te("/Pattern cs"),te("/"+Q+" scn"),se.gState&&p.setGState(se.gState),te(V),te("Q")}},Bh=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},jc=p.moveTo=function(E,V){return te(I(j(E))+" "+I(H(V))+" m"),this},rl=p.lineTo=function(E,V){return te(I(j(E))+" "+I(H(V))+" l"),this},ua=p.curveTo=function(E,V,Q,se,me,Ce){return te([I(j(E)),I(H(V)),I(j(Q)),I(H(se)),I(j(me)),I(H(Ce)),"c"].join(" ")),this};p.__private__.line=p.line=function(E,V,Q,se,me){if(isNaN(E)||isNaN(V)||isNaN(Q)||isNaN(se)||!Ht(me))throw new Error("Invalid arguments passed to jsPDF.line");return T===S?this.lines([[Q-E,se-V]],E,V,[1,1],me||"S"):this.lines([[Q-E,se-V]],E,V,[1,1]).stroke()},p.__private__.lines=p.lines=function(E,V,Q,se,me,Ce){var je,We,Ze,bt,kt,Xt,Ln,Vn,mn,fr,kn,Rr;if(typeof E=="number"&&(Rr=Q,Q=V,V=E,E=Rr),se=se||[1,1],Ce=Ce||!1,isNaN(V)||isNaN(Q)||!Array.isArray(E)||!Array.isArray(se)||!Ht(me)||typeof Ce!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jc(V,Q),je=se[0],We=se[1],bt=E.length,fr=V,kn=Q,Ze=0;Ze<bt;Ze++)(kt=E[Ze]).length===2?(fr=kt[0]*je+fr,kn=kt[1]*We+kn,rl(fr,kn)):(Xt=kt[0]*je+fr,Ln=kt[1]*We+kn,Vn=kt[2]*je+fr,mn=kt[3]*We+kn,fr=kt[4]*je+fr,kn=kt[5]*We+kn,ua(Xt,Ln,Vn,mn,fr,kn));return Ce&&ys(),Oc(me),this},p.path=function(E){for(var V=0;V<E.length;V++){var Q=E[V],se=Q.c;switch(Q.op){case"m":jc(se[0],se[1]);break;case"l":rl(se[0],se[1]);break;case"c":ua.apply(this,se);break;case"h":ys()}}return this},p.__private__.rect=p.rect=function(E,V,Q,se,me){if(isNaN(E)||isNaN(V)||isNaN(Q)||isNaN(se)||!Ht(me))throw new Error("Invalid arguments passed to jsPDF.rect");return T===S&&(se=-se),te([I(j(E)),I(H(V)),I(j(Q)),I(j(se)),"re"].join(" ")),Oc(me),this},p.__private__.triangle=p.triangle=function(E,V,Q,se,me,Ce,je){if(isNaN(E)||isNaN(V)||isNaN(Q)||isNaN(se)||isNaN(me)||isNaN(Ce)||!Ht(je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-E,se-V],[me-Q,Ce-se],[E-me,V-Ce]],E,V,[1,1],je,!0),this},p.__private__.roundedRect=p.roundedRect=function(E,V,Q,se,me,Ce,je){if(isNaN(E)||isNaN(V)||isNaN(Q)||isNaN(se)||isNaN(me)||isNaN(Ce)||!Ht(je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*Q),Ce=Math.min(Ce,.5*se),this.lines([[Q-2*me,0],[me*We,0,me,Ce-Ce*We,me,Ce],[0,se-2*Ce],[0,Ce*We,-me*We,Ce,-me,Ce],[2*me-Q,0],[-me*We,0,-me,-Ce*We,-me,-Ce],[0,2*Ce-se],[0,-Ce*We,me*We,-Ce,me,-Ce]],E+me,V,[1,1],je,!0),this},p.__private__.ellipse=p.ellipse=function(E,V,Q,se,me){if(isNaN(E)||isNaN(V)||isNaN(Q)||isNaN(se)||!Ht(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ce=4/3*(Math.SQRT2-1)*Q,je=4/3*(Math.SQRT2-1)*se;return jc(E+Q,V),ua(E+Q,V-je,E+Ce,V-se,E,V-se),ua(E-Ce,V-se,E-Q,V-je,E-Q,V),ua(E-Q,V+je,E-Ce,V+se,E,V+se),ua(E+Ce,V+se,E+Q,V+je,E+Q,V),Oc(me),this},p.__private__.circle=p.circle=function(E,V,Q,se){if(isNaN(E)||isNaN(V)||isNaN(Q)||!Ht(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,V,Q,Q,se)},p.setFont=function(E,V,Q){return Q&&(V=L(V,Q)),ut=Tc(E,V,{disableWarning:!1}),this};var ho=p.__private__.getFont=p.getFont=function(){return tt[Tc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var E,V,Q={};for(E in St)if(St.hasOwnProperty(E))for(V in Q[E]=[],St[E])St[E].hasOwnProperty(V)&&Q[E].push(V);return Q},p.addFont=function(E,V,Q,se,me){var Ce=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ce.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&Ce.indexOf(arguments[3])==-1&&(Q=L(Q,se)),eu.call(this,E,V,Q,me=me||"Identity-H")};var ws,iu=n.lineWidth||.200025,xt=p.__private__.getLineWidth=p.getLineWidth=function(){return iu},bs=p.__private__.setLineWidth=p.setLineWidth=function(E){return iu=E,te(I(j(E))+" w"),this};p.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(E,V){if(E=E||[],V=V||0,isNaN(V)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(Q){return I(j(Q))}).join(" "),V=I(j(V)),te("["+E+"] "+V+" d"),this};var Uh=p.__private__.getLineHeight=p.getLineHeight=function(){return Fe*ws};p.__private__.getLineHeight=p.getLineHeight=function(){return Fe*ws};var $h=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(ws=E),this},Vh=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ws};$h(n.lineHeight);var ii=p.__private__.getHorizontalCoordinate=function(E){return j(E)},$o=p.__private__.getVerticalCoordinate=function(E){return T===A?E:_t[Y].mediaBox.topRightY-_t[Y].mediaBox.bottomLeftY-j(E)},zh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(E){return I(ii(E))},au=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(E){return I($o(E))},Vo=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ka(Vo)},p.__private__.setStrokeColor=p.setDrawColor=function(E,V,Q,se){return Vo=Ki({ch1:E,ch2:V,ch3:Q,ch4:se,pdfColorType:"draw",precision:2}),te(Vo),this};var ou=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ka(ou)},p.__private__.setFillColor=p.setFillColor=function(E,V,Q,se){return ou=Ki({ch1:E,ch2:V,ch3:Q,ch4:se,pdfColorType:"fill",precision:2}),te(ou),this};var Ia=n.textColor||"0 g",po=p.__private__.getTextColor=p.getTextColor=function(){return ka(Ia)};p.__private__.setTextColor=p.setTextColor=function(E,V,Q,se){return Ia=Ki({ch1:E,ch2:V,ch3:Q,ch4:se,pdfColorType:"text",precision:3}),this};var il=n.charSpace,Lc=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(il||0)};p.__private__.setCharSpace=p.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return il=E,this};var Nn=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(E){var V=p.CapJoinStyles[E];if(V===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nn=V,te(V+" J"),this};var Dc=0;p.__private__.setLineJoin=p.setLineJoin=function(E){var V=p.CapJoinStyles[E];if(V===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dc=V,te(V+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(I(j(E))+" M"),this},p.GState=N0,p.setGState=function(E){(E=typeof E=="string"?Nt[Xn[E]]:al(null,E)).equals(Un)||(te("/"+E.id+" gs"),Un=E)};var al=function(E,V){if(!E||!Xn[E]){var Q=!1;for(var se in Nt)if(Nt.hasOwnProperty(se)&&Nt[se].equals(V)){Q=!0;break}if(Q)V=Nt[se];else{var me="GS"+(Object.keys(Nt).length+1).toString(10);Nt[me]=V,V.id=me}return E&&(Xn[E]=V.id),Vt.publish("addGState",V),V}};p.addGState=function(E,V){return al(E,V),this},p.saveGraphicsState=function(){return te("q"),yn.push({key:ut,size:Fe,color:Ia}),this},p.restoreGraphicsState=function(){te("Q");var E=yn.pop();return ut=E.key,Fe=E.size,Ia=E.color,Un=null,this},p.setCurrentTransformationMatrix=function(E){return te(E.toString()+" cm"),this},p.comment=function(E){return te("#"+E),this};var _s=function(E,V){var Q=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(Ce){isNaN(Ce)||(Q=parseFloat(Ce))}});var se=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(Ce){isNaN(Ce)||(se=parseFloat(Ce))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(Ce){me=Ce.toString()}}),this},su=function(E,V,Q,se){_s.call(this,E,V),this.type="rect";var me=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(je){isNaN(je)||(me=parseFloat(je))}});var Ce=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ce},set:function(je){isNaN(je)||(Ce=parseFloat(je))}}),this},ol=function(){this.page=pn,this.currentPage=Y,this.pages=Ne.slice(0),this.pagesContext=_t.slice(0),this.x=ht,this.y=ln,this.matrix=Jt,this.width=Yi(Y),this.height=Xi(Y),this.outputDestination=Ue,this.id="",this.objectNumber=-1};ol.prototype.restore=function(){pn=this.page,Y=this.currentPage,_t=this.pagesContext,Ne=this.pages,ht=this.x,ln=this.y,Jt=this.matrix,lu(Y,this.width),Ti(Y,this.height),Ue=this.outputDestination};var xs=function(E,V,Q,se,me){Pi.push(new ol),pn=Y=0,Ne=[],ht=E,ln=V,Jt=me,Ca([Q,se])};for(var As in p.beginFormObject=function(E,V,Q,se,me){return xs(E,V,Q,se,me),this},p.endFormObject=function(E){return function(V){if(co[V])Pi.pop().restore();else{var Q=new ol,se="Xo"+(Object.keys(_r).length+1).toString(10);Q.id=se,co[V]=se,_r[se]=Q,Vt.publish("addFormObject",Q),Pi.pop().restore()}}(E),this},p.doFormObject=function(E,V){var Q=_r[co[E]];return te("q"),te(V.toString()+" cm"),te("/"+Q.id+" Do"),te("Q"),this},p.getFormObject=function(E){var V=_r[co[E]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},p.save=function(E,V){return E=E||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Hc(vs(Uo()),E),typeof Hc.unload=="function"&&Et.setTimeout&&setTimeout(Hc.unload,911),this):new Promise(function(Q,se){try{var me=Hc(vs(Uo()),E);typeof Hc.unload=="function"&&Et.setTimeout&&setTimeout(Hc.unload,911),Q(me)}catch(Ce){se(Ce.message)}})},ft.API)ft.API.hasOwnProperty(As)&&(As==="events"&&ft.API.events.length?function(E,V){var Q,se,me;for(me=V.length-1;me!==-1;me--)Q=V[me][0],se=V[me][1],E.subscribe.apply(E,[Q].concat(typeof se=="function"?[se]:se))}(Vt,ft.API.events):p[As]=ft.API[As]);var Yi=p.getPageWidth=function(E){return(_t[E=E||Y].mediaBox.topRightX-_t[E].mediaBox.bottomLeftX)/wt},lu=p.setPageWidth=function(E,V){_t[E].mediaBox.topRightX=V*wt+_t[E].mediaBox.bottomLeftX},Xi=p.getPageHeight=function(E){return(_t[E=E||Y].mediaBox.topRightY-_t[E].mediaBox.bottomLeftY)/wt},Ti=p.setPageHeight=function(E,V){_t[E].mediaBox.topRightY=V*wt+_t[E].mediaBox.bottomLeftY};return p.internal={pdfEscape:ri,getStyle:nl,getFont:ho,getFontSize:ze,getCharSpace:Lc,getTextColor:po,getLineHeight:Uh,getLineHeightFactor:Vh,getLineWidth:xt,write:mt,getHorizontalCoordinate:ii,getVerticalCoordinate:$o,getCoordinateString:zh,getVerticalCoordinateString:au,collections:{},newObject:Qn,newAdditionalObject:Zs,newObjectDeferred:Dr,newObjectDeferredBegin:Zn,getFilters:ki,putStream:xr,events:Vt,scaleFactor:wt,pageSize:{getWidth:function(){return Yi(Y)},setWidth:function(E){lu(Y,E)},getHeight:function(){return Xi(Y)},setHeight:function(E){Ti(Y,E)}},encryptionOptions:f,encryption:wn,getEncryptor:function(E){return f!==null?wn.encryptor(E,0):function(V){return V}},output:sa,getNumberOfPages:kc,pages:Ne,out:te,f2:k,f3:R,getPageInfo:Gi,getPageInfoByObjId:nu,getCurrentPageInfo:ru,getPDFVersion:w,Point:_s,Rectangle:su,Matrix:gt,hasHotfix:tl},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Yi(Y)},set:function(E){lu(Y,E)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Xi(Y)},set:function(E){Ti(Y,E)},enumerable:!0,configurable:!0}),(function(E){for(var V=0,Q=dt.length;V<Q;V++){var se=eu.call(this,E[V][0],E[V][1],E[V][2],dt[V][3],!0);d===!1&&(h[se]=!0);var me=E[V][0].split("-");Ec({id:se,fontName:me[0],fontStyle:me[1]||""})}Vt.publish("addFonts",{fonts:tt,dictionary:St})}).call(p,dt),ut="F1",tu(a,r),Vt.publish("initialized"),p}ld.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},ld.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ld.prototype.hexToBytes=function(n){for(var e=[],r=0;r<n.length;r+=2)e.push(String.fromCharCode(parseInt(n.substr(r,2),16)));return e.join("")},ld.prototype.processOwnerPassword=function(n,e){return W_(q_(e).substr(0,5),n)},ld.prototype.encryptor=function(n,e){var r=q_(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return W_(r,i)}},N0.prototype.equals=function(n){var e,r="id,objectNumber,equals";if(!n||Sn(n)!==Sn(this))return!1;var i=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&r.indexOf(e)<0&&i--;return i===0},ft.API={events:[]},ft.version="3.0.2";var mr=ft.API,iP=1,qf=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rd=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ot=function(n){return n.toFixed(2)},Au=function(n){return n.toFixed(5)};mr.__acroform__={};var Na=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},aI=function(n){return n*iP},Os=function(n){var e=new D9,r=Qe.internal.getHeight(n)||0,i=Qe.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Ot(i)),Number(Ot(r))],e},Npe=mr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},kpe=mr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Tpe=mr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Ir=mr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tpe(n,e-1)},Or=mr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Npe(n,e-1)},jr=mr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kpe(n,e-1)},Cpe=mr.__acroform__.calculateCoordinates=function(n,e){var r=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,a=n[0],o=n[1],s=n[2],l=n[3],u={};return u.lowerLeft_X=r(a)||0,u.lowerLeft_Y=i(o+l)||0,u.upperRight_X=r(a+s)||0,u.upperRight_Y=i(o)||0,[Number(Ot(u.lowerLeft_X)),Number(Ot(u.lowerLeft_Y)),Number(Ot(u.upperRight_X)),Number(Ot(u.upperRight_Y))]},Ipe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],r=n._V||n.DV,i=H_(n,r),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+Ot(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Os(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},H_=function(n,e){var r=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var o=r,s=Qe.internal.getHeight(n)||0;s=s<0?-s:s;var l=Qe.internal.getWidth(n)||0;l=l<0?-l:l;var u=function(k,R,j){if(k+1<a.length){var H=R+" "+a[k+1][0];return jv(H,n,j).width<=l-4}return!1};o++;e:for(;o>0;){e="",o--;var c,f,d=jv("3",n,o).height,h=n.multiline?s-o:(s-d)/2,p=h+=2,y=0,w=0,_=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+jv(e,n,o=12).width+", FieldWidth:"+l+`
`;break}for(var b="",S=0,A=0;A<a.length;A++)if(a.hasOwnProperty(A)){var T=!1;if(a[A].length!==1&&_!==a[A].length-1){if((d+2)*(S+2)+2>s)continue e;b+=a[A][_],T=!0,w=A,A--}else{b=(b+=a[A][_]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var B=parseInt(A),$=u(B,b,o),L=A>=a.length-1;if($&&!L){b+=" ",_=0;continue}if($||L){if(L)w=B;else if(n.multiline&&(d+2)*(S+2)+2>s)continue e}else{if(!n.multiline||(d+2)*(S+2)+2>s)continue e;w=B}}for(var I="",O=y;O<=w;O++){var U=a[O];if(n.multiline){if(O===w){I+=U[_]+" ",_=(_+1)%U.length;continue}if(O===y){I+=U[U.length-1]+" ";continue}}I+=U[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,f=jv(I,n,o).width,n.textAlign){case"right":c=l-f-2;break;case"center":c=(l-f)/2;break;default:c=2}e+=Ot(c)+" "+Ot(p)+` Td
`,e+="("+qf(I)+`) Tj
`,e+=-Ot(c)+` 0 Td
`,p=-(o+2),f=0,y=T?w:w+1,S++,b=""}break}return i.text=e,i.fontSize=o,i},jv=function(n,e,r){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Ope={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},jpe=function(n,e){var r={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===r.type&&i.object===r.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(r)},Lpe=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(us.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Ope)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");iP=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new R9,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];o.objId=void 0,o.hasAnnotation&&jpe(o,r)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(r){(function(i,a){var o=!i;for(var s in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var l=i[s],u=[],c=l.Rect;if(l.Rect&&(l.Rect=Cpe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Qe.createDefaultAppearanceStream(l),Sn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=c,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=Ipe(l);u.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var d="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var p=l.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var y=p[s];typeof y=="function"&&(y=y.call(a,l)),d+="/"+s+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(a,l)),d+="/"+s+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);d+=">>"}u.push({key:"AP",value:`<<
`+d+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:l.objId}),a.internal.out("endobj")}o&&function(w,_){for(var b in w)if(w.hasOwnProperty(b)){var S=b,A=w[b];_.internal.newObjectDeferredBegin(A.objId,!0),Sn(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete w[S]}}(a.internal.acroformPlugin.xForms,a)})(r,n)}),n.internal.acroformPlugin.isInitialized=!0}},L9=mr.__acroform__.arrayToPdfArray=function(n,e,r){var i=function(s){return s};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Sn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&r&&(i=r.internal.getEncryptor(e)),a+="("+qf(i(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},cb=function(n,e,r){var i=function(a){return a};return e!==void 0&&r&&(i=r.internal.getEncryptor(e)),(n=n||"").toString(),"("+qf(i(n))+")"},Ms=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ms.prototype.toString=function(){return this.objId+" 0 R"},Ms.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ms.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var i=e[r],a=this[i];a&&(Array.isArray(a)?n.push({key:i,value:L9(a,this.objId,this.scope)}):a instanceof Ms?(a.scope=this.scope,n.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:i,value:a}))}return n};var D9=function(){Ms.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){n=r.trim()},get:function(){return n||null}})};Na(D9,Ms);var R9=function(){Ms.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var r=function(i){return i};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+qf(r(n))+")"}},set:function(r){n=r}})};Na(R9,Ms);var us=function n(){Ms.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ir(e,3)},set:function(b){b?this.F=Or(e,3):this.F=jr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(b){i=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(b){i[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(b){i[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(b){i[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(b){i[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof k0)return;o="FieldObject"+n.FieldNum++}var b=function(S){return S};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+qf(b(o))+")"},set:function(b){o=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(b){o=b}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/iP:c},set:function(b){c=b}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(b){f=b}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof k0||this instanceof hf))return cb(d,this.objId,this.scope)},set:function(b){b=b.toString(),d=b}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof li==0?cb(h,this.objId,this.scope):h},set:function(b){b=b.toString(),h=this instanceof li==0?b.substr(0,1)==="("?rd(b.substr(1,b.length-2)):rd(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof li==1?rd(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof li==1?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof li==0?cb(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof li==0?b.substr(0,1)==="("?rd(b.substr(1,b.length-2)):rd(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof li==1?rd(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof li==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(b){b=!!b,w=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,1)},set:function(b){b?this.Ff=Or(this.Ff,1):this.Ff=jr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,2)},set:function(b){b?this.Ff=Or(this.Ff,2):this.Ff=jr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,3)},set:function(b){b?this.Ff=Or(this.Ff,3):this.Ff=jr(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');_=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(_){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};Na(us,Ms);var Rd=function(){us.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(r){n=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return L9(e,this.objId,this.scope)},set:function(r){var i,a;a=[],typeof(i=r)=="string"&&(a=function(o,s,l){l||(l=1);for(var u,c=[];u=s.exec(o);)c.push(u[l]);return c}(i,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,i){for(i=i||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,18)},set:function(r){r?this.Ff=Or(this.Ff,18):this.Ff=jr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Or(this.Ff,19):this.Ff=jr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,20)},set:function(r){r?(this.Ff=Or(this.Ff,20),e.sort()):this.Ff=jr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,22)},set:function(r){r?this.Ff=Or(this.Ff,22):this.Ff=jr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(r){r?this.Ff=Or(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,27)},set:function(r){r?this.Ff=Or(this.Ff,27):this.Ff=jr(this.Ff,27)}}),this.hasAppearanceStream=!1};Na(Rd,us);var Md=function(){Rd.call(this),this.fontName="helvetica",this.combo=!1};Na(Md,Rd);var Fd=function(){Md.call(this),this.combo=!0};Na(Fd,Md);var ry=function(){Fd.call(this),this.edit=!0};Na(ry,Fd);var li=function(){us.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,15)},set:function(r){r?this.Ff=Or(this.Ff,15):this.Ff=jr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,16)},set:function(r){r?this.Ff=Or(this.Ff,16):this.Ff=jr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,17)},set:function(r){r?this.Ff=Or(this.Ff,17):this.Ff=jr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(r){r?this.Ff=Or(this.Ff,26):this.Ff=jr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,a=[];for(i in a.push("<<"),e)a.push("/"+i+" ("+qf(r(e[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Sn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}})};Na(li,us);var iy=function(){li.call(this),this.pushButton=!0};Na(iy,li);var Bd=function(){li.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Na(Bd,li);var k0=function(){var n,e;us.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),i)s.push("/"+o+" ("+qf(a(i[o]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Sn(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Na(k0,us),Bd.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=n.createAppearanceStream(r.optionName),r.caption=n.getCA()}},Bd.prototype.createOption=function(n){var e=new k0;return e.Parent=this,e.optionName=n,this.Kids.push(e),Dpe.call(this.scope,e),e};var ay=function(){li.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qe.CheckBox.createAppearanceStream()};Na(ay,li);var hf=function(){us.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,13)},set:function(e){e?this.Ff=Or(this.Ff,13):this.Ff=jr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,21)},set:function(e){e?this.Ff=Or(this.Ff,21):this.Ff=jr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(e){e?this.Ff=Or(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,24)},set:function(e){e?this.Ff=Or(this.Ff,24):this.Ff=jr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,25)},set:function(e){e?this.Ff=Or(this.Ff,25):this.Ff=jr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(e){e?this.Ff=Or(this.Ff,26):this.Ff=jr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Na(hf,us);var oy=function(){hf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,14)},set:function(n){n?this.Ff=Or(this.Ff,14):this.Ff=jr(this.Ff,14)}}),this.password=!0};Na(oy,hf);var Qe={CheckBox:{createAppearanceStream:function(){return{N:{On:Qe.CheckBox.YesNormal},D:{On:Qe.CheckBox.YesPushDown,Off:Qe.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Os(n);e.scope=n.scope;var r=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=H_(n,n.caption);return r.push("0.749023 g"),r.push("0 0 "+Ot(Qe.internal.getWidth(n))+" "+Ot(Qe.internal.getHeight(n))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+i+" "+Ot(o.fontSize)+" Tf "+a),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(n){var e=Os(n);e.scope=n.scope;var r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=[],o=Qe.internal.getHeight(n),s=Qe.internal.getWidth(n),l=H_(n,n.caption);return a.push("1 g"),a.push("0 0 "+Ot(s)+" "+Ot(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ot(s-1)+" "+Ot(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Ot(l.fontSize)+" Tf "+i),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Os(n);e.scope=n.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(Qe.internal.getWidth(n))+" "+Ot(Qe.internal.getHeight(n))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Qe.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Qe.RadioButton.Circle.YesNormal,e.D[n]=Qe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Os(n);e.scope=n.scope;var r=[],i=Qe.internal.getWidth(n)<=Qe.internal.getHeight(n)?Qe.internal.getWidth(n)/4:Qe.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var a=Qe.internal.Bezier_C,o=Number((i*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Au(Qe.internal.getWidth(n)/2)+" "+Au(Qe.internal.getHeight(n)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(n){var e=Os(n);e.scope=n.scope;var r=[],i=Qe.internal.getWidth(n)<=Qe.internal.getHeight(n)?Qe.internal.getWidth(n)/4:Qe.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*Qe.internal.Bezier_C).toFixed(5)),s=Number((i*Qe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Au(Qe.internal.getWidth(n)/2)+" "+Au(Qe.internal.getHeight(n)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Au(Qe.internal.getWidth(n)/2)+" "+Au(Qe.internal.getHeight(n)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Os(n);e.scope=n.scope;var r=[],i=Qe.internal.getWidth(n)<=Qe.internal.getHeight(n)?Qe.internal.getWidth(n)/4:Qe.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*Qe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Au(Qe.internal.getWidth(n)/2)+" "+Au(Qe.internal.getHeight(n)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Qe.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Qe.RadioButton.Cross.YesNormal,e.D[n]=Qe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Os(n);e.scope=n.scope;var r=[],i=Qe.internal.calculateCross(n);return r.push("q"),r.push("1 1 "+Ot(Qe.internal.getWidth(n)-2)+" "+Ot(Qe.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Ot(i.x1.x)+" "+Ot(i.x1.y)+" m"),r.push(Ot(i.x2.x)+" "+Ot(i.x2.y)+" l"),r.push(Ot(i.x4.x)+" "+Ot(i.x4.y)+" m"),r.push(Ot(i.x3.x)+" "+Ot(i.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(n){var e=Os(n);e.scope=n.scope;var r=Qe.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+Ot(Qe.internal.getWidth(n))+" "+Ot(Qe.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Ot(Qe.internal.getWidth(n)-2)+" "+Ot(Qe.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(Ot(r.x1.x)+" "+Ot(r.x1.y)+" m"),i.push(Ot(r.x2.x)+" "+Ot(r.x2.y)+" l"),i.push(Ot(r.x4.x)+" "+Ot(r.x4.y)+" m"),i.push(Ot(r.x3.x)+" "+Ot(r.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Os(n);e.scope=n.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(Qe.internal.getWidth(n))+" "+Ot(Qe.internal.getHeight(n))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+r}};Qe.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Qe.internal.getWidth(n),r=Qe.internal.getHeight(n),i=Math.min(e,r);return{x1:{x:(e-i)/2,y:(r-i)/2+i},x2:{x:(e-i)/2+i,y:(r-i)/2},x3:{x:(e-i)/2,y:(r-i)/2},x4:{x:(e-i)/2+i,y:(r-i)/2+i}}}},Qe.internal.getWidth=function(n){var e=0;return Sn(n)==="object"&&(e=aI(n.Rect[2])),e},Qe.internal.getHeight=function(n){var e=0;return Sn(n)==="object"&&(e=aI(n.Rect[3])),e};var Dpe=mr.addField=function(n){if(Lpe(this,n),!(n instanceof us))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};mr.AcroFormChoiceField=Rd,mr.AcroFormListBox=Md,mr.AcroFormComboBox=Fd,mr.AcroFormEditBox=ry,mr.AcroFormButton=li,mr.AcroFormPushButton=iy,mr.AcroFormRadioButton=Bd,mr.AcroFormCheckBox=ay,mr.AcroFormTextField=hf,mr.AcroFormPasswordField=oy,mr.AcroFormAppearance=Qe,mr.AcroForm={ChoiceField:Rd,ListBox:Md,ComboBox:Fd,EditBox:ry,Button:li,PushButton:iy,RadioButton:Bd,CheckBox:ay,TextField:hf,PasswordField:oy,Appearance:Qe},ft.AcroForm={ChoiceField:Rd,ListBox:Md,ComboBox:Fd,EditBox:ry,Button:li,PushButton:iy,RadioButton:Bd,CheckBox:ay,TextField:hf,PasswordField:oy,Appearance:Qe};ft.AcroForm;function M9(n){return n.reduce(function(e,r,i){return e[r]=i,e},{})}(function(n){var e="addImage_";n.__addimage__={};var r="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(k,R){var j,H,oe,he,ye,re=r;if((R=R||r)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if($(k))for(ye in i)for(oe=i[ye],j=0;j<oe.length;j+=1){for(he=!0,H=0;H<oe[j].length;H+=1)if(oe[j][H]!==void 0&&oe[j][H]!==k[H]){he=!1;break}if(he===!0){re=ye;break}}else for(ye in i)for(oe=i[ye],j=0;j<oe.length;j+=1){for(he=!0,H=0;H<oe[j].length;H+=1)if(oe[j][H]!==void 0&&oe[j][H]!==k.charCodeAt(H)){he=!1;break}if(he===!0){re=ye;break}}return re===r&&R!==r&&(re=R),re},o=function k(R){for(var j=this.internal.write,H=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var he=[];if(he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Image"}),he.push({key:"Width",value:R.width}),he.push({key:"Height",value:R.height}),R.colorSpace===b.INDEXED?he.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(he.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===b.DEVICE_CMYK&&he.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),he.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&he.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var ye="",re=0,ue=R.transparency.length;re<ue;re++)ye+=R.transparency[re]+" "+R.transparency[re]+" ";he.push({key:"Mask",value:"["+ye+"]"})}R.sMask!==void 0&&he.push({key:"SMask",value:R.objectId+1+" 0 R"});var ae=R.filter!==void 0?["/"+R.filter]:void 0;if(H({data:R.data,additionalKeyValues:he,alreadyAppliedFilters:ae,objectId:R.objectId}),j("endobj"),"sMask"in R&&R.sMask!==void 0){var ne=(R.predictor!=null?"/Predictor "+R.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+R.width,M={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:ne,data:R.sMask};"filter"in R&&(M.filter=R.filter),k.call(this,M)}if(R.colorSpace===b.INDEXED){var Y=this.internal.newObject();H({data:I(new Uint8Array(R.palette)),objectId:Y}),j("endobj")}},s=function(){var k=this.internal.collections[e+"images"];for(var R in k)o.call(this,k[R])},l=function(){var k,R=this.internal.collections[e+"images"],j=this.internal.write;for(var H in R)j("/I"+(k=R[H]).index,k.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},c=function(){var k=this.internal.collections[e+"images"];return u.call(this),k},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(k){return typeof n["process"+k.toUpperCase()]=="function"},h=function(k){return Sn(k)==="object"&&k.nodeType===1},p=function(k,R){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var j=""+k.getAttribute("src");if(j.indexOf("data:image/")===0)return ny(unescape(j).split("base64,").pop());var H=n.loadFile(j,!0);if(H!==void 0)return H}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var oe;switch(R){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return ny(k.toDataURL(oe,1).split("base64,").pop())}},y=function(k){var R=this.internal.collections[e+"images"];if(R){for(var j in R)if(k===R[j].alias)return R[j]}},w=function(k,R,j){return k||R||(k=-96,R=-96),k<0&&(k=-1*j.width*72/k/this.internal.scaleFactor),R<0&&(R=-1*j.height*72/R/this.internal.scaleFactor),k===0&&(k=R*j.width/j.height),R===0&&(R=k*j.height/j.width),[k,R]},_=function(k,R,j,H,oe,he){var ye=w.call(this,j,H,oe),re=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,ae=c.call(this);if(j=ye[0],H=ye[1],ae[oe.index]=oe,he){he*=Math.PI/180;var ne=Math.cos(he),M=Math.sin(he),Y=function(ie){return ie.toFixed(4)},Z=[Y(ne),Y(M),Y(-1*M),Y(ne),0,0,"cm"]}this.internal.write("q"),he?(this.internal.write([1,"0","0",1,re(k),ue(R+H),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([re(j),"0","0",re(H),"0","0","cm"].join(" "))):this.internal.write([re(j),"0","0",re(H),re(k),ue(R+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},b=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=n.__addimage__.sHashCode=function(k){var R,j,H=0;if(typeof k=="string")for(j=k.length,R=0;R<j;R++)H=(H<<5)-H+k.charCodeAt(R),H|=0;else if($(k))for(j=k.byteLength/2,R=0;R<j;R++)H=(H<<5)-H+k[R],H|=0;return H},T=n.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var R=!0;return k.length===0&&(R=!1),k.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(R=!1),R},B=n.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var R=k.indexOf(",");return R<0?null:k.substring(0,R).trim().endsWith("base64")?k.substring(R+1):null};n.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var $=n.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},L=n.__addimage__.binaryStringToUint8Array=function(k){for(var R=k.length,j=new Uint8Array(R),H=0;H<R;H++)j[H]=k.charCodeAt(H);return j},I=n.__addimage__.arrayBufferToBinaryString=function(k){for(var R="",j=$(k)?k:new Uint8Array(k),H=0;H<j.length;H+=8192)R+=String.fromCharCode.apply(null,j.subarray(H,H+8192));return R};n.addImage=function(){var k,R,j,H,oe,he,ye,re,ue;if(typeof arguments[1]=="number"?(R=r,j=arguments[1],H=arguments[2],oe=arguments[3],he=arguments[4],ye=arguments[5],re=arguments[6],ue=arguments[7]):(R=arguments[1],j=arguments[2],H=arguments[3],oe=arguments[4],he=arguments[5],ye=arguments[6],re=arguments[7],ue=arguments[8]),Sn(k=arguments[0])==="object"&&!h(k)&&"imageData"in k){var ae=k;k=ae.imageData,R=ae.format||R||r,j=ae.x||j||0,H=ae.y||H||0,oe=ae.w||ae.width||oe,he=ae.h||ae.height||he,ye=ae.alias||ye,re=ae.compression||re,ue=ae.rotation||ae.angle||ue}var ne=this.internal.getFilters();if(re===void 0&&ne.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(j)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var M=O.call(this,k,R,ye,re);return _.call(this,j,H,oe,he,M,ue),this};var O=function(k,R,j,H){var oe,he,ye;if(typeof k=="string"&&a(k)===r){k=unescape(k);var re=U(k,!1);(re!==""||(re=n.loadFile(k,!0))!==void 0)&&(k=re)}if(h(k)&&(k=p(k,R)),R=a(k,R),!d(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((ye=j)==null||ye.length===0)&&(j=function(ue){return typeof ue=="string"||$(ue)?A(ue):$(ue.data)?A(ue.data):null}(k)),(oe=y.call(this,j))||(k instanceof Uint8Array||R==="RGBA"||(he=k,k=L(k)),oe=this["process"+R.toUpperCase()](k,f.call(this),j,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in n.image_compression?ue:S.NONE}(H),he)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},U=n.__addimage__.convertBase64ToBinaryString=function(k,R){R=typeof R!="boolean"||R;var j,H="";if(typeof k=="string"){var oe;j=(oe=B(k))!==null&&oe!==void 0?oe:k;try{H=ny(j)}catch(he){if(R)throw T(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+he.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};n.getImageProperties=function(k){var R,j,H="";if(h(k)&&(k=p(k)),typeof k=="string"&&a(k)===r&&((H=U(k,!1))===""&&(H=n.loadFile(k)||""),k=H),j=a(k),!d(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(k instanceof Uint8Array||(k=L(k)),!(R=this["process"+j.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=j,R}})(ft.API),function(n){var e=function(r){if(r!==void 0&&r!="")return!0};ft.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(r){for(var i,a,o,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,f=!1,d=0;d<c.length&&!f;d++)switch((i=c[d]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){i=c[h];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(w.objId),S=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(i.bounds.x)+" "+l(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y)+"] ")+"/Contents ("+p(b(i.contents))+")",o+=" /Popup "+_.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+p(b(S))+") >>",w.content=o;var A=w.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(i.bounds.x+30)+" "+l(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+l(i.bounds.y)+"] ")+" /Parent "+A,i.open&&(o+=" /Open true"),o+=" >>",_.content=o,this.internal.write(w.objId,"0 R",_.objId,"0 R");break;case"freetext":a="/Rect ["+s(i.bounds.x)+" "+l(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y+i.bounds.h)+"] ";var T=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(y(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var B=this.annotations._nameMap[i.options.name];i.options.pageNumber=B.page,i.options.top=B.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var $=l(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+$+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(r){var i=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":i.pageContext.annotations.push(r)}},n.link=function(r,i,a,o,s){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(r),y:c(i),w:u(r+a),h:c(i+o)},options:s,type:"link"})},n.textWithLink=function(r,i,a,o){var s,l,u=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){l=o.maxWidth;var f=this.splitTextToSize(r,l).length;s=Math.ceil(c*f)}else l=u,s=c;return this.text(r,i,a,o),a+=.2*c,o.align==="center"&&(i-=u/2),o.align==="right"&&(i-=u),this.link(i,a-c,l,s,o),u},n.getTextWidth=function(r){var i=this.internal.getFontSize();return this.getStringUnitWidth(r)*i/this.internal.scaleFactor}}(ft.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},l=n.__arabicParser__.isArabicEndLetter=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(w){return s(w)&&a.indexOf(w.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=3};var f=n.__arabicParser__.arabicLetterHasMedialForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length==4},d=n.__arabicParser__.resolveLigatures=function(w){var _=0,b=r,S="",A=0;for(_=0;_<w.length;_+=1)b[w.charCodeAt(_)]!==void 0?(A++,typeof(b=b[w.charCodeAt(_)])=="number"&&(S+=String.fromCharCode(b),b=r,A=0),_===w.length-1&&(b=r,S+=w.charAt(_-(A-1)),_-=A-1,A=0)):(b=r,S+=w.charAt(_-A),_-=A,A=0);return S};n.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&i[w.charCodeAt(0)]!==void 0};var h=n.__arabicParser__.getCorrectForm=function(w,_,b){return s(w)?o(w)===!1?-1:!c(w)||!s(_)&&!s(b)||!s(b)&&l(_)||l(w)&&!s(_)||l(w)&&u(_)||l(w)&&l(_)?0:f(w)&&s(_)&&!l(_)&&s(b)&&c(b)?3:l(w)||!s(b)?1:2:-1},p=function(w){var _=0,b=0,S=0,A="",T="",B="",$=(w=w||"").split("\\s+"),L=[];for(_=0;_<$.length;_+=1){for(L.push(""),b=0;b<$[_].length;b+=1)A=$[_][b],T=$[_][b-1],B=$[_][b+1],s(A)?(S=h(A,T,B),L[_]+=S!==-1?String.fromCharCode(e[A.charCodeAt(0)][S]):A):L[_]+=A;L[_]=d(L[_])}return L.join(" ")},y=n.__arabicParser__.processArabic=n.processArabic=function(){var w,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(_)){var S=0;for(b=[],S=0;S<_.length;S+=1)Array.isArray(_[S])?b.push([p(_[S][0]),_[S][1],_[S][2]]):b.push([p(_[S])]);w=b}else w=p(_);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};n.events.push(["preProcessText",y])}(ft.API),ft.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(n){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(l){o=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,i){var a;if((r=r||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ft.API),function(n){var e={left:0,top:0,bottom:0,right:0},r=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(w){y=w}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return i.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,c){i.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,y=0,w=0,_=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var b=c.maxWidth;b>0?typeof u=="string"?u=this.splitTextToSize(u,b):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(A,T){return A.concat(_.splitTextToSize(T,b))},[])):u=Array.isArray(u)?u:[u];for(var S=0;S<u.length;S++)p<(w=this.getStringUnitWidth(u[S],{font:d})*f)&&(p=w);return p!==0&&(y=u.length),{w:p/=h,h:Math.max((y*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/h,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===u.lineNumber?(u.x=(c.x||0)+(c.width||0),u.y=c.y||0):c.y+c.height+u.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=d.top,p&&h&&(this.printHeaderRow(u.lineNumber,!0),u.y+=h[0].height)):u.y=c.y+c.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};n.table=function(u,c,f,d,h){if(i.call(this),!f)throw new Error("No data for PDF table.");var p,y,w,_,b=[],S=[],A=[],T={},B={},$=[],L=[],I=(h=h||{}).autoSize||!1,O=h.printHeaders!==!1,U=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,k=h.margins||Object.assign({width:this.getPageWidth()},e),R=typeof h.padding=="number"?h.padding:3,j=h.headerBackgroundColor||"#c8c8c8",H=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=H,this.setFontSize(U),d==null)S=b=Object.keys(f[0]),A=b.map(function(){return"left"});else if(Array.isArray(d)&&Sn(d[0])==="object")for(b=d.map(function(ae){return ae.name}),S=d.map(function(ae){return ae.prompt||ae.name||""}),A=d.map(function(ae){return ae.align||"left"}),p=0;p<d.length;p+=1)B[d[p].name]=.7499990551181103*d[p].width;else Array.isArray(d)&&typeof d[0]=="string"&&(S=b=d,A=b.map(function(){return"left"}));if(I||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<b.length;p+=1){for(T[_=b[p]]=f.map(function(ae){return ae[_]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(S[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=T[_],this.setFont(void 0,"normal"),w=0;w<y.length;w+=1)$.push(this.getTextDimensions(y[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[_]=Math.max.apply(null,$)+R+R,$=[]}if(O){var oe={};for(p=0;p<b.length;p+=1)oe[b[p]]={},oe[b[p]].text=S[p],oe[b[p]].align=A[p];var he=l.call(this,oe,B);L=b.map(function(ae){return new o(u,c,B[ae],he,oe[ae].text,void 0,oe[ae].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var ye=d.reduce(function(ae,ne){return ae[ne.name]=ne.align,ae},{});for(p=0;p<f.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:f[p]},this);var re=l.call(this,f[p],B);for(w=0;w<b.length;w+=1){var ue=f[p][b[w]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:w,data:ue},this),s.call(this,new o(u,c,B[b[w]],re,ue,p+2,ye[b[w]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=c,this};var l=function(u,c){var f=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(u).map(function(p){var y=u[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/h+f+f},this).reduce(function(p,y){return Math.max(p,y)},0)};n.setTableHeaderRow=function(u){i.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,h.push(f)),f.lineNumber=u;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(y)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(ft.API);var F9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},B9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],K_=M9(B9),U9=[100,200,300,400,500,600,700,800,900],Rpe=M9(U9);function fb(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),r=function(o){return F9[o=o||"normal"]?o:"normal"}(n.style),i=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(n.weight),a=function(o){return typeof K_[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:r,weight:i,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,r,i].join(" ")}}}function oI(n,e,r,i){var a;for(a=r;a>=0&&a<e.length;a+=i)if(n[e[a]])return n[e[a]];for(a=r;a>=0&&a<e.length;a-=i)if(n[e[a]])return n[e[a]]}var Mpe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function lI(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function uI(n){return n.trimLeft()}function Fpe(n,e){for(var r=0;r<n.length;){if(n.charAt(r)===e)return[n.substring(0,r),n.substring(r+1)];r+=1}return null}function Bpe(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Lv,cI,fI,id,Dv,dI,hI,pI,db=["times"];function mI(n,e,r,i){var a=4,o=vI;switch(i){case ft.API.image_compression.FAST:a=1,o=gI;break;case ft.API.image_compression.MEDIUM:a=6,o=yI;break;case ft.API.image_compression.SLOW:a=9,o=wI}n=function(l,u,c,f){for(var d,h=l.length/u,p=new Uint8Array(l.length+h),y=[Upe,gI,vI,yI,wI],w=0;w<h;w+=1){var _=w*u,b=l.subarray(_,_+u);if(f)p.set(f(b,c,d),_+w);else{for(var S=y.length,A=[],T=0;T<S;T+=1)A[T]=y[T](b,c,d);var B=Vpe(A.concat());p.set(A[B],_+w)}d=b}return p}(n,e,r,o);var s=U_(n,{level:a});return ft.API.__addimage__.arrayBufferToBinaryString(s)}function Upe(n){var e=Array.apply([],n);return e.unshift(0),e}function gI(n,e){var r=n.length,i=[];i[0]=1;for(var a=0;a<r;a+=1){var o=n[a-e]||0;i[a+1]=n[a]-o+256&255}return i}function vI(n,e,r){var i=n.length,a=[];a[0]=2;for(var o=0;o<i;o+=1){var s=r&&r[o]||0;a[o+1]=n[o]-s+256&255}return a}function yI(n,e,r){var i=n.length,a=[];a[0]=3;for(var o=0;o<i;o+=1){var s=n[o-e]||0,l=r&&r[o]||0;a[o+1]=n[o]+256-(s+l>>>1)&255}return a}function wI(n,e,r){var i=n.length,a=[];a[0]=4;for(var o=0;o<i;o+=1){var s=$pe(n[o-e]||0,r&&r[o]||0,r&&r[o-e]||0);a[o+1]=n[o]-s+256&255}return a}function $pe(n,e,r){if(n===e&&e===r)return n;var i=Math.abs(e-r),a=Math.abs(n-r),o=Math.abs(n+e-r-r);return i<=a&&i<=o?n:a<=o?e:r}function Vpe(n){var e=n.map(function(r){return r.reduce(function(i,a){return i+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function hb(n,e,r){var i=e*r,a=Math.floor(i/8),o=16-(i-8*a+r),s=(1<<r)-1;return $9(n,a)>>o&s}function bI(n,e,r,i){var a=r*i,o=Math.floor(a/8),s=16-(a-8*o+i),l=(1<<i)-1,u=(e&l)<<s;(function(c,f,d){if(f+1<c.byteLength)c.setUint16(f,d,!1);else{var h=d>>8&255;c.setUint8(f,h)}})(n,o,$9(n,o)&~(l<<s)&65535|u)}function $9(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function zpe(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,s=1<<1+(7&a);n[e++],n[e++];var l=null,u=null;o&&(l=e,u=s,e+=3*s);var c=!0,f=[],d=0,h=null,p=0,y=null;for(this.width=r,this.height=i;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,y=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=n[e++];d=n[e++]|n[e++]<<8,h=n[e++],1&w||(h=null),p=w>>2&7,e++;break;case 254:for(;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var _=n[e++]|n[e++]<<8,b=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,A=n[e++]|n[e++]<<8,T=n[e++],B=T>>6&1,$=1<<1+(7&T),L=l,I=u,O=!1;T>>7&&(O=!0,L=e,I=$,e+=3*$);var U=e;for(e++;;){var k;if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}f.push({x:_,y:b,width:S,height:A,has_local_palette:O,palette_offset:L,palette_size:I,data_offset:U,data_length:e-U,transparent_index:h,interlaced:!!B,delay:d,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return y},this.frameInfo=function(R){if(R<0||R>=f.length)throw new Error("Frame index out of range.");return f[R]},this.decodeAndBlitFrameBGRA=function(R,j){var H=this.frameInfo(R),oe=H.width*H.height,he=new Uint8Array(oe);_I(n,H.data_offset,he,oe);var ye=H.palette_offset,re=H.transparent_index;re===null&&(re=256);var ue=H.width,ae=r-ue,ne=ue,M=4*(H.y*r+H.x),Y=4*((H.y+H.height)*r+H.x),Z=M,ie=4*ae;H.interlaced===!0&&(ie+=4*r*7);for(var ce=8,pe=0,Ee=he.length;pe<Ee;++pe){var le=he[pe];if(ne===0&&(ne=ue,(Z+=ie)>=Y&&(ie=4*ae+4*r*(ce-1),Z=M+(ue+ae)*(ce<<1),ce>>=1)),le===re)Z+=4;else{var Ae=n[ye+3*le],Ne=n[ye+3*le+1],we=n[ye+3*le+2];j[Z++]=we,j[Z++]=Ne,j[Z++]=Ae,j[Z++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(R,j){var H=this.frameInfo(R),oe=H.width*H.height,he=new Uint8Array(oe);_I(n,H.data_offset,he,oe);var ye=H.palette_offset,re=H.transparent_index;re===null&&(re=256);var ue=H.width,ae=r-ue,ne=ue,M=4*(H.y*r+H.x),Y=4*((H.y+H.height)*r+H.x),Z=M,ie=4*ae;H.interlaced===!0&&(ie+=4*r*7);for(var ce=8,pe=0,Ee=he.length;pe<Ee;++pe){var le=he[pe];if(ne===0&&(ne=ue,(Z+=ie)>=Y&&(ie=4*ae+4*r*(ce-1),Z=M+(ue+ae)*(ce<<1),ce>>=1)),le===re)Z+=4;else{var Ae=n[ye+3*le],Ne=n[ye+3*le+1],we=n[ye+3*le+2];j[Z++]=Ae,j[Z++]=Ne,j[Z++]=we,j[Z++]=255}--ne}}}function _I(n,e,r,i){for(var a=n[e++],o=1<<a,s=o+1,l=s+1,u=a+1,c=(1<<u)-1,f=0,d=0,h=0,p=n[e++],y=new Int32Array(4096),w=null;;){for(;f<16&&p!==0;)d|=n[e++]<<f,f+=8,p===1?p=n[e++]:--p;if(f<u)break;var _=d&c;if(d>>=u,f-=u,_!==o){if(_===s)break;for(var b=_<l?_:w,S=0,A=b;A>o;)A=y[A]>>8,++S;var T=A;if(h+S+(b!==_?1:0)>i)return void Cn.log("Warning, gif stream longer than expected.");r[h++]=T;var B=h+=S;for(b!==_&&(r[h++]=T),A=b;S--;)A=y[A],r[--B]=255&A,A>>=8;w!==null&&l<4096&&(y[l++]=w<<8|T,l>=c+1&&u<12&&(++u,c=c<<1|1)),w=_}else l=s+1,c=(1<<(u=a+1))-1,w=null}return h!==i&&Cn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function pb(n){var e,r,i,a,o,s=Math.floor,l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(64),d=new Array(65535),h=new Array(65535),p=new Array(64),y=new Array(64),w=[],_=0,b=7,S=new Array(64),A=new Array(64),T=new Array(64),B=new Array(256),$=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function he(M,Y){for(var Z=0,ie=0,ce=new Array,pe=1;pe<=16;pe++){for(var Ee=1;Ee<=M[pe];Ee++)ce[Y[ie]]=[],ce[Y[ie]][0]=Z,ce[Y[ie]][1]=pe,ie++,Z++;Z*=2}return ce}function ye(M){for(var Y=M[0],Z=M[1]-1;Z>=0;)Y&1<<Z&&(_|=1<<b),Z--,--b<0&&(_==255?(re(255),re(0)):re(_),b=7,_=0)}function re(M){w.push(M)}function ue(M){re(M>>8&255),re(255&M)}function ae(M,Y,Z,ie,ce){for(var pe,Ee=ce[0],le=ce[240],Ae=function(Fe,at){var ze,Ct,lt,Yt,Pt,ot,It,At,ut,wt,ht=0;for(ut=0;ut<8;++ut){ze=Fe[ht],Ct=Fe[ht+1],lt=Fe[ht+2],Yt=Fe[ht+3],Pt=Fe[ht+4],ot=Fe[ht+5],It=Fe[ht+6];var ln=ze+(At=Fe[ht+7]),Jt=ze-At,tt=Ct+It,St=Ct-It,yn=lt+ot,yt=lt-ot,$t=Yt+Pt,Nt=Yt-Pt,Xn=ln+$t,Un=ln-$t,pn=tt+yn,_t=tt-yn;Fe[ht]=Xn+pn,Fe[ht+4]=Xn-pn;var Vt=.707106781*(_t+Un);Fe[ht+2]=Un+Vt,Fe[ht+6]=Un-Vt;var fs=.382683433*((Xn=Nt+yt)-(_t=St+Jt)),_r=.5411961*Xn+fs,co=1.306562965*_t+fs,Pi=.707106781*(pn=yt+St),gt=Jt+Pi,$n=Jt-Pi;Fe[ht+5]=$n+_r,Fe[ht+3]=$n-_r,Fe[ht+1]=gt+co,Fe[ht+7]=gt-co,ht+=8}for(ht=0,ut=0;ut<8;++ut){ze=Fe[ht],Ct=Fe[ht+8],lt=Fe[ht+16],Yt=Fe[ht+24],Pt=Fe[ht+32],ot=Fe[ht+40],It=Fe[ht+48];var fo=ze+(At=Fe[ht+56]),ti=ze-At,ni=Ct+It,Qn=Ct-It,Dr=lt+ot,Zn=lt-ot,Zs=Yt+Pt,ds=Yt-Pt,Ni=fo+Zs,ka=fo-Zs,Ki=ni+Dr,ki=ni-Dr;Fe[ht]=Ni+Ki,Fe[ht+32]=Ni-Ki;var xr=.707106781*(ki+ka);Fe[ht+16]=ka+xr,Fe[ht+48]=ka-xr;var hs=.382683433*((Ni=ds+Zn)-(ki=Qn+ti)),Ta=.5411961*Ni+hs,Bo=1.306562965*ki+hs,ps=.707106781*(Ki=Zn+Qn),Js=ti+ps,el=ti-ps;Fe[ht+40]=el+Ta,Fe[ht+24]=el-Ta,Fe[ht+8]=Js+Bo,Fe[ht+56]=Js-Bo,ht++}for(ut=0;ut<64;++ut)wt=Fe[ut]*at[ut],p[ut]=wt>0?wt+.5|0:wt-.5|0;return p}(M,Y),Ne=0;Ne<64;++Ne)y[L[Ne]]=Ae[Ne];var we=y[0]-Z;Z=y[0],we==0?ye(ie[0]):(ye(ie[h[pe=32767+we]]),ye(d[pe]));for(var Ue=63;Ue>0&&y[Ue]==0;)Ue--;if(Ue==0)return ye(Ee),Z;for(var be,te=1;te<=Ue;){for(var mt=te;y[te]==0&&te<=Ue;)++te;var vt=te-mt;if(vt>=16){be=vt>>4;for(var dt=1;dt<=be;++dt)ye(le);vt&=15}pe=32767+y[te],ye(ce[(vt<<4)+h[pe]]),ye(d[pe]),te++}return Ue!=63&&ye(Ee),Z}function ne(M){M=Math.min(Math.max(M,1),100),o!=M&&(function(Y){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ce=s((Z[ie]*Y+50)/100);ce=Math.min(Math.max(ce,1),255),l[L[ie]]=ce}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var le=s((pe[Ee]*Y+50)/100);le=Math.min(Math.max(le,1),255),u[L[Ee]]=le}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,we=0;we<8;we++)for(var Ue=0;Ue<8;Ue++)c[Ne]=1/(l[L[Ne]]*Ae[we]*Ae[Ue]*8),f[Ne]=1/(u[L[Ne]]*Ae[we]*Ae[Ue]*8),Ne++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,Y){Y&&ne(Y),w=new Array,_=0,b=7,ue(65496),ue(65504),ue(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),ue(1),ue(1),re(0),re(0),function(){ue(65499),ue(132),re(0);for(var Ct=0;Ct<64;Ct++)re(l[Ct]);re(1);for(var lt=0;lt<64;lt++)re(u[lt])}(),function(Ct,lt){ue(65472),ue(17),re(8),ue(lt),ue(Ct),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(M.width,M.height),function(){ue(65476),ue(418),re(0);for(var Ct=0;Ct<16;Ct++)re(I[Ct+1]);for(var lt=0;lt<=11;lt++)re(O[lt]);re(16);for(var Yt=0;Yt<16;Yt++)re(U[Yt+1]);for(var Pt=0;Pt<=161;Pt++)re(k[Pt]);re(1);for(var ot=0;ot<16;ot++)re(R[ot+1]);for(var It=0;It<=11;It++)re(j[It]);re(17);for(var At=0;At<16;At++)re(H[At+1]);for(var ut=0;ut<=161;ut++)re(oe[ut])}(),ue(65498),ue(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var Z=0,ie=0,ce=0;_=0,b=7,this.encode.displayName="_encode_";for(var pe,Ee,le,Ae,Ne,we,Ue,be,te,mt=M.data,vt=M.width,dt=M.height,Fe=4*vt,at=0;at<dt;){for(pe=0;pe<Fe;){for(Ne=Fe*at+pe,Ue=-1,be=0,te=0;te<64;te++)we=Ne+(be=te>>3)*Fe+(Ue=4*(7&te)),at+be>=dt&&(we-=Fe*(at+1+be-dt)),pe+Ue>=Fe&&(we-=pe+Ue-Fe+4),Ee=mt[we++],le=mt[we++],Ae=mt[we++],S[te]=($[Ee]+$[le+256|0]+$[Ae+512|0]>>16)-128,A[te]=($[Ee+768|0]+$[le+1024|0]+$[Ae+1280|0]>>16)-128,T[te]=($[Ee+1280|0]+$[le+1536|0]+$[Ae+1792|0]>>16)-128;Z=ae(S,c,Z,e,i),ie=ae(A,f,ie,r,a),ce=ae(T,f,ce,r,a),pe+=32}at+=8}if(b>=0){var ze=[];ze[1]=b+1,ze[0]=(1<<b+1)-1,ye(ze)}return ue(65497),new Uint8Array(w)},n=n||50,function(){for(var M=String.fromCharCode,Y=0;Y<256;Y++)B[Y]=M(Y)}(),e=he(I,O),r=he(R,j),i=he(U,k),a=he(H,oe),function(){for(var M=1,Y=2,Z=1;Z<=15;Z++){for(var ie=M;ie<Y;ie++)h[32767+ie]=Z,d[32767+ie]=[],d[32767+ie][1]=Z,d[32767+ie][0]=ie;for(var ce=-(Y-1);ce<=-M;ce++)h[32767+ce]=Z,d[32767+ce]=[],d[32767+ce][1]=Z,d[32767+ce][0]=Y-1+ce;M<<=1,Y<<=1}}(),function(){for(var M=0;M<256;M++)$[M]=19595*M,$[M+256|0]=38470*M,$[M+512|0]=7471*M+32768,$[M+768|0]=-11059*M,$[M+1024|0]=-21709*M,$[M+1280|0]=32768*M+8421375,$[M+1536|0]=-27439*M,$[M+1792|0]=-5329*M}(),ne(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Go(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function xI(n){function e(O){if(!O)throw Error("assert :P")}function r(O,U,k){for(var R=0;4>R;R++)if(O[U+R]!=k.charCodeAt(R))return!0;return!1}function i(O,U,k,R,j){for(var H=0;H<j;H++)O[U+H]=k[R+H]}function a(O,U,k,R){for(var j=0;j<R;j++)O[U+j]=k}function o(O){return new Int32Array(O)}function s(O,U){for(var k=[],R=0;R<O;R++)k.push(new U);return k}function l(O,U){var k=[];return function R(j,H,oe){for(var he=oe[H],ye=0;ye<he&&(j.push(oe.length>H+1?[]:new U),!(oe.length<H+1));ye++)R(j[ye],H+1,oe)}(k,0,O),k}var u=function(){var O=this;function U(m,x){for(var P=1<<x-1>>>0;m&P;)P>>>=1;return P?(m&P-1)+P:m}function k(m,x,P,D,z){e(!(D%P));do m[x+(D-=P)]=z;while(0<D)}function R(m,x,P,D,z){if(e(2328>=z),512>=z)var q=o(512);else if((q=o(z))==null)return 0;return function(W,K,X,J,fe,xe){var ee,de,ve=K,ke=1<<X,_e=o(16),Te=o(16);for(e(fe!=0),e(J!=null),e(W!=null),e(0<X),de=0;de<fe;++de){if(15<J[de])return 0;++_e[J[de]]}if(_e[0]==fe)return 0;for(Te[1]=0,ee=1;15>ee;++ee){if(_e[ee]>1<<ee)return 0;Te[ee+1]=Te[ee]+_e[ee]}for(de=0;de<fe;++de)ee=J[de],0<J[de]&&(xe[Te[ee]++]=de);if(Te[15]==1)return(J=new j).g=0,J.value=xe[0],k(W,ve,1,ke,J),ke;var Ie,Me=-1,Le=ke-1,ct=0,Xe=1,Ft=1,nt=1<<X;for(de=0,ee=1,fe=2;ee<=X;++ee,fe<<=1){if(Xe+=Ft<<=1,0>(Ft-=_e[ee]))return 0;for(;0<_e[ee];--_e[ee])(J=new j).g=ee,J.value=xe[de++],k(W,ve+ct,fe,nt,J),ct=U(ct,ee)}for(ee=X+1,fe=2;15>=ee;++ee,fe<<=1){if(Xe+=Ft<<=1,0>(Ft-=_e[ee]))return 0;for(;0<_e[ee];--_e[ee]){if(J=new j,(ct&Le)!=Me){for(ve+=nt,Ie=1<<(Me=ee)-X;15>Me&&!(0>=(Ie-=_e[Me]));)++Me,Ie<<=1;ke+=nt=1<<(Ie=Me-X),W[K+(Me=ct&Le)].g=Ie+X,W[K+Me].value=ve-K-Me}J.g=ee-X,J.value=xe[de++],k(W,ve+(ct>>X),fe,nt,J),ct=U(ct,ee)}}return Xe!=2*Te[15]-1?0:ke}(m,x,P,D,z,q)}function j(){this.value=this.g=0}function H(){this.value=this.g=0}function oe(){this.G=s(5,j),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Es,H)}function he(m,x,P,D){e(m!=null),e(x!=null),e(2147483648>D),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=P,m.Jd=x,m.Yc=P+D,m.Zc=4<=D?P+D-4+1:P,Ee(m)}function ye(m,x){for(var P=0;0<x--;)P|=Ae(m,128)<<x;return P}function re(m,x){var P=ye(m,x);return le(m)?-P:P}function ue(m,x,P,D){var z,q=0;for(e(m!=null),e(x!=null),e(4294967288>D),m.Sb=D,m.Ra=0,m.u=0,m.h=0,4<D&&(D=4),z=0;z<D;++z)q+=x[P+z]<<8*z;m.Ra=q,m.bb=D,m.oa=x,m.pa=P}function ae(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<fu-8>>>0,++m.bb,m.u-=8;ie(m)&&(m.h=1,m.u=0)}function ne(m,x){if(e(0<=x),!m.h&&x<=qh){var P=Z(m)&cu[x];return m.u+=x,ae(m),P}return m.h=1,m.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(m){return m.Ra>>>(m.u&fu-1)>>>0}function ie(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>fu}function ce(m,x){m.u=x,m.h=ie(m)}function pe(m){m.u>=Sr&&(e(m.u>=Sr),ae(m))}function Ee(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function le(m){return ye(m,1)}function Ae(m,x){var P=m.Ca;0>m.b&&Ee(m);var D=m.b,z=P*x>>>8,q=(m.I>>>D>z)+0;for(q?(P-=z,m.I-=z+1<<D>>>0):P=z+1,D=P,z=0;256<=D;)z+=8,D>>=8;return D=7^z+_2[D],m.b-=D,m.Ca=(P<<D)-1,q}function Ne(m,x,P){m[x+0]=P>>24&255,m[x+1]=P>>16&255,m[x+2]=P>>8&255,m[x+3]=255&P}function we(m,x){return m[x+0]|m[x+1]<<8}function Ue(m,x){return we(m,x)|m[x+2]<<16}function be(m,x){return we(m,x)|we(m,x+2)<<16}function te(m,x){var P=1<<x;return e(m!=null),e(0<x),m.X=o(P),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function mt(m,x){e(m!=null),e(x!=null),e(m.Xa==x.Xa),i(x.X,0,m.X,0,1<<x.Xa)}function vt(){this.X=[],this.Xa=this.Mb=0}function dt(m,x,P,D){e(P!=null),e(D!=null);var z=P[0],q=D[0];return z==0&&(z=(m*q+x/2)/x),q==0&&(q=(x*z+m/2)/m),0>=z||0>=q?0:(P[0]=z,D[0]=q,1)}function Fe(m,x){return m+(1<<x)-1>>>x}function at(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function ze(m,x){O[x]=function(P,D,z,q,W,K,X){var J;for(J=0;J<W;++J){var fe=O[m](K[X+J-1],z,q+J);K[X+J]=at(P[D+J],fe)}}}function Ct(){this.ud=this.hd=this.jd=0}function lt(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function Yt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Pt(m,x){return Yt(m+(m-x+.5>>1))}function ot(m,x,P){return Math.abs(x-P)-Math.abs(m-P)}function It(m,x,P,D,z,q,W){for(D=q[W-1],P=0;P<z;++P)q[W+P]=D=at(m[x+P],D)}function At(m,x,P,D,z){var q;for(q=0;q<P;++q){var W=m[x+q],K=W>>8&255,X=16711935&(X=(X=16711935&W)+((K<<16)+K));D[z+q]=(4278255360&W)+X>>>0}}function ut(m,x){x.jd=255&m,x.hd=m>>8&255,x.ud=m>>16&255}function wt(m,x,P,D,z,q){var W;for(W=0;W<D;++W){var K=x[P+W],X=K>>>8,J=K,fe=255&(fe=(fe=K>>>16)+((m.jd<<24>>24)*(X<<24>>24)>>>5));J=255&(J=(J+=(m.hd<<24>>24)*(X<<24>>24)>>>5)+((m.ud<<24>>24)*(fe<<24>>24)>>>5)),z[q+W]=(4278255360&K)+(fe<<16)+J}}function ht(m,x,P,D,z){O[x]=function(q,W,K,X,J,fe,xe,ee,de){for(X=xe;X<ee;++X)for(xe=0;xe<de;++xe)J[fe++]=z(K[D(q[W++])])},O[m]=function(q,W,K,X,J,fe,xe){var ee=8>>q.b,de=q.Ea,ve=q.K[0],ke=q.w;if(8>ee)for(q=(1<<q.b)-1,ke=(1<<ee)-1;W<K;++W){var _e,Te=0;for(_e=0;_e<de;++_e)_e&q||(Te=D(X[J++])),fe[xe++]=z(ve[Te&ke]),Te>>=ee}else O["VP8LMapColor"+P](X,J,ve,ke,fe,xe,W,K,de)}}function ln(m,x,P,D,z){for(P=x+P;x<P;){var q=m[x++];D[z++]=q>>16&255,D[z++]=q>>8&255,D[z++]=255&q}}function Jt(m,x,P,D,z){for(P=x+P;x<P;){var q=m[x++];D[z++]=q>>16&255,D[z++]=q>>8&255,D[z++]=255&q,D[z++]=q>>24&255}}function tt(m,x,P,D,z){for(P=x+P;x<P;){var q=(W=m[x++])>>16&240|W>>12&15,W=240&W|W>>28&15;D[z++]=q,D[z++]=W}}function St(m,x,P,D,z){for(P=x+P;x<P;){var q=(W=m[x++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;D[z++]=q,D[z++]=W}}function yn(m,x,P,D,z){for(P=x+P;x<P;){var q=m[x++];D[z++]=255&q,D[z++]=q>>8&255,D[z++]=q>>16&255}}function yt(m,x,P,D,z,q){if(q==0)for(P=x+P;x<P;)Ne(D,((q=m[x++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),z+=32;else i(D,z,m,x,P)}function $t(m,x){O[x][0]=O[m+"0"],O[x][1]=O[m+"1"],O[x][2]=O[m+"2"],O[x][3]=O[m+"3"],O[x][4]=O[m+"4"],O[x][5]=O[m+"5"],O[x][6]=O[m+"6"],O[x][7]=O[m+"7"],O[x][8]=O[m+"8"],O[x][9]=O[m+"9"],O[x][10]=O[m+"10"],O[x][11]=O[m+"11"],O[x][12]=O[m+"12"],O[x][13]=O[m+"13"],O[x][14]=O[m+"0"],O[x][15]=O[m+"0"]}function Nt(m){return m==S2||m==E2||m==Ig||m==P2}function Xn(){this.eb=[],this.size=this.A=this.fb=0}function Un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xn,this.f.kb=new Un,this.sd=null}function _t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fs(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function _r(m,x){var P=m.T,D=x.ba.f.RGBA,z=D.eb,q=D.fb+m.ka*D.A,W=yo[x.ba.S],K=m.y,X=m.O,J=m.f,fe=m.N,xe=m.ea,ee=m.W,de=x.cc,ve=x.dc,ke=x.Mc,_e=x.Nc,Te=m.ka,Ie=m.ka+m.T,Me=m.U,Le=Me+1>>1;for(Te==0?W(K,X,null,null,J,fe,xe,ee,J,fe,xe,ee,z,q,null,null,Me):(W(x.ec,x.fc,K,X,de,ve,ke,_e,J,fe,xe,ee,z,q-D.A,z,q,Me),++P);Te+2<Ie;Te+=2)de=J,ve=fe,ke=xe,_e=ee,fe+=m.Rc,ee+=m.Rc,q+=2*D.A,W(K,(X+=2*m.fa)-m.fa,K,X,de,ve,ke,_e,J,fe,xe,ee,z,q-D.A,z,q,Me);return X+=m.fa,m.j+Ie<m.o?(i(x.ec,x.fc,K,X,Me),i(x.cc,x.dc,J,fe,Le),i(x.Mc,x.Nc,xe,ee,Le),P--):1&Ie||W(K,X,null,null,J,fe,xe,ee,J,fe,xe,ee,z,q+D.A,null,null,Me),P}function co(m,x,P){var D=m.F,z=[m.J];if(D!=null){var q=m.U,W=x.ba.S,K=W==Cg||W==Ig;x=x.ba.f.RGBA;var X=[0],J=m.ka;X[0]=m.T,m.Kb&&(J==0?--X[0]:(--J,z[0]-=m.width),m.j+m.ka+m.T==m.o&&(X[0]=m.o-m.j-J));var fe=x.eb;J=x.fb+J*x.A,m=wP(D,z[0],m.width,q,X,fe,J+(K?0:3),x.A),e(P==X),m&&Nt(W)&&Gh(fe,J,K,q,X,x.A)}return 0}function Pi(m){var x=m.ma,P=x.ba.S,D=11>P,z=P==kg||P==Tg||P==Cg||P==A2||P==12||Nt(P);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!fa(x.Oa,m,z?11:12))return 0;if(z&&Nt(P)&&uu(),m.da)alert("todo:use_scaling");else{if(D){if(x.Ib=fs,m.Kb){if(P=m.U+1>>1,x.memory=o(m.U+2*P),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+P,x.Ib=_r,uu()}}else alert("todo:EmitYUV");z&&(x.Jb=co,D&&Ar())}if(D&&!DP){for(m=0;256>m;++m)TB[m]=89858*(m-128)+jg>>Og,OB[m]=-22014*(m-128)+jg,IB[m]=-45773*(m-128),CB[m]=113618*(m-128)+jg>>Og;for(m=Xh;m<T2;++m)x=76283*(m-16)+jg>>Og,jB[m-Xh]=Kt(x,255),LB[m-Xh]=Kt(x+8>>4,15);DP=1}return 1}function gt(m){var x=m.ma,P=m.U,D=m.T;return e(!(1&m.ka)),0>=P||0>=D?0:(P=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,P),x.Dc+=P,1)}function $n(m){m.ma.memory=null}function fo(m,x,P,D){return ne(m,8)!=47?0:(x[0]=ne(m,14)+1,P[0]=ne(m,14)+1,D[0]=ne(m,1),ne(m,3)!=0?0:!m.h)}function ti(m,x){if(4>m)return m+1;var P=m-2>>1;return(2+(1&m)<<P)+ne(x,P)+1}function ni(m,x){return 120<x?x-120:1<=(P=((P=mB[x-1])>>4)*m+(8-(15&P)))?P:1;var P}function Qn(m,x,P){var D=Z(P),z=m[x+=255&D].g-8;return 0<z&&(ce(P,P.u+8),D=Z(P),x+=m[x].value,x+=D&(1<<z)-1),ce(P,P.u+m[x].g),m[x].value}function Dr(m,x,P){return P.g+=m.g,P.value+=m.value<<x>>>0,e(8>=P.g),m.g}function Zn(m,x,P){var D=m.xc;return e((x=D==0?0:m.vc[m.md*(P>>D)+(x>>D)])<m.Wb),m.Ya[x]}function Zs(m,x,P,D){var z=m.ab,q=m.c*x,W=m.C;x=W+x;var K=P,X=D;for(D=m.Ta,P=m.Ua;0<z--;){var J=m.gc[z],fe=W,xe=x,ee=K,de=X,ve=(X=D,K=P,J.Ea);switch(e(fe<xe),e(xe<=J.nc),J.hc){case 2:Yf(ee,de,(xe-fe)*ve,X,K);break;case 0:var ke=fe,_e=xe,Te=X,Ie=K,Me=(nt=J).Ea;ke==0&&(Ps(ee,de,null,null,1,Te,Ie),It(ee,de+1,0,0,Me-1,Te,Ie+1),de+=Me,Ie+=Me,++ke);for(var Le=1<<nt.b,ct=Le-1,Xe=Fe(Me,nt.b),Ft=nt.K,nt=nt.w+(ke>>nt.b)*Xe;ke<_e;){var Qt=Ft,zr=nt,Bt=1;for(Ns(ee,de,Te,Ie-Me,1,Te,Ie);Bt<Me;){var rt=(Bt&~ct)+Le;rt>Me&&(rt=Me),(0,Fc[Qt[zr++]>>8&15])(ee,de+ +Bt,Te,Ie+Bt-Me,rt-Bt,Te,Ie+Bt),Bt=rt}de+=Me,Ie+=Me,++ke&ct||(nt+=Xe)}xe!=J.nc&&i(X,K-ve,X,K+(xe-fe-1)*ve,ve);break;case 1:for(ve=ee,_e=de,Me=(ee=J.Ea)-(Ie=ee&~(Te=(de=1<<J.b)-1)),ke=Fe(ee,J.b),Le=J.K,J=J.w+(fe>>J.b)*ke;fe<xe;){for(ct=Le,Xe=J,Ft=new Ct,nt=_e+Ie,Qt=_e+ee;_e<nt;)ut(ct[Xe++],Ft),ll(Ft,ve,_e,de,X,K),_e+=de,K+=de;_e<Qt&&(ut(ct[Xe++],Ft),ll(Ft,ve,_e,Me,X,K),_e+=Me,K+=Me),++fe&Te||(J+=ke)}break;case 3:if(ee==X&&de==K&&0<J.b){for(_e=X,ee=ve=K+(xe-fe)*ve-(Ie=(xe-fe)*Fe(J.Ea,J.b)),de=X,Te=K,ke=[],Ie=(Me=Ie)-1;0<=Ie;--Ie)ke[Ie]=de[Te+Ie];for(Ie=Me-1;0<=Ie;--Ie)_e[ee+Ie]=ke[Ie];Wh(J,fe,xe,X,ve,X,K)}else Wh(J,fe,xe,ee,de,X,K)}K=D,X=P}X!=P&&i(D,P,K,X,q)}function ds(m,x){var P=m.V,D=m.Ba+m.c*m.C,z=x-m.C;if(e(x<=m.l.o),e(16>=z),0<z){var q=m.l,W=m.Ta,K=m.Ua,X=q.width;if(Zs(m,z,P,D),z=K=[K],e((P=m.C)<(D=x)),e(q.v<q.va),D>q.o&&(D=q.o),P<q.j){var J=q.j-P;P=q.j,z[0]+=J*X}if(P>=D?P=0:(z[0]+=4*q.v,q.ka=P-q.j,q.U=q.va-q.v,q.T=D-P,P=1),P){if(K=K[0],11>(P=m.ca).S){var fe=P.f.RGBA,xe=(D=P.S,z=q.U,q=q.T,J=fe.eb,fe.A),ee=q;for(fe=fe.fb+m.Ma*fe.A;0<ee--;){var de=W,ve=K,ke=z,_e=J,Te=fe;switch(D){case Ng:Hh(de,ve,ke,_e,Te);break;case kg:La(de,ve,ke,_e,Te);break;case S2:La(de,ve,ke,_e,Te),Gh(_e,Te,0,ke,1,0);break;case PP:Rn(de,ve,ke,_e,Te);break;case Tg:yt(de,ve,ke,_e,Te,1);break;case E2:yt(de,ve,ke,_e,Te,1),Gh(_e,Te,0,ke,1,0);break;case Cg:yt(de,ve,ke,_e,Te,0);break;case Ig:yt(de,ve,ke,_e,Te,0),Gh(_e,Te,1,ke,1,0);break;case A2:ks(de,ve,ke,_e,Te);break;case P2:ks(de,ve,ke,_e,Te),yP(_e,Te,ke,1,0);break;case NP:Dn(de,ve,ke,_e,Te);break;default:e(0)}K+=X,fe+=xe}m.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=P.height)}}m.C=x,e(m.C<=m.i)}function Ni(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var P=m.Ya[x].G,D=m.Ya[x].H;if(0<P[1][D[1]+0].g||0<P[2][D[2]+0].g||0<P[3][D[3]+0].g)return 0}return 1}function ka(m,x,P,D,z,q){if(m.Z!=0){var W=m.qd,K=m.rd;for(e(hu[m.Z]!=null);x<P;++x)hu[m.Z](W,K,D,z,D,z,q),W=D,K=z,z+=q;m.qd=W,m.rd=K}}function Ki(m,x){var P=m.l.ma,D=P.Z==0||P.Z==1?m.l.j:m.C;if(D=m.C<D?D:m.C,e(x<=m.l.o),x>D){var z=m.l.width,q=P.ca,W=P.tb+z*D,K=m.V,X=m.Ba+m.c*D,J=m.gc;e(m.ab==1),e(J[0].hc==3),Qf(J[0],D,x,K,X,q,W),ka(P,D,x,q,W,z)}m.C=m.Ma=x}function ki(m,x,P,D,z,q,W){var K=m.$/D,X=m.$%D,J=m.m,fe=m.s,xe=P+m.$,ee=xe;z=P+D*z;var de=P+D*q,ve=280+fe.ua,ke=m.Pb?K:16777216,_e=0<fe.ua?fe.Wa:null,Te=fe.wc,Ie=xe<de?Zn(fe,X,K):null;e(m.C<q),e(de<=z);var Me=!1;e:for(;;){for(;Me||xe<de;){var Le=0;if(K>=ke){var ct=xe-P;e((ke=m).Pb),ke.wd=ke.m,ke.xd=ct,0<ke.s.ua&&mt(ke.s.Wa,ke.s.vb),ke=K+vB}if(X&Te||(Ie=Zn(fe,X,K)),e(Ie!=null),Ie.Qb&&(x[xe]=Ie.qb,Me=!0),!Me)if(pe(J),Ie.jc){Le=J,ct=x;var Xe=xe,Ft=Ie.pd[Z(Le)&Es-1];e(Ie.jc),256>Ft.g?(ce(Le,Le.u+Ft.g),ct[Xe]=Ft.value,Le=0):(ce(Le,Le.u+Ft.g-256),e(256<=Ft.value),Le=Ft.value),Le==0&&(Me=!0)}else Le=Qn(Ie.G[0],Ie.H[0],J);if(J.h)break;if(Me||256>Le){if(!Me)if(Ie.nd)x[xe]=(Ie.qb|Le<<8)>>>0;else{if(pe(J),Me=Qn(Ie.G[1],Ie.H[1],J),pe(J),ct=Qn(Ie.G[2],Ie.H[2],J),Xe=Qn(Ie.G[3],Ie.H[3],J),J.h)break;x[xe]=(Xe<<24|Me<<16|Le<<8|ct)>>>0}if(Me=!1,++xe,++X>=D&&(X=0,++K,W!=null&&K<=q&&!(K%16)&&W(m,K),_e!=null))for(;ee<xe;)Le=x[ee++],_e.X[(506832829*Le&4294967295)>>>_e.Mb]=Le}else if(280>Le){if(Le=ti(Le-256,J),ct=Qn(Ie.G[4],Ie.H[4],J),pe(J),ct=ni(D,ct=ti(ct,J)),J.h)break;if(xe-P<ct||z-xe<Le)break e;for(Xe=0;Xe<Le;++Xe)x[xe+Xe]=x[xe+Xe-ct];for(xe+=Le,X+=Le;X>=D;)X-=D,++K,W!=null&&K<=q&&!(K%16)&&W(m,K);if(e(xe<=z),X&Te&&(Ie=Zn(fe,X,K)),_e!=null)for(;ee<xe;)Le=x[ee++],_e.X[(506832829*Le&4294967295)>>>_e.Mb]=Le}else{if(!(Le<ve))break e;for(Me=Le-280,e(_e!=null);ee<xe;)Le=x[ee++],_e.X[(506832829*Le&4294967295)>>>_e.Mb]=Le;Le=xe,e(!(Me>>>(ct=_e).Xa)),x[Le]=ct.X[Me],Me=!0}Me||e(J.h==ie(J))}if(m.Pb&&J.h&&xe<z)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&mt(m.s.vb,m.s.Wa);else{if(J.h)break e;W!=null&&W(m,K>q?q:K),m.a=0,m.$=xe-P}return 1}return m.a=3,0}function xr(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,e(m!=null)}function hs(){var m=new Ln;return m==null?null:(m.a=0,m.xb=CP,$t("Predictor","VP8LPredictors"),$t("Predictor","VP8LPredictors_C"),$t("PredictorAdd","VP8LPredictorsAdd"),$t("PredictorAdd","VP8LPredictorsAdd_C"),Yf=At,ll=wt,Hh=ln,La=Jt,ks=tt,Dn=St,Rn=yn,O.VP8LMapColor32b=Xf,O.VP8LMapColor8b=Mc,m)}function Ta(m,x,P,D,z){var q=1,W=[m],K=[x],X=D.m,J=D.s,fe=null,xe=0;e:for(;;){if(P)for(;q&&ne(X,1);){var ee=W,de=K,ve=D,ke=1,_e=ve.m,Te=ve.gc[ve.ab],Ie=ne(_e,2);if(ve.Oc&1<<Ie)q=0;else{switch(ve.Oc|=1<<Ie,Te.hc=Ie,Te.Ea=ee[0],Te.nc=de[0],Te.K=[null],++ve.ab,e(4>=ve.ab),Ie){case 0:case 1:Te.b=ne(_e,3)+2,ke=Ta(Fe(Te.Ea,Te.b),Fe(Te.nc,Te.b),0,ve,Te.K),Te.K=Te.K[0];break;case 3:var Me,Le=ne(_e,8)+1,ct=16<Le?0:4<Le?1:2<Le?2:3;if(ee[0]=Fe(Te.Ea,ct),Te.b=ct,Me=ke=Ta(Le,1,0,ve,Te.K)){var Xe,Ft=Le,nt=Te,Qt=1<<(8>>nt.b),zr=o(Qt);if(zr==null)Me=0;else{var Bt=nt.K[0],rt=nt.w;for(zr[0]=nt.K[0][0],Xe=1;Xe<1*Ft;++Xe)zr[Xe]=at(Bt[rt+Xe],zr[Xe-1]);for(;Xe<4*Qt;++Xe)zr[Xe]=0;nt.K[0]=null,nt.K[0]=zr,Me=1}}ke=Me;break;case 2:break;default:e(0)}q=ke}}if(W=W[0],K=K[0],q&&ne(X,1)&&!(q=1<=(xe=ne(X,4))&&11>=xe)){D.a=3;break e}var Ve;if(Ve=q)t:{var Nr,Mt,en,zn=D,hi=W,Qi=K,dr=xe,Ci=P,Zi=zn.m,qr=zn.s,rn=[null],_n=1,hr=0,xn=gB[dr];n:for(;;){if(Ci&&ne(Zi,1)){var pi=ne(Zi,3)+2,Wo=Fe(hi,pi),kr=Fe(Qi,pi),ha=Wo*kr;if(!Ta(Wo,kr,0,zn,rn))break n;for(rn=rn[0],qr.xc=pi,Nr=0;Nr<ha;++Nr){var Tn=rn[Nr]>>8&65535;rn[Nr]=Tn,Tn>=_n&&(_n=Tn+1)}}if(Zi.h)break n;for(Mt=0;5>Mt;++Mt){var Wr=kP[Mt];!Mt&&0<dr&&(Wr+=1<<dr),hr<Wr&&(hr=Wr)}var Ra=s(_n*xn,j),Ji=_n,Ma=s(Ji,oe);if(Ma==null)var Fa=null;else e(65536>=Ji),Fa=Ma;var pa=o(hr);if(Fa==null||pa==null||Ra==null){zn.a=1;break n}var Ba=Ra;for(Nr=en=0;Nr<_n;++Nr){var Mn=Fa[Nr],Ua=Mn.G,Ho=Mn.H,Bc=0,fl=1,mi=0;for(Mt=0;5>Mt;++Mt){Wr=kP[Mt],Ua[Mt]=Ba,Ho[Mt]=en,!Mt&&0<dr&&(Wr+=1<<dr);i:{var Dg,C2=Wr,Rg=zn,Qh=pa,MB=Ba,FB=en,I2=0,pu=Rg.m,BB=ne(pu,1);if(a(Qh,0,0,C2),BB){var UB=ne(pu,1)+1,$B=ne(pu,1),FP=ne(pu,$B==0?1:8);Qh[FP]=1,UB==2&&(Qh[FP=ne(pu,8)]=1);var Mg=1}else{var BP=o(19),UP=ne(pu,4)+4;if(19<UP){Rg.a=3;var Fg=0;break i}for(Dg=0;Dg<UP;++Dg)BP[pB[Dg]]=ne(pu,3);var O2=void 0,Zh=void 0,$P=Rg,VB=BP,Bg=C2,VP=Qh,j2=0,mu=$P.m,zP=8,qP=s(128,j);r:for(;R(qP,0,7,VB,19);){if(ne(mu,1)){var zB=2+2*ne(mu,3);if((O2=2+ne(mu,zB))>Bg)break r}else O2=Bg;for(Zh=0;Zh<Bg&&O2--;){pe(mu);var WP=qP[0+(127&Z(mu))];ce(mu,mu.u+WP.g);var Jf=WP.value;if(16>Jf)VP[Zh++]=Jf,Jf!=0&&(zP=Jf);else{var qB=Jf==16,HP=Jf-16,WB=dB[HP],KP=ne(mu,fB[HP])+WB;if(Zh+KP>Bg)break r;for(var HB=qB?zP:0;0<KP--;)VP[Zh++]=HB}}j2=1;break r}j2||($P.a=3),Mg=j2}(Mg=Mg&&!pu.h)&&(I2=R(MB,FB,8,Qh,C2)),Mg&&I2!=0?Fg=I2:(Rg.a=3,Fg=0)}if(Fg==0)break n;if(fl&&hB[Mt]==1&&(fl=Ba[en].g==0),Bc+=Ba[en].g,en+=Fg,3>=Mt){var Jh,L2=pa[0];for(Jh=1;Jh<Wr;++Jh)pa[Jh]>L2&&(L2=pa[Jh]);mi+=L2}}if(Mn.nd=fl,Mn.Qb=0,fl&&(Mn.qb=(Ua[3][Ho[3]+0].value<<24|Ua[1][Ho[1]+0].value<<16|Ua[2][Ho[2]+0].value)>>>0,Bc==0&&256>Ua[0][Ho[0]+0].value&&(Mn.Qb=1,Mn.qb+=Ua[0][Ho[0]+0].value<<8)),Mn.jc=!Mn.Qb&&6>mi,Mn.jc){var Ug,dl=Mn;for(Ug=0;Ug<Es;++Ug){var gu=Ug,vu=dl.pd[gu],$g=dl.G[0][dl.H[0]+gu];256<=$g.value?(vu.g=$g.g+256,vu.value=$g.value):(vu.g=0,vu.value=0,gu>>=Dr($g,8,vu),gu>>=Dr(dl.G[1][dl.H[1]+gu],16,vu),gu>>=Dr(dl.G[2][dl.H[2]+gu],0,vu),Dr(dl.G[3][dl.H[3]+gu],24,vu))}}}qr.vc=rn,qr.Wb=_n,qr.Ya=Fa,qr.yc=Ra,Ve=1;break t}Ve=0}if(!(q=Ve)){D.a=3;break e}if(0<xe){if(J.ua=1<<xe,!te(J.Wa,xe)){D.a=1,q=0;break e}}else J.ua=0;var D2=D,GP=W,KB=K,R2=D2.s,M2=R2.xc;if(D2.c=GP,D2.i=KB,R2.md=Fe(GP,M2),R2.wc=M2==0?-1:(1<<M2)-1,P){D.xb=SB;break e}if((fe=o(W*K))==null){D.a=1,q=0;break e}q=(q=ki(D,fe,0,W,K,K,null))&&!X.h;break e}return q?(z!=null?z[0]=fe:(e(fe==null),e(P)),D.$=0,P||xr(J)):xr(J),q}function Bo(m,x){var P=m.c*m.i,D=P+x+16*x;return e(m.c<=x),m.V=o(D),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+P+x,1)}function ps(m,x){var P=m.C,D=x-P,z=m.V,q=m.Ba+m.c*P;for(e(x<=m.l.o);0<D;){var W=16<D?16:D,K=m.l.ma,X=m.l.width,J=X*W,fe=K.ca,xe=K.tb+X*P,ee=m.Ta,de=m.Ua;Zs(m,W,z,q),bP(ee,de,fe,xe,J),ka(K,P,P+W,fe,xe,X),D-=W,z+=W*m.c,P+=W}e(P==x),m.C=m.Ma=x}function Js(){this.ub=this.yd=this.td=this.Rb=0}function el(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Mh(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ms(){this.Yb=function(){var m=[];return function x(P,D,z){for(var q=z[D],W=0;W<q&&(P.push(z.length>D+1?[]:0),!(z.length<D+1));W++)x(P[W],D+1,z)}(m,0,[3,11]),m}()}function Ec(){this.jb=o(3),this.Wc=l([4,8],ms),this.Xc=l([4,17],ms)}function eu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ri(){this.ld=this.La=this.dd=this.tc=0}function Ca(){this.Na=this.la=0}function tu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Nc(){this.uc=this.M=this.Nb=0,this.wa=Array(new ri),this.Y=0,this.ya=Array(new Pc),this.aa=0,this.l=new gs}function kc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Tc(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Js,this.Kc=new el,this.ed=new eu,this.Qa=new Mh,this.Ic=this.$c=this.Aa=0,this.D=new Nc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,M),this.ia=0,this.pb=s(4,tu),this.Pa=new Ec,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new kc),this.Hd=0,this.rb=Array(new Ca),this.sb=0,this.wa=Array(new ri),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pc),this.L=this.aa=0,this.gd=l([4,2],ri),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function gs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Cc(){var m=new Tc;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Yh||(Yh=Uo)),m}function ar(m,x,P){return m.a==0&&(m.a=x,m.sc=P,m.cb=0),0}function Ic(m,x,P){return 3<=P&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function Wf(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return ar(m,2,"null VP8Io passed to VP8GetHeaders()");var P=x.data,D=x.w,z=x.ha;if(4>z)return ar(m,7,"Truncated header.");var q=P[D+0]|P[D+1]<<8|P[D+2]<<16,W=m.Od;if(W.Rb=!(1&q),W.td=q>>1&7,W.yd=q>>4&1,W.ub=q>>5,3<W.td)return ar(m,3,"Incorrect keyframe parameters.");if(!W.yd)return ar(m,4,"Frame not displayable.");D+=3,z-=3;var K=m.Kc;if(W.Rb){if(7>z)return ar(m,7,"cannot parse picture header");if(!Ic(P,D,z))return ar(m,3,"Bad code word");K.c=16383&(P[D+4]<<8|P[D+3]),K.Td=P[D+4]>>6,K.i=16383&(P[D+6]<<8|P[D+5]),K.Ud=P[D+6]>>6,D+=7,z-=7,m.za=K.c+15>>4,m.Ub=K.i+15>>4,x.width=K.c,x.height=K.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,a((q=m.Pa).jb,0,255,q.jb.length),e((q=m.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,a(q.Zb,0,0,q.Zb.length),a(q.Lb,0,0,q.Lb)}if(W.ub>z)return ar(m,7,"bad partition length");he(q=m.m,P,D,W.ub),D+=W.ub,z-=W.ub,W.Rb&&(K.Ld=le(q),K.Kd=le(q)),K=m.Qa;var X,J=m.Pa;if(e(q!=null),e(K!=null),K.Cb=le(q),K.Cb){if(K.Bb=le(q),le(q)){for(K.Fb=le(q),X=0;4>X;++X)K.Zb[X]=le(q)?re(q,7):0;for(X=0;4>X;++X)K.Lb[X]=le(q)?re(q,6):0}if(K.Bb)for(X=0;3>X;++X)J.jb[X]=le(q)?ye(q,8):255}else K.Bb=0;if(q.Ka)return ar(m,3,"cannot parse segment header");if((K=m.ed).zd=le(q),K.Tb=ye(q,6),K.wb=ye(q,3),K.Pc=le(q),K.Pc&&le(q)){for(J=0;4>J;++J)le(q)&&(K.vd[J]=re(q,6));for(J=0;4>J;++J)le(q)&&(K.od[J]=re(q,6))}if(m.L=K.Tb==0?0:K.zd?1:2,q.Ka)return ar(m,3,"cannot parse filter header");var fe=z;if(z=X=D,D=X+fe,K=fe,m.Xb=(1<<ye(m.m,2))-1,fe<3*(J=m.Xb))P=7;else{for(X+=3*J,K-=3*J,fe=0;fe<J;++fe){var xe=P[z+0]|P[z+1]<<8|P[z+2]<<16;xe>K&&(xe=K),he(m.Jc[+fe],P,X,xe),X+=xe,K-=xe,z+=3}he(m.Jc[+J],P,X,K),P=X<D?0:5}if(P!=0)return ar(m,P,"cannot parse partitions");for(P=ye(X=m.m,7),z=le(X)?re(X,4):0,D=le(X)?re(X,4):0,K=le(X)?re(X,4):0,J=le(X)?re(X,4):0,X=le(X)?re(X,4):0,fe=m.Qa,xe=0;4>xe;++xe){if(fe.Cb){var ee=fe.Zb[xe];fe.Fb||(ee+=P)}else{if(0<xe){m.pb[xe]=m.pb[0];continue}ee=P}var de=m.pb[xe];de.Sc[0]=N2[Kt(ee+z,127)],de.Sc[1]=k2[Kt(ee+0,127)],de.Eb[0]=2*N2[Kt(ee+D,127)],de.Eb[1]=101581*k2[Kt(ee+K,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=N2[Kt(ee+J,117)],de.Qc[1]=k2[Kt(ee+X,127)],de.lc=ee+X}if(!W.Rb)return ar(m,4,"Not a key frame.");for(le(q),W=m.Pa,P=0;4>P;++P){for(z=0;8>z;++z)for(D=0;3>D;++D)for(K=0;11>K;++K)J=Ae(q,xB[P][z][D][K])?ye(q,8):bB[P][z][D][K],W.Wc[P][z].Yb[D][K]=J;for(z=0;17>z;++z)W.Xc[P][z]=W.Wc[P][AB[z]]}return m.kc=le(q),m.kc&&(m.Bd=ye(q,8)),m.cb=1}function Uo(m,x,P,D,z,q,W){var K=x[z].Yb[P];for(P=0;16>z;++z){if(!Ae(m,K[P+0]))return z;for(;!Ae(m,K[P+1]);)if(K=x[++z].Yb[0],P=0,z==16)return 16;var X=x[z+1].Yb;if(Ae(m,K[P+2])){var J=m,fe=0;if(Ae(J,(ee=K)[(xe=P)+3]))if(Ae(J,ee[xe+6])){for(K=0,xe=2*(fe=Ae(J,ee[xe+8]))+(ee=Ae(J,ee[xe+9+fe])),fe=0,ee=yB[xe];ee[K];++K)fe+=fe+Ae(J,ee[K]);fe+=3+(8<<xe)}else Ae(J,ee[xe+7])?(fe=7+2*Ae(J,165),fe+=Ae(J,145)):fe=5+Ae(J,159);else fe=Ae(J,ee[xe+4])?3+Ae(J,ee[xe+5]):2;K=X[2]}else fe=1,K=X[1];X=W+wB[z],0>(J=m).b&&Ee(J);var xe,ee=J.b,de=(xe=J.Ca>>1)-(J.I>>ee)>>31;--J.b,J.Ca+=de,J.Ca|=1,J.I-=(xe+1&de)<<ee,q[X]=((fe^de)-de)*D[(0<z)+0]}return 16}function vs(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function sa(m,x,P,D,z){z=m[x+P+32*D]+(z>>3),m[x+P+32*D]=-256&z?0>z?0:255:z}function tl(m,x,P,D,z,q){sa(m,x,0,P,D+z),sa(m,x,1,P,D+q),sa(m,x,2,P,D-q),sa(m,x,3,P,D-z)}function wn(m){return(20091*m>>16)+m}function Gi(m,x,P,D){var z,q=0,W=o(16);for(z=0;4>z;++z){var K=m[x+0]+m[x+8],X=m[x+0]-m[x+8],J=(35468*m[x+4]>>16)-wn(m[x+12]),fe=wn(m[x+4])+(35468*m[x+12]>>16);W[q+0]=K+fe,W[q+1]=X+J,W[q+2]=X-J,W[q+3]=K-fe,q+=4,x++}for(z=q=0;4>z;++z)K=(m=W[q+0]+4)+W[q+8],X=m-W[q+8],J=(35468*W[q+4]>>16)-wn(W[q+12]),sa(P,D,0,0,K+(fe=wn(W[q+4])+(35468*W[q+12]>>16))),sa(P,D,1,0,X+J),sa(P,D,2,0,X-J),sa(P,D,3,0,K-fe),q++,D+=32}function nu(m,x,P,D){var z=m[x+0]+4,q=35468*m[x+4]>>16,W=wn(m[x+4]),K=35468*m[x+1]>>16;tl(P,D,0,z+W,m=wn(m[x+1]),K),tl(P,D,1,z+q,m,K),tl(P,D,2,z-q,m,K),tl(P,D,3,z-W,m,K)}function ru(m,x,P,D,z){Gi(m,x,P,D),z&&Gi(m,x+16,P,D+4)}function Hf(m,x,P,D){Pr(m,x+0,P,D,1),Pr(m,x+32,P,D+128,1)}function Ht(m,x,P,D){var z;for(m=m[x+0]+4,z=0;4>z;++z)for(x=0;4>x;++x)sa(P,D,x,z,m)}function nl(m,x,P,D){m[x+0]&&Ts(m,x+0,P,D),m[x+16]&&Ts(m,x+16,P,D+4),m[x+32]&&Ts(m,x+32,P,D+128),m[x+48]&&Ts(m,x+48,P,D+128+4)}function ys(m,x,P,D){var z,q=o(16);for(z=0;4>z;++z){var W=m[x+0+z]+m[x+12+z],K=m[x+4+z]+m[x+8+z],X=m[x+4+z]-m[x+8+z],J=m[x+0+z]-m[x+12+z];q[0+z]=W+K,q[8+z]=W-K,q[4+z]=J+X,q[12+z]=J-X}for(z=0;4>z;++z)W=(m=q[0+4*z]+3)+q[3+4*z],K=q[1+4*z]+q[2+4*z],X=q[1+4*z]-q[2+4*z],J=m-q[3+4*z],P[D+0]=W+K>>3,P[D+16]=J+X>>3,P[D+32]=W-K>>3,P[D+48]=J-X>>3,D+=64}function la(m,x,P){var D,z=x-32,q=Da,W=255-m[z-1];for(D=0;D<P;++D){var K,X=q,J=W+m[x-1];for(K=0;K<P;++K)m[x+K]=X[J+m[z+K]];x+=32}}function Oc(m,x){la(m,x,4)}function Kf(m,x){la(m,x,8)}function Fh(m,x){la(m,x,16)}function Bh(m,x){var P;for(P=0;16>P;++P)i(m,x+32*P,m,x-32,16)}function jc(m,x){var P;for(P=16;0<P;--P)a(m,x,m[x-1],16),x+=32}function rl(m,x,P){var D;for(D=0;16>D;++D)a(x,P+32*D,m,16)}function ua(m,x){var P,D=16;for(P=0;16>P;++P)D+=m[x-1+32*P]+m[x+P-32];rl(D>>5,m,x)}function ho(m,x){var P,D=8;for(P=0;16>P;++P)D+=m[x-1+32*P];rl(D>>4,m,x)}function ws(m,x){var P,D=8;for(P=0;16>P;++P)D+=m[x+P-32];rl(D>>4,m,x)}function iu(m,x){rl(128,m,x)}function xt(m,x,P){return m+2*x+P+2>>2}function bs(m,x){var P,D=x-32;for(D=new Uint8Array([xt(m[D-1],m[D+0],m[D+1]),xt(m[D+0],m[D+1],m[D+2]),xt(m[D+1],m[D+2],m[D+3]),xt(m[D+2],m[D+3],m[D+4])]),P=0;4>P;++P)i(m,x+32*P,D,0,D.length)}function Uh(m,x){var P=m[x-1],D=m[x-1+32],z=m[x-1+64],q=m[x-1+96];Ne(m,x+0,16843009*xt(m[x-1-32],P,D)),Ne(m,x+32,16843009*xt(P,D,z)),Ne(m,x+64,16843009*xt(D,z,q)),Ne(m,x+96,16843009*xt(z,q,q))}function $h(m,x){var P,D=4;for(P=0;4>P;++P)D+=m[x+P-32]+m[x-1+32*P];for(D>>=3,P=0;4>P;++P)a(m,x+32*P,D,4)}function Vh(m,x){var P=m[x-1+0],D=m[x-1+32],z=m[x-1+64],q=m[x-1-32],W=m[x+0-32],K=m[x+1-32],X=m[x+2-32],J=m[x+3-32];m[x+0+96]=xt(D,z,m[x-1+96]),m[x+1+96]=m[x+0+64]=xt(P,D,z),m[x+2+96]=m[x+1+64]=m[x+0+32]=xt(q,P,D),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=xt(W,q,P),m[x+3+64]=m[x+2+32]=m[x+1+0]=xt(K,W,q),m[x+3+32]=m[x+2+0]=xt(X,K,W),m[x+3+0]=xt(J,X,K)}function ii(m,x){var P=m[x+1-32],D=m[x+2-32],z=m[x+3-32],q=m[x+4-32],W=m[x+5-32],K=m[x+6-32],X=m[x+7-32];m[x+0+0]=xt(m[x+0-32],P,D),m[x+1+0]=m[x+0+32]=xt(P,D,z),m[x+2+0]=m[x+1+32]=m[x+0+64]=xt(D,z,q),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=xt(z,q,W),m[x+3+32]=m[x+2+64]=m[x+1+96]=xt(q,W,K),m[x+3+64]=m[x+2+96]=xt(W,K,X),m[x+3+96]=xt(K,X,X)}function $o(m,x){var P=m[x-1+0],D=m[x-1+32],z=m[x-1+64],q=m[x-1-32],W=m[x+0-32],K=m[x+1-32],X=m[x+2-32],J=m[x+3-32];m[x+0+0]=m[x+1+64]=q+W+1>>1,m[x+1+0]=m[x+2+64]=W+K+1>>1,m[x+2+0]=m[x+3+64]=K+X+1>>1,m[x+3+0]=X+J+1>>1,m[x+0+96]=xt(z,D,P),m[x+0+64]=xt(D,P,q),m[x+0+32]=m[x+1+96]=xt(P,q,W),m[x+1+32]=m[x+2+96]=xt(q,W,K),m[x+2+32]=m[x+3+96]=xt(W,K,X),m[x+3+32]=xt(K,X,J)}function zh(m,x){var P=m[x+0-32],D=m[x+1-32],z=m[x+2-32],q=m[x+3-32],W=m[x+4-32],K=m[x+5-32],X=m[x+6-32],J=m[x+7-32];m[x+0+0]=P+D+1>>1,m[x+1+0]=m[x+0+64]=D+z+1>>1,m[x+2+0]=m[x+1+64]=z+q+1>>1,m[x+3+0]=m[x+2+64]=q+W+1>>1,m[x+0+32]=xt(P,D,z),m[x+1+32]=m[x+0+96]=xt(D,z,q),m[x+2+32]=m[x+1+96]=xt(z,q,W),m[x+3+32]=m[x+2+96]=xt(q,W,K),m[x+3+64]=xt(W,K,X),m[x+3+96]=xt(K,X,J)}function au(m,x){var P=m[x-1+0],D=m[x-1+32],z=m[x-1+64],q=m[x-1+96];m[x+0+0]=P+D+1>>1,m[x+2+0]=m[x+0+32]=D+z+1>>1,m[x+2+32]=m[x+0+64]=z+q+1>>1,m[x+1+0]=xt(P,D,z),m[x+3+0]=m[x+1+32]=xt(D,z,q),m[x+3+32]=m[x+1+64]=xt(z,q,q),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=q}function Vo(m,x){var P=m[x-1+0],D=m[x-1+32],z=m[x-1+64],q=m[x-1+96],W=m[x-1-32],K=m[x+0-32],X=m[x+1-32],J=m[x+2-32];m[x+0+0]=m[x+2+32]=P+W+1>>1,m[x+0+32]=m[x+2+64]=D+P+1>>1,m[x+0+64]=m[x+2+96]=z+D+1>>1,m[x+0+96]=q+z+1>>1,m[x+3+0]=xt(K,X,J),m[x+2+0]=xt(W,K,X),m[x+1+0]=m[x+3+32]=xt(P,W,K),m[x+1+32]=m[x+3+64]=xt(D,P,W),m[x+1+64]=m[x+3+96]=xt(z,D,P),m[x+1+96]=xt(q,z,D)}function ou(m,x){var P;for(P=0;8>P;++P)i(m,x+32*P,m,x-32,8)}function Ia(m,x){var P;for(P=0;8>P;++P)a(m,x,m[x-1],8),x+=32}function po(m,x,P){var D;for(D=0;8>D;++D)a(x,P+32*D,m,8)}function il(m,x){var P,D=8;for(P=0;8>P;++P)D+=m[x+P-32]+m[x-1+32*P];po(D>>4,m,x)}function Lc(m,x){var P,D=4;for(P=0;8>P;++P)D+=m[x+P-32];po(D>>3,m,x)}function Nn(m,x){var P,D=4;for(P=0;8>P;++P)D+=m[x-1+32*P];po(D>>3,m,x)}function Dc(m,x){po(128,m,x)}function al(m,x,P){var D=m[x-P],z=m[x+0],q=3*(z-D)+x2[1020+m[x-2*P]-m[x+P]],W=Pg[112+(q+4>>3)];m[x-P]=Da[255+D+Pg[112+(q+3>>3)]],m[x+0]=Da[255+z-W]}function _s(m,x,P,D){var z=m[x+0],q=m[x+P];return vo[255+m[x-2*P]-m[x-P]]>D||vo[255+q-z]>D}function su(m,x,P,D){return 4*vo[255+m[x-P]-m[x+0]]+vo[255+m[x-2*P]-m[x+P]]<=D}function ol(m,x,P,D,z){var q=m[x-3*P],W=m[x-2*P],K=m[x-P],X=m[x+0],J=m[x+P],fe=m[x+2*P],xe=m[x+3*P];return 4*vo[255+K-X]+vo[255+W-J]>D?0:vo[255+m[x-4*P]-q]<=z&&vo[255+q-W]<=z&&vo[255+W-K]<=z&&vo[255+xe-fe]<=z&&vo[255+fe-J]<=z&&vo[255+J-X]<=z}function xs(m,x,P,D){var z=2*D+1;for(D=0;16>D;++D)su(m,x+D,P,z)&&al(m,x+D,P)}function As(m,x,P,D){var z=2*D+1;for(D=0;16>D;++D)su(m,x+D*P,1,z)&&al(m,x+D*P,1)}function Yi(m,x,P,D){var z;for(z=3;0<z;--z)xs(m,x+=4*P,P,D)}function lu(m,x,P,D){var z;for(z=3;0<z;--z)As(m,x+=4,P,D)}function Xi(m,x,P,D,z,q,W,K){for(q=2*q+1;0<z--;){if(ol(m,x,P,q,W))if(_s(m,x,P,K))al(m,x,P);else{var X=m,J=x,fe=P,xe=X[J-2*fe],ee=X[J-fe],de=X[J+0],ve=X[J+fe],ke=X[J+2*fe],_e=27*(Ie=x2[1020+3*(de-ee)+x2[1020+xe-ve]])+63>>7,Te=18*Ie+63>>7,Ie=9*Ie+63>>7;X[J-3*fe]=Da[255+X[J-3*fe]+Ie],X[J-2*fe]=Da[255+xe+Te],X[J-fe]=Da[255+ee+_e],X[J+0]=Da[255+de-_e],X[J+fe]=Da[255+ve-Te],X[J+2*fe]=Da[255+ke-Ie]}x+=D}}function Ti(m,x,P,D,z,q,W,K){for(q=2*q+1;0<z--;){if(ol(m,x,P,q,W))if(_s(m,x,P,K))al(m,x,P);else{var X=m,J=x,fe=P,xe=X[J-fe],ee=X[J+0],de=X[J+fe],ve=Pg[112+(4+(ke=3*(ee-xe))>>3)],ke=Pg[112+(ke+3>>3)],_e=ve+1>>1;X[J-2*fe]=Da[255+X[J-2*fe]+_e],X[J-fe]=Da[255+xe+ke],X[J+0]=Da[255+ee-ve],X[J+fe]=Da[255+de-_e]}x+=D}}function E(m,x,P,D,z,q){Xi(m,x,P,1,16,D,z,q)}function V(m,x,P,D,z,q){Xi(m,x,1,P,16,D,z,q)}function Q(m,x,P,D,z,q){var W;for(W=3;0<W;--W)Ti(m,x+=4*P,P,1,16,D,z,q)}function se(m,x,P,D,z,q){var W;for(W=3;0<W;--W)Ti(m,x+=4,1,P,16,D,z,q)}function me(m,x,P,D,z,q,W,K){Xi(m,x,z,1,8,q,W,K),Xi(P,D,z,1,8,q,W,K)}function Ce(m,x,P,D,z,q,W,K){Xi(m,x,1,z,8,q,W,K),Xi(P,D,1,z,8,q,W,K)}function je(m,x,P,D,z,q,W,K){Ti(m,x+4*z,z,1,8,q,W,K),Ti(P,D+4*z,z,1,8,q,W,K)}function We(m,x,P,D,z,q,W,K){Ti(m,x+4,1,z,8,q,W,K),Ti(P,D+4,1,z,8,q,W,K)}function Ze(){this.ba=new pn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Xt(){this.ua=0,this.Wa=new vt,this.vb=new vt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new j}function Ln(){this.xb=this.a=0,this.l=new gs,this.ca=new pn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Xt,this.ab=0,this.gc=s(4,kt),this.Oc=0}function Vn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new gs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function mn(m,x,P,D,z,q,W){for(m=m==null?0:m[x+0],x=0;x<W;++x)z[q+x]=m+P[D+x]&255,m=z[q+x]}function fr(m,x,P,D,z,q,W){var K;if(m==null)mn(null,null,P,D,z,q,W);else for(K=0;K<W;++K)z[q+K]=m[x+K]+P[D+K]&255}function kn(m,x,P,D,z,q,W){if(m==null)mn(null,null,P,D,z,q,W);else{var K,X=m[x+0],J=X,fe=X;for(K=0;K<W;++K)J=fe+(X=m[x+K])-J,fe=P[D+K]+(-256&J?0>J?0:255:J)&255,J=X,z[q+K]=fe}}function Rr(m,x,P,D){var z=x.width,q=x.o;if(e(m!=null&&x!=null),0>P||0>=D||P+D>q)return null;if(!m.Cc){if(m.ga==null){var W;if(m.ga=new Vn,(W=m.ga==null)||(W=x.width*x.o,e(m.Gb.length==0),m.Gb=o(W),m.Uc=0,m.Gb==null?W=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,W=1),W=!W),!W){W=m.ga;var K=m.Fa,X=m.P,J=m.qc,fe=m.mb,xe=m.nb,ee=X+1,de=J-1,ve=W.l;if(e(K!=null&&fe!=null&&x!=null),hu[0]=null,hu[1]=mn,hu[2]=fr,hu[3]=kn,W.ca=fe,W.tb=xe,W.c=x.width,W.i=x.height,e(0<W.c&&0<W.i),1>=J)x=0;else if(W.$a=3&K[X+0],W.Z=K[X+0]>>2&3,W.Lc=K[X+0]>>4&3,X=K[X+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||X)x=0;else if(ve.put=gt,ve.ac=Pi,ve.bc=$n,ve.ma=W,ve.width=x.width,ve.height=x.height,ve.Da=x.Da,ve.v=x.v,ve.va=x.va,ve.j=x.j,ve.o=x.o,W.$a)e:{e(W.$a==1),x=hs();t:for(;;){if(x==null){x=0;break e}if(e(W!=null),W.mc=x,x.c=W.c,x.i=W.i,x.l=W.l,x.l.ma=W,x.l.width=W.c,x.l.height=W.i,x.a=0,ue(x.m,K,ee,de),!Ta(W.c,W.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Ni(x.s)?(W.ic=1,K=x.c*x.i,x.Ta=null,x.Ua=0,x.V=o(K),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(W.ic=0,x=Bo(x,W.c)),!x))break t;x=1;break e}W.mc=null,x=0}else x=de>=W.c*W.i;W=!x}if(W)return null;m.ga.Lc!=1?m.Ga=0:D=q-P}e(m.ga!=null),e(P+D<=q);e:{if(x=(K=m.ga).c,q=K.l.o,K.$a==0){if(ee=m.rc,de=m.Vc,ve=m.Fa,X=m.P+1+P*x,J=m.mb,fe=m.nb+P*x,e(X<=m.P+m.qc),K.Z!=0)for(e(hu[K.Z]!=null),W=0;W<D;++W)hu[K.Z](ee,de,ve,X,J,fe,x),ee=J,de=fe,fe+=x,X+=x;else for(W=0;W<D;++W)i(J,fe,ve,X,x),ee=J,de=fe,fe+=x,X+=x;m.rc=ee,m.Vc=de}else{if(e(K.mc!=null),x=P+D,e((W=K.mc)!=null),e(x<=W.i),W.C>=x)x=1;else if(K.ic||Ar(),K.ic){K=W.V,ee=W.Ba,de=W.c;var ke=W.i,_e=(ve=1,X=W.$/de,J=W.$%de,fe=W.m,xe=W.s,W.$),Te=de*ke,Ie=de*x,Me=xe.wc,Le=_e<Ie?Zn(xe,J,X):null;e(_e<=Te),e(x<=ke),e(Ni(xe));t:for(;;){for(;!fe.h&&_e<Ie;){if(J&Me||(Le=Zn(xe,J,X)),e(Le!=null),pe(fe),256>(ke=Qn(Le.G[0],Le.H[0],fe)))K[ee+_e]=ke,++_e,++J>=de&&(J=0,++X<=x&&!(X%16)&&Ki(W,X));else{if(!(280>ke)){ve=0;break t}ke=ti(ke-256,fe);var ct,Xe=Qn(Le.G[4],Le.H[4],fe);if(pe(fe),!(_e>=(Xe=ni(de,Xe=ti(Xe,fe)))&&Te-_e>=ke)){ve=0;break t}for(ct=0;ct<ke;++ct)K[ee+_e+ct]=K[ee+_e+ct-Xe];for(_e+=ke,J+=ke;J>=de;)J-=de,++X<=x&&!(X%16)&&Ki(W,X);_e<Ie&&J&Me&&(Le=Zn(xe,J,X))}e(fe.h==ie(fe))}Ki(W,X>x?x:X);break t}!ve||fe.h&&_e<Te?(ve=0,W.a=fe.h?5:3):W.$=_e,x=ve}else x=ki(W,W.V,W.Ba,W.c,W.i,x,ps);if(!x){D=0;break e}}P+D>=q&&(m.Cc=1),D=1}if(!D)return null;if(m.Cc&&((D=m.ga)!=null&&(D.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+P*z}function mo(m,x,P,D,z,q){for(;0<z--;){var W,K=m,X=x+(P?1:0),J=m,fe=x+(P?0:3);for(W=0;W<D;++W){var xe=J[fe+4*W];xe!=255&&(xe*=32897,K[X+4*W+0]=K[X+4*W+0]*xe>>23,K[X+4*W+1]=K[X+4*W+1]*xe>>23,K[X+4*W+2]=K[X+4*W+2]*xe>>23)}x+=q}}function zo(m,x,P,D,z){for(;0<D--;){var q;for(q=0;q<P;++q){var W=m[x+2*q+0],K=15&(J=m[x+2*q+1]),X=4369*K,J=(240&J|J>>4)*X>>16;m[x+2*q+0]=(240&W|W>>4)*X>>16&240|(15&W|W<<4)*X>>16>>4&15,m[x+2*q+1]=240&J|K}x+=z}}function Gf(m,x,P,D,z,q,W,K){var X,J,fe=255;for(J=0;J<z;++J){for(X=0;X<D;++X){var xe=m[x+X];q[W+4*X]=xe,fe&=xe}x+=P,W+=K}return fe!=255}function sl(m,x,P,D,z){var q;for(q=0;q<z;++q)P[D+q]=m[x+q]>>8}function Ar(){Gh=mo,yP=zo,wP=Gf,bP=sl}function ca(m,x,P){O[m]=function(D,z,q,W,K,X,J,fe,xe,ee,de,ve,ke,_e,Te,Ie,Me){var Le,ct=Me-1>>1,Xe=K[X+0]|J[fe+0]<<16,Ft=xe[ee+0]|de[ve+0]<<16;e(D!=null);var nt=3*Xe+Ft+131074>>2;for(x(D[z+0],255&nt,nt>>16,ke,_e),q!=null&&(nt=3*Ft+Xe+131074>>2,x(q[W+0],255&nt,nt>>16,Te,Ie)),Le=1;Le<=ct;++Le){var Qt=K[X+Le]|J[fe+Le]<<16,zr=xe[ee+Le]|de[ve+Le]<<16,Bt=Xe+Qt+Ft+zr+524296,rt=Bt+2*(Qt+Ft)>>3;nt=rt+Xe>>1,Xe=(Bt=Bt+2*(Xe+zr)>>3)+Qt>>1,x(D[z+2*Le-1],255&nt,nt>>16,ke,_e+(2*Le-1)*P),x(D[z+2*Le-0],255&Xe,Xe>>16,ke,_e+(2*Le-0)*P),q!=null&&(nt=Bt+Ft>>1,Xe=rt+zr>>1,x(q[W+2*Le-1],255&nt,nt>>16,Te,Ie+(2*Le-1)*P),x(q[W+2*Le+0],255&Xe,Xe>>16,Te,Ie+(2*Le+0)*P)),Xe=Qt,Ft=zr}1&Me||(nt=3*Xe+Ft+131074>>2,x(D[z+Me-1],255&nt,nt>>16,ke,_e+(Me-1)*P),q!=null&&(nt=3*Ft+Xe+131074>>2,x(q[W+Me-1],255&nt,nt>>16,Te,Ie+(Me-1)*P)))}}function uu(){yo[Ng]=EB,yo[kg]=IP,yo[PP]=PB,yo[Tg]=OP,yo[Cg]=jP,yo[A2]=LP,yo[NP]=NB,yo[S2]=IP,yo[E2]=OP,yo[Ig]=jP,yo[P2]=LP}function Oa(m){return m&-16384?0>m?0:255:m>>kB}function g(m,x){return Oa((19077*m>>8)+(26149*x>>8)-14234)}function N(m,x,P){return Oa((19077*m>>8)-(6419*x>>8)-(13320*P>>8)+8708)}function F(m,x){return Oa((19077*m>>8)+(33050*x>>8)-17685)}function G(m,x,P,D,z){D[z+0]=g(m,P),D[z+1]=N(m,x,P),D[z+2]=F(m,x)}function ge(m,x,P,D,z){D[z+0]=F(m,x),D[z+1]=N(m,x,P),D[z+2]=g(m,P)}function Pe(m,x,P,D,z){var q=N(m,x,P);x=q<<3&224|F(m,x)>>3,D[z+0]=248&g(m,P)|q>>5,D[z+1]=x}function Re(m,x,P,D,z){var q=240&F(m,x)|15;D[z+0]=240&g(m,P)|N(m,x,P)>>4,D[z+1]=q}function un(m,x,P,D,z){D[z+0]=255,G(m,x,P,D,z+1)}function Jn(m,x,P,D,z){ge(m,x,P,D,z),D[z+3]=255}function qt(m,x,P,D,z){G(m,x,P,D,z),D[z+3]=255}function Kt(m,x){return 0>m?0:m>x?x:m}function bn(m,x,P){O[m]=function(D,z,q,W,K,X,J,fe,xe){for(var ee=fe+(-2&xe)*P;fe!=ee;)x(D[z+0],q[W+0],K[X+0],J,fe),x(D[z+1],q[W+0],K[X+0],J,fe+P),z+=2,++W,++X,fe+=2*P;1&xe&&x(D[z+0],q[W+0],K[X+0],J,fe)}}function go(m,x,P){return P==0?m==0?x==0?6:5:x==0?4:0:P}function di(m,x,P,D,z){switch(m>>>30){case 3:Pr(x,P,D,z,0);break;case 2:ul(x,P,D,z);break;case 1:Ts(x,P,D,z)}}function ja(m,x){var P,D,z=x.M,q=x.Nb,W=m.oc,K=m.pc+40,X=m.oc,J=m.pc+584,fe=m.oc,xe=m.pc+600;for(P=0;16>P;++P)W[K+32*P-1]=129;for(P=0;8>P;++P)X[J+32*P-1]=129,fe[xe+32*P-1]=129;for(0<z?W[K-1-32]=X[J-1-32]=fe[xe-1-32]=129:(a(W,K-32-1,127,21),a(X,J-32-1,127,9),a(fe,xe-32-1,127,9)),D=0;D<m.za;++D){var ee=x.ya[x.aa+D];if(0<D){for(P=-1;16>P;++P)i(W,K+32*P-4,W,K+32*P+12,4);for(P=-1;8>P;++P)i(X,J+32*P-4,X,J+32*P+4,4),i(fe,xe+32*P-4,fe,xe+32*P+4,4)}var de=m.Gd,ve=m.Hd+D,ke=ee.ad,_e=ee.Hc;if(0<z&&(i(W,K-32,de[ve].y,0,16),i(X,J-32,de[ve].f,0,8),i(fe,xe-32,de[ve].ea,0,8)),ee.Za){var Te=W,Ie=K-32+16;for(0<z&&(D>=m.za-1?a(Te,Ie,de[ve].y[15],4):i(Te,Ie,de[ve+1].y,0,4)),P=0;4>P;P++)Te[Ie+128+P]=Te[Ie+256+P]=Te[Ie+384+P]=Te[Ie+0+P];for(P=0;16>P;++P,_e<<=2)Te=W,Ie=K+RP[P],qo[ee.Ob[P]](Te,Ie),di(_e,ke,16*+P,Te,Ie)}else if(Te=go(D,z,ee.Ob[0]),du[Te](W,K),_e!=0)for(P=0;16>P;++P,_e<<=2)di(_e,ke,16*+P,W,K+RP[P]);for(P=ee.Gc,Te=go(D,z,ee.Dd),cl[Te](X,J),cl[Te](fe,xe),_e=ke,Te=X,Ie=J,255&(ee=0|P)&&(170&ee?Zf(_e,256,Te,Ie):Kh(_e,256,Te,Ie)),ee=fe,_e=xe,255&(P>>=8)&&(170&P?Zf(ke,320,ee,_e):Kh(ke,320,ee,_e)),z<m.Ub-1&&(i(de[ve].y,0,W,K+480,16),i(de[ve].f,0,X,J+224,8),i(de[ve].ea,0,fe,xe+224,8)),P=8*q*m.B,de=m.sa,ve=m.ta+16*D+16*q*m.R,ke=m.qa,ee=m.ra+8*D+P,_e=m.Ha,Te=m.Ia+8*D+P,P=0;16>P;++P)i(de,ve+P*m.R,W,K+32*P,16);for(P=0;8>P;++P)i(ke,ee+P*m.B,X,J+32*P,8),i(_e,Te+P*m.B,fe,xe+32*P,8)}}function Ss(m,x,P,D,z,q,W,K,X){var J=[0],fe=[0],xe=0,ee=X!=null?X.kd:0,de=X??new bt;if(m==null||12>P)return 7;de.data=m,de.w=x,de.ha=P,x=[x],P=[P],de.gb=[de.gb];e:{var ve=x,ke=P,_e=de.gb;if(e(m!=null),e(ke!=null),e(_e!=null),_e[0]=0,12<=ke[0]&&!r(m,ve[0],"RIFF")){if(r(m,ve[0]+8,"WEBP")){_e=3;break e}var Te=be(m,ve[0]+4);if(12>Te||4294967286<Te){_e=3;break e}if(ee&&Te>ke[0]-8){_e=7;break e}_e[0]=Te,ve[0]+=12,ke[0]-=12}_e=0}if(_e!=0)return _e;for(Te=0<de.gb[0],P=P[0];;){e:{var Ie=m;ke=x,_e=P;var Me=J,Le=fe,ct=ve=[0];if((nt=xe=[xe])[0]=0,8>_e[0])_e=7;else{if(!r(Ie,ke[0],"VP8X")){if(be(Ie,ke[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var Xe=be(Ie,ke[0]+8),Ft=1+Ue(Ie,ke[0]+12);if(2147483648<=Ft*(Ie=1+Ue(Ie,ke[0]+15))){_e=3;break e}ct!=null&&(ct[0]=Xe),Me!=null&&(Me[0]=Ft),Le!=null&&(Le[0]=Ie),ke[0]+=18,_e[0]-=18,nt[0]=1}_e=0}}if(xe=xe[0],ve=ve[0],_e!=0)return _e;if(ke=!!(2&ve),!Te&&xe)return 3;if(q!=null&&(q[0]=!!(16&ve)),W!=null&&(W[0]=ke),K!=null&&(K[0]=0),W=J[0],ve=fe[0],xe&&ke&&X==null){_e=0;break}if(4>P){_e=7;break}if(Te&&xe||!Te&&!xe&&!r(m,x[0],"ALPH")){P=[P],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];e:{Xe=m,_e=x,Te=P;var nt=de.gb;Me=de.na,Le=de.P,ct=de.Sa,Ft=22,e(Xe!=null),e(Te!=null),Ie=_e[0];var Qt=Te[0];for(e(Me!=null),e(ct!=null),Me[0]=null,Le[0]=null,ct[0]=0;;){if(_e[0]=Ie,Te[0]=Qt,8>Qt){_e=7;break e}var zr=be(Xe,Ie+4);if(4294967286<zr){_e=3;break e}var Bt=8+zr+1&-2;if(Ft+=Bt,0<nt&&Ft>nt){_e=3;break e}if(!r(Xe,Ie,"VP8 ")||!r(Xe,Ie,"VP8L")){_e=0;break e}if(Qt[0]<Bt){_e=7;break e}r(Xe,Ie,"ALPH")||(Me[0]=Xe,Le[0]=Ie+8,ct[0]=zr),Ie+=Bt,Qt-=Bt}}if(P=P[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],_e!=0)break}P=[P],de.Ja=[de.Ja],de.xa=[de.xa];e:if(nt=m,_e=x,Te=P,Me=de.gb[0],Le=de.Ja,ct=de.xa,Xe=_e[0],Ie=!r(nt,Xe,"VP8 "),Ft=!r(nt,Xe,"VP8L"),e(nt!=null),e(Te!=null),e(Le!=null),e(ct!=null),8>Te[0])_e=7;else{if(Ie||Ft){if(nt=be(nt,Xe+4),12<=Me&&nt>Me-12){_e=3;break e}if(ee&&nt>Te[0]-8){_e=7;break e}Le[0]=nt,_e[0]+=8,Te[0]-=8,ct[0]=Ft}else ct[0]=5<=Te[0]&&nt[Xe+0]==47&&!(nt[Xe+4]>>5),Le[0]=Te[0];_e=0}if(P=P[0],de.Ja=de.Ja[0],de.xa=de.xa[0],x=x[0],_e!=0)break;if(4294967286<de.Ja)return 3;if(K==null||ke||(K[0]=de.xa?2:1),W=[W],ve=[ve],de.xa){if(5>P){_e=7;break}K=W,ee=ve,ke=q,m==null||5>P?m=0:5<=P&&m[x+0]==47&&!(m[x+4]>>5)?(Te=[0],nt=[0],Me=[0],ue(Le=new Y,m,x,P),fo(Le,Te,nt,Me)?(K!=null&&(K[0]=Te[0]),ee!=null&&(ee[0]=nt[0]),ke!=null&&(ke[0]=Me[0]),m=1):m=0):m=0}else{if(10>P){_e=7;break}K=ve,m==null||10>P||!Ic(m,x+3,P-3)?m=0:(ee=m[x+0]|m[x+1]<<8|m[x+2]<<16,ke=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&ee||3<(ee>>1&7)||!(ee>>4&1)||ee>>5>=de.Ja||!ke||!m?m=0:(W&&(W[0]=ke),K&&(K[0]=m),m=1))}if(!m||(W=W[0],ve=ve[0],xe&&(J[0]!=W||fe[0]!=ve)))return 3;X!=null&&(X[0]=de,X.offset=x-X.w,e(4294967286>x-X.w),e(X.offset==X.ha-P));break}return _e==0||_e==7&&xe&&X==null?(q!=null&&(q[0]|=de.na!=null&&0<de.na.length),D!=null&&(D[0]=W),z!=null&&(z[0]=ve),0):_e}function fa(m,x,P){var D=x.width,z=x.height,q=0,W=0,K=D,X=z;if(x.Da=m!=null&&0<m.Da,x.Da&&(K=m.cd,X=m.bd,q=m.v,W=m.j,11>P||(q&=-2,W&=-2),0>q||0>W||0>=K||0>=X||q+K>D||W+X>z))return 0;if(x.v=q,x.j=W,x.va=q+K,x.o=W+X,x.U=K,x.T=X,x.da=m!=null&&0<m.da,x.da){if(!dt(K,X,P=[m.ib],q=[m.hb]))return 0;x.ib=P[0],x.hb=q[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*D/4&&x.hb<3*z/4,x.Kb=0),1}function da(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function Rc(m,x,P,D){if(D==null||0>=m||0>=x)return 2;if(P!=null){if(P.Da){var z=P.cd,q=P.bd,W=-2&P.v,K=-2&P.j;if(0>W||0>K||0>=z||0>=q||W+z>m||K+q>x)return 2;m=z,x=q}if(P.da){if(!dt(m,x,z=[P.ib],q=[P.hb]))return 2;m=z[0],x=q[0]}}D.width=m,D.height=x;e:{var X=D.width,J=D.height;if(m=D.S,0>=X||0>=J||!(m>=Ng&&13>m))m=2;else{if(0>=D.Rd&&D.sd==null){W=q=z=x=0;var fe=(K=X*MP[m])*J;if(11>m||(q=(J+1)/2*(x=(X+1)/2),m==12&&(W=(z=X)*J)),(J=o(fe+2*q+W))==null){m=1;break e}D.sd=J,11>m?((X=D.f.RGBA).eb=J,X.fb=0,X.A=K,X.size=fe):((X=D.f.kb).y=J,X.O=0,X.fa=K,X.Fd=fe,X.f=J,X.N=0+fe,X.Ab=x,X.Cd=q,X.ea=J,X.W=0+fe+q,X.Db=x,X.Ed=q,m==12&&(X.F=J,X.J=0+fe+2*q),X.Tc=W,X.lb=z)}if(x=1,z=D.S,q=D.width,W=D.height,z>=Ng&&13>z)if(11>z)m=D.f.RGBA,x&=(K=Math.abs(m.A))*(W-1)+q<=m.size,x&=K>=q*MP[z],x&=m.eb!=null;else{m=D.f.kb,K=(q+1)/2,fe=(W+1)/2,X=Math.abs(m.fa),J=Math.abs(m.Ab);var xe=Math.abs(m.Db),ee=Math.abs(m.lb),de=ee*(W-1)+q;x&=X*(W-1)+q<=m.Fd,x&=J*(fe-1)+K<=m.Cd,x=(x&=xe*(fe-1)+K<=m.Ed)&X>=q&J>=K&xe>=K,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,z==12&&(x&=ee>=q,x&=de<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||P!=null&&P.fd&&(m=da(D)),m}var Es=64,cu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qh=24,fu=32,Sr=8,_2=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ze("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(m){return m},O.Predictor2=function(m,x,P){return x[P+0]},O.Predictor3=function(m,x,P){return x[P+1]},O.Predictor4=function(m,x,P){return x[P-1]},O.Predictor5=function(m,x,P){return lt(lt(m,x[P+1]),x[P+0])},O.Predictor6=function(m,x,P){return lt(m,x[P-1])},O.Predictor7=function(m,x,P){return lt(m,x[P+0])},O.Predictor8=function(m,x,P){return lt(x[P-1],x[P+0])},O.Predictor9=function(m,x,P){return lt(x[P+0],x[P+1])},O.Predictor10=function(m,x,P){return lt(lt(m,x[P-1]),lt(x[P+0],x[P+1]))},O.Predictor11=function(m,x,P){var D=x[P+0];return 0>=ot(D>>24&255,m>>24&255,(x=x[P-1])>>24&255)+ot(D>>16&255,m>>16&255,x>>16&255)+ot(D>>8&255,m>>8&255,x>>8&255)+ot(255&D,255&m,255&x)?D:m},O.Predictor12=function(m,x,P){var D=x[P+0];return(Yt((m>>24&255)+(D>>24&255)-((x=x[P-1])>>24&255))<<24|Yt((m>>16&255)+(D>>16&255)-(x>>16&255))<<16|Yt((m>>8&255)+(D>>8&255)-(x>>8&255))<<8|Yt((255&m)+(255&D)-(255&x)))>>>0},O.Predictor13=function(m,x,P){var D=x[P-1];return(Pt((m=lt(m,x[P+0]))>>24&255,D>>24&255)<<24|Pt(m>>16&255,D>>16&255)<<16|Pt(m>>8&255,D>>8&255)<<8|Pt(255&m,255&D))>>>0};var Ps=O.PredictorAdd0;O.PredictorAdd1=It,ze("Predictor2","PredictorAdd2"),ze("Predictor3","PredictorAdd3"),ze("Predictor4","PredictorAdd4"),ze("Predictor5","PredictorAdd5"),ze("Predictor6","PredictorAdd6"),ze("Predictor7","PredictorAdd7"),ze("Predictor8","PredictorAdd8"),ze("Predictor9","PredictorAdd9"),ze("Predictor10","PredictorAdd10"),ze("Predictor11","PredictorAdd11"),ze("Predictor12","PredictorAdd12"),ze("Predictor13","PredictorAdd13");var Ns=O.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Yf,Wh=O.ColorIndexInverseTransform,Xf=O.MapARGB,Qf=O.VP8LColorIndexInverseTransformAlpha,Mc=O.MapAlpha,Fc=O.VP8LPredictorsAdd=[];Fc.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var ll,Hh,La,ks,Dn,Rn,Er,Pr,ul,Zf,Ts,Kh,oP,sP,lP,uP,cP,fP,dP,hP,pP,mP,gP,vP,Gh,yP,wP,bP,_P=o(511),xP=o(2041),AP=o(225),SP=o(767),EP=0,x2=xP,Pg=AP,Da=SP,vo=_P,Ng=0,kg=1,PP=2,Tg=3,Cg=4,A2=5,NP=6,S2=7,E2=8,Ig=9,P2=10,fB=[2,3,7],dB=[3,3,11],kP=[280,256,256,256,40],hB=[0,1,1,1,0],pB=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],mB=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],gB=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vB=8,N2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],k2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Yh=null,yB=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wB=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],TP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],bB=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_B=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],xB=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],AB=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],du=[],qo=[],cl=[],SB=1,CP=2,hu=[],yo=[];ca("UpsampleRgbLinePair",G,3),ca("UpsampleBgrLinePair",ge,3),ca("UpsampleRgbaLinePair",qt,4),ca("UpsampleBgraLinePair",Jn,4),ca("UpsampleArgbLinePair",un,4),ca("UpsampleRgba4444LinePair",Re,2),ca("UpsampleRgb565LinePair",Pe,2);var EB=O.UpsampleRgbLinePair,PB=O.UpsampleBgrLinePair,IP=O.UpsampleRgbaLinePair,OP=O.UpsampleBgraLinePair,jP=O.UpsampleArgbLinePair,LP=O.UpsampleRgba4444LinePair,NB=O.UpsampleRgb565LinePair,Og=16,jg=1<<Og-1,Xh=-227,T2=482,kB=6,DP=0,TB=o(256),CB=o(256),IB=o(256),OB=o(256),jB=o(T2-Xh),LB=o(T2-Xh);bn("YuvToRgbRow",G,3),bn("YuvToBgrRow",ge,3),bn("YuvToRgbaRow",qt,4),bn("YuvToBgraRow",Jn,4),bn("YuvToArgbRow",un,4),bn("YuvToRgba4444Row",Re,2),bn("YuvToRgb565Row",Pe,2);var RP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lg=[0,2,8],DB=[8,7,6,4,4,2,2,2,1,1,1,1],RB=1;this.WebPDecodeRGBA=function(m,x,P,D,z){var q=kg,W=new Ze,K=new pn;W.ba=K,K.S=q,K.width=[K.width],K.height=[K.height];var X=K.width,J=K.height,fe=new _t;if(fe==null||m==null)var xe=2;else e(fe!=null),xe=Ss(m,x,P,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(xe!=0?X=0:(X!=null&&(X[0]=fe.width[0]),J!=null&&(J[0]=fe.height[0]),X=1),X){K.width=K.width[0],K.height=K.height[0],D!=null&&(D[0]=K.width),z!=null&&(z[0]=K.height);e:{if(D=new gs,(z=new bt).data=m,z.w=x,z.ha=P,z.kd=1,x=[0],e(z!=null),((m=Ss(z.data,z.w,z.ha,null,null,null,x,null,z))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(e(W!=null),D.data=z.data,D.w=z.w+z.offset,D.ha=z.ha-z.offset,D.put=gt,D.ac=Pi,D.bc=$n,D.ma=W,z.xa){if((m=hs())==null){W=1;break e}if(function(ee,de){var ve=[0],ke=[0],_e=[0];t:for(;;){if(ee==null)return 0;if(de==null)return ee.a=2,0;if(ee.l=de,ee.a=0,ue(ee.m,de.data,de.w,de.ha),!fo(ee.m,ve,ke,_e)){ee.a=3;break t}if(ee.xb=CP,de.width=ve[0],de.height=ke[0],!Ta(ve[0],ke[0],1,ee,null))break t;return 1}return e(ee.a!=0),0}(m,D)){if(D=(x=Rc(D.width,D.height,W.Oa,W.ba))==0){t:{D=m;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((P=D.l)!=null),e((z=P.ma)!=null),D.xb!=0){if(D.ca=z.ba,D.tb=z.tb,e(D.ca!=null),!fa(z.Oa,P,Tg)){D.a=2;break n}if(!Bo(D,P.width)||P.da)break n;if((P.da||Nt(D.ca.S))&&Ar(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&Ar()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!te(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!ki(D,D.V,D.Ba,D.c,D.i,P.o,ds))break n;z.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(x=m.a)}else x=m.a}else{if((m=new Cc)==null){W=1;break e}if(m.Fa=z.na,m.P=z.P,m.qc=z.Sa,Wf(m,D)){if((x=Rc(D.width,D.height,W.Oa,W.ba))==0){if(m.Aa=0,P=W.Oa,e((z=m)!=null),P!=null){if(0<(X=0>(X=P.Md)?0:100<X?255:255*X/100)){for(J=fe=0;4>J;++J)12>(xe=z.pb[J]).lc&&(xe.ia=X*DB[0>xe.lc?0:xe.lc]>>3),fe|=xe.ia;fe&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=P.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(ee,de){if(ee==null)return 0;if(de==null)return ar(ee,2,"NULL VP8Io parameter in VP8Decode().");if(!ee.cb&&!Wf(ee,de))return 0;if(e(ee.cb),de.ac==null||de.ac(de)){de.ob&&(ee.L=0);var ve=Lg[ee.L];if(ee.L==2?(ee.yb=0,ee.zb=0):(ee.yb=de.v-ve>>4,ee.zb=de.j-ve>>4,0>ee.yb&&(ee.yb=0),0>ee.zb&&(ee.zb=0)),ee.Va=de.o+15+ve>>4,ee.Hb=de.va+15+ve>>4,ee.Hb>ee.za&&(ee.Hb=ee.za),ee.Va>ee.Ub&&(ee.Va=ee.Ub),0<ee.L){var ke=ee.ed;for(ve=0;4>ve;++ve){var _e;if(ee.Qa.Cb){var Te=ee.Qa.Lb[ve];ee.Qa.Fb||(Te+=ke.Tb)}else Te=ke.Tb;for(_e=0;1>=_e;++_e){var Ie=ee.gd[ve][_e],Me=Te;if(ke.Pc&&(Me+=ke.vd[0],_e&&(Me+=ke.od[0])),0<(Me=0>Me?0:63<Me?63:Me)){var Le=Me;0<ke.wb&&(Le=4<ke.wb?Le>>2:Le>>1)>9-ke.wb&&(Le=9-ke.wb),1>Le&&(Le=1),Ie.dd=Le,Ie.tc=2*Me+Le,Ie.ld=40<=Me?2:15<=Me?1:0}else Ie.tc=0;Ie.La=_e}}}ve=0}else ar(ee,6,"Frame setup failed"),ve=ee.a;if(ve=ve==0){if(ve){ee.$c=0,0<ee.Aa||(ee.Ic=RB);t:{ve=ee.Ic,ke=4*(Le=ee.za);var ct=32*Le,Xe=Le+1,Ft=0<ee.L?Le*(0<ee.Aa?2:1):0,nt=(ee.Aa==2?2:1)*Le;if((Ie=ke+832+(_e=3*(16*ve+Lg[ee.L])/2*ct)+(Te=ee.Fa!=null&&0<ee.Fa.length?ee.Kc.c*ee.Kc.i:0))!=Ie)ve=0;else{if(Ie>ee.Vb){if(ee.Vb=0,ee.Ec=o(Ie),ee.Fc=0,ee.Ec==null){ve=ar(ee,1,"no memory during frame initialization.");break t}ee.Vb=Ie}Ie=ee.Ec,Me=ee.Fc,ee.Ac=Ie,ee.Bc=Me,Me+=ke,ee.Gd=s(ct,kc),ee.Hd=0,ee.rb=s(Xe+1,Ca),ee.sb=1,ee.wa=Ft?s(Ft,ri):null,ee.Y=0,ee.D.Nb=0,ee.D.wa=ee.wa,ee.D.Y=ee.Y,0<ee.Aa&&(ee.D.Y+=Le),e(!0),ee.oc=Ie,ee.pc=Me,Me+=832,ee.ya=s(nt,Pc),ee.aa=0,ee.D.ya=ee.ya,ee.D.aa=ee.aa,ee.Aa==2&&(ee.D.aa+=Le),ee.R=16*Le,ee.B=8*Le,Le=(ct=Lg[ee.L])*ee.R,ct=ct/2*ee.B,ee.sa=Ie,ee.ta=Me+Le,ee.qa=ee.sa,ee.ra=ee.ta+16*ve*ee.R+ct,ee.Ha=ee.qa,ee.Ia=ee.ra+8*ve*ee.B+ct,ee.$c=0,Me+=_e,ee.mb=Te?Ie:null,ee.nb=Te?Me:null,e(Me+Te<=ee.Fc+ee.Vb),vs(ee),a(ee.Ac,ee.Bc,0,ke),ve=1}}if(ve){if(de.ka=0,de.y=ee.sa,de.O=ee.ta,de.f=ee.qa,de.N=ee.ra,de.ea=ee.Ha,de.Vd=ee.Ia,de.fa=ee.R,de.Rc=ee.B,de.F=null,de.J=0,!EP){for(ve=-255;255>=ve;++ve)_P[255+ve]=0>ve?-ve:ve;for(ve=-1020;1020>=ve;++ve)xP[1020+ve]=-128>ve?-128:127<ve?127:ve;for(ve=-112;112>=ve;++ve)AP[112+ve]=-16>ve?-16:15<ve?15:ve;for(ve=-255;510>=ve;++ve)SP[255+ve]=0>ve?0:255<ve?255:ve;EP=1}Er=ys,Pr=ru,Zf=Hf,Ts=Ht,Kh=nl,ul=nu,oP=E,sP=V,lP=me,uP=Ce,cP=Q,fP=se,dP=je,hP=We,pP=xs,mP=As,gP=Yi,vP=lu,qo[0]=$h,qo[1]=Oc,qo[2]=bs,qo[3]=Uh,qo[4]=Vh,qo[5]=$o,qo[6]=ii,qo[7]=zh,qo[8]=Vo,qo[9]=au,du[0]=ua,du[1]=Fh,du[2]=Bh,du[3]=jc,du[4]=ho,du[5]=ws,du[6]=iu,cl[0]=il,cl[1]=Kf,cl[2]=ou,cl[3]=Ia,cl[4]=Nn,cl[5]=Lc,cl[6]=Dc,ve=1}else ve=0}ve&&(ve=function(Qt,zr){for(Qt.M=0;Qt.M<Qt.Va;++Qt.M){var Bt,rt=Qt.Jc[Qt.M&Qt.Xb],Ve=Qt.m,Nr=Qt;for(Bt=0;Bt<Nr.za;++Bt){var Mt=Ve,en=Nr,zn=en.Ac,hi=en.Bc+4*Bt,Qi=en.zc,dr=en.ya[en.aa+Bt];if(en.Qa.Bb?dr.$b=Ae(Mt,en.Pa.jb[0])?2+Ae(Mt,en.Pa.jb[2]):Ae(Mt,en.Pa.jb[1]):dr.$b=0,en.kc&&(dr.Ad=Ae(Mt,en.Bd)),dr.Za=!Ae(Mt,145)+0,dr.Za){var Ci=dr.Ob,Zi=0;for(en=0;4>en;++en){var qr,rn=Qi[0+en];for(qr=0;4>qr;++qr){rn=_B[zn[hi+qr]][rn];for(var _n=TP[Ae(Mt,rn[0])];0<_n;)_n=TP[2*_n+Ae(Mt,rn[_n])];rn=-_n,zn[hi+qr]=rn}i(Ci,Zi,zn,hi,4),Zi+=4,Qi[0+en]=rn}}else rn=Ae(Mt,156)?Ae(Mt,128)?1:3:Ae(Mt,163)?2:0,dr.Ob[0]=rn,a(zn,hi,rn,4),a(Qi,0,rn,4);dr.Dd=Ae(Mt,142)?Ae(Mt,114)?Ae(Mt,183)?1:3:2:0}if(Nr.m.Ka)return ar(Qt,7,"Premature end-of-partition0 encountered.");for(;Qt.ja<Qt.za;++Qt.ja){if(Nr=rt,Mt=(Ve=Qt).rb[Ve.sb-1],zn=Ve.rb[Ve.sb+Ve.ja],Bt=Ve.ya[Ve.aa+Ve.ja],hi=Ve.kc?Bt.Ad:0)Mt.la=zn.la=0,Bt.Za||(Mt.Na=zn.Na=0),Bt.Hc=0,Bt.Gc=0,Bt.ia=0;else{var hr,xn;if(Mt=zn,zn=Nr,hi=Ve.Pa.Xc,Qi=Ve.ya[Ve.aa+Ve.ja],dr=Ve.pb[Qi.$b],en=Qi.ad,Ci=0,Zi=Ve.rb[Ve.sb-1],rn=qr=0,a(en,Ci,0,384),Qi.Za)var pi=0,Wo=hi[3];else{_n=o(16);var kr=Mt.Na+Zi.Na;if(kr=Yh(zn,hi[1],kr,dr.Eb,0,_n,0),Mt.Na=Zi.Na=(0<kr)+0,1<kr)Er(_n,0,en,Ci);else{var ha=_n[0]+3>>3;for(_n=0;256>_n;_n+=16)en[Ci+_n]=ha}pi=1,Wo=hi[0]}var Tn=15&Mt.la,Wr=15&Zi.la;for(_n=0;4>_n;++_n){var Ra=1&Wr;for(ha=xn=0;4>ha;++ha)Tn=Tn>>1|(Ra=(kr=Yh(zn,Wo,kr=Ra+(1&Tn),dr.Sc,pi,en,Ci))>pi)<<7,xn=xn<<2|(3<kr?3:1<kr?2:en[Ci+0]!=0),Ci+=16;Tn>>=4,Wr=Wr>>1|Ra<<7,qr=(qr<<8|xn)>>>0}for(Wo=Tn,pi=Wr>>4,hr=0;4>hr;hr+=2){for(xn=0,Tn=Mt.la>>4+hr,Wr=Zi.la>>4+hr,_n=0;2>_n;++_n){for(Ra=1&Wr,ha=0;2>ha;++ha)kr=Ra+(1&Tn),Tn=Tn>>1|(Ra=0<(kr=Yh(zn,hi[2],kr,dr.Qc,0,en,Ci)))<<3,xn=xn<<2|(3<kr?3:1<kr?2:en[Ci+0]!=0),Ci+=16;Tn>>=2,Wr=Wr>>1|Ra<<5}rn|=xn<<4*hr,Wo|=Tn<<4<<hr,pi|=(240&Wr)<<hr}Mt.la=Wo,Zi.la=pi,Qi.Hc=qr,Qi.Gc=rn,Qi.ia=43690&rn?0:dr.ia,hi=!(qr|rn)}if(0<Ve.L&&(Ve.wa[Ve.Y+Ve.ja]=Ve.gd[Bt.$b][Bt.Za],Ve.wa[Ve.Y+Ve.ja].La|=!hi),Nr.Ka)return ar(Qt,7,"Premature end-of-file encountered.")}if(vs(Qt),Ve=zr,Nr=1,Bt=(rt=Qt).D,Mt=0<rt.L&&rt.M>=rt.zb&&rt.M<=rt.Va,rt.Aa==0)t:{if(Bt.M=rt.M,Bt.uc=Mt,ja(rt,Bt),Nr=1,Bt=(xn=rt.D).Nb,Mt=(rn=Lg[rt.L])*rt.R,zn=rn/2*rt.B,_n=16*Bt*rt.R,ha=8*Bt*rt.B,hi=rt.sa,Qi=rt.ta-Mt+_n,dr=rt.qa,en=rt.ra-zn+ha,Ci=rt.Ha,Zi=rt.Ia-zn+ha,Wr=(Tn=xn.M)==0,qr=Tn>=rt.Va-1,rt.Aa==2&&ja(rt,xn),xn.uc)for(Ra=(kr=rt).D.M,e(kr.D.uc),xn=kr.yb;xn<kr.Hb;++xn){pi=xn,Wo=Ra;var Ji=(Ma=(mi=kr).D).Nb;hr=mi.R;var Ma=Ma.wa[Ma.Y+pi],Fa=mi.sa,pa=mi.ta+16*Ji*hr+16*pi,Ba=Ma.dd,Mn=Ma.tc;if(Mn!=0)if(e(3<=Mn),mi.L==1)0<pi&&mP(Fa,pa,hr,Mn+4),Ma.La&&vP(Fa,pa,hr,Mn),0<Wo&&pP(Fa,pa,hr,Mn+4),Ma.La&&gP(Fa,pa,hr,Mn);else{var Ua=mi.B,Ho=mi.qa,Bc=mi.ra+8*Ji*Ua+8*pi,fl=mi.Ha,mi=mi.Ia+8*Ji*Ua+8*pi;Ji=Ma.ld,0<pi&&(sP(Fa,pa,hr,Mn+4,Ba,Ji),uP(Ho,Bc,fl,mi,Ua,Mn+4,Ba,Ji)),Ma.La&&(fP(Fa,pa,hr,Mn,Ba,Ji),hP(Ho,Bc,fl,mi,Ua,Mn,Ba,Ji)),0<Wo&&(oP(Fa,pa,hr,Mn+4,Ba,Ji),lP(Ho,Bc,fl,mi,Ua,Mn+4,Ba,Ji)),Ma.La&&(cP(Fa,pa,hr,Mn,Ba,Ji),dP(Ho,Bc,fl,mi,Ua,Mn,Ba,Ji))}}if(rt.ia&&alert("todo:DitherRow"),Ve.put!=null){if(xn=16*Tn,Tn=16*(Tn+1),Wr?(Ve.y=rt.sa,Ve.O=rt.ta+_n,Ve.f=rt.qa,Ve.N=rt.ra+ha,Ve.ea=rt.Ha,Ve.W=rt.Ia+ha):(xn-=rn,Ve.y=hi,Ve.O=Qi,Ve.f=dr,Ve.N=en,Ve.ea=Ci,Ve.W=Zi),qr||(Tn-=rn),Tn>Ve.o&&(Tn=Ve.o),Ve.F=null,Ve.J=null,rt.Fa!=null&&0<rt.Fa.length&&xn<Tn&&(Ve.J=Rr(rt,Ve,xn,Tn-xn),Ve.F=rt.mb,Ve.F==null&&Ve.F.length==0)){Nr=ar(rt,3,"Could not decode alpha data.");break t}xn<Ve.j&&(rn=Ve.j-xn,xn=Ve.j,e(!(1&rn)),Ve.O+=rt.R*rn,Ve.N+=rt.B*(rn>>1),Ve.W+=rt.B*(rn>>1),Ve.F!=null&&(Ve.J+=Ve.width*rn)),xn<Tn&&(Ve.O+=Ve.v,Ve.N+=Ve.v>>1,Ve.W+=Ve.v>>1,Ve.F!=null&&(Ve.J+=Ve.v),Ve.ka=xn-Ve.j,Ve.U=Ve.va-Ve.v,Ve.T=Tn-xn,Nr=Ve.put(Ve))}Bt+1!=rt.Ic||qr||(i(rt.sa,rt.ta-Mt,hi,Qi+16*rt.R,Mt),i(rt.qa,rt.ra-zn,dr,en+8*rt.B,zn),i(rt.Ha,rt.Ia-zn,Ci,Zi+8*rt.B,zn))}if(!Nr)return ar(Qt,6,"Output aborted.")}return 1}(ee,de)),de.bc!=null&&de.bc(de),ve&=1}return ve?(ee.cb=0,ve):0})(m,D)||(x=m.a)}}else x=m.a}x==0&&W.Oa!=null&&W.Oa.fd&&(x=da(W.ba))}W=x}q=W!=0?null:11>q?K.f.RGBA.eb:K.f.kb.y}else q=null;return q};var MP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(O,U){for(var k="",R=0;R<4;R++)k+=String.fromCharCode(O[U++]);return k}function f(O,U){return O[U+0]|O[U+1]<<8}function d(O,U){return(O[U+0]|O[U+1]<<8|O[U+2]<<16)>>>0}function h(O,U){return(O[U+0]|O[U+1]<<8|O[U+2]<<16|O[U+3]<<24)>>>0}new u;var p=[0],y=[0],w=[],_=new u,b=n,S=function(O,U){var k={},R=0,j=!1,H=0,oe=0;if(k.frames=[],!function(M,Y){for(var Z=0;Z<4;Z++)if(M[Y+Z]!="RIFF".charCodeAt(Z))return!0;return!1}(O,U)){for(h(O,U+=4),U+=8;U<O.length;){var he=c(O,U),ye=h(O,U+=4);U+=4;var re=ye+(1&ye);switch(he){case"VP8 ":case"VP8L":k.frames[R]===void 0&&(k.frames[R]={}),(ne=k.frames[R]).src_off=j?oe:U-8,ne.src_size=H+ye+8,R++,j&&(j=!1,H=0,oe=0);break;case"VP8X":(ne=k.header={}).feature_flags=O[U];var ue=U+4;ne.canvas_width=1+d(O,ue),ue+=3,ne.canvas_height=1+d(O,ue),ue+=3;break;case"ALPH":j=!0,H=re+8,oe=U-8;break;case"ANIM":(ne=k.header).bgcolor=h(O,U),ue=U+4,ne.loop_count=f(O,ue),ue+=2;break;case"ANMF":var ae,ne;(ne=k.frames[R]={}).offset_x=2*d(O,U),U+=3,ne.offset_y=2*d(O,U),U+=3,ne.width=1+d(O,U),U+=3,ne.height=1+d(O,U),U+=3,ne.duration=d(O,U),U+=3,ae=O[U++],ne.dispose=1&ae,ne.blend=ae>>1&1}he!="ANMF"&&(U+=re)}return k}}(b,0);S.response=b,S.rgbaoutput=!0,S.dataurl=!1;var A=S.header?S.header:null,T=S.frames?S.frames:null;if(A){A.loop_counter=A.loop_count,p=[A.canvas_height],y=[A.canvas_width];for(var B=0;B<T.length&&T[B].blend!=0;B++);}var $=T[0],L=_.WebPDecodeRGBA(b,$.src_off,$.src_size,y,p);$.rgba=L,$.imgwidth=y[0],$.imgheight=p[0];for(var I=0;I<y[0]*p[0]*4;I++)w[I]=L[I];return this.width=y,this.height=p,this.data=w,this}(function(n){var e,r,i,a,o,s,l,u,c,f=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new u,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,r=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,c=new f}]);var d=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=M;Object.defineProperty(this,"pdf",{get:function(){return Y}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(be){Z=!!be}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(be){ie=!!be}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(be){isNaN(be)||(ce=be)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(be){isNaN(be)||(pe=be)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(be){var te;typeof be=="number"?te=[be,be,be,be]:((te=new Array(4))[0]=be[0],te[1]=be.length>=2?be[1]:te[0],te[2]=be.length>=3?be[2]:te[0],te[3]=be.length>=4?be[3]:te[1]),c.margin=te}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(be){Ee=be}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(be){le=be}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(be){Ae=be}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(be){be instanceof f&&(c=be)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(be){c.path=be}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(be){Ne=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var te;te=h(be),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var te=h(be);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var we=null,Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(be){we=null,Ue=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var te;if(this.ctx.font=be,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var mt=te[1];te[2];var vt=te[3],dt=te[4];te[5];var Fe=te[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(dt)[2];dt=Math.floor(at==="px"?parseFloat(dt)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(dt)*this.pdf.getFontSize():parseFloat(dt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(dt);var ze=function(wt){var ht,ln,Jt=[],tt=wt.trim();if(tt==="")return db;if(tt in sI)return[sI[tt]];for(;tt!=="";){switch(ln=null,ht=(tt=uI(tt)).charAt(0)){case'"':case"'":ln=Fpe(tt.substring(1),ht);break;default:ln=Bpe(tt)}if(ln===null||(Jt.push(ln[0]),(tt=uI(ln[1]))!==""&&tt.charAt(0)!==","))return db;tt=tt.replace(/^,/,"")}return Jt}(Fe);if(this.fontFaces){var Ct=function(wt,ht){if(we===null){var ln=function(Jt){var tt=[];return Object.keys(Jt).forEach(function(St){Jt[St].forEach(function(yn){var yt=null;switch(yn){case"bold":yt={family:St,weight:"bold"};break;case"italic":yt={family:St,style:"italic"};break;case"bolditalic":yt={family:St,weight:"bold",style:"italic"};break;case"":case"normal":yt={family:St}}yt!==null&&(yt.ref={name:St,style:yn},tt.push(yt))})}),tt}(wt.getFontList());we=function(Jt){for(var tt={},St=0;St<Jt.length;++St){var yn=fb(Jt[St]),yt=yn.family,$t=yn.stretch,Nt=yn.style,Xn=yn.weight;tt[yt]=tt[yt]||{},tt[yt][$t]=tt[yt][$t]||{},tt[yt][$t][Nt]=tt[yt][$t][Nt]||{},tt[yt][$t][Nt][Xn]=yn}return tt}(ln.concat(ht))}return we}(this.pdf,this.fontFaces),lt=ze.map(function(wt){return{family:wt,stretch:"normal",weight:vt,style:mt}}),Yt=function(wt,ht,ln){for(var Jt=(ln=ln||{}).defaultFontFamily||"times",tt=Object.assign({},Mpe,ln.genericFontFamilies||{}),St=null,yn=null,yt=0;yt<ht.length;++yt)if(tt[(St=fb(ht[yt])).family]&&(St.family=tt[St.family]),wt.hasOwnProperty(St.family)){yn=wt[St.family];break}if(!(yn=yn||wt[Jt]))throw new Error("Could not find a font-family for the rule '"+lI(St)+"' and default family '"+Jt+"'.");if(yn=function($t,Nt){if(Nt[$t])return Nt[$t];var Xn=K_[$t],Un=Xn<=K_.normal?-1:1,pn=oI(Nt,B9,Xn,Un);if(!pn)throw new Error("Could not find a matching font-stretch value for "+$t);return pn}(St.stretch,yn),yn=function($t,Nt){if(Nt[$t])return Nt[$t];for(var Xn=F9[$t],Un=0;Un<Xn.length;++Un)if(Nt[Xn[Un]])return Nt[Xn[Un]];throw new Error("Could not find a matching font-style for "+$t)}(St.style,yn),!(yn=function($t,Nt){if(Nt[$t])return Nt[$t];if($t===400&&Nt[500])return Nt[500];if($t===500&&Nt[400])return Nt[400];var Xn=Rpe[$t],Un=oI(Nt,U9,Xn,$t<400?-1:1);if(!Un)throw new Error("Could not find a matching font-weight for value "+$t);return Un}(St.weight,yn)))throw new Error("Failed to resolve a font for the rule '"+lI(St)+"'.");return yn}(Ct,lt);this.pdf.setFont(Yt.ref.name,Yt.ref.style)}else{var Pt="";(vt==="bold"||parseInt(vt,10)>=700||mt==="bold")&&(Pt="bold"),mt==="italic"&&(Pt+="italic"),Pt.length===0&&(Pt="normal");for(var ot="",It={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},At=0;At<ze.length;At++){if(this.pdf.internal.getFont(ze[At],Pt,{noFallback:!0,disableWarning:!0})!==void 0){ot=ze[At];break}if(Pt==="bolditalic"&&this.pdf.internal.getFont(ze[At],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=ze[At],Pt="bold";else if(this.pdf.internal.getFont(ze[At],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=ze[At],Pt="normal";break}}if(ot===""){for(var ut=0;ut<ze.length;ut++)if(It[ze[ut]]){ot=It[ze[ut]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,Pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};d.prototype.setLineDash=function(M){this.lineDash=M},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){T.call(this,"fill",!1)},d.prototype.stroke=function(){T.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(M,Y){if(isNaN(M)||isNaN(Y))throw Cn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new s(M,Y));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(M,Y)},d.prototype.closePath=function(){var M=new s(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Sn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){M=new s(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},d.prototype.lineTo=function(M,Y){if(isNaN(M)||isNaN(Y))throw Cn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new s(M,Y));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},d.prototype.quadraticCurveTo=function(M,Y,Z,ie){if(isNaN(Z)||isNaN(ie)||isNaN(M)||isNaN(Y))throw Cn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new s(Z,ie)),pe=this.ctx.transform.applyToPoint(new s(M,Y));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},d.prototype.bezierCurveTo=function(M,Y,Z,ie,ce,pe){if(isNaN(ce)||isNaN(pe)||isNaN(M)||isNaN(Y)||isNaN(Z)||isNaN(ie))throw Cn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new s(ce,pe)),le=this.ctx.transform.applyToPoint(new s(M,Y)),Ae=this.ctx.transform.applyToPoint(new s(Z,ie));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:Ae.x,y2:Ae.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new s(Ee.x,Ee.y)},d.prototype.arc=function(M,Y,Z,ie,ce,pe){if(isNaN(M)||isNaN(Y)||isNaN(Z)||isNaN(ie)||isNaN(ce))throw Cn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new s(M,Y));M=Ee.x,Y=Ee.y;var le=this.ctx.transform.applyToPoint(new s(0,Z)),Ae=this.ctx.transform.applyToPoint(new s(0,0));Z=Math.sqrt(Math.pow(le.x-Ae.x,2)+Math.pow(le.y-Ae.y,2))}Math.abs(ce-ie)>=2*Math.PI&&(ie=0,ce=2*Math.PI),this.path.push({type:"arc",x:M,y:Y,radius:Z,startAngle:ie,endAngle:ce,counterclockwise:pe})},d.prototype.arcTo=function(M,Y,Z,ie,ce){throw new Error("arcTo not implemented.")},d.prototype.rect=function(M,Y,Z,ie){if(isNaN(M)||isNaN(Y)||isNaN(Z)||isNaN(ie))throw Cn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,Y),this.lineTo(M+Z,Y),this.lineTo(M+Z,Y+ie),this.lineTo(M,Y+ie),this.lineTo(M,Y),this.lineTo(M+Z,Y),this.lineTo(M,Y)},d.prototype.fillRect=function(M,Y,Z,ie){if(isNaN(M)||isNaN(Y)||isNaN(Z)||isNaN(ie))throw Cn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,Y,Z,ie),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},d.prototype.strokeRect=function(M,Y,Z,ie){if(isNaN(M)||isNaN(Y)||isNaN(Z)||isNaN(ie))throw Cn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(M,Y,Z,ie),this.stroke())},d.prototype.clearRect=function(M,Y,Z,ie){if(isNaN(M)||isNaN(Y)||isNaN(Z)||isNaN(ie))throw Cn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,Y,Z,ie))},d.prototype.save=function(M){M=typeof M!="boolean"||M;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},d.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(M){var Y,Z,ie,ce;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))Y=0,Z=0,ie=0,ce=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(pe!==null)Y=parseInt(pe[1]),Z=parseInt(pe[2]),ie=parseInt(pe[3]),ce=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)Y=parseInt(pe[1]),Z=parseInt(pe[2]),ie=parseInt(pe[3]),ce=parseFloat(pe[4]);else{if(ce=1,typeof M=="string"&&M.charAt(0)!=="#"){var Ee=new I9(M);M=Ee.ok?Ee.toHex():"#000000"}M.length===4?(Y=M.substring(1,2),Y+=Y,Z=M.substring(2,3),Z+=Z,ie=M.substring(3,4),ie+=ie):(Y=M.substring(1,3),Z=M.substring(3,5),ie=M.substring(5,7)),Y=parseInt(Y,16),Z=parseInt(Z,16),ie=parseInt(ie,16)}}return{r:Y,g:Z,b:ie,a:ce,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(M,Y,Z,ie){if(isNaN(Y)||isNaN(Z)||typeof M!="string")throw Cn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!p.call(this)){var ce=re(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;R.call(this,{text:M,x:Y,y:Z,scale:pe,angle:ce,align:this.textAlign,maxWidth:ie})}},d.prototype.strokeText=function(M,Y,Z,ie){if(isNaN(Y)||isNaN(Z)||typeof M!="string")throw Cn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ie=isNaN(ie)?void 0:ie;var ce=re(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;R.call(this,{text:M,x:Y,y:Z,scale:pe,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ie})}},d.prototype.measureText=function(M){if(typeof M!="string")throw Cn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,Z=this.pdf.internal.scaleFactor,ie=Y.internal.getFontSize(),ce=Y.getStringUnitWidth(M)*ie/Y.internal.scaleFactor;return new function(pe){var Ee=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:ce*=Math.round(96*Z/72*1e4)/1e4})},d.prototype.scale=function(M,Y){if(isNaN(M)||isNaN(Y))throw Cn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new u(M,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},d.prototype.rotate=function(M){if(isNaN(M))throw Cn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new u(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.translate=function(M,Y){if(isNaN(M)||isNaN(Y))throw Cn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new u(1,0,0,1,M,Y);this.ctx.transform=this.ctx.transform.multiply(Z)},d.prototype.transform=function(M,Y,Z,ie,ce,pe){if(isNaN(M)||isNaN(Y)||isNaN(Z)||isNaN(ie)||isNaN(ce)||isNaN(pe))throw Cn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new u(M,Y,Z,ie,ce,pe);this.ctx.transform=this.ctx.transform.multiply(Ee)},d.prototype.setTransform=function(M,Y,Z,ie,ce,pe){M=isNaN(M)?1:M,Y=isNaN(Y)?0:Y,Z=isNaN(Z)?0:Z,ie=isNaN(ie)?1:ie,ce=isNaN(ce)?0:ce,pe=isNaN(pe)?0:pe,this.ctx.transform=new u(M,Y,Z,ie,ce,pe)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(M,Y,Z,ie,ce,pe,Ee,le,Ae){var Ne=this.pdf.getImageProperties(M),we=1,Ue=1,be=1,te=1;ie!==void 0&&le!==void 0&&(be=le/ie,te=Ae/ce,we=Ne.width/ie*le/ie,Ue=Ne.height/ce*Ae/ce),pe===void 0&&(pe=Y,Ee=Z,Y=0,Z=0),ie!==void 0&&le===void 0&&(le=ie,Ae=ce),ie===void 0&&le===void 0&&(le=Ne.width,Ae=Ne.height);for(var mt,vt=this.ctx.transform.decompose(),dt=re(vt.rotate.shx),Fe=new u,at=(Fe=(Fe=(Fe=Fe.multiply(vt.translate)).multiply(vt.skew)).multiply(vt.scale)).applyToRectangle(new l(pe-Y*be,Ee-Z*te,ie*we,ce*Ue)),ze=_.call(this,at),Ct=[],lt=0;lt<ze.length;lt+=1)Ct.indexOf(ze[lt])===-1&&Ct.push(ze[lt]);if(A(Ct),this.autoPaging)for(var Yt=Ct[0],Pt=Ct[Ct.length-1],ot=Yt;ot<Pt+1;ot++){this.pdf.setPage(ot);var It=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=ot===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=ot===1?0:ut+(ot-2)*wt;if(this.ctx.clip_path.length!==0){var ln=this.path;mt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(mt,this.posX+this.margin[3],-ht+At+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=ln}var Jt=JSON.parse(JSON.stringify(at));Jt=S([Jt],this.posX+this.margin[3],-ht+At+this.ctx.prevPageLastElemOffset)[0];var tt=(ot>Yt||ot<Pt)&&w.call(this);tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,wt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,dt),tt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",at.x,at.y,at.w,at.h,null,null,dt)};var _=function(M,Y,Z){var ie=[];Y=Y||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ie.push(Math.floor((M.y+ce)/Z)+1);break;case"arc":ie.push(Math.floor((M.y+ce-M.radius)/Z)+1),ie.push(Math.floor((M.y+ce+M.radius)/Z)+1);break;case"qct":var pe=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ie.push(Math.floor((pe.y+ce)/Z)+1),ie.push(Math.floor((pe.y+pe.h+ce)/Z)+1);break;case"bct":var Ee=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ie.push(Math.floor((Ee.y+ce)/Z)+1),ie.push(Math.floor((Ee.y+Ee.h+ce)/Z)+1);break;case"rect":ie.push(Math.floor((M.y+ce)/Z)+1),ie.push(Math.floor((M.y+M.h+ce)/Z)+1)}for(var le=0;le<ie.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<ie[le];)b.call(this);return ie},b=function(){var M=this.fillStyle,Y=this.strokeStyle,Z=this.font,ie=this.lineCap,ce=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=Y,this.font=Z,this.lineCap=ie,this.lineWidth=ce,this.lineJoin=pe},S=function(M,Y,Z){for(var ie=0;ie<M.length;ie++)switch(M[ie].type){case"bct":M[ie].x2+=Y,M[ie].y2+=Z;case"qct":M[ie].x1+=Y,M[ie].y1+=Z;default:M[ie].x+=Y,M[ie].y+=Z}return M},A=function(M){return M.sort(function(Y,Z){return Y-Z})},T=function(M,Y){for(var Z,ie,ce=this.fillStyle,pe=this.strokeStyle,Ee=this.lineCap,le=this.lineWidth,Ae=Math.abs(le*this.ctx.transform.scaleX),Ne=this.lineJoin,we=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),be=[],te=0;te<Ue.length;te++)if(Ue[te].x!==void 0)for(var mt=_.call(this,Ue[te]),vt=0;vt<mt.length;vt+=1)be.indexOf(mt[vt])===-1&&be.push(mt[vt]);for(var dt=0;dt<be.length;dt++)for(;this.pdf.internal.getNumberOfPages()<be[dt];)b.call(this);if(A(be),this.autoPaging)for(var Fe=be[0],at=be[be.length-1],ze=Fe;ze<at+1;ze++){this.pdf.setPage(ze),this.fillStyle=ce,this.strokeStyle=pe,this.lineCap=Ee,this.lineWidth=Ae,this.lineJoin=Ne;var Ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lt=ze===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=ze===1?0:Yt+(ze-2)*Pt;if(this.ctx.clip_path.length!==0){var It=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Z,this.posX+this.margin[3],-ot+lt+this.ctx.prevPageLastElemOffset),B.call(this,M,!0),this.path=It}if(ie=JSON.parse(JSON.stringify(we)),this.path=S(ie,this.posX+this.margin[3],-ot+lt+this.ctx.prevPageLastElemOffset),Y===!1||ze===0){var At=(ze>Fe||ze<at)&&w.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,Pt,null).clip().discardPath()),B.call(this,M,Y),At&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=Ae,B.call(this,M,Y),this.lineWidth=le;this.path=we},B=function(M,Y){if((M!=="stroke"||Y||!y.call(this))&&(M==="stroke"||Y||!p.call(this))){for(var Z,ie,ce=[],pe=this.path,Ee=0;Ee<pe.length;Ee++){var le=pe[Ee];switch(le.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:le,deltas:[],abs:[]});break;case"lt":var Ae=ce.length;if(pe[Ee-1]&&!isNaN(pe[Ee-1].x)&&(Z=[le.x-pe[Ee-1].x,le.y-pe[Ee-1].y],Ae>0)){for(;Ae>=0;Ae--)if(ce[Ae-1].close!==!0&&ce[Ae-1].begin!==!0){ce[Ae-1].deltas.push(Z),ce[Ae-1].abs.push(le);break}}break;case"bct":Z=[le.x1-pe[Ee-1].x,le.y1-pe[Ee-1].y,le.x2-pe[Ee-1].x,le.y2-pe[Ee-1].y,le.x-pe[Ee-1].x,le.y-pe[Ee-1].y],ce[ce.length-1].deltas.push(Z);break;case"qct":var Ne=pe[Ee-1].x+2/3*(le.x1-pe[Ee-1].x),we=pe[Ee-1].y+2/3*(le.y1-pe[Ee-1].y),Ue=le.x+2/3*(le.x1-le.x),be=le.y+2/3*(le.y1-le.y),te=le.x,mt=le.y;Z=[Ne-pe[Ee-1].x,we-pe[Ee-1].y,Ue-pe[Ee-1].x,be-pe[Ee-1].y,te-pe[Ee-1].x,mt-pe[Ee-1].y],ce[ce.length-1].deltas.push(Z);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(le)}}ie=Y?null:M==="stroke"?"stroke":"fill";for(var vt=!1,dt=0;dt<ce.length;dt++)if(ce[dt].arc)for(var Fe=ce[dt].abs,at=0;at<Fe.length;at++){var ze=Fe[at];ze.type==="arc"?I.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,Y,!vt):j.call(this,ze.x,ze.y),vt=!0}else if(ce[dt].close===!0)this.pdf.internal.out("h"),vt=!1;else if(ce[dt].begin!==!0){var Ct=ce[dt].start.x,lt=ce[dt].start.y;H.call(this,ce[dt].deltas,Ct,lt),vt=!0}ie&&O.call(this,ie),Y&&U.call(this)}},$=function(M){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Z;case"top":return M+Y-Z;case"hanging":return M+Y-2*Z;case"middle":return M+Y/2-Z;default:return M}},L=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(Y,Z){this.colorStops.push([Y,Z])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(M,Y,Z,ie,ce,pe,Ee,le,Ae){for(var Ne=he.call(this,Z,ie,ce,pe),we=0;we<Ne.length;we++){var Ue=Ne[we];we===0&&(Ae?k.call(this,Ue.x1+M,Ue.y1+Y):j.call(this,Ue.x1+M,Ue.y1+Y)),oe.call(this,M,Y,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}le?U.call(this):O.call(this,Ee)},O=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(M,Y){this.pdf.internal.out(r(M)+" "+i(Y)+" m")},R=function(M){var Y;switch(M.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var Z=this.pdf.getTextDimensions(M.text),ie=$.call(this,M.y),ce=L.call(this,ie)-Z.h,pe=this.ctx.transform.applyToPoint(new s(M.x,ie)),Ee=this.ctx.transform.decompose(),le=new u;le=(le=(le=le.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var Ae,Ne,we,Ue=this.ctx.transform.applyToRectangle(new l(M.x,ie,Z.w,Z.h)),be=le.applyToRectangle(new l(M.x,ce,Z.w,Z.h)),te=_.call(this,be),mt=[],vt=0;vt<te.length;vt+=1)mt.indexOf(te[vt])===-1&&mt.push(te[vt]);if(A(mt),this.autoPaging)for(var dt=mt[0],Fe=mt[mt.length-1],at=dt;at<Fe+1;at++){this.pdf.setPage(at);var ze=at===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[2],Yt=lt-this.margin[0],Pt=this.pdf.internal.pageSize.width-this.margin[1],ot=Pt-this.margin[3],It=at===1?0:Ct+(at-2)*Yt;if(this.ctx.clip_path.length!==0){var At=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Ae,this.posX+this.margin[3],-1*It+ze),B.call(this,"fill",!0),this.path=At}var ut=S([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-It+ze+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*M.scale),we=this.lineWidth,this.lineWidth=we*M.scale);var wt=this.autoPaging!=="text";if(wt||ut.y+ut.h<=lt){if(wt||ut.y>=ze&&ut.x<=Pt){var ht=wt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Pt-ut.x)[0],ln=S([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-It+ze+this.ctx.prevPageLastElemOffset)[0],Jt=wt&&(at>dt||at<Fe)&&w.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Yt,null).clip().discardPath()),this.pdf.text(ht,ln.x,ln.y,{angle:M.angle,align:Y,renderingMode:M.renderingMode}),Jt&&this.pdf.restoreGraphicsState()}}else ut.y<lt&&(this.ctx.prevPageLastElemOffset+=lt-ut.y);M.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=we)}else M.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*M.scale),we=this.lineWidth,this.lineWidth=we*M.scale),this.pdf.text(M.text,pe.x+this.posX,pe.y+this.posY,{angle:M.angle,align:Y,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=we)},j=function(M,Y,Z,ie){Z=Z||0,ie=ie||0,this.pdf.internal.out(r(M+Z)+" "+i(Y+ie)+" l")},H=function(M,Y,Z){return this.pdf.lines(M,Y,Z,null,null)},oe=function(M,Y,Z,ie,ce,pe,Ee,le){this.pdf.internal.out([e(a(Z+M)),e(o(ie+Y)),e(a(ce+M)),e(o(pe+Y)),e(a(Ee+M)),e(o(le+Y)),"c"].join(" "))},he=function(M,Y,Z,ie){for(var ce=2*Math.PI,pe=Math.PI/2;Y>Z;)Y-=ce;var Ee=Math.abs(Z-Y);Ee<ce&&ie&&(Ee=ce-Ee);for(var le=[],Ae=ie?-1:1,Ne=Y;Ee>1e-5;){var we=Ne+Ae*Math.min(Ee,pe);le.push(ye.call(this,M,Ne,we)),Ee-=Math.abs(we-Ne),Ne=we}return le},ye=function(M,Y,Z){var ie=(Z-Y)/2,ce=M*Math.cos(ie),pe=M*Math.sin(ie),Ee=ce,le=-pe,Ae=Ee*Ee+le*le,Ne=Ae+Ee*ce+le*pe,we=4/3*(Math.sqrt(2*Ae*Ne)-Ne)/(Ee*pe-le*ce),Ue=Ee-we*le,be=le+we*Ee,te=Ue,mt=-be,vt=ie+Y,dt=Math.cos(vt),Fe=Math.sin(vt);return{x1:M*Math.cos(Y),y1:M*Math.sin(Y),x2:Ue*dt-be*Fe,y2:Ue*Fe+be*dt,x3:te*dt-mt*Fe,y3:te*Fe+mt*dt,x4:M*Math.cos(Z),y4:M*Math.sin(Z)}},re=function(M){return 180*M/Math.PI},ue=function(M,Y,Z,ie,ce,pe){var Ee=M+.5*(Z-M),le=Y+.5*(ie-Y),Ae=ce+.5*(Z-ce),Ne=pe+.5*(ie-pe),we=Math.min(M,ce,Ee,Ae),Ue=Math.max(M,ce,Ee,Ae),be=Math.min(Y,pe,le,Ne),te=Math.max(Y,pe,le,Ne);return new l(we,be,Ue-we,te-be)},ae=function(M,Y,Z,ie,ce,pe,Ee,le){var Ae,Ne,we,Ue,be,te,mt,vt,dt,Fe,at,ze,Ct,lt,Yt=Z-M,Pt=ie-Y,ot=ce-Z,It=pe-ie,At=Ee-ce,ut=le-pe;for(Ne=0;Ne<41;Ne++)dt=(mt=(we=M+(Ae=Ne/40)*Yt)+Ae*((be=Z+Ae*ot)-we))+Ae*(be+Ae*(ce+Ae*At-be)-mt),Fe=(vt=(Ue=Y+Ae*Pt)+Ae*((te=ie+Ae*It)-Ue))+Ae*(te+Ae*(pe+Ae*ut-te)-vt),Ne==0?(at=dt,ze=Fe,Ct=dt,lt=Fe):(at=Math.min(at,dt),ze=Math.min(ze,Fe),Ct=Math.max(Ct,dt),lt=Math.max(lt,Fe));return new l(Math.round(at),Math.round(ze),Math.round(Ct-at),Math.round(lt-ze))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,Y,Z=(M=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:Y}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(ft.API),function(n){var e=function(s){var l,u,c,f,d,h,p,y,w,_;for(u=[],c=0,f=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;f>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(_=d%85))/85)-(w=d%85))/85)-(y=d%85))/85)-(p=d%85))/85)%85,u.push(h+33,p+33,y+33,w+33,_+33)):u.push(122);return function(b,S){for(var A=S;A>0;A--)b.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},r=function(s){var l,u,c,f,d,h=String,p="length",y=255,w="charCodeAt",_="slice",b="replace";for(s[_](-2),s=s[_](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),c=[],f=0,d=(s+=l="uuuuu"[_](s[p]%5||5))[p];d>f;f+=5)u=52200625*(s[w](f)-33)+614125*(s[w](f+1)-33)+7225*(s[w](f+2)-33)+85*(s[w](f+3)-33)+(s[w](f+4)-33),c.push(y&u>>24,y&u>>16,y&u>>8,y&u);return function(S,A){for(var T=A;T>0;T--)S.pop()}(c,l[p]),h.fromCharCode.apply(h,c)},i=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var u="",c=0;c<s.length;c+=2)u+=String.fromCharCode("0x"+(s[c]+s[c+1]));return u},o=function(s){for(var l=new Uint8Array(s.length),u=s.length;u--;)l[u]=s.charCodeAt(u);return(l=U_(l)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};n.processDataByFilters=function(s,l){var u=0,c=s||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=a(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=i(c),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}}(ft.API),function(n){n.loadFile=function(e,r,i){return function(a,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(u,c,f){var d=new XMLHttpRequest,h=0,p=function(y){var w=y.length,_=[],b=String.fromCharCode;for(h=0;h<w;h+=1)_.push(b(255&y.charCodeAt(h)));return _.join("")};if(d.open("GET",u,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?f(p(this.responseText)):f(void 0)}),d.send(null),c&&d.status===200)return p(d.responseText)}(a,o,s)}catch{}return l}(e,r,i)},n.loadImageFile=n.loadFile}(ft.API),function(n){function e(){return(Et.html2canvas?Promise.resolve(Et.html2canvas):Kw(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Et.DOMPurify?Promise.resolve(Et.DOMPurify):Kw(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var i=function(l){var u=Sn(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(l,u){var c=document.createElement(l);for(var f in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[f]=u.style[f];return c},o=function l(u,c){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),d=u.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||f.appendChild(l(d,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},s=function l(u){var c=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),c);return(f=f.setProgress(1,l,1,[l])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,u){return l.__proto__=u||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),u){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:l,dompurify:c})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var c=this.opt.jsPDF,f=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var y=f[p],w=y.src.find(function(_){return _.format==="truetype"});w&&c.addFont(w.url,y.ref.name,y.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),u(this.prop.container,h)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},s.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(i(l)!=="object")return this;var u=Object.keys(l||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=l[c]};switch(c){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[c]=l[c]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(l,u){return this.then(function(){var c=l in s.template.prop?this.prop[l]:this.opt[l];return u?u(c):c})},s.prototype.setMargin=function(l){return this.then(function(){switch(i(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function u(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(l=l||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,u,c,f){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,u,c,f){return this.setProgress(l?this.progress.val+l:null,u||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(l,u){var c=this;return this.thenCore(l,u,function(f,d){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,f),h}).then(f,d).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(l,u,c){c=c||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),u&&(u=u.bind(f));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:s.convert(Object.assign({},f),Promise.prototype),h=c.call(d,l,u);return s.convert(h,f.__proto__)},s.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},s.prototype.thenList=function(l){var u=this;return l.forEach(function(c){u=u.thenCore(c)}),u},s.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return s.convert(u,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ft.getPageSize=function(l,u,c){if(Sn(l)==="object"){var f=l;l=f.orientation,u=f.unit||u,c=f.format||c}u=u||"mm",c=c||"a4",l=(""+(l||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+u}var y,w=0,_=0;if(p.hasOwnProperty(h))w=p[h][1]/d,_=p[h][0]/d;else try{w=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(l==="p"||l==="portrait")l="p",_>w&&(y=_,_=w,w=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",w>_&&(y=_,_=w,w=y)}return{width:_,height:w,unit:u,k:d,orientation:l}},n.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(fb):null;var c=new s(u);return u.worker?c:c.from(l).doCallback()}}(ft.API),ft.API.addJS=function(n){return fI=n,this.internal.events.subscribe("postPutResources",function(){Lv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Lv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),cI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+fI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Lv!==void 0&&cI!==void 0&&this.internal.out("/Names <</JavaScript "+Lv+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var r=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),o=0;o<a.length;o++){var s=a[o],l=i.exec(s);if(l!=null){var u=l[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(o=0;o<c;o++){var d=r.internal.newObject();f.push(d);var h=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<f.length;o++)r.internal.write("(page_"+(o+1)+")"+f[o]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(i,a,o){var s={title:a,options:o,children:[]};return i==null&&(i=this.root),i.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(i){i.id=r.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},r.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},r.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var s=i.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var u=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},r.outline.line=function(i){this.ctx.val+=i+`\r
`},r.outline.makeRef=function(i){return i.id+" 0 R"},r.outline.makeString=function(i){return"("+r.internal.pdfEscape(i)+")"},r.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(i,a){for(var o=0;o<a.children.length;o++)i.count++,this.count_r(i,a.children[o]);return i.count}}])}(ft.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(r,i,a,o,s,l){var u,c=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=function(d){for(var h,p=256*d.charCodeAt(4)+d.charCodeAt(5),y=d.length,w={width:0,height:0,numcomponents:1},_=4;_<y;_+=2){if(_+=p,e.indexOf(d.charCodeAt(_+1))!==-1){h=256*d.charCodeAt(_+5)+d.charCodeAt(_+6),w={width:256*d.charCodeAt(_+7)+d.charCodeAt(_+8),height:h,numcomponents:d.charCodeAt(_+9)};break}p=256*d.charCodeAt(_+2)+d.charCodeAt(_+3)}return w}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:c,index:i,alias:a}}return f}}(ft.API),ft.API.processPNG=function(n,e,r,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=xpe(n,{checkCrc:!0}),s=o.width,l=o.height,u=o.channels,c=o.palette,f=o.depth;a=c&&u===1?function(L){for(var I=L.width,O=L.height,U=L.data,k=L.palette,R=L.depth,j=!1,H=[],oe=[],he=void 0,ye=!1,re=0,ue=0;ue<k.length;ue++){var ae=m3(k[ue],4),ne=ae[0],M=ae[1],Y=ae[2],Z=ae[3];H.push(ne,M,Y),Z!=null&&(Z===0?(re++,oe.length<1&&oe.push(ue)):Z<255&&(ye=!0))}if(ye||re>1){j=!0,oe=void 0;var ie=I*O;he=new Uint8Array(ie);for(var ce=new DataView(U.buffer),pe=0;pe<ie;pe++){var Ee=hb(ce,pe,R),le=m3(k[Ee],4)[3];he[pe]=le}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:U,alphaBytes:he,needSMask:j,palette:H,mask:oe}}(o):u===2||u===4?function(L){for(var I=L.data,O=L.width,U=L.height,k=L.channels,R=L.depth,j=k===2?"DeviceGray":"DeviceRGB",H=k-1,oe=O*U,he=H,ye=oe*he,re=1*oe,ue=Math.ceil(ye*R/8),ae=Math.ceil(re*R/8),ne=new Uint8Array(ue),M=new Uint8Array(ae),Y=new DataView(I.buffer),Z=new DataView(ne.buffer),ie=new DataView(M.buffer),ce=!1,pe=0;pe<oe;pe++){for(var Ee=pe*k,le=0;le<he;le++)bI(Z,hb(Y,Ee+le,R),pe*he+le,R);var Ae=hb(Y,Ee+he,R);Ae<(1<<R)-1&&(ce=!0),bI(ie,Ae,1*pe,R)}return{colorSpace:j,colorsPerPixel:H,colorBytes:ne,alphaBytes:M,needSMask:ce}}(o):function(L){var I=L.data,O=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:I instanceof Uint8Array?I:new Uint8Array(I.buffer),needSMask:!1}}(o);var d,h,p,y=a,w=y.colorSpace,_=y.colorsPerPixel,b=y.colorBytes,S=y.alphaBytes,A=y.needSMask,T=y.palette,B=y.mask,$=null;return i!==ft.API.image_compression.NONE&&typeof U_=="function"?($=function(L){var I;switch(L){case ft.API.image_compression.FAST:I=11;break;case ft.API.image_compression.MEDIUM:I=13;break;case ft.API.image_compression.SLOW:I=14;break;default:I=12}return I}(i),d=this.decode.FLATE_DECODE,h="/Predictor ".concat($," "),n=mI(b,s*_,_,i),A&&(p=mI(S,s,1,i))):(d=void 0,h="",n=b,A&&(p=S)),h+="/Colors ".concat(_," /BitsPerComponent ").concat(f," /Columns ").concat(s),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:n,index:e,filter:d,decodeParameters:h,transparency:B,palette:T,sMask:p,predictor:$,width:s,height:l,bitsPerComponent:f,colorSpace:w}}},function(n){n.processGIF89A=function(e,r,i,a){var o=new zpe(e),s=o.width,l=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var c={data:u,width:s,height:l},f=new pb(100).encode(c,100);return n.processJPEG.call(this,f,r,i,a)},n.processGIF87A=n.processGIF89A}(ft.API),Go.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:i,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Go.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(r){Cn.log("bit decode error:"+r)}},Go.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),r=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var u=this.palette[o>>7-l&1];this.data[s+4*l]=u.blue,this.data[s+4*l+1]=u.green,this.data[s+4*l+2]=u.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Go.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*a*4,l=o>>4,u=15&o,c=this.palette[l];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[u],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Go.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*i;if(a<this.palette.length){var s=this.palette[a];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Go.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&e)/e*255|0,u=(o>>10&e)/e*255|0,c=o>>15?255:0,f=i*this.width*4+4*a;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=s,this.data[f+3]=c}this.pos+=n}},Go.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,u=(s>>5&r)/r*255|0,c=(s>>11)/e*255|0,f=a*this.width*4+4*o;this.data[f]=c,this.data[f+1]=u,this.data[f+2]=l,this.data[f+3]=255}this.pos+=n}},Go.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=o,this.data[s+1]=a,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},Go.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=o,this.data[l+1]=a,this.data[l+2]=i,this.data[l+3]=s}},Go.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,r,i,a){var o=new Go(e,!1),s=o.width,l=o.height,u={data:o.getData(),width:s,height:l},c=new pb(100).encode(u,100);return n.processJPEG.call(this,c,r,i,a)}}(ft.API),xI.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,r,i,a){var o=new xI(e),s=o.width,l=o.height,u={data:o.getData(),width:s,height:l},c=new pb(100).encode(u,100);return n.processJPEG.call(this,c,r,i,a)}}(ft.API),ft.API.processRGBA=function(n,e,r){for(var i=n.data,a=i.length,o=new Uint8Array(a/4*3),s=new Uint8Array(a/4),l=0,u=0,c=0;c<a;c+=4){var f=i[c],d=i[c+1],h=i[c+2],p=i[c+3];o[l++]=f,o[l++]=d,o[l++]=h,s[u++]=p}var y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ft.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},id=ft.API,Dv=id.getCharWidthsArray=function(n,e){var r,i,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,u=l.fof?l.fof:1,c=e.kerning?e.kerning:a.metadata.Unicode.kerning,f=c.fof?c.fof:1,d=e.doKerning!==!1,h=0,p=n.length,y=0,w=l[0]||u,_=[];for(r=0;r<p;r++)i=n.charCodeAt(r),typeof a.metadata.widthOfString=="function"?_.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+s*(1e3/o)||0)/1e3):(h=d&&Sn(c[i])==="object"&&!isNaN(parseInt(c[i][y],10))?c[i][y]/f:0,_.push((l[i]||w)/u+h)),y=i;return _},dI=id.getStringUnitWidth=function(n,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return id.processArabic&&(n=id.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,r,a)/r:Dv.apply(this,arguments).reduce(function(o,s){return o+s},0)},hI=function(n,e,r,i){for(var a=[],o=0,s=n.length,l=0;o!==s&&l+e[o]<r;)l+=e[o],o++;a.push(n.slice(0,o));var u=o;for(l=0;o!==s;)l+e[o]>i&&(a.push(n.slice(u,o)),l=0,u=o),l+=e[o],o++;return u!==o&&a.push(n.slice(u,o)),a},pI=function(n,e,r){r||(r={});var i,a,o,s,l,u,c,f=[],d=[f],h=r.textIndent||0,p=0,y=0,w=n.split(" "),_=Dv.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var b=Array(u).join(" "),S=[];w.map(function(T){(T=T.split(/\s*\n/)).length>1?S=S.concat(T.map(function(B,$){return($&&B.length?`
`:"")+B})):S.push(T[0])}),w=S,u=dI.apply(this,[b,r])}for(o=0,s=w.length;o<s;o++){var A=0;if(i=w[o],u&&i[0]==`
`&&(i=i.substr(1),A=1),h+p+(y=(a=Dv.apply(this,[i,r])).reduce(function(T,B){return T+B},0))>e||A){if(y>e){for(l=hI.apply(this,[i,a,e-(h+p),e]),f.push(l.shift()),f=[l.pop()];l.length;)d.push([l.shift()]);y=a.slice(i.length-(f[0]?f[0].length:0)).reduce(function(T,B){return T+B},0)}else f=[i];d.push(f),h=y+u,p=_}else f.push(i),h+=p+y,p=_}return c=u?function(T,B){return(B?b:"")+T.join(" ")}:function(T){return T.join(" ")},d.map(c)},id.splitTextToSize=function(n,e,r){var i,a=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var d=this.internal.getFont(f.fontName,f.fontStyle),h="Unicode";return d.metadata[h]?{widths:d.metadata[h].widths||{0:1},kerning:d.metadata[h].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=r.lineIndent;var l,u,c=[];for(l=0,u=i.length;l<u;l++)c=c.concat(pI.apply(this,[i[l],s,o]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",i={},a={},o=0;o<16;o++)i[r[o]]=e[o],a[e[o]]=r[o];var s=function(h){return"0x"+parseInt(h,10).toString(16)},l=n.__fontmetrics__.compress=function(h){var p,y,w,_,b=["{"];for(var S in h){if(p=h[S],isNaN(parseInt(S,10))?y="'"+S+"'":(S=parseInt(S,10),y=(y=s(S).slice(2)).slice(0,-1)+a[y.slice(-1)]),typeof p=="number")p<0?(w=s(p).slice(3),_="-"):(w=s(p).slice(2),_=""),w=_+w.slice(0,-1)+a[w.slice(-1)];else{if(Sn(p)!=="object")throw new Error("Don't know what to do with value type "+Sn(p)+".");w=l(p)}b.push(y+w)}return b.push("}"),b.join("")},u=n.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,y,w,_,b={},S=1,A=b,T=[],B="",$="",L=h.length-1,I=1;I<L;I+=1)(_=h[I])=="'"?p?(w=p.join(""),p=void 0):p=[]:p?p.push(_):_=="{"?(T.push([A,w]),A={},w=void 0):_=="}"?((y=T.pop())[0][y[1]]=A,w=void 0,A=y[0]):_=="-"?S=-1:w===void 0?i.hasOwnProperty(_)?(B+=i[_],w=parseInt(B,16)*S,S=1,B=""):B+=_:i.hasOwnProperty(_)?($+=i[_],A[w]=parseInt($,16)*S,S=1,w=void 0,$=""):$+=_;return b},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var p=h.font,y=d.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var w=f.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])}(ft.API),function(n){var e=function(r){for(var i=r.length,a=new Uint8Array(i),o=0;o<i;o++)a[o]=r.charCodeAt(o);return a};n.API.events.push(["addFont",function(r){var i=void 0,a=r.font,o=r.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(ny(l)),s.metadata=n.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,i)}}])}(ft),ft.API.addSvgAsImage=function(n,e,r,i,a,o,s,l){if(isNaN(e)||isNaN(r))throw Cn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Cn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=a;var c=u.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Et.canvg?Promise.resolve(Et.canvg):Kw(()=>import("./index.es-BM7tJPqk.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(f)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),e,r,i,a,s,l)})},ft.API.putTotalPages=function(n){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(e,r);return this},ft.API.viewerPreferences=function(n,e){var r;n=n||{},e=e||!1;var i,a,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),u=[],c=0,f=0,d=0;function h(y,w){var _,b=!1;for(_=0;_<y.length;_+=1)y[_]===w&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var p=l.length;for(d=0;d<p;d+=1)r[l[d]].value=r[l[d]].defaultValue,r[l[d]].explicitSet=!1}if(Sn(n)==="object"){for(a in n)if(o=n[a],h(l,a)&&o!==void 0){if(r[a].type==="boolean"&&typeof o=="boolean")r[a].value=o;else if(r[a].type==="name"&&h(r[a].valueSet,o))r[a].value=o;else if(r[a].type==="integer"&&Number.isInteger(o))r[a].value=o;else if(r[a].type==="array"){for(c=0;c<o.length;c+=1)if(i=!0,o[c].length===1&&typeof o[c][0]=="number")u.push(String(o[c]-1));else if(o[c].length>1){for(f=0;f<o[c].length;f+=1)typeof o[c][f]!="number"&&(i=!1);i===!0&&u.push([o[c][0]-1,o[c][1]-1].join(" "))}r[a].value="["+u.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,w=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?w.push("/"+y+" /"+r[y].value):w.push("/"+y+" "+r[y].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+l.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+o+s+l+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(ft.API),function(n){var e=n.API,r=e.pdfEscape16=function(o,s){for(var l,u=s.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],d=0,h=o.length;d<h;++d){if(l=s.metadata.characterToGlyph(o.charCodeAt(d)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=o.charCodeAt(d),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(c[4-l.length],l)}return f.join("")},i=function(o){var s,l,u,c,f,d,h;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],d=0,h=(l=Object.keys(o).sort(function(p,y){return p-y})).length;d<h;d++)s=l[d],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+c+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var l=s.font,u=s.out,c=s.newObject,f=s.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="Identity-H"){for(var d=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",y=0;y<h.length;y++)p+=String.fromCharCode(h[y]);var w=c();f({data:p,addLength1:!0,objectId:w}),u("endobj");var _=c();f({data:i(l.metadata.toUnicode),addLength1:!0,objectId:_}),u("endobj");var b=c();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+ud(l.fontName)),u("/FontFile2 "+w+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var S=c();u("<<"),u("/Type /Font"),u("/BaseFont /"+ud(l.fontName)),u("/FontDescriptor "+b+" 0 R"),u("/W "+n.API.PDFObject.convert(d)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=c(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+_+" 0 R"),u("/BaseFont /"+ud(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+S+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var l=s.font,u=s.out,c=s.newObject,f=s.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var d=l.metadata.rawData,h="",p=0;p<d.length;p++)h+=String.fromCharCode(d[p]);var y=c();f({data:h,addLength1:!0,objectId:y}),u("endobj");var w=c();f({data:i(l.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var _=c();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+y+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+ud(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=c();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+ud(l.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(o)}]);var a=function(o){var s,l=o.text||"",u=o.x,c=o.y,f=o.options||{},d=o.mutex||{},h=d.pdfEscape,p=d.activeFontKey,y=d.fonts,w=p,_="",b=0,S="",A=y[w].encoding;if(y[w].encoding!=="Identity-H")return{text:l,x:u,y:c,options:f,mutex:d};for(S=l,w=p,Array.isArray(l)&&(S=l[0]),b=0;b<S.length;b+=1)y[w].metadata.hasOwnProperty("cmap")&&(s=y[w].metadata.cmap.unicode.codeMap[S[b].charCodeAt(0)]),s||S[b].charCodeAt(0)<256&&y[w].metadata.hasOwnProperty("Unicode")?_+=S[b]:_+="";var T="";return parseInt(w.slice(1))<14||A==="WinAnsiEncoding"?T=h(_,w).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(T=r(_,y[w])),d.isHex=!0,{text:T,x:u,y:c,options:f,mutex:d}};e.events.push(["postProcessText",function(o){var s=o.text||"",l=[],u={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?l.push([a(Object.assign({},u,{text:s[c][0]})).text,s[c][1],s[c][2]]):l.push(a(Object.assign({},u,{text:s[c]})).text);o.text=l}else o.text=a(Object.assign({},u,{text:s})).text}])}(ft),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},n.addFileToVFS=function(r,i){return e.call(this),this.internal.vFS[r]=i,this},n.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ft.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var a,o,s,l,u,c,f,d=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,A=0;this.__bidiEngine__={};var T=function(k){var R=k.charCodeAt(),j=R>>8,H=w[j];return H!==void 0?d[256*H+(255&R)]:j===252||j===253?"AL":b.test(j)?"L":j===8?"R":"N"},B=function(k){for(var R,j=0;j<k.length;j++){if((R=T(k.charAt(j)))==="L")return!1;if(R==="R")return!0}return!1},$=function(k,R,j,H){var oe,he,ye,re,ue=R[H];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(ue="AN");break;case"AL":S=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":H<1||H+1>=R.length||(oe=j[H-1])!=="EN"&&oe!=="AN"||(he=R[H+1])!=="EN"&&he!=="AN"?ue="N":S&&(he="AN"),ue=he===oe?he:"N";break;case"ES":ue=(oe=H>0?j[H-1]:"B")==="EN"&&H+1<R.length&&R[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&j[H-1]==="EN"){ue="EN";break}if(S){ue="N";break}for(ye=H+1,re=R.length;ye<re&&R[ye]==="ET";)ye++;ue=ye<re&&R[ye]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(re=R.length,ye=H+1;ye<re&&R[ye]==="NSM";)ye++;if(ye<re){var ae=k[H],ne=ae>=1425&&ae<=2303||ae===64286;if(oe=R[ye],ne&&(oe==="R"||oe==="AL")){ue="R";break}}}ue=H<1||(oe=R[H-1])==="B"?"N":j[H-1];break;case"B":S=!1,a=!0,ue=A;break;case"S":o=!0,ue="N"}return ue},L=function(k,R,j){var H=k.split("");return j&&I(H,j,{hiLevel:A}),H.reverse(),R&&R.reverse(),H.join("")},I=function(k,R,j){var H,oe,he,ye,re,ue=-1,ae=k.length,ne=0,M=[],Y=A?p:h,Z=[];for(S=!1,a=!1,o=!1,oe=0;oe<ae;oe++)Z[oe]=T(k[oe]);for(he=0;he<ae;he++){if(re=ne,M[he]=$(k,Z,M,he),H=240&(ne=Y[re][y[M[he]]]),ne&=15,R[he]=ye=Y[ne][5],H>0)if(H===16){for(oe=ue;oe<he;oe++)R[oe]=1;ue=-1}else ue=-1;if(Y[ne][6])ue===-1&&(ue=he);else if(ue>-1){for(oe=ue;oe<he;oe++)R[oe]=ye;ue=-1}Z[he]==="B"&&(R[he]=0),j.hiLevel|=ye}o&&function(ie,ce,pe){for(var Ee=0;Ee<pe;Ee++)if(ie[Ee]==="S"){ce[Ee]=A;for(var le=Ee-1;le>=0&&ie[le]==="WS";le--)ce[le]=A}}(Z,R,ae)},O=function(k,R,j,H,oe){if(!(oe.hiLevel<k)){if(k===1&&A===1&&!a)return R.reverse(),void(j&&j.reverse());for(var he,ye,re,ue,ae=R.length,ne=0;ne<ae;){if(H[ne]>=k){for(re=ne+1;re<ae&&H[re]>=k;)re++;for(ue=ne,ye=re-1;ue<ye;ue++,ye--)he=R[ue],R[ue]=R[ye],R[ye]=he,j&&(he=j[ue],j[ue]=j[ye],j[ye]=he);ne=re}ne++}}},U=function(k,R,j){var H=k.split(""),oe={hiLevel:A};return j||(j=[]),I(H,j,oe),function(he,ye,re){if(re.hiLevel!==0&&f)for(var ue,ae=0;ae<he.length;ae++)ye[ae]===1&&(ue=_.indexOf(he[ae]))>=0&&(he[ae]=_[ue+1])}(H,j,oe),O(2,H,R,j,oe),O(1,H,R,j,oe),H.join("")};return this.__bidiEngine__.doBidiReorder=function(k,R,j){if(function(oe,he){if(he)for(var ye=0;ye<oe.length;ye++)he[ye]=ye;l===void 0&&(l=B(oe)),c===void 0&&(c=B(oe))}(k,R),s||!u||c)if(s&&u&&l^c)A=l?1:0,k=L(k,R,j);else if(!s&&u&&c)A=l?1:0,k=U(k,R,j),k=L(k,R);else if(!s||l||u||c){if(s&&!u&&l^c)k=L(k,R),l?(A=0,k=U(k,R,j)):(A=1,k=U(k,R,j),k=L(k,R));else if(s&&l&&!u&&c)A=1,k=U(k,R,j),k=L(k,R);else if(!s&&!u&&l^c){var H=f;l?(A=1,k=U(k,R,j),A=0,f=!1,k=U(k,R,j),f=H):(A=0,k=U(k,R,j),k=L(k,R),A=1,f=!1,k=U(k,R,j),f=H,k=L(k,R))}}else A=0,k=U(k,R,j);else A=l?1:0,k=U(k,R,j);return k},this.__bidiEngine__.setOptions=function(k){k&&(s=k.isInputVisual,u=k.isOutputVisual,l=k.isInputRtl,c=k.isOutputRtl,f=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(s=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?s.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):s.push([r.doBidiReorder(a[l])]);i.text=s}else i.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function n(e){var r;if(this.rawData=e,r=this.contents=new fc(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new ime(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new qpe(this.contents),this.head=new Hpe(this),this.name=new Qpe(this),this.cmap=new V9(this),this.toUnicode={},this.hhea=new Kpe(this),this.maxp=new Zpe(this),this.hmtx=new Jpe(this),this.post=new Ype(this),this.os2=new Gpe(this),this.loca=new rme(this),this.glyf=new eme(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,r,i,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,u,c;for(c=[],s=0,l=(u=this.bbox).length;s<l;s++)e=u[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},n.prototype.widthOfString=function(e,r,i){var a,o,s,l;for(s=0,o=0,l=(e=""+e).length;0<=l?o<l:o>l;o=0<=l?++o:--o)a=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/r)||0;return s*(r/1e3)},n.prototype.lineHeight=function(e,r){var i;return r==null&&(r=!1),i=r?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n}();var cs,fc=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var r,i;for(i=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)i[r]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var r,i,a;for(a=[],r=0,i=e.length;0<=i?r<i:r>i;r=0<=i?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,r,i,a,o,s,l,u;return e=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^o)+65536*(255^s)+256*(255^l)+(255^u)+1):72057594037927940*e+281474976710656*r+1099511627776*i+4294967296*a+16777216*o+65536*s+256*l+u},n.prototype.writeLongLong=function(e){var r,i;return r=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var r,i;for(r=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)r.push(this.readByte());return r},n.prototype.write=function(e){var r,i,a,o;for(o=[],i=0,a=e.length;i<a;i++)r=e[i],o.push(this.writeByte(r));return o},n}(),qpe=function(){var n;function e(r){var i,a,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)i={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(r){var i,a,o,s,l,u,c,f,d,h,p,y,w;for(w in p=Object.keys(r).length,u=Math.log(2),d=16*Math.floor(Math.log(p)/u),s=Math.floor(d/u),f=16*p-d,(a=new fc).writeInt(this.scalarType),a.writeShort(p),a.writeShort(d),a.writeShort(s),a.writeShort(f),o=16*p,c=a.pos+o,l=null,y=[],r)for(h=r[w],a.writeString(w),a.writeInt(n(h)),a.writeInt(c),a.writeInt(h.length),y=y.concat(h),w==="head"&&(l=c),c+=h.length;c%4;)y.push(0),c++;return a.write(y),i=2981146554-n(a.data),a.pos=l+8,a.writeUInt32(i),a.data},n=function(r){var i,a,o,s;for(r=z9.call(r);r.length%4;)r.push(0);for(o=new fc(r),a=0,i=0,s=r.length;i<s;i=i+=4)a+=o.readUInt32();return 4294967295&a},e}(),Wpe={}.hasOwnProperty,Qs=function(n,e){for(var r in e)Wpe.call(e,r)&&(n[r]=e[r]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};cs=function(){function n(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Hpe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qs(n,cs),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var r;return(r=new fc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},n}(),AI=function(){function n(e,r){var i,a,o,s,l,u,c,f,d,h,p,y,w,_,b,S,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,o=function(){var T,B;for(B=[],u=T=0;0<=h?T<h:T>h;u=0<=h?++T:--T)B.push(e.readUInt16());return B}(),e.pos+=2,w=function(){var T,B;for(B=[],u=T=0;0<=h?T<h:T>h;u=0<=h?++T:--T)B.push(e.readUInt16());return B}(),c=function(){var T,B;for(B=[],u=T=0;0<=h?T<h:T>h;u=0<=h?++T:--T)B.push(e.readUInt16());return B}(),f=function(){var T,B;for(B=[],u=T=0;0<=h?T<h:T>h;u=0<=h?++T:--T)B.push(e.readUInt16());return B}(),a=(this.length-e.pos+this.offset)/2,l=function(){var T,B;for(B=[],u=T=0;0<=a?T<a:T>a;u=0<=a?++T:--T)B.push(e.readUInt16());return B}(),u=b=0,A=o.length;b<A;u=++b)for(_=o[u],i=S=y=w[u];y<=_?S<=_:S>=_;i=y<=_?++S:--S)f[u]===0?s=i+c[u]:(s=l[f[u]/2+(i-y)-(h-u)]||0)!==0&&(s+=c[u]),this.codeMap[i]=65535&s}e.pos=d}return n.encode=function(e,r){var i,a,o,s,l,u,c,f,d,h,p,y,w,_,b,S,A,T,B,$,L,I,O,U,k,R,j,H,oe,he,ye,re,ue,ae,ne,M,Y,Z,ie,ce,pe,Ee,le,Ae,Ne,we;switch(H=new fc,s=Object.keys(e).sort(function(Ue,be){return Ue-be}),r){case"macroman":for(w=0,_=function(){var Ue=[];for(y=0;y<256;++y)Ue.push(0);return Ue}(),S={0:0},o={},oe=0,ue=s.length;oe<ue;oe++)S[le=e[a=s[oe]]]==null&&(S[le]=++w),o[a]={old:e[a],new:S[e[a]]},_[a]=S[e[a]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(_),{charMap:o,subtable:H.data,maxGlyphID:w+1};case"unicode":for(R=[],d=[],A=0,S={},i={},b=c=null,he=0,ae=s.length;he<ae;he++)S[B=e[a=s[he]]]==null&&(S[B]=++A),i[a]={old:B,new:S[B]},l=S[B]-a,b!=null&&l===c||(b&&d.push(b),R.push(a),c=l),b=a;for(b&&d.push(b),d.push(65535),R.push(65535),U=2*(O=R.length),I=2*Math.pow(Math.log(O)/Math.LN2,2),h=Math.log(I/2)/Math.LN2,L=2*O-I,u=[],$=[],p=[],y=ye=0,ne=R.length;ye<ne;y=++ye){if(k=R[y],f=d[y],k===65535){u.push(0),$.push(0);break}if(k-(j=i[k].new)>=32768)for(u.push(0),$.push(2*(p.length+O-y)),a=re=k;k<=f?re<=f:re>=f;a=k<=f?++re:--re)p.push(i[a].new);else u.push(j-k),$.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*O+2*p.length),H.writeUInt16(0),H.writeUInt16(U),H.writeUInt16(I),H.writeUInt16(h),H.writeUInt16(L),pe=0,M=d.length;pe<M;pe++)a=d[pe],H.writeUInt16(a);for(H.writeUInt16(0),Ee=0,Y=R.length;Ee<Y;Ee++)a=R[Ee],H.writeUInt16(a);for(Ae=0,Z=u.length;Ae<Z;Ae++)l=u[Ae],H.writeUInt16(l);for(Ne=0,ie=$.length;Ne<ie;Ne++)T=$[Ne],H.writeUInt16(T);for(we=0,ce=p.length;we<ce;we++)w=p[we],H.writeUInt16(w);return{charMap:i,subtable:H.data,maxGlyphID:A+1}}},n}(),V9=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qs(n,cs),n.prototype.tag="cmap",n.prototype.parse=function(e){var r,i,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new AI(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},n.encode=function(e,r){var i,a;return r==null&&(r="macroman"),i=AI.encode(e,r),(a=new fc).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},n}(),Kpe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qs(n,cs),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n}(),Gpe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qs(n,cs),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(e.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n}(),Ype=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qs(n,cs),n.prototype.tag="post",n.prototype.parse=function(e){var r,i,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(e.readUInt32());return u}).call(this)}},n}(),Xpe=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Qpe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qs(n,cs),n.prototype.tag="name",n.prototype.parse=function(e){var r,i,a,o,s,l,u,c,f,d,h;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(u={},o=f=0,d=i.length;f<d;o=++f)a=i[o],e.pos=a.offset,c=e.readString(a.length),s=new Xpe(c,a),u[h=a.nameID]==null&&(u[h]=[]),u[a.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},n}(),Zpe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qs(n,cs),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n}(),Jpe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qs(n,cs),n.prototype.tag="hmtx",n.prototype.parse=function(e){var r,i,a,o,s,l,u;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)f.push(e.readInt16());return f}(),this.widths=(function(){var c,f,d,h;for(h=[],c=0,f=(d=this.metrics).length;c<f;c++)o=d[c],h.push(o.advance);return h}).call(this),i=this.widths[this.widths.length-1],u=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)u.push(this.widths.push(i));return u},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n}(),z9=[].slice,eme=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qs(n,cs),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var r,i,a,o,s,l,u,c,f,d;return e in this.cache?this.cache[e]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+i,s=(l=new fc(r.read(a))).readShort(),c=l.readShort(),d=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[e]=s===-1?new nme(l,c,d,u,f):new tme(l,s,c,d,u,f),this.cache[e]))},n.prototype.encode=function(e,r,i){var a,o,s,l,u;for(s=[],o=[],l=0,u=r.length;l<u;l++)a=e[r[l]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},n}(),tme=function(){function n(e,r,i,a,o,s){this.raw=e,this.numberOfContours=r,this.xMin=i,this.yMin=a,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),nme=function(){function n(e,r,i,a,o){var s,l;for(this.raw=e,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return n.prototype.encode=function(){var e,r,i;for(r=new fc(z9.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)r.pos=this.glyphOffsets[e];return r.data},n}(),rme=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qs(n,cs),n.prototype.tag="loca",n.prototype.parse=function(e){var r,i;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<r.length&&r[o]==s){++o,i[s]=a;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(a+=u)}for(var c=new Array(4*i.length),f=0;f<i.length;++f)c[4*f+3]=255&i[f],c[4*f+2]=(65280&i[f])>>8,c[4*f+1]=(16711680&i[f])>>16,c[4*f]=(4278190080&i[f])>>24;return c},n}(),ime=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,r,i,a,o;for(r in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[r],e[r]=a[i];return e},n.prototype.glyphsFor=function(e){var r,i,a,o,s,l,u;for(a={},s=0,l=e.length;s<l;s++)a[o=e[s]]=this.font.glyf.glyphFor(o);for(o in r=[],a)(i=a[o])!=null&&i.compound&&r.push.apply(r,i.glyphIDs);if(r.length>0)for(o in u=this.glyphsFor(r))i=u[o],a[o]=i;return a},n.prototype.encode=function(e,r){var i,a,o,s,l,u,c,f,d,h,p,y,w,_,b;for(a in i=V9.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},b=i.charMap)p[(u=b[a]).old]=u.new;for(y in h=i.maxGlyphID,s)y in p||(p[y]=h++);return f=function(S){var A,T;for(A in T={},S)T[S[A]]=A;return T}(p),d=Object.keys(f).sort(function(S,A){return S-A}),w=function(){var S,A,T;for(T=[],S=0,A=d.length;S<A;S++)l=d[S],T.push(f[l]);return T}(),o=this.font.glyf.encode(s,w,p),c=this.font.loca.encode(o.offsets,w),_={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},n}();ft.API.PDFObject=function(){var n;function e(){}return n=function(r,i){return(Array(i+1).join("0")+r).slice(-i)},e.convert=function(r){var i,a,o,s;if(Array.isArray(r))return"["+function(){var l,u,c;for(c=[],l=0,u=r.length;l<u;l++)i=r[l],c.push(e.convert(i));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+n(r.getUTCFullYear(),4)+n(r.getUTCMonth(),2)+n(r.getUTCDate(),2)+n(r.getUTCHours(),2)+n(r.getUTCMinutes(),2)+n(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in o=["<<"],r)s=r[a],o.push("/"+a+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+r},e}();function q9(n,e,r,i,a){i=i||{};var o=1.15,s=a.internal.scaleFactor,l=a.internal.getFontSize()/s,u=a.getLineHeightFactor?a.getLineHeightFactor():o,c=l*u,f=/\r\n|\r|\n/g,d="",h=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(d=typeof n=="string"?n.split(f):n,h=d.length||1),r+=l*(2-o),i.valign==="middle"?r-=h/2*c:i.valign==="bottom"&&(r-=h*c),i.halign==="center"||i.halign==="right"){var p=l;if(i.halign==="center"&&(p*=.5),d&&h>=1){for(var y=0;y<d.length;y++)a.text(d[y],e-a.getStringUnitWidth(d[y])*p,r),r+=c;return a}e-=a.getStringUnitWidth(n)*p}return i.halign==="justify"?a.text(n,e,r,{maxWidth:i.maxWidth||100,align:"justify"}):a.text(n,e,r),a}var SI={},Ud=function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:SI=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,r){var i,a,o;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),l=s.fontStyle,u=s.fontName;if(e.font&&(u=e.font),e.fontStyle){l=e.fontStyle;var c=this.getFontList()[u];c&&c.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),l=c[0])}if(this.jsPDFDocument.setFont(u,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var f=n.unifyColor(e.fillColor);f&&(i=this.jsPDFDocument).setFillColor.apply(i,f),f=n.unifyColor(e.textColor),f&&(a=this.jsPDFDocument).setTextColor.apply(a,f),f=n.unifyColor(e.lineColor),f&&(o=this.jsPDFDocument).setDrawColor.apply(o,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,r,i){return this.jsPDFDocument.splitTextToSize(e,r,i)},n.prototype.rect=function(e,r,i,a,o){return this.jsPDFDocument.rect(e,r,i,a,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return SI||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),G_=function(n,e){return G_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},G_(n,e)};function W9(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");G_(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var H9=function(n){W9(e,n);function e(r){var i=n.call(this)||this;return i._element=r,i}return e}(Array);function ame(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function ome(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function T0(n,e,r){r.applyStyles(e,!0);var i=Array.isArray(n)?n:[n],a=i.map(function(o){return r.getTextWidth(o)}).reduce(function(o,s){return Math.max(o,s)},0);return a}function K9(n,e,r,i){var a=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:a,lineColor:o});var s=G9(a,!1);s&&n.rect(r.x,r.y,e.getWidth(n.pageSize().width),i.y-r.y,s)}function G9(n,e){var r=n>0,i=e||e===0;return r&&i?"DF":r?"S":i?"F":null}function b2(n,e){var r,i,a,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(r=n.left)!==null&&r!==void 0?r:e,top:(i=n.top)!==null&&i!==void 0?i:e,right:(a=n.right)!==null&&a!==void 0?a:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function Y9(n,e){var r=b2(e.settings.margin,0);return n.pageSize().width-(r.left+r.right)}function sme(n,e,r,i,a){var o={},s=1.3333333333333333,l=mb(e,function(A){return a.getComputedStyle(A).backgroundColor});l!=null&&(o.fillColor=l);var u=mb(e,function(A){return a.getComputedStyle(A).color});u!=null&&(o.textColor=u);var c=ume(i,r);c&&(o.cellPadding=c);var f="borderTopColor",d=s*r,h=i.borderTopWidth;if(i.borderBottomWidth===h&&i.borderRightWidth===h&&i.borderLeftWidth===h){var p=(parseFloat(h)||0)/d;p&&(o.lineWidth=p)}else o.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/d,right:(parseFloat(i.borderRightWidth)||0)/d,bottom:(parseFloat(i.borderBottomWidth)||0)/d,left:(parseFloat(i.borderLeftWidth)||0)/d},o.lineWidth.top||(o.lineWidth.right?f="borderRightColor":o.lineWidth.bottom?f="borderBottomColor":o.lineWidth.left&&(f="borderLeftColor"));var y=mb(e,function(A){return a.getComputedStyle(A)[f]});y!=null&&(o.lineColor=y);var w=["left","right","center","justify"];w.indexOf(i.textAlign)!==-1&&(o.halign=i.textAlign),w=["middle","bottom","top"],w.indexOf(i.verticalAlign)!==-1&&(o.valign=i.verticalAlign);var _=parseInt(i.fontSize||"");isNaN(_)||(o.fontSize=_/s);var b=lme(i);b&&(o.fontStyle=b);var S=(i.fontFamily||"").toLowerCase();return n.indexOf(S)!==-1&&(o.font=S),o}function lme(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function mb(n,e){var r=X9(n,e);if(!r)return null;var i=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var a=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],o=parseInt(i[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function X9(n,e){var r=e(n);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?n.parentElement==null?null:X9(n.parentElement,e):r}function ume(n,e){var r=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/e),a=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=r.map(function(l){return parseInt(l||"0")/i}),s=b2(o,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function Q9(n,e,r,i,a){var o,s;i===void 0&&(i=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var u=Object.keys(n.getFontList()),c=n.scaleFactor(),f=[],d=[],h=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:f,body:d,foot:h};for(var p=0;p<l.rows.length;p++){var y=l.rows[p],w=(s=(o=y==null?void 0:y.parentElement)===null||o===void 0?void 0:o.tagName)===null||s===void 0?void 0:s.toLowerCase(),_=cme(u,c,r,y,i,a);_&&(w==="thead"?f.push(_):w==="tfoot"?h.push(_):d.push(_))}return{head:f,body:d,foot:h}}function cme(n,e,r,i,a,o){for(var s=new H9(i),l=0;l<i.cells.length;l++){var u=i.cells[l],c=r.getComputedStyle(u);if(a||c.display!=="none"){var f=void 0;o&&(f=sme(n,u,e,c,r)),s.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:f,_element:u,content:fme(u)})}}var d=r.getComputedStyle(i);if(s.length>0&&(a||d.display!=="none"))return s}function fme(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function dme(n,e,r){for(var i=0,a=[n,e,r];i<a.length;i++){var o=a[i];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function El(n,e,r,i,a){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),s=1;s<arguments.length;s++){var l=arguments[s];if(l!=null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])}return o}function hme(n,e){var r=new Ud(n),i=r.getDocumentOptions(),a=r.getGlobalOptions();dme(a,i,e);var o=El({},a,i,e),s;typeof window<"u"&&(s=window);var l=pme(a,i,e),u=mme(a,i,e),c=gme(r,o),f=yme(r,o,s);return{id:e.tableId,content:f,hooks:u,styles:l,settings:c}}function pme(n,e,r){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(u){if(u==="columnStyles"){var c=n[u],f=e[u],d=r[u];i.columnStyles=El({},c,f,d)}else{var h=[n,e,r],p=h.map(function(y){return y[u]||{}});i[u]=El({},p[0],p[1],p[2])}},o=0,s=Object.keys(i);o<s.length;o++){var l=s[o];a(l)}return i}function mme(n,e,r){for(var i=[n,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,s=i;o<s.length;o++){var l=s[o];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function gme(n,e){var r,i,a,o,s,l,u,c,f,d,h,p,y=b2(e.margin,40/n.scaleFactor()),w=(r=vme(n,e.startY))!==null&&r!==void 0?r:y.top,_;e.showFoot===!0?_="everyPage":e.showFoot===!1?_="never":_=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var b;e.showHead===!0?b="everyPage":e.showHead===!1?b="never":b=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var S=(o=e.useCss)!==null&&o!==void 0?o:!1,A=e.theme||(S?"plain":"striped"),T=!!e.horizontalPageBreak,B=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:S,theme:A,startY:w,margin:y,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:b,showFoot:_,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(h=e.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:T,horizontalPageBreakRepeat:B,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function vme(n,e){var r=n.getLastAutoTable(),i=n.scaleFactor(),a=n.pageNumber(),o=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;o=s===a}return typeof e=="number"?e:(e==null||e===!1)&&o&&(r==null?void 0:r.finalY)!=null?r.finalY+20/i:null}function yme(n,e,r){var i=e.head||[],a=e.body||[],o=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(r){var l=Q9(n,e.html,r,s,e.useCss)||{};i=l.head||i,a=l.body||i,o=l.foot||i}else console.error("Cannot parse html in non browser environment")}var u=e.columns||wme(i,a,o);return{columns:u,head:i,body:a,foot:o}}function wme(n,e,r){var i=n[0]||e[0]||r[0]||[],a=[];return Object.keys(i).filter(function(o){return o!=="_element"}).forEach(function(o){var s=1,l;Array.isArray(i)?l=i[parseInt(o)]:l=i[o],typeof l=="object"&&!Array.isArray(l)&&(s=(l==null?void 0:l.colSpan)||1);for(var u=0;u<s;u++){var c=void 0;Array.isArray(i)?c=a.length:c=o+(u>0?"_".concat(u):"");var f={dataKey:c};a.push(f)}}),a}var Y_=function(){function n(e,r,i){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=i,this.doc=e.getDocument()}return n}(),bme=function(n){W9(e,n);function e(r,i,a,o,s,l){var u=n.call(this,r,i,l)||this;return u.cell=a,u.row=o,u.column=s,u.section=o.section,u}return e}(Y_),_me=function(){function n(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,i){return r+i.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,i){return r+i.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,r,i,a,o,s){for(var l=0,u=r;l<u.length;l++){var c=u[l],f=new bme(e,this,i,a,o,s),d=c(f)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],d)return!1}return!0},n.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var i=0,a=this.hooks.didDrawPage;i<a.length;i++){var o=a[i];o(new Y_(e,this,r))}},n.prototype.callWillDrawPageHooks=function(e,r){for(var i=0,a=this.hooks.willDrawPage;i<a.length;i++){var o=a[i];o(new Y_(e,this,r))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return r}else{var i=this.settings.margin;return e-i.left-i.right}},n}(),Z9=function(){function n(e,r,i,a,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof H9&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=i,this.cells=a,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(i,a){var o;return Math.max(i,((o=r.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(i){var a=r.cells[i.index];return a?a.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},n.prototype.getMinimumRowHeight=function(e,r){var i=this;return e.reduce(function(a,o){var s=i.cells[o.index];if(!s)return 0;var l=r.getLineHeight(s.styles.fontSize),u=s.padding("vertical"),c=u+l;return c>a?c:a},0)},n}(),J9=function(){function n(e,r,i){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=i,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=o!=null?""+o:"",l=/\r\n|\r|\n/g;this.text=s.split(l)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");i=this.x+a/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},n.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var i=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,o=i*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var r=b2(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},n}(),xme=function(){function n(e,r,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=i}return n.prototype.getMaxCustomCellWidth=function(e){for(var r=0,i=0,a=e.allRows();i<a.length;i++){var o=a[i],s=o.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},n}();function Ame(n,e){Sme(n,e);var r=[],i=0;e.columns.forEach(function(o){var s=o.getMaxCustomCellWidth(e);s?o.width=s:(o.width=o.wrappedWidth,r.push(o)),i+=o.width});var a=e.getWidth(n.pageSize().width)-i;a&&(a=X_(r,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=X_(r,a,function(o){return o.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/n.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),Pme(e),Nme(e,n),Eme(e)}function Sme(n,e){var r=n.scaleFactor(),i=e.settings.horizontalPageBreak,a=Y9(n,e);e.allRows().forEach(function(o){for(var s=0,l=e.columns;s<l.length;s++){var u=l[s],c=o.cells[u.index];if(c){var f=e.hooks.didParseCell;e.callCellHooks(n,f,c,o,u,null);var d=c.padding("horizontal");c.contentWidth=T0(c.text,c.styles,n)+d;var h=T0(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,n);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||i===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(o){for(var s=0,l=e.columns;s<l.length;s++){var u=l[s],c=o.cells[u.index];if(c&&c.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,c.wrappedWidth),u.minWidth=Math.max(u.minWidth,c.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,c.minReadableWidth);else{var f=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},d=f.cellWidth||f.minCellWidth;d&&typeof d=="number"&&(u.minWidth=d,u.wrappedWidth=d)}c&&(c.colSpan>1&&!u.minWidth&&(u.minWidth=c.minWidth),c.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=c.minWidth))}})}function X_(n,e,r){for(var i=e,a=n.reduce(function(p,y){return p+y.wrappedWidth},0),o=0;o<n.length;o++){var s=n[o],l=s.wrappedWidth/a,u=i*l,c=s.width+u,f=r(s),d=c<f?f:c;e-=d-s.width,s.width=d}if(e=Math.round(e*1e10)/1e10,e){var h=n.filter(function(p){return e<0?p.width>r(p):!0});h.length&&(e=X_(h,e,r))}return e}function Eme(n){for(var e={},r=1,i=n.allRows(),a=0;a<i.length;a++)for(var o=i[a],s=0,l=n.columns;s<l.length;s++){var u=l[s],c=e[u.index];if(r>1)r--,delete o.cells[u.index];else if(c)c.cell.height+=o.height,r=c.cell.colSpan,delete o.cells[u.index],c.left--,c.left<=1&&delete e[u.index];else{var f=o.cells[u.index];if(!f)continue;if(f.height=o.height,f.rowSpan>1){var d=i.length-a,h=f.rowSpan>d?d:f.rowSpan;e[u.index]={cell:f,left:h,row:o}}}}}function Pme(n){for(var e=n.allRows(),r=0;r<e.length;r++)for(var i=e[r],a=null,o=0,s=0,l=0;l<n.columns.length;l++){var u=n.columns[l];if(s-=1,s>1&&n.columns[l+1])o+=u.width,delete i.cells[u.index];else if(a){var c=a;delete i.cells[u.index],a=null,c.width=u.width+o}else{var c=i.cells[u.index];if(!c)continue;if(s=c.colSpan,o=0,c.colSpan>1){a=c,o+=u.width;continue}c.width=u.width+o}}}function Nme(n,e){for(var r={count:0,height:0},i=0,a=n.allRows();i<a.length;i++){for(var o=a[i],s=0,l=n.columns;s<l.length;s++){var u=l[s],c=o.cells[u.index];if(c){e.applyStyles(c.styles,!0);var f=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,f+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=EI(c.text,f,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=EI(c.text,f,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var d=c.styles.overflow(c.text,f);typeof d=="string"?c.text=[d]:c.text=d}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>o.height&&(o.height=h)}}r.count--}}function EI(n,e,r,i,a){return n.map(function(o){return kme(o,e,r,i,a)})}function kme(n,e,r,i,a){var o=1e4*i.scaleFactor();if(e=Math.ceil(e*o)/o,e>=T0(n,r,i))return n;for(;e<T0(n+a,r,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+a}function Tme(n,e){var r=new Ud(n),i=Cme(e,r.scaleFactor()),a=new _me(e,i);return Ame(r,a),r.applyStyles(r.userStyles),a}function Cme(n,e){var r=n.content,i=Ome(r.columns);if(r.head.length===0){var a=PI(i,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=PI(i,"foot");a&&r.foot.push(a)}var o=n.settings.theme,s=n.styles;return{columns:i,head:gb("head",r.head,i,s,o,e),body:gb("body",r.body,i,s,o,e),foot:gb("foot",r.foot,i,s,o,e)}}function gb(n,e,r,i,a,o){var s={},l=e.map(function(u,c){for(var f=0,d={},h=0,p=0,y=0,w=r;y<w.length;y++){var _=w[y];if(s[_.index]==null||s[_.index].left===0)if(p===0){var b=void 0;Array.isArray(u)?b=u[_.index-h-f]:b=u[_.dataKey];var S={};typeof b=="object"&&!Array.isArray(b)&&(S=(b==null?void 0:b.styles)||{});var A=jme(n,_,c,a,i,o,S),T=new J9(b,A,n);d[_.dataKey]=T,d[_.index]=T,p=T.colSpan-1,s[_.index]={left:T.rowSpan-1,times:p}}else p--,h++;else s[_.index].left--,p=s[_.index].times,f++}return new Z9(u,c,n,d)});return l}function PI(n,e){var r={};return n.forEach(function(i){if(i.raw!=null){var a=Ime(e,i.raw);a!=null&&(r[i.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Ime(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function Ome(n){return n.map(function(e,r){var i,a;return typeof e=="object"?a=(i=e.dataKey)!==null&&i!==void 0?i:r:a=r,new xme(a,e,r)})}function jme(n,e,r,i,a,o,s){var l=ome(i),u;n==="head"?u=a.headStyles:n==="body"?u=a.bodyStyles:n==="foot"&&(u=a.footStyles);var c=El({},l.table,l[n],a.styles,u),f=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},d=n==="body"?f:{},h=n==="body"&&r%2===0?El({},l.alternateRow,a.alternateRowStyles):{},p=ame(o),y=El({},p,c,h,d);return El(y,s)}function Lme(n,e,r){var i;r===void 0&&(r={});var a=Y9(n,e),o=new Map,s=[],l=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(h){var p=e.columns.find(function(y){return y.dataKey===h||y.index===h});p&&!o.has(p.index)&&(o.set(p.index,!0),s.push(p.index),l.push(e.columns[p.index]),a-=p.wrappedWidth)});for(var c=!0,f=(i=r==null?void 0:r.start)!==null&&i!==void 0?i:0;f<e.columns.length;){if(o.has(f)){f++;continue}var d=e.columns[f].wrappedWidth;if(c||a>=d)c=!1,s.push(f),l.push(e.columns[f]),a-=d;else break;f++}return{colIndexes:s,columns:l,lastIndex:f-1}}function Dme(n,e){for(var r=[],i=0;i<e.columns.length;i++){var a=Lme(n,e,{start:i});a.columns.length&&(r.push(a),i=a.lastIndex)}return r}function Rme(n,e){var r=e.settings,i=r.startY,a=r.margin,o={x:a.left,y:i},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=i+a.bottom+s;if(r.pageBreak==="avoid"){var u=e.body,c=u.reduce(function(h,p){return h+p.height},0);l+=c}var f=new Ud(n);(r.pageBreak==="always"||r.startY!=null&&l>f.pageSize().height)&&(tB(f),o.y=a.top),e.callWillDrawPageHooks(f,o);var d=El({},o);e.startPageNumber=f.pageNumber(),r.horizontalPageBreak?Mme(f,e,d,o):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(h){return Wl(f,e,h,o,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(h,p){var y=p===e.body.length-1;C0(f,e,h,y,d,o,e.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(h){return Wl(f,e,h,o,e.columns)})),K9(f,e,d,o),e.callEndPageHooks(f,o),e.finalY=o.y,n.lastAutoTable=e,f.applyStyles(f.userStyles)}function Mme(n,e,r,i){var a=Dme(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,f){n.applyStyles(n.userStyles),f>0?Jp(n,e,r,i,c.columns,!0):NI(n,e,i,c.columns),Fme(n,e,r,i,c.columns),vb(n,e,i,c.columns)});else for(var s=-1,l=a[0],u=function(){var c=s;if(l){n.applyStyles(n.userStyles);var f=l.columns;s>=0?Jp(n,e,r,i,f,!0):NI(n,e,i,f),c=kI(n,e,s+1,i,f),vb(n,e,i,f)}var d=c-s;a.slice(1).forEach(function(h){n.applyStyles(n.userStyles),Jp(n,e,r,i,h.columns,!0),kI(n,e,s+1,i,h.columns,d),vb(n,e,i,h.columns)}),s=c};s<e.body.length-1;)u()}function NI(n,e,r,i){var a=e.settings;n.applyStyles(n.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(o){return Wl(n,e,o,r,i)})}function Fme(n,e,r,i,a){n.applyStyles(n.userStyles),e.body.forEach(function(o,s){var l=s===e.body.length-1;C0(n,e,o,l,r,i,a)})}function kI(n,e,r,i,a,o){n.applyStyles(n.userStyles),o=o??e.body.length;var s=Math.min(r+o,e.body.length),l=-1;return e.body.slice(r,s).forEach(function(u,c){var f=r+c===e.body.length-1,d=eB(n,e,f,i);u.canEntireRowFit(d,a)&&(Wl(n,e,u,i,a),l=r+c)}),l}function vb(n,e,r,i){var a=e.settings;n.applyStyles(n.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(o){return Wl(n,e,o,r,i)})}function Bme(n,e,r){var i=r.getLineHeight(n.styles.fontSize),a=n.padding("vertical"),o=Math.floor((e-a)/i);return Math.max(0,o)}function Ume(n,e,r,i){var a={};n.spansMultiplePages=!0,n.height=0;for(var o=0,s=0,l=r.columns;s<l.length;s++){var u=l[s],c=n.cells[u.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var f=new J9(c.raw,c.styles,c.section);f=El(f,c),f.text=[];var d=Bme(c,e,i);c.text.length>d&&(f.text=c.text.splice(d,c.text.length));var h=i.scaleFactor(),p=i.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,p),c.contentHeight>=e&&(c.contentHeight=e,f.styles.minCellHeight-=e),c.contentHeight>n.height&&(n.height=c.contentHeight),f.contentHeight=f.getContentHeight(h,p),f.contentHeight>o&&(o=f.contentHeight),a[u.index]=f}}var y=new Z9(n.raw,-1,n.section,a,!0);y.height=o;for(var w=0,_=r.columns;w<_.length;w++){var u=_[w],f=y.cells[u.index];f&&(f.height=y.height);var c=n.cells[u.index];c&&(c.height=n.height)}return y}function $me(n,e,r,i){var a=n.pageSize().height,o=i.settings.margin,s=o.top+o.bottom,l=a-s;e.section==="body"&&(l-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var u=e.getMinimumRowHeight(i.columns,n),c=u<r;if(u>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var f=e.hasRowSpan(i.columns),d=e.getMaxCellHeight(i.columns)>l;return d?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||i.settings.rowPageBreak==="avoid")}function C0(n,e,r,i,a,o,s){var l=eB(n,e,i,o);if(r.canEntireRowFit(l,s))Wl(n,e,r,o,s);else if($me(n,r,l,e)){var u=Ume(r,l,e,n);Wl(n,e,r,o,s),Jp(n,e,a,o,s),C0(n,e,u,i,a,o,s)}else Jp(n,e,a,o,s),C0(n,e,r,i,a,o,s)}function Wl(n,e,r,i,a){i.x=e.settings.margin.left;for(var o=0,s=a;o<s.length;o++){var l=s[o],u=r.cells[l.index];if(!u){i.x+=l.width;continue}n.applyStyles(u.styles),u.x=i.x,u.y=i.y;var c=e.callCellHooks(n,e.hooks.willDrawCell,u,r,l,i);if(c===!1){i.x+=l.width;continue}Vme(n,u,i);var f=u.getTextPos();q9(u.text,f.x,f.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,u,r,l,i),i.x+=l.width}i.y+=r.height}function Vme(n,e,r){var i=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var a=G9(i.lineWidth,i.fillColor);a&&n.rect(e.x,r.y,e.width,e.height,a)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(e.x,r.y,e.width,e.height,"F"),zme(n,e,r,i.lineWidth))}function zme(n,e,r,i){var a,o,s,l;i.top&&(a=r.x,o=r.y,s=r.x+e.width,l=r.y,i.right&&(s+=.5*i.right),i.left&&(a-=.5*i.left),u(i.top,a,o,s,l)),i.bottom&&(a=r.x,o=r.y+e.height,s=r.x+e.width,l=r.y+e.height,i.right&&(s+=.5*i.right),i.left&&(a-=.5*i.left),u(i.bottom,a,o,s,l)),i.left&&(a=r.x,o=r.y,s=r.x,l=r.y+e.height,i.top&&(o-=.5*i.top),i.bottom&&(l+=.5*i.bottom),u(i.left,a,o,s,l)),i.right&&(a=r.x+e.width,o=r.y,s=r.x+e.width,l=r.y+e.height,i.top&&(o-=.5*i.top),i.bottom&&(l+=.5*i.bottom),u(i.right,a,o,s,l));function u(c,f,d,h,p){n.getDocument().setLineWidth(c),n.getDocument().line(f,d,h,p,"S")}}function eB(n,e,r,i){var a=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),n.pageSize().height-i.y-a}function Jp(n,e,r,i,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(l){return Wl(n,e,l,i,a)}),e.callEndPageHooks(n,i);var s=e.settings.margin;K9(n,e,r,i),tB(n),e.pageNumber++,i.x=s.left,i.y=s.top,r.y=s.top,e.callWillDrawPageHooks(n,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Wl(n,e,l,i,a)}),n.applyStyles(n.userStyles))}function tB(n){var e=n.pageNumber();n.setPage(e+1);var r=n.pageNumber();return r===e?(n.addPage(),!0):!1}function qme(n){n.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e[0],a=hme(this,i),o=Tme(this,a);return Rme(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,r,i,a){q9(e,r,i,a,this)},n.API.autoTableSetDefaults=function(e){return Ud.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,r){Ud.setDefaults(e,r)},n.API.autoTableHtmlToJson=function(e,r){var i;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Ud(this),o=Q9(a,e,window,r,!1),s=o.head,l=o.body,u=((i=s[0])===null||i===void 0?void 0:i.map(function(c){return c.content}))||[];return{columns:u,rows:l,data:l}}}var yb;try{if(typeof window<"u"&&window){var TI=window,CI=TI.jsPDF||((yb=TI.jspdf)===null||yb===void 0?void 0:yb.jsPDF);CI&&qme(CI)}}catch(n){console.error("Could not apply autoTable plugin",n)}const nB=C.createContext(void 0),Wme=()=>{const n=C.useContext(nB);if(!n)throw new Error("useDropdown must be used within a DropdownProvider");return n},Hme=({children:n})=>{const[e,r]=C.useState(null),i=C.useCallback(l=>e===l,[e]),a=C.useCallback(l=>{r(l)},[e]),o=C.useCallback(l=>{e===l&&r(null)},[e]),s=C.useCallback(()=>{r(null)},[e]);return v.jsx(nB.Provider,{value:{openDropdownId:e,setOpenDropdownId:r,isDropdownOpen:i,openDropdown:a,closeDropdown:o,closeAllDropdowns:s},children:n})},_p=[{value:"documentacao",label:"Documentao",color:"#ffffff",bgColor:"#6c757d"},{value:"agendado",label:"Agendado",color:"#ffffff",bgColor:"#17a2b8"},{value:"a-embarcar",label:"A Embarcar",color:"#8b5a00",bgColor:"#ffd166"},{value:"embarcando",label:"Embarcando",color:"#ffffff",bgColor:"#fd7e14"},{value:"em-transito",label:"Em Trnsito",color:"#ffffff",bgColor:"#118ab2"},{value:"desembarcando",label:"Desembarcando",color:"#ffffff",bgColor:"#6f42c1"},{value:"em-entrega",label:"Em Entrega",color:"#ffffff",bgColor:"#20c997"},{value:"concluido",label:"Concludo",color:"#ffffff",bgColor:"#073b4c"},{value:"atrasado",label:"Atrasado",color:"#ffffff",bgColor:"#dc3545"},{value:"cancelado",label:"Cancelado",color:"#ffffff",bgColor:"#6c757d"},{value:"suspenso",label:"Suspenso",color:"#ffffff",bgColor:"#ffc107"}],Kme=({currentStatus:n,onStatusChange:e,disabled:r=!1,instanceId:i})=>{const a=C.useRef(null),o=C.useRef(null),s=C.useRef(null),{openDropdownId:l,isDropdownOpen:u,openDropdown:c,closeDropdown:f,closeAllDropdowns:d}=Wme(),[h,p]=C.useState(!1),[y,w]=C.useState(!1),[_,b]=C.useState(""),[S,A]=C.useState({top:0,left:0,direction:"down"}),T=u(i),B=_p.find(H=>H.value===n)||_p[0],$=_p.find(H=>H.value===_),L=()=>{if(!o.current||!s.current)return;const H=o.current.getBoundingClientRect(),oe=Math.min(300,_p.length*42+20),he=window.innerHeight,ye=window.innerWidth,re=Math.max(10,Math.min(H.left+H.width/2-80,ye-170)),ue=he-H.bottom,ae=H.top;let ne,M;ue>=oe||ue>ae?(ne=H.bottom+4,M="down",ne+oe>he&&(ne=Math.max(10,he-oe-10))):(ne=H.top-oe-4,M="up",ne<10&&(ne=H.bottom+4,M="down")),A({top:ne,left:re,direction:M})},I=async()=>{if(_){p(!0);try{await e(_),w(!1),b("")}catch(H){console.error("Erro ao confirmar mudana de status:",H)}finally{p(!1)}}},O=()=>{w(!1),b("")},U=(H,oe)=>{oe.preventDefault(),oe.stopPropagation(),H!==n&&(b(H),w(!0)),f(i)},k=H=>{H.preventDefault(),H.stopPropagation(),!r&&(T?f(i):(c(i),setTimeout(()=>{L()},0)))},R=H=>{(H.key==="Enter"||H.key===" ")&&(H.preventDefault(),H.stopPropagation(),T?f(i):(c(i),setTimeout(()=>{L()},0)))},j=H=>{H.preventDefault(),H.stopPropagation(),d()};return C.useEffect(()=>{if(!T)return;const H=()=>L(),oe=()=>L(),he=ye=>{ye.key==="Escape"&&(y?O():d())};return document.addEventListener("keydown",he),window.addEventListener("scroll",H,!0),window.addEventListener("resize",oe),()=>{document.removeEventListener("keydown",he),window.removeEventListener("scroll",H,!0),window.removeEventListener("resize",oe)}},[T,y,d]),v.jsxs(v.Fragment,{children:[T&&v.jsx("div",{className:"status-dropdown-overlay",onClick:j}),y&&v.jsx("div",{className:"status-confirmation-overlay",onClick:O}),v.jsxs("div",{className:"status-selector-container",ref:a,children:[v.jsxs("button",{ref:o,className:`status-trigger ${r?"disabled":""} ${T?"open":""}`,onClick:k,onKeyDown:R,disabled:r,"aria-expanded":T,"aria-haspopup":"listbox",style:{backgroundColor:B.bgColor,color:B.color},type:"button",children:[v.jsx("span",{className:"status-label",children:B.label}),!r&&v.jsx(ND,{size:14,className:`chevron ${T?"rotated":""}`})]}),T&&!r&&v.jsx("div",{ref:s,className:`status-dropdown ${S.direction}`,role:"listbox",style:{position:"fixed",top:S.top,left:S.left,zIndex:9999999},children:_p.filter(H=>H.value!==n).map(H=>v.jsx("button",{className:"status-option",onClick:oe=>U(H.value,oe),style:{backgroundColor:H.bgColor,color:H.color},role:"option","aria-selected":!1,type:"button",children:v.jsx("span",{className:"status-option-label",children:H.label})},H.value))})]}),y&&$&&v.jsx("div",{className:"status-confirmation-modal",children:v.jsxs("div",{className:"confirmation-content",children:[v.jsxs("div",{className:"confirmation-header",children:[v.jsx(nh,{size:24,className:"confirmation-icon"}),v.jsx("h3",{children:"Confirmar alterao de status"})]}),v.jsxs("div",{className:"confirmation-body",children:[v.jsx("p",{children:"Deseja realmente alterar o status de:"}),v.jsxs("div",{className:"status-change-preview",children:[v.jsx("div",{className:"status-from",children:v.jsx("span",{className:"status-badge",style:{backgroundColor:B.bgColor,color:B.color},children:B.label})}),v.jsx("span",{className:"arrow",children:""}),v.jsx("div",{className:"status-to",children:v.jsx("span",{className:"status-badge",style:{backgroundColor:$.bgColor,color:$.color},children:$.label})})]})]}),v.jsxs("div",{className:"confirmation-actions",children:[v.jsxs("button",{className:"btn-cancel",onClick:O,type:"button",children:[v.jsx(Fl,{size:16}),"Cancelar"]}),v.jsxs("button",{className:"btn-confirm",onClick:I,disabled:h,type:"button",children:[v.jsx(PD,{size:16}),h?"Salvando...":"Confirmar"]})]})]})})]})},Gme=({shipment:n,onClose:e,onSave:r,canEdit:i})=>{const[a,o]=C.useState({cliente:"",operador:"",shipper:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",currentLocation:"",quantBox:1,status:"",numeroBl:"",armador:"",booking:"",invoice:"",observacoes:"",tipo:"",imo:"",actualDeparture:"",reportedEta:""}),[s,l]=C.useState(!1),[u,c]=C.useState({});C.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const f=["MSC","Maersk","CMA CGM","Hapag-Lloyd","COSCO","Evergreen"],d=["Santos, Brasil","Itaja, Brasil","Paranagu, Brasil","Rio Grande, Brasil","Suape, Brasil","Rotterdam, Holanda","Hamburgo, Alemanha","Barcelona, Espanha","Xangai, China","Singapura","Los Angeles, EUA","Nova York, EUA"],h=["Guarulhos (GRU), So Paulo, Brasil","Galeo (GIG), Rio de Janeiro, Brasil","Braslia (BSB), Brasil","Miami (MIA), EUA","JFK (JFK), Nova York, EUA","Heathrow (LHR), Londres, Reino Unido","Charles de Gaulle (CDG), Paris, Frana","Frankfurt (FRA), Alemanha","Dubai (DXB), Emirados rabes","Hong Kong (HKG), China","Narita (NRT), Tquio, Japo"],p=["So Paulo, Brasil","Rio de Janeiro, Brasil","Braslia, Brasil","Curitiba, Brasil","Porto Alegre, Brasil","Belo Horizonte, Brasil","Salvador, Brasil","Recife, Brasil","Fortaleza, Brasil","Manaus, Brasil","Miami, EUA","Nova York, EUA","Los Angeles, EUA","Londres, Reino Unido","Paris, Frana","Berlim, Alemanha","Madri, Espanha","Roma, Itlia","Amsterd, Holanda","Bruxelas, Blgica"];C.useEffect(()=>{if(n){console.log("Carregando dados do shipment:",n);const A={cliente:n.cliente||"",operador:n.operador||"",shipper:n.shipper||"",pol:n.pol||"",pod:n.pod||"",etdOrigem:n.etdOrigem||"",etaDestino:n.etaDestino||"",currentLocation:n.currentLocation||"",quantBox:n.quantBox||1,status:n.status||"",numeroBl:n.numeroBl||"",armador:n.armador||"",booking:n.booking||"",invoice:n.invoice||"",observacoes:n.observacoes||"",tipo:n.tipo||"",imo:n.imo||"",actualDeparture:n.actualDeparture||"",reportedEta:n.reportedEta||""};console.log("FormData configurado:",A),o(A)}},[n]);const y=A=>{const{name:T,value:B}=A.target;console.log("Campo:",A.target.name,"Valor:",A.target.value),o($=>({...$,[T]:T==="quantBox"?Number.parseInt(B)||1:B})),u[T]&&c($=>({...$,[T]:""}))},w=()=>{const A={};return a.cliente.trim()||(A.cliente="Cliente  obrigatrio"),a.operador.trim()||(A.operador="Operador  obrigatrio"),a.tipo.trim()||(A.tipo="Tipo de transporte  obrigatrio"),a.tipo==="Martimo"&&(a.pol.trim()||(A.pol="Porto de origem  obrigatrio"),a.pod.trim()||(A.pod="Porto de destino  obrigatrio")),a.etdOrigem||(A.etdOrigem="Data de partida  obrigatria"),a.etaDestino||(A.etaDestino="Data de chegada  obrigatria"),a.numeroBl.trim()||(A.numeroBl="Nmero do BL  obrigatrio"),a.booking.trim()||(A.booking="Nmero do booking  obrigatrio"),a.invoice.trim()||(A.invoice="Nmero do invoice  obrigatrio"),a.armador.trim()||(A.armador="Armador  obrigatrio"),a.quantBox<1&&(A.quantBox="Quantidade deve ser maior que 0"),c(A),Object.keys(A).length===0},_=async A=>{if(A.preventDefault(),!i){alert("Voc no tem permisso para editar este envio.");return}if(console.log("FormData antes da validao:",a),!w()){console.log("Validao falhou");return}l(!0);try{const T={...n,cliente:a.cliente,operador:a.operador,shipper:a.shipper,pol:a.pol,pod:a.pod,etdOrigem:a.etdOrigem,etaDestino:a.etaDestino,currentLocation:a.currentLocation,quantBox:a.quantBox,status:a.status,numeroBl:a.numeroBl,armador:a.armador,booking:a.booking,invoice:a.invoice,observacoes:a.observacoes,tipo:a.tipo,imo:a.imo,actualDeparture:a.actualDeparture,reportedEta:a.reportedEta,updatedAt:new Date};console.log("Shipment atualizado:",T),await r(T),e()}catch(T){console.error("Erro ao salvar envio:",T),alert("Erro ao salvar as alteraes. Tente novamente.")}finally{l(!1)}},b=A=>{A.target===A.currentTarget&&e()},S=v.jsx("div",{className:"edit-modal-overlay",onClick:b,children:v.jsxs("div",{className:"edit-modal-content",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[v.jsxs("div",{className:"edit-modal-header",children:[v.jsxs("h2",{id:"modal-title",children:[v.jsx(Sf,{size:24}),"Editar Envio"]}),v.jsx("button",{className:"close-button",onClick:e,type:"button",children:v.jsx(Fl,{size:20})})]}),v.jsx("div",{className:"edit-modal-body",children:v.jsxs("form",{onSubmit:_,className:"edit-form",children:[v.jsxs("div",{className:"form-section",children:[v.jsxs("div",{className:"section-title",children:[v.jsx(zA,{size:18}),v.jsx("span",{children:"Informaes do Cliente"})]}),v.jsx("div",{className:"form-row",children:v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"tipo",children:[v.jsx(qs,{size:16,style:{marginRight:"8px",verticalAlign:"middle"}}),"Tipo de Transporte *"]}),v.jsxs("select",{id:"tipo",name:"tipo",value:a.tipo,onChange:y,disabled:!i,required:!0,children:[v.jsx("option",{value:"",children:"Selecione o tipo de transporte"}),v.jsx("option",{value:"Martimo",children:"Martimo"}),v.jsx("option",{value:"Areo",children:"Areo"}),v.jsx("option",{value:"Terrestre",children:"Terrestre"})]}),u.tipo&&v.jsx("span",{className:"error-message",children:u.tipo})]})}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"cliente",children:"Cliente *"}),v.jsx("input",{type:"text",id:"cliente",name:"cliente",value:a.cliente,onChange:y,disabled:!i,placeholder:"Nome do cliente"}),u.cliente&&v.jsx("span",{className:"error-message",children:u.cliente})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"operador",children:"Operador *"}),v.jsx("input",{type:"text",id:"operador",name:"operador",value:a.operador,onChange:y,disabled:!i,placeholder:"Nome do operador"}),u.operador&&v.jsx("span",{className:"error-message",children:u.operador})]})]}),v.jsx("div",{className:"form-row",children:v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"shipper",children:"Shipper"}),v.jsx("input",{type:"text",id:"shipper",name:"shipper",value:a.shipper,onChange:y,disabled:!i,placeholder:"Nome do shipper"})]})})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("div",{className:"section-title",children:[v.jsx($A,{size:18}),v.jsx("span",{children:"Rota e Cronograma"})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"pol",children:[a.tipo==="Areo"?"Aeroporto de Origem":a.tipo==="Terrestre"?"Local de Origem":"Porto de Origem"," (POL) *"]}),v.jsxs("select",{id:"pol",name:"pol",value:a.pol,onChange:y,disabled:!i,children:[v.jsx("option",{value:"",children:a.tipo==="Areo"?"Selecione o aeroporto de origem":a.tipo==="Terrestre"?"Selecione o local de origem":"Selecione o porto de origem"}),a.tipo==="Areo"?h.map(A=>v.jsx("option",{value:A,children:A},A)):a.tipo==="Terrestre"?p.map(A=>v.jsx("option",{value:A,children:A},A)):d.map(A=>v.jsx("option",{value:A,children:A},A))]}),u.pol&&v.jsx("span",{className:"error-message",children:u.pol})]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"pod",children:[a.tipo==="Areo"?"Aeroporto de Destino":a.tipo==="Terrestre"?"Local de Destino":"Porto de Destino"," (POD) *"]}),v.jsxs("select",{id:"pod",name:"pod",value:a.pod,onChange:y,disabled:!i,children:[v.jsx("option",{value:"",children:a.tipo==="Areo"?"Selecione o aeroporto de destino":a.tipo==="Terrestre"?"Selecione o local de destino":"Selecione o porto de destino"}),a.tipo==="Areo"?h.map(A=>v.jsx("option",{value:A,children:A},A)):a.tipo==="Terrestre"?p.map(A=>v.jsx("option",{value:A,children:A},A)):d.map(A=>v.jsx("option",{value:A,children:A},A))]}),u.pod&&v.jsx("span",{className:"error-message",children:u.pod})]})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"etdOrigem",children:"Data de Partida (ETD) *"}),v.jsx("input",{type:"date",id:"etdOrigem",name:"etdOrigem",value:a.etdOrigem,onChange:y,disabled:!i}),u.etdOrigem&&v.jsx("span",{className:"error-message",children:u.etdOrigem})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"etaDestino",children:"Data de Chegada (ETA) *"}),v.jsx("input",{type:"date",id:"etaDestino",name:"etaDestino",value:a.etaDestino,onChange:y,disabled:!i}),u.etaDestino&&v.jsx("span",{className:"error-message",children:u.etaDestino})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"currentLocation",children:a.tipo==="Areo"?"Aeroporto Atual":a.tipo==="Terrestre"?"Local Atual":"Porto Atual"}),v.jsxs("select",{id:"currentLocation",name:"currentLocation",value:a.currentLocation,onChange:y,disabled:!i,children:[v.jsx("option",{value:"",children:a.tipo==="Areo"?"Selecione o aeroporto atual":a.tipo==="Terrestre"?"Selecione o local atual":"Selecione o porto atual"}),a.tipo==="Areo"?h.map(A=>v.jsx("option",{value:A,children:A},A)):a.tipo==="Terrestre"?p.map(A=>v.jsx("option",{value:A,children:A},A)):d.map(A=>v.jsx("option",{value:A,children:A},A))]}),u.currentLocation&&v.jsx("span",{className:"error-message",children:u.currentLocation})]})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("div",{className:"section-title",children:[v.jsx(qs,{size:18}),v.jsx("span",{children:"Informaes Operacionais"})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"quantBox",children:"Quantidade de Containers *"}),v.jsx("input",{type:"number",id:"quantBox",name:"quantBox",value:a.quantBox,onChange:y,disabled:!i,min:"1",max:"100"}),u.quantBox&&v.jsx("span",{className:"error-message",children:u.quantBox})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"status",children:"Status"}),v.jsx(Kme,{currentStatus:a.status,onStatusChange:A=>{o(T=>({...T,status:A}))},instanceId:`edit-modal-${n.id}`,disabled:!i})]})]}),v.jsx("div",{className:"form-row",children:v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"armador",children:"Armador *"}),v.jsxs("select",{id:"armador",name:"armador",value:a.armador,onChange:y,disabled:!i,children:[v.jsx("option",{value:"",children:"Selecione um armador"}),f.map(A=>v.jsx("option",{value:A,children:A},A))]}),u.armador&&v.jsx("span",{className:"error-message",children:u.armador})]})})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("div",{className:"section-title",children:[v.jsx(zs,{size:18}),v.jsx("span",{children:"Documentao"})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"numeroBl",children:"Nmero do BL *"}),v.jsx("input",{type:"text",id:"numeroBl",name:"numeroBl",value:a.numeroBl,onChange:y,disabled:!i,placeholder:"Ex: BL123456789"}),u.numeroBl&&v.jsx("span",{className:"error-message",children:u.numeroBl})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"booking",children:"Nmero do Booking *"}),v.jsx("input",{type:"text",id:"booking",name:"booking",value:a.booking,onChange:y,disabled:!i,placeholder:"Ex: BK987654321"}),u.booking&&v.jsx("span",{className:"error-message",children:u.booking})]})]}),v.jsx("div",{className:"form-row",children:v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"invoice",children:"Nmero do Invoice *"}),v.jsx("input",{type:"text",id:"invoice",name:"invoice",value:a.invoice,onChange:y,disabled:!i,placeholder:"Ex: INV123456"}),u.invoice&&v.jsx("span",{className:"error-message",children:u.invoice})]})}),v.jsx("div",{className:"form-row",children:v.jsxs("div",{className:"form-group full-width",children:[v.jsx("label",{htmlFor:"observacoes",children:"Observaes"}),v.jsx("textarea",{id:"observacoes",name:"observacoes",value:a.observacoes,onChange:y,disabled:!i,placeholder:"Digite observaes sobre o envio...",rows:4})]})})]})]})}),v.jsxs("div",{className:"edit-modal-actions",children:[v.jsx("button",{type:"button",className:"btn-cancel",onClick:e,disabled:s,children:"Cancelar"}),i&&v.jsxs("button",{type:"submit",className:`btn-save ${s?"loading":""}`,onClick:_,disabled:s,children:[v.jsx(ID,{size:16}),s?"Salvando...":"Salvar Alteraes"]})]})]})});return typeof document<"u"?Zm.createPortal(S,document.body):S};var gi=(n=>(n.BILL_OF_LADING="bill_of_lading",n.INVOICE="invoice",n.PACKING_LIST="packing_list",n.COMMERCIAL_INVOICE="commercial_invoice",n.CERTIFICATE_OF_ORIGIN="certificate_of_origin",n.INSURANCE_CERTIFICATE="insurance_certificate",n.EXPORT_LICENSE="export_license",n.IMPORT_LICENSE="import_license",n.CUSTOMS_DECLARATION="customs_declaration",n.TRANSPORT_DOCUMENT="transport_document",n.OTHER="other",n))(gi||{});const rB=(n,e="pt")=>{var i;const r={en:{bill_of_lading:"Bill of Lading (BL)",invoice:"Invoice",packing_list:"Packing List",commercial_invoice:"Commercial Invoice",certificate_of_origin:"Certificate of Origin",insurance_certificate:"Insurance Certificate",export_license:"Export License",import_license:"Import License",customs_declaration:"Customs Declaration",transport_document:"Transport Document",other:"Other"},pt:{bill_of_lading:"Conhecimento de Embarque (BL)",invoice:"Fatura",packing_list:"Lista de Empacotamento",commercial_invoice:"Fatura Comercial",certificate_of_origin:"Certificado de Origem",insurance_certificate:"Certificado de Seguro",export_license:"Licena de Exportao",import_license:"Licena de Importao",customs_declaration:"Declarao Aduaneira",transport_document:"Documento de Transporte",other:"Outro"},es:{bill_of_lading:"Conocimiento de Embarque (BL)",invoice:"Factura",packing_list:"Lista de Empaque",commercial_invoice:"Factura Comercial",certificate_of_origin:"Certificado de Origen",insurance_certificate:"Certificado de Seguro",export_license:"Licencia de Exportacin",import_license:"Licencia de Importacin",customs_declaration:"Declaracin Aduanera",transport_document:"Documento de Transporte",other:"Otro"}};return((i=r[e])==null?void 0:i[n])||r.pt[n]},iB={bill_of_lading:"file-text",invoice:"receipt",packing_list:"package",commercial_invoice:"file-text",certificate_of_origin:"award",insurance_certificate:"shield",export_license:"scroll-text",import_license:"scroll-text",customs_declaration:"building",transport_document:"ship",other:"paperclip"},Yme=async(n,e)=>{if(console.log("=== INCIO DO UPLOAD ==="),console.log("Arquivo:",n.name,"Tamanho:",n.size,"Tipo:",n.type),console.log("Shipment ID:",e),!pk)return console.log("Firebase Storage no configurado, usando fallback local"),wb(n);if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")return console.log("Detectado localhost, usando fallback local para evitar CORS"),wb(n);try{const i=`${Date.now()}_${n.name}`,a=eY(pk,`documents/${e}/${i}`);console.log("Referncia do Storage criada:",a.fullPath),console.log("Iniciando upload...");const o=await ZG(a,n);console.log("Upload concludo:",o),console.log("Obtendo URL de download...");const s=await JG(o.ref);return console.log("URL de download gerada:",s),console.log("=== UPLOAD CONCLUDO COM SUCESSO ==="),s}catch(i){return console.error("Erro no upload para Firebase Storage:",i),i instanceof Error&&(i.message.includes("CORS")||i.message.includes("blocked by CORS policy")||i.message.includes("ERR_FAILED"))?console.log("Erro de CORS detectado, usando fallback local"):i instanceof Error&&i.message.includes("Firebase Storage no configurado")?console.log("Firebase Storage no configurado, usando fallback local"):console.log("Outro erro no Firebase Storage, usando fallback local"),wb(n)}},wb=n=>{console.log("Usando fallback: URL local temporria");try{const e=URL.createObjectURL(n);return console.log("URL local criada:",e),console.log("=== UPLOAD CONCLUDO COM FALLBACK LOCAL ==="),e}catch(e){throw console.error("Erro crtico no fallback:",e),new Error("No foi possvel fazer upload do arquivo")}},Xme=async n=>{try{if(!n.documentType||n.documentType===void 0)throw new Error("documentType  obrigatrio e no pode ser undefined");console.log("Dados do documento a serem salvos:",n);const e=await tD(Sa(Zt,"documents"),{...n,uploadedAt:new Date,isActive:!0});return console.log("Documento salvo com ID:",e.id),e.id}catch(e){throw console.error("Erro ao salvar documento:",e),e}},aB=async n=>{try{const e=xf(Sa(Zt,"documents"),Xu("shipmentId","==",n),Xu("isActive","==",!0),F5("uploadedAt","desc")),r=await Vs(e),i=[];return r.forEach(a=>{const o=a.data();i.push({id:a.id,...o,uploadedAt:o.uploadedAt.toDate()})}),i}catch(e){throw console.error("Erro ao buscar documentos:",e),e}},Qme=async n=>{var e;try{console.log("=== INCIO DO DOWNLOAD ==="),console.log("Documento completo:",n),console.log("downloadUrl:",n.downloadUrl),console.log("originalName:",n.originalName),console.log("fileName:",n.fileName);const r=()=>{var l;console.log("Criando arquivo de informaes...");const i={fileName:n.fileName,originalName:n.originalName,fileType:n.fileType,fileSize:n.fileSize,documentType:n.documentType,uploadedBy:n.uploadedBy,uploadedAt:((l=n.uploadedAt)==null?void 0:l.toISOString())||new Date().toISOString(),shipmentId:n.shipmentId,downloadUrl:n.downloadUrl,note:"Este arquivo contm informaes sobre o documento. O arquivo original pode no estar disponvel para download."},a=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),o=URL.createObjectURL(a),s=document.createElement("a");s.href=o,s.download=`${n.originalName||n.fileName||"documento"}.info.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),setTimeout(()=>URL.revokeObjectURL(o),1e3),console.log("Arquivo de informaes criado e baixado")};if(!n.downloadUrl||n.downloadUrl===""||n.downloadUrl==="undefined"){console.log("URL de download invlida ou vazia, criando arquivo de informaes"),r();return}try{new URL(n.downloadUrl)}catch(i){console.log("URL invlida, criando arquivo de informaes:",i),r();return}if(n.downloadUrl.includes("storage.googleapis.com/sealogistics-docs")){console.log("URL aponta para bucket inexistente (sealogistics-docs), tentando download original...");try{console.log("Tentando download do arquivo original...");const i=document.createElement("a");if(i.href=n.downloadUrl,i.download=n.originalName||n.fileName||"documento",i.target="_blank",document.body.appendChild(i),i.click(),document.body.removeChild(i),console.log("Download do arquivo original iniciado:",n.originalName),n.fileType==="application/pdf"||n.originalName&&n.originalName.toLowerCase().endsWith(".pdf")){console.log("Arquivo PDF detectado, aguardando resultado do download original...");return}setTimeout(()=>{var a,o,s,l,u;console.log("Se o download no funcionou, criando arquivo no formato original...");try{console.log("Criando arquivo no formato original:",n.fileType);let c="",f=n.fileType||"application/octet-stream";if(n.originalName){const b=(a=n.originalName.split(".").pop())==null?void 0:a.toLowerCase();b&&(c=b)}if(!c)switch(n.fileType){case"application/pdf":c="pdf";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":c="docx";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":c="xlsx";break;case"application/msword":c="doc";break;case"application/vnd.ms-excel":c="xls";break;case"image/jpeg":c="jpg";break;case"image/png":c="png";break;case"text/plain":c="txt";break;default:c="txt",f="text/plain"}let d="",h=f;c==="pdf"?(d=`DOCUMENTO: ${n.originalName||n.fileName}
TIPO: ${n.documentType}
ENVIADO POR: ${n.uploadedBy}
DATA: ${(o=n.uploadedAt)==null?void 0:o.toLocaleDateString("pt-BR")}
ENVIO: ${n.shipmentId}

NOTA: Este arquivo foi recriado porque o original no est mais disponvel.
O arquivo original "${n.originalName}" foi perdido devido a problemas de armazenamento.

Data de recriao: ${new Date().toLocaleString("pt-BR")}`,h="text/plain",c="txt"):c==="docx"||c==="doc"?(d=`DOCUMENTO: ${n.originalName||n.fileName}
TIPO: ${n.documentType}
ENVIADO POR: ${n.uploadedBy}
DATA: ${(s=n.uploadedAt)==null?void 0:s.toLocaleDateString("pt-BR")}
ENVIO: ${n.shipmentId}

NOTA: Este arquivo foi recriado porque o original no est mais disponvel.
O arquivo original "${n.originalName}" foi perdido devido a problemas de armazenamento.

Data de recriao: ${new Date().toLocaleString("pt-BR")}`,h="text/plain"):c==="xlsx"||c==="xls"?(d=`Documento,${n.originalName||n.fileName}
Tipo,${n.documentType}
Enviado por,${n.uploadedBy}
Data,${(l=n.uploadedAt)==null?void 0:l.toLocaleDateString("pt-BR")}
Envio,${n.shipmentId}
Nota,"Este arquivo foi recriado porque o original no est mais disponvel. O arquivo original foi perdido devido a problemas de armazenamento."
Data de recriao,${new Date().toLocaleString("pt-BR")}`,h="text/csv"):(d=`DOCUMENTO: ${n.originalName||n.fileName}
TIPO: ${n.documentType}
ENVIADO POR: ${n.uploadedBy}
DATA: ${(u=n.uploadedAt)==null?void 0:u.toLocaleDateString("pt-BR")}
ENVIO: ${n.shipmentId}

NOTA: Este arquivo foi recriado porque o original no est mais disponvel.
O arquivo original "${n.originalName}" foi perdido devido a problemas de armazenamento.

Data de recriao: ${new Date().toLocaleString("pt-BR")}`,h="text/plain");const p=new Blob([d],{type:h}),y=URL.createObjectURL(p),w=document.createElement("a");w.href=y;let _=n.originalName||n.fileName;c==="txt"&&!_.endsWith(".txt")&&(_=`${_.replace(/\.[^/.]+$/,"")}.txt`),w.download=_,document.body.appendChild(w),w.click(),document.body.removeChild(w),setTimeout(()=>URL.revokeObjectURL(y),1e3),console.log("Arquivo recriado no formato original baixado:",n.originalName)}catch(c){console.log("Erro ao criar arquivo no formato original, criando arquivo de informaes:",c),r()}},3e3);return}catch(i){console.log("Erro no download direto, criando arquivo de informaes:",i),r();return}}if(console.log("URL vlida encontrada:",n.downloadUrl),n.downloadUrl.startsWith("blob:")){console.log("Estratgia: Download de URL local (blob)");try{const i=document.createElement("a");i.href=n.downloadUrl,i.download=n.originalName||n.fileName||"documento",document.body.appendChild(i),i.click(),document.body.removeChild(i),console.log("Download de arquivo local iniciado:",n.originalName);return}catch(i){console.log("Erro no download local, criando arquivo de informaes:",i),r();return}}else if(n.downloadUrl.includes("firebasestorage.googleapis.com")){console.log("Estratgia: Abrir Firebase Storage em nova aba");try{window.open(n.downloadUrl,"_blank"),console.log("Arquivo do Firebase Storage aberto em nova aba")}catch(i){console.log("Erro ao abrir Firebase Storage, criando arquivo de informaes:",i),r()}}else{console.log("Estratgia: Download direto de URL externa");try{const i=document.createElement("a");i.href=n.downloadUrl,i.download=n.originalName||n.fileName||"documento",i.target="_blank",document.body.appendChild(i),i.click(),document.body.removeChild(i),console.log("Download direto iniciado")}catch(i){console.log("Erro no download direto, criando arquivo de informaes:",i),r()}}console.log("=== FIM DO DOWNLOAD ===")}catch(r){console.error("Erro geral ao fazer download do documento:",r);try{const i={fileName:n.fileName,originalName:n.originalName,fileType:n.fileType,fileSize:n.fileSize,documentType:n.documentType,uploadedBy:n.uploadedBy,uploadedAt:((e=n.uploadedAt)==null?void 0:e.toISOString())||new Date().toISOString(),shipmentId:n.shipmentId,downloadUrl:n.downloadUrl,error:"Erro ao fazer download do arquivo original",note:"Este arquivo contm informaes sobre o documento devido a um erro no download."},a=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),o=URL.createObjectURL(a),s=document.createElement("a");s.href=o,s.download=`${n.originalName||n.fileName||"documento"}.info.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),setTimeout(()=>URL.revokeObjectURL(o),1e3),console.log("Arquivo de informaes criado como ltimo recurso")}catch(i){throw console.error("Erro crtico: no foi possvel criar nem arquivo de informaes:",i),new Error("No foi possvel fazer download do documento")}}},Zme=async n=>{try{const e=yr(Zt,"documents",n);await Zu(e,{isActive:!1,deletedAt:new Date}),console.log("Documento deletado:",n)}catch(e){throw console.error("Erro ao deletar documento:",e),e}},Jme=n=>["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png","image/gif","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(n.type),ege=n=>n.size<=10485760,II=n=>{if(n===0)return"0 Bytes";const e=1024,r=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(n)/Math.log(e));return parseFloat((n/Math.pow(e,i)).toFixed(2))+" "+r[i]},tge=n=>{console.log("detectDocumentType chamada com fileName:",n),console.log("DocumentType enum:",DocumentType);const e=n.toLowerCase();return console.log("lowerFileName:",e),e.includes("bl")||e.includes("bill")||e.includes("lading")?(console.log("Detectado como BILL_OF_LADING"),DocumentType.BILL_OF_LADING):e.includes("invoice")||e.includes("inv")?(console.log("Detectado como INVOICE"),DocumentType.INVOICE):e.includes("packing")||e.includes("pack")?(console.log("Detectado como PACKING_LIST"),DocumentType.PACKING_LIST):e.includes("commercial")?(console.log("Detectado como COMMERCIAL_INVOICE"),DocumentType.COMMERCIAL_INVOICE):e.includes("certificate")||e.includes("origin")?(console.log("Detectado como CERTIFICATE_OF_ORIGIN"),DocumentType.CERTIFICATE_OF_ORIGIN):e.includes("insurance")?(console.log("Detectado como INSURANCE_CERTIFICATE"),DocumentType.INSURANCE_CERTIFICATE):e.includes("export")||e.includes("license")?(console.log("Detectado como EXPORT_LICENSE"),DocumentType.EXPORT_LICENSE):e.includes("import")?(console.log("Detectado como IMPORT_LICENSE"),DocumentType.IMPORT_LICENSE):e.includes("customs")||e.includes("declaration")?(console.log("Detectado como CUSTOMS_DECLARATION"),DocumentType.CUSTOMS_DECLARATION):e.includes("transport")||e.includes("shipping")?(console.log("Detectado como TRANSPORT_DOCUMENT"),DocumentType.TRANSPORT_DOCUMENT):(console.log("Nenhum tipo detectado, retornando OTHER"),DocumentType.OTHER)},nge=n=>{switch(n){case"file-text":return v.jsx(zs,{size:16});case"receipt":return v.jsx(TY,{size:16});case"package":return v.jsx(qs,{size:16});case"award":return v.jsx(pY,{size:16});case"shield":return v.jsx(OD,{size:16});case"scroll-text":return v.jsx(CY,{size:16});case"building":return v.jsx(yY,{size:16});case"ship":return v.jsx(Sf,{size:16});case"paperclip":return v.jsx(NY,{size:16});default:return v.jsx(zs,{size:16})}},rge=({shipmentId:n,shipmentNumber:e,clientName:r,isOpen:i,onClose:a,onDocumentsUpdate:o})=>{const{currentUser:s}=Do(),{translations:l}=ss(),[u,c]=C.useState([]),[f,d]=C.useState(!1),[h,p]=C.useState(!1),[y,w]=C.useState([]),[_,b]=C.useState([]),[S,A]=C.useState(gi.OTHER),[T,B]=C.useState(!1),[$,L]=C.useState(null),[I,O]=C.useState(null),U=C.useCallback(async()=>{if(n)try{d(!0);const ne=await aB(n);c(ne)}catch(ne){console.error("Erro ao carregar documentos:",ne),L("Erro ao carregar documentos")}finally{d(!1)}},[n]);C.useEffect(()=>{i&&U()},[i,U]);const k=C.useCallback(ne=>{ne.preventDefault(),ne.stopPropagation(),ne.type==="dragenter"||ne.type==="dragover"?B(!0):ne.type==="dragleave"&&B(!1)},[]),R=C.useCallback(ne=>{ne.preventDefault(),ne.stopPropagation(),B(!1),ne.dataTransfer.files&&ne.dataTransfer.files[0]&&H(ne.dataTransfer.files)},[]),j=ne=>{ne.target.files&&H(ne.target.files)},H=ne=>{const M=Array.from(ne),Y=[],Z=[];M.forEach(ie=>{Jme(ie)?ege(ie)?Y.push(ie):Z.push(`${ie.name}: Arquivo muito grande (mximo 10MB)`):Z.push(`${ie.name}: Tipo de arquivo no suportado`)}),Z.length>0&&(L(Z.join(`
`)),setTimeout(()=>L(null),5e3)),Y.length>0&&b(ie=>[...ie,...Y])},oe=ne=>{b(M=>M.filter((Y,Z)=>Z!==ne))},he=async()=>{if(_.length===0)return;p(!0),L(null),O(null);const ne=_.map(M=>({fileName:M.name,progress:0,status:"uploading"}));w(ne);try{for(let M=0;M<_.length;M++){const Y=_[M];w(pe=>pe.map((Ee,le)=>le===M?{...Ee,progress:25}:Ee));const Z=await Yme(Y,n);w(pe=>pe.map((Ee,le)=>le===M?{...Ee,progress:75}:Ee));const ie=tge(Y.name);console.log("selectedDocumentType:",S),console.log("detectedType:",ie),console.log("DocumentType.OTHER:",gi.OTHER);let ce;if(S!==gi.OTHER?ce=S:ie&&ie!==void 0?ce=ie:ce=gi.OTHER,console.log("finalDocumentType:",ce),!ce||ce===void 0)throw console.error("Tipo de documento invlido:",{selectedDocumentType:S,detectedType:ie,finalDocumentType:ce}),new Error("Tipo de documento invlido");await Xme({shipmentId:n,fileName:Y.name,originalName:Y.name,fileType:Y.type,fileSize:Y.size,documentType:ce,uploadedBy:(s==null?void 0:s.displayName)||(s==null?void 0:s.email)||"Usurio",downloadUrl:Z,isActive:!0}),w(pe=>pe.map((Ee,le)=>le===M?{...Ee,progress:100,status:"success"}:Ee))}O(`${_.length} documento(s) enviado(s) com sucesso!`),b([]),A(gi.OTHER),await U(),o&&o(),setTimeout(()=>O(null),3e3)}catch(M){console.error("Erro no upload:",M),L("Erro ao fazer upload dos documentos"),w(Y=>Y.map(Z=>({...Z,status:"error",error:"Erro no upload"})))}finally{p(!1),setTimeout(()=>w([]),3e3)}},ye=async ne=>{if(confirm("Tem certeza que deseja excluir este documento?"))try{await Zme(ne),O("Documento excludo com sucesso!"),await U(),o&&o(),setTimeout(()=>O(null),3e3)}catch(M){console.error("Erro ao deletar documento:",M),L("Erro ao excluir documento"),setTimeout(()=>L(null),5e3)}},re=async ne=>{try{await Qme(ne)}catch(M){console.error("Erro ao fazer download:",M),L("Erro ao fazer download do documento"),setTimeout(()=>L(null),5e3)}},ue=u.reduce((ne,M)=>(ne[M.documentType]||(ne[M.documentType]=[]),ne[M.documentType].push(M),ne),{});if(!i)return null;const ae=v.jsx("div",{className:"document-manager-overlay",onClick:a,children:v.jsxs("div",{className:"document-manager-modal",onClick:ne=>ne.stopPropagation(),children:[v.jsxs("div",{className:"document-manager-header",children:[v.jsxs("div",{className:"header-info",children:[v.jsxs("h2",{children:[v.jsx(wY,{size:20})," Gerenciar Documentos"]}),v.jsxs("div",{className:"shipment-info",children:[v.jsxs("span",{children:[v.jsx("strong",{children:"Envio:"})," ",e]}),v.jsxs("span",{children:[v.jsx("strong",{children:"Cliente:"})," ",r]})]})]}),v.jsx("button",{className:"close-button",onClick:a,children:v.jsx(Fl,{size:24})})]}),$&&v.jsxs("div",{className:"alert alert-error",children:[v.jsx(nh,{size:16}),v.jsx("span",{children:$})]}),I&&v.jsxs("div",{className:"alert alert-success",children:[v.jsx(Tm,{size:16}),v.jsx("span",{children:I})]}),v.jsxs("div",{className:"document-manager-content",children:[v.jsxs("div",{className:"upload-section",children:[v.jsx("h3",{children:" Adicionar Novos Documentos"}),v.jsxs("div",{className:"document-type-selector",children:[v.jsx("label",{htmlFor:"documentType",children:"Tipo de Documento:"}),v.jsxs("select",{id:"documentType",value:S,onChange:ne=>A(ne.target.value),disabled:h,children:[v.jsx("option",{value:gi.BILL_OF_LADING,children:"Conhecimento de Embarque (BL)"}),v.jsx("option",{value:gi.INVOICE,children:"Fatura"}),v.jsx("option",{value:gi.PACKING_LIST,children:"Lista de Empacotamento"}),v.jsx("option",{value:gi.COMMERCIAL_INVOICE,children:"Fatura Comercial"}),v.jsx("option",{value:gi.CERTIFICATE_OF_ORIGIN,children:"Certificado de Origem"}),v.jsx("option",{value:gi.INSURANCE_CERTIFICATE,children:"Certificado de Seguro"}),v.jsx("option",{value:gi.EXPORT_LICENSE,children:"Licena de Exportao"}),v.jsx("option",{value:gi.IMPORT_LICENSE,children:"Licena de Importao"}),v.jsx("option",{value:gi.CUSTOMS_DECLARATION,children:"Declarao Aduaneira"}),v.jsx("option",{value:gi.TRANSPORT_DOCUMENT,children:"Documento de Transporte"}),v.jsx("option",{value:gi.OTHER,children:"Outro"})]})]}),v.jsxs("div",{className:`upload-area ${T?"drag-active":""}`,onDragEnter:k,onDragLeave:k,onDragOver:k,onDrop:R,children:[v.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt,.xls,.xlsx",onChange:j,disabled:h,className:"file-input"}),v.jsxs("div",{className:"upload-content",children:[v.jsx(vk,{size:48,className:"upload-icon"}),v.jsx("p",{children:"Arraste arquivos aqui ou clique para selecionar"}),v.jsx("small",{children:"Tipos suportados: PDF, Word, Excel, Imagens, Texto"}),v.jsx("small",{children:"Tamanho mximo: 10MB por arquivo"})]})]}),_.length>0&&v.jsxs("div",{className:"selected-files",children:[v.jsxs("h4",{children:["Arquivos Selecionados (",_.length,")"]}),v.jsx("div",{className:"file-list",children:_.map((ne,M)=>v.jsxs("div",{className:"file-item",children:[v.jsx(zs,{size:16}),v.jsx("span",{className:"file-name",children:ne.name}),v.jsx("span",{className:"file-size",children:II(ne.size)}),v.jsx("button",{type:"button",onClick:()=>oe(M),className:"remove-file-btn",disabled:h,children:v.jsx(Fl,{size:16})})]},M))}),v.jsx("button",{type:"button",onClick:he,disabled:h||_.length===0,className:"upload-button",children:h?v.jsxs(v.Fragment,{children:[v.jsx(Cm,{size:16}),"Enviando..."]}):v.jsxs(v.Fragment,{children:[v.jsx(vk,{size:16}),"Enviar ",_.length," Documento(s)"]})})]}),y.length>0&&v.jsx("div",{className:"upload-progress",children:y.map((ne,M)=>v.jsxs("div",{className:`progress-item ${ne.status}`,children:[v.jsxs("div",{className:"progress-info",children:[v.jsx("span",{className:"file-name",children:ne.fileName}),v.jsxs("span",{className:"progress-status",children:[ne.status==="uploading"&&v.jsx(Cm,{size:14}),ne.status==="success"&&v.jsx(Tm,{size:14}),ne.status==="error"&&v.jsx(nh,{size:14}),ne.status]})]}),v.jsx("div",{className:"progress-bar",children:v.jsx("div",{className:"progress-fill",style:{width:`${ne.progress}%`}})}),ne.error&&v.jsx("span",{className:"error-message",children:ne.error})]},M))})]}),v.jsxs("div",{className:"existing-documents-section",children:[v.jsxs("h3",{children:[v.jsx(TD,{size:18})," Documentos Existentes"]}),f?v.jsx("div",{className:"loading",children:"Carregando documentos..."}):u.length===0?v.jsxs("div",{className:"no-documents",children:[v.jsx(zs,{size:48}),v.jsx("p",{children:"Nenhum documento carregado ainda"}),v.jsx("small",{children:"Adicione documentos usando a seo acima"})]}):v.jsx("div",{className:"documents-by-type",children:Object.entries(ue).map(([ne,M])=>v.jsxs("div",{className:"document-type-group",children:[v.jsxs("h4",{children:[nge(iB[ne]),rB(ne,"pt"),"(",M.length,")"]}),v.jsx("div",{className:"document-list",children:M.map(Y=>v.jsxs("div",{className:"document-item",children:[v.jsxs("div",{className:"document-info",children:[v.jsx(zs,{size:16}),v.jsxs("div",{className:"document-details",children:[v.jsx("span",{className:"document-name",children:Y.originalName}),v.jsxs("span",{className:"document-meta",children:[II(Y.fileSize)," ",Y.uploadedAt.toLocaleDateString("pt-BR")," ",Y.uploadedBy]})]})]}),v.jsxs("div",{className:"document-actions",children:[v.jsx("button",{type:"button",onClick:()=>re(Y),className:"action-btn download-btn",title:"Download",children:v.jsx(kD,{size:16})}),(s==null?void 0:s.role)==="admin"&&v.jsx("button",{type:"button",onClick:()=>Y.id&&ye(Y.id),className:"action-btn delete-btn",title:"Excluir",children:v.jsx(OY,{size:16})})]})]},Y.id))})]},ne))})]})]})]})});return typeof document<"u"?Zm.createPortal(ae,document.body):ae},ige=({shipmentId:n,isOpen:e,onClose:r})=>{const{currentUser:i}=Do(),[a,o]=C.useState([]),[s,l]=C.useState(!1),[u,c]=C.useState(null);C.useEffect(()=>{e&&n&&f()},[e,n]);const f=async()=>{try{l(!0),c(null);const p=await aB(n);o(p)}catch(p){console.error("Erro ao carregar documentos:",p),c("Erro ao carregar documentos")}finally{l(!1)}},d=p=>{const y=p.createElement("a");y.href=p.downloadUrl,y.download=p.originalName,p.body.appendChild(y),y.click(),p.body.removeChild(y)},h=a.reduce((p,y)=>(p[y.documentType]||(p[y.documentType]=[]),p[y.documentType].push(y),p),{});return e?v.jsx("div",{className:"document-viewer-overlay",onClick:r,children:v.jsxs("div",{className:"document-viewer-modal",onClick:p=>p.stopPropagation(),children:[v.jsxs("div",{className:"document-viewer-header",children:[v.jsxs("h2",{children:[v.jsx(TD,{size:20})," Documentos do Envio"]}),v.jsx("p",{className:"header-subtitle",children:"Visualize e baixe os documentos relacionados"}),v.jsx("button",{className:"close-button",onClick:r,children:v.jsx(Fl,{size:24})})]}),u&&v.jsxs("div",{className:"alert alert-error",children:[v.jsx(nh,{size:16}),v.jsx("span",{children:u})]}),v.jsx("div",{className:"document-viewer-content",children:s?v.jsx("div",{className:"loading",children:"Carregando documentos..."}):a.length===0?v.jsxs("div",{className:"no-documents",children:[v.jsx(zs,{size:48}),v.jsx("p",{children:"Nenhum documento disponvel no momento"}),v.jsx("small",{children:"Nossa equipe est preparando a documentao para este envio"})]}):v.jsx("div",{className:"documents-by-type",children:Object.entries(h).map(([p,y])=>v.jsxs("div",{className:"document-type-group",children:[v.jsxs("h3",{children:[iB[p],rB(p,t("language")||"pt"),v.jsxs("span",{className:"document-count",children:["(",y.length,")"]})]}),v.jsx("div",{className:"document-list",children:y.map(w=>v.jsxs("div",{className:"document-item",children:[v.jsxs("div",{className:"document-info",children:[v.jsx(zs,{size:20,className:"document-icon"}),v.jsxs("div",{className:"document-details",children:[v.jsx("span",{className:"document-name",children:w.originalName}),v.jsxs("div",{className:"document-meta",children:[v.jsx("span",{className:"upload-date",children:w.uploadedAt.toLocaleDateString("pt-BR")}),v.jsxs("span",{className:"uploader",children:["por ",w.uploadedBy]})]})]})]}),v.jsx("div",{className:"document-actions",children:v.jsxs("button",{type:"button",onClick:()=>d(w),className:"action-btn download-btn",title:"Download",children:[v.jsx(kD,{size:16}),v.jsx("span",{className:"btn-text",children:"Baixar"})]})})]},w.id))})]},p))})})]})}):null},age=({filters:n,onFiltersChange:e,onClearFilters:r})=>{const[i,a]=C.useState(!1),o=C.useRef(null),{isAdmin:s}=Do(),{translations:l}=ss();C.useEffect(()=>{const _=b=>{o.current&&!o.current.contains(b.target)&&a(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]);const u=(_,b)=>{e({...n,[_]:b})},c=_=>{const b=n.sortBy===_&&n.sortOrder==="desc"?"asc":"desc";e({...n,sortBy:_,sortOrder:b})},f=()=>[{value:"",label:"Todos os meses"},{value:"01",label:"Janeiro"},{value:"02",label:"Fevereiro"},{value:"03",label:"Maro"},{value:"04",label:"Abril"},{value:"05",label:"Maio"},{value:"06",label:"Junho"},{value:"07",label:"Julho"},{value:"08",label:"Agosto"},{value:"09",label:"Setembro"},{value:"10",label:"Outubro"},{value:"11",label:"Novembro"},{value:"12",label:"Dezembro"}],d=()=>n.dateFrom||n.dateTo||n.month||n.searchTerm||n.sortBy!=="recent",h=()=>{let _=0;return(n.dateFrom||n.dateTo)&&_++,n.month&&_++,n.searchTerm&&_++,n.sortBy!=="recent"&&_++,_},p=()=>({recent:l.mostRecent,old:l.oldest,etd:l.etdDate,eta:l.etaDate,client:l.clientAZ})[n.sortBy],y=()=>{const _=[{value:"recent",label:l.mostRecent},{value:"old",label:l.oldest},{value:"etd",label:l.etdDate},{value:"eta",label:l.etaDate}];return s()&&_.push({value:"client",label:l.clientAZ}),_},w=()=>{if(!n.month)return l.allMonths;const _=f().find(b=>b.value===n.month);return _?_.label:l.allMonths};return v.jsxs("div",{className:"shipping-filters",ref:o,children:[v.jsxs("div",{className:"filters-header",children:[v.jsxs("div",{className:"filters-title",children:[v.jsx(_Y,{size:18}),v.jsx("span",{children:l.searchFilters}),d()&&v.jsx("span",{className:"active-filters-badge",children:h()})]}),v.jsxs("div",{className:"filters-actions",children:[d()&&v.jsxs("button",{className:"clear-filters-btn",onClick:r,title:"Limpar filtros",children:[v.jsx(Fl,{size:16}),"Limpar"]}),v.jsxs("button",{className:`dropdown-toggle-btn ${i?"open":""}`,onClick:()=>a(!i),children:[v.jsx(ND,{size:16}),i?l.less:l.more]})]})]}),v.jsxs("div",{className:"filters-main",children:[v.jsx("div",{className:"filter-group search-group",children:v.jsx("input",{type:"text",value:n.searchTerm,onChange:_=>u("searchTerm",_.target.value),placeholder:s()?l.searchPlaceholderAdmin:l.searchPlaceholderClient,className:"search-input"})}),v.jsxs("div",{className:"filter-summary",children:[v.jsxs("span",{className:"filter-summary-item",children:[v.jsx("strong",{children:l.sortBy})," ",p()]}),v.jsx("span",{className:"filter-summary-separator",children:""}),v.jsxs("span",{className:"filter-summary-item",children:[v.jsx("strong",{children:l.month})," ",w()]})]})]}),i&&v.jsxs("div",{className:"filters-dropdown",children:[v.jsxs("div",{className:"filters-row",children:[v.jsxs("div",{className:"filter-group",children:[v.jsx("label",{children:"Ordenar por:"}),v.jsx("select",{value:n.sortBy,onChange:_=>c(_.target.value),className:"sort-select",children:y().map(_=>v.jsx("option",{value:_.value,children:_.label},_.value))})]}),v.jsxs("div",{className:"filter-group",children:[v.jsx("label",{children:"Ordem:"}),v.jsxs("select",{value:n.sortOrder,onChange:_=>u("sortOrder",_.target.value),className:"order-select",children:[v.jsx("option",{value:"desc",children:"Decrescente"}),v.jsx("option",{value:"asc",children:"Crescente"})]})]}),v.jsxs("div",{className:"filter-group",children:[v.jsx("label",{children:"Ms de Origem:"}),v.jsx("select",{value:n.month,onChange:_=>u("month",_.target.value),className:"month-select",children:f().map(_=>v.jsx("option",{value:_.value,children:_.label},_.value))})]})]}),v.jsxs("div",{className:"filters-row",children:[v.jsxs("div",{className:"filter-group",children:[v.jsxs("label",{children:[v.jsx($5,{size:14}),"Data de:"]}),v.jsx("input",{type:"date",value:n.dateFrom,onChange:_=>u("dateFrom",_.target.value),className:"date-input"})]}),v.jsxs("div",{className:"filter-group",children:[v.jsxs("label",{children:[v.jsx($5,{size:14}),"Data at:"]}),v.jsx("input",{type:"date",value:n.dateTo,onChange:_=>u("dateTo",_.target.value),className:"date-input"})]})]})]})]})},oge=({shipments:n,onShipmentUpdate:e,initialFilters:r})=>{const{shipments:i,updateShipment:a,loading:o}=_1(),{isAdmin:s,currentUser:l}=Do(),{translations:u}=ss(),c=n||i,[f,d]=C.useState(null),[h,p]=C.useState(!1),[y,w]=C.useState(!1),[_,b]=C.useState(null),[S,A]=C.useState(!1),[T,B]=C.useState(null),$=ae=>{if(!ae)return"";const ne=new Date(ae);if(isNaN(ne.getTime()))return ae;const M=ne.getDate().toString().padStart(2,"0"),Y=(ne.getMonth()+1).toString().padStart(2,"0"),Z=ne.getFullYear();return`${M}/${Y}/${Z}`},[L,I]=C.useState({dateFrom:"",dateTo:"",month:"",sortBy:"recent",sortOrder:"desc",searchTerm:""});C.useEffect(()=>{if(r){let ae={...L};if(r.status,r.filter==="this-month"){const ne=new Date().getMonth()+1;ae.month=ne.toString()}I(ae)}},[r]);const O=C.useMemo(()=>{let ae=[...c];if(r!=null&&r.status&&(ae=ae.filter(ne=>ne.status===r.status)),L.month&&(ae=ae.filter(ne=>ne.etdOrigem?(new Date(ne.etdOrigem).getMonth()+1).toString()===L.month:!1)),L.dateFrom&&(ae=ae.filter(ne=>{if(ne.etdOrigem){const M=new Date(ne.etdOrigem),Y=new Date(L.dateFrom);return M>=Y}return!1})),L.dateTo&&(ae=ae.filter(ne=>{if(ne.etdOrigem){const M=new Date(ne.etdOrigem),Y=new Date(L.dateTo);return M<=Y}return!1})),L.searchTerm){const ne=L.searchTerm.toLowerCase();ae=ae.filter(M=>{var Y,Z,ie,ce,pe,Ee;return((Y=M.cliente)==null?void 0:Y.toLowerCase().includes(ne))||((Z=M.numeroBl)==null?void 0:Z.toLowerCase().includes(ne))||((ie=M.booking)==null?void 0:ie.toLowerCase().includes(ne))||((ce=M.pol)==null?void 0:ce.toLowerCase().includes(ne))||((pe=M.pod)==null?void 0:pe.toLowerCase().includes(ne))||((Ee=M.armador)==null?void 0:Ee.toLowerCase().includes(ne))})}return ae.sort((ne,M)=>{let Y,Z;switch(L.sortBy){case"recent":case"old":Y=new Date(ne.etdOrigem||0),Z=new Date(M.etdOrigem||0);break;case"client":Y=ne.cliente||"",Z=M.cliente||"";break;case"etd":Y=new Date(ne.etdOrigem||0),Z=new Date(M.etdOrigem||0);break;case"eta":Y=new Date(ne.etaDestino||0),Z=new Date(M.etaDestino||0);break;default:Y=new Date(ne.etdOrigem||0),Z=new Date(M.etdOrigem||0)}return L.sortOrder==="asc"?Y>Z?1:-1:Y<Z?1:-1}),ae},[c,L,r]),U=ae=>{I(ne=>({...ne,...ae}))},k=()=>{I({dateFrom:"",dateTo:"",month:"",sortBy:"recent",sortOrder:"desc",searchTerm:""})},R=ae=>{d(ae),p(!0)},j=()=>{d(null),p(!1)},H=async ae=>{try{await a(ae),e&&e(ae),j()}catch(ne){console.error("Erro ao salvar envio:",ne)}},oe=ae=>!(!s()||ae.status==="concluido"),he=async ae=>{try{console.log("Iniciando exportao PDF para:",ae.cliente,ae.numeroBl);const ne=new ft;ne.setFontSize(16),ne.text(`FOLLOW UP - ${ae.cliente||"NOME CLIENTE"}`,14,15),ne.setFontSize(12);const M=new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"}).toUpperCase();ne.text(`Data: ${M}`,14,25),ne.setFontSize(10);let Y=40;[["PROCESSO IM:",ae.numeroBl||"N/A"],["CLIENTE:",ae.cliente||"N/A"],["SHIPPER:",ae.shipper||"N/A"],["OPERADOR:",ae.operador||"N/A"],["POL:",ae.pol||"N/A"],["POD:",ae.pod||"N/A"],["ETA:",$(ae.etaDestino)],["ETD:",$(ae.etdOrigem)],["STATUS:",ae.status||"N/A"],["ARMADOR:",ae.armador||"N/A"],["BOOKING:",ae.booking||"N/A"],["QUANTIDADE:",`${ae.quantBox||1}X40HC`],["N BL:",ae.numeroBl||"N/A"]].forEach(([ie,ce])=>{ne.setFontSize(10),ne.text(ie,14,Y),ne.setFontSize(10),ne.text(ce,60,Y),Y+=8}),ne.save(`follow-up-${ae.cliente}-${ae.numeroBl}.pdf`)}catch(ne){console.error("Erro ao exportar para PDF:",ne)}},ye=async ae=>{if(!ae.companyId){console.warn("Shipment sem companyId, no  possvel enviar email.");return}try{const ne=await Qu(yr(Zt,"companies",ae.companyId));if(!ne.exists()){console.warn("Empresa no encontrada no Firestore");return}const M=ne.data();if(!M.contactEmail){console.warn("Empresa no tem email de contato cadastrado");return}await SD(M.contactEmail,M.name||ae.cliente,{vessel:ae.armador||"N/A",originPort:ae.pol||"N/A",destinationPort:ae.pod||"N/A",booking:ae.booking||"N/A",blNumber:ae.numeroBl||"N/A",etd:ae.etdOrigem,eta:ae.etaDestino,currentLocation:ae.currentLocation||"O navio est em trnsito",status:ae.status||"Em trnsito",imo:"9735206",actualDeparture:ae.etdOrigem?new Date(ae.etdOrigem).toLocaleString("pt-BR"):"N/A",reportedEta:ae.etaDestino?new Date(ae.etaDestino).toLocaleString("pt-BR"):"N/A"}),console.log("Email padro enviado com sucesso para:",M.contactEmail)}catch(ne){console.error("Erro ao enviar email padro:",ne)}},re=ae=>{b(ae),w(!0)},ue=()=>{A(!1),B(null)};return o?v.jsxs("div",{className:"shipping-table-container",children:[v.jsx("h2",{className:"shipping-table-title",children:u.shippingTable}),v.jsx("div",{className:"shipping-table-empty",children:u.loading})]}):v.jsx(Hme,{children:v.jsxs("div",{className:"shipping-table-container",children:[v.jsx("div",{className:"shipping-table-header",children:v.jsx("h2",{className:"shipping-table-title",children:u.shippingTable})}),v.jsx(age,{filters:L,onFiltersChange:U,onClearFilters:k}),O.length===0?v.jsx("div",{className:"shipping-table-empty",children:(c.length===0,u.noShipments)}):v.jsx("div",{className:"table-wrapper",children:v.jsxs("table",{className:"shipping-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:u.client}),v.jsx("th",{children:u.type}),v.jsx("th",{children:u.shipper}),v.jsx("th",{children:u.pol}),v.jsx("th",{children:u.pod}),v.jsx("th",{children:u.etdOrigin}),v.jsx("th",{children:u.etaDestination}),v.jsx("th",{children:u.quantBox}),v.jsx("th",{children:u.blNumber}),v.jsx("th",{children:u.carrier}),v.jsx("th",{children:u.booking}),v.jsx("th",{children:u.invoice}),v.jsx("th",{children:"Status"}),v.jsx("th",{children:u.actions})]})}),v.jsx("tbody",{children:O.map(ae=>{var ne;return v.jsxs("tr",{children:[v.jsx("td",{children:ae.cliente}),v.jsx("td",{children:v.jsx("span",{className:`tipo-badge tipo-${((ne=ae.tipo)==null?void 0:ne.toLowerCase())||"nao-especificado"}`,children:ae.tipo||"N/A"})}),v.jsx("td",{children:ae.shipper}),v.jsx("td",{children:ae.pol}),v.jsx("td",{children:ae.pod}),v.jsx("td",{children:$(ae.etdOrigem)}),v.jsx("td",{children:$(ae.etaDestino)}),v.jsx("td",{children:ae.quantBox}),v.jsx("td",{children:ae.numeroBl}),v.jsx("td",{children:ae.armador}),v.jsx("td",{children:ae.booking}),v.jsx("td",{children:ae.invoice}),v.jsx("td",{children:v.jsxs("div",{className:"action-icons",children:[s()&&v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"action-icon edit-icon",onClick:()=>R(ae),title:u.edit,disabled:!oe(ae),children:v.jsx(kY,{size:20})}),v.jsx("button",{className:"action-icon documents-icon",onClick:()=>re(ae),title:u.manageDocuments,children:v.jsx(xY,{size:20})}),v.jsx("button",{className:"action-icon check-icon",onClick:async()=>{try{await ye(ae)}catch(M){console.error("Erro ao exportar ou enviar email:",M)}},title:"Enviar informaes para o cliente",children:v.jsx(PD,{size:20})})]}),!s()&&v.jsx("button",{className:"action-icon view-documents-icon",onClick:()=>{B(ae),A(!0)},title:u.viewDocuments,children:v.jsx(bY,{size:20})}),v.jsx("button",{className:"action-icon export-icon",onClick:()=>he(ae),title:"Exportar para PDF",children:v.jsx(zs,{size:20})})]})})]},ae.id)})})]})}),O.length>0&&v.jsxs("div",{className:"table-summary",children:["Mostrando ",O.length," de ",c.length," ","envios"]}),h&&f&&v.jsx(Gme,{shipment:f,onClose:j,onSave:H,canEdit:oe(f)}),y&&_&&v.jsx(rge,{shipmentId:_.id||"",shipmentNumber:_.numeroBl,clientName:_.cliente,isOpen:y,onClose:()=>w(!1),onDocumentsUpdate:()=>{console.log("Documentos atualizados")}}),S&&T&&v.jsx(ige,{shipmentId:T.id||"",isOpen:S,onClose:ue})]})})},sge=()=>{const{isCollapsed:n}=C.useContext(Jm),[e]=yz(),[r,i]=C.useState({status:"",filter:""});C.useEffect(()=>{const o=e.get("status")||"",s=e.get("filter")||"";i({status:o,filter:s})},[e]);const a=o=>{console.log("Envio atualizado na pgina de envios:",o)};return v.jsxs("main",{className:"envios-container",children:[v.jsx(ql,{}),v.jsxs("div",{className:`envios-content ${n?"navbar-collapsed":""}`,children:[(r.status||r.filter)&&v.jsxs("div",{className:"active-filters",children:[v.jsx("h3",{children:"Filtros Ativos:"}),v.jsxs("div",{className:"filter-tags",children:[r.status&&v.jsxs("span",{className:"filter-tag",children:["Status: ",r.status==="em-transito"?"Em Trnsito":r.status==="concluido"?"Entregue":r.status==="documentacao"?"Pendente":r.status]}),r.filter==="this-month"&&v.jsx("span",{className:"filter-tag",children:"Este Ms"})]})]}),v.jsx(oge,{onShipmentUpdate:a,initialFilters:r})]}),v.jsx(Ef,{})]})},lge=()=>{const{isAdmin:n,loading:e}=Do();return e?v.jsx("div",{children:"Carregando..."}):n()?v.jsx(QF,{}):v.jsx(ZF,{})};function oB(){const{language:n,setLanguage:e,translations:r}=ss();return v.jsxs("div",{className:"language-switcher",children:[v.jsxs("p",{children:[r.selectLanguage,":"]}),v.jsxs("div",{className:"language-buttons",children:[v.jsx("button",{onClick:()=>e("pt"),className:n==="pt"?"active":"",children:"PT"}),v.jsx("button",{onClick:()=>e("en"),className:n==="en"?"active":"",children:"EN"}),v.jsx("button",{onClick:()=>e("es"),className:n==="es"?"active":"",children:"ES"})]})]})}var fn;(function(n){n.assertEqual=a=>{};function e(a){}n.assertIs=e;function r(a){throw new Error}n.assertNever=r,n.arrayToEnum=a=>{const o={};for(const s of a)o[s]=s;return o},n.getValidEnumValues=a=>{const o=n.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),s={};for(const l of o)s[l]=a[l];return n.objectValues(s)},n.objectValues=a=>n.objectKeys(a).map(function(o){return a[o]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&o.push(s);return o},n.find=(a,o)=>{for(const s of a)if(o(s))return s},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function i(a,o=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}n.joinValues=i,n.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(fn||(fn={}));var OI;(function(n){n.mergeShapes=(e,r)=>({...e,...r})})(OI||(OI={}));const et=fn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Nu=n=>{switch(typeof n){case"undefined":return et.undefined;case"string":return et.string;case"number":return Number.isNaN(n)?et.nan:et.number;case"boolean":return et.boolean;case"function":return et.function;case"bigint":return et.bigint;case"symbol":return et.symbol;case"object":return Array.isArray(n)?et.array:n===null?et.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?et.promise:typeof Map<"u"&&n instanceof Map?et.map:typeof Set<"u"&&n instanceof Set?et.set:typeof Date<"u"&&n instanceof Date?et.date:et.object;default:return et.unknown}},$e=fn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Hl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(o){return o.message},i={_errors:[]},a=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)i._errors.push(r(s));else{let l=i,u=0;for(;u<s.path.length;){const c=s.path[u];u===s.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(r(s))):l[c]=l[c]||{_errors:[]},l=l[c],u++}}};return a(this),i}static assert(e){if(!(e instanceof Hl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},i=[];for(const a of this.issues)if(a.path.length>0){const o=a.path[0];r[o]=r[o]||[],r[o].push(e(a))}else i.push(e(a));return{formErrors:i,fieldErrors:r}}get formErrors(){return this.flatten()}}Hl.create=n=>new Hl(n);const Q_=(n,e)=>{let r;switch(n.code){case $e.invalid_type:n.received===et.undefined?r="Required":r=`Expected ${n.expected}, received ${n.received}`;break;case $e.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(n.expected,fn.jsonStringifyReplacer)}`;break;case $e.unrecognized_keys:r=`Unrecognized key(s) in object: ${fn.joinValues(n.keys,", ")}`;break;case $e.invalid_union:r="Invalid input";break;case $e.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${fn.joinValues(n.options)}`;break;case $e.invalid_enum_value:r=`Invalid enum value. Expected ${fn.joinValues(n.options)}, received '${n.received}'`;break;case $e.invalid_arguments:r="Invalid function arguments";break;case $e.invalid_return_type:r="Invalid function return type";break;case $e.invalid_date:r="Invalid date";break;case $e.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(r=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?r=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?r=`Invalid input: must end with "${n.validation.endsWith}"`:fn.assertNever(n.validation):n.validation!=="regex"?r=`Invalid ${n.validation}`:r="Invalid";break;case $e.too_small:n.type==="array"?r=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?r=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?r=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?r=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?r=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:r="Invalid input";break;case $e.too_big:n.type==="array"?r=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?r=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?r=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?r=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?r=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:r="Invalid input";break;case $e.custom:r="Invalid input";break;case $e.invalid_intersection_types:r="Intersection results could not be merged";break;case $e.not_multiple_of:r=`Number must be a multiple of ${n.multipleOf}`;break;case $e.not_finite:r="Number must be finite";break;default:r=e.defaultError,fn.assertNever(n)}return{message:r}};let uge=Q_;function cge(){return uge}const fge=n=>{const{data:e,path:r,errorMaps:i,issueData:a}=n,o=[...r,...a.path||[]],s={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let l="";const u=i.filter(c=>!!c).slice().reverse();for(const c of u)l=c(s,{data:e,defaultError:l}).message;return{...a,path:o,message:l}};function qe(n,e){const r=cge(),i=fge({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,r,r===Q_?void 0:Q_].filter(a=>!!a)});n.common.issues.push(i)}class ao{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const i=[];for(const a of r){if(a.status==="aborted")return Lt;a.status==="dirty"&&e.dirty(),i.push(a.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,r){const i=[];for(const a of r){const o=await a.key,s=await a.value;i.push({key:o,value:s})}return ao.mergeObjectSync(e,i)}static mergeObjectSync(e,r){const i={};for(const a of r){const{key:o,value:s}=a;if(o.status==="aborted"||s.status==="aborted")return Lt;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(i[o.value]=s.value)}return{status:e.value,value:i}}}const Lt=Object.freeze({status:"aborted"}),Op=n=>({status:"dirty",value:n}),Fo=n=>({status:"valid",value:n}),jI=n=>n.status==="aborted",LI=n=>n.status==="dirty",hh=n=>n.status==="valid",I0=n=>typeof Promise<"u"&&n instanceof Promise;var st;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(st||(st={}));class dc{constructor(e,r,i,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=i,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const DI=(n,e)=>{if(hh(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Hl(n.common.issues);return this._error=r,this._error}}};function zt(n){if(!n)return{};const{errorMap:e,invalid_type_error:r,required_error:i,description:a}=n;if(e&&(r||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(s,l)=>{const{message:u}=n;return s.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:u??i??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:u??r??l.defaultError}},description:a}}class sn{get description(){return this._def.description}_getType(e){return Nu(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Nu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ao,ctx:{common:e.parent.common,data:e.data,parsedType:Nu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(I0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const i=this.safeParse(e,r);if(i.success)return i.data;throw i.error}safeParse(e,r){const i={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nu(e)},a=this._parseSync({data:e,path:i.path,parent:i});return DI(i,a)}"~validate"(e){var i,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nu(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:r});return hh(o)?{value:o.value}:{issues:r.common.issues}}catch(o){(a=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(o=>hh(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(e,r){const i=await this.safeParseAsync(e,r);if(i.success)return i.data;throw i.error}async safeParseAsync(e,r){const i={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nu(e)},a=this._parse({data:e,path:i.path,parent:i}),o=await(I0(a)?a:Promise.resolve(a));return DI(i,o)}refine(e,r){const i=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,o)=>{const s=e(a),l=()=>o.addIssue({code:$e.custom,...i(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(u=>u?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(e,r){return this._refinement((i,a)=>e(i)?!0:(a.addIssue(typeof r=="function"?r(i,a):r),!1))}_refinement(e){return new mh({schema:this,typeName:Dt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return tc.create(this,this._def)}nullable(){return gh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hs.create(this)}promise(){return D0.create(this,this._def)}or(e){return j0.create([this,e],this._def)}and(e){return L0.create(this,e,this._def)}transform(e){return new mh({...zt(this._def),schema:this,typeName:Dt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new J_({...zt(this._def),innerType:this,defaultValue:r,typeName:Dt.ZodDefault})}brand(){return new Lge({typeName:Dt.ZodBranded,type:this,...zt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new ex({...zt(this._def),innerType:this,catchValue:r,typeName:Dt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return aP.create(this,e)}readonly(){return tx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dge=/^c[^\s-]{8,}$/i,hge=/^[0-9a-z]+$/,pge=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mge=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gge=/^[a-z0-9_-]{21}$/i,vge=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yge=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wge=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bge="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let bb;const _ge=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xge=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Age=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Sge=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ege=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Pge=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Nge=new RegExp(`^${sB}$`);function lB(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const r=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function kge(n){return new RegExp(`^${lB(n)}$`)}function Tge(n){let e=`${sB}T${lB(n)}`;const r=[];return r.push(n.local?"Z?":"Z"),n.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Cge(n,e){return!!((e==="v4"||!e)&&_ge.test(n)||(e==="v6"||!e)&&Age.test(n))}function Ige(n,e){if(!vge.test(n))return!1;try{const[r]=n.split(".");if(!r)return!1;const i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function Oge(n,e){return!!((e==="v4"||!e)&&xge.test(n)||(e==="v6"||!e)&&Sge.test(n))}class Mu extends sn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==et.string){const o=this._getOrReturnCtx(e);return qe(o,{code:$e.invalid_type,expected:et.string,received:o.parsedType}),Lt}const i=new ao;let a;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,l=e.data.length<o.value;(s||l)&&(a=this._getOrReturnCtx(e,a),s?qe(a,{code:$e.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&qe(a,{code:$e.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")wge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"email",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")bb||(bb=new RegExp(bge,"u")),bb.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"emoji",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")mge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"uuid",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")gge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"nanoid",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")dge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"cuid",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")hge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"cuid2",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")pge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"ulid",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),qe(a,{validation:"url",code:$e.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"regex",code:$e.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?Tge(o).test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?Nge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?kge(o).test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?yge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"duration",code:$e.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?Cge(e.data,o.version)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"ip",code:$e.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?Ige(e.data,o.alg)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"jwt",code:$e.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?Oge(e.data,o.version)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"cidr",code:$e.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?Ege.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"base64",code:$e.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?Pge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"base64url",code:$e.invalid_string,message:o.message}),i.dirty()):fn.assertNever(o);return{status:i.value,value:e.data}}_regex(e,r,i){return this.refinement(a=>e.test(a),{validation:r,code:$e.invalid_string,...st.errToObj(i)})}_addCheck(e){return new Mu({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...st.errToObj(e)})}url(e){return this._addCheck({kind:"url",...st.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...st.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...st.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...st.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...st.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...st.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...st.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...st.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...st.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...st.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...st.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...st.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...st.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...st.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...st.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...st.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...st.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...st.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...st.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...st.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...st.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...st.errToObj(r)})}nonempty(e){return this.min(1,st.errToObj(e))}trim(){return new Mu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Mu.create=n=>new Mu({checks:[],typeName:Dt.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...zt(n)});function jge(n,e){const r=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,a=r>i?r:i,o=Number.parseInt(n.toFixed(a).replace(".","")),s=Number.parseInt(e.toFixed(a).replace(".",""));return o%s/10**a}class qm extends sn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==et.number){const o=this._getOrReturnCtx(e);return qe(o,{code:$e.invalid_type,expected:et.number,received:o.parsedType}),Lt}let i;const a=new ao;for(const o of this._def.checks)o.kind==="int"?fn.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?jge(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.not_finite,message:o.message}),a.dirty()):fn.assertNever(o);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,st.toString(r))}gt(e,r){return this.setLimit("min",e,!1,st.toString(r))}lte(e,r){return this.setLimit("max",e,!0,st.toString(r))}lt(e,r){return this.setLimit("max",e,!1,st.toString(r))}setLimit(e,r,i,a){return new qm({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:i,message:st.toString(a)}]})}_addCheck(e){return new qm({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:st.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:st.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:st.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:st.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:st.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&fn.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(r===null||i.value>r)&&(r=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(r)&&Number.isFinite(e)}}qm.create=n=>new qm({checks:[],typeName:Dt.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...zt(n)});class Wm extends sn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==et.bigint)return this._getInvalidInput(e);let i;const a=new ao;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):fn.assertNever(o);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return qe(r,{code:$e.invalid_type,expected:et.bigint,received:r.parsedType}),Lt}gte(e,r){return this.setLimit("min",e,!0,st.toString(r))}gt(e,r){return this.setLimit("min",e,!1,st.toString(r))}lte(e,r){return this.setLimit("max",e,!0,st.toString(r))}lt(e,r){return this.setLimit("max",e,!1,st.toString(r))}setLimit(e,r,i,a){return new Wm({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:i,message:st.toString(a)}]})}_addCheck(e){return new Wm({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:st.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Wm.create=n=>new Wm({checks:[],typeName:Dt.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...zt(n)});class RI extends sn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==et.boolean){const i=this._getOrReturnCtx(e);return qe(i,{code:$e.invalid_type,expected:et.boolean,received:i.parsedType}),Lt}return Fo(e.data)}}RI.create=n=>new RI({typeName:Dt.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...zt(n)});class O0 extends sn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==et.date){const o=this._getOrReturnCtx(e);return qe(o,{code:$e.invalid_type,expected:et.date,received:o.parsedType}),Lt}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return qe(o,{code:$e.invalid_date}),Lt}const i=new ao;let a;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):fn.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new O0({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:st.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:st.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}O0.create=n=>new O0({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Dt.ZodDate,...zt(n)});class MI extends sn{_parse(e){if(this._getType(e)!==et.symbol){const i=this._getOrReturnCtx(e);return qe(i,{code:$e.invalid_type,expected:et.symbol,received:i.parsedType}),Lt}return Fo(e.data)}}MI.create=n=>new MI({typeName:Dt.ZodSymbol,...zt(n)});class FI extends sn{_parse(e){if(this._getType(e)!==et.undefined){const i=this._getOrReturnCtx(e);return qe(i,{code:$e.invalid_type,expected:et.undefined,received:i.parsedType}),Lt}return Fo(e.data)}}FI.create=n=>new FI({typeName:Dt.ZodUndefined,...zt(n)});class BI extends sn{_parse(e){if(this._getType(e)!==et.null){const i=this._getOrReturnCtx(e);return qe(i,{code:$e.invalid_type,expected:et.null,received:i.parsedType}),Lt}return Fo(e.data)}}BI.create=n=>new BI({typeName:Dt.ZodNull,...zt(n)});class UI extends sn{constructor(){super(...arguments),this._any=!0}_parse(e){return Fo(e.data)}}UI.create=n=>new UI({typeName:Dt.ZodAny,...zt(n)});class $I extends sn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Fo(e.data)}}$I.create=n=>new $I({typeName:Dt.ZodUnknown,...zt(n)});class hc extends sn{_parse(e){const r=this._getOrReturnCtx(e);return qe(r,{code:$e.invalid_type,expected:et.never,received:r.parsedType}),Lt}}hc.create=n=>new hc({typeName:Dt.ZodNever,...zt(n)});class VI extends sn{_parse(e){if(this._getType(e)!==et.undefined){const i=this._getOrReturnCtx(e);return qe(i,{code:$e.invalid_type,expected:et.void,received:i.parsedType}),Lt}return Fo(e.data)}}VI.create=n=>new VI({typeName:Dt.ZodVoid,...zt(n)});class Hs extends sn{_parse(e){const{ctx:r,status:i}=this._processInputParams(e),a=this._def;if(r.parsedType!==et.array)return qe(r,{code:$e.invalid_type,expected:et.array,received:r.parsedType}),Lt;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(s||l)&&(qe(r,{code:s?$e.too_big:$e.too_small,minimum:l?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),i.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(qe(r,{code:$e.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),i.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(qe(r,{code:$e.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),i.dirty()),r.common.async)return Promise.all([...r.data].map((s,l)=>a.type._parseAsync(new dc(r,s,r.path,l)))).then(s=>ao.mergeArray(i,s));const o=[...r.data].map((s,l)=>a.type._parseSync(new dc(r,s,r.path,l)));return ao.mergeArray(i,o)}get element(){return this._def.type}min(e,r){return new Hs({...this._def,minLength:{value:e,message:st.toString(r)}})}max(e,r){return new Hs({...this._def,maxLength:{value:e,message:st.toString(r)}})}length(e,r){return new Hs({...this._def,exactLength:{value:e,message:st.toString(r)}})}nonempty(e){return this.min(1,e)}}Hs.create=(n,e)=>new Hs({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Dt.ZodArray,...zt(e)});function cd(n){if(n instanceof Fr){const e={};for(const r in n.shape){const i=n.shape[r];e[r]=tc.create(cd(i))}return new Fr({...n._def,shape:()=>e})}else return n instanceof Hs?new Hs({...n._def,type:cd(n.element)}):n instanceof tc?tc.create(cd(n.unwrap())):n instanceof gh?gh.create(cd(n.unwrap())):n instanceof Of?Of.create(n.items.map(e=>cd(e))):n}class Fr extends sn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=fn.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==et.object){const c=this._getOrReturnCtx(e);return qe(c,{code:$e.invalid_type,expected:et.object,received:c.parsedType}),Lt}const{status:i,ctx:a}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof hc&&this._def.unknownKeys==="strip"))for(const c in a.data)s.includes(c)||l.push(c);const u=[];for(const c of s){const f=o[c],d=a.data[c];u.push({key:{status:"valid",value:c},value:f._parse(new dc(a,d,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof hc){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:a.data[f]}});else if(c==="strict")l.length>0&&(qe(a,{code:$e.unrecognized_keys,keys:l}),i.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of l){const d=a.data[f];u.push({key:{status:"valid",value:f},value:c._parse(new dc(a,d,a.path,f)),alwaysSet:f in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of u){const d=await f.key,h=await f.value;c.push({key:d,value:h,alwaysSet:f.alwaysSet})}return c}).then(c=>ao.mergeObjectSync(i,c)):ao.mergeObjectSync(i,u)}get shape(){return this._def.shape()}strict(e){return st.errToObj,new Fr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,i)=>{var o,s;const a=((s=(o=this._def).errorMap)==null?void 0:s.call(o,r,i).message)??i.defaultError;return r.code==="unrecognized_keys"?{message:st.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Fr({...this._def,unknownKeys:"strip"})}passthrough(){return new Fr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Fr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Fr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Dt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Fr({...this._def,catchall:e})}pick(e){const r={};for(const i of fn.objectKeys(e))e[i]&&this.shape[i]&&(r[i]=this.shape[i]);return new Fr({...this._def,shape:()=>r})}omit(e){const r={};for(const i of fn.objectKeys(this.shape))e[i]||(r[i]=this.shape[i]);return new Fr({...this._def,shape:()=>r})}deepPartial(){return cd(this)}partial(e){const r={};for(const i of fn.objectKeys(this.shape)){const a=this.shape[i];e&&!e[i]?r[i]=a:r[i]=a.optional()}return new Fr({...this._def,shape:()=>r})}required(e){const r={};for(const i of fn.objectKeys(this.shape))if(e&&!e[i])r[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof tc;)o=o._def.innerType;r[i]=o}return new Fr({...this._def,shape:()=>r})}keyof(){return uB(fn.objectKeys(this.shape))}}Fr.create=(n,e)=>new Fr({shape:()=>n,unknownKeys:"strip",catchall:hc.create(),typeName:Dt.ZodObject,...zt(e)});Fr.strictCreate=(n,e)=>new Fr({shape:()=>n,unknownKeys:"strict",catchall:hc.create(),typeName:Dt.ZodObject,...zt(e)});Fr.lazycreate=(n,e)=>new Fr({shape:n,unknownKeys:"strip",catchall:hc.create(),typeName:Dt.ZodObject,...zt(e)});class j0 extends sn{_parse(e){const{ctx:r}=this._processInputParams(e),i=this._def.options;function a(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const s=o.map(l=>new Hl(l.ctx.common.issues));return qe(r,{code:$e.invalid_union,unionErrors:s}),Lt}if(r.common.async)return Promise.all(i.map(async o=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let o;const s=[];for(const u of i){const c={...r,common:{...r.common,issues:[]},parent:null},f=u._parseSync({data:r.data,path:r.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const l=s.map(u=>new Hl(u));return qe(r,{code:$e.invalid_union,unionErrors:l}),Lt}}get options(){return this._def.options}}j0.create=(n,e)=>new j0({options:n,typeName:Dt.ZodUnion,...zt(e)});function Z_(n,e){const r=Nu(n),i=Nu(e);if(n===e)return{valid:!0,data:n};if(r===et.object&&i===et.object){const a=fn.objectKeys(e),o=fn.objectKeys(n).filter(l=>a.indexOf(l)!==-1),s={...n,...e};for(const l of o){const u=Z_(n[l],e[l]);if(!u.valid)return{valid:!1};s[l]=u.data}return{valid:!0,data:s}}else if(r===et.array&&i===et.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let o=0;o<n.length;o++){const s=n[o],l=e[o],u=Z_(s,l);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}else return r===et.date&&i===et.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class L0 extends sn{_parse(e){const{status:r,ctx:i}=this._processInputParams(e),a=(o,s)=>{if(jI(o)||jI(s))return Lt;const l=Z_(o.value,s.value);return l.valid?((LI(o)||LI(s))&&r.dirty(),{status:r.value,value:l.data}):(qe(i,{code:$e.invalid_intersection_types}),Lt)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,s])=>a(o,s)):a(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}L0.create=(n,e,r)=>new L0({left:n,right:e,typeName:Dt.ZodIntersection,...zt(r)});class Of extends sn{_parse(e){const{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==et.array)return qe(i,{code:$e.invalid_type,expected:et.array,received:i.parsedType}),Lt;if(i.data.length<this._def.items.length)return qe(i,{code:$e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Lt;!this._def.rest&&i.data.length>this._def.items.length&&(qe(i,{code:$e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...i.data].map((s,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new dc(i,s,i.path,l)):null}).filter(s=>!!s);return i.common.async?Promise.all(o).then(s=>ao.mergeArray(r,s)):ao.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new Of({...this._def,rest:e})}}Of.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Of({items:n,typeName:Dt.ZodTuple,rest:null,...zt(e)})};class zI extends sn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==et.map)return qe(i,{code:$e.invalid_type,expected:et.map,received:i.parsedType}),Lt;const a=this._def.keyType,o=this._def.valueType,s=[...i.data.entries()].map(([l,u],c)=>({key:a._parse(new dc(i,l,i.path,[c,"key"])),value:o._parse(new dc(i,u,i.path,[c,"value"]))}));if(i.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of s){const c=await u.key,f=await u.value;if(c.status==="aborted"||f.status==="aborted")return Lt;(c.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(c.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const u of s){const c=u.key,f=u.value;if(c.status==="aborted"||f.status==="aborted")return Lt;(c.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(c.value,f.value)}return{status:r.value,value:l}}}}zI.create=(n,e,r)=>new zI({valueType:e,keyType:n,typeName:Dt.ZodMap,...zt(r)});class Hm extends sn{_parse(e){const{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==et.set)return qe(i,{code:$e.invalid_type,expected:et.set,received:i.parsedType}),Lt;const a=this._def;a.minSize!==null&&i.data.size<a.minSize.value&&(qe(i,{code:$e.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&i.data.size>a.maxSize.value&&(qe(i,{code:$e.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const o=this._def.valueType;function s(u){const c=new Set;for(const f of u){if(f.status==="aborted")return Lt;f.status==="dirty"&&r.dirty(),c.add(f.value)}return{status:r.value,value:c}}const l=[...i.data.values()].map((u,c)=>o._parse(new dc(i,u,i.path,c)));return i.common.async?Promise.all(l).then(u=>s(u)):s(l)}min(e,r){return new Hm({...this._def,minSize:{value:e,message:st.toString(r)}})}max(e,r){return new Hm({...this._def,maxSize:{value:e,message:st.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Hm.create=(n,e)=>new Hm({valueType:n,minSize:null,maxSize:null,typeName:Dt.ZodSet,...zt(e)});class qI extends sn{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}qI.create=(n,e)=>new qI({getter:n,typeName:Dt.ZodLazy,...zt(e)});class WI extends sn{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return qe(r,{received:r.data,code:$e.invalid_literal,expected:this._def.value}),Lt}return{status:"valid",value:e.data}}get value(){return this._def.value}}WI.create=(n,e)=>new WI({value:n,typeName:Dt.ZodLiteral,...zt(e)});function uB(n,e){return new ph({values:n,typeName:Dt.ZodEnum,...zt(e)})}class ph extends sn{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),i=this._def.values;return qe(r,{expected:fn.joinValues(i),received:r.parsedType,code:$e.invalid_type}),Lt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),i=this._def.values;return qe(r,{received:r.data,code:$e.invalid_enum_value,options:i}),Lt}return Fo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ph.create(e,{...this._def,...r})}exclude(e,r=this._def){return ph.create(this.options.filter(i=>!e.includes(i)),{...this._def,...r})}}ph.create=uB;class HI extends sn{_parse(e){const r=fn.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==et.string&&i.parsedType!==et.number){const a=fn.objectValues(r);return qe(i,{expected:fn.joinValues(a),received:i.parsedType,code:$e.invalid_type}),Lt}if(this._cache||(this._cache=new Set(fn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=fn.objectValues(r);return qe(i,{received:i.data,code:$e.invalid_enum_value,options:a}),Lt}return Fo(e.data)}get enum(){return this._def.values}}HI.create=(n,e)=>new HI({values:n,typeName:Dt.ZodNativeEnum,...zt(e)});class D0 extends sn{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==et.promise&&r.common.async===!1)return qe(r,{code:$e.invalid_type,expected:et.promise,received:r.parsedType}),Lt;const i=r.parsedType===et.promise?r.data:Promise.resolve(r.data);return Fo(i.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}D0.create=(n,e)=>new D0({type:n,typeName:Dt.ZodPromise,...zt(e)});class mh extends sn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Dt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:i}=this._processInputParams(e),a=this._def.effect||null,o={addIssue:s=>{qe(i,s),s.fatal?r.abort():r.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const s=a.transform(i.data,o);if(i.common.async)return Promise.resolve(s).then(async l=>{if(r.value==="aborted")return Lt;const u=await this._def.schema._parseAsync({data:l,path:i.path,parent:i});return u.status==="aborted"?Lt:u.status==="dirty"||r.value==="dirty"?Op(u.value):u});{if(r.value==="aborted")return Lt;const l=this._def.schema._parseSync({data:s,path:i.path,parent:i});return l.status==="aborted"?Lt:l.status==="dirty"||r.value==="dirty"?Op(l.value):l}}if(a.type==="refinement"){const s=l=>{const u=a.refinement(l,o);if(i.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?Lt:(l.status==="dirty"&&r.dirty(),s(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>l.status==="aborted"?Lt:(l.status==="dirty"&&r.dirty(),s(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(i.common.async===!1){const s=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!hh(s))return Lt;const l=a.transform(s.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(s=>hh(s)?Promise.resolve(a.transform(s.value,o)).then(l=>({status:r.value,value:l})):Lt);fn.assertNever(a)}}mh.create=(n,e,r)=>new mh({schema:n,typeName:Dt.ZodEffects,effect:e,...zt(r)});mh.createWithPreprocess=(n,e,r)=>new mh({schema:e,effect:{type:"preprocess",transform:n},typeName:Dt.ZodEffects,...zt(r)});class tc extends sn{_parse(e){return this._getType(e)===et.undefined?Fo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tc.create=(n,e)=>new tc({innerType:n,typeName:Dt.ZodOptional,...zt(e)});class gh extends sn{_parse(e){return this._getType(e)===et.null?Fo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gh.create=(n,e)=>new gh({innerType:n,typeName:Dt.ZodNullable,...zt(e)});class J_ extends sn{_parse(e){const{ctx:r}=this._processInputParams(e);let i=r.data;return r.parsedType===et.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}J_.create=(n,e)=>new J_({innerType:n,typeName:Dt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...zt(e)});class ex extends sn{_parse(e){const{ctx:r}=this._processInputParams(e),i={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return I0(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Hl(i.common.issues)},input:i.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Hl(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}ex.create=(n,e)=>new ex({innerType:n,typeName:Dt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...zt(e)});class KI extends sn{_parse(e){if(this._getType(e)!==et.nan){const i=this._getOrReturnCtx(e);return qe(i,{code:$e.invalid_type,expected:et.nan,received:i.parsedType}),Lt}return{status:"valid",value:e.data}}}KI.create=n=>new KI({typeName:Dt.ZodNaN,...zt(n)});class Lge extends sn{_parse(e){const{ctx:r}=this._processInputParams(e),i=r.data;return this._def.type._parse({data:i,path:r.path,parent:r})}unwrap(){return this._def.type}}class aP extends sn{_parse(e){const{status:r,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Lt:o.status==="dirty"?(r.dirty(),Op(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const a=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Lt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:i.path,parent:i})}}static create(e,r){return new aP({in:e,out:r,typeName:Dt.ZodPipeline})}}class tx extends sn{_parse(e){const r=this._def.innerType._parse(e),i=a=>(hh(a)&&(a.value=Object.freeze(a.value)),a);return I0(r)?r.then(a=>i(a)):i(r)}unwrap(){return this._def.innerType}}tx.create=(n,e)=>new tx({innerType:n,typeName:Dt.ZodReadonly,...zt(e)});var Dt;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Dt||(Dt={}));const Pd=Mu.create;hc.create;Hs.create;const cB=Fr.create;j0.create;L0.create;Of.create;ph.create;D0.create;tc.create;gh.create;const Dge=n=>cB({email:Pd().email(n.emailError),password:Pd().nonempty(n.passwordError)}),Rge="/assets/logo-CFLHzZDJ.png";function Mge(){const[n,e]=C.useState({email:"",password:""}),[r,i]=C.useState({}),[a,o]=C.useState(!1),{translations:s}=ss(),{login:l}=Do(),u=Df(),c=C.useMemo(()=>Dge(s),[s]),f=async d=>{var p,y;if(d.preventDefault(),a)return;const h=c.safeParse(n);if(!h.success){const w=h.error.format();i({email:(p=w.email)==null?void 0:p._errors[0],password:(y=w.password)==null?void 0:y._errors[0]});return}i({}),o(!0);try{await l(n.email,n.password),console.log("Usuario logado com sucesso"),u("/home")}catch(w){console.error("Erro ao logar:",w);const _=w instanceof Error?w.message:"Erro ao fazer login. Verifique suas credenciais.";alert(_)}finally{o(!1)}};return v.jsxs("div",{className:"login-form-container",children:[v.jsx("h1",{className:"welcome-title",children:s.welcomeTo}),v.jsx("div",{className:"logo-container",children:v.jsx("img",{src:Rge,alt:"Sea Logistics Logo",className:"logo-image"})}),v.jsxs("form",{onSubmit:f,className:"login-form",noValidate:!0,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"email",children:s.email}),v.jsx("input",{id:"email",value:n.email,onChange:d=>e({...n,email:d.target.value}),placeholder:s.emailPlaceholder,required:!0,disabled:a}),r.email&&v.jsx("p",{className:"error-text",children:r.email})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"password",children:s.password}),v.jsx("input",{type:"password",id:"password",value:n.password,onChange:d=>e({...n,password:d.target.value}),placeholder:s.passwordPlaceholder,required:!0,disabled:a}),r.password&&v.jsx("p",{className:"error-text",children:r.password})]}),v.jsx("button",{type:"submit",className:"login-button",disabled:a,children:a?"Entrando...":s.loginButton})]}),v.jsxs("div",{className:"register-link",children:[s.dontHaveAccount,v.jsxs("a",{className:"register-link-button",onClick:()=>!a&&u("/register"),children:[" ",s.registerLink]})]})]})}const Fge=()=>v.jsx("main",{className:"login-container",children:v.jsxs("div",{className:"login-card",children:[v.jsx(Mge,{}),v.jsx(oB,{})]})}),Bge=()=>{const n=Df(),{addShipment:e}=_1(),{isAdmin:r}=Do(),{isCollapsed:i}=C.useContext(Jm),{translations:a}=ss();C.useEffect(()=>{r()||(alert("Acesso negado. Apenas administradores podem criar novos shipments."),n("/home"))},[r,n]);const[o,s]=C.useState({clienteId:"",operador:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",quantBox:1,status:"agendado",numeroBl:"",armador:"",booking:"",invoice:"",tipo:"",shipper:""}),[l,u]=C.useState([]),[c,f]=C.useState([]),[d,h]=C.useState(!1),[p,y]=C.useState(!1),[w,_]=C.useState(!1);C.useEffect(()=>{o.tipo&&s($=>({...$,pol:"",pod:""}))},[o.tipo]),C.useEffect(()=>{(async()=>{h(!0);try{const L=xf(Sa(Zt,"users"),Xu("role","!=","admin")),O=(await Vs(L)).docs.map(U=>{const k=U.data();return{id:U.id,nome:k.displayName||k.name||"Usurio",empresa:k.companyName||"-",email:k.email||"-",companyId:k.companyId||void 0}});u(O)}catch(L){console.error("Erro ao buscar clientes:",L),u([])}finally{h(!1)}})()},[]),C.useEffect(()=>{(async()=>{y(!0);try{const L=xf(Sa(Zt,"users"),Xu("role","==","admin"),Xu("isActive","==",!0)),O=(await Vs(L)).docs.map(U=>{const k=U.data();return{id:U.id,nome:k.displayName||k.name||"Admin",email:k.email||""}});f(O)}catch(L){console.error("Erro ao buscar operadores:",L),f([])}finally{y(!1)}})()},[]);const b=["Santos, Brasil","Itaja, Brasil","Paranagu, Brasil","Rio Grande, Brasil","Suape, Brasil","Rotterdam, Holanda","Hamburgo, Alemanha","Barcelona, Espanha","Xangai, China","Singapura","Los Angeles, EUA","Nova York, EUA"],S=["Guarulhos (GRU), So Paulo, Brasil","Galeo (GIG), Rio de Janeiro, Brasil","Braslia (BSB), Brasil","Miami (MIA), EUA","JFK (JFK), Nova York, EUA","Heathrow (LHR), Londres, Reino Unido","Charles de Gaulle (CDG), Paris, Frana","Frankfurt (FRA), Alemanha","Dubai (DXB), Emirados rabes","Hong Kong (HKG), China","Narita (NRT), Tquio, Japo"],A=["So Paulo, Brasil","Rio de Janeiro, Brasil","Braslia, Brasil","Curitiba, Brasil","Porto Alegre, Brasil","Belo Horizonte, Brasil","Salvador, Brasil","Recife, Brasil","Fortaleza, Brasil","Manaus, Brasil","Miami, EUA","Nova York, EUA","Los Angeles, EUA","Londres, Reino Unido","Paris, Frana","Berlim, Alemanha","Madri, Espanha","Roma, Itlia","Amsterd, Holanda","Bruxelas, Blgica"],T=$=>{const{name:L,value:I}=$.target;s(O=>({...O,[L]:L==="quantBox"?Number.parseInt(I):I}))},B=async $=>{if($.preventDefault(),!r()){alert("Erro: Voc no tem permisso para criar shipments.");return}_(!0);try{const L=l.find(O=>O.id===o.clienteId);if(!L){alert(a.pleaseSelectValidClient),_(!1);return}const I={cliente:L.empresa,operador:o.operador,pol:o.pol,pod:o.pod,etdOrigem:o.etdOrigem,etaDestino:o.etaDestino,currentLocation:o.pol,quantBox:o.quantBox,status:o.status,numeroBl:o.numeroBl,armador:o.armador,booking:o.booking,companyId:L.companyId,invoice:o.invoice,shipper:"",tipo:o.tipo};await e(I),alert("Envio registrado com sucesso!"),s({clienteId:"",operador:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",quantBox:1,status:"agendado",numeroBl:"",armador:"",booking:"",invoice:"",tipo:"",shipper:""}),n("/home")}catch(L){console.error("Erro ao criar shipment:",L),alert("Erro ao criar shipment. Tente novamente.")}finally{_(!1)}};return l.find($=>$.id===o.clienteId),r()?v.jsxs("main",{className:"novo-envio-container",children:[v.jsx(ql,{}),v.jsxs("div",{className:`novo-envio-content ${i?"navbar-collapsed":""}`,children:[v.jsxs("div",{className:"page-header",children:[v.jsx("h1",{children:a.newShipmentTitle}),v.jsx("p",{children:"Preencha as informaes para criar um novo envio"})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("div",{className:"section-header",children:[v.jsx(qs,{size:20}),v.jsx("h2",{children:"Tipo de Envio"})]}),v.jsx("div",{className:"form-row",children:v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"tipo",children:[v.jsx(qs,{size:16,style:{marginRight:"8px",verticalAlign:"middle"}}),"Tipo de Transporte *"]}),v.jsxs("select",{id:"tipo",name:"tipo",value:o.tipo,onChange:T,required:!0,children:[v.jsx("option",{value:"",children:"Selecione o tipo de transporte"}),v.jsx("option",{value:"Martimo",children:"Martimo"}),v.jsx("option",{value:"Areo",children:"Areo"}),v.jsx("option",{value:"Terrestre",children:"Terrestre"})]})]})})]}),v.jsx("div",{className:"form-container",children:v.jsxs("form",{onSubmit:B,className:"novo-envio-form",children:[v.jsxs("div",{className:"form-section",children:[v.jsxs("div",{className:"section-header",children:[v.jsx(zA,{size:20}),v.jsx("h2",{children:"Cliente e Operador"})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"clienteId",children:"Cliente *"}),v.jsxs("select",{id:"clienteId",name:"clienteId",value:o.clienteId,onChange:T,required:!0,disabled:d,children:[v.jsx("option",{value:"",children:d?a.loading:a.selectClient}),l.map($=>v.jsxs("option",{value:$.id,children:[$.nome," - ",$.empresa]},$.id))]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"operador",children:"Operador *"}),v.jsxs("select",{id:"operador",name:"operador",value:o.operador,onChange:T,required:!0,disabled:p,children:[v.jsx("option",{value:"",children:p?a.loading:a.selectOperator}),c.map($=>v.jsx("option",{value:$.id,children:$.nome},$.id))]})]})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("div",{className:"section-header",children:[v.jsx($A,{size:20}),v.jsx("h2",{children:"Rota"})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"pol",children:[o.tipo==="Areo"?"Aeroporto de Origem":o.tipo==="Terrestre"?"Local de Origem":"Porto de Origem"," (POL) *"]}),v.jsxs("select",{id:"pol",name:"pol",value:o.pol,onChange:T,required:!0,children:[v.jsx("option",{value:"",children:o.tipo==="Areo"?"Selecione o aeroporto de origem":o.tipo==="Terrestre"?"Selecione o local de origem":"Selecione o porto de origem"}),o.tipo==="Areo"?S.map($=>v.jsx("option",{value:$,children:$},$)):o.tipo==="Terrestre"?A.map($=>v.jsx("option",{value:$,children:$},$)):b.map($=>v.jsx("option",{value:$,children:$},$))]})]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"pod",children:[o.tipo==="Areo"?"Aeroporto de Destino":o.tipo==="Terrestre"?"Local de Destino":"Porto de Destino"," (POD) *"]}),v.jsxs("select",{id:"pod",name:"pod",value:o.pod,onChange:T,required:!0,children:[v.jsx("option",{value:"",children:o.tipo==="Areo"?"Selecione o aeroporto de destino":o.tipo==="Terrestre"?"Selecione o local de destino":"Selecione o porto de destino"}),o.tipo==="Areo"?S.map($=>v.jsx("option",{value:$,children:$},$)):o.tipo==="Terrestre"?A.map($=>v.jsx("option",{value:$,children:$},$)):b.map($=>v.jsx("option",{value:$,children:$},$))]})]})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"etdOrigem",children:"Data de Partida (ETD) *"}),v.jsx("input",{type:"date",id:"etdOrigem",name:"etdOrigem",value:o.etdOrigem,onChange:T,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"etaDestino",children:"Data Prevista Chegada (ETA) *"}),v.jsx("input",{type:"date",id:"etaDestino",name:"etaDestino",value:o.etaDestino,onChange:T,required:!0})]})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("div",{className:"section-header",children:[v.jsx(zs,{size:20}),v.jsx("h2",{children:"Documentao"})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"numeroBl",children:"Nmero do BL *"}),v.jsx("input",{type:"text",id:"numeroBl",name:"numeroBl",value:o.numeroBl,onChange:T,placeholder:"Ex: BL123456789",required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"booking",children:"Nmero do Booking *"}),v.jsx("input",{type:"text",id:"booking",name:"booking",value:o.booking,onChange:T,placeholder:"Ex: BK987654321",required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"invoice",children:"Nmero do Invoice *"}),v.jsx("input",{type:"text",id:"invoice",name:"invoice",value:o.invoice,onChange:T,placeholder:"Ex: INV123456789",required:!0})]})]})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>window.history.back(),children:a.cancel}),v.jsx("button",{type:"submit",className:"btn-submit",disabled:w,children:w?"Registrando...":a.newShipmentTitle})]})]})})]})]}):v.jsxs("main",{className:"novo-envio-main",children:[v.jsx(ql,{}),v.jsx("div",{className:`novo-envio-content ${i?"navbar-collapsed":""}`,children:v.jsx("div",{className:"novo-envio-container",children:v.jsxs("div",{className:"access-denied",children:[v.jsx("h2",{children:"Acesso Negado"}),v.jsx("p",{children:"Apenas administradores podem criar novos shipments."})]})})})]})},Uge=n=>cB({name:Pd().nonempty(n.nameError),email:Pd().email(n.emailError),password:Pd().min(6,n.passwordError),confirmPassword:Pd().min(6,n.confirmPasswordError)}).refine(e=>e.password===e.confirmPassword,{message:n.passwordsDontMatch,path:["confirmPassword"]});function $ge(){const[n,e]=C.useState({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:vn.COMPANY_USER}),[r,i]=C.useState({}),[a,o]=C.useState(!1),{translations:s}=ss(),l=Df(),u=C.useMemo(()=>Uge(s),[s]),c=async(d,h)=>{try{const p=xf(Sa(Zt,"companies"),Xu("code","==",h)),y=await Vs(p);if(y.empty){const w=`company_${Date.now()}`;return await km(yr(Zt,"companies",w),{id:w,name:d,code:h,contactEmail:n.email,isActive:!0,createdAt:new Date}),w}else return y.docs[0].id}catch(p){throw console.error("Error finding/creating company:",p),p}},f=async d=>{var T,B,$,L;d.preventDefault();const{name:h,email:p,password:y,confirmPassword:w,companyName:_,companyCode:b,role:S}=n;if(console.log(n),y!==w){alert("As senhas no coincidem.");return}if(S===vn.COMPANY_USER&&(!_||!b)){alert("Nome da empresa e cdigo so obrigatrios para usurios de empresa.");return}const A=u.safeParse(n);if(!A.success){const I=A.error.format();i({name:(T=I.name)==null?void 0:T._errors[0],email:(B=I.email)==null?void 0:B._errors[0],password:($=I.password)==null?void 0:$._errors[0],confirmPassword:(L=I.confirmPassword)==null?void 0:L._errors[0]});return}i({});try{const I=`user_${Date.now()}`;let O;S===vn.COMPANY_USER&&_&&b&&(O=await c(_,b));const U={uid:I,displayName:h??"",email:p,role:S,isActive:!0,createdAt:new Date},k=S===vn.COMPANY_USER?{...U,companyId:O,companyName:_}:U;await km(yr(Zt,"users",I),k),localStorage.setItem("currentUser",JSON.stringify({email:p,name:h??"Usurio",id:I,role:S})),console.log("Usurio cadastrado com sucesso"),l("/home")}catch(I){console.error("Erro ao cadastrar:",I),alert("Erro ao cadastrar. Verifique os dados e tente novamente.")}};return v.jsxs("div",{className:"split-card",children:[v.jsx("div",{className:"split-branding",children:v.jsxs("div",{className:"split-branding-content",children:[v.jsx("h1",{className:"split-welcome-title",children:s.welcomeTo}),v.jsx("div",{className:"split-logo",children:v.jsx("img",{src:YF,alt:"Sea Logistics Logo",className:"split-logo-image"})}),v.jsx("p",{className:"split-description",children:s.registerText})]})}),v.jsxs("div",{className:"split-form-container",children:[v.jsx("h2",{className:"split-title",children:s.createAccount}),v.jsxs("div",{className:"split-form-group",children:[v.jsx("label",{children:"Tipo de Usurio"}),v.jsxs("div",{className:"user-type-selector",children:[v.jsxs("label",{className:"radio-option",children:[v.jsx("input",{type:"radio",name:"userType",checked:!a,onChange:()=>{o(!1),e({...n,role:vn.COMPANY_USER})}}),"Usurio de Empresa"]}),v.jsxs("label",{className:"radio-option",children:[v.jsx("input",{type:"radio",name:"userType",checked:a,onChange:()=>{o(!0),e({...n,role:vn.ADMIN})}}),"Administrador"]})]})]}),v.jsxs("form",{onSubmit:f,className:"split-form",noValidate:!0,children:[v.jsxs("div",{className:"split-form-group",children:[v.jsx("label",{htmlFor:"name",children:s.name}),v.jsx("input",{id:"name",value:n.name,onChange:d=>e({...n,name:d.target.value}),placeholder:s.namePlaceholder,required:!0}),r.name&&v.jsx("p",{className:"error-text",children:r.name})]}),v.jsxs("div",{className:"split-form-group",children:[v.jsx("label",{htmlFor:"email",children:s.email}),v.jsx("input",{id:"email",type:"email",value:n.email,onChange:d=>e({...n,email:d.target.value}),placeholder:s.emailPlaceholder,required:!0}),r.email&&v.jsx("p",{className:"error-text",children:r.email})]}),!a&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"split-form-group",children:[v.jsx("label",{htmlFor:"companyName",children:"Nome da Empresa"}),v.jsx("input",{id:"companyName",value:n.companyName,onChange:d=>e({...n,companyName:d.target.value}),placeholder:"Digite o nome da sua empresa",required:!a}),r.companyName&&v.jsx("p",{className:"error-text",children:r.companyName})]}),v.jsxs("div",{className:"split-form-group",children:[v.jsx("label",{htmlFor:"companyCode",children:"Cdigo da Empresa"}),v.jsx("input",{id:"companyCode",value:n.companyCode,onChange:d=>e({...n,companyCode:d.target.value.toUpperCase()}),placeholder:"Ex: LOG001",required:!a}),v.jsx("small",{children:"Cdigo nico para identificar sua empresa"}),r.companyCode&&v.jsx("p",{className:"error-text",children:r.companyCode})]})]}),v.jsxs("div",{className:"split-password-grid",children:[v.jsxs("div",{className:"split-form-group",children:[v.jsx("label",{htmlFor:"password",children:s.password}),v.jsx("input",{id:"password",type:"password",value:n.password,onChange:d=>e({...n,password:d.target.value}),placeholder:s.passwordPlaceholder,required:!0}),r.password&&v.jsx("p",{className:"error-text",children:r.password})]}),v.jsxs("div",{className:"split-form-group",children:[v.jsx("label",{htmlFor:"confirm-password",children:s.confirmPassword}),v.jsx("input",{id:"confirm-password",type:"password",value:n.confirmPassword,onChange:d=>e({...n,confirmPassword:d.target.value}),placeholder:s.confirmPasswordPlaceholder,required:!0}),r.confirmPassword&&v.jsx("p",{className:"error-text",children:r.confirmPassword})]})]}),v.jsx("button",{type:"submit",className:"split-button",children:s.registerButton})]}),v.jsxs("div",{className:"split-login-link",children:[s.alreadyHaveAccount," ",v.jsx("a",{onClick:()=>l("/"),className:"split-link",children:s.loginLink})]}),v.jsx(oB,{})]})]})}const Vge=()=>v.jsx("main",{className:"login-container",children:v.jsx($ge,{})}),zge=()=>{const{isCollapsed:n}=C.useContext(Jm),r=(()=>{const y=localStorage.getItem("currentUser");return y?JSON.parse(y):{id:"demo-user-123",email:"demo@sealogistics.com",name:"Usurio Demo"}})(),i=r.id,[a,o]=C.useState({name:"",email:"",phone:"",company:"",position:"",notifications:{email:!0,push:!0,statusUpdates:!0,newShipments:!0},preferences:{language:"pt",timezone:"America/Sao_Paulo",dateFormat:"DD/MM/YYYY",theme:"light"}}),[s,l]=C.useState(!1),[u,c]=C.useState(!1);C.useEffect(()=>{f()},[]);const f=async()=>{l(!0);try{const y=await Qu(yr(Zt,"users",i));if(y.exists()){const w=y.data();o({name:w.name||r.name||"",email:w.email||r.email||"",phone:w.phone||"",company:w.company||"",position:w.position||"",notifications:w.notifications||a.notifications,preferences:w.preferences||a.preferences})}else{const w={name:r.name||"Usurio Demo",email:r.email||"demo@sealogistics.com",phone:"",company:"",position:"",notifications:a.notifications,preferences:a.preferences,createdAt:new Date};await Zu(yr(Zt,"users",i),w),o(_=>({..._,...w}))}}catch(y){console.error("Erro ao carregar configuraes:",y);try{const w={name:r.name||"Usurio Demo",email:r.email||"demo@sealogistics.com",phone:"",company:"",position:"",notifications:a.notifications,preferences:a.preferences,createdAt:new Date};await Zu(yr(Zt,"users",i),w),o(_=>({..._,...w}))}catch(w){console.error("Erro ao criar documento do usurio:",w)}}finally{l(!1)}},d=(y,w)=>{o(_=>({..._,[y]:w}))},h=(y,w,_)=>{o(b=>({...b,[y]:{...b[y],[w]:_}}))},p=async()=>{c(!0);try{await Zu(yr(Zt,"users",i),{name:a.name,email:a.email,phone:a.phone,company:a.company,position:a.position,notifications:a.notifications,preferences:a.preferences,updatedAt:new Date}),alert("Configuraes salvas com sucesso!")}catch(y){console.error("Erro ao salvar configuraes:",y),alert("Erro ao salvar configuraes. Tente novamente.")}finally{c(!1)}};return s?v.jsx(U5,{children:v.jsxs("main",{className:"settings-container",children:[v.jsx(ql,{}),v.jsx("div",{className:`settings-content ${n?"navbar-collapsed":""}`,children:v.jsx("div",{className:"loading-message",children:"Carregando configuraes..."})}),v.jsx(Ef,{})]})}):v.jsx(U5,{children:v.jsxs("main",{className:"settings-container",children:[v.jsx(ql,{}),v.jsx("div",{className:`settings-content ${n?"navbar-collapsed":""}`,children:v.jsxs("div",{className:"settings-wrapper",children:[v.jsxs("div",{className:"settings-header",children:[v.jsx("h1",{children:"Configuraes da conta"}),v.jsx("p",{children:"Gerencie suas informaes pessoais e preferncias"})]}),v.jsxs("div",{className:"settings-sections",children:[v.jsxs("div",{className:"settings-section",children:[v.jsxs("div",{className:"section-header",children:[v.jsx(zA,{size:20}),v.jsx("h2",{children:"Informaes Pessoais"})]}),v.jsxs("div",{className:"form-grid",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"name",children:"Nome Completo"}),v.jsx("input",{type:"text",id:"name",value:a.name,onChange:y=>d("name",y.target.value),placeholder:"Digite seu nome completo"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"email",children:"E-mail"}),v.jsx("input",{type:"email",id:"email",value:a.email,onChange:y=>d("email",y.target.value),placeholder:"seu@email.com"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"phone",children:"Telefone"}),v.jsx("input",{type:"tel",id:"phone",value:a.phone,onChange:y=>d("phone",y.target.value),placeholder:"(11) 99999-9999"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"company",children:"Empresa"}),v.jsx("input",{type:"text",id:"company",value:a.company,onChange:y=>d("company",y.target.value),placeholder:"Nome da empresa"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"position",children:"Cargo"}),v.jsx("input",{type:"text",id:"position",value:a.position,onChange:y=>d("position",y.target.value),placeholder:"Seu cargo na empresa"})]})]})]}),v.jsxs("div",{className:"settings-section",children:[v.jsxs("div",{className:"section-header",children:[v.jsx(mY,{size:20}),v.jsx("h2",{children:"Notificaes"})]}),v.jsxs("div",{className:"notification-settings",children:[v.jsxs("div",{className:"notification-item",children:[v.jsxs("div",{className:"notification-info",children:[v.jsx("h3",{children:"Notificaes por E-mail"}),v.jsx("p",{children:"Receba atualizaes importantes por e-mail"})]}),v.jsxs("label",{className:"switch",children:[v.jsx("input",{type:"checkbox",checked:a.notifications.email,onChange:y=>h("notifications","email",y.target.checked)}),v.jsx("span",{className:"slider"})]})]}),v.jsxs("div",{className:"notification-item",children:[v.jsxs("div",{className:"notification-info",children:[v.jsx("h3",{children:"Notificaes Push"}),v.jsx("p",{children:"Receba notificaes em tempo real no navegador"})]}),v.jsxs("label",{className:"switch",children:[v.jsx("input",{type:"checkbox",checked:a.notifications.push,onChange:y=>h("notifications","push",y.target.checked)}),v.jsx("span",{className:"slider"})]})]}),v.jsxs("div",{className:"notification-item",children:[v.jsxs("div",{className:"notification-info",children:[v.jsx("h3",{children:"Atualizaes de Status"}),v.jsx("p",{children:"Seja notificado quando o status dos envios mudar"})]}),v.jsxs("label",{className:"switch",children:[v.jsx("input",{type:"checkbox",checked:a.notifications.statusUpdates,onChange:y=>h("notifications","statusUpdates",y.target.checked)}),v.jsx("span",{className:"slider"})]})]}),v.jsxs("div",{className:"notification-item",children:[v.jsxs("div",{className:"notification-info",children:[v.jsx("h3",{children:"Novos Envios"}),v.jsx("p",{children:"Receba notificaes sobre novos envios criados"})]}),v.jsxs("label",{className:"switch",children:[v.jsx("input",{type:"checkbox",checked:a.notifications.newShipments,onChange:y=>h("notifications","newShipments",y.target.checked)}),v.jsx("span",{className:"slider"})]})]})]})]}),v.jsxs("div",{className:"settings-section",children:[v.jsxs("div",{className:"section-header",children:[v.jsx(AY,{size:20}),v.jsx("h2",{children:"Preferncias"})]}),v.jsxs("div",{className:"form-grid",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"language",children:"Idioma"}),v.jsxs("select",{id:"language",value:a.preferences.language,onChange:y=>h("preferences","language",y.target.value),children:[v.jsx("option",{value:"pt",children:"Portugus"}),v.jsx("option",{value:"en",children:"English"}),v.jsx("option",{value:"es",children:"Espaol"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"timezone",children:"Fuso Horrio"}),v.jsxs("select",{id:"timezone",value:a.preferences.timezone,onChange:y=>h("preferences","timezone",y.target.value),children:[v.jsx("option",{value:"America/Sao_Paulo",children:"So Paulo (UTC-3)"}),v.jsx("option",{value:"America/New_York",children:"Nova York (UTC-5)"}),v.jsx("option",{value:"Europe/London",children:"Londres (UTC+0)"}),v.jsx("option",{value:"Asia/Shanghai",children:"Xangai (UTC+8)"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"dateFormat",children:"Formato de Data"}),v.jsxs("select",{id:"dateFormat",value:a.preferences.dateFormat,onChange:y=>h("preferences","dateFormat",y.target.value),children:[v.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/AAAA"}),v.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/AAAA"}),v.jsx("option",{value:"YYYY-MM-DD",children:"AAAA-MM-DD"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"theme",children:"Tema"}),v.jsxs("select",{id:"theme",value:a.preferences.theme,onChange:y=>h("preferences","theme",y.target.value),children:[v.jsx("option",{value:"light",children:"Claro"}),v.jsx("option",{value:"dark",children:"Escuro"}),v.jsx("option",{value:"auto",children:"Automtico"})]})]})]})]})]}),v.jsx("div",{className:"settings-actions",children:v.jsxs("button",{className:"btn-save",onClick:p,disabled:u,children:[v.jsx(ID,{size:16}),u?"Salvando...":"Salvar Configuraes"]})})]})}),v.jsx(Ef,{})]})})},qge=()=>v.jsx(U5,{children:v.jsx(aY,{children:v.jsx(lY,{children:v.jsx(wz,{children:v.jsx(vz,{children:v.jsxs("div",{className:"app-container",children:[v.jsxs(hz,{children:[v.jsx(ml,{path:"/",element:v.jsx(Fge,{})}),v.jsx(ml,{path:"/register",element:v.jsx(Vge,{})}),v.jsx(ml,{path:"/home",element:v.jsx(lge,{})}),v.jsx(ml,{path:"/dashboard",element:v.jsx(ZF,{})}),v.jsx(ml,{path:"/admin-dashboard",element:v.jsx(QF,{})}),v.jsx(ml,{path:"/envios",element:v.jsx(sge,{})}),v.jsx(ml,{path:"/novo-envio",element:v.jsx(Bge,{})}),v.jsx(ml,{path:"/settings",element:v.jsx(zge,{})})]}),v.jsx(fY,{theme:"light"})]})})})})})});l6(document.getElementById("root")).render(v.jsx(C.StrictMode,{children:v.jsx(qge,{})}));export{Sn as _,ep as c,Xs as g};
