var JB=Object.defineProperty;var eU=(r,e,n)=>e in r?JB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var Zt=(r,e,n)=>eU(r,typeof e!="symbol"?e+"":e,n);function tU(r,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in r)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Js(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var JI={exports:{}},z0={},ej={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm=Symbol.for("react.element"),rU=Symbol.for("react.portal"),nU=Symbol.for("react.fragment"),iU=Symbol.for("react.strict_mode"),aU=Symbol.for("react.profiler"),oU=Symbol.for("react.provider"),sU=Symbol.for("react.context"),lU=Symbol.for("react.forward_ref"),cU=Symbol.for("react.suspense"),uU=Symbol.for("react.memo"),dU=Symbol.for("react.lazy"),eP=Symbol.iterator;function fU(r){return r===null||typeof r!="object"?null:(r=eP&&r[eP]||r["@@iterator"],typeof r=="function"?r:null)}var tj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rj=Object.assign,nj={};function wh(r,e,n){this.props=r,this.context=e,this.refs=nj,this.updater=n||tj}wh.prototype.isReactComponent={};wh.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};wh.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function ij(){}ij.prototype=wh.prototype;function s_(r,e,n){this.props=r,this.context=e,this.refs=nj,this.updater=n||tj}var l_=s_.prototype=new ij;l_.constructor=s_;rj(l_,wh.prototype);l_.isPureReactComponent=!0;var tP=Array.isArray,aj=Object.prototype.hasOwnProperty,c_={current:null},oj={key:!0,ref:!0,__self:!0,__source:!0};function sj(r,e,n){var i,a={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)aj.call(e,i)&&!oj.hasOwnProperty(i)&&(a[i]=e[i]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(r&&r.defaultProps)for(i in l=r.defaultProps,l)a[i]===void 0&&(a[i]=l[i]);return{$$typeof:Xm,type:r,key:o,ref:s,props:a,_owner:c_.current}}function hU(r,e){return{$$typeof:Xm,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function u_(r){return typeof r=="object"&&r!==null&&r.$$typeof===Xm}function pU(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(n){return e[n]})}var rP=/\/+/g;function V2(r,e){return typeof r=="object"&&r!==null&&r.key!=null?pU(""+r.key):e.toString(36)}function Uv(r,e,n,i,a){var o=typeof r;(o==="undefined"||o==="boolean")&&(r=null);var s=!1;if(r===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(r.$$typeof){case Xm:case rU:s=!0}}if(s)return s=r,a=a(s),r=i===""?"."+V2(s,0):i,tP(a)?(n="",r!=null&&(n=r.replace(rP,"$&/")+"/"),Uv(a,e,n,"",function(u){return u})):a!=null&&(u_(a)&&(a=hU(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(rP,"$&/")+"/")+r)),e.push(a)),1;if(s=0,i=i===""?".":i+":",tP(r))for(var l=0;l<r.length;l++){o=r[l];var c=i+V2(o,l);s+=Uv(o,e,n,c,a)}else if(c=fU(r),typeof c=="function")for(r=c.call(r),l=0;!(o=r.next()).done;)o=o.value,c=i+V2(o,l++),s+=Uv(o,e,n,c,a);else if(o==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Hg(r,e,n){if(r==null)return r;var i=[],a=0;return Uv(r,i,"","",function(o){return e.call(n,o,a++)}),i}function mU(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(n){(r._status===0||r._status===-1)&&(r._status=1,r._result=n)},function(n){(r._status===0||r._status===-1)&&(r._status=2,r._result=n)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var oa={current:null},$v={transition:null},gU={ReactCurrentDispatcher:oa,ReactCurrentBatchConfig:$v,ReactCurrentOwner:c_};function lj(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:Hg,forEach:function(r,e,n){Hg(r,function(){e.apply(this,arguments)},n)},count:function(r){var e=0;return Hg(r,function(){e++}),e},toArray:function(r){return Hg(r,function(e){return e})||[]},only:function(r){if(!u_(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Wt.Component=wh;Wt.Fragment=nU;Wt.Profiler=aU;Wt.PureComponent=s_;Wt.StrictMode=iU;Wt.Suspense=cU;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gU;Wt.act=lj;Wt.cloneElement=function(r,e,n){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var i=rj({},r.props),a=r.key,o=r.ref,s=r._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=c_.current),e.key!==void 0&&(a=""+e.key),r.type&&r.type.defaultProps)var l=r.type.defaultProps;for(c in e)aj.call(e,c)&&!oj.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:Xm,type:r.type,key:a,ref:o,props:i,_owner:s}};Wt.createContext=function(r){return r={$$typeof:sU,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:oU,_context:r},r.Consumer=r};Wt.createElement=sj;Wt.createFactory=function(r){var e=sj.bind(null,r);return e.type=r,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(r){return{$$typeof:lU,render:r}};Wt.isValidElement=u_;Wt.lazy=function(r){return{$$typeof:dU,_payload:{_status:-1,_result:r},_init:mU}};Wt.memo=function(r,e){return{$$typeof:uU,type:r,compare:e===void 0?null:e}};Wt.startTransition=function(r){var e=$v.transition;$v.transition={};try{r()}finally{$v.transition=e}};Wt.unstable_act=lj;Wt.useCallback=function(r,e){return oa.current.useCallback(r,e)};Wt.useContext=function(r){return oa.current.useContext(r)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(r){return oa.current.useDeferredValue(r)};Wt.useEffect=function(r,e){return oa.current.useEffect(r,e)};Wt.useId=function(){return oa.current.useId()};Wt.useImperativeHandle=function(r,e,n){return oa.current.useImperativeHandle(r,e,n)};Wt.useInsertionEffect=function(r,e){return oa.current.useInsertionEffect(r,e)};Wt.useLayoutEffect=function(r,e){return oa.current.useLayoutEffect(r,e)};Wt.useMemo=function(r,e){return oa.current.useMemo(r,e)};Wt.useReducer=function(r,e,n){return oa.current.useReducer(r,e,n)};Wt.useRef=function(r){return oa.current.useRef(r)};Wt.useState=function(r){return oa.current.useState(r)};Wt.useSyncExternalStore=function(r,e,n){return oa.current.useSyncExternalStore(r,e,n)};Wt.useTransition=function(){return oa.current.useTransition()};Wt.version="18.3.1";ej.exports=Wt;var P=ej.exports;const cj=Js(P),uj=tU({__proto__:null,default:cj},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vU=P,yU=Symbol.for("react.element"),wU=Symbol.for("react.fragment"),bU=Object.prototype.hasOwnProperty,xU=vU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_U={key:!0,ref:!0,__self:!0,__source:!0};function dj(r,e,n){var i,a={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)bU.call(e,i)&&!_U.hasOwnProperty(i)&&(a[i]=e[i]);if(r&&r.defaultProps)for(i in e=r.defaultProps,e)a[i]===void 0&&(a[i]=e[i]);return{$$typeof:yU,type:r,key:o,ref:s,props:a,_owner:xU.current}}z0.Fragment=wU;z0.jsx=dj;z0.jsxs=dj;JI.exports=z0;var m=JI.exports,fj={exports:{}},lo={},hj={exports:{}},pj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(X,le){var ie=X.length;X.push(le);e:for(;0<ie;){var ne=ie-1>>>1,M=X[ne];if(0<a(M,le))X[ne]=le,X[ie]=M,ie=ne;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var le=X[0],ie=X.pop();if(ie!==le){X[0]=ie;e:for(var ne=0,M=X.length,K=M>>>1;ne<K;){var Z=2*(ne+1)-1,ae=X[Z],de=Z+1,me=X[de];if(0>a(ae,ie))de<M&&0>a(me,ae)?(X[ne]=me,X[de]=ie,ne=de):(X[ne]=ae,X[Z]=ie,ne=Z);else if(de<M&&0>a(me,ie))X[ne]=me,X[de]=ie,ne=de;else break e}}return le}function a(X,le){var ie=X.sortIndex-le.sortIndex;return ie!==0?ie:X.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();r.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var le=n(u);le!==null;){if(le.callback===null)i(u);else if(le.startTime<=X)i(u),le.sortIndex=le.expirationTime,e(c,le);else break;le=n(u)}}function I(X){if(w=!1,A(X),!y)if(n(c)!==null)y=!0,se(B);else{var le=n(u);le!==null&&pe(I,le.startTime-X)}}function B(X,le){y=!1,w&&(w=!1,b(j),j=-1),p=!0;var ie=h;try{for(A(le),f=n(c);f!==null&&(!(f.expirationTime>le)||X&&!T());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var M=ne(f.expirationTime<=le);le=r.unstable_now(),typeof M=="function"?f.callback=M:f===n(c)&&i(c),A(le)}else i(c);f=n(c)}if(f!==null)var K=!0;else{var Z=n(u);Z!==null&&pe(I,Z.startTime-le),K=!1}return K}finally{f=null,h=ie,p=!1}}var $=!1,D=null,j=-1,O=5,U=-1;function T(){return!(r.unstable_now()-U<O)}function L(){if(D!==null){var X=r.unstable_now();U=X;var le=!0;try{le=D(!0,X)}finally{le?C():($=!1,D=null)}}else $=!1}var C;if(typeof S=="function")C=function(){S(L)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,oe=Y.port2;Y.port1.onmessage=L,C=function(){oe.postMessage(null)}}else C=function(){x(L,0)};function se(X){D=X,$||($=!0,C())}function pe(X,le){j=x(function(){X(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_continueExecution=function(){y||p||(y=!0,se(B))},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return n(c)},r.unstable_next=function(X){switch(h){case 1:case 2:case 3:var le=3;break;default:le=h}var ie=h;h=le;try{return X()}finally{h=ie}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ie=h;h=X;try{return le()}finally{h=ie}},r.unstable_scheduleCallback=function(X,le,ie){var ne=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ne+ie:ne):ie=ne,X){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ie+M,X={id:d++,callback:le,priorityLevel:X,startTime:ie,expirationTime:M,sortIndex:-1},ie>ne?(X.sortIndex=ie,e(u,X),n(c)===null&&X===n(u)&&(w?(b(j),j=-1):w=!0,pe(I,ie-ne))):(X.sortIndex=M,e(c,X),y||p||(y=!0,se(B))),X},r.unstable_shouldYield=T,r.unstable_wrapCallback=function(X){var le=h;return function(){var ie=h;h=le;try{return X.apply(this,arguments)}finally{h=ie}}}})(pj);hj.exports=pj;var AU=hj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SU=P,ro=AU;function Be(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mj=new Set,im={};function Dd(r,e){Vf(r,e),Vf(r+"Capture",e)}function Vf(r,e){for(im[r]=e,r=0;r<e.length;r++)mj.add(e[r])}var jl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eb=Object.prototype.hasOwnProperty,EU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nP={},iP={};function kU(r){return Eb.call(iP,r)?!0:Eb.call(nP,r)?!1:EU.test(r)?iP[r]=!0:(nP[r]=!0,!1)}function PU(r,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function NU(r,e,n,i){if(e===null||typeof e>"u"||PU(r,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sa(r,e,n,i,a,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=r,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Ei[r]=new sa(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];Ei[e]=new sa(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Ei[r]=new sa(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Ei[r]=new sa(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Ei[r]=new sa(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Ei[r]=new sa(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Ei[r]=new sa(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Ei[r]=new sa(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Ei[r]=new sa(r,5,!1,r.toLowerCase(),null,!1,!1)});var d_=/[\-:]([a-z])/g;function f_(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(d_,f_);Ei[e]=new sa(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(d_,f_);Ei[e]=new sa(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(d_,f_);Ei[e]=new sa(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Ei[r]=new sa(r,1,!1,r.toLowerCase(),null,!1,!1)});Ei.xlinkHref=new sa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Ei[r]=new sa(r,1,!1,r.toLowerCase(),null,!0,!0)});function h_(r,e,n,i){var a=Ei.hasOwnProperty(e)?Ei[e]:null;(a!==null?a.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NU(e,n,a,i)&&(n=null),i||a===null?kU(e)&&(n===null?r.removeAttribute(e):r.setAttribute(e,""+n)):a.mustUseProperty?r[a.propertyName]=n===null?a.type===3?!1:"":n:(e=a.attributeName,i=a.attributeNamespace,n===null?r.removeAttribute(e):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,i?r.setAttributeNS(i,e,n):r.setAttribute(e,n))))}var Gl=SU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kg=Symbol.for("react.element"),hf=Symbol.for("react.portal"),pf=Symbol.for("react.fragment"),p_=Symbol.for("react.strict_mode"),kb=Symbol.for("react.profiler"),gj=Symbol.for("react.provider"),vj=Symbol.for("react.context"),m_=Symbol.for("react.forward_ref"),Pb=Symbol.for("react.suspense"),Nb=Symbol.for("react.suspense_list"),g_=Symbol.for("react.memo"),kc=Symbol.for("react.lazy"),yj=Symbol.for("react.offscreen"),aP=Symbol.iterator;function ip(r){return r===null||typeof r!="object"?null:(r=aP&&r[aP]||r["@@iterator"],typeof r=="function"?r:null)}var ln=Object.assign,q2;function kp(r){if(q2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);q2=e&&e[1]||""}return`
`+q2+r}var W2=!1;function H2(r,e){if(!r||W2)return"";W2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(r,[],e)}else{try{e.call()}catch(u){i=u}r.call(e.prototype)}else{try{throw Error()}catch(u){i=u}r()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=i.stack.split(`
`),s=a.length-1,l=o.length-1;1<=s&&0<=l&&a[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==o[l]){var c=`
`+a[s].replace(" at new "," at ");return r.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",r.displayName)),c}while(1<=s&&0<=l);break}}}finally{W2=!1,Error.prepareStackTrace=n}return(r=r?r.displayName||r.name:"")?kp(r):""}function TU(r){switch(r.tag){case 5:return kp(r.type);case 16:return kp("Lazy");case 13:return kp("Suspense");case 19:return kp("SuspenseList");case 0:case 2:case 15:return r=H2(r.type,!1),r;case 11:return r=H2(r.type.render,!1),r;case 1:return r=H2(r.type,!0),r;default:return""}}function Tb(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case pf:return"Fragment";case hf:return"Portal";case kb:return"Profiler";case p_:return"StrictMode";case Pb:return"Suspense";case Nb:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case vj:return(r.displayName||"Context")+".Consumer";case gj:return(r._context.displayName||"Context")+".Provider";case m_:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case g_:return e=r.displayName||null,e!==null?e:Tb(r.type)||"Memo";case kc:e=r._payload,r=r._init;try{return Tb(r(e))}catch{}}return null}function CU(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tb(e);case 8:return e===p_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function iu(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function wj(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IU(r){var e=wj(r)?"checked":"value",n=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),i=""+r[e];if(!r.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(r,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function Gg(r){r._valueTracker||(r._valueTracker=IU(r))}function bj(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return r&&(i=wj(r)?r.checked?"true":"false":r.value),r=i,r!==n?(e.setValue(r),!0):!1}function fy(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Cb(r,e){var n=e.checked;return ln({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??r._wrapperState.initialChecked})}function oP(r,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=iu(e.value!=null?e.value:n),r._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xj(r,e){e=e.checked,e!=null&&h_(r,"checked",e,!1)}function Ib(r,e){xj(r,e);var n=iu(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&r.value===""||r.value!=n)&&(r.value=""+n):r.value!==""+n&&(r.value=""+n);else if(i==="submit"||i==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?jb(r,e.type,n):e.hasOwnProperty("defaultValue")&&jb(r,e.type,iu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function sP(r,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,n||e===r.value||(r.value=e),r.defaultValue=e}n=r.name,n!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,n!==""&&(r.name=n)}function jb(r,e,n){(e!=="number"||fy(r.ownerDocument)!==r)&&(n==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+n&&(r.defaultValue=""+n))}var Pp=Array.isArray;function Tf(r,e,n,i){if(r=r.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<r.length;n++)a=e.hasOwnProperty("$"+r[n].value),r[n].selected!==a&&(r[n].selected=a),a&&i&&(r[n].defaultSelected=!0)}else{for(n=""+iu(n),e=null,a=0;a<r.length;a++){if(r[a].value===n){r[a].selected=!0,i&&(r[a].defaultSelected=!0);return}e!==null||r[a].disabled||(e=r[a])}e!==null&&(e.selected=!0)}}function Ob(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Be(91));return ln({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function lP(r,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Be(92));if(Pp(n)){if(1<n.length)throw Error(Be(93));n=n[0]}e=n}e==null&&(e=""),n=e}r._wrapperState={initialValue:iu(n)}}function _j(r,e){var n=iu(e.value),i=iu(e.defaultValue);n!=null&&(n=""+n,n!==r.value&&(r.value=n),e.defaultValue==null&&r.defaultValue!==n&&(r.defaultValue=n)),i!=null&&(r.defaultValue=""+i)}function cP(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function Aj(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lb(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?Aj(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Yg,Sj=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,a){MSApp.execUnsafeLocalFunction(function(){return r(e,n,i,a)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(Yg=Yg||document.createElement("div"),Yg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yg.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function am(r,e){if(e){var n=r.firstChild;if(n&&n===r.lastChild&&n.nodeType===3){n.nodeValue=e;return}}r.textContent=e}var Mp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jU=["Webkit","ms","Moz","O"];Object.keys(Mp).forEach(function(r){jU.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Mp[e]=Mp[r]})});function Ej(r,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mp.hasOwnProperty(r)&&Mp[r]?(""+e).trim():e+"px"}function kj(r,e){r=r.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,a=Ej(n,e[n],i);n==="float"&&(n="cssFloat"),i?r.setProperty(n,a):r[n]=a}}var OU=ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Db(r,e){if(e){if(OU[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Be(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Be(62))}}function Rb(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mb=null;function v_(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fb=null,Cf=null,If=null;function uP(r){if(r=eg(r)){if(typeof Fb!="function")throw Error(Be(280));var e=r.stateNode;e&&(e=K0(e),Fb(r.stateNode,r.type,e))}}function Pj(r){Cf?If?If.push(r):If=[r]:Cf=r}function Nj(){if(Cf){var r=Cf,e=If;if(If=Cf=null,uP(r),e)for(r=0;r<e.length;r++)uP(e[r])}}function Tj(r,e){return r(e)}function Cj(){}var K2=!1;function Ij(r,e,n){if(K2)return r(e,n);K2=!0;try{return Tj(r,e,n)}finally{K2=!1,(Cf!==null||If!==null)&&(Cj(),Nj())}}function om(r,e){var n=r.stateNode;if(n===null)return null;var i=K0(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(r=r.type,i=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!i;break e;default:r=!1}if(r)return null;if(n&&typeof n!="function")throw Error(Be(231,e,typeof n));return n}var Bb=!1;if(jl)try{var ap={};Object.defineProperty(ap,"passive",{get:function(){Bb=!0}}),window.addEventListener("test",ap,ap),window.removeEventListener("test",ap,ap)}catch{Bb=!1}function LU(r,e,n,i,a,o,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Fp=!1,hy=null,py=!1,Ub=null,DU={onError:function(r){Fp=!0,hy=r}};function RU(r,e,n,i,a,o,s,l,c){Fp=!1,hy=null,LU.apply(DU,arguments)}function MU(r,e,n,i,a,o,s,l,c){if(RU.apply(this,arguments),Fp){if(Fp){var u=hy;Fp=!1,hy=null}else throw Error(Be(198));py||(py=!0,Ub=u)}}function Rd(r){var e=r,n=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(n=e.return),r=e.return;while(r)}return e.tag===3?n:null}function jj(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function dP(r){if(Rd(r)!==r)throw Error(Be(188))}function FU(r){var e=r.alternate;if(!e){if(e=Rd(r),e===null)throw Error(Be(188));return e!==r?null:r}for(var n=r,i=e;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return dP(a),r;if(o===i)return dP(a),e;o=o.sibling}throw Error(Be(188))}if(n.return!==i.return)n=a,i=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,i=o;break}if(l===i){s=!0,i=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=a;break}if(l===i){s=!0,i=o,n=a;break}l=l.sibling}if(!s)throw Error(Be(189))}}if(n.alternate!==i)throw Error(Be(190))}if(n.tag!==3)throw Error(Be(188));return n.stateNode.current===n?r:e}function Oj(r){return r=FU(r),r!==null?Lj(r):null}function Lj(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=Lj(r);if(e!==null)return e;r=r.sibling}return null}var Dj=ro.unstable_scheduleCallback,fP=ro.unstable_cancelCallback,BU=ro.unstable_shouldYield,UU=ro.unstable_requestPaint,Cn=ro.unstable_now,$U=ro.unstable_getCurrentPriorityLevel,y_=ro.unstable_ImmediatePriority,Rj=ro.unstable_UserBlockingPriority,my=ro.unstable_NormalPriority,zU=ro.unstable_LowPriority,Mj=ro.unstable_IdlePriority,V0=null,Us=null;function VU(r){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(V0,r,void 0,(r.current.flags&128)===128)}catch{}}var as=Math.clz32?Math.clz32:HU,qU=Math.log,WU=Math.LN2;function HU(r){return r>>>=0,r===0?32:31-(qU(r)/WU|0)|0}var Qg=64,Xg=4194304;function Np(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function gy(r,e){var n=r.pendingLanes;if(n===0)return 0;var i=0,a=r.suspendedLanes,o=r.pingedLanes,s=n&268435455;if(s!==0){var l=s&~a;l!==0?i=Np(l):(o&=s,o!==0&&(i=Np(o)))}else s=n&~a,s!==0?i=Np(s):o!==0&&(i=Np(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&a)&&(a=i&-i,o=e&-e,a>=o||a===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=i;0<e;)n=31-as(e),a=1<<n,i|=r[n],e&=~a;return i}function KU(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GU(r,e){for(var n=r.suspendedLanes,i=r.pingedLanes,a=r.expirationTimes,o=r.pendingLanes;0<o;){var s=31-as(o),l=1<<s,c=a[s];c===-1?(!(l&n)||l&i)&&(a[s]=KU(l,e)):c<=e&&(r.expiredLanes|=l),o&=~l}}function $b(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Fj(){var r=Qg;return Qg<<=1,!(Qg&4194240)&&(Qg=64),r}function G2(r){for(var e=[],n=0;31>n;n++)e.push(r);return e}function Zm(r,e,n){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-as(e),r[e]=n}function YU(r,e){var n=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var i=r.eventTimes;for(r=r.expirationTimes;0<n;){var a=31-as(n),o=1<<a;e[a]=0,i[a]=-1,r[a]=-1,n&=~o}}function w_(r,e){var n=r.entangledLanes|=e;for(r=r.entanglements;n;){var i=31-as(n),a=1<<i;a&e|r[i]&e&&(r[i]|=e),n&=~a}}var Sr=0;function Bj(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Uj,b_,$j,zj,Vj,zb=!1,Zg=[],Uc=null,$c=null,zc=null,sm=new Map,lm=new Map,Cc=[],QU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hP(r,e){switch(r){case"focusin":case"focusout":Uc=null;break;case"dragenter":case"dragleave":$c=null;break;case"mouseover":case"mouseout":zc=null;break;case"pointerover":case"pointerout":sm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lm.delete(e.pointerId)}}function op(r,e,n,i,a,o){return r===null||r.nativeEvent!==o?(r={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[a]},e!==null&&(e=eg(e),e!==null&&b_(e)),r):(r.eventSystemFlags|=i,e=r.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),r)}function XU(r,e,n,i,a){switch(e){case"focusin":return Uc=op(Uc,r,e,n,i,a),!0;case"dragenter":return $c=op($c,r,e,n,i,a),!0;case"mouseover":return zc=op(zc,r,e,n,i,a),!0;case"pointerover":var o=a.pointerId;return sm.set(o,op(sm.get(o)||null,r,e,n,i,a)),!0;case"gotpointercapture":return o=a.pointerId,lm.set(o,op(lm.get(o)||null,r,e,n,i,a)),!0}return!1}function qj(r){var e=Zu(r.target);if(e!==null){var n=Rd(e);if(n!==null){if(e=n.tag,e===13){if(e=jj(n),e!==null){r.blockedOn=e,Vj(r.priority,function(){$j(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){r.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}r.blockedOn=null}function zv(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var n=Vb(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(n===null){n=r.nativeEvent;var i=new n.constructor(n.type,n);Mb=i,n.target.dispatchEvent(i),Mb=null}else return e=eg(n),e!==null&&b_(e),r.blockedOn=n,!1;e.shift()}return!0}function pP(r,e,n){zv(r)&&n.delete(e)}function ZU(){zb=!1,Uc!==null&&zv(Uc)&&(Uc=null),$c!==null&&zv($c)&&($c=null),zc!==null&&zv(zc)&&(zc=null),sm.forEach(pP),lm.forEach(pP)}function sp(r,e){r.blockedOn===e&&(r.blockedOn=null,zb||(zb=!0,ro.unstable_scheduleCallback(ro.unstable_NormalPriority,ZU)))}function cm(r){function e(a){return sp(a,r)}if(0<Zg.length){sp(Zg[0],r);for(var n=1;n<Zg.length;n++){var i=Zg[n];i.blockedOn===r&&(i.blockedOn=null)}}for(Uc!==null&&sp(Uc,r),$c!==null&&sp($c,r),zc!==null&&sp(zc,r),sm.forEach(e),lm.forEach(e),n=0;n<Cc.length;n++)i=Cc[n],i.blockedOn===r&&(i.blockedOn=null);for(;0<Cc.length&&(n=Cc[0],n.blockedOn===null);)qj(n),n.blockedOn===null&&Cc.shift()}var jf=Gl.ReactCurrentBatchConfig,vy=!0;function JU(r,e,n,i){var a=Sr,o=jf.transition;jf.transition=null;try{Sr=1,x_(r,e,n,i)}finally{Sr=a,jf.transition=o}}function e$(r,e,n,i){var a=Sr,o=jf.transition;jf.transition=null;try{Sr=4,x_(r,e,n,i)}finally{Sr=a,jf.transition=o}}function x_(r,e,n,i){if(vy){var a=Vb(r,e,n,i);if(a===null)iw(r,e,i,yy,n),hP(r,i);else if(XU(a,r,e,n,i))i.stopPropagation();else if(hP(r,i),e&4&&-1<QU.indexOf(r)){for(;a!==null;){var o=eg(a);if(o!==null&&Uj(o),o=Vb(r,e,n,i),o===null&&iw(r,e,i,yy,n),o===a)break;a=o}a!==null&&i.stopPropagation()}else iw(r,e,i,null,n)}}var yy=null;function Vb(r,e,n,i){if(yy=null,r=v_(i),r=Zu(r),r!==null)if(e=Rd(r),e===null)r=null;else if(n=e.tag,n===13){if(r=jj(e),r!==null)return r;r=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return yy=r,null}function Wj(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($U()){case y_:return 1;case Rj:return 4;case my:case zU:return 16;case Mj:return 536870912;default:return 16}default:return 16}}var Lc=null,__=null,Vv=null;function Hj(){if(Vv)return Vv;var r,e=__,n=e.length,i,a="value"in Lc?Lc.value:Lc.textContent,o=a.length;for(r=0;r<n&&e[r]===a[r];r++);var s=n-r;for(i=1;i<=s&&e[n-i]===a[o-i];i++);return Vv=a.slice(r,1<i?1-i:void 0)}function qv(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function Jg(){return!0}function mP(){return!1}function co(r){function e(n,i,a,o,s){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in r)r.hasOwnProperty(l)&&(n=r[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Jg:mP,this.isPropagationStopped=mP,this}return ln(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jg)},persist:function(){},isPersistent:Jg}),e}var bh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A_=co(bh),Jm=ln({},bh,{view:0,detail:0}),t$=co(Jm),Y2,Q2,lp,q0=ln({},Jm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S_,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==lp&&(lp&&r.type==="mousemove"?(Y2=r.screenX-lp.screenX,Q2=r.screenY-lp.screenY):Q2=Y2=0,lp=r),Y2)},movementY:function(r){return"movementY"in r?r.movementY:Q2}}),gP=co(q0),r$=ln({},q0,{dataTransfer:0}),n$=co(r$),i$=ln({},Jm,{relatedTarget:0}),X2=co(i$),a$=ln({},bh,{animationName:0,elapsedTime:0,pseudoElement:0}),o$=co(a$),s$=ln({},bh,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),l$=co(s$),c$=ln({},bh,{data:0}),vP=co(c$),u$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h$(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=f$[r])?!!e[r]:!1}function S_(){return h$}var p$=ln({},Jm,{key:function(r){if(r.key){var e=u$[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=qv(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?d$[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S_,charCode:function(r){return r.type==="keypress"?qv(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?qv(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m$=co(p$),g$=ln({},q0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yP=co(g$),v$=ln({},Jm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S_}),y$=co(v$),w$=ln({},bh,{propertyName:0,elapsedTime:0,pseudoElement:0}),b$=co(w$),x$=ln({},q0,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),_$=co(x$),A$=[9,13,27,32],E_=jl&&"CompositionEvent"in window,Bp=null;jl&&"documentMode"in document&&(Bp=document.documentMode);var S$=jl&&"TextEvent"in window&&!Bp,Kj=jl&&(!E_||Bp&&8<Bp&&11>=Bp),wP=" ",bP=!1;function Gj(r,e){switch(r){case"keyup":return A$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yj(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var mf=!1;function E$(r,e){switch(r){case"compositionend":return Yj(e);case"keypress":return e.which!==32?null:(bP=!0,wP);case"textInput":return r=e.data,r===wP&&bP?null:r;default:return null}}function k$(r,e){if(mf)return r==="compositionend"||!E_&&Gj(r,e)?(r=Hj(),Vv=__=Lc=null,mf=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kj&&e.locale!=="ko"?null:e.data;default:return null}}var P$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xP(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!P$[r.type]:e==="textarea"}function Qj(r,e,n,i){Pj(i),e=wy(e,"onChange"),0<e.length&&(n=new A_("onChange","change",null,n,i),r.push({event:n,listeners:e}))}var Up=null,um=null;function N$(r){sO(r,0)}function W0(r){var e=yf(r);if(bj(e))return r}function T$(r,e){if(r==="change")return e}var Xj=!1;if(jl){var Z2;if(jl){var J2="oninput"in document;if(!J2){var _P=document.createElement("div");_P.setAttribute("oninput","return;"),J2=typeof _P.oninput=="function"}Z2=J2}else Z2=!1;Xj=Z2&&(!document.documentMode||9<document.documentMode)}function AP(){Up&&(Up.detachEvent("onpropertychange",Zj),um=Up=null)}function Zj(r){if(r.propertyName==="value"&&W0(um)){var e=[];Qj(e,um,r,v_(r)),Ij(N$,e)}}function C$(r,e,n){r==="focusin"?(AP(),Up=e,um=n,Up.attachEvent("onpropertychange",Zj)):r==="focusout"&&AP()}function I$(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return W0(um)}function j$(r,e){if(r==="click")return W0(e)}function O$(r,e){if(r==="input"||r==="change")return W0(e)}function L$(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var ss=typeof Object.is=="function"?Object.is:L$;function dm(r,e){if(ss(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var n=Object.keys(r),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!Eb.call(e,a)||!ss(r[a],e[a]))return!1}return!0}function SP(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function EP(r,e){var n=SP(r);r=0;for(var i;n;){if(n.nodeType===3){if(i=r+n.textContent.length,r<=e&&i>=e)return{node:n,offset:e-r};r=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=SP(n)}}function Jj(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?Jj(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function eO(){for(var r=window,e=fy();e instanceof r.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)r=e.contentWindow;else break;e=fy(r.document)}return e}function k_(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function D$(r){var e=eO(),n=r.focusedElem,i=r.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jj(n.ownerDocument.documentElement,n)){if(i!==null&&k_(n)){if(e=i.start,r=i.end,r===void 0&&(r=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(r,n.value.length);else if(r=(e=n.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var a=n.textContent.length,o=Math.min(i.start,a);i=i.end===void 0?o:Math.min(i.end,a),!r.extend&&o>i&&(a=i,i=o,o=a),a=EP(n,o);var s=EP(n,i);a&&s&&(r.rangeCount!==1||r.anchorNode!==a.node||r.anchorOffset!==a.offset||r.focusNode!==s.node||r.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),r.removeAllRanges(),o>i?(r.addRange(e),r.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),r.addRange(e)))}}for(e=[],r=n;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)r=e[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var R$=jl&&"documentMode"in document&&11>=document.documentMode,gf=null,qb=null,$p=null,Wb=!1;function kP(r,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wb||gf==null||gf!==fy(i)||(i=gf,"selectionStart"in i&&k_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),$p&&dm($p,i)||($p=i,i=wy(qb,"onSelect"),0<i.length&&(e=new A_("onSelect","select",null,e,n),r.push({event:e,listeners:i}),e.target=gf)))}function ev(r,e){var n={};return n[r.toLowerCase()]=e.toLowerCase(),n["Webkit"+r]="webkit"+e,n["Moz"+r]="moz"+e,n}var vf={animationend:ev("Animation","AnimationEnd"),animationiteration:ev("Animation","AnimationIteration"),animationstart:ev("Animation","AnimationStart"),transitionend:ev("Transition","TransitionEnd")},ew={},tO={};jl&&(tO=document.createElement("div").style,"AnimationEvent"in window||(delete vf.animationend.animation,delete vf.animationiteration.animation,delete vf.animationstart.animation),"TransitionEvent"in window||delete vf.transitionend.transition);function H0(r){if(ew[r])return ew[r];if(!vf[r])return r;var e=vf[r],n;for(n in e)if(e.hasOwnProperty(n)&&n in tO)return ew[r]=e[n];return r}var rO=H0("animationend"),nO=H0("animationiteration"),iO=H0("animationstart"),aO=H0("transitionend"),oO=new Map,PP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vu(r,e){oO.set(r,e),Dd(e,[r])}for(var tw=0;tw<PP.length;tw++){var rw=PP[tw],M$=rw.toLowerCase(),F$=rw[0].toUpperCase()+rw.slice(1);vu(M$,"on"+F$)}vu(rO,"onAnimationEnd");vu(nO,"onAnimationIteration");vu(iO,"onAnimationStart");vu("dblclick","onDoubleClick");vu("focusin","onFocus");vu("focusout","onBlur");vu(aO,"onTransitionEnd");Vf("onMouseEnter",["mouseout","mouseover"]);Vf("onMouseLeave",["mouseout","mouseover"]);Vf("onPointerEnter",["pointerout","pointerover"]);Vf("onPointerLeave",["pointerout","pointerover"]);Dd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tp));function NP(r,e,n){var i=r.type||"unknown-event";r.currentTarget=n,MU(i,e,void 0,r),r.currentTarget=null}function sO(r,e){e=(e&4)!==0;for(var n=0;n<r.length;n++){var i=r[n],a=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var l=i[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;NP(a,l,u),o=c}else for(s=0;s<i.length;s++){if(l=i[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;NP(a,l,u),o=c}}}if(py)throw r=Ub,py=!1,Ub=null,r}function Vr(r,e){var n=e[Qb];n===void 0&&(n=e[Qb]=new Set);var i=r+"__bubble";n.has(i)||(lO(e,r,2,!1),n.add(i))}function nw(r,e,n){var i=0;e&&(i|=4),lO(n,r,i,e)}var tv="_reactListening"+Math.random().toString(36).slice(2);function fm(r){if(!r[tv]){r[tv]=!0,mj.forEach(function(n){n!=="selectionchange"&&(B$.has(n)||nw(n,!1,r),nw(n,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[tv]||(e[tv]=!0,nw("selectionchange",!1,e))}}function lO(r,e,n,i){switch(Wj(e)){case 1:var a=JU;break;case 4:a=e$;break;default:a=x_}n=a.bind(null,e,n,r),a=void 0,!Bb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),i?a!==void 0?r.addEventListener(e,n,{capture:!0,passive:a}):r.addEventListener(e,n,!0):a!==void 0?r.addEventListener(e,n,{passive:a}):r.addEventListener(e,n,!1)}function iw(r,e,n,i,a){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var l=i.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=i.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Zu(l),s===null)return;if(c=s.tag,c===5||c===6){i=o=s;continue e}l=l.parentNode}}i=i.return}Ij(function(){var u=o,d=v_(n),f=[];e:{var h=oO.get(r);if(h!==void 0){var p=A_,y=r;switch(r){case"keypress":if(qv(n)===0)break e;case"keydown":case"keyup":p=m$;break;case"focusin":y="focus",p=X2;break;case"focusout":y="blur",p=X2;break;case"beforeblur":case"afterblur":p=X2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=n$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=y$;break;case rO:case nO:case iO:p=o$;break;case aO:p=b$;break;case"scroll":p=t$;break;case"wheel":p=_$;break;case"copy":case"cut":case"paste":p=l$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yP}var w=(e&4)!==0,x=!w&&r==="scroll",b=w?h!==null?h+"Capture":null:h;w=[];for(var S=u,A;S!==null;){A=S;var I=A.stateNode;if(A.tag===5&&I!==null&&(A=I,b!==null&&(I=om(S,b),I!=null&&w.push(hm(S,I,A)))),x)break;S=S.return}0<w.length&&(h=new p(h,y,null,n,d),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=r==="mouseover"||r==="pointerover",p=r==="mouseout"||r==="pointerout",h&&n!==Mb&&(y=n.relatedTarget||n.fromElement)&&(Zu(y)||y[Ol]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Zu(y):null,y!==null&&(x=Rd(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(w=gP,I="onMouseLeave",b="onMouseEnter",S="mouse",(r==="pointerout"||r==="pointerover")&&(w=yP,I="onPointerLeave",b="onPointerEnter",S="pointer"),x=p==null?h:yf(p),A=y==null?h:yf(y),h=new w(I,S+"leave",p,n,d),h.target=x,h.relatedTarget=A,I=null,Zu(d)===u&&(w=new w(b,S+"enter",y,n,d),w.target=A,w.relatedTarget=x,I=w),x=I,p&&y)t:{for(w=p,b=y,S=0,A=w;A;A=tf(A))S++;for(A=0,I=b;I;I=tf(I))A++;for(;0<S-A;)w=tf(w),S--;for(;0<A-S;)b=tf(b),A--;for(;S--;){if(w===b||b!==null&&w===b.alternate)break t;w=tf(w),b=tf(b)}w=null}else w=null;p!==null&&TP(f,h,p,w,!1),y!==null&&x!==null&&TP(f,x,y,w,!0)}}e:{if(h=u?yf(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var B=T$;else if(xP(h))if(Xj)B=O$;else{B=I$;var $=C$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(B=j$);if(B&&(B=B(r,u))){Qj(f,B,n,d);break e}$&&$(r,h,u),r==="focusout"&&($=h._wrapperState)&&$.controlled&&h.type==="number"&&jb(h,"number",h.value)}switch($=u?yf(u):window,r){case"focusin":(xP($)||$.contentEditable==="true")&&(gf=$,qb=u,$p=null);break;case"focusout":$p=qb=gf=null;break;case"mousedown":Wb=!0;break;case"contextmenu":case"mouseup":case"dragend":Wb=!1,kP(f,n,d);break;case"selectionchange":if(R$)break;case"keydown":case"keyup":kP(f,n,d)}var D;if(E_)e:{switch(r){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else mf?Gj(r,n)&&(j="onCompositionEnd"):r==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Kj&&n.locale!=="ko"&&(mf||j!=="onCompositionStart"?j==="onCompositionEnd"&&mf&&(D=Hj()):(Lc=d,__="value"in Lc?Lc.value:Lc.textContent,mf=!0)),$=wy(u,j),0<$.length&&(j=new vP(j,r,null,n,d),f.push({event:j,listeners:$}),D?j.data=D:(D=Yj(n),D!==null&&(j.data=D)))),(D=S$?E$(r,n):k$(r,n))&&(u=wy(u,"onBeforeInput"),0<u.length&&(d=new vP("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=D))}sO(f,e)})}function hm(r,e,n){return{instance:r,listener:e,currentTarget:n}}function wy(r,e){for(var n=e+"Capture",i=[];r!==null;){var a=r,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=om(r,n),o!=null&&i.unshift(hm(r,o,a)),o=om(r,e),o!=null&&i.push(hm(r,o,a))),r=r.return}return i}function tf(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function TP(r,e,n,i,a){for(var o=e._reactName,s=[];n!==null&&n!==i;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&u!==null&&(l=u,a?(c=om(n,o),c!=null&&s.unshift(hm(n,c,l))):a||(c=om(n,o),c!=null&&s.push(hm(n,c,l)))),n=n.return}s.length!==0&&r.push({event:e,listeners:s})}var U$=/\r\n?/g,$$=/\u0000|\uFFFD/g;function CP(r){return(typeof r=="string"?r:""+r).replace(U$,`
`).replace($$,"")}function rv(r,e,n){if(e=CP(e),CP(r)!==e&&n)throw Error(Be(425))}function by(){}var Hb=null,Kb=null;function Gb(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yb=typeof setTimeout=="function"?setTimeout:void 0,z$=typeof clearTimeout=="function"?clearTimeout:void 0,IP=typeof Promise=="function"?Promise:void 0,V$=typeof queueMicrotask=="function"?queueMicrotask:typeof IP<"u"?function(r){return IP.resolve(null).then(r).catch(q$)}:Yb;function q$(r){setTimeout(function(){throw r})}function aw(r,e){var n=e,i=0;do{var a=n.nextSibling;if(r.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(i===0){r.removeChild(a),cm(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=a}while(n);cm(e)}function Vc(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function jP(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var n=r.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return r;e--}else n==="/$"&&e++}r=r.previousSibling}return null}var xh=Math.random().toString(36).slice(2),Rs="__reactFiber$"+xh,pm="__reactProps$"+xh,Ol="__reactContainer$"+xh,Qb="__reactEvents$"+xh,W$="__reactListeners$"+xh,H$="__reactHandles$"+xh;function Zu(r){var e=r[Rs];if(e)return e;for(var n=r.parentNode;n;){if(e=n[Ol]||n[Rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(r=jP(r);r!==null;){if(n=r[Rs])return n;r=jP(r)}return e}r=n,n=r.parentNode}return null}function eg(r){return r=r[Rs]||r[Ol],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function yf(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Be(33))}function K0(r){return r[pm]||null}var Xb=[],wf=-1;function yu(r){return{current:r}}function Kr(r){0>wf||(r.current=Xb[wf],Xb[wf]=null,wf--)}function Fr(r,e){wf++,Xb[wf]=r.current,r.current=e}var au={},Hi=yu(au),xa=yu(!1),vd=au;function qf(r,e){var n=r.type.contextTypes;if(!n)return au;var i=r.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in n)a[o]=e[o];return i&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=a),a}function _a(r){return r=r.childContextTypes,r!=null}function xy(){Kr(xa),Kr(Hi)}function OP(r,e,n){if(Hi.current!==au)throw Error(Be(168));Fr(Hi,e),Fr(xa,n)}function cO(r,e,n){var i=r.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var a in i)if(!(a in e))throw Error(Be(108,CU(r)||"Unknown",a));return ln({},n,i)}function _y(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||au,vd=Hi.current,Fr(Hi,r),Fr(xa,xa.current),!0}function LP(r,e,n){var i=r.stateNode;if(!i)throw Error(Be(169));n?(r=cO(r,e,vd),i.__reactInternalMemoizedMergedChildContext=r,Kr(xa),Kr(Hi),Fr(Hi,r)):Kr(xa),Fr(xa,n)}var wl=null,G0=!1,ow=!1;function uO(r){wl===null?wl=[r]:wl.push(r)}function K$(r){G0=!0,uO(r)}function wu(){if(!ow&&wl!==null){ow=!0;var r=0,e=Sr;try{var n=wl;for(Sr=1;r<n.length;r++){var i=n[r];do i=i(!0);while(i!==null)}wl=null,G0=!1}catch(a){throw wl!==null&&(wl=wl.slice(r+1)),Dj(y_,wu),a}finally{Sr=e,ow=!1}}return null}var bf=[],xf=0,Ay=null,Sy=0,Eo=[],ko=0,yd=null,Al=1,Sl="";function qu(r,e){bf[xf++]=Sy,bf[xf++]=Ay,Ay=r,Sy=e}function dO(r,e,n){Eo[ko++]=Al,Eo[ko++]=Sl,Eo[ko++]=yd,yd=r;var i=Al;r=Sl;var a=32-as(i)-1;i&=~(1<<a),n+=1;var o=32-as(e)+a;if(30<o){var s=a-a%5;o=(i&(1<<s)-1).toString(32),i>>=s,a-=s,Al=1<<32-as(e)+a|n<<a|i,Sl=o+r}else Al=1<<o|n<<a|i,Sl=r}function P_(r){r.return!==null&&(qu(r,1),dO(r,1,0))}function N_(r){for(;r===Ay;)Ay=bf[--xf],bf[xf]=null,Sy=bf[--xf],bf[xf]=null;for(;r===yd;)yd=Eo[--ko],Eo[ko]=null,Sl=Eo[--ko],Eo[ko]=null,Al=Eo[--ko],Eo[ko]=null}var eo=null,Qa=null,en=!1,es=null;function fO(r,e){var n=No(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=r,e=r.deletions,e===null?(r.deletions=[n],r.flags|=16):e.push(n)}function DP(r,e){switch(r.tag){case 5:var n=r.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,eo=r,Qa=Vc(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,eo=r,Qa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yd!==null?{id:Al,overflow:Sl}:null,r.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=No(18,null,null,0),n.stateNode=e,n.return=r,r.child=n,eo=r,Qa=null,!0):!1;default:return!1}}function Zb(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Jb(r){if(en){var e=Qa;if(e){var n=e;if(!DP(r,e)){if(Zb(r))throw Error(Be(418));e=Vc(n.nextSibling);var i=eo;e&&DP(r,e)?fO(i,n):(r.flags=r.flags&-4097|2,en=!1,eo=r)}}else{if(Zb(r))throw Error(Be(418));r.flags=r.flags&-4097|2,en=!1,eo=r}}}function RP(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;eo=r}function nv(r){if(r!==eo)return!1;if(!en)return RP(r),en=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!Gb(r.type,r.memoizedProps)),e&&(e=Qa)){if(Zb(r))throw hO(),Error(Be(418));for(;e;)fO(r,e),e=Vc(e.nextSibling)}if(RP(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Be(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var n=r.data;if(n==="/$"){if(e===0){Qa=Vc(r.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}r=r.nextSibling}Qa=null}}else Qa=eo?Vc(r.stateNode.nextSibling):null;return!0}function hO(){for(var r=Qa;r;)r=Vc(r.nextSibling)}function Wf(){Qa=eo=null,en=!1}function T_(r){es===null?es=[r]:es.push(r)}var G$=Gl.ReactCurrentBatchConfig;function cp(r,e,n){if(r=n.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Be(309));var i=n.stateNode}if(!i)throw Error(Be(147,r));var a=i,o=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=a.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof r!="string")throw Error(Be(284));if(!n._owner)throw Error(Be(290,r))}return r}function iv(r,e){throw r=Object.prototype.toString.call(e),Error(Be(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function MP(r){var e=r._init;return e(r._payload)}function pO(r){function e(b,S){if(r){var A=b.deletions;A===null?(b.deletions=[S],b.flags|=16):A.push(S)}}function n(b,S){if(!r)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function i(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function a(b,S){return b=Kc(b,S),b.index=0,b.sibling=null,b}function o(b,S,A){return b.index=A,r?(A=b.alternate,A!==null?(A=A.index,A<S?(b.flags|=2,S):A):(b.flags|=2,S)):(b.flags|=1048576,S)}function s(b){return r&&b.alternate===null&&(b.flags|=2),b}function l(b,S,A,I){return S===null||S.tag!==6?(S=hw(A,b.mode,I),S.return=b,S):(S=a(S,A),S.return=b,S)}function c(b,S,A,I){var B=A.type;return B===pf?d(b,S,A.props.children,I,A.key):S!==null&&(S.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===kc&&MP(B)===S.type)?(I=a(S,A.props),I.ref=cp(b,S,A),I.return=b,I):(I=Xv(A.type,A.key,A.props,null,b.mode,I),I.ref=cp(b,S,A),I.return=b,I)}function u(b,S,A,I){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=pw(A,b.mode,I),S.return=b,S):(S=a(S,A.children||[]),S.return=b,S)}function d(b,S,A,I,B){return S===null||S.tag!==7?(S=ld(A,b.mode,I,B),S.return=b,S):(S=a(S,A),S.return=b,S)}function f(b,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return S=hw(""+S,b.mode,A),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kg:return A=Xv(S.type,S.key,S.props,null,b.mode,A),A.ref=cp(b,null,S),A.return=b,A;case hf:return S=pw(S,b.mode,A),S.return=b,S;case kc:var I=S._init;return f(b,I(S._payload),A)}if(Pp(S)||ip(S))return S=ld(S,b.mode,A,null),S.return=b,S;iv(b,S)}return null}function h(b,S,A,I){var B=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return B!==null?null:l(b,S,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Kg:return A.key===B?c(b,S,A,I):null;case hf:return A.key===B?u(b,S,A,I):null;case kc:return B=A._init,h(b,S,B(A._payload),I)}if(Pp(A)||ip(A))return B!==null?null:d(b,S,A,I,null);iv(b,A)}return null}function p(b,S,A,I,B){if(typeof I=="string"&&I!==""||typeof I=="number")return b=b.get(A)||null,l(S,b,""+I,B);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Kg:return b=b.get(I.key===null?A:I.key)||null,c(S,b,I,B);case hf:return b=b.get(I.key===null?A:I.key)||null,u(S,b,I,B);case kc:var $=I._init;return p(b,S,A,$(I._payload),B)}if(Pp(I)||ip(I))return b=b.get(A)||null,d(S,b,I,B,null);iv(S,I)}return null}function y(b,S,A,I){for(var B=null,$=null,D=S,j=S=0,O=null;D!==null&&j<A.length;j++){D.index>j?(O=D,D=null):O=D.sibling;var U=h(b,D,A[j],I);if(U===null){D===null&&(D=O);break}r&&D&&U.alternate===null&&e(b,D),S=o(U,S,j),$===null?B=U:$.sibling=U,$=U,D=O}if(j===A.length)return n(b,D),en&&qu(b,j),B;if(D===null){for(;j<A.length;j++)D=f(b,A[j],I),D!==null&&(S=o(D,S,j),$===null?B=D:$.sibling=D,$=D);return en&&qu(b,j),B}for(D=i(b,D);j<A.length;j++)O=p(D,b,j,A[j],I),O!==null&&(r&&O.alternate!==null&&D.delete(O.key===null?j:O.key),S=o(O,S,j),$===null?B=O:$.sibling=O,$=O);return r&&D.forEach(function(T){return e(b,T)}),en&&qu(b,j),B}function w(b,S,A,I){var B=ip(A);if(typeof B!="function")throw Error(Be(150));if(A=B.call(A),A==null)throw Error(Be(151));for(var $=B=null,D=S,j=S=0,O=null,U=A.next();D!==null&&!U.done;j++,U=A.next()){D.index>j?(O=D,D=null):O=D.sibling;var T=h(b,D,U.value,I);if(T===null){D===null&&(D=O);break}r&&D&&T.alternate===null&&e(b,D),S=o(T,S,j),$===null?B=T:$.sibling=T,$=T,D=O}if(U.done)return n(b,D),en&&qu(b,j),B;if(D===null){for(;!U.done;j++,U=A.next())U=f(b,U.value,I),U!==null&&(S=o(U,S,j),$===null?B=U:$.sibling=U,$=U);return en&&qu(b,j),B}for(D=i(b,D);!U.done;j++,U=A.next())U=p(D,b,j,U.value,I),U!==null&&(r&&U.alternate!==null&&D.delete(U.key===null?j:U.key),S=o(U,S,j),$===null?B=U:$.sibling=U,$=U);return r&&D.forEach(function(L){return e(b,L)}),en&&qu(b,j),B}function x(b,S,A,I){if(typeof A=="object"&&A!==null&&A.type===pf&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Kg:e:{for(var B=A.key,$=S;$!==null;){if($.key===B){if(B=A.type,B===pf){if($.tag===7){n(b,$.sibling),S=a($,A.props.children),S.return=b,b=S;break e}}else if($.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===kc&&MP(B)===$.type){n(b,$.sibling),S=a($,A.props),S.ref=cp(b,$,A),S.return=b,b=S;break e}n(b,$);break}else e(b,$);$=$.sibling}A.type===pf?(S=ld(A.props.children,b.mode,I,A.key),S.return=b,b=S):(I=Xv(A.type,A.key,A.props,null,b.mode,I),I.ref=cp(b,S,A),I.return=b,b=I)}return s(b);case hf:e:{for($=A.key;S!==null;){if(S.key===$)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){n(b,S.sibling),S=a(S,A.children||[]),S.return=b,b=S;break e}else{n(b,S);break}else e(b,S);S=S.sibling}S=pw(A,b.mode,I),S.return=b,b=S}return s(b);case kc:return $=A._init,x(b,S,$(A._payload),I)}if(Pp(A))return y(b,S,A,I);if(ip(A))return w(b,S,A,I);iv(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,S!==null&&S.tag===6?(n(b,S.sibling),S=a(S,A),S.return=b,b=S):(n(b,S),S=hw(A,b.mode,I),S.return=b,b=S),s(b)):n(b,S)}return x}var Hf=pO(!0),mO=pO(!1),Ey=yu(null),ky=null,_f=null,C_=null;function I_(){C_=_f=ky=null}function j_(r){var e=Ey.current;Kr(Ey),r._currentValue=e}function ex(r,e,n){for(;r!==null;){var i=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),r===n)break;r=r.return}}function Of(r,e){ky=r,C_=_f=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(wa=!0),r.firstContext=null)}function jo(r){var e=r._currentValue;if(C_!==r)if(r={context:r,memoizedValue:e,next:null},_f===null){if(ky===null)throw Error(Be(308));_f=r,ky.dependencies={lanes:0,firstContext:r}}else _f=_f.next=r;return e}var Ju=null;function O_(r){Ju===null?Ju=[r]:Ju.push(r)}function gO(r,e,n,i){var a=e.interleaved;return a===null?(n.next=n,O_(e)):(n.next=a.next,a.next=n),e.interleaved=n,Ll(r,i)}function Ll(r,e){r.lanes|=e;var n=r.alternate;for(n!==null&&(n.lanes|=e),n=r,r=r.return;r!==null;)r.childLanes|=e,n=r.alternate,n!==null&&(n.childLanes|=e),n=r,r=r.return;return n.tag===3?n.stateNode:null}var Pc=!1;function L_(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vO(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Nl(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function qc(r,e,n){var i=r.updateQueue;if(i===null)return null;if(i=i.shared,or&2){var a=i.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),i.pending=e,Ll(r,n)}return a=i.interleaved,a===null?(e.next=e,O_(i)):(e.next=a.next,a.next=e),i.interleaved=e,Ll(r,n)}function Wv(r,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=r.pendingLanes,n|=i,e.lanes=n,w_(r,n)}}function FP(r,e){var n=r.updateQueue,i=r.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?a=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?a=o=e:o=o.next=e}else a=o=e;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:i.shared,effects:i.effects},r.updateQueue=n;return}r=n.lastBaseUpdate,r===null?n.firstBaseUpdate=e:r.next=e,n.lastBaseUpdate=e}function Py(r,e,n,i){var a=r.updateQueue;Pc=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var d=r.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=a.baseState;s=0,d=u=c=null,l=o;do{var h=l.lane,p=l.eventTime;if((i&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=r,w=l;switch(h=e,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=ln({},f,h);break e;case 2:Pc=!0}}l.callback!==null&&l.lane!==0&&(r.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else o===null&&(a.shared.lanes=0);bd|=s,r.lanes=s,r.memoizedState=f}}function BP(r,e,n){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var i=r[e],a=i.callback;if(a!==null){if(i.callback=null,i=n,typeof a!="function")throw Error(Be(191,a));a.call(i)}}}var tg={},$s=yu(tg),mm=yu(tg),gm=yu(tg);function ed(r){if(r===tg)throw Error(Be(174));return r}function D_(r,e){switch(Fr(gm,e),Fr(mm,r),Fr($s,tg),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lb(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=Lb(e,r)}Kr($s),Fr($s,e)}function Kf(){Kr($s),Kr(mm),Kr(gm)}function yO(r){ed(gm.current);var e=ed($s.current),n=Lb(e,r.type);e!==n&&(Fr(mm,r),Fr($s,n))}function R_(r){mm.current===r&&(Kr($s),Kr(mm))}var on=yu(0);function Ny(r){for(var e=r;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sw=[];function M_(){for(var r=0;r<sw.length;r++)sw[r]._workInProgressVersionPrimary=null;sw.length=0}var Hv=Gl.ReactCurrentDispatcher,lw=Gl.ReactCurrentBatchConfig,wd=0,sn=null,Kn=null,si=null,Ty=!1,zp=!1,vm=0,Y$=0;function ji(){throw Error(Be(321))}function F_(r,e){if(e===null)return!1;for(var n=0;n<e.length&&n<r.length;n++)if(!ss(r[n],e[n]))return!1;return!0}function B_(r,e,n,i,a,o){if(wd=o,sn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hv.current=r===null||r.memoizedState===null?J$:ez,r=n(i,a),zp){o=0;do{if(zp=!1,vm=0,25<=o)throw Error(Be(301));o+=1,si=Kn=null,e.updateQueue=null,Hv.current=tz,r=n(i,a)}while(zp)}if(Hv.current=Cy,e=Kn!==null&&Kn.next!==null,wd=0,si=Kn=sn=null,Ty=!1,e)throw Error(Be(300));return r}function U_(){var r=vm!==0;return vm=0,r}function Ds(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?sn.memoizedState=si=r:si=si.next=r,si}function Oo(){if(Kn===null){var r=sn.alternate;r=r!==null?r.memoizedState:null}else r=Kn.next;var e=si===null?sn.memoizedState:si.next;if(e!==null)si=e,Kn=r;else{if(r===null)throw Error(Be(310));Kn=r,r={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},si===null?sn.memoizedState=si=r:si=si.next=r}return si}function ym(r,e){return typeof e=="function"?e(r):e}function cw(r){var e=Oo(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=r;var i=Kn,a=i.baseQueue,o=n.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}i.baseQueue=a=o,n.pending=null}if(a!==null){o=a.next,i=i.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((wd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:r(i,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=i):c=c.next=f,sn.lanes|=d,bd|=d}u=u.next}while(u!==null&&u!==o);c===null?s=i:c.next=l,ss(i,e.memoizedState)||(wa=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=c,n.lastRenderedState=i}if(r=n.interleaved,r!==null){a=r;do o=a.lane,sn.lanes|=o,bd|=o,a=a.next;while(a!==r)}else a===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uw(r){var e=Oo(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=r;var i=n.dispatch,a=n.pending,o=e.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=r(o,s.action),s=s.next;while(s!==a);ss(o,e.memoizedState)||(wa=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function wO(){}function bO(r,e){var n=sn,i=Oo(),a=e(),o=!ss(i.memoizedState,a);if(o&&(i.memoizedState=a,wa=!0),i=i.queue,$_(AO.bind(null,n,i,r),[r]),i.getSnapshot!==e||o||si!==null&&si.memoizedState.tag&1){if(n.flags|=2048,wm(9,_O.bind(null,n,i,a,e),void 0,null),di===null)throw Error(Be(349));wd&30||xO(n,e,a)}return a}function xO(r,e,n){r.flags|=16384,r={getSnapshot:e,value:n},e=sn.updateQueue,e===null?(e={lastEffect:null,stores:null},sn.updateQueue=e,e.stores=[r]):(n=e.stores,n===null?e.stores=[r]:n.push(r))}function _O(r,e,n,i){e.value=n,e.getSnapshot=i,SO(e)&&EO(r)}function AO(r,e,n){return n(function(){SO(e)&&EO(r)})}function SO(r){var e=r.getSnapshot;r=r.value;try{var n=e();return!ss(r,n)}catch{return!0}}function EO(r){var e=Ll(r,1);e!==null&&os(e,r,1,-1)}function UP(r){var e=Ds();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ym,lastRenderedState:r},e.queue=r,r=r.dispatch=Z$.bind(null,sn,r),[e.memoizedState,r]}function wm(r,e,n,i){return r={tag:r,create:e,destroy:n,deps:i,next:null},e=sn.updateQueue,e===null?(e={lastEffect:null,stores:null},sn.updateQueue=e,e.lastEffect=r.next=r):(n=e.lastEffect,n===null?e.lastEffect=r.next=r:(i=n.next,n.next=r,r.next=i,e.lastEffect=r)),r}function kO(){return Oo().memoizedState}function Kv(r,e,n,i){var a=Ds();sn.flags|=r,a.memoizedState=wm(1|e,n,void 0,i===void 0?null:i)}function Y0(r,e,n,i){var a=Oo();i=i===void 0?null:i;var o=void 0;if(Kn!==null){var s=Kn.memoizedState;if(o=s.destroy,i!==null&&F_(i,s.deps)){a.memoizedState=wm(e,n,o,i);return}}sn.flags|=r,a.memoizedState=wm(1|e,n,o,i)}function $P(r,e){return Kv(8390656,8,r,e)}function $_(r,e){return Y0(2048,8,r,e)}function PO(r,e){return Y0(4,2,r,e)}function NO(r,e){return Y0(4,4,r,e)}function TO(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function CO(r,e,n){return n=n!=null?n.concat([r]):null,Y0(4,4,TO.bind(null,e,r),n)}function z_(){}function IO(r,e){var n=Oo();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&F_(e,i[1])?i[0]:(n.memoizedState=[r,e],r)}function jO(r,e){var n=Oo();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&F_(e,i[1])?i[0]:(r=r(),n.memoizedState=[r,e],r)}function OO(r,e,n){return wd&21?(ss(n,e)||(n=Fj(),sn.lanes|=n,bd|=n,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,wa=!0),r.memoizedState=n)}function Q$(r,e){var n=Sr;Sr=n!==0&&4>n?n:4,r(!0);var i=lw.transition;lw.transition={};try{r(!1),e()}finally{Sr=n,lw.transition=i}}function LO(){return Oo().memoizedState}function X$(r,e,n){var i=Hc(r);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},DO(r))RO(e,n);else if(n=gO(r,e,n,i),n!==null){var a=ia();os(n,r,i,a),MO(n,e,i)}}function Z$(r,e,n){var i=Hc(r),a={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(DO(r))RO(e,a);else{var o=r.alternate;if(r.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(a.hasEagerState=!0,a.eagerState=l,ss(l,s)){var c=e.interleaved;c===null?(a.next=a,O_(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}n=gO(r,e,a,i),n!==null&&(a=ia(),os(n,r,i,a),MO(n,e,i))}}function DO(r){var e=r.alternate;return r===sn||e!==null&&e===sn}function RO(r,e){zp=Ty=!0;var n=r.pending;n===null?e.next=e:(e.next=n.next,n.next=e),r.pending=e}function MO(r,e,n){if(n&4194240){var i=e.lanes;i&=r.pendingLanes,n|=i,e.lanes=n,w_(r,n)}}var Cy={readContext:jo,useCallback:ji,useContext:ji,useEffect:ji,useImperativeHandle:ji,useInsertionEffect:ji,useLayoutEffect:ji,useMemo:ji,useReducer:ji,useRef:ji,useState:ji,useDebugValue:ji,useDeferredValue:ji,useTransition:ji,useMutableSource:ji,useSyncExternalStore:ji,useId:ji,unstable_isNewReconciler:!1},J$={readContext:jo,useCallback:function(r,e){return Ds().memoizedState=[r,e===void 0?null:e],r},useContext:jo,useEffect:$P,useImperativeHandle:function(r,e,n){return n=n!=null?n.concat([r]):null,Kv(4194308,4,TO.bind(null,e,r),n)},useLayoutEffect:function(r,e){return Kv(4194308,4,r,e)},useInsertionEffect:function(r,e){return Kv(4,2,r,e)},useMemo:function(r,e){var n=Ds();return e=e===void 0?null:e,r=r(),n.memoizedState=[r,e],r},useReducer:function(r,e,n){var i=Ds();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},i.queue=r,r=r.dispatch=X$.bind(null,sn,r),[i.memoizedState,r]},useRef:function(r){var e=Ds();return r={current:r},e.memoizedState=r},useState:UP,useDebugValue:z_,useDeferredValue:function(r){return Ds().memoizedState=r},useTransition:function(){var r=UP(!1),e=r[0];return r=Q$.bind(null,r[1]),Ds().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,n){var i=sn,a=Ds();if(en){if(n===void 0)throw Error(Be(407));n=n()}else{if(n=e(),di===null)throw Error(Be(349));wd&30||xO(i,e,n)}a.memoizedState=n;var o={value:n,getSnapshot:e};return a.queue=o,$P(AO.bind(null,i,o,r),[r]),i.flags|=2048,wm(9,_O.bind(null,i,o,n,e),void 0,null),n},useId:function(){var r=Ds(),e=di.identifierPrefix;if(en){var n=Sl,i=Al;n=(i&~(1<<32-as(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=vm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Y$++,e=":"+e+"r"+n.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},ez={readContext:jo,useCallback:IO,useContext:jo,useEffect:$_,useImperativeHandle:CO,useInsertionEffect:PO,useLayoutEffect:NO,useMemo:jO,useReducer:cw,useRef:kO,useState:function(){return cw(ym)},useDebugValue:z_,useDeferredValue:function(r){var e=Oo();return OO(e,Kn.memoizedState,r)},useTransition:function(){var r=cw(ym)[0],e=Oo().memoizedState;return[r,e]},useMutableSource:wO,useSyncExternalStore:bO,useId:LO,unstable_isNewReconciler:!1},tz={readContext:jo,useCallback:IO,useContext:jo,useEffect:$_,useImperativeHandle:CO,useInsertionEffect:PO,useLayoutEffect:NO,useMemo:jO,useReducer:uw,useRef:kO,useState:function(){return uw(ym)},useDebugValue:z_,useDeferredValue:function(r){var e=Oo();return Kn===null?e.memoizedState=r:OO(e,Kn.memoizedState,r)},useTransition:function(){var r=uw(ym)[0],e=Oo().memoizedState;return[r,e]},useMutableSource:wO,useSyncExternalStore:bO,useId:LO,unstable_isNewReconciler:!1};function Zo(r,e){if(r&&r.defaultProps){e=ln({},e),r=r.defaultProps;for(var n in r)e[n]===void 0&&(e[n]=r[n]);return e}return e}function tx(r,e,n,i){e=r.memoizedState,n=n(i,e),n=n==null?e:ln({},e,n),r.memoizedState=n,r.lanes===0&&(r.updateQueue.baseState=n)}var Q0={isMounted:function(r){return(r=r._reactInternals)?Rd(r)===r:!1},enqueueSetState:function(r,e,n){r=r._reactInternals;var i=ia(),a=Hc(r),o=Nl(i,a);o.payload=e,n!=null&&(o.callback=n),e=qc(r,o,a),e!==null&&(os(e,r,a,i),Wv(e,r,a))},enqueueReplaceState:function(r,e,n){r=r._reactInternals;var i=ia(),a=Hc(r),o=Nl(i,a);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=qc(r,o,a),e!==null&&(os(e,r,a,i),Wv(e,r,a))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var n=ia(),i=Hc(r),a=Nl(n,i);a.tag=2,e!=null&&(a.callback=e),e=qc(r,a,i),e!==null&&(os(e,r,i,n),Wv(e,r,i))}};function zP(r,e,n,i,a,o,s){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!dm(n,i)||!dm(a,o):!0}function FO(r,e,n){var i=!1,a=au,o=e.contextType;return typeof o=="object"&&o!==null?o=jo(o):(a=_a(e)?vd:Hi.current,i=e.contextTypes,o=(i=i!=null)?qf(r,a):au),e=new e(n,o),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Q0,r.stateNode=e,e._reactInternals=r,i&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=o),e}function VP(r,e,n,i){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==r&&Q0.enqueueReplaceState(e,e.state,null)}function rx(r,e,n,i){var a=r.stateNode;a.props=n,a.state=r.memoizedState,a.refs={},L_(r);var o=e.contextType;typeof o=="object"&&o!==null?a.context=jo(o):(o=_a(e)?vd:Hi.current,a.context=qf(r,o)),a.state=r.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(tx(r,e,o,n),a.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Q0.enqueueReplaceState(a,a.state,null),Py(r,n,a,i),a.state=r.memoizedState),typeof a.componentDidMount=="function"&&(r.flags|=4194308)}function Gf(r,e){try{var n="",i=e;do n+=TU(i),i=i.return;while(i);var a=n}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:r,source:e,stack:a,digest:null}}function dw(r,e,n){return{value:r,source:null,stack:n??null,digest:e??null}}function nx(r,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rz=typeof WeakMap=="function"?WeakMap:Map;function BO(r,e,n){n=Nl(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){jy||(jy=!0,hx=i),nx(r,e)},n}function UO(r,e,n){n=Nl(-1,n),n.tag=3;var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var a=e.value;n.payload=function(){return i(a)},n.callback=function(){nx(r,e)}}var o=r.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){nx(r,e),typeof i!="function"&&(Wc===null?Wc=new Set([this]):Wc.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function qP(r,e,n){var i=r.pingCache;if(i===null){i=r.pingCache=new rz;var a=new Set;i.set(e,a)}else a=i.get(e),a===void 0&&(a=new Set,i.set(e,a));a.has(n)||(a.add(n),r=gz.bind(null,r,e,n),e.then(r,r))}function WP(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function HP(r,e,n,i,a){return r.mode&1?(r.flags|=65536,r.lanes=a,r):(r===e?r.flags|=65536:(r.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Nl(-1,1),e.tag=2,qc(n,e,1))),n.lanes|=1),r)}var nz=Gl.ReactCurrentOwner,wa=!1;function ra(r,e,n,i){e.child=r===null?mO(e,null,n,i):Hf(e,r.child,n,i)}function KP(r,e,n,i,a){n=n.render;var o=e.ref;return Of(e,a),i=B_(r,e,n,i,o,a),n=U_(),r!==null&&!wa?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~a,Dl(r,e,a)):(en&&n&&P_(e),e.flags|=1,ra(r,e,i,a),e.child)}function GP(r,e,n,i,a){if(r===null){var o=n.type;return typeof o=="function"&&!Q_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,$O(r,e,o,i,a)):(r=Xv(n.type,null,i,e,e.mode,a),r.ref=e.ref,r.return=e,e.child=r)}if(o=r.child,!(r.lanes&a)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:dm,n(s,i)&&r.ref===e.ref)return Dl(r,e,a)}return e.flags|=1,r=Kc(o,i),r.ref=e.ref,r.return=e,e.child=r}function $O(r,e,n,i,a){if(r!==null){var o=r.memoizedProps;if(dm(o,i)&&r.ref===e.ref)if(wa=!1,e.pendingProps=i=o,(r.lanes&a)!==0)r.flags&131072&&(wa=!0);else return e.lanes=r.lanes,Dl(r,e,a)}return ix(r,e,n,i,a)}function zO(r,e,n){var i=e.pendingProps,a=i.children,o=r!==null?r.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fr(Sf,Ha),Ha|=n;else{if(!(n&1073741824))return r=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,Fr(Sf,Ha),Ha|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Fr(Sf,Ha),Ha|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,Fr(Sf,Ha),Ha|=i;return ra(r,e,a,n),e.child}function VO(r,e){var n=e.ref;(r===null&&n!==null||r!==null&&r.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ix(r,e,n,i,a){var o=_a(n)?vd:Hi.current;return o=qf(e,o),Of(e,a),n=B_(r,e,n,i,o,a),i=U_(),r!==null&&!wa?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~a,Dl(r,e,a)):(en&&i&&P_(e),e.flags|=1,ra(r,e,n,a),e.child)}function YP(r,e,n,i,a){if(_a(n)){var o=!0;_y(e)}else o=!1;if(Of(e,a),e.stateNode===null)Gv(r,e),FO(e,n,i),rx(e,n,i,a),i=!0;else if(r===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=jo(u):(u=_a(n)?vd:Hi.current,u=qf(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==i||c!==u)&&VP(e,s,i,u),Pc=!1;var h=e.memoizedState;s.state=h,Py(e,i,s,a),c=e.memoizedState,l!==i||h!==c||xa.current||Pc?(typeof d=="function"&&(tx(e,n,d,i),c=e.memoizedState),(l=Pc||zP(e,n,l,i,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=u,i=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,vO(r,e),l=e.memoizedProps,u=e.type===e.elementType?l:Zo(e.type,l),s.props=u,f=e.pendingProps,h=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=jo(c):(c=_a(n)?vd:Hi.current,c=qf(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&VP(e,s,i,c),Pc=!1,h=e.memoizedState,s.state=h,Py(e,i,s,a);var y=e.memoizedState;l!==f||h!==y||xa.current||Pc?(typeof p=="function"&&(tx(e,n,p,i),y=e.memoizedState),(u=Pc||zP(e,n,u,i,h,y,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),s.props=i,s.state=y,s.context=c,i=u):(typeof s.componentDidUpdate!="function"||l===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),i=!1)}return ax(r,e,n,i,o,a)}function ax(r,e,n,i,a,o){VO(r,e);var s=(e.flags&128)!==0;if(!i&&!s)return a&&LP(e,n,!1),Dl(r,e,o);i=e.stateNode,nz.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,r!==null&&s?(e.child=Hf(e,r.child,null,o),e.child=Hf(e,null,l,o)):ra(r,e,l,o),e.memoizedState=i.state,a&&LP(e,n,!0),e.child}function qO(r){var e=r.stateNode;e.pendingContext?OP(r,e.pendingContext,e.pendingContext!==e.context):e.context&&OP(r,e.context,!1),D_(r,e.containerInfo)}function QP(r,e,n,i,a){return Wf(),T_(a),e.flags|=256,ra(r,e,n,i),e.child}var ox={dehydrated:null,treeContext:null,retryLane:0};function sx(r){return{baseLanes:r,cachePool:null,transitions:null}}function WO(r,e,n){var i=e.pendingProps,a=on.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=r!==null&&r.memoizedState===null?!1:(a&2)!==0),l?(o=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(a|=1),Fr(on,a&1),r===null)return Jb(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,r=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=J0(s,i,0,null),r=ld(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,e.child.memoizedState=sx(n),e.memoizedState=ox,r):V_(e,s));if(a=r.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return iz(r,e,s,i,l,a,n);if(o){o=i.fallback,s=e.mode,a=r.child,l=a.sibling;var c={mode:"hidden",children:i.children};return!(s&1)&&e.child!==a?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Kc(a,c),i.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Kc(l,o):(o=ld(o,s,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=r.child.memoizedState,s=s===null?sx(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=r.childLanes&~n,e.memoizedState=ox,i}return o=r.child,r=o.sibling,i=Kc(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,r!==null&&(n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)),e.child=i,e.memoizedState=null,i}function V_(r,e){return e=J0({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function av(r,e,n,i){return i!==null&&T_(i),Hf(e,r.child,null,n),r=V_(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function iz(r,e,n,i,a,o,s){if(n)return e.flags&256?(e.flags&=-257,i=dw(Error(Be(422))),av(r,e,s,i)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(o=i.fallback,a=e.mode,i=J0({mode:"visible",children:i.children},a,0,null),o=ld(o,a,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Hf(e,r.child,null,s),e.child.memoizedState=sx(s),e.memoizedState=ox,o);if(!(e.mode&1))return av(r,e,s,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var l=i.dgst;return i=l,o=Error(Be(419)),i=dw(o,i,void 0),av(r,e,s,i)}if(l=(s&r.childLanes)!==0,wa||l){if(i=di,i!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|s)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Ll(r,a),os(i,r,a,-1))}return Y_(),i=dw(Error(Be(421))),av(r,e,s,i)}return a.data==="$?"?(e.flags|=128,e.child=r.child,e=vz.bind(null,r),a._reactRetry=e,null):(r=o.treeContext,Qa=Vc(a.nextSibling),eo=e,en=!0,es=null,r!==null&&(Eo[ko++]=Al,Eo[ko++]=Sl,Eo[ko++]=yd,Al=r.id,Sl=r.overflow,yd=e),e=V_(e,i.children),e.flags|=4096,e)}function XP(r,e,n){r.lanes|=e;var i=r.alternate;i!==null&&(i.lanes|=e),ex(r.return,e,n)}function fw(r,e,n,i,a){var o=r.memoizedState;o===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=a)}function HO(r,e,n){var i=e.pendingProps,a=i.revealOrder,o=i.tail;if(ra(r,e,i.children,n),i=on.current,i&2)i=i&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&XP(r,n,e);else if(r.tag===19)XP(r,n,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}i&=1}if(Fr(on,i),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;n!==null;)r=n.alternate,r!==null&&Ny(r)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),fw(e,!1,a,n,o);break;case"backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(r=a.alternate,r!==null&&Ny(r)===null){e.child=a;break}r=a.sibling,a.sibling=n,n=a,a=r}fw(e,!0,n,null,o);break;case"together":fw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gv(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function Dl(r,e,n){if(r!==null&&(e.dependencies=r.dependencies),bd|=e.lanes,!(n&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(Be(153));if(e.child!==null){for(r=e.child,n=Kc(r,r.pendingProps),e.child=n,n.return=e;r.sibling!==null;)r=r.sibling,n=n.sibling=Kc(r,r.pendingProps),n.return=e;n.sibling=null}return e.child}function az(r,e,n){switch(e.tag){case 3:qO(e),Wf();break;case 5:yO(e);break;case 1:_a(e.type)&&_y(e);break;case 4:D_(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,a=e.memoizedProps.value;Fr(Ey,i._currentValue),i._currentValue=a;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Fr(on,on.current&1),e.flags|=128,null):n&e.child.childLanes?WO(r,e,n):(Fr(on,on.current&1),r=Dl(r,e,n),r!==null?r.sibling:null);Fr(on,on.current&1);break;case 19:if(i=(n&e.childLanes)!==0,r.flags&128){if(i)return HO(r,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Fr(on,on.current),i)break;return null;case 22:case 23:return e.lanes=0,zO(r,e,n)}return Dl(r,e,n)}var KO,lx,GO,YO;KO=function(r,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)r.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lx=function(){};GO=function(r,e,n,i){var a=r.memoizedProps;if(a!==i){r=e.stateNode,ed($s.current);var o=null;switch(n){case"input":a=Cb(r,a),i=Cb(r,i),o=[];break;case"select":a=ln({},a,{value:void 0}),i=ln({},i,{value:void 0}),o=[];break;case"textarea":a=Ob(r,a),i=Ob(r,i),o=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(r.onclick=by)}Db(n,i);var s;n=null;for(u in a)if(!i.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(im.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=a!=null?a[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(im.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Vr("scroll",r),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};YO=function(r,e,n,i){n!==i&&(e.flags|=4)};function up(r,e){if(!en)switch(r.tailMode){case"hidden":e=r.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?r.tail=null:n.sibling=null;break;case"collapsed":n=r.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:i.sibling=null}}function Oi(r){var e=r.alternate!==null&&r.alternate.child===r.child,n=0,i=0;if(e)for(var a=r.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=r,a=a.sibling;else for(a=r.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=r,a=a.sibling;return r.subtreeFlags|=i,r.childLanes=n,e}function oz(r,e,n){var i=e.pendingProps;switch(N_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(e),null;case 1:return _a(e.type)&&xy(),Oi(e),null;case 3:return i=e.stateNode,Kf(),Kr(xa),Kr(Hi),M_(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(r===null||r.child===null)&&(nv(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,es!==null&&(gx(es),es=null))),lx(r,e),Oi(e),null;case 5:R_(e);var a=ed(gm.current);if(n=e.type,r!==null&&e.stateNode!=null)GO(r,e,n,i,a),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Be(166));return Oi(e),null}if(r=ed($s.current),nv(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Rs]=e,i[pm]=o,r=(e.mode&1)!==0,n){case"dialog":Vr("cancel",i),Vr("close",i);break;case"iframe":case"object":case"embed":Vr("load",i);break;case"video":case"audio":for(a=0;a<Tp.length;a++)Vr(Tp[a],i);break;case"source":Vr("error",i);break;case"img":case"image":case"link":Vr("error",i),Vr("load",i);break;case"details":Vr("toggle",i);break;case"input":oP(i,o),Vr("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",i);break;case"textarea":lP(i,o),Vr("invalid",i)}Db(n,o),a=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?i.textContent!==l&&(o.suppressHydrationWarning!==!0&&rv(i.textContent,l,r),a=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&rv(i.textContent,l,r),a=["children",""+l]):im.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Vr("scroll",i)}switch(n){case"input":Gg(i),sP(i,o,!0);break;case"textarea":Gg(i),cP(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=by)}i=a,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Aj(n)),r==="http://www.w3.org/1999/xhtml"?n==="script"?(r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof i.is=="string"?r=s.createElement(n,{is:i.is}):(r=s.createElement(n),n==="select"&&(s=r,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):r=s.createElementNS(r,n),r[Rs]=e,r[pm]=i,KO(r,e,!1,!1),e.stateNode=r;e:{switch(s=Rb(n,i),n){case"dialog":Vr("cancel",r),Vr("close",r),a=i;break;case"iframe":case"object":case"embed":Vr("load",r),a=i;break;case"video":case"audio":for(a=0;a<Tp.length;a++)Vr(Tp[a],r);a=i;break;case"source":Vr("error",r),a=i;break;case"img":case"image":case"link":Vr("error",r),Vr("load",r),a=i;break;case"details":Vr("toggle",r),a=i;break;case"input":oP(r,i),a=Cb(r,i),Vr("invalid",r);break;case"option":a=i;break;case"select":r._wrapperState={wasMultiple:!!i.multiple},a=ln({},i,{value:void 0}),Vr("invalid",r);break;case"textarea":lP(r,i),a=Ob(r,i),Vr("invalid",r);break;default:a=i}Db(n,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?kj(r,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Sj(r,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&am(r,c):typeof c=="number"&&am(r,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(im.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Vr("scroll",r):c!=null&&h_(r,o,c,s))}switch(n){case"input":Gg(r),sP(r,i,!1);break;case"textarea":Gg(r),cP(r);break;case"option":i.value!=null&&r.setAttribute("value",""+iu(i.value));break;case"select":r.multiple=!!i.multiple,o=i.value,o!=null?Tf(r,!!i.multiple,o,!1):i.defaultValue!=null&&Tf(r,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(r.onclick=by)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oi(e),null;case 6:if(r&&e.stateNode!=null)YO(r,e,r.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Be(166));if(n=ed(gm.current),ed($s.current),nv(e)){if(i=e.stateNode,n=e.memoizedProps,i[Rs]=e,(o=i.nodeValue!==n)&&(r=eo,r!==null))switch(r.tag){case 3:rv(i.nodeValue,n,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&rv(i.nodeValue,n,(r.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Rs]=e,e.stateNode=i}return Oi(e),null;case 13:if(Kr(on),i=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(en&&Qa!==null&&e.mode&1&&!(e.flags&128))hO(),Wf(),e.flags|=98560,o=!1;else if(o=nv(e),i!==null&&i.dehydrated!==null){if(r===null){if(!o)throw Error(Be(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Be(317));o[Rs]=e}else Wf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oi(e),o=!1}else es!==null&&(gx(es),es=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(r!==null&&r.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(r===null||on.current&1?Gn===0&&(Gn=3):Y_())),e.updateQueue!==null&&(e.flags|=4),Oi(e),null);case 4:return Kf(),lx(r,e),r===null&&fm(e.stateNode.containerInfo),Oi(e),null;case 10:return j_(e.type._context),Oi(e),null;case 17:return _a(e.type)&&xy(),Oi(e),null;case 19:if(Kr(on),o=e.memoizedState,o===null)return Oi(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)up(o,!1);else{if(Gn!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(s=Ny(r),s!==null){for(e.flags|=128,up(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,r=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=r,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n=n.sibling;return Fr(on,on.current&1|2),e.child}r=r.sibling}o.tail!==null&&Cn()>Yf&&(e.flags|=128,i=!0,up(o,!1),e.lanes=4194304)}else{if(!i)if(r=Ny(s),r!==null){if(e.flags|=128,i=!0,n=r.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),up(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!en)return Oi(e),null}else 2*Cn()-o.renderingStartTime>Yf&&n!==1073741824&&(e.flags|=128,i=!0,up(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Cn(),e.sibling=null,n=on.current,Fr(on,i?n&1|2:n&1),e):(Oi(e),null);case 22:case 23:return G_(),i=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ha&1073741824&&(Oi(e),e.subtreeFlags&6&&(e.flags|=8192)):Oi(e),null;case 24:return null;case 25:return null}throw Error(Be(156,e.tag))}function sz(r,e){switch(N_(e),e.tag){case 1:return _a(e.type)&&xy(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return Kf(),Kr(xa),Kr(Hi),M_(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return R_(e),null;case 13:if(Kr(on),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(Be(340));Wf()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return Kr(on),null;case 4:return Kf(),null;case 10:return j_(e.type._context),null;case 22:case 23:return G_(),null;case 24:return null;default:return null}}var ov=!1,$i=!1,lz=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Af(r,e){var n=r.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){gn(r,e,i)}else n.current=null}function cx(r,e,n){try{n()}catch(i){gn(r,e,i)}}var ZP=!1;function cz(r,e){if(Hb=vy,r=eO(),k_(r)){if("selectionStart"in r)var n={start:r.selectionStart,end:r.selectionEnd};else e:{n=(n=r.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=r,h=null;t:for(;;){for(var p;f!==n||a!==0&&f.nodeType!==3||(l=s+a),f!==o||i!==0&&f.nodeType!==3||(c=s+i),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===r)break t;if(h===n&&++u===a&&(l=s),h===o&&++d===i&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kb={focusedElem:r,selectionRange:n},vy=!1,Ge=e;Ge!==null;)if(e=Ge,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,Ge=r;else for(;Ge!==null;){e=Ge;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,b=e.stateNode,S=b.getSnapshotBeforeUpdate(e.elementType===e.type?w:Zo(e.type,w),x);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(I){gn(e,e.return,I)}if(r=e.sibling,r!==null){r.return=e.return,Ge=r;break}Ge=e.return}return y=ZP,ZP=!1,y}function Vp(r,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var o=a.destroy;a.destroy=void 0,o!==void 0&&cx(e,n,o)}a=a.next}while(a!==i)}}function X0(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&r)===r){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function ux(r){var e=r.ref;if(e!==null){var n=r.stateNode;switch(r.tag){case 5:r=n;break;default:r=n}typeof e=="function"?e(r):e.current=r}}function QO(r){var e=r.alternate;e!==null&&(r.alternate=null,QO(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[Rs],delete e[pm],delete e[Qb],delete e[W$],delete e[H$])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function XO(r){return r.tag===5||r.tag===3||r.tag===4}function JP(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||XO(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dx(r,e,n){var i=r.tag;if(i===5||i===6)r=r.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(r,e):n.insertBefore(r,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(r,n)):(e=n,e.appendChild(r)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=by));else if(i!==4&&(r=r.child,r!==null))for(dx(r,e,n),r=r.sibling;r!==null;)dx(r,e,n),r=r.sibling}function fx(r,e,n){var i=r.tag;if(i===5||i===6)r=r.stateNode,e?n.insertBefore(r,e):n.appendChild(r);else if(i!==4&&(r=r.child,r!==null))for(fx(r,e,n),r=r.sibling;r!==null;)fx(r,e,n),r=r.sibling}var wi=null,Jo=!1;function wc(r,e,n){for(n=n.child;n!==null;)ZO(r,e,n),n=n.sibling}function ZO(r,e,n){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(V0,n)}catch{}switch(n.tag){case 5:$i||Af(n,e);case 6:var i=wi,a=Jo;wi=null,wc(r,e,n),wi=i,Jo=a,wi!==null&&(Jo?(r=wi,n=n.stateNode,r.nodeType===8?r.parentNode.removeChild(n):r.removeChild(n)):wi.removeChild(n.stateNode));break;case 18:wi!==null&&(Jo?(r=wi,n=n.stateNode,r.nodeType===8?aw(r.parentNode,n):r.nodeType===1&&aw(r,n),cm(r)):aw(wi,n.stateNode));break;case 4:i=wi,a=Jo,wi=n.stateNode.containerInfo,Jo=!0,wc(r,e,n),wi=i,Jo=a;break;case 0:case 11:case 14:case 15:if(!$i&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var o=a,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&cx(n,e,s),a=a.next}while(a!==i)}wc(r,e,n);break;case 1:if(!$i&&(Af(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){gn(n,e,l)}wc(r,e,n);break;case 21:wc(r,e,n);break;case 22:n.mode&1?($i=(i=$i)||n.memoizedState!==null,wc(r,e,n),$i=i):wc(r,e,n);break;default:wc(r,e,n)}}function eN(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var n=r.stateNode;n===null&&(n=r.stateNode=new lz),e.forEach(function(i){var a=yz.bind(null,r,i);n.has(i)||(n.add(i),i.then(a,a))})}}function Qo(r,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];try{var o=r,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:wi=l.stateNode,Jo=!1;break e;case 3:wi=l.stateNode.containerInfo,Jo=!0;break e;case 4:wi=l.stateNode.containerInfo,Jo=!0;break e}l=l.return}if(wi===null)throw Error(Be(160));ZO(o,s,a),wi=null,Jo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){gn(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JO(e,r),e=e.sibling}function JO(r,e){var n=r.alternate,i=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Qo(e,r),js(r),i&4){try{Vp(3,r,r.return),X0(3,r)}catch(w){gn(r,r.return,w)}try{Vp(5,r,r.return)}catch(w){gn(r,r.return,w)}}break;case 1:Qo(e,r),js(r),i&512&&n!==null&&Af(n,n.return);break;case 5:if(Qo(e,r),js(r),i&512&&n!==null&&Af(n,n.return),r.flags&32){var a=r.stateNode;try{am(a,"")}catch(w){gn(r,r.return,w)}}if(i&4&&(a=r.stateNode,a!=null)){var o=r.memoizedProps,s=n!==null?n.memoizedProps:o,l=r.type,c=r.updateQueue;if(r.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&xj(a,o),Rb(l,s);var u=Rb(l,o);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?kj(a,f):d==="dangerouslySetInnerHTML"?Sj(a,f):d==="children"?am(a,f):h_(a,d,f,u)}switch(l){case"input":Ib(a,o);break;case"textarea":_j(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Tf(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Tf(a,!!o.multiple,o.defaultValue,!0):Tf(a,!!o.multiple,o.multiple?[]:"",!1))}a[pm]=o}catch(w){gn(r,r.return,w)}}break;case 6:if(Qo(e,r),js(r),i&4){if(r.stateNode===null)throw Error(Be(162));a=r.stateNode,o=r.memoizedProps;try{a.nodeValue=o}catch(w){gn(r,r.return,w)}}break;case 3:if(Qo(e,r),js(r),i&4&&n!==null&&n.memoizedState.isDehydrated)try{cm(e.containerInfo)}catch(w){gn(r,r.return,w)}break;case 4:Qo(e,r),js(r);break;case 13:Qo(e,r),js(r),a=r.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(H_=Cn())),i&4&&eN(r);break;case 22:if(d=n!==null&&n.memoizedState!==null,r.mode&1?($i=(u=$i)||d,Qo(e,r),$i=u):Qo(e,r),js(r),i&8192){if(u=r.memoizedState!==null,(r.stateNode.isHidden=u)&&!d&&r.mode&1)for(Ge=r,d=r.child;d!==null;){for(f=Ge=d;Ge!==null;){switch(h=Ge,p=h.child,h.tag){case 0:case 11:case 14:case 15:Vp(4,h,h.return);break;case 1:Af(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){gn(i,n,w)}}break;case 5:Af(h,h.return);break;case 22:if(h.memoizedState!==null){rN(f);continue}}p!==null?(p.return=h,Ge=p):rN(f)}d=d.sibling}e:for(d=null,f=r;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ej("display",s))}catch(w){gn(r,r.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){gn(r,r.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===r)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qo(e,r),js(r),i&4&&eN(r);break;case 21:break;default:Qo(e,r),js(r)}}function js(r){var e=r.flags;if(e&2){try{e:{for(var n=r.return;n!==null;){if(XO(n)){var i=n;break e}n=n.return}throw Error(Be(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(am(a,""),i.flags&=-33);var o=JP(r);fx(r,o,a);break;case 3:case 4:var s=i.stateNode.containerInfo,l=JP(r);dx(r,l,s);break;default:throw Error(Be(161))}}catch(c){gn(r,r.return,c)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function uz(r,e,n){Ge=r,e6(r)}function e6(r,e,n){for(var i=(r.mode&1)!==0;Ge!==null;){var a=Ge,o=a.child;if(a.tag===22&&i){var s=a.memoizedState!==null||ov;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||$i;l=ov;var u=$i;if(ov=s,($i=c)&&!u)for(Ge=a;Ge!==null;)s=Ge,c=s.child,s.tag===22&&s.memoizedState!==null?nN(a):c!==null?(c.return=s,Ge=c):nN(a);for(;o!==null;)Ge=o,e6(o),o=o.sibling;Ge=a,ov=l,$i=u}tN(r)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Ge=o):tN(r)}}function tN(r){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$i||X0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!$i)if(n===null)i.componentDidMount();else{var a=e.elementType===e.type?n.memoizedProps:Zo(e.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&BP(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}BP(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&cm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}$i||e.flags&512&&ux(e)}catch(h){gn(e,e.return,h)}}if(e===r){Ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function rN(r){for(;Ge!==null;){var e=Ge;if(e===r){Ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function nN(r){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{X0(4,e)}catch(c){gn(e,n,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var a=e.return;try{i.componentDidMount()}catch(c){gn(e,a,c)}}var o=e.return;try{ux(e)}catch(c){gn(e,o,c)}break;case 5:var s=e.return;try{ux(e)}catch(c){gn(e,s,c)}}}catch(c){gn(e,e.return,c)}if(e===r){Ge=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ge=l;break}Ge=e.return}}var dz=Math.ceil,Iy=Gl.ReactCurrentDispatcher,q_=Gl.ReactCurrentOwner,Co=Gl.ReactCurrentBatchConfig,or=0,di=null,Bn=null,Ai=0,Ha=0,Sf=yu(0),Gn=0,bm=null,bd=0,Z0=0,W_=0,qp=null,va=null,H_=0,Yf=1/0,yl=null,jy=!1,hx=null,Wc=null,sv=!1,Dc=null,Oy=0,Wp=0,px=null,Yv=-1,Qv=0;function ia(){return or&6?Cn():Yv!==-1?Yv:Yv=Cn()}function Hc(r){return r.mode&1?or&2&&Ai!==0?Ai&-Ai:G$.transition!==null?(Qv===0&&(Qv=Fj()),Qv):(r=Sr,r!==0||(r=window.event,r=r===void 0?16:Wj(r.type)),r):1}function os(r,e,n,i){if(50<Wp)throw Wp=0,px=null,Error(Be(185));Zm(r,n,i),(!(or&2)||r!==di)&&(r===di&&(!(or&2)&&(Z0|=n),Gn===4&&Ic(r,Ai)),Aa(r,i),n===1&&or===0&&!(e.mode&1)&&(Yf=Cn()+500,G0&&wu()))}function Aa(r,e){var n=r.callbackNode;GU(r,e);var i=gy(r,r===di?Ai:0);if(i===0)n!==null&&fP(n),r.callbackNode=null,r.callbackPriority=0;else if(e=i&-i,r.callbackPriority!==e){if(n!=null&&fP(n),e===1)r.tag===0?K$(iN.bind(null,r)):uO(iN.bind(null,r)),V$(function(){!(or&6)&&wu()}),n=null;else{switch(Bj(i)){case 1:n=y_;break;case 4:n=Rj;break;case 16:n=my;break;case 536870912:n=Mj;break;default:n=my}n=l6(n,t6.bind(null,r))}r.callbackPriority=e,r.callbackNode=n}}function t6(r,e){if(Yv=-1,Qv=0,or&6)throw Error(Be(327));var n=r.callbackNode;if(Lf()&&r.callbackNode!==n)return null;var i=gy(r,r===di?Ai:0);if(i===0)return null;if(i&30||i&r.expiredLanes||e)e=Ly(r,i);else{e=i;var a=or;or|=2;var o=n6();(di!==r||Ai!==e)&&(yl=null,Yf=Cn()+500,sd(r,e));do try{pz();break}catch(l){r6(r,l)}while(!0);I_(),Iy.current=o,or=a,Bn!==null?e=0:(di=null,Ai=0,e=Gn)}if(e!==0){if(e===2&&(a=$b(r),a!==0&&(i=a,e=mx(r,a))),e===1)throw n=bm,sd(r,0),Ic(r,i),Aa(r,Cn()),n;if(e===6)Ic(r,i);else{if(a=r.current.alternate,!(i&30)&&!fz(a)&&(e=Ly(r,i),e===2&&(o=$b(r),o!==0&&(i=o,e=mx(r,o))),e===1))throw n=bm,sd(r,0),Ic(r,i),Aa(r,Cn()),n;switch(r.finishedWork=a,r.finishedLanes=i,e){case 0:case 1:throw Error(Be(345));case 2:Wu(r,va,yl);break;case 3:if(Ic(r,i),(i&130023424)===i&&(e=H_+500-Cn(),10<e)){if(gy(r,0)!==0)break;if(a=r.suspendedLanes,(a&i)!==i){ia(),r.pingedLanes|=r.suspendedLanes&a;break}r.timeoutHandle=Yb(Wu.bind(null,r,va,yl),e);break}Wu(r,va,yl);break;case 4:if(Ic(r,i),(i&4194240)===i)break;for(e=r.eventTimes,a=-1;0<i;){var s=31-as(i);o=1<<s,s=e[s],s>a&&(a=s),i&=~o}if(i=a,i=Cn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*dz(i/1960))-i,10<i){r.timeoutHandle=Yb(Wu.bind(null,r,va,yl),i);break}Wu(r,va,yl);break;case 5:Wu(r,va,yl);break;default:throw Error(Be(329))}}}return Aa(r,Cn()),r.callbackNode===n?t6.bind(null,r):null}function mx(r,e){var n=qp;return r.current.memoizedState.isDehydrated&&(sd(r,e).flags|=256),r=Ly(r,e),r!==2&&(e=va,va=n,e!==null&&gx(e)),r}function gx(r){va===null?va=r:va.push.apply(va,r)}function fz(r){for(var e=r;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var a=n[i],o=a.getSnapshot;a=a.value;try{if(!ss(o(),a))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ic(r,e){for(e&=~W_,e&=~Z0,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var n=31-as(e),i=1<<n;r[n]=-1,e&=~i}}function iN(r){if(or&6)throw Error(Be(327));Lf();var e=gy(r,0);if(!(e&1))return Aa(r,Cn()),null;var n=Ly(r,e);if(r.tag!==0&&n===2){var i=$b(r);i!==0&&(e=i,n=mx(r,i))}if(n===1)throw n=bm,sd(r,0),Ic(r,e),Aa(r,Cn()),n;if(n===6)throw Error(Be(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,Wu(r,va,yl),Aa(r,Cn()),null}function K_(r,e){var n=or;or|=1;try{return r(e)}finally{or=n,or===0&&(Yf=Cn()+500,G0&&wu())}}function xd(r){Dc!==null&&Dc.tag===0&&!(or&6)&&Lf();var e=or;or|=1;var n=Co.transition,i=Sr;try{if(Co.transition=null,Sr=1,r)return r()}finally{Sr=i,Co.transition=n,or=e,!(or&6)&&wu()}}function G_(){Ha=Sf.current,Kr(Sf)}function sd(r,e){r.finishedWork=null,r.finishedLanes=0;var n=r.timeoutHandle;if(n!==-1&&(r.timeoutHandle=-1,z$(n)),Bn!==null)for(n=Bn.return;n!==null;){var i=n;switch(N_(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&xy();break;case 3:Kf(),Kr(xa),Kr(Hi),M_();break;case 5:R_(i);break;case 4:Kf();break;case 13:Kr(on);break;case 19:Kr(on);break;case 10:j_(i.type._context);break;case 22:case 23:G_()}n=n.return}if(di=r,Bn=r=Kc(r.current,null),Ai=Ha=e,Gn=0,bm=null,W_=Z0=bd=0,va=qp=null,Ju!==null){for(e=0;e<Ju.length;e++)if(n=Ju[e],i=n.interleaved,i!==null){n.interleaved=null;var a=i.next,o=n.pending;if(o!==null){var s=o.next;o.next=a,i.next=s}n.pending=i}Ju=null}return r}function r6(r,e){do{var n=Bn;try{if(I_(),Hv.current=Cy,Ty){for(var i=sn.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Ty=!1}if(wd=0,si=Kn=sn=null,zp=!1,vm=0,q_.current=null,n===null||n.return===null){Gn=1,bm=e,Bn=null;break}e:{var o=r,s=n.return,l=n,c=e;if(e=Ai,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=WP(s);if(p!==null){p.flags&=-257,HP(p,s,l,o,e),p.mode&1&&qP(o,u,e),e=p,c=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(c),e.updateQueue=w}else y.add(c);break e}else{if(!(e&1)){qP(o,u,e),Y_();break e}c=Error(Be(426))}}else if(en&&l.mode&1){var x=WP(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),HP(x,s,l,o,e),T_(Gf(c,l));break e}}o=c=Gf(c,l),Gn!==4&&(Gn=2),qp===null?qp=[o]:qp.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=BO(o,c,e);FP(o,b);break e;case 1:l=c;var S=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Wc===null||!Wc.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=UO(o,l,e);FP(o,I);break e}}o=o.return}while(o!==null)}a6(n)}catch(B){e=B,Bn===n&&n!==null&&(Bn=n=n.return);continue}break}while(!0)}function n6(){var r=Iy.current;return Iy.current=Cy,r===null?Cy:r}function Y_(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),di===null||!(bd&268435455)&&!(Z0&268435455)||Ic(di,Ai)}function Ly(r,e){var n=or;or|=2;var i=n6();(di!==r||Ai!==e)&&(yl=null,sd(r,e));do try{hz();break}catch(a){r6(r,a)}while(!0);if(I_(),or=n,Iy.current=i,Bn!==null)throw Error(Be(261));return di=null,Ai=0,Gn}function hz(){for(;Bn!==null;)i6(Bn)}function pz(){for(;Bn!==null&&!BU();)i6(Bn)}function i6(r){var e=s6(r.alternate,r,Ha);r.memoizedProps=r.pendingProps,e===null?a6(r):Bn=e,q_.current=null}function a6(r){var e=r;do{var n=e.alternate;if(r=e.return,e.flags&32768){if(n=sz(n,e),n!==null){n.flags&=32767,Bn=n;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Gn=6,Bn=null;return}}else if(n=oz(n,e,Ha),n!==null){Bn=n;return}if(e=e.sibling,e!==null){Bn=e;return}Bn=e=r}while(e!==null);Gn===0&&(Gn=5)}function Wu(r,e,n){var i=Sr,a=Co.transition;try{Co.transition=null,Sr=1,mz(r,e,n,i)}finally{Co.transition=a,Sr=i}return null}function mz(r,e,n,i){do Lf();while(Dc!==null);if(or&6)throw Error(Be(327));n=r.finishedWork;var a=r.finishedLanes;if(n===null)return null;if(r.finishedWork=null,r.finishedLanes=0,n===r.current)throw Error(Be(177));r.callbackNode=null,r.callbackPriority=0;var o=n.lanes|n.childLanes;if(YU(r,o),r===di&&(Bn=di=null,Ai=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sv||(sv=!0,l6(my,function(){return Lf(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Co.transition,Co.transition=null;var s=Sr;Sr=1;var l=or;or|=4,q_.current=null,cz(r,n),JO(n,r),D$(Kb),vy=!!Hb,Kb=Hb=null,r.current=n,uz(n),UU(),or=l,Sr=s,Co.transition=o}else r.current=n;if(sv&&(sv=!1,Dc=r,Oy=a),o=r.pendingLanes,o===0&&(Wc=null),VU(n.stateNode),Aa(r,Cn()),e!==null)for(i=r.onRecoverableError,n=0;n<e.length;n++)a=e[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(jy)throw jy=!1,r=hx,hx=null,r;return Oy&1&&r.tag!==0&&Lf(),o=r.pendingLanes,o&1?r===px?Wp++:(Wp=0,px=r):Wp=0,wu(),null}function Lf(){if(Dc!==null){var r=Bj(Oy),e=Co.transition,n=Sr;try{if(Co.transition=null,Sr=16>r?16:r,Dc===null)var i=!1;else{if(r=Dc,Dc=null,Oy=0,or&6)throw Error(Be(331));var a=or;for(or|=4,Ge=r.current;Ge!==null;){var o=Ge,s=o.child;if(Ge.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ge=u;Ge!==null;){var d=Ge;switch(d.tag){case 0:case 11:case 15:Vp(8,d,o)}var f=d.child;if(f!==null)f.return=d,Ge=f;else for(;Ge!==null;){d=Ge;var h=d.sibling,p=d.return;if(QO(d),d===u){Ge=null;break}if(h!==null){h.return=p,Ge=h;break}Ge=p}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}Ge=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ge=s;else e:for(;Ge!==null;){if(o=Ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vp(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,Ge=b;break e}Ge=o.return}}var S=r.current;for(Ge=S;Ge!==null;){s=Ge;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,Ge=A;else e:for(s=S;Ge!==null;){if(l=Ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:X0(9,l)}}catch(B){gn(l,l.return,B)}if(l===s){Ge=null;break e}var I=l.sibling;if(I!==null){I.return=l.return,Ge=I;break e}Ge=l.return}}if(or=a,wu(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(V0,r)}catch{}i=!0}return i}finally{Sr=n,Co.transition=e}}return!1}function aN(r,e,n){e=Gf(n,e),e=BO(r,e,1),r=qc(r,e,1),e=ia(),r!==null&&(Zm(r,1,e),Aa(r,e))}function gn(r,e,n){if(r.tag===3)aN(r,r,n);else for(;e!==null;){if(e.tag===3){aN(e,r,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Wc===null||!Wc.has(i))){r=Gf(n,r),r=UO(e,r,1),e=qc(e,r,1),r=ia(),e!==null&&(Zm(e,1,r),Aa(e,r));break}}e=e.return}}function gz(r,e,n){var i=r.pingCache;i!==null&&i.delete(e),e=ia(),r.pingedLanes|=r.suspendedLanes&n,di===r&&(Ai&n)===n&&(Gn===4||Gn===3&&(Ai&130023424)===Ai&&500>Cn()-H_?sd(r,0):W_|=n),Aa(r,e)}function o6(r,e){e===0&&(r.mode&1?(e=Xg,Xg<<=1,!(Xg&130023424)&&(Xg=4194304)):e=1);var n=ia();r=Ll(r,e),r!==null&&(Zm(r,e,n),Aa(r,n))}function vz(r){var e=r.memoizedState,n=0;e!==null&&(n=e.retryLane),o6(r,n)}function yz(r,e){var n=0;switch(r.tag){case 13:var i=r.stateNode,a=r.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=r.stateNode;break;default:throw Error(Be(314))}i!==null&&i.delete(e),o6(r,n)}var s6;s6=function(r,e,n){if(r!==null)if(r.memoizedProps!==e.pendingProps||xa.current)wa=!0;else{if(!(r.lanes&n)&&!(e.flags&128))return wa=!1,az(r,e,n);wa=!!(r.flags&131072)}else wa=!1,en&&e.flags&1048576&&dO(e,Sy,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Gv(r,e),r=e.pendingProps;var a=qf(e,Hi.current);Of(e,n),a=B_(null,e,i,r,a,n);var o=U_();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_a(i)?(o=!0,_y(e)):o=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,L_(e),a.updater=Q0,e.stateNode=a,a._reactInternals=e,rx(e,i,r,n),e=ax(null,e,i,!0,o,n)):(e.tag=0,en&&o&&P_(e),ra(null,e,a,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Gv(r,e),r=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=bz(i),r=Zo(i,r),a){case 0:e=ix(null,e,i,r,n);break e;case 1:e=YP(null,e,i,r,n);break e;case 11:e=KP(null,e,i,r,n);break e;case 14:e=GP(null,e,i,Zo(i.type,r),n);break e}throw Error(Be(306,i,""))}return e;case 0:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:Zo(i,a),ix(r,e,i,a,n);case 1:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:Zo(i,a),YP(r,e,i,a,n);case 3:e:{if(qO(e),r===null)throw Error(Be(387));i=e.pendingProps,o=e.memoizedState,a=o.element,vO(r,e),Py(e,i,null,n);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){a=Gf(Error(Be(423)),e),e=QP(r,e,i,n,a);break e}else if(i!==a){a=Gf(Error(Be(424)),e),e=QP(r,e,i,n,a);break e}else for(Qa=Vc(e.stateNode.containerInfo.firstChild),eo=e,en=!0,es=null,n=mO(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wf(),i===a){e=Dl(r,e,n);break e}ra(r,e,i,n)}e=e.child}return e;case 5:return yO(e),r===null&&Jb(e),i=e.type,a=e.pendingProps,o=r!==null?r.memoizedProps:null,s=a.children,Gb(i,a)?s=null:o!==null&&Gb(i,o)&&(e.flags|=32),VO(r,e),ra(r,e,s,n),e.child;case 6:return r===null&&Jb(e),null;case 13:return WO(r,e,n);case 4:return D_(e,e.stateNode.containerInfo),i=e.pendingProps,r===null?e.child=Hf(e,null,i,n):ra(r,e,i,n),e.child;case 11:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:Zo(i,a),KP(r,e,i,a,n);case 7:return ra(r,e,e.pendingProps,n),e.child;case 8:return ra(r,e,e.pendingProps.children,n),e.child;case 12:return ra(r,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,a=e.pendingProps,o=e.memoizedProps,s=a.value,Fr(Ey,i._currentValue),i._currentValue=s,o!==null)if(ss(o.value,s)){if(o.children===a.children&&!xa.current){e=Dl(r,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(o.tag===1){c=Nl(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ex(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Be(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ex(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ra(r,e,a.children,n),e=e.child}return e;case 9:return a=e.type,i=e.pendingProps.children,Of(e,n),a=jo(a),i=i(a),e.flags|=1,ra(r,e,i,n),e.child;case 14:return i=e.type,a=Zo(i,e.pendingProps),a=Zo(i.type,a),GP(r,e,i,a,n);case 15:return $O(r,e,e.type,e.pendingProps,n);case 17:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:Zo(i,a),Gv(r,e),e.tag=1,_a(i)?(r=!0,_y(e)):r=!1,Of(e,n),FO(e,i,a),rx(e,i,a,n),ax(null,e,i,!0,r,n);case 19:return HO(r,e,n);case 22:return zO(r,e,n)}throw Error(Be(156,e.tag))};function l6(r,e){return Dj(r,e)}function wz(r,e,n,i){this.tag=r,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function No(r,e,n,i){return new wz(r,e,n,i)}function Q_(r){return r=r.prototype,!(!r||!r.isReactComponent)}function bz(r){if(typeof r=="function")return Q_(r)?1:0;if(r!=null){if(r=r.$$typeof,r===m_)return 11;if(r===g_)return 14}return 2}function Kc(r,e){var n=r.alternate;return n===null?(n=No(r.tag,e,r.key,r.mode),n.elementType=r.elementType,n.type=r.type,n.stateNode=r.stateNode,n.alternate=r,r.alternate=n):(n.pendingProps=e,n.type=r.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=r.flags&14680064,n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,e=r.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=r.sibling,n.index=r.index,n.ref=r.ref,n}function Xv(r,e,n,i,a,o){var s=2;if(i=r,typeof r=="function")Q_(r)&&(s=1);else if(typeof r=="string")s=5;else e:switch(r){case pf:return ld(n.children,a,o,e);case p_:s=8,a|=8;break;case kb:return r=No(12,n,e,a|2),r.elementType=kb,r.lanes=o,r;case Pb:return r=No(13,n,e,a),r.elementType=Pb,r.lanes=o,r;case Nb:return r=No(19,n,e,a),r.elementType=Nb,r.lanes=o,r;case yj:return J0(n,a,o,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case gj:s=10;break e;case vj:s=9;break e;case m_:s=11;break e;case g_:s=14;break e;case kc:s=16,i=null;break e}throw Error(Be(130,r==null?r:typeof r,""))}return e=No(s,n,e,a),e.elementType=r,e.type=i,e.lanes=o,e}function ld(r,e,n,i){return r=No(7,r,i,e),r.lanes=n,r}function J0(r,e,n,i){return r=No(22,r,i,e),r.elementType=yj,r.lanes=n,r.stateNode={isHidden:!1},r}function hw(r,e,n){return r=No(6,r,null,e),r.lanes=n,r}function pw(r,e,n){return e=No(4,r.children!==null?r.children:[],r.key,e),e.lanes=n,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function xz(r,e,n,i,a){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=G2(0),this.expirationTimes=G2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G2(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function X_(r,e,n,i,a,o,s,l,c){return r=new xz(r,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=No(3,null,null,e),r.current=o,o.stateNode=r,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},L_(o),r}function _z(r,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hf,key:i==null?null:""+i,children:r,containerInfo:e,implementation:n}}function c6(r){if(!r)return au;r=r._reactInternals;e:{if(Rd(r)!==r||r.tag!==1)throw Error(Be(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_a(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Be(171))}if(r.tag===1){var n=r.type;if(_a(n))return cO(r,n,e)}return e}function u6(r,e,n,i,a,o,s,l,c){return r=X_(n,i,!0,r,a,o,s,l,c),r.context=c6(null),n=r.current,i=ia(),a=Hc(n),o=Nl(i,a),o.callback=e??null,qc(n,o,a),r.current.lanes=a,Zm(r,a,i),Aa(r,i),r}function e1(r,e,n,i){var a=e.current,o=ia(),s=Hc(a);return n=c6(n),e.context===null?e.context=n:e.pendingContext=n,e=Nl(o,s),e.payload={element:r},i=i===void 0?null:i,i!==null&&(e.callback=i),r=qc(a,e,s),r!==null&&(os(r,a,s,o),Wv(r,a,s)),s}function Dy(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function oN(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var n=r.retryLane;r.retryLane=n!==0&&n<e?n:e}}function Z_(r,e){oN(r,e),(r=r.alternate)&&oN(r,e)}function Az(){return null}var d6=typeof reportError=="function"?reportError:function(r){console.error(r)};function J_(r){this._internalRoot=r}t1.prototype.render=J_.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(Be(409));e1(r,e,null,null)};t1.prototype.unmount=J_.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;xd(function(){e1(null,r,null,null)}),e[Ol]=null}};function t1(r){this._internalRoot=r}t1.prototype.unstable_scheduleHydration=function(r){if(r){var e=zj();r={blockedOn:null,target:r,priority:e};for(var n=0;n<Cc.length&&e!==0&&e<Cc[n].priority;n++);Cc.splice(n,0,r),n===0&&qj(r)}};function eA(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function r1(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function sN(){}function Sz(r,e,n,i,a){if(a){if(typeof i=="function"){var o=i;i=function(){var u=Dy(s);o.call(u)}}var s=u6(e,i,r,0,null,!1,!1,"",sN);return r._reactRootContainer=s,r[Ol]=s.current,fm(r.nodeType===8?r.parentNode:r),xd(),s}for(;a=r.lastChild;)r.removeChild(a);if(typeof i=="function"){var l=i;i=function(){var u=Dy(c);l.call(u)}}var c=X_(r,0,!1,null,null,!1,!1,"",sN);return r._reactRootContainer=c,r[Ol]=c.current,fm(r.nodeType===8?r.parentNode:r),xd(function(){e1(e,c,n,i)}),c}function n1(r,e,n,i,a){var o=n._reactRootContainer;if(o){var s=o;if(typeof a=="function"){var l=a;a=function(){var c=Dy(s);l.call(c)}}e1(e,s,r,a)}else s=Sz(n,e,r,a,i);return Dy(s)}Uj=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var n=Np(e.pendingLanes);n!==0&&(w_(e,n|1),Aa(e,Cn()),!(or&6)&&(Yf=Cn()+500,wu()))}break;case 13:xd(function(){var i=Ll(r,1);if(i!==null){var a=ia();os(i,r,1,a)}}),Z_(r,1)}};b_=function(r){if(r.tag===13){var e=Ll(r,134217728);if(e!==null){var n=ia();os(e,r,134217728,n)}Z_(r,134217728)}};$j=function(r){if(r.tag===13){var e=Hc(r),n=Ll(r,e);if(n!==null){var i=ia();os(n,r,e,i)}Z_(r,e)}};zj=function(){return Sr};Vj=function(r,e){var n=Sr;try{return Sr=r,e()}finally{Sr=n}};Fb=function(r,e,n){switch(e){case"input":if(Ib(r,n),e=n.name,n.type==="radio"&&e!=null){for(n=r;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==r&&i.form===r.form){var a=K0(i);if(!a)throw Error(Be(90));bj(i),Ib(i,a)}}}break;case"textarea":_j(r,n);break;case"select":e=n.value,e!=null&&Tf(r,!!n.multiple,e,!1)}};Tj=K_;Cj=xd;var Ez={usingClientEntryPoint:!1,Events:[eg,yf,K0,Pj,Nj,K_]},dp={findFiberByHostInstance:Zu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kz={bundleType:dp.bundleType,version:dp.version,rendererPackageName:dp.rendererPackageName,rendererConfig:dp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gl.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Oj(r),r===null?null:r.stateNode},findFiberByHostInstance:dp.findFiberByHostInstance||Az,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lv.isDisabled&&lv.supportsFiber)try{V0=lv.inject(kz),Us=lv}catch{}}lo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ez;lo.createPortal=function(r,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eA(e))throw Error(Be(200));return _z(r,e,null,n)};lo.createRoot=function(r,e){if(!eA(r))throw Error(Be(299));var n=!1,i="",a=d6;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=X_(r,1,!1,null,null,n,!1,i,a),r[Ol]=e.current,fm(r.nodeType===8?r.parentNode:r),new J_(e)};lo.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(Be(188)):(r=Object.keys(r).join(","),Error(Be(268,r)));return r=Oj(e),r=r===null?null:r.stateNode,r};lo.flushSync=function(r){return xd(r)};lo.hydrate=function(r,e,n){if(!r1(e))throw Error(Be(200));return n1(null,r,e,!0,n)};lo.hydrateRoot=function(r,e,n){if(!eA(r))throw Error(Be(405));var i=n!=null&&n.hydratedSources||null,a=!1,o="",s=d6;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=u6(e,null,r,1,n??null,a,!1,o,s),r[Ol]=e.current,fm(r),i)for(r=0;r<i.length;r++)n=i[r],a=n._getVersion,a=a(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,a]:e.mutableSourceEagerHydrationData.push(n,a);return new t1(e)};lo.render=function(r,e,n){if(!r1(e))throw Error(Be(200));return n1(null,r,e,!1,n)};lo.unmountComponentAtNode=function(r){if(!r1(r))throw Error(Be(40));return r._reactRootContainer?(xd(function(){n1(null,null,r,!1,function(){r._reactRootContainer=null,r[Ol]=null})}),!0):!1};lo.unstable_batchedUpdates=K_;lo.unstable_renderSubtreeIntoContainer=function(r,e,n,i){if(!r1(n))throw Error(Be(200));if(r==null||r._reactInternals===void 0)throw Error(Be(38));return n1(r,e,n,!1,i)};lo.version="18.3.1-next-f1338f8080-20240426";function f6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f6)}catch(r){console.error(r)}}f6(),fj.exports=lo;var rg=fj.exports,h6,lN=rg;h6=lN.createRoot,lN.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xm(){return xm=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},xm.apply(this,arguments)}var Rc;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Rc||(Rc={}));const cN="popstate";function Pz(r){r===void 0&&(r={});function e(i,a){let{pathname:o,search:s,hash:l}=i.location;return vx("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:m6(a)}return Tz(e,n,null,r)}function Yn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function p6(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Nz(){return Math.random().toString(36).substr(2,8)}function uN(r,e){return{usr:r.state,key:r.key,idx:e}}function vx(r,e,n,i){return n===void 0&&(n=null),xm({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?_h(e):e,{state:n,key:e&&e.key||i||Nz()})}function m6(r){let{pathname:e="/",search:n="",hash:i=""}=r;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function _h(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substr(n),r=r.substr(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}function Tz(r,e,n,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,s=a.history,l=Rc.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(xm({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){l=Rc.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:w.location,delta:b})}function h(x,b){l=Rc.Push;let S=vx(w.location,x,b);u=d()+1;let A=uN(S,u),I=w.createHref(S);try{s.pushState(A,"",I)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;a.location.assign(I)}o&&c&&c({action:l,location:w.location,delta:1})}function p(x,b){l=Rc.Replace;let S=vx(w.location,x,b);u=d();let A=uN(S,u),I=w.createHref(S);s.replaceState(A,"",I),o&&c&&c({action:l,location:w.location,delta:0})}function y(x){let b=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof x=="string"?x:m6(x);return S=S.replace(/ $/,"%20"),Yn(b,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,b)}let w={get action(){return l},get location(){return r(a,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(cN,f),c=x,()=>{a.removeEventListener(cN,f),c=null}},createHref(x){return e(a,x)},createURL:y,encodeLocation(x){let b=y(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(x){return s.go(x)}};return w}var dN;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(dN||(dN={}));function Cz(r,e,n){return n===void 0&&(n="/"),Iz(r,e,n)}function Iz(r,e,n,i){let a=typeof e=="string"?_h(e):e,o=y6(a.pathname||"/",n);if(o==null)return null;let s=g6(r);jz(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=qz(o);l=$z(s[c],u)}return l}function g6(r,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let a=(o,s,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(Yn(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let u=cd([i,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Yn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),g6(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Bz(u,o.index),routesMeta:d})};return r.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,s);else for(let c of v6(o.path))a(o,s,c)}),e}function v6(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let s=v6(i.join("/")),l=[];return l.push(...s.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...s),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function jz(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Uz(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const Oz=/^:[\w-]+$/,Lz=3,Dz=2,Rz=1,Mz=10,Fz=-2,fN=r=>r==="*";function Bz(r,e){let n=r.split("/"),i=n.length;return n.some(fN)&&(i+=Fz),e&&(i+=Dz),n.filter(a=>!fN(a)).reduce((a,o)=>a+(Oz.test(o)?Lz:o===""?Rz:Mz),i)}function Uz(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function $z(r,e,n){let{routesMeta:i}=r,a={},o="/",s=[];for(let l=0;l<i.length;++l){let c=i[l],u=l===i.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=zz({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:cd([o,f.pathname]),pathnameBase:Qz(cd([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=cd([o,f.pathnameBase]))}return s}function zz(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=Vz(r.path,r.caseSensitive,r.end),a=e.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:i.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let w=l[f]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:r}}function Vz(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),p6(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function qz(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return p6(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function y6(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}function Wz(r,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:a=""}=typeof r=="string"?_h(r):r;return{pathname:n?n.startsWith("/")?n:Hz(n,e):e,search:Xz(i),hash:Zz(a)}}function Hz(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function mw(r,e,n,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kz(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gz(r,e){let n=Kz(r);return e?n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Yz(r,e,n,i){i===void 0&&(i=!1);let a;typeof r=="string"?a=_h(r):(a=xm({},r),Yn(!a.pathname||!a.pathname.includes("?"),mw("?","pathname","search",a)),Yn(!a.pathname||!a.pathname.includes("#"),mw("#","pathname","hash",a)),Yn(!a.search||!a.search.includes("#"),mw("#","search","hash",a)));let o=r===""||a.pathname==="",s=o?"/":a.pathname,l;if(s==null)l=n;else{let f=e.length-1;if(!i&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?e[f]:"/"}let c=Wz(a,l),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const cd=r=>r.join("/").replace(/\/\/+/g,"/"),Qz=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Xz=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Zz=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Jz(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const w6=["post","put","patch","delete"];new Set(w6);const eV=["get",...w6];new Set(eV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _m(){return _m=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},_m.apply(this,arguments)}const tA=P.createContext(null),tV=P.createContext(null),i1=P.createContext(null),a1=P.createContext(null),Ah=P.createContext({outlet:null,matches:[],isDataRoute:!1}),b6=P.createContext(null);function o1(){return P.useContext(a1)!=null}function s1(){return o1()||Yn(!1),P.useContext(a1).location}function x6(r){P.useContext(i1).static||P.useLayoutEffect(r)}function bu(){let{isDataRoute:r}=P.useContext(Ah);return r?pV():rV()}function rV(){o1()||Yn(!1);let r=P.useContext(tA),{basename:e,future:n,navigator:i}=P.useContext(i1),{matches:a}=P.useContext(Ah),{pathname:o}=s1(),s=JSON.stringify(Gz(a,n.v7_relativeSplatPath)),l=P.useRef(!1);return x6(()=>{l.current=!0}),P.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){i.go(u);return}let f=Yz(u,JSON.parse(s),o,d.relative==="path");r==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:cd([e,f.pathname])),(d.replace?i.replace:i.push)(f,d.state,d)},[e,i,s,o,r])}function nV(r,e){return iV(r,e)}function iV(r,e,n,i){o1()||Yn(!1);let{navigator:a}=P.useContext(i1),{matches:o}=P.useContext(Ah),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=s1(),d;if(e){var f;let x=typeof e=="string"?_h(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Yn(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=Cz(r,{pathname:p}),w=cV(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:cd([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:cd([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,i);return e&&w?P.createElement(a1.Provider,{value:{location:_m({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rc.Pop}},w):w}function aV(){let r=hV(),e=Jz(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:a},n):null,null)}const oV=P.createElement(aV,null);class sV extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(Ah.Provider,{value:this.props.routeContext},P.createElement(b6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lV(r){let{routeContext:e,match:n,children:i}=r,a=P.useContext(tA);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Ah.Provider,{value:e},i)}function cV(r,e,n,i){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),r==null){var o;if(!n)return null;if(n.errors)r=n.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let s=r,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Yn(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,y=!1,w=null,x=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||oV,c&&(u<0&&h===0?(mV("route-fallback"),y=!0,x=null):u===h&&(y=!0,x=f.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,h+1)),S=()=>{let A;return p?A=w:y?A=x:f.route.Component?A=P.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=d,P.createElement(lV,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?P.createElement(sV,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}var _6=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(_6||{}),A6=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(A6||{});function uV(r){let e=P.useContext(tA);return e||Yn(!1),e}function dV(r){let e=P.useContext(tV);return e||Yn(!1),e}function fV(r){let e=P.useContext(Ah);return e||Yn(!1),e}function S6(r){let e=fV(),n=e.matches[e.matches.length-1];return n.route.id||Yn(!1),n.route.id}function hV(){var r;let e=P.useContext(b6),n=dV(),i=S6();return e!==void 0?e:(r=n.errors)==null?void 0:r[i]}function pV(){let{router:r}=uV(_6.UseNavigateStable),e=S6(A6.UseNavigateStable),n=P.useRef(!1);return x6(()=>{n.current=!0}),P.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?r.navigate(a):r.navigate(a,_m({fromRouteId:e},o)))},[r,e])}const hN={};function mV(r,e,n){hN[r]||(hN[r]=!0)}function gV(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Va(r){Yn(!1)}function vV(r){let{basename:e="/",children:n=null,location:i,navigationType:a=Rc.Pop,navigator:o,static:s=!1,future:l}=r;o1()&&Yn(!1);let c=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:c,navigator:o,static:s,future:_m({v7_relativeSplatPath:!1},l)}),[c,l,o,s]);typeof i=="string"&&(i=_h(i));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=i,w=P.useMemo(()=>{let x=y6(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:y},navigationType:a}},[c,d,f,h,p,y,a]);return w==null?null:P.createElement(i1.Provider,{value:u},P.createElement(a1.Provider,{children:n,value:w}))}function yV(r){let{children:e,location:n}=r;return nV(yx(e),n)}new Promise(()=>{});function yx(r,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(r,(i,a)=>{if(!P.isValidElement(i))return;let o=[...e,a];if(i.type===P.Fragment){n.push.apply(n,yx(i.props.children,o));return}i.type!==Va&&Yn(!1),!i.props.index||!i.props.children||Yn(!1);let s={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=yx(i.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wx(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let i=r[n];return e.concat(Array.isArray(i)?i.map(a=>[n,a]):[[n,i]])},[]))}function wV(r,e){let n=wx(r);return e&&e.forEach((i,a)=>{n.has(a)||e.getAll(a).forEach(o=>{n.append(a,o)})}),n}const bV="6";try{window.__reactRouterVersion=bV}catch{}const xV="startTransition",pN=uj[xV];function _V(r){let{basename:e,children:n,future:i,window:a}=r,o=P.useRef();o.current==null&&(o.current=Pz({window:a,v5Compat:!0}));let s=o.current,[l,c]=P.useState({action:s.action,location:s.location}),{v7_startTransition:u}=i||{},d=P.useCallback(f=>{u&&pN?pN(()=>c(f)):c(f)},[c,u]);return P.useLayoutEffect(()=>s.listen(d),[s,d]),P.useEffect(()=>gV(i),[i]),P.createElement(vV,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:i})}var mN;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(mN||(mN={}));var gN;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(gN||(gN={}));function E6(r){let e=P.useRef(wx(r)),n=P.useRef(!1),i=s1(),a=P.useMemo(()=>wV(i.search,n.current?null:e.current),[i.search]),o=bu(),s=P.useCallback((l,c)=>{const u=wx(typeof l=="function"?l(a):l);n.current=!0,o("?"+u,c)},[o,a]);return[a,s]}var vN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},AV=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const a=r[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=r[n++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=r[n++],s=r[n++],l=r[n++],c=((a&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const o=r[n++],s=r[n++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|s&63)}}return e.join("")},P6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const o=r[a],s=a+1<r.length,l=s?r[a+1]:0,c=a+2<r.length,u=c?r[a+2]:0,d=o>>2,f=(o&3)<<4|l>>4;let h=(l&15)<<2|u>>6,p=u&63;c||(p=64,s||(h=64)),i.push(n[d],n[f],n[h],n[p])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(k6(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):AV(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const o=n[r.charAt(a++)],l=a<r.length?n[r.charAt(a)]:0;++a;const u=a<r.length?n[r.charAt(a)]:64;++a;const f=a<r.length?n[r.charAt(a)]:64;if(++a,o==null||l==null||u==null||f==null)throw new SV;const h=o<<2|l>>4;if(i.push(h),u!==64){const p=l<<4&240|u>>2;if(i.push(p),f!==64){const y=u<<6&192|f;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class SV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EV=function(r){const e=k6(r);return P6.encodeByteArray(e,!0)},Ry=function(r){return EV(r).replace(/\./g,"")},kV=function(r){try{return P6.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=()=>PV().__FIREBASE_DEFAULTS__,TV=()=>{if(typeof process>"u"||typeof vN>"u")return;const r=vN.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},CV=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&kV(r[1]);return e&&JSON.parse(e)},rA=()=>{try{return NV()||TV()||CV()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},IV=r=>{var e,n;return(n=(e=rA())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},N6=r=>{const e=IV(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},T6=()=>{var r;return(r=rA())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ry(JSON.stringify(n)),Ry(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LV(){var r;const e=(r=rA())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DV(){return!LV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RV(){try{return typeof indexedDB=="object"}catch{return!1}}function MV(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="FirebaseError";class Md extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=FV,Object.setPrototypeOf(this,Md.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I6.prototype.create)}}class I6{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],s=o?BV(o,i):"Error",l=`${this.serviceName}: ${s} (${a}).`;return new Md(a,l,i)}}function BV(r,e){return r.replace(UV,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const UV=/\{\$([^}]+)}/g;function bx(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const o=r[a],s=e[a];if(yN(o)&&yN(s)){if(!bx(o,s))return!1}else if(o!==s)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function yN(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(r){return r&&r._delegate?r._delegate:r}class Qf{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $V=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new jV;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VV(e))try{this.getOrInitializeService({instanceIdentifier:Hu})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=Hu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hu){return this.instances.has(e)}getOptions(e=Hu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);i===l&&s.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(a,o);const s=this.instances.get(a);return s&&e(s,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:zV(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Hu){return this.component?this.component.multipleInstances?e:Hu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function zV(r){return r===Hu?void 0:r}function VV(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $V(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ar||(ar={}));const WV={debug:ar.DEBUG,verbose:ar.VERBOSE,info:ar.INFO,warn:ar.WARN,error:ar.ERROR,silent:ar.SILENT},HV=ar.INFO,KV={[ar.DEBUG]:"log",[ar.VERBOSE]:"log",[ar.INFO]:"info",[ar.WARN]:"warn",[ar.ERROR]:"error"},GV=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=KV[e];if(a)console[a](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class j6{constructor(e){this.name=e,this._logLevel=HV,this._logHandler=GV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ar))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ar.DEBUG,...e),this._logHandler(this,ar.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ar.VERBOSE,...e),this._logHandler(this,ar.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ar.INFO,...e),this._logHandler(this,ar.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ar.WARN,...e),this._logHandler(this,ar.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ar.ERROR,...e),this._logHandler(this,ar.ERROR,...e)}}const YV=(r,e)=>e.some(n=>r instanceof n);let wN,bN;function QV(){return wN||(wN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XV(){return bN||(bN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O6=new WeakMap,xx=new WeakMap,L6=new WeakMap,gw=new WeakMap,nA=new WeakMap;function ZV(r){const e=new Promise((n,i)=>{const a=()=>{r.removeEventListener("success",o),r.removeEventListener("error",s)},o=()=>{n(Gc(r.result)),a()},s=()=>{i(r.error),a()};r.addEventListener("success",o),r.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&O6.set(n,r)}).catch(()=>{}),nA.set(e,r),e}function JV(r){if(xx.has(r))return;const e=new Promise((n,i)=>{const a=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",s),r.removeEventListener("abort",s)},o=()=>{n(),a()},s=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",o),r.addEventListener("error",s),r.addEventListener("abort",s)});xx.set(r,e)}let _x={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return xx.get(r);if(e==="objectStoreNames")return r.objectStoreNames||L6.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gc(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function eq(r){_x=r(_x)}function tq(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(vw(this),e,...n);return L6.set(i,e.sort?e.sort():[e]),Gc(i)}:XV().includes(r)?function(...e){return r.apply(vw(this),e),Gc(O6.get(this))}:function(...e){return Gc(r.apply(vw(this),e))}}function rq(r){return typeof r=="function"?tq(r):(r instanceof IDBTransaction&&JV(r),YV(r,QV())?new Proxy(r,_x):r)}function Gc(r){if(r instanceof IDBRequest)return ZV(r);if(gw.has(r))return gw.get(r);const e=rq(r);return e!==r&&(gw.set(r,e),nA.set(e,r)),e}const vw=r=>nA.get(r);function nq(r,e,{blocked:n,upgrade:i,blocking:a,terminated:o}={}){const s=indexedDB.open(r,e),l=Gc(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Gc(s.result),c.oldVersion,c.newVersion,Gc(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const iq=["get","getKey","getAll","getAllKeys","count"],aq=["put","add","delete","clear"],yw=new Map;function xN(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(yw.get(e))return yw.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=aq.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||iq.includes(n)))return;const o=async function(s,...l){const c=this.transaction(s,a?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),a&&c.done]))[0]};return yw.set(e,o),o}eq(r=>({...r,get:(e,n,i)=>xN(e,n)||r.get(e,n,i),has:(e,n)=>!!xN(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sq(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function sq(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ax="@firebase/app",_N="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new j6("@firebase/app"),lq="@firebase/app-compat",cq="@firebase/analytics-compat",uq="@firebase/analytics",dq="@firebase/app-check-compat",fq="@firebase/app-check",hq="@firebase/auth",pq="@firebase/auth-compat",mq="@firebase/database",gq="@firebase/data-connect",vq="@firebase/database-compat",yq="@firebase/functions",wq="@firebase/functions-compat",bq="@firebase/installations",xq="@firebase/installations-compat",_q="@firebase/messaging",Aq="@firebase/messaging-compat",Sq="@firebase/performance",Eq="@firebase/performance-compat",kq="@firebase/remote-config",Pq="@firebase/remote-config-compat",Nq="@firebase/storage",Tq="@firebase/storage-compat",Cq="@firebase/firestore",Iq="@firebase/vertexai-preview",jq="@firebase/firestore-compat",Oq="firebase",Lq="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="[DEFAULT]",Dq={[Ax]:"fire-core",[lq]:"fire-core-compat",[uq]:"fire-analytics",[cq]:"fire-analytics-compat",[fq]:"fire-app-check",[dq]:"fire-app-check-compat",[hq]:"fire-auth",[pq]:"fire-auth-compat",[mq]:"fire-rtdb",[gq]:"fire-data-connect",[vq]:"fire-rtdb-compat",[yq]:"fire-fn",[wq]:"fire-fn-compat",[bq]:"fire-iid",[xq]:"fire-iid-compat",[_q]:"fire-fcm",[Aq]:"fire-fcm-compat",[Sq]:"fire-perf",[Eq]:"fire-perf-compat",[kq]:"fire-rc",[Pq]:"fire-rc-compat",[Nq]:"fire-gcs",[Tq]:"fire-gcs-compat",[Cq]:"fire-fst",[jq]:"fire-fst-compat",[Iq]:"fire-vertex","fire-js":"fire-js",[Oq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=new Map,Rq=new Map,Ex=new Map;function AN(r,e){try{r.container.addComponent(e)}catch(n){Rl.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Am(r){const e=r.name;if(Ex.has(e))return Rl.debug(`There were multiple attempts to register component ${e}.`),!1;Ex.set(e,r);for(const n of My.values())AN(n,r);for(const n of Rq.values())AN(n,r);return!0}function D6(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yc=new I6("app","Firebase",Mq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=Lq;function M6(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Sx,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Yc.create("bad-app-name",{appName:String(a)});if(n||(n=T6()),!n)throw Yc.create("no-options");const o=My.get(a);if(o){if(bx(n,o.options)&&bx(i,o.config))return o;throw Yc.create("duplicate-app",{appName:a})}const s=new qV(a);for(const c of Ex.values())s.addComponent(c);const l=new Fq(n,i,s);return My.set(a,l),l}function F6(r=Sx){const e=My.get(r);if(!e&&r===Sx&&T6())return M6();if(!e)throw Yc.create("no-app",{appName:r});return e}function Qc(r,e,n){var i;let a=(i=Dq[r])!==null&&i!==void 0?i:r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${a}" with version "${e}":`];o&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rl.warn(l.join(" "));return}Am(new Qf(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq="firebase-heartbeat-database",Uq=1,Sm="firebase-heartbeat-store";let ww=null;function B6(){return ww||(ww=nq(Bq,Uq,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Sm)}catch(n){console.warn(n)}}}}).catch(r=>{throw Yc.create("idb-open",{originalErrorMessage:r.message})})),ww}async function $q(r){try{const n=(await B6()).transaction(Sm),i=await n.objectStore(Sm).get(U6(r));return await n.done,i}catch(e){if(e instanceof Md)Rl.warn(e.message);else{const n=Yc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rl.warn(n.message)}}}async function SN(r,e){try{const i=(await B6()).transaction(Sm,"readwrite");await i.objectStore(Sm).put(e,U6(r)),await i.done}catch(n){if(n instanceof Md)Rl.warn(n.message);else{const i=Yc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rl.warn(i.message)}}}function U6(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq=1024,Vq=30*24*60*60*1e3;class qq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hq(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=EN();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=Vq}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Rl.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=EN(),{heartbeatsToSend:i,unsentEntries:a}=Wq(this._heartbeatsCache.heartbeats),o=Ry(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Rl.warn(n),""}}}function EN(){return new Date().toISOString().substring(0,10)}function Wq(r,e=zq){const n=[];let i=r.slice();for(const a of r){const o=n.find(s=>s.agent===a.agent);if(o){if(o.dates.push(a.date),kN(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),kN(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Hq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RV()?MV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $q(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return SN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return SN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function kN(r){return Ry(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(r){Am(new Qf("platform-logger",e=>new oq(e),"PRIVATE")),Am(new Qf("heartbeat",e=>new qq(e),"PRIVATE")),Qc(Ax,_N,r),Qc(Ax,_N,"esm2017"),Qc("fire-js","")}Kq("");var PN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ud,$6;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,j){function O(){}O.prototype=j.prototype,D.D=j.prototype,D.prototype=new O,D.prototype.constructor=D,D.C=function(U,T,L){for(var C=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)C[Y-2]=arguments[Y];return j.prototype[T].apply(U,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,j,O){O||(O=0);var U=Array(16);if(typeof j=="string")for(var T=0;16>T;++T)U[T]=j.charCodeAt(O++)|j.charCodeAt(O++)<<8|j.charCodeAt(O++)<<16|j.charCodeAt(O++)<<24;else for(T=0;16>T;++T)U[T]=j[O++]|j[O++]<<8|j[O++]<<16|j[O++]<<24;j=D.g[0],O=D.g[1],T=D.g[2];var L=D.g[3],C=j+(L^O&(T^L))+U[0]+3614090360&4294967295;j=O+(C<<7&4294967295|C>>>25),C=L+(T^j&(O^T))+U[1]+3905402710&4294967295,L=j+(C<<12&4294967295|C>>>20),C=T+(O^L&(j^O))+U[2]+606105819&4294967295,T=L+(C<<17&4294967295|C>>>15),C=O+(j^T&(L^j))+U[3]+3250441966&4294967295,O=T+(C<<22&4294967295|C>>>10),C=j+(L^O&(T^L))+U[4]+4118548399&4294967295,j=O+(C<<7&4294967295|C>>>25),C=L+(T^j&(O^T))+U[5]+1200080426&4294967295,L=j+(C<<12&4294967295|C>>>20),C=T+(O^L&(j^O))+U[6]+2821735955&4294967295,T=L+(C<<17&4294967295|C>>>15),C=O+(j^T&(L^j))+U[7]+4249261313&4294967295,O=T+(C<<22&4294967295|C>>>10),C=j+(L^O&(T^L))+U[8]+1770035416&4294967295,j=O+(C<<7&4294967295|C>>>25),C=L+(T^j&(O^T))+U[9]+2336552879&4294967295,L=j+(C<<12&4294967295|C>>>20),C=T+(O^L&(j^O))+U[10]+4294925233&4294967295,T=L+(C<<17&4294967295|C>>>15),C=O+(j^T&(L^j))+U[11]+2304563134&4294967295,O=T+(C<<22&4294967295|C>>>10),C=j+(L^O&(T^L))+U[12]+1804603682&4294967295,j=O+(C<<7&4294967295|C>>>25),C=L+(T^j&(O^T))+U[13]+4254626195&4294967295,L=j+(C<<12&4294967295|C>>>20),C=T+(O^L&(j^O))+U[14]+2792965006&4294967295,T=L+(C<<17&4294967295|C>>>15),C=O+(j^T&(L^j))+U[15]+1236535329&4294967295,O=T+(C<<22&4294967295|C>>>10),C=j+(T^L&(O^T))+U[1]+4129170786&4294967295,j=O+(C<<5&4294967295|C>>>27),C=L+(O^T&(j^O))+U[6]+3225465664&4294967295,L=j+(C<<9&4294967295|C>>>23),C=T+(j^O&(L^j))+U[11]+643717713&4294967295,T=L+(C<<14&4294967295|C>>>18),C=O+(L^j&(T^L))+U[0]+3921069994&4294967295,O=T+(C<<20&4294967295|C>>>12),C=j+(T^L&(O^T))+U[5]+3593408605&4294967295,j=O+(C<<5&4294967295|C>>>27),C=L+(O^T&(j^O))+U[10]+38016083&4294967295,L=j+(C<<9&4294967295|C>>>23),C=T+(j^O&(L^j))+U[15]+3634488961&4294967295,T=L+(C<<14&4294967295|C>>>18),C=O+(L^j&(T^L))+U[4]+3889429448&4294967295,O=T+(C<<20&4294967295|C>>>12),C=j+(T^L&(O^T))+U[9]+568446438&4294967295,j=O+(C<<5&4294967295|C>>>27),C=L+(O^T&(j^O))+U[14]+3275163606&4294967295,L=j+(C<<9&4294967295|C>>>23),C=T+(j^O&(L^j))+U[3]+4107603335&4294967295,T=L+(C<<14&4294967295|C>>>18),C=O+(L^j&(T^L))+U[8]+1163531501&4294967295,O=T+(C<<20&4294967295|C>>>12),C=j+(T^L&(O^T))+U[13]+2850285829&4294967295,j=O+(C<<5&4294967295|C>>>27),C=L+(O^T&(j^O))+U[2]+4243563512&4294967295,L=j+(C<<9&4294967295|C>>>23),C=T+(j^O&(L^j))+U[7]+1735328473&4294967295,T=L+(C<<14&4294967295|C>>>18),C=O+(L^j&(T^L))+U[12]+2368359562&4294967295,O=T+(C<<20&4294967295|C>>>12),C=j+(O^T^L)+U[5]+4294588738&4294967295,j=O+(C<<4&4294967295|C>>>28),C=L+(j^O^T)+U[8]+2272392833&4294967295,L=j+(C<<11&4294967295|C>>>21),C=T+(L^j^O)+U[11]+1839030562&4294967295,T=L+(C<<16&4294967295|C>>>16),C=O+(T^L^j)+U[14]+4259657740&4294967295,O=T+(C<<23&4294967295|C>>>9),C=j+(O^T^L)+U[1]+2763975236&4294967295,j=O+(C<<4&4294967295|C>>>28),C=L+(j^O^T)+U[4]+1272893353&4294967295,L=j+(C<<11&4294967295|C>>>21),C=T+(L^j^O)+U[7]+4139469664&4294967295,T=L+(C<<16&4294967295|C>>>16),C=O+(T^L^j)+U[10]+3200236656&4294967295,O=T+(C<<23&4294967295|C>>>9),C=j+(O^T^L)+U[13]+681279174&4294967295,j=O+(C<<4&4294967295|C>>>28),C=L+(j^O^T)+U[0]+3936430074&4294967295,L=j+(C<<11&4294967295|C>>>21),C=T+(L^j^O)+U[3]+3572445317&4294967295,T=L+(C<<16&4294967295|C>>>16),C=O+(T^L^j)+U[6]+76029189&4294967295,O=T+(C<<23&4294967295|C>>>9),C=j+(O^T^L)+U[9]+3654602809&4294967295,j=O+(C<<4&4294967295|C>>>28),C=L+(j^O^T)+U[12]+3873151461&4294967295,L=j+(C<<11&4294967295|C>>>21),C=T+(L^j^O)+U[15]+530742520&4294967295,T=L+(C<<16&4294967295|C>>>16),C=O+(T^L^j)+U[2]+3299628645&4294967295,O=T+(C<<23&4294967295|C>>>9),C=j+(T^(O|~L))+U[0]+4096336452&4294967295,j=O+(C<<6&4294967295|C>>>26),C=L+(O^(j|~T))+U[7]+1126891415&4294967295,L=j+(C<<10&4294967295|C>>>22),C=T+(j^(L|~O))+U[14]+2878612391&4294967295,T=L+(C<<15&4294967295|C>>>17),C=O+(L^(T|~j))+U[5]+4237533241&4294967295,O=T+(C<<21&4294967295|C>>>11),C=j+(T^(O|~L))+U[12]+1700485571&4294967295,j=O+(C<<6&4294967295|C>>>26),C=L+(O^(j|~T))+U[3]+2399980690&4294967295,L=j+(C<<10&4294967295|C>>>22),C=T+(j^(L|~O))+U[10]+4293915773&4294967295,T=L+(C<<15&4294967295|C>>>17),C=O+(L^(T|~j))+U[1]+2240044497&4294967295,O=T+(C<<21&4294967295|C>>>11),C=j+(T^(O|~L))+U[8]+1873313359&4294967295,j=O+(C<<6&4294967295|C>>>26),C=L+(O^(j|~T))+U[15]+4264355552&4294967295,L=j+(C<<10&4294967295|C>>>22),C=T+(j^(L|~O))+U[6]+2734768916&4294967295,T=L+(C<<15&4294967295|C>>>17),C=O+(L^(T|~j))+U[13]+1309151649&4294967295,O=T+(C<<21&4294967295|C>>>11),C=j+(T^(O|~L))+U[4]+4149444226&4294967295,j=O+(C<<6&4294967295|C>>>26),C=L+(O^(j|~T))+U[11]+3174756917&4294967295,L=j+(C<<10&4294967295|C>>>22),C=T+(j^(L|~O))+U[2]+718787259&4294967295,T=L+(C<<15&4294967295|C>>>17),C=O+(L^(T|~j))+U[9]+3951481745&4294967295,D.g[0]=D.g[0]+j&4294967295,D.g[1]=D.g[1]+(T+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+L&4294967295}i.prototype.u=function(D,j){j===void 0&&(j=D.length);for(var O=j-this.blockSize,U=this.B,T=this.h,L=0;L<j;){if(T==0)for(;L<=O;)a(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<j;)if(U[T++]=D.charCodeAt(L++),T==this.blockSize){a(this,U),T=0;break}}else for(;L<j;)if(U[T++]=D[L++],T==this.blockSize){a(this,U),T=0;break}}this.h=T,this.o+=j},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var j=1;j<D.length-8;++j)D[j]=0;var O=8*this.o;for(j=D.length-8;j<D.length;++j)D[j]=O&255,O/=256;for(this.u(D),D=Array(16),j=O=0;4>j;++j)for(var U=0;32>U;U+=8)D[O++]=this.g[j]>>>U&255;return D};function o(D,j){var O=l;return Object.prototype.hasOwnProperty.call(O,D)?O[D]:O[D]=j(D)}function s(D,j){this.h=j;for(var O=[],U=!0,T=D.length-1;0<=T;T--){var L=D[T]|0;U&&L==j||(O[T]=L,U=!1)}this.g=O}var l={};function c(D){return-128<=D&&128>D?o(D,function(j){return new s([j|0],0>j?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return x(u(-D));for(var j=[],O=1,U=0;D>=O;U++)j[U]=D/O|0,O*=4294967296;return new s(j,0)}function d(D,j){if(D.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(D.charAt(0)=="-")return x(d(D.substring(1),j));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(j,8)),U=f,T=0;T<D.length;T+=8){var L=Math.min(8,D.length-T),C=parseInt(D.substring(T,T+L),j);8>L?(L=u(Math.pow(j,L)),U=U.j(L).add(u(C))):(U=U.j(O),U=U.add(u(C)))}return U}var f=c(0),h=c(1),p=c(16777216);r=s.prototype,r.m=function(){if(w(this))return-x(this).m();for(var D=0,j=1,O=0;O<this.g.length;O++){var U=this.i(O);D+=(0<=U?U:4294967296+U)*j,j*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(y(this))return"0";if(w(this))return"-"+x(this).toString(D);for(var j=u(Math.pow(D,6)),O=this,U="";;){var T=I(O,j).g;O=b(O,T.j(j));var L=((0<O.g.length?O.g[0]:O.h)>>>0).toString(D);if(O=T,y(O))return L+U;for(;6>L.length;)L="0"+L;U=L+U}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function y(D){if(D.h!=0)return!1;for(var j=0;j<D.g.length;j++)if(D.g[j]!=0)return!1;return!0}function w(D){return D.h==-1}r.l=function(D){return D=b(this,D),w(D)?-1:y(D)?0:1};function x(D){for(var j=D.g.length,O=[],U=0;U<j;U++)O[U]=~D.g[U];return new s(O,~D.h).add(h)}r.abs=function(){return w(this)?x(this):this},r.add=function(D){for(var j=Math.max(this.g.length,D.g.length),O=[],U=0,T=0;T<=j;T++){var L=U+(this.i(T)&65535)+(D.i(T)&65535),C=(L>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);U=C>>>16,L&=65535,C&=65535,O[T]=C<<16|L}return new s(O,O[O.length-1]&-2147483648?-1:0)};function b(D,j){return D.add(x(j))}r.j=function(D){if(y(this)||y(D))return f;if(w(this))return w(D)?x(this).j(x(D)):x(x(this).j(D));if(w(D))return x(this.j(x(D)));if(0>this.l(p)&&0>D.l(p))return u(this.m()*D.m());for(var j=this.g.length+D.g.length,O=[],U=0;U<2*j;U++)O[U]=0;for(U=0;U<this.g.length;U++)for(var T=0;T<D.g.length;T++){var L=this.i(U)>>>16,C=this.i(U)&65535,Y=D.i(T)>>>16,oe=D.i(T)&65535;O[2*U+2*T]+=C*oe,S(O,2*U+2*T),O[2*U+2*T+1]+=L*oe,S(O,2*U+2*T+1),O[2*U+2*T+1]+=C*Y,S(O,2*U+2*T+1),O[2*U+2*T+2]+=L*Y,S(O,2*U+2*T+2)}for(U=0;U<j;U++)O[U]=O[2*U+1]<<16|O[2*U];for(U=j;U<2*j;U++)O[U]=0;return new s(O,0)};function S(D,j){for(;(D[j]&65535)!=D[j];)D[j+1]+=D[j]>>>16,D[j]&=65535,j++}function A(D,j){this.g=D,this.h=j}function I(D,j){if(y(j))throw Error("division by zero");if(y(D))return new A(f,f);if(w(D))return j=I(x(D),j),new A(x(j.g),x(j.h));if(w(j))return j=I(D,x(j)),new A(x(j.g),j.h);if(30<D.g.length){if(w(D)||w(j))throw Error("slowDivide_ only works with positive integers.");for(var O=h,U=j;0>=U.l(D);)O=B(O),U=B(U);var T=$(O,1),L=$(U,1);for(U=$(U,2),O=$(O,2);!y(U);){var C=L.add(U);0>=C.l(D)&&(T=T.add(O),L=C),U=$(U,1),O=$(O,1)}return j=b(D,T.j(j)),new A(T,j)}for(T=f;0<=D.l(j);){for(O=Math.max(1,Math.floor(D.m()/j.m())),U=Math.ceil(Math.log(O)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),L=u(O),C=L.j(j);w(C)||0<C.l(D);)O-=U,L=u(O),C=L.j(j);y(L)&&(L=h),T=T.add(L),D=b(D,C)}return new A(T,D)}r.A=function(D){return I(this,D).h},r.and=function(D){for(var j=Math.max(this.g.length,D.g.length),O=[],U=0;U<j;U++)O[U]=this.i(U)&D.i(U);return new s(O,this.h&D.h)},r.or=function(D){for(var j=Math.max(this.g.length,D.g.length),O=[],U=0;U<j;U++)O[U]=this.i(U)|D.i(U);return new s(O,this.h|D.h)},r.xor=function(D){for(var j=Math.max(this.g.length,D.g.length),O=[],U=0;U<j;U++)O[U]=this.i(U)^D.i(U);return new s(O,this.h^D.h)};function B(D){for(var j=D.g.length+1,O=[],U=0;U<j;U++)O[U]=D.i(U)<<1|D.i(U-1)>>>31;return new s(O,D.h)}function $(D,j){var O=j>>5;j%=32;for(var U=D.g.length-O,T=[],L=0;L<U;L++)T[L]=0<j?D.i(L+O)>>>j|D.i(L+O+1)<<32-j:D.i(L+O);return new s(T,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,$6=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,ud=s}).apply(typeof PN<"u"?PN:typeof self<"u"?self:typeof window<"u"?window:{});var cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z6,Cp,V6,Zv,kx,q6,W6,H6;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,N,F){return v==Array.prototype||v==Object.prototype||(v[N]=F.value),v};function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof cv=="object"&&cv];for(var N=0;N<v.length;++N){var F=v[N];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var i=n(this);function a(v,N){if(N)e:{var F=i;v=v.split(".");for(var G=0;G<v.length-1;G++){var ve=v[G];if(!(ve in F))break e;F=F[ve]}v=v[v.length-1],G=F[v],N=N(G),N!=G&&N!=null&&e(F,v,{configurable:!0,writable:!0,value:N})}}function o(v,N){v instanceof String&&(v+="");var F=0,G=!1,ve={next:function(){if(!G&&F<v.length){var ke=F++;return{value:N(ke,v[ke]),done:!1}}return G=!0,{done:!0,value:void 0}}};return ve[Symbol.iterator]=function(){return ve},ve}a("Array.prototype.values",function(v){return v||function(){return o(this,function(N,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(v){var N=typeof v;return N=N!="object"?N:v?Array.isArray(v)?"array":N:"null",N=="array"||N=="object"&&typeof v.length=="number"}function u(v){var N=typeof v;return N=="object"&&v!=null||N=="function"}function d(v,N,F){return v.call.apply(v.bind,arguments)}function f(v,N,F){if(!v)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,G),v.apply(N,ve)}}return function(){return v.apply(N,arguments)}}function h(v,N,F){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(v,N){var F=Array.prototype.slice.call(arguments,1);return function(){var G=F.slice();return G.push.apply(G,arguments),v.apply(this,G)}}function y(v,N){function F(){}F.prototype=N.prototype,v.aa=N.prototype,v.prototype=new F,v.prototype.constructor=v,v.Qb=function(G,ve,ke){for(var Re=Array(arguments.length-2),cr=2;cr<arguments.length;cr++)Re[cr-2]=arguments[cr];return N.prototype[ve].apply(G,Re)}}function w(v){const N=v.length;if(0<N){const F=Array(N);for(let G=0;G<N;G++)F[G]=v[G];return F}return[]}function x(v,N){for(let F=1;F<arguments.length;F++){const G=arguments[F];if(c(G)){const ve=v.length||0,ke=G.length||0;v.length=ve+ke;for(let Re=0;Re<ke;Re++)v[ve+Re]=G[Re]}else v.push(G)}}class b{constructor(N,F){this.i=N,this.j=F,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function S(v){return/^[\s\xa0]*$/.test(v)}function A(){var v=l.navigator;return v&&(v=v.userAgent)?v:""}function I(v){return I[" "](v),v}I[" "]=function(){};var B=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function $(v,N,F){for(const G in v)N.call(F,v[G],G,v)}function D(v,N){for(const F in v)N.call(void 0,v[F],F,v)}function j(v){const N={};for(const F in v)N[F]=v[F];return N}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(v,N){let F,G;for(let ve=1;ve<arguments.length;ve++){G=arguments[ve];for(F in G)v[F]=G[F];for(let ke=0;ke<O.length;ke++)F=O[ke],Object.prototype.hasOwnProperty.call(G,F)&&(v[F]=G[F])}}function T(v){var N=1;v=v.split(":");const F=[];for(;0<N&&v.length;)F.push(v.shift()),N--;return v.length&&F.push(v.join(":")),F}function L(v){l.setTimeout(()=>{throw v},0)}function C(){var v=le;let N=null;return v.g&&(N=v.g,v.g=v.g.next,v.g||(v.h=null),N.next=null),N}class Y{constructor(){this.h=this.g=null}add(N,F){const G=oe.get();G.set(N,F),this.h?this.h.next=G:this.g=G,this.h=G}}var oe=new b(()=>new se,v=>v.reset());class se{constructor(){this.next=this.g=this.h=null}set(N,F){this.h=N,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,X=!1,le=new Y,ie=()=>{const v=l.Promise.resolve(void 0);pe=()=>{v.then(ne)}};var ne=()=>{for(var v;v=C();){try{v.h.call(v.g)}catch(F){L(F)}var N=oe;N.j(v),100>N.h&&(N.h++,v.next=N.g,N.g=v)}X=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(v,N){this.type=v,this.g=this.target=N,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,N=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const F=()=>{};l.addEventListener("test",F,N),l.removeEventListener("test",F,N)}catch{}return v}();function ae(v,N){if(K.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var F=this.type=v.type,G=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=N,N=v.relatedTarget){if(B){e:{try{I(N.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(N=null)}}else F=="mouseover"?N=v.fromElement:F=="mouseout"&&(N=v.toElement);this.relatedTarget=N,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:de[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&ae.aa.h.call(this)}}y(ae,K);var de={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function ue(v,N,F,G,ve){this.listener=v,this.proxy=null,this.src=N,this.type=F,this.capture=!!G,this.ha=ve,this.key=++Ee,this.da=this.fa=!1}function Ae(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Pe(v){this.src=v,this.g={},this.h=0}Pe.prototype.add=function(v,N,F,G,ve){var ke=v.toString();v=this.g[ke],v||(v=this.g[ke]=[],this.h++);var Re=Ue(v,N,G,ve);return-1<Re?(N=v[Re],F||(N.fa=!1)):(N=new ue(N,this.src,ke,!!G,ve),N.fa=F,v.push(N)),N};function we(v,N){var F=N.type;if(F in v.g){var G=v.g[F],ve=Array.prototype.indexOf.call(G,N,void 0),ke;(ke=0<=ve)&&Array.prototype.splice.call(G,ve,1),ke&&(Ae(N),v.g[F].length==0&&(delete v.g[F],v.h--))}}function Ue(v,N,F,G){for(var ve=0;ve<v.length;++ve){var ke=v[ve];if(!ke.da&&ke.listener==N&&ke.capture==!!F&&ke.ha==G)return ve}return-1}var be="closure_lm_"+(1e6*Math.random()|0),re={};function mt(v,N,F,G,ve){if(Array.isArray(N)){for(var ke=0;ke<N.length;ke++)mt(v,N[ke],F,G,ve);return null}return F=kt(F),v&&v[me]?v.K(N,F,u(G)?!!G.capture:!1,ve):vt(v,N,F,!1,G,ve)}function vt(v,N,F,G,ve,ke){if(!N)throw Error("Invalid event type");var Re=u(ve)?!!ve.capture:!!ve,cr=lt(v);if(cr||(v[be]=cr=new Pe(v)),F=cr.add(N,F,G,Re,ke),F.proxy)return F;if(G=ft(),F.proxy=G,G.src=v,G.listener=F,v.addEventListener)Z||(ve=Re),ve===void 0&&(ve=!1),v.addEventListener(N.toString(),G,ve);else if(v.attachEvent)v.attachEvent(Ve(N.toString()),G);else if(v.addListener&&v.removeListener)v.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return F}function ft(){function v(F){return N.call(v.src,v.listener,F)}const N=Ct;return v}function Fe(v,N,F,G,ve){if(Array.isArray(N))for(var ke=0;ke<N.length;ke++)Fe(v,N[ke],F,G,ve);else G=u(G)?!!G.capture:!!G,F=kt(F),v&&v[me]?(v=v.i,N=String(N).toString(),N in v.g&&(ke=v.g[N],F=Ue(ke,F,G,ve),-1<F&&(Ae(ke[F]),Array.prototype.splice.call(ke,F,1),ke.length==0&&(delete v.g[N],v.h--)))):v&&(v=lt(v))&&(N=v.g[N.toString()],v=-1,N&&(v=Ue(N,F,G,ve)),(F=-1<v?N[v]:null)&&at(F))}function at(v){if(typeof v!="number"&&v&&!v.da){var N=v.src;if(N&&N[me])we(N.i,v);else{var F=v.type,G=v.proxy;N.removeEventListener?N.removeEventListener(F,G,v.capture):N.detachEvent?N.detachEvent(Ve(F),G):N.addListener&&N.removeListener&&N.removeListener(G),(F=lt(N))?(we(F,v),F.h==0&&(F.src=null,N[be]=null)):Ae(v)}}}function Ve(v){return v in re?re[v]:re[v]="on"+v}function Ct(v,N){if(v.da)v=!0;else{N=new ae(N,this);var F=v.listener,G=v.ha||v.src;v.fa&&at(v),v=F.call(G,N)}return v}function lt(v){return v=v[be],v instanceof Pe?v:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(v){return typeof v=="function"?v:(v[Yt]||(v[Yt]=function(N){return v.handleEvent(N)}),v[Yt])}function ot(){M.call(this),this.i=new Pe(this),this.M=this,this.F=null}y(ot,M),ot.prototype[me]=!0,ot.prototype.removeEventListener=function(v,N,F,G){Fe(this,v,N,F,G)};function It(v,N){var F,G=v.F;if(G)for(F=[];G;G=G.F)F.push(G);if(v=v.M,G=N.type||N,typeof N=="string")N=new K(N,v);else if(N instanceof K)N.target=N.target||v;else{var ve=N;N=new K(G,v),U(N,ve)}if(ve=!0,F)for(var ke=F.length-1;0<=ke;ke--){var Re=N.g=F[ke];ve=At(Re,G,!0,N)&&ve}if(Re=N.g=v,ve=At(Re,G,!0,N)&&ve,ve=At(Re,G,!1,N)&&ve,F)for(ke=0;ke<F.length;ke++)Re=N.g=F[ke],ve=At(Re,G,!1,N)&&ve}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var v=this.i,N;for(N in v.g){for(var F=v.g[N],G=0;G<F.length;G++)Ae(F[G]);delete v.g[N],v.h--}}this.F=null},ot.prototype.K=function(v,N,F,G){return this.i.add(String(v),N,!1,F,G)},ot.prototype.L=function(v,N,F,G){return this.i.add(String(v),N,!0,F,G)};function At(v,N,F,G){if(N=v.i.g[String(N)],!N)return!0;N=N.concat();for(var ve=!0,ke=0;ke<N.length;++ke){var Re=N[ke];if(Re&&!Re.da&&Re.capture==F){var cr=Re.listener,Zr=Re.ha||Re.src;Re.fa&&we(v.i,Re),ve=cr.call(Zr,G)!==!1&&ve}}return ve&&!G.defaultPrevented}function ct(v,N,F){if(typeof v=="function")F&&(v=h(v,F));else if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:l.setTimeout(v,N||0)}function wt(v){v.g=ct(()=>{v.g=null,v.i&&(v.i=!1,wt(v))},v.l);const N=v.h;v.h=null,v.m.apply(null,N)}class ht extends M{constructor(N,F){super(),this.m=N,this.l=F,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:wt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(v){M.call(this),this.h=v,this.g={}}y(lr,M);var er=[];function tt(v){$(v.g,function(N,F){this.g.hasOwnProperty(F)&&at(N)},v),v.g={}}lr.prototype.N=function(){lr.aa.N.call(this),tt(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var St=l.JSON.stringify,vr=l.JSON.parse,yt=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function $t(){}$t.prototype.h=null;function Pt(v){return v.h||(v.h=v.i())}function Yr(){}var Br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){K.call(this,"d")}y(pr,K);function xt(){K.call(this,"c")}y(xt,K);var zt={},hs=null;function xn(){return hs=hs||new ot}zt.La="serverreachability";function ho(v){K.call(this,zt.La,v)}y(ho,K);function Pi(v){const N=xn();It(N,new ho(N))}zt.STAT_EVENT="statevent";function gt(v,N){K.call(this,zt.STAT_EVENT,v),this.stat=N}y(gt,K);function Ur(v){const N=xn();It(N,new gt(N,v))}zt.Ma="timingevent";function po(v,N){K.call(this,zt.Ma,v),this.size=N}y(po,K);function ti(v,N){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},N)}function ri(){this.g=!0}ri.prototype.xa=function(){this.g=!1};function Qr(v,N,F,G,ve,ke){v.info(function(){if(v.g)if(ke)for(var Re="",cr=ke.split("&"),Zr=0;Zr<cr.length;Zr++){var qt=cr[Zr].split("=");if(1<qt.length){var Kt=qt[0];qt=qt[1];var wr=Kt.split("_");Re=2<=wr.length&&wr[1]=="type"?Re+(Kt+"="+qt+"&"):Re+(Kt+"=redacted&")}}else Re=null;else Re=ke;return"XMLHTTP REQ ("+G+") [attempt "+ve+"]: "+N+`
`+F+`
`+Re})}function Dn(v,N,F,G,ve,ke,Re){v.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ve+"]: "+N+`
`+F+`
`+ke+" "+Re})}function Xr(v,N,F,G){v.info(function(){return"XMLHTTP TEXT ("+N+"): "+ps(v,F)+(G?" "+G:"")})}function tl(v,N){v.info(function(){return"TIMEOUT: "+N})}ri.prototype.info=function(){};function ps(v,N){if(!v.g)return N;if(!N)return null;try{var F=JSON.parse(N);if(F){for(v=0;v<F.length;v++)if(Array.isArray(F[v])){var G=F[v];if(!(2>G.length)){var ve=G[1];if(Array.isArray(ve)&&!(1>ve.length)){var ke=ve[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(var Re=1;Re<ve.length;Re++)ve[Re]=""}}}}return St(F)}catch{return N}}var Ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ta={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gi;function Ti(){}y(Ti,$t),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},Gi=new Ti;function _n(v,N,F,G){this.j=v,this.i=N,this.l=F,this.R=G||1,this.U=new lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ms}function ms(){this.i=null,this.g="",this.h=!1}var Ca={},zo={};function gs(v,N,F){v.L=1,v.v=al(Yi(N)),v.m=F,v.P=!0,rl(v,null)}function rl(v,N){v.F=Date.now(),vs(v),v.A=Yi(v.v);var F=v.A,G=v.R;Array.isArray(G)||(G=[String(G)]),_t(F.i,"t",G),v.C=0,F=v.j.J,v.h=new ms,v.g=Ho(v.j,F?N:null,!v.m),0<v.O&&(v.M=new ht(h(v.Y,v,v.g),v.O)),N=v.U,F=v.g,G=v.ca;var ve="readystatechange";Array.isArray(ve)||(ve&&(er[0]=ve.toString()),ve=er);for(var ke=0;ke<ve.length;ke++){var Re=mt(F,ve[ke],G||N.handleEvent,!1,N.h||N);if(!Re)break;N.g[Re.key]=Re}N=v.H?j(v.H):{},v.m?(v.u||(v.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,N)):(v.u="GET",v.g.ea(v.A,v.u,null,N)),Pi(),Qr(v.i,v.u,v.A,v.l,v.R,v.m)}_n.prototype.ca=function(v){v=v.target;const N=this.M;N&&Qi(v)==3?N.j():this.Y(v)},_n.prototype.Y=function(v){try{if(v==this.g)e:{const wr=Qi(this.g);var N=this.g.Ba();const yo=this.g.Z();if(!(3>wr)&&(wr!=3||this.g&&(this.h.h||this.g.oa()||cc(this.g)))){this.J||wr!=4||N==7||(N==8||0>=yo?Pi(3):Pi(2)),tc(this);var F=this.g.Z();this.X=F;t:if(nl(this)){var G=cc(this.g);v="";var ve=G.length,ke=Qi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ia(this),ni(this);var Re="";break t}this.h.i=new l.TextDecoder}for(N=0;N<ve;N++)this.h.h=!0,v+=this.h.i.decode(G[N],{stream:!(ke&&N==ve-1)});G.length=0,this.h.g+=v,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=F==200,Dn(this.i,this.u,this.A,this.l,this.R,wr,F),this.o){if(this.T&&!this.K){t:{if(this.g){var cr,Zr=this.g;if((cr=Zr.g?Zr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(cr)){var qt=cr;break t}}qt=null}if(F=qt)Xr(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rc(this,F);else{this.o=!1,this.s=3,Ur(12),Ia(this),ni(this);break e}}if(this.P){F=!0;let hi;for(;!this.J&&this.C<Re.length;)if(hi=Uh(this,Re),hi==zo){wr==4&&(this.s=4,Ur(14),F=!1),Xr(this.i,this.l,null,"[Incomplete Response]");break}else if(hi==Ca){this.s=4,Ur(15),Xr(this.i,this.l,Re,"[Invalid Chunk]"),F=!1;break}else Xr(this.i,this.l,hi,null),rc(this,hi);if(nl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wr!=4||Re.length!=0||this.h.h||(this.s=1,Ur(16),F=!1),this.o=this.o&&F,!F)Xr(this.i,this.l,Re,"[Invalid Chunked Response]"),Ia(this),ni(this);else if(0<Re.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),Qt(Kt),Kt.M=!0,Ur(11))}}else Xr(this.i,this.l,Re,null),rc(this,Re);wr==4&&Ia(this),this.o&&!this.J&&(wr==4?mr(this.j,this):(this.o=!1,vs(this)))}else Xi(this.g),F==400&&0<Re.indexOf("Unknown SID")?(this.s=3,Ur(12)):(this.s=0,Ur(13)),Ia(this),ni(this)}}}catch{}finally{}};function nl(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function Uh(v,N){var F=v.C,G=N.indexOf(`
`,F);return G==-1?zo:(F=Number(N.substring(F,G)),isNaN(F)?Ca:(G+=1,G+F>N.length?zo:(N=N.slice(G,G+F),v.C=G+F,N)))}_n.prototype.cancel=function(){this.J=!0,Ia(this)};function vs(v){v.S=Date.now()+v.I,Tu(v,v.I)}function Tu(v,N){if(v.B!=null)throw Error("WatchDog timer not null");v.B=ti(h(v.ba,v),N)}function tc(v){v.B&&(l.clearTimeout(v.B),v.B=null)}_n.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(tl(this.i,this.A),this.L!=2&&(Pi(),Ur(17)),Ia(this),this.s=2,ni(this)):Tu(this,this.S-v)};function ni(v){v.j.G==0||v.J||mr(v.j,v)}function Ia(v){tc(v);var N=v.M;N&&typeof N.ma=="function"&&N.ma(),v.M=null,tt(v.U),v.g&&(N=v.g,v.g=null,N.abort(),N.ma())}function rc(v,N){try{var F=v.j;if(F.G!=0&&(F.g==v||ys(F.h,v))){if(!v.K&&ys(F.h,v)&&F.G==3){try{var G=F.Da.g.parse(N)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ve=G;if(ve[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<v.F)$r(F),J(F);else break e;Nt(F),Ur(18)}}else F.za=ve[1],0<F.za-F.T&&37500>ve[2]&&F.F&&F.v==0&&!F.C&&(F.C=ti(h(F.Za,F),6e3));if(1>=Ou(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else Pr(F,11)}else if((v.K||F.g==v)&&$r(F),!S(N))for(ve=F.Da.g.parse(N),N=0;N<ve.length;N++){let qt=ve[N];if(F.T=qt[0],qt=qt[1],F.G==2)if(qt[0]=="c"){F.K=qt[1],F.ia=qt[2];const Kt=qt[3];Kt!=null&&(F.la=Kt,F.j.info("VER="+F.la));const wr=qt[4];wr!=null&&(F.Aa=wr,F.j.info("SVER="+F.Aa));const yo=qt[5];yo!=null&&typeof yo=="number"&&0<yo&&(G=1.5*yo,F.L=G,F.j.info("backChannelRequestTimeoutMs_="+G)),G=F;const hi=v.g;if(hi){const La=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(La){var ke=G.h;ke.g||La.indexOf("spdy")==-1&&La.indexOf("quic")==-1&&La.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(Lu(ke,ke.h),ke.h=null))}if(G.D){const ks=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;ks&&(G.ya=ks,Ht(G.I,G.D,ks))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-v.F,F.j.info("Handshake RTT: "+F.R+"ms")),G=F;var Re=v;if(G.qa=vo(G,G.J?G.ia:null,G.W),Re.K){an(G.h,Re);var cr=Re,Zr=G.L;Zr&&(cr.I=Zr),cr.B&&(tc(cr),vs(cr)),G.g=Re}else bt(G);0<F.i.length&&ge(F)}else qt[0]!="stop"&&qt[0]!="close"||Pr(F,7);else F.G==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Pr(F,7):z(F):qt[0]!="noop"&&F.l&&F.l.ta(qt),F.v=0)}}Pi(4)}catch{}}var Cu=class{constructor(v,N){this.g=v,this.map=N}};function Iu(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ju(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Ou(v){return v.h?1:v.g?v.g.size:0}function ys(v,N){return v.h?v.h==N:v.g?v.g.has(N):!1}function Lu(v,N){v.g?v.g.add(N):v.h=N}function an(v,N){v.h&&v.h==N?v.h=null:v.g&&v.g.has(N)&&v.g.delete(N)}Iu.prototype.cancel=function(){if(this.i=Du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Du(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let N=v.i;for(const F of v.g.values())N=N.concat(F.D);return N}return w(v.i)}function Hd(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(c(v)){for(var N=[],F=v.length,G=0;G<F;G++)N.push(v[G]);return N}N=[],F=0;for(G in v)N[F++]=v[G];return N}function Vo(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(c(v)||typeof v=="string"){var N=[];v=v.length;for(var F=0;F<v;F++)N.push(F);return N}N=[],F=0;for(const G in v)N[F++]=G;return N}}}function ws(v,N){if(v.forEach&&typeof v.forEach=="function")v.forEach(N,void 0);else if(c(v)||typeof v=="string")Array.prototype.forEach.call(v,N,void 0);else for(var F=Vo(v),G=Hd(v),ve=G.length,ke=0;ke<ve;ke++)N.call(void 0,G[ke],F&&F[ke],v)}var la=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function il(v,N){if(v){v=v.split("&");for(var F=0;F<v.length;F++){var G=v[F].indexOf("="),ve=null;if(0<=G){var ke=v[F].substring(0,G);ve=v[F].substring(G+1)}else ke=v[F];N(ke,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}function yr(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof yr){this.h=v.h,nc(this,v.j),this.o=v.o,this.g=v.g,ic(this,v.s),this.l=v.l;var N=v.i,F=new ua;F.i=N.i,N.g&&(F.g=new Map(N.g),F.h=N.h),Kd(this,F),this.m=v.m}else v&&(N=String(v).match(la))?(this.h=!1,nc(this,N[1]||"",!0),this.o=bs(N[2]||""),this.g=bs(N[3]||"",!0),ic(this,N[4]),this.l=bs(N[5]||"",!0),Kd(this,N[6]||"",!0),this.m=bs(N[7]||"")):(this.h=!1,this.i=new ua(null,this.h))}yr.prototype.toString=function(){var v=[],N=this.j;N&&v.push(ca(N,Gd,!0),":");var F=this.g;return(F||N=="file")&&(v.push("//"),(N=this.o)&&v.push(ca(N,Gd,!0),"@"),v.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&v.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&v.push("/"),v.push(ca(F,F.charAt(0)=="/"?zh:$h,!0))),(F=this.i.toString())&&v.push("?",F),(F=this.m)&&v.push("#",ca(F,ol)),v.join("")};function Yi(v){return new yr(v)}function nc(v,N,F){v.j=F?bs(N,!0):N,v.j&&(v.j=v.j.replace(/:$/,""))}function ic(v,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);v.s=N}else v.s=null}function Kd(v,N,F){N instanceof ua?(v.i=N,Vh(v.i,v.h)):(F||(N=ca(N,Mu)),v.i=new ua(N,v.h))}function Ht(v,N,F){v.i.set(N,F)}function al(v){return Ht(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function bs(v,N){return v?N?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function ca(v,N,F){return typeof v=="string"?(v=encodeURI(v).replace(N,Ru),F&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Ru(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Gd=/[#\/\?@]/g,$h=/[#\?:]/g,zh=/[#\?]/g,Mu=/[#\?@]/g,ol=/#/g;function ua(v,N){this.h=this.g=null,this.i=v||null,this.j=!!N}function mo(v){v.g||(v.g=new Map,v.h=0,v.i&&il(v.i,function(N,F){v.add(decodeURIComponent(N.replace(/\+/g," ")),F)}))}r=ua.prototype,r.add=function(v,N){mo(this),this.i=null,v=_s(this,v);var F=this.g.get(v);return F||this.g.set(v,F=[]),F.push(N),this.h+=1,this};function xs(v,N){mo(v),N=_s(v,N),v.g.has(N)&&(v.i=null,v.h-=v.g.get(N).length,v.g.delete(N))}function ac(v,N){return mo(v),N=_s(v,N),v.g.has(N)}r.forEach=function(v,N){mo(this),this.g.forEach(function(F,G){F.forEach(function(ve){v.call(N,ve,G,this)},this)},this)},r.na=function(){mo(this);const v=Array.from(this.g.values()),N=Array.from(this.g.keys()),F=[];for(let G=0;G<N.length;G++){const ve=v[G];for(let ke=0;ke<ve.length;ke++)F.push(N[G])}return F},r.V=function(v){mo(this);let N=[];if(typeof v=="string")ac(this,v)&&(N=N.concat(this.g.get(_s(this,v))));else{v=Array.from(this.g.values());for(let F=0;F<v.length;F++)N=N.concat(v[F])}return N},r.set=function(v,N){return mo(this),this.i=null,v=_s(this,v),ac(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[N]),this.h+=1,this},r.get=function(v,N){return v?(v=this.V(v),0<v.length?String(v[0]):N):N};function _t(v,N,F){xs(v,N),0<F.length&&(v.i=null,v.g.set(_s(v,N),w(F)),v.h+=F.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],N=Array.from(this.g.keys());for(var F=0;F<N.length;F++){var G=N[F];const ke=encodeURIComponent(String(G)),Re=this.V(G);for(G=0;G<Re.length;G++){var ve=ke;Re[G]!==""&&(ve+="="+encodeURIComponent(String(Re[G]))),v.push(ve)}}return this.i=v.join("&")};function _s(v,N){return N=String(N),v.j&&(N=N.toLowerCase()),N}function Vh(v,N){N&&!v.j&&(mo(v),v.i=null,v.g.forEach(function(F,G){var ve=G.toLowerCase();G!=ve&&(xs(this,G),_t(this,ve,F))},v)),v.j=N}function qh(v,N){const F=new ri;if(l.Image){const G=new Image;G.onload=p(ii,F,"TestLoadImage: loaded",!0,N,G),G.onerror=p(ii,F,"TestLoadImage: error",!1,N,G),G.onabort=p(ii,F,"TestLoadImage: abort",!1,N,G),G.ontimeout=p(ii,F,"TestLoadImage: timeout",!1,N,G),l.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=v}else N(!1)}function Wh(v,N){const F=new ri,G=new AbortController,ve=setTimeout(()=>{G.abort(),ii(F,"TestPingServer: timeout",!1,N)},1e4);fetch(v,{signal:G.signal}).then(ke=>{clearTimeout(ve),ke.ok?ii(F,"TestPingServer: ok",!0,N):ii(F,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(ve),ii(F,"TestPingServer: error",!1,N)})}function ii(v,N,F,G,ve){try{ve&&(ve.onload=null,ve.onerror=null,ve.onabort=null,ve.ontimeout=null),G(F)}catch{}}function qo(){this.g=new yt}function Hh(v,N,F){const G=F||"";try{ws(v,function(ve,ke){let Re=ve;u(ve)&&(Re=St(ve)),N.push(G+ke+"="+encodeURIComponent(Re))})}catch(ve){throw N.push(G+"type="+encodeURIComponent("_badmap")),ve}}function oc(v){this.l=v.Ub||null,this.j=v.eb||!1}y(oc,$t),oc.prototype.g=function(){return new Wo(this.l,this.j)},oc.prototype.i=function(v){return function(){return v}}({});function Wo(v,N){ot.call(this),this.D=v,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Wo,ot),r=Wo.prototype,r.open=function(v,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=N,this.readyState=1,go(this)},r.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(N.body=v),(this.D||l).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ja(this)),this.readyState=0},r.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,go(this)),this.g&&(this.readyState=3,go(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sc(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function sc(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}r.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var N=v.value?v.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!v.done}))&&(this.response=this.responseText+=N)}v.done?ja(this):go(this),this.readyState==3&&sc(this)}},r.Ra=function(v){this.g&&(this.response=this.responseText=v,ja(this))},r.Qa=function(v){this.g&&(this.response=v,ja(this))},r.ga=function(){this.g&&ja(this)};function ja(v){v.readyState=4,v.l=null,v.j=null,v.v=null,go(v)}r.setRequestHeader=function(v,N){this.u.append(v,N)},r.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],N=this.h.entries();for(var F=N.next();!F.done;)F=F.value,v.push(F[0]+": "+F[1]),F=N.next();return v.join(`\r
`)};function go(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function sl(v){let N="";return $(v,function(F,G){N+=G,N+=":",N+=F,N+=`\r
`}),N}function Fu(v,N,F){e:{for(G in F){var G=!1;break e}G=!0}G||(F=sl(F),typeof v=="string"?F!=null&&encodeURIComponent(String(F)):Ht(v,N,F))}function kr(v){ot.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(kr,ot);var Bu=/^https?$/i,ll=["POST","PUT"];r=kr.prototype,r.Ha=function(v){this.J=v},r.ea=function(v,N,F,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);N=N?N.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gi.g(),this.v=this.o?Pt(this.o):Pt(Gi),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(N,String(v),!0),this.B=!1}catch(ke){As(this,ke);return}if(v=F||"",F=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ve in G)F.set(ve,G[ve]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const ke of G.keys())F.set(ke,G.get(ke));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(F.keys()).find(ke=>ke.toLowerCase()=="content-type"),ve=l.FormData&&v instanceof l.FormData,!(0<=Array.prototype.indexOf.call(ll,N,void 0))||G||ve||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,Re]of F)this.g.setRequestHeader(ke,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(v),this.u=!1}catch(ke){As(this,ke)}};function As(v,N){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=N,v.m=5,lc(v),Ss(v)}function lc(v){v.A||(v.A=!0,It(v,"complete"),It(v,"error"))}r.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,It(this,"complete"),It(this,"abort"),Ss(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ss(this,!0)),kr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?cl(this):this.bb())},r.bb=function(){cl(this)};function cl(v){if(v.h&&typeof s<"u"&&(!v.v[1]||Qi(v)!=4||v.Z()!=2)){if(v.u&&Qi(v)==4)ct(v.Ea,0,v);else if(It(v,"readystatechange"),Qi(v)==4){v.h=!1;try{const Re=v.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var F;if(!(F=N)){var G;if(G=Re===0){var ve=String(v.D).match(la)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),G=!Bu.test(ve?ve.toLowerCase():"")}F=G}if(F)It(v,"complete"),It(v,"success");else{v.m=6;try{var ke=2<Qi(v)?v.g.statusText:""}catch{ke=""}v.l=ke+" ["+v.Z()+"]",lc(v)}}finally{Ss(v)}}}}function Ss(v,N){if(v.g){Es(v);const F=v.g,G=v.v[0]?()=>{}:null;v.g=null,v.v=null,N||It(v,"ready");try{F.onreadystatechange=G}catch{}}}function Es(v){v.I&&(l.clearTimeout(v.I),v.I=null)}r.isActive=function(){return!!this.g};function Qi(v){return v.g?v.g.readyState:0}r.Z=function(){try{return 2<Qi(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(v){if(this.g){var N=this.g.responseText;return v&&N.indexOf(v)==0&&(N=N.substring(v.length)),vr(N)}};function cc(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(v){const N={};v=(v.g&&2<=Qi(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<v.length;G++){if(S(v[G]))continue;var F=T(v[G]);const ve=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const ke=N[ve]||[];N[ve]=ke,ke.push(F)}D(N,function(G){return G.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(v,N,F){return F&&F.internalChannelParams&&F.internalChannelParams[v]||N}function E(v){this.Aa=0,this.i=[],this.j=new ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ci("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ci("baseRetryDelayMs",5e3,v),this.cb=Ci("retryDelaySeedMs",1e4,v),this.Wa=Ci("forwardChannelMaxRetries",2,v),this.wa=Ci("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Iu(v&&v.concurrentRequestLimit),this.Da=new qo,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=E.prototype,r.la=8,r.G=1,r.connect=function(v,N,F,G){Ur(0),this.W=v,this.H=N||{},F&&G!==void 0&&(this.H.OSID=F,this.H.OAID=G),this.F=this.X,this.I=vo(this,null,this.W),ge(this)};function z(v){if(ce(v),v.G==3){var N=v.U++,F=Yi(v.I);if(Ht(F,"SID",v.K),Ht(F,"RID",N),Ht(F,"TYPE","terminate"),We(v,F),N=new _n(v,v.j,N),N.L=2,N.v=al(Yi(F)),F=!1,l.navigator&&l.navigator.sendBeacon)try{F=l.navigator.sendBeacon(N.v.toString(),"")}catch{}!F&&l.Image&&(new Image().src=N.v,F=!0),F||(N.g=Ho(N.j,null),N.g.ea(N.v)),N.F=Date.now(),vs(N)}Rn(v)}function J(v){v.g&&(Qt(v),v.g.cancel(),v.g=null)}function ce(v){J(v),v.u&&(l.clearTimeout(v.u),v.u=null),$r(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&l.clearTimeout(v.s),v.s=null)}function ge(v){if(!ju(v.h)&&!v.s){v.s=!0;var N=v.Ga;pe||ie(),X||(pe(),X=!0),le.add(N,v),v.B=0}}function Ce(v,N){return Ou(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=N.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=ti(h(v.Ga,v,N),dn(v,v.B)),v.B++,!0)}r.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const ve=new _n(this,this.j,v);let ke=this.o;if(this.S&&(ke?(ke=j(ke),U(ke,this.S)):ke=this.S),this.m!==null||this.O||(ve.H=ke,ke=null),this.P)e:{for(var N=0,F=0;F<this.i.length;F++){t:{var G=this.i[F];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(N+=G,4096<N){N=F;break e}if(N===4096||F===this.i.length-1){N=F+1;break e}}N=1e3}else N=1e3;N=Ze(this,ve,N),F=Yi(this.I),Ht(F,"RID",v),Ht(F,"CVER",22),this.D&&Ht(F,"X-HTTP-Session-Id",this.D),We(this,F),ke&&(this.O?N="headers="+encodeURIComponent(String(sl(ke)))+"&"+N:this.m&&Fu(F,this.m,ke)),Lu(this.h,ve),this.Ua&&Ht(F,"TYPE","init"),this.P?(Ht(F,"$req",N),Ht(F,"SID","null"),ve.T=!0,gs(ve,F,null)):gs(ve,F,N),this.G=2}}else this.G==3&&(v?Oe(this,v):this.i.length==0||ju(this.h)||Oe(this))};function Oe(v,N){var F;N?F=N.l:F=v.U++;const G=Yi(v.I);Ht(G,"SID",v.K),Ht(G,"RID",F),Ht(G,"AID",v.T),We(v,G),v.m&&v.o&&Fu(G,v.m,v.o),F=new _n(v,v.j,F,v.B+1),v.m===null&&(F.H=v.o),N&&(v.i=N.D.concat(v.i)),N=Ze(v,F,1e3),F.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Lu(v.h,F),gs(F,G,N)}function We(v,N){v.H&&$(v.H,function(F,G){Ht(N,G,F)}),v.l&&ws({},function(F,G){Ht(N,G,F)})}function Ze(v,N,F){F=Math.min(v.i.length,F);var G=v.l?h(v.l.Na,v.l,v):null;e:{var ve=v.i;let ke=-1;for(;;){const Re=["count="+F];ke==-1?0<F?(ke=ve[0].g,Re.push("ofs="+ke)):ke=0:Re.push("ofs="+ke);let cr=!0;for(let Zr=0;Zr<F;Zr++){let qt=ve[Zr].g;const Kt=ve[Zr].map;if(qt-=ke,0>qt)ke=Math.max(0,ve[Zr].g-100),cr=!1;else try{Hh(Kt,Re,"req"+qt+"_")}catch{G&&G(Kt)}}if(cr){G=Re.join("&");break e}}}return v=v.i.splice(0,F),N.D=v,G}function bt(v){if(!v.g&&!v.u){v.Y=1;var N=v.Fa;pe||ie(),X||(pe(),X=!0),le.add(N,v),v.v=0}}function Nt(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=ti(h(v.Fa,v),dn(v,v.v)),v.v++,!0)}r.Fa=function(){if(this.u=null,Or(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=ti(h(this.ab,this),v)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ur(10),J(this),Or(this))};function Qt(v){v.A!=null&&(l.clearTimeout(v.A),v.A=null)}function Or(v){v.g=new _n(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var N=Yi(v.qa);Ht(N,"RID","rpc"),Ht(N,"SID",v.K),Ht(N,"AID",v.T),Ht(N,"CI",v.F?"0":"1"),!v.F&&v.ja&&Ht(N,"TO",v.ja),Ht(N,"TYPE","xmlhttp"),We(v,N),v.m&&v.o&&Fu(N,v.m,v.o),v.L&&(v.g.I=v.L);var F=v.g;v=v.ia,F.L=1,F.v=al(Yi(N)),F.m=null,F.P=!0,rl(F,v)}r.Za=function(){this.C!=null&&(this.C=null,J(this),Nt(this),Ur(19))};function $r(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function mr(v,N){var F=null;if(v.g==N){$r(v),Qt(v),v.g=null;var G=2}else if(ys(v.h,N))F=N.D,an(v.h,N),G=1;else return;if(v.G!=0){if(N.o)if(G==1){F=N.m?N.m.length:0,N=Date.now()-N.F;var ve=v.B;G=xn(),It(G,new po(G,F)),ge(v)}else bt(v);else if(ve=N.s,ve==3||ve==0&&0<N.X||!(G==1&&Ce(v,N)||G==2&&Nt(v)))switch(F&&0<F.length&&(N=v.h,N.i=N.i.concat(F)),ve){case 1:Pr(v,5);break;case 4:Pr(v,10);break;case 3:Pr(v,6);break;default:Pr(v,2)}}}function dn(v,N){let F=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(F*=2),F*N}function Pr(v,N){if(v.j.info("Error code "+N),N==2){var F=h(v.fb,v),G=v.Xa;const ve=!G;G=new yr(G||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||nc(G,"https"),al(G),ve?qh(G.toString(),F):Wh(G.toString(),F)}else Ur(2);v.G=0,v.l&&v.l.sa(N),Rn(v),ce(v)}r.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Ur(2)):(this.j.info("Failed to ping google.com"),Ur(1))};function Rn(v){if(v.G=0,v.ka=[],v.l){const N=Du(v.h);(N.length!=0||v.i.length!=0)&&(x(v.ka,N),x(v.ka,v.i),v.h.i.length=0,w(v.i),v.i.length=0),v.l.ra()}}function vo(v,N,F){var G=F instanceof yr?Yi(F):new yr(F);if(G.g!="")N&&(G.g=N+"."+G.g),ic(G,G.s);else{var ve=l.location;G=ve.protocol,N=N?N+"."+ve.hostname:ve.hostname,ve=+ve.port;var ke=new yr(null);G&&nc(ke,G),N&&(ke.g=N),ve&&ic(ke,ve),F&&(ke.l=F),G=ke}return F=v.D,N=v.ya,F&&N&&Ht(G,F,N),Ht(G,"VER",v.la),We(v,G),G}function Ho(v,N,F){if(N&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=v.Ca&&!v.pa?new kr(new oc({eb:F})):new kr(v.pa),N.Ha(v.J),N}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yd(){}r=Yd.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ul(){}ul.prototype.g=function(v,N){return new An(v,N)};function An(v,N){ot.call(this),this.g=new E(N),this.l=v,this.h=N&&N.messageUrlParams||null,v=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(v?v["X-WebChannel-Content-Type"]=N.messageContentType:v={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(v?v["X-WebChannel-Client-Profile"]=N.va:v={"X-WebChannel-Client-Profile":N.va}),this.g.S=v,(v=N&&N.Sb)&&!S(v)&&(this.g.m=v),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!S(N)&&(this.g.D=N,v=this.h,v!==null&&N in v&&(v=this.h,N in v&&delete v[N])),this.j=new Oa(this)}y(An,ot),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){z(this.g)},An.prototype.o=function(v){var N=this.g;if(typeof v=="string"){var F={};F.__data__=v,v=F}else this.u&&(F={},F.__data__=St(v),v=F);N.i.push(new Cu(N.Ya++,v)),N.G==3&&ge(N)},An.prototype.N=function(){this.g.l=null,delete this.j,z(this.g),delete this.g,An.aa.N.call(this)};function da(v){pr.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var N=v.__sm__;if(N){e:{for(const F in N){v=F;break e}v=void 0}(this.i=v)&&(v=this.i,N=N!==null&&v in N?N[v]:void 0),this.data=N}else this.data=v}y(da,pr);function uc(){xt.call(this),this.status=1}y(uc,xt);function Oa(v){this.g=v}y(Oa,Yd),Oa.prototype.ua=function(){It(this.g,"a")},Oa.prototype.ta=function(v){It(this.g,new da(v))},Oa.prototype.sa=function(v){It(this.g,new uc)},Oa.prototype.ra=function(){It(this.g,"b")},ul.prototype.createWebChannel=ul.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,H6=function(){return new ul},W6=function(){return xn()},q6=zt,kx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ni.NO_ERROR=0,Ni.TIMEOUT=8,Ni.HTTP_ERROR=6,Zv=Ni,Ta.COMPLETE="complete",V6=Ta,Yr.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Cp=Yr,kr.prototype.listenOnce=kr.prototype.L,kr.prototype.getLastError=kr.prototype.Ka,kr.prototype.getLastErrorCode=kr.prototype.Ba,kr.prototype.getStatus=kr.prototype.Z,kr.prototype.getResponseJson=kr.prototype.Oa,kr.prototype.getResponseText=kr.prototype.oa,kr.prototype.send=kr.prototype.ea,kr.prototype.setWithCredentials=kr.prototype.Ha,z6=kr}).apply(typeof cv<"u"?cv:typeof self<"u"?self:typeof window<"u"?window:{});const NN="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ui=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ui.UNAUTHENTICATED=new Ui(null),Ui.GOOGLE_CREDENTIALS=new Ui("google-credentials-uid"),Ui.FIRST_PARTY=new Ui("first-party-uid"),Ui.MOCK_USER=new Ui("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new j6("@firebase/firestore");function fp(){return _d.logLevel}function Je(r,...e){if(_d.logLevel<=ar.DEBUG){const n=e.map(iA);_d.debug(`Firestore (${Sh}): ${r}`,...n)}}function Ml(r,...e){if(_d.logLevel<=ar.ERROR){const n=e.map(iA);_d.error(`Firestore (${Sh}): ${r}`,...n)}}function Xf(r,...e){if(_d.logLevel<=ar.WARN){const n=e.map(iA);_d.warn(`Firestore (${Sh}): ${r}`,...n)}}function iA(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r="Unexpected state"){const e=`FIRESTORE (${Sh}) INTERNAL ASSERTION FAILED: `+r;throw Ml(e),new Error(e)}function Er(r,e){r||Tt()}function Rt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Md{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ui.UNAUTHENTICATED))}shutdown(){}}class Yq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qq{constructor(e){this.t=e,this.currentUser=Ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Er(this.o===void 0);let i=this.i;const a=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Tl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tl,e.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await a(this.currentUser)})},l=c=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tl)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Er(typeof i.accessToken=="string"),new K6(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Er(e===null||typeof e=="string"),new Ui(e)}}class Xq{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ui.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zq{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Xq(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eW{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Er(this.o===void 0);const i=o=>{o.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Je("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const a=o=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Er(typeof n.token=="string"),this.R=n.token,new Jq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const a=tW(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<n&&(i+=e.charAt(a[o]%e.length))}return i}}function ur(r,e){return r<e?-1:r>e?1:0}function Zf(r,e,n){return r.length===e.length&&r.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ke(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Qn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ur(this.nanoseconds,e.nanoseconds):ur(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new Qn(0,0))}static max(){return new Ot(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,i){n===void 0?n=0:n>e.length&&Tt(),i===void 0?i=e.length-n:i>e.length-n&&Tt(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Em.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Em?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const o=e.get(a),s=n.get(a);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Wr extends Em{construct(e,n,i){return new Wr(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ke(je.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new Wr(n)}static emptyPath(){return new Wr([])}}const rW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends Em{construct(e,n,i){return new _i(e,n,i)}static isValidIdentifier(e){return rW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _i(["__name__"])}static fromServerFormat(e){const n=[];let i="",a=0;const o=()=>{if(i.length===0)throw new Ke(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;a<e.length;){const l=e[a];if(l==="\\"){if(a+1===e.length)throw new Ke(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ke(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,a+=2}else l==="`"?(s=!s,a++):l!=="."||s?(i+=l,a++):(o(),a++)}if(o(),s)throw new Ke(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _i(n)}static emptyPath(){return new _i([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Wr.fromString(e))}static fromName(e){return new pt(Wr.fromString(e).popFirst(5))}static empty(){return new pt(Wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Wr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Wr(e.slice()))}}function nW(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=Ot.fromTimestamp(i===1e9?new Qn(n+1,0):new Qn(n,i));return new ou(a,pt.empty(),e)}function iW(r){return new ou(r.readTime,r.key,-1)}class ou{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ou(Ot.min(),pt.empty(),-1)}static max(){return new ou(Ot.max(),pt.empty(),-1)}}function aW(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,e.documentKey),n!==0?n:ur(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ng(r){if(r.code!==je.FAILED_PRECONDITION||r.message!==oW)throw r;Je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,i)=>{n(e)})}static reject(e){return new De((n,i)=>{i(e)})}static waitFor(e){return new De((n,i)=>{let a=0,o=0,s=!1;e.forEach(l=>{++a,l.next(()=>{++o,s&&o===a&&n()},c=>i(c))}),s=!0,o===a&&n()})}static or(e){let n=De.resolve(!1);for(const i of e)n=n.next(a=>a?De.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,o)=>{i.push(n.call(this,a,o))}),this.waitFor(i)}static mapArray(e,n){return new De((i,a)=>{const o=e.length,s=new Array(o);let l=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{s[u]=d,++l,l===o&&i(s)},d=>a(d))}})}static doWhile(e,n){return new De((i,a)=>{const o=()=>{e()===!0?n().next(()=>{o()},a):i()};o()})}}function lW(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ig(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}aA.oe=-1;function l1(r){return r==null}function Fy(r){return r===0&&1/r==-1/0}function cW(r){return typeof r=="number"&&Number.isInteger(r)&&!Fy(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Fd(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Y6(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){this.comparator=e,this.root=n||bi.EMPTY}insert(e,n){return new cn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bi.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uv(this.root,e,this.comparator,!1)}getReverseIterator(){return new uv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uv(this.root,e,this.comparator,!0)}}class uv{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bi{constructor(e,n,i,a,o){this.key=e,this.value=n,this.color=i??bi.RED,this.left=a??bi.EMPTY,this.right=o??bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,o){return new bi(e??this.key,n??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,i),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return bi.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const e=this.left.check();if(e!==this.right.check())throw Tt();return e+(this.isRed()?0:1)}}bi.EMPTY=null,bi.RED=!0,bi.BLACK=!1;bi.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(e,n,i,a,o){return this}insert(e,n,i){return new bi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CN(this.data.getIterator())}getIteratorFrom(e){return new CN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Si(this.comparator);return n.data=e,n}}class CN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.fields=e,e.sort(_i.comparator)}static empty(){return new Xa([])}unionWith(e){let n=new Si(_i.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Xa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zf(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Q6("Invalid base64 string: "+o):o}}(e);return new ki(n)}static fromUint8Array(e){const n=function(a){let o="";for(let s=0;s<a.length;++s)o+=String.fromCharCode(a[s]);return o}(e);return new ki(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ur(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ki.EMPTY_BYTE_STRING=new ki("");const uW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function su(r){if(Er(!!r),typeof r=="string"){let e=0;const n=uW.exec(r);if(Er(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tn(r.seconds),nanos:Tn(r.nanos)}}function Tn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ad(r){return typeof r=="string"?ki.fromBase64String(r):ki.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sA(r){const e=r.mapValue.fields.__previous_value__;return oA(e)?sA(e):e}function km(r){const e=su(r.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e,n,i,a,o,s,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Pm{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv={mapValue:{}};function Sd(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?oA(r)?4:hW(r)?9007199254740991:fW(r)?10:11:Tt()}function Ys(r,e){if(r===e)return!0;const n=Sd(r);if(n!==Sd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return km(r).isEqual(km(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const s=su(a.timestampValue),l=su(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,o){return Ad(a.bytesValue).isEqual(Ad(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,o){return Tn(a.geoPointValue.latitude)===Tn(o.geoPointValue.latitude)&&Tn(a.geoPointValue.longitude)===Tn(o.geoPointValue.longitude)}(r,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Tn(a.integerValue)===Tn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const s=Tn(a.doubleValue),l=Tn(o.doubleValue);return s===l?Fy(s)===Fy(l):isNaN(s)&&isNaN(l)}return!1}(r,e);case 9:return Zf(r.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:case 11:return function(a,o){const s=a.mapValue.fields||{},l=o.mapValue.fields||{};if(TN(s)!==TN(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Ys(s[c],l[c])))return!1;return!0}(r,e);default:return Tt()}}function Nm(r,e){return(r.values||[]).find(n=>Ys(n,e))!==void 0}function Jf(r,e){if(r===e)return 0;const n=Sd(r),i=Sd(e);if(n!==i)return ur(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ur(r.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Tn(o.integerValue||o.doubleValue),c=Tn(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(r,e);case 3:return IN(r.timestampValue,e.timestampValue);case 4:return IN(km(r),km(e));case 5:return ur(r.stringValue,e.stringValue);case 6:return function(o,s){const l=Ad(o),c=Ad(s);return l.compareTo(c)}(r.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),c=s.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=ur(l[u],c[u]);if(d!==0)return d}return ur(l.length,c.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,s){const l=ur(Tn(o.latitude),Tn(s.latitude));return l!==0?l:ur(Tn(o.longitude),Tn(s.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return jN(r.arrayValue,e.arrayValue);case 10:return function(o,s){var l,c,u,d;const f=o.fields||{},h=s.fields||{},p=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=(c=h.value)===null||c===void 0?void 0:c.arrayValue,w=ur(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:jN(p,y)}(r.mapValue,e.mapValue);case 11:return function(o,s){if(o===dv.mapValue&&s===dv.mapValue)return 0;if(o===dv.mapValue)return 1;if(s===dv.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=ur(c[f],d[f]);if(h!==0)return h;const p=Jf(l[c[f]],u[d[f]]);if(p!==0)return p}return ur(c.length,d.length)}(r.mapValue,e.mapValue);default:throw Tt()}}function IN(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ur(r,e);const n=su(r),i=su(e),a=ur(n.seconds,i.seconds);return a!==0?a:ur(n.nanos,i.nanos)}function jN(r,e){const n=r.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const o=Jf(n[a],i[a]);if(o)return o}return ur(n.length,i.length)}function eh(r){return Px(r)}function Px(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const i=su(n);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Ad(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let i="[",a=!0;for(const o of n.values||[])a?a=!1:i+=",",i+=Px(o);return i+"]"}(r.arrayValue):"mapValue"in r?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const s of i)o?o=!1:a+=",",a+=`${s}:${Px(n.fields[s])}`;return a+"}"}(r.mapValue):Tt()}function ON(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Nx(r){return!!r&&"integerValue"in r}function lA(r){return!!r&&"arrayValue"in r}function LN(r){return!!r&&"nullValue"in r}function DN(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jv(r){return!!r&&"mapValue"in r}function fW(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Hp(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Fd(r.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Hp(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hp(r.arrayValue.values[n]);return e}return Object.assign({},r)}function hW(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.value=e}static empty(){return new ya({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Jv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hp(n)}setAll(e){let n=_i.emptyPath(),i={},a=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,i,a),i={},a=[],n=l.popLast()}s?i[l.lastSegment()]=Hp(s):a.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,a)}delete(e){const n=this.field(e.popLast());Jv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Jv(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Fd(n,(a,o)=>e[a]=o);for(const a of i)delete e[a]}clone(){return new ya(Hp(this.value))}}function X6(r){const e=[];return Fd(r.fields,(n,i)=>{const a=new _i([n]);if(Jv(i)){const o=X6(i.mapValue).fields;if(o.length===0)e.push(a);else for(const s of o)e.push(a.child(s))}else e.push(a)}),new Xa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,i,a,o,s,l){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new zi(e,0,Ot.min(),Ot.min(),Ot.min(),ya.empty(),0)}static newFoundDocument(e,n,i,a){return new zi(e,1,n,Ot.min(),i,a,0)}static newNoDocument(e,n){return new zi(e,2,n,Ot.min(),Ot.min(),ya.empty(),0)}static newUnknownDocument(e,n){return new zi(e,3,n,Ot.min(),Ot.min(),ya.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ya.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ya.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.position=e,this.inclusive=n}}function RN(r,e,n){let i=0;for(let a=0;a<r.position.length;a++){const o=e[a],s=r.position[a];if(o.field.isKeyField()?i=pt.comparator(pt.fromName(s.referenceValue),n.key):i=Jf(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function MN(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ys(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n="asc"){this.field=e,this.dir=n}}function pW(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z6=class{};class Un extends Z6{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new gW(e,n,i):n==="array-contains"?new wW(e,i):n==="in"?new bW(e,i):n==="not-in"?new xW(e,i):n==="array-contains-any"?new _W(e,i):new Un(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new vW(e,i):new yW(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Jf(n,this.value)):n!==null&&Sd(this.value)===Sd(n)&&this.matchesComparison(Jf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ls extends Z6{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ls(e,n)}matches(e){return J6(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function J6(r){return r.op==="and"}function eL(r){return mW(r)&&J6(r)}function mW(r){for(const e of r.filters)if(e instanceof ls)return!1;return!0}function Tx(r){if(r instanceof Un)return r.field.canonicalString()+r.op.toString()+eh(r.value);if(eL(r))return r.filters.map(e=>Tx(e)).join(",");{const e=r.filters.map(n=>Tx(n)).join(",");return`${r.op}(${e})`}}function tL(r,e){return r instanceof Un?function(i,a){return a instanceof Un&&i.op===a.op&&i.field.isEqual(a.field)&&Ys(i.value,a.value)}(r,e):r instanceof ls?function(i,a){return a instanceof ls&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((o,s,l)=>o&&tL(s,a.filters[l]),!0):!1}(r,e):void Tt()}function rL(r){return r instanceof Un?function(n){return`${n.field.canonicalString()} ${n.op} ${eh(n.value)}`}(r):r instanceof ls?function(n){return n.op.toString()+" {"+n.getFilters().map(rL).join(" ,")+"}"}(r):"Filter"}class gW extends Un{constructor(e,n,i){super(e,n,i),this.key=pt.fromName(i.referenceValue)}matches(e){const n=pt.comparator(e.key,this.key);return this.matchesComparison(n)}}class vW extends Un{constructor(e,n){super(e,"in",n),this.keys=nL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yW extends Un{constructor(e,n){super(e,"not-in",n),this.keys=nL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nL(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>pt.fromName(i.referenceValue))}class wW extends Un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lA(n)&&Nm(n.arrayValue,this.value)}}class bW extends Un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nm(this.value.arrayValue,n)}}class xW extends Un{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nm(this.value.arrayValue,n)}}class _W extends Un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lA(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Nm(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e,n=null,i=[],a=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function FN(r,e=null,n=[],i=[],a=null,o=null,s=null){return new AW(r,e,n,i,a,o,s)}function cA(r){const e=Rt(r);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Tx(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),l1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>eh(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>eh(i)).join(",")),e.ue=n}return e.ue}function uA(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!pW(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!tL(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!MN(r.startAt,e.startAt)&&MN(r.endAt,e.endAt)}function Cx(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n=null,i=[],a=[],o=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function SW(r,e,n,i,a,o,s,l){return new Eh(r,e,n,i,a,o,s,l)}function c1(r){return new Eh(r)}function BN(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iL(r){return r.collectionGroup!==null}function Kp(r){const e=Rt(r);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Si(_i.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Tm(o,i))}),n.has(_i.keyField().canonicalString())||e.ce.push(new Tm(_i.keyField(),i))}return e.ce}function zs(r){const e=Rt(r);return e.le||(e.le=EW(e,Kp(r))),e.le}function EW(r,e){if(r.limitType==="F")return FN(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Tm(a.field,o)});const n=r.endAt?new By(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new By(r.startAt.position,r.startAt.inclusive):null;return FN(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function Ix(r,e){const n=r.filters.concat([e]);return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function jx(r,e,n){return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function u1(r,e){return uA(zs(r),zs(e))&&r.limitType===e.limitType}function aL(r){return`${cA(zs(r))}|lt:${r.limitType}`}function sf(r){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>rL(a)).join(", ")}]`),l1(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>eh(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>eh(a)).join(",")),`Target(${i})`}(zs(r))}; limitType=${r.limitType})`}function d1(r,e){return e.isFoundDocument()&&function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(r,e)&&function(i,a){for(const o of Kp(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(r,e)&&function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0}(r,e)&&function(i,a){return!(i.startAt&&!function(s,l,c){const u=RN(s,l,c);return s.inclusive?u<=0:u<0}(i.startAt,Kp(i),a)||i.endAt&&!function(s,l,c){const u=RN(s,l,c);return s.inclusive?u>=0:u>0}(i.endAt,Kp(i),a))}(r,e)}function kW(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function oL(r){return(e,n)=>{let i=!1;for(const a of Kp(r)){const o=PW(a,e,n);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function PW(r,e,n){const i=r.field.isKeyField()?pt.comparator(e.key,n.key):function(o,s,l){const c=s.data.field(o),u=l.data.field(o);return c!==null&&u!==null?Jf(c,u):Tt()}(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Fd(this.inner,(n,i)=>{for(const[a,o]of i)e(a,o)})}isEmpty(){return Y6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=new cn(pt.comparator);function Fl(){return NW}const sL=new cn(pt.comparator);function Ip(...r){let e=sL;for(const n of r)e=e.insert(n.key,n);return e}function lL(r){let e=sL;return r.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function td(){return Gp()}function cL(){return Gp()}function Gp(){return new kh(r=>r.toString(),(r,e)=>r.isEqual(e))}const TW=new cn(pt.comparator),CW=new Si(pt.comparator);function Gt(...r){let e=CW;for(const n of r)e=e.add(n);return e}const IW=new Si(ur);function jW(){return IW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fy(e)?"-0":e}}function uL(r){return{integerValue:""+r}}function OW(r,e){return cW(e)?uL(e):dA(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this._=void 0}}function LW(r,e,n){return r instanceof Uy?function(a,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&oA(o)&&(o=sA(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):r instanceof Cm?fL(r,e):r instanceof Im?hL(r,e):function(a,o){const s=dL(a,o),l=UN(s)+UN(a.Pe);return Nx(s)&&Nx(a.Pe)?uL(l):dA(a.serializer,l)}(r,e)}function DW(r,e,n){return r instanceof Cm?fL(r,e):r instanceof Im?hL(r,e):n}function dL(r,e){return r instanceof $y?function(i){return Nx(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Uy extends f1{}class Cm extends f1{constructor(e){super(),this.elements=e}}function fL(r,e){const n=pL(e);for(const i of r.elements)n.some(a=>Ys(a,i))||n.push(i);return{arrayValue:{values:n}}}class Im extends f1{constructor(e){super(),this.elements=e}}function hL(r,e){let n=pL(e);for(const i of r.elements)n=n.filter(a=>!Ys(a,i));return{arrayValue:{values:n}}}class $y extends f1{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function UN(r){return Tn(r.integerValue||r.doubleValue)}function pL(r){return lA(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function RW(r,e){return r.field.isEqual(e.field)&&function(i,a){return i instanceof Cm&&a instanceof Cm||i instanceof Im&&a instanceof Im?Zf(i.elements,a.elements,Ys):i instanceof $y&&a instanceof $y?Ys(i.Pe,a.Pe):i instanceof Uy&&a instanceof Uy}(r.transform,e.transform)}class MW{constructor(e,n){this.version=e,this.transformResults=n}}class Io{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Io}static exists(e){return new Io(void 0,e)}static updateTime(e){return new Io(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ey(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class h1{}function mL(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new fA(r.key,Io.none()):new ag(r.key,r.data,Io.none());{const n=r.data,i=ya.empty();let a=new Si(_i.comparator);for(let o of e.fields)if(!a.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),a=a.add(o)}return new xu(r.key,i,new Xa(a.toArray()),Io.none())}}function FW(r,e,n){r instanceof ag?function(a,o,s){const l=a.value.clone(),c=zN(a.fieldTransforms,o,s.transformResults);l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(r,e,n):r instanceof xu?function(a,o,s){if(!ey(a.precondition,o))return void o.convertToUnknownDocument(s.version);const l=zN(a.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(gL(a)),c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(r,e,n):function(a,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Yp(r,e,n,i){return r instanceof ag?function(o,s,l,c){if(!ey(o.precondition,s))return l;const u=o.value.clone(),d=VN(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(r,e,n,i):r instanceof xu?function(o,s,l,c){if(!ey(o.precondition,s))return l;const u=VN(o.fieldTransforms,c,s),d=s.data;return d.setAll(gL(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(r,e,n,i):function(o,s,l){return ey(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(r,e,n)}function BW(r,e){let n=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),o=dL(i.transform,a||null);o!=null&&(n===null&&(n=ya.empty()),n.set(i.field,o))}return n||null}function $N(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Zf(i,a,(o,s)=>RW(o,s))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ag extends h1{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class xu extends h1{constructor(e,n,i,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gL(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}}),e}function zN(r,e,n){const i=new Map;Er(r.length===n.length);for(let a=0;a<n.length;a++){const o=r[a],s=o.transform,l=e.data.field(o.field);i.set(o.field,DW(s,l,n[a]))}return i}function VN(r,e,n){const i=new Map;for(const a of r){const o=a.transform,s=n.data.field(a.field);i.set(a.field,LW(o,s,e))}return i}class fA extends h1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UW extends h1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&FW(o,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Yp(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Yp(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=cL();return this.mutations.forEach(a=>{const o=e.get(a.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(a.key)?null:l;const c=mL(s,l);c!==null&&i.set(a.key,c),s.isValidDocument()||s.convertToNoDocument(Ot.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Zf(this.mutations,e.mutations,(n,i)=>$N(n,i))&&Zf(this.baseMutations,e.baseMutations,(n,i)=>$N(n,i))}}class hA{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Er(e.mutations.length===i.length);let a=function(){return TW}();const o=e.mutations;for(let s=0;s<o.length;s++)a=a.insert(o[s].key,i[s].version);return new hA(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,rr;function qW(r){switch(r){default:return Tt();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0}}function vL(r){if(r===void 0)return Ml("GRPC error has no .code"),je.UNKNOWN;switch(r){case Mn.OK:return je.OK;case Mn.CANCELLED:return je.CANCELLED;case Mn.UNKNOWN:return je.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return je.INTERNAL;case Mn.UNAVAILABLE:return je.UNAVAILABLE;case Mn.UNAUTHENTICATED:return je.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case Mn.NOT_FOUND:return je.NOT_FOUND;case Mn.ALREADY_EXISTS:return je.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return je.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case Mn.ABORTED:return je.ABORTED;case Mn.OUT_OF_RANGE:return je.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return je.UNIMPLEMENTED;case Mn.DATA_LOSS:return je.DATA_LOSS;default:return Tt()}}(rr=Mn||(Mn={}))[rr.OK=0]="OK",rr[rr.CANCELLED=1]="CANCELLED",rr[rr.UNKNOWN=2]="UNKNOWN",rr[rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rr[rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rr[rr.NOT_FOUND=5]="NOT_FOUND",rr[rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",rr[rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",rr[rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",rr[rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rr[rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rr[rr.ABORTED=10]="ABORTED",rr[rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",rr[rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",rr[rr.INTERNAL=13]="INTERNAL",rr[rr.UNAVAILABLE=14]="UNAVAILABLE",rr[rr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW=new ud([4294967295,4294967295],0);function qN(r){const e=WW().encode(r),n=new $6;return n.update(e),new Uint8Array(n.digest())}function WN(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ud([n,i],0),new ud([a,o],0)]}class pA{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new jp(`Invalid padding: ${n}`);if(i<0)throw new jp(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new jp(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new jp(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ud.fromNumber(this.Ie)}Ee(e,n,i){let a=e.add(n.multiply(ud.fromNumber(i)));return a.compare(HW)===1&&(a=new ud([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=qN(e),[i,a]=WN(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,a,o);if(!this.de(s))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new pA(o,a,n);return i.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=qN(e),[i,a]=WN(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,a,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class jp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,i,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,og.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new p1(Ot.min(),a,new cn(ur),Fl(),Gt())}}class og{constructor(e,n,i,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new og(i,n,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,i,a){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=a}}class yL{constructor(e,n){this.targetId=e,this.me=n}}class wL{constructor(e,n,i=ki.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class HN{constructor(){this.fe=0,this.ge=GN(),this.pe=ki.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Gt(),n=Gt(),i=Gt();return this.ge.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Tt()}}),new og(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=GN()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Er(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class KW{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fl(),this.qe=KN(),this.Qe=new cn(ur)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:Tt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,a)=>{this.ze(a)&&n(a)})}He(e){const n=e.targetId,i=e.me.count,a=this.Je(n);if(a){const o=a.target;if(Cx(o))if(i===0){const s=new pt(o.path);this.Ue(n,s,zi.newNoDocument(s,Ot.min()))}else Er(i===1);else{const s=this.Ye(n);if(s!==i){const l=this.Ze(e),c=l?this.Xe(l,e,s):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=n;let s,l;try{s=Ad(i).toUint8Array()}catch(c){if(c instanceof Q6)return Xf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new pA(s,a,o)}catch(c){return Xf(c instanceof jp?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let a=0;return i.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),a++)}),a}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&Cx(l.target)){const c=new pt(l.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,zi.newNoDocument(c,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let i=Gt();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const a=new p1(e,n,this.Qe,this.ke,i);return this.ke=Fl(),this.qe=KN(),this.Qe=new cn(ur),a}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new HN,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Si(ur),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Je("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new HN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function KN(){return new cn(pt.comparator)}function GN(){return new cn(pt.comparator)}const GW={asc:"ASCENDING",desc:"DESCENDING"},YW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QW={and:"AND",or:"OR"};class XW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ox(r,e){return r.useProto3Json||l1(e)?e:{value:e}}function zy(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bL(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ZW(r,e){return zy(r,e.toTimestamp())}function Vs(r){return Er(!!r),Ot.fromTimestamp(function(n){const i=su(n);return new Qn(i.seconds,i.nanos)}(r))}function mA(r,e){return Lx(r,e).canonicalString()}function Lx(r,e){const n=function(a){return new Wr(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?n:n.child(e)}function xL(r){const e=Wr.fromString(r);return Er(kL(e)),e}function Dx(r,e){return mA(r.databaseId,e.path)}function bw(r,e){const n=xL(e);if(n.get(1)!==r.databaseId.projectId)throw new Ke(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ke(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(AL(n))}function _L(r,e){return mA(r.databaseId,e)}function JW(r){const e=xL(r);return e.length===4?Wr.emptyPath():AL(e)}function Rx(r){return new Wr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function AL(r){return Er(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function YN(r,e,n){return{name:Dx(r,e),fields:n.value.mapValue.fields}}function eH(r,e){let n;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Tt()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Er(d===void 0||typeof d=="string"),ki.fromBase64String(d||"")):(Er(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ki.fromUint8Array(d||new Uint8Array))}(r,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(u){const d=u.code===void 0?je.UNKNOWN:vL(u.code);return new Ke(d,u.message||"")}(s);n=new wL(i,a,o,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=bw(r,i.document.name),o=Vs(i.document.updateTime),s=i.document.createTime?Vs(i.document.createTime):Ot.min(),l=new ya({mapValue:{fields:i.document.fields}}),c=zi.newFoundDocument(a,o,s,l),u=i.targetIds||[],d=i.removedTargetIds||[];n=new ty(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=bw(r,i.document),o=i.readTime?Vs(i.readTime):Ot.min(),s=zi.newNoDocument(a,o),l=i.removedTargetIds||[];n=new ty([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=bw(r,i.document),o=i.removedTargetIds||[];n=new ty([],o,a,null)}else{if(!("filter"in e))return Tt();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,s=new VW(a,o),l=i.targetId;n=new yL(l,s)}}return n}function tH(r,e){let n;if(e instanceof ag)n={update:YN(r,e.key,e.value)};else if(e instanceof fA)n={delete:Dx(r,e.key)};else if(e instanceof xu)n={update:YN(r,e.key,e.data),updateMask:uH(e.fieldMask)};else{if(!(e instanceof UW))return Tt();n={verify:Dx(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const l=s.transform;if(l instanceof Uy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Cm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Im)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof $y)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw Tt()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:ZW(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Tt()}(r,e.precondition)),n}function rH(r,e){return r&&r.length>0?(Er(e!==void 0),r.map(n=>function(a,o){let s=a.updateTime?Vs(a.updateTime):Vs(o);return s.isEqual(Ot.min())&&(s=Vs(o)),new MW(s,a.transformResults||[])}(n,e))):[]}function nH(r,e){return{documents:[_L(r,e.path)]}}function iH(r,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=_L(r,a);const o=function(u){if(u.length!==0)return EL(ls.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:lf(h.field),direction:sH(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Ox(r,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:a}}function aH(r){let e=JW(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Er(i===1);const d=n.from[0];d.allDescendants?a=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=SL(f);return h instanceof ls&&eL(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(y){return new Tm(cf(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,l1(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,p=f.values||[];return new By(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new By(p,h)}(n.endAt)),SW(e,a,s,o,l,"F",c,u)}function oH(r,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SL(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=cf(n.unaryFilter.field);return Un.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=cf(n.unaryFilter.field);return Un.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cf(n.unaryFilter.field);return Un.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=cf(n.unaryFilter.field);return Un.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}(r):r.fieldFilter!==void 0?function(n){return Un.create(cf(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ls.create(n.compositeFilter.filters.map(i=>SL(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt()}}(n.compositeFilter.op))}(r):Tt()}function sH(r){return GW[r]}function lH(r){return YW[r]}function cH(r){return QW[r]}function lf(r){return{fieldPath:r.canonicalString()}}function cf(r){return _i.fromServerFormat(r.fieldPath)}function EL(r){return r instanceof Un?function(n){if(n.op==="=="){if(DN(n.value))return{unaryFilter:{field:lf(n.field),op:"IS_NAN"}};if(LN(n.value))return{unaryFilter:{field:lf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DN(n.value))return{unaryFilter:{field:lf(n.field),op:"IS_NOT_NAN"}};if(LN(n.value))return{unaryFilter:{field:lf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lf(n.field),op:lH(n.op),value:n.value}}}(r):r instanceof ls?function(n){const i=n.getFilters().map(a=>EL(a));return i.length===1?i[0]:{compositeFilter:{op:cH(n.op),filters:i}}}(r):Tt()}function uH(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kL(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,i,a,o=Ot.min(),s=Ot.min(),l=ki.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Mc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e){this.ct=e}}function fH(r){const e=aH({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(){this.un=new pH}addToCollectionParentIndex(e,n){return this.un.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(ou.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(ou.min())}updateCollectionGroup(e,n,i){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class pH{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Si(Wr.comparator),o=!a.has(i);return this.index[n]=a.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Si(Wr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new th(0)}static kn(){return new th(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(){this.changes=new kh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?De.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&Yp(i.mutation,a,Xa.empty(),Qn.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Gt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Gt()){const a=td();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(o=>{let s=Ip();return o.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const i=td();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Gt()))}populateOverlays(e,n,i){const a=[];return i.forEach(o=>{n.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,i,a){let o=Fl();const s=Gp(),l=function(){return Gp()}();return n.forEach((c,u)=>{const d=i.get(u.key);a.has(u.key)&&(d===void 0||d.mutation instanceof xu)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Yp(d.mutation,u,d.mutation.getFieldMask(),Qn.now())):s.set(u.key,Xa.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new gH(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const i=Gp();let a=new cn((s,l)=>s-l),o=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=i.get(c)||Xa.empty();d=l.applyToLocalView(u,d),i.set(c,d);const f=(a.get(l.batchId)||Gt()).add(c);a=a.insert(l.batchId,f)})}).next(()=>{const s=[],l=a.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=cL();d.forEach(h=>{if(!o.has(h)){const p=mL(n.get(h),i.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return De.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(o=>{const s=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-o.size):De.resolve(td());let l=-1,c=o;return s.next(u=>De.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),o.get(d)?De.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Gt())).next(d=>({batchId:l,changes:lL(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pt(n)).next(i=>{let a=Ip();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const o=n.collectionGroup;let s=Ip();return this.indexManager.getCollectionParents(e,o).next(l=>De.forEach(l,c=>{const u=function(f,h){return new Eh(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,i,a).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,a))).next(s=>{o.forEach((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,zi.newInvalidDocument(d)))});let l=Ip();return s.forEach((c,u)=>{const d=o.get(c);d!==void 0&&Yp(d.mutation,u,Xa.empty(),Qn.now()),d1(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return De.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Vs(a.createTime)}}(n)),De.resolve()}getNamedQuery(e,n){return De.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(a){return{name:a.name,query:fH(a.bundledQuery),readTime:Vs(a.readTime)}}(n)),De.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(){this.overlays=new cn(pt.comparator),this.Ir=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const i=td();return De.forEach(n,a=>this.getOverlay(e,a).next(o=>{o!==null&&i.set(a,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,o)=>{this.ht(e,n,o)}),De.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Ir.get(i);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),De.resolve()}getOverlaysForCollection(e,n,i){const a=td(),o=n.length+1,s=new pt(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>i&&a.set(c.getKey(),c)}return De.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let o=new cn((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let d=o.get(u.largestBatchId);d===null&&(d=td(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=td(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=a)););return De.resolve(l)}ht(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const s=this.Ir.get(a.largestBatchId).delete(i.key);this.Ir.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new zW(n,i));let o=this.Ir.get(n);o===void 0&&(o=Gt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(){this.sessionToken=ki.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,De.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.Tr=new Si(ai.Er),this.dr=new Si(ai.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new ai(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new ai(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new pt(new Wr([])),i=new ai(n,e),a=new ai(n,e+1),o=[];return this.dr.forEachInRange([i,a],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new pt(new Wr([])),i=new ai(n,e),a=new ai(n,e+1);let o=Gt();return this.dr.forEachInRange([i,a],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ai(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ai{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pt.comparator(e.key,n.key)||ur(e.wr,n.wr)}static Ar(e,n){return ur(e.wr,n.wr)||pt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Si(ai.Er)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new $W(o,n,i,a);this.mutationQueue.push(s);for(const l of a)this.br=this.br.add(new ai(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return De.resolve(s)}lookupMutationBatch(e,n){return De.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.vr(i),o=a<0?0:a;return De.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ai(n,0),a=new ai(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,a],s=>{const l=this.Dr(s.wr);o.push(l)}),De.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Si(ur);return n.forEach(a=>{const o=new ai(a,0),s=new ai(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],l=>{i=i.add(l.wr)})}),De.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let o=i;pt.isDocumentKey(o)||(o=o.child(""));const s=new ai(new pt(o),0);let l=new Si(ur);return this.br.forEachWhile(c=>{const u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===a&&(l=l.add(c.wr)),!0)},s),De.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(i=>{const a=this.Dr(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Er(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return De.forEach(n.mutations,a=>{const o=new ai(a.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new ai(n,0),a=this.br.firstAfterOrEqual(i);return De.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e){this.Mr=e,this.docs=function(){return new cn(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),o=a?a.size:0,s=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return De.resolve(i?i.document.mutableCopy():zi.newInvalidDocument(n))}getEntries(e,n){let i=Fl();return n.forEach(a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():zi.newInvalidDocument(a))}),De.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let o=Fl();const s=n.path,l=new pt(s.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||aW(iW(d),i)<=0||(a.has(d.key)||d1(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return De.resolve(o)}getAllFromCollectionGroup(e,n,i,a){Tt()}Or(e,n){return De.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new AH(this)}getSize(e){return De.resolve(this.size)}}class AH extends mH{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.cr.addEntry(e,a)):this.cr.removeEntry(i)}),De.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e){this.persistence=e,this.Nr=new kh(n=>cA(n),uA),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gA,this.targetCount=0,this.kr=th.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,a)=>n(a)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),De.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new th(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.Kn(n),De.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,i){let a=0;const o=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),a++)}),De.waitFor(o).next(()=>a)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return De.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),De.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach(s=>{o.push(a.markPotentiallyOrphaned(e,s))}),De.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),De.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return De.resolve(i)}containsKey(e,n){return De.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,n){this.qr={},this.overlays={},this.Qr=new aA(0),this.Kr=!1,this.Kr=!0,this.$r=new bH,this.referenceDelegate=e(this),this.Ur=new SH(this),this.indexManager=new hH,this.remoteDocumentCache=function(a){return new _H(a)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new dH(n),this.Gr=new yH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new xH(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){Je("MemoryPersistence","Starting transaction:",e);const a=new kH(this.Qr.next());return this.referenceDelegate.zr(),i(a).next(o=>this.referenceDelegate.jr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Hr(e,n){return De.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class kH extends sW{constructor(e){super(),this.currentSequenceNumber=e}}class vA{constructor(e){this.persistence=e,this.Jr=new gA,this.Yr=null}static Zr(e){return new vA(e)}get Xr(){if(this.Yr)return this.Yr;throw Tt()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),De.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),De.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(a=>this.Xr.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Xr,i=>{const a=pt.fromPath(i);return this.ei(e,a).next(o=>{o||n.removeEntry(a,Ot.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return De.or([()=>De.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=a}static Wi(e,n){let i=Gt(),a=Gt();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new yA(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return DV()?8:lW(OV())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,a){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,a,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new PH;return this.Xi(e,n,s).next(l=>{if(o.result=l,this.zi)return this.es(e,n,s,l.size)})}).next(()=>o.result)}es(e,n,i,a){return i.documentReadCount<this.ji?(fp()<=ar.DEBUG&&Je("QueryEngine","SDK will not create cache indexes for query:",sf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),De.resolve()):(fp()<=ar.DEBUG&&Je("QueryEngine","Query:",sf(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Hi*a?(fp()<=ar.DEBUG&&Je("QueryEngine","The SDK decides to create cache indexes for query:",sf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zs(n))):De.resolve())}Yi(e,n){if(BN(n))return De.resolve(null);let i=zs(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=jx(n,null,"F"),i=zs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=Gt(...o);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,i).next(c=>{const u=this.ts(n,l);return this.ns(n,u,s,c.readTime)?this.Yi(e,jx(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,i,a){return BN(n)||a.isEqual(Ot.min())?De.resolve(null):this.Ji.getDocuments(e,i).next(o=>{const s=this.ts(n,o);return this.ns(n,s,i,a)?De.resolve(null):(fp()<=ar.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),sf(n)),this.rs(e,s,n,nW(a,-1)).next(l=>l))})}ts(e,n){let i=new Si(oL(e));return n.forEach((a,o)=>{d1(e,o)&&(i=i.add(o))}),i}ns(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Xi(e,n,i){return fp()<=ar.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",sf(n)),this.Ji.getDocumentsMatchingQuery(e,n,ou.min(),i)}rs(e,n,i,a){return this.Ji.getDocumentsMatchingQuery(e,i,a).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,n,i,a){this.persistence=e,this.ss=n,this.serializer=a,this.os=new cn(ur),this._s=new kh(o=>cA(o),uA),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vH(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function CH(r,e,n,i){return new TH(r,e,n,i)}async function PL(r,e){const n=Rt(r);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(o=>(a=o,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],l=[];let c=Gt();for(const u of a){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(i,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:l}))})})}function IH(r,e){const n=Rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,h=f.keys();let p=De.resolve();return h.forEach(y=>{p=p.next(()=>d.getEntry(c,y)).next(w=>{const x=u.docVersions.get(y);Er(x!==null),w.version.compareTo(x)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let c=Gt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function NL(r){const e=Rt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function jH(r,e){const n=Rt(r),i=e.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const l=[];e.targetChanges.forEach((d,f)=>{const h=a.get(f);if(!h)return;l.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(ki.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,i)),a=a.insert(f,p),function(w,x,b){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,d)&&l.push(n.Ur.updateTargetData(o,p))});let c=Fl(),u=Gt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(OH(o,s,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!i.isEqual(Ot.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));l.push(d)}return De.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.os=a,o))}function OH(r,e,n){let i=Gt(),a=Gt();return n.forEach(o=>i=i.add(o)),e.getEntries(r,i).next(o=>{let s=Fl();return n.forEach((l,c)=>{const u=o.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(a=a.add(l)),c.isNoDocument()&&c.version.isEqual(Ot.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):Je("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:a}})}function LH(r,e){const n=Rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function DH(r,e){const n=Rt(r);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Ur.getTargetData(i,e).next(o=>o?(a=o,De.resolve(a)):n.Ur.allocateTargetId(i).next(s=>(a=new Mc(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.os.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function Mx(r,e,n){const i=Rt(r),a=i.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!ig(s))throw s;Je("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.os=i.os.remove(e),i._s.delete(a.target)}function QN(r,e,n){const i=Rt(r);let a=Ot.min(),o=Gt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){const f=Rt(c),h=f._s.get(d);return h!==void 0?De.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(i,s,zs(e)).next(l=>{if(l)return a=l.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,l.targetId).next(c=>{o=c})}).next(()=>i.ss.getDocumentsMatchingQuery(s,e,n?a:Ot.min(),n?o:Gt())).next(l=>(RH(i,kW(e),l),{documents:l,Ts:o})))}function RH(r,e,n){let i=r.us.get(e)||Ot.min();n.forEach((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),r.us.set(e,i)}class XN{constructor(){this.activeTargetIds=jW()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MH{constructor(){this.so=new XN,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new XN,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fv=null;function xw(){return fv===null?fv=function(){return 268435456+Math.round(2147483648*Math.random())}():fv++,"0x"+fv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="WebChannelConnection";class $H extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${a}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${o}`}get Fo(){return!1}Mo(n,i,a,o,s){const l=xw(),c=this.xo(n,i.toUriEncodedString());Je("RestConnection",`Sending RPC '${n}' ${l}:`,c,a);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,c,u,a).then(d=>(Je("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Xf("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",a),d})}Lo(n,i,a,o,s,l){return this.Mo(n,i,a,o,s)}Oo(n,i,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),a&&a.headers.forEach((o,s)=>n[s]=o)}xo(n,i){const a=BH[n];return`${this.Do}/v1/${i}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,a){const o=xw();return new Promise((s,l)=>{const c=new z6;c.setWithCredentials(!0),c.listenOnce(V6.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Zv.NO_ERROR:const d=c.getResponseJson();Je(Li,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Zv.TIMEOUT:Je(Li,`RPC '${e}' ${o} timed out`),l(new Ke(je.DEADLINE_EXCEEDED,"Request time out"));break;case Zv.HTTP_ERROR:const f=c.getStatus();if(Je(Li,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const y=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(b)>=0?b:je.UNKNOWN}(p.status);l(new Ke(y,p.message))}else l(new Ke(je.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ke(je.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{Je(Li,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(a);Je(Li,`RPC '${e}' ${o} sending request:`,a),c.send(n,"POST",u,i,15)})}Bo(e,n,i){const a=xw(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=H6(),l=W6(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;const d=o.join("");Je(Li,`Creating RPC '${e}' stream ${a}: ${d}`,c);const f=s.createWebChannel(d,c);let h=!1,p=!1;const y=new UH({Io:x=>{p?Je(Li,`Not sending because RPC '${e}' stream ${a} is closed:`,x):(h||(Je(Li,`Opening RPC '${e}' stream ${a} transport.`),f.open(),h=!0),Je(Li,`RPC '${e}' stream ${a} sending:`,x),f.send(x))},To:()=>f.close()}),w=(x,b,S)=>{x.listen(b,A=>{try{S(A)}catch(I){setTimeout(()=>{throw I},0)}})};return w(f,Cp.EventType.OPEN,()=>{p||(Je(Li,`RPC '${e}' stream ${a} transport opened.`),y.yo())}),w(f,Cp.EventType.CLOSE,()=>{p||(p=!0,Je(Li,`RPC '${e}' stream ${a} transport closed`),y.So())}),w(f,Cp.EventType.ERROR,x=>{p||(p=!0,Xf(Li,`RPC '${e}' stream ${a} transport errored:`,x),y.So(new Ke(je.UNAVAILABLE,"The operation could not be completed")))}),w(f,Cp.EventType.MESSAGE,x=>{var b;if(!p){const S=x.data[0];Er(!!S);const A=S,I=A.error||((b=A[0])===null||b===void 0?void 0:b.error);if(I){Je(Li,`RPC '${e}' stream ${a} received error:`,I);const B=I.status;let $=function(O){const U=Mn[O];if(U!==void 0)return vL(U)}(B),D=I.message;$===void 0&&($=je.INTERNAL,D="Unknown error status: "+B+" with message "+I.message),p=!0,y.So(new Ke($,D)),f.close()}else Je(Li,`RPC '${e}' stream ${a} received:`,S),y.bo(S)}}),w(l,q6.STAT_EVENT,x=>{x.stat===kx.PROXY?Je(Li,`RPC '${e}' stream ${a} detected buffering proxy`):x.stat===kx.NOPROXY&&Je(Li,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function _w(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(r){return new XW(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,i=1e3,a=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=a,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-i);a>0&&Je("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,i,a,o,s,l,c){this.ui=e,this.Ho=i,this.Jo=a,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new TL(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===je.RESOURCE_EXHAUSTED?(Ml(n.toString()),Ml("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Yo===n&&this.P_(i,a)},i=>{e(()=>{const a=new Ke(je.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(a)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{i(()=>this.I_(a))}),this.stream.onMessage(a=>{i(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zH extends CL{constructor(e,n,i,a,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=eH(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ot.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ot.min():s.readTime?Vs(s.readTime):Ot.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=Rx(this.serializer),n.addTarget=function(o,s){let l;const c=s.target;if(l=Cx(c)?{documents:nH(o,c)}:{query:iH(o,c)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=bL(o,s.resumeToken);const u=Ox(o,s.expectedCount);u!==null&&(l.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ot.min())>0){l.readTime=zy(o,s.snapshotVersion.toTimestamp());const u=Ox(o,s.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const i=oH(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=Rx(this.serializer),n.removeTarget=e,this.a_(n)}}class VH extends CL{constructor(e,n,i,a,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Er(!!e.streamToken),this.lastStreamToken=e.streamToken,Er(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Er(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=rH(e.writeResults,e.commitTime),i=Vs(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=Rx(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>tH(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH extends class{}{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Ke(je.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Lx(n,i),a,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(je.UNKNOWN,o.toString())})}Lo(e,n,i,a,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,Lx(n,i),a,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(je.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class WH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ml(n),this.D_=!1):Je("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,n,i,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{i.enqueueAndForget(async()=>{Bd(this)&&(Je("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Rt(c);u.L_.add(4),await sg(u),u.q_.set("Unknown"),u.L_.delete(4),await g1(u)}(this))})}),this.q_=new WH(i,a)}}async function g1(r){if(Bd(r))for(const e of r.B_)await e(!0)}async function sg(r){for(const e of r.B_)await e(!1)}function IL(r,e){const n=Rt(r);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),_A(n)?xA(n):Ph(n).r_()&&bA(n,e))}function wA(r,e){const n=Rt(r),i=Ph(n);n.N_.delete(e),i.r_()&&jL(n,e),n.N_.size===0&&(i.r_()?i.o_():Bd(n)&&n.q_.set("Unknown"))}function bA(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ot.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ph(r).A_(e)}function jL(r,e){r.Q_.xe(e),Ph(r).R_(e)}function xA(r){r.Q_=new KW({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Ph(r).start(),r.q_.v_()}function _A(r){return Bd(r)&&!Ph(r).n_()&&r.N_.size>0}function Bd(r){return Rt(r).L_.size===0}function OL(r){r.Q_=void 0}async function KH(r){r.q_.set("Online")}async function GH(r){r.N_.forEach((e,n)=>{bA(r,e)})}async function YH(r,e){OL(r),_A(r)?(r.q_.M_(e),xA(r)):r.q_.set("Unknown")}async function QH(r,e,n){if(r.q_.set("Online"),e instanceof wL&&e.state===2&&e.cause)try{await async function(a,o){const s=o.cause;for(const l of o.targetIds)a.N_.has(l)&&(await a.remoteSyncer.rejectListen(l,s),a.N_.delete(l),a.Q_.removeTarget(l))}(r,e)}catch(i){Je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Vy(r,i)}else if(e instanceof ty?r.Q_.Ke(e):e instanceof yL?r.Q_.He(e):r.Q_.We(e),!n.isEqual(Ot.min()))try{const i=await NL(r.localStore);n.compareTo(i)>=0&&await function(o,s){const l=o.Q_.rt(s);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,u)=>{const d=o.N_.get(c);if(!d)return;o.N_.set(c,d.withResumeToken(ki.EMPTY_BYTE_STRING,d.snapshotVersion)),jL(o,c);const f=new Mc(d.target,c,u,d.sequenceNumber);bA(o,f)}),o.remoteSyncer.applyRemoteEvent(l)}(r,n)}catch(i){Je("RemoteStore","Failed to raise snapshot:",i),await Vy(r,i)}}async function Vy(r,e,n){if(!ig(e))throw e;r.L_.add(1),await sg(r),r.q_.set("Offline"),n||(n=()=>NL(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Je("RemoteStore","Retrying IndexedDB access"),await n(),r.L_.delete(1),await g1(r)})}function LL(r,e){return e().catch(n=>Vy(r,n,e))}async function v1(r){const e=Rt(r),n=lu(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;XH(e);)try{const a=await LH(e.localStore,i);if(a===null){e.O_.length===0&&n.o_();break}i=a.batchId,ZH(e,a)}catch(a){await Vy(e,a)}DL(e)&&RL(e)}function XH(r){return Bd(r)&&r.O_.length<10}function ZH(r,e){r.O_.push(e);const n=lu(r);n.r_()&&n.V_&&n.m_(e.mutations)}function DL(r){return Bd(r)&&!lu(r).n_()&&r.O_.length>0}function RL(r){lu(r).start()}async function JH(r){lu(r).p_()}async function eK(r){const e=lu(r);for(const n of r.O_)e.m_(n.mutations)}async function tK(r,e,n){const i=r.O_.shift(),a=hA.from(i,e,n);await LL(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await v1(r)}async function rK(r,e){e&&lu(r).V_&&await async function(i,a){if(function(s){return qW(s)&&s!==je.ABORTED}(a.code)){const o=i.O_.shift();lu(i).s_(),await LL(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a)),await v1(i)}}(r,e),DL(r)&&RL(r)}async function JN(r,e){const n=Rt(r);n.asyncQueue.verifyOperationInProgress(),Je("RemoteStore","RemoteStore received new credentials");const i=Bd(n);n.L_.add(3),await sg(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await g1(n)}async function nK(r,e){const n=Rt(r);e?(n.L_.delete(2),await g1(n)):e||(n.L_.add(2),await sg(n),n.q_.set("Unknown"))}function Ph(r){return r.K_||(r.K_=function(n,i,a){const o=Rt(n);return o.w_(),new zH(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(r.datastore,r.asyncQueue,{Eo:KH.bind(null,r),Ro:GH.bind(null,r),mo:YH.bind(null,r),d_:QH.bind(null,r)}),r.B_.push(async e=>{e?(r.K_.s_(),_A(r)?xA(r):r.q_.set("Unknown")):(await r.K_.stop(),OL(r))})),r.K_}function lu(r){return r.U_||(r.U_=function(n,i,a){const o=Rt(n);return o.w_(),new VH(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:JH.bind(null,r),mo:rK.bind(null,r),f_:eK.bind(null,r),g_:tK.bind(null,r)}),r.B_.push(async e=>{e?(r.U_.s_(),await v1(r)):(await r.U_.stop(),r.O_.length>0&&(Je("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,i,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,o){const s=Date.now()+i,l=new AA(e,n,s,a,o);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function SA(r,e){if(Ml("AsyncQueue",`${e}: ${r}`),ig(r))return new Ke(je.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this.comparator=e?(n,i)=>e(n,i)||pt.comparator(n.key,i.key):(n,i)=>pt.comparator(n.key,i.key),this.keyedMap=Ip(),this.sortedSet=new cn(this.comparator)}static emptySet(e){return new Df(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Df)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Df;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.W_=new cn(pt.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Tt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class rh{constructor(e,n,i,a,o,s,l,c,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,a,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new rh(e,n,Df.emptySet(n),s,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&u1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class aK{constructor(){this.queries=tT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const a=Rt(n),o=a.queries;a.queries=tT(),o.forEach((s,l)=>{for(const c of l.j_)c.onError(i)})})(this,new Ke(je.ABORTED,"Firestore shutting down"))}}function tT(){return new kh(r=>aL(r),u1)}async function EA(r,e){const n=Rt(r);let i=3;const a=e.query;let o=n.queries.get(a);o?!o.H_()&&e.J_()&&(i=2):(o=new iK,i=e.J_()?0:1);try{switch(i){case 0:o.z_=await n.onListen(a,!0);break;case 1:o.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(s){const l=SA(s,`Initialization of query '${sf(e.query)}' failed`);return void e.onError(l)}n.queries.set(a,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&PA(n)}async function kA(r,e){const n=Rt(r),i=e.query;let a=3;const o=n.queries.get(i);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?a=e.J_()?0:1:!o.H_()&&e.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function oK(r,e){const n=Rt(r);let i=!1;for(const a of e){const o=a.query,s=n.queries.get(o);if(s){for(const l of s.j_)l.X_(a)&&(i=!0);s.z_=a}}i&&PA(n)}function sK(r,e,n){const i=Rt(r),a=i.queries.get(e);if(a)for(const o of a.j_)o.onError(n);i.queries.delete(e)}function PA(r){r.Y_.forEach(e=>{e.next()})}var Fx,rT;(rT=Fx||(Fx={})).ea="default",rT.Cache="cache";class NA{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new rh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.key=e}}class FL{constructor(e){this.key=e}}class lK{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Gt(),this.mutatedKeys=Gt(),this.Aa=oL(e),this.Ra=new Df(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new eT,a=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=a,l=!1;const c=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,u=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((d,f)=>{const h=a.get(d),p=d1(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?y!==w&&(i.track({type:3,doc:p}),x=!0):this.ga(h,p)||(i.track({type:2,doc:p}),x=!0,(c&&this.Aa(p,c)>0||u&&this.Aa(p,u)<0)&&(l=!0)):!h&&p?(i.track({type:0,doc:p}),x=!0):h&&!p&&(i.track({type:1,doc:h}),x=!0,(c||u)&&(l=!0)),x&&(p?(s=s.add(p),o=w?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),i.track({type:1,doc:d})}return{Ra:s,fa:i,ns:l,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,f)=>function(p,y){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return w(p)-w(y)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(i),a=a!=null&&a;const l=n&&!a?this.ya():[],c=this.da.size===0&&this.current&&!a?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new rh(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new eT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Gt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new FL(i))}),this.da.forEach(i=>{e.has(i)||n.push(new ML(i))}),n}ba(e){this.Ta=e.Ts,this.da=Gt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return rh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class cK{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class uK{constructor(e){this.key=e,this.va=!1}}class dK{constructor(e,n,i,a,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new kh(l=>aL(l),u1),this.Ma=new Map,this.xa=new Set,this.Oa=new cn(pt.comparator),this.Na=new Map,this.La=new gA,this.Ba={},this.ka=new Map,this.qa=th.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function fK(r,e,n=!0){const i=qL(r);let a;const o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Da()):a=await BL(i,e,n,!0),a}async function hK(r,e){const n=qL(r);await BL(n,e,!0,!1)}async function BL(r,e,n,i){const a=await DH(r.localStore,zs(e)),o=a.targetId,s=r.sharedClientState.addLocalQueryTarget(o,n);let l;return i&&(l=await pK(r,e,o,s==="current",a.resumeToken)),r.isPrimaryClient&&n&&IL(r.remoteStore,a),l}async function pK(r,e,n,i,a){r.Ka=(f,h,p)=>async function(w,x,b,S){let A=x.view.ma(b);A.ns&&(A=await QN(w.localStore,x.query,!1).then(({documents:D})=>x.view.ma(D,A)));const I=S&&S.targetChanges.get(x.targetId),B=S&&S.targetMismatches.get(x.targetId)!=null,$=x.view.applyChanges(A,w.isPrimaryClient,I,B);return iT(w,x.targetId,$.wa),$.snapshot}(r,f,h,p);const o=await QN(r.localStore,e,!0),s=new lK(e,o.Ts),l=s.ma(o.documents),c=og.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",a),u=s.applyChanges(l,r.isPrimaryClient,c);iT(r,n,u.wa);const d=new cK(e,n,s);return r.Fa.set(e,d),r.Ma.has(n)?r.Ma.get(n).push(e):r.Ma.set(n,[e]),u.snapshot}async function mK(r,e,n){const i=Rt(r),a=i.Fa.get(e),o=i.Ma.get(a.targetId);if(o.length>1)return i.Ma.set(a.targetId,o.filter(s=>!u1(s,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Mx(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&wA(i.remoteStore,a.targetId),Bx(i,a.targetId)}).catch(ng)):(Bx(i,a.targetId),await Mx(i.localStore,a.targetId,!0))}async function gK(r,e){const n=Rt(r),i=n.Fa.get(e),a=n.Ma.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),wA(n.remoteStore,i.targetId))}async function vK(r,e,n){const i=SK(r);try{const a=await function(s,l){const c=Rt(s),u=Qn.now(),d=l.reduce((p,y)=>p.add(y.key),Gt());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Fl(),w=Gt();return c.cs.getEntries(p,d).next(x=>{y=x,y.forEach((b,S)=>{S.isValidDocument()||(w=w.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(x=>{f=x;const b=[];for(const S of l){const A=BW(S,f.get(S.key).overlayedDocument);A!=null&&b.push(new xu(S.key,A,X6(A.value.mapValue),Io.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,b,l)}).next(x=>{h=x;const b=x.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(p,x.batchId,b)})}).then(()=>({batchId:h.batchId,changes:lL(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(s,l,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new cn(ur)),u=u.insert(l,c),s.Ba[s.currentUser.toKey()]=u}(i,a.batchId,n),await lg(i,a.changes),await v1(i.remoteStore)}catch(a){const o=SA(a,"Failed to persist write");n.reject(o)}}async function UL(r,e){const n=Rt(r);try{const i=await jH(n.localStore,e);e.targetChanges.forEach((a,o)=>{const s=n.Na.get(o);s&&(Er(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?s.va=!0:a.modifiedDocuments.size>0?Er(s.va):a.removedDocuments.size>0&&(Er(s.va),s.va=!1))}),await lg(n,i,e)}catch(i){await ng(i)}}function nT(r,e,n){const i=Rt(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Fa.forEach((o,s)=>{const l=s.view.Z_(e);l.snapshot&&a.push(l.snapshot)}),function(s,l){const c=Rt(s);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(l)&&(u=!0)}),u&&PA(c)}(i.eventManager,e),a.length&&i.Ca.d_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function yK(r,e,n){const i=Rt(r);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Na.get(e),o=a&&a.key;if(o){let s=new cn(pt.comparator);s=s.insert(o,zi.newNoDocument(o,Ot.min()));const l=Gt().add(o),c=new p1(Ot.min(),new Map,new cn(ur),s,l);await UL(i,c),i.Oa=i.Oa.remove(o),i.Na.delete(e),TA(i)}else await Mx(i.localStore,e,!1).then(()=>Bx(i,e,n)).catch(ng)}async function wK(r,e){const n=Rt(r),i=e.batch.batchId;try{const a=await IH(n.localStore,e);zL(n,i,null),$L(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await lg(n,a)}catch(a){await ng(a)}}async function bK(r,e,n){const i=Rt(r);try{const a=await function(s,l){const c=Rt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Er(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(i.localStore,e);zL(i,e,n),$L(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await lg(i,a)}catch(a){await ng(a)}}function $L(r,e){(r.ka.get(e)||[]).forEach(n=>{n.resolve()}),r.ka.delete(e)}function zL(r,e,n){const i=Rt(r);let a=i.Ba[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),i.Ba[i.currentUser.toKey()]=a}}function Bx(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Ma.get(e))r.Fa.delete(i),n&&r.Ca.$a(i,n);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(i=>{r.La.containsKey(i)||VL(r,i)})}function VL(r,e){r.xa.delete(e.path.canonicalString());const n=r.Oa.get(e);n!==null&&(wA(r.remoteStore,n),r.Oa=r.Oa.remove(e),r.Na.delete(n),TA(r))}function iT(r,e,n){for(const i of n)i instanceof ML?(r.La.addReference(i.key,e),xK(r,i)):i instanceof FL?(Je("SyncEngine","Document no longer in limbo: "+i.key),r.La.removeReference(i.key,e),r.La.containsKey(i.key)||VL(r,i.key)):Tt()}function xK(r,e){const n=e.key,i=n.path.canonicalString();r.Oa.get(n)||r.xa.has(i)||(Je("SyncEngine","New document in limbo: "+n),r.xa.add(i),TA(r))}function TA(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const n=new pt(Wr.fromString(e)),i=r.qa.next();r.Na.set(i,new uK(n)),r.Oa=r.Oa.insert(n,i),IL(r.remoteStore,new Mc(zs(c1(n.path)),i,"TargetPurposeLimboResolution",aA.oe))}}async function lg(r,e,n){const i=Rt(r),a=[],o=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((l,c)=>{s.push(i.Ka(c,e,n).then(u=>{var d;if((u||n)&&i.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){a.push(u);const f=yA.Wi(c.targetId,u);o.push(f)}}))}),await Promise.all(s),i.Ca.d_(a),await async function(c,u){const d=Rt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>De.forEach(u,h=>De.forEach(h.$i,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>De.forEach(h.Ui,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!ig(f))throw f;Je("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.os.get(h),y=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(h,w)}}}(i.localStore,o))}async function _K(r,e){const n=Rt(r);if(!n.currentUser.isEqual(e)){Je("SyncEngine","User change. New user:",e.toKey());const i=await PL(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(l=>{l.forEach(c=>{c.reject(new Ke(je.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await lg(n,i.hs)}}function AK(r,e){const n=Rt(r),i=n.Na.get(e);if(i&&i.va)return Gt().add(i.key);{let a=Gt();const o=n.Ma.get(e);if(!o)return a;for(const s of o){const l=n.Fa.get(s);a=a.unionWith(l.view.Va)}return a}}function qL(r){const e=Rt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=UL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yK.bind(null,e),e.Ca.d_=oK.bind(null,e.eventManager),e.Ca.$a=sK.bind(null,e.eventManager),e}function SK(r){const e=Rt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bK.bind(null,e),e}class qy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=m1(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return CH(this.persistence,new NH,e.initialUser,this.serializer)}Ga(e){return new EH(vA.Zr,this.serializer)}Wa(e){return new MH}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qy.provider={build:()=>new qy};class Ux{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_K.bind(null,this.syncEngine),await nK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aK}()}createDatastore(e){const n=m1(e.databaseInfo.databaseId),i=function(o){return new $H(o)}(e.databaseInfo);return function(o,s,l,c){return new qH(o,s,l,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,o,s,l){return new HH(i,a,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>nT(this.syncEngine,n,0),function(){return ZN.D()?new ZN:new FH}())}createSyncEngine(e,n){return function(a,o,s,l,c,u,d){const f=new dK(a,o,s,l,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const o=Rt(a);Je("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await sg(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ux.provider={build:()=>new Ux};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ml("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e,n,i,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Ui.UNAUTHENTICATED,this.clientId=G6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async s=>{Je("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(Je("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=SA(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Aw(r,e){r.asyncQueue.verifyOperationInProgress(),Je("FirestoreClient","Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener(async a=>{i.isEqual(a)||(await PL(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function aT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await kK(r);Je("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(i=>JN(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,a)=>JN(e.remoteStore,a)),r._onlineComponents=e}async function kK(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Je("FirestoreClient","Using user provided OfflineComponentProvider");try{await Aw(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===je.FAILED_PRECONDITION||a.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Xf("Error using user provided cache. Falling back to memory cache: "+n),await Aw(r,new qy)}}else Je("FirestoreClient","Using default OfflineComponentProvider"),await Aw(r,new qy);return r._offlineComponents}async function WL(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Je("FirestoreClient","Using user provided OnlineComponentProvider"),await aT(r,r._uninitializedComponentsProvider._online)):(Je("FirestoreClient","Using default OnlineComponentProvider"),await aT(r,new Ux))),r._onlineComponents}function PK(r){return WL(r).then(e=>e.syncEngine)}async function Wy(r){const e=await WL(r),n=e.eventManager;return n.onListen=fK.bind(null,e.syncEngine),n.onUnlisten=mK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gK.bind(null,e.syncEngine),n}function NK(r,e,n={}){const i=new Tl;return r.asyncQueue.enqueueAndForget(async()=>function(o,s,l,c,u){const d=new CA({next:h=>{d.Za(),s.enqueueAndForget(()=>kA(o,f));const p=h.docs.has(l);!p&&h.fromCache?u.reject(new Ke(je.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?u.reject(new Ke(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new NA(c1(l.path),d,{includeMetadataChanges:!0,_a:!0});return EA(o,f)}(await Wy(r),r.asyncQueue,e,n,i)),i.promise}function TK(r,e,n={}){const i=new Tl;return r.asyncQueue.enqueueAndForget(async()=>function(o,s,l,c,u){const d=new CA({next:h=>{d.Za(),s.enqueueAndForget(()=>kA(o,f)),h.fromCache&&c.source==="server"?u.reject(new Ke(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new NA(l,d,{includeMetadataChanges:!0,_a:!0});return EA(o,f)}(await Wy(r),r.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(r,e,n){if(!n)throw new Ke(je.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function CK(r,e,n,i){if(e===!0&&i===!0)throw new Ke(je.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function sT(r){if(!pt.isDocumentKey(r))throw new Ke(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lT(r){if(pt.isDocumentKey(r))throw new Ke(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function y1(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Tt()}function Sa(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ke(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=y1(r);throw new Ke(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ke(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HL((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ke(je.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ke(je.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ke(je.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class w1{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Gq;switch(i.type){case"firstParty":return new Zq(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ke(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=oT.get(n);i&&(Je("ComponentProvider","Removing Datastore"),oT.delete(n),i.terminate())}(this),Promise.resolve()}}function IK(r,e,n,i={}){var a;const o=(r=Sa(r,w1))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Xf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let l,c;if(typeof i.mockUserToken=="string")l=i.mockUserToken,c=Ui.MOCK_USER;else{l=C6(i.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Ke(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ui(u)}r._authCredentials=new Yq(new K6(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _u(this.firestore,e,this._query)}}class Wi{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wi(this.firestore,e,this._key)}}class Xc extends _u{constructor(e,n,i){super(e,n,c1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wi(this.firestore,null,new pt(e))}withConverter(e){return new Xc(this.firestore,e,this._path)}}function Ea(r,e,...n){if(r=ka(r),KL("collection","path",e),r instanceof w1){const i=Wr.fromString(e,...n);return lT(i),new Xc(r,null,i)}{if(!(r instanceof Wi||r instanceof Xc))throw new Ke(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Wr.fromString(e,...n));return lT(i),new Xc(r.firestore,null,i)}}function yn(r,e,...n){if(r=ka(r),arguments.length===1&&(e=G6.newId()),KL("doc","path",e),r instanceof w1){const i=Wr.fromString(e,...n);return sT(i),new Wi(r,null,new pt(i))}{if(!(r instanceof Wi||r instanceof Xc))throw new Ke(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Wr.fromString(e,...n));return sT(i),new Wi(r.firestore,r instanceof Xc?r.converter:null,new pt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new TL(this,"async_queue_retry"),this.Vu=()=>{const i=_w();i&&Je("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=_w();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=_w();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Tl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ig(e))throw e;Je("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const a=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(i);throw Ml("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const a=AA.createAndSchedule(this,e,n,i,o=>this.yu(o));return this.Tu.push(a),a}fu(){this.Eu&&Tt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function dT(r){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1}(r,["next","error","complete"])}class Bl extends w1{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new uT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uT(e),this._firestoreClient=void 0,await e}}}function jK(r,e){const n=typeof r=="object"?r:F6(),i=typeof r=="string"?r:"(default)",a=D6(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=N6("firestore");o&&IK(a,...o)}return a}function b1(r){if(r._terminated)throw new Ke(je.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||OK(r),r._firestoreClient}function OK(r){var e,n,i;const a=r._freezeSettings(),o=function(l,c,u,d){return new dW(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,HL(d.experimentalLongPollingOptions),d.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new EK(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nh(ki.fromBase64String(e))}catch(n){throw new Ke(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nh(ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ur(this._lat,e._lat)||ur(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK=/^__.*__$/;class DK{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new xu(e,this.data,this.fieldMask,n,this.fieldTransforms):new ag(e,this.data,n,this.fieldTransforms)}}class GL{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new xu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YL(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class LA{constructor(e,n,i,a,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new LA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:i,xu:!1});return a.Ou(e),a}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:i,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Hy(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(YL(this.Cu)&&LK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class RK{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||m1(e)}Qu(e,n,i,a=!1){return new LA({Cu:e,methodName:n,qu:i,path:_i.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _1(r){const e=r._freezeSettings(),n=m1(r._databaseId);return new RK(r._databaseId,!!e.ignoreUndefinedProperties,n)}function QL(r,e,n,i,a,o={}){const s=r.Qu(o.merge||o.mergeFields?2:0,e,n,a);DA("Data must be an object, but it was:",s,i);const l=XL(i,s);let c,u;if(o.merge)c=new Xa(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=$x(e,f,n);if(!s.contains(h))throw new Ke(je.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);JL(d,h)||d.push(h)}c=new Xa(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new DK(new ya(l),c,u)}class A1 extends IA{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof A1}}function MK(r,e,n,i){const a=r.Qu(1,e,n);DA("Data must be an object, but it was:",a,i);const o=[],s=ya.empty();Fd(i,(c,u)=>{const d=RA(e,c,n);u=ka(u);const f=a.Nu(d);if(u instanceof A1)o.push(d);else{const h=cg(u,f);h!=null&&(o.push(d),s.set(d,h))}});const l=new Xa(o);return new GL(s,l,a.fieldTransforms)}function FK(r,e,n,i,a,o){const s=r.Qu(1,e,n),l=[$x(e,i,n)],c=[a];if(o.length%2!=0)throw new Ke(je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)l.push($x(e,o[h])),c.push(o[h+1]);const u=[],d=ya.empty();for(let h=l.length-1;h>=0;--h)if(!JL(u,l[h])){const p=l[h];let y=c[h];y=ka(y);const w=s.Nu(p);if(y instanceof A1)u.push(p);else{const x=cg(y,w);x!=null&&(u.push(p),d.set(p,x))}}const f=new Xa(u);return new GL(d,f,s.fieldTransforms)}function BK(r,e,n,i=!1){return cg(n,r.Qu(i?4:3,e))}function cg(r,e){if(ZL(r=ka(r)))return DA("Unsupported field value:",e,r),XL(r,e);if(r instanceof IA)return function(i,a){if(!YL(a.Cu))throw a.Bu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,a){const o=[];let s=0;for(const l of i){let c=cg(l,a.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(r,e)}return function(i,a){if((i=ka(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return OW(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Qn.fromDate(i);return{timestampValue:zy(a.serializer,o)}}if(i instanceof Qn){const o=new Qn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zy(a.serializer,o)}}if(i instanceof jA)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof nh)return{bytesValue:bL(a.serializer,i._byteString)};if(i instanceof Wi){const o=a.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw a.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mA(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof OA)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return dA(l.serializer,c)})}}}}}}(i,a);throw a.Bu(`Unsupported field value: ${y1(i)}`)}(r,e)}function XL(r,e){const n={};return Y6(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fd(r,(i,a)=>{const o=cg(a,e.Mu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function ZL(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qn||r instanceof jA||r instanceof nh||r instanceof Wi||r instanceof IA||r instanceof OA)}function DA(r,e,n){if(!ZL(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=y1(n);throw i==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+i)}}function $x(r,e,n){if((e=ka(e))instanceof x1)return e._internalPath;if(typeof e=="string")return RA(r,e);throw Hy("Field path arguments must be of type string or ",r,!1,void 0,n)}const UK=new RegExp("[~\\*/\\[\\]]");function RA(r,e,n){if(e.search(UK)>=0)throw Hy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new x1(...e.split("."))._internalPath}catch{throw Hy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Hy(r,e,n,i,a){const o=i&&!i.isEmpty(),s=a!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${a}`),c+=")"),new Ke(je.INVALID_ARGUMENT,l+r+c)}function JL(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,i,a,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $K(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(S1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $K extends eD{data(){return super.data()}}function S1(r,e){return typeof e=="string"?RA(r,e):e instanceof x1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ke(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MA{}class rD extends MA{}function Ed(r,e,...n){let i=[];e instanceof MA&&i.push(e),i=i.concat(n),function(o){const s=o.filter(c=>c instanceof FA).length,l=o.filter(c=>c instanceof E1).length;if(s>1||s>0&&l>0)throw new Ke(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)r=a._apply(r);return r}class E1 extends rD{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new E1(e,n,i)}_apply(e){const n=this._parse(e);return nD(e._query,n),new _u(e.firestore,e.converter,Ix(e._query,n))}_parse(e){const n=_1(e.firestore);return function(o,s,l,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ke(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){hT(f,d);const p=[];for(const y of f)p.push(fT(c,o,y));h={arrayValue:{values:p}}}else h=fT(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||hT(f,d),h=BK(l,s,f,d==="in"||d==="not-in");return Un.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zc(r,e,n){const i=e,a=S1("where",r);return E1._create(a,i,n)}class FA extends MA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new FA(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ls.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,o){let s=a;const l=o.getFlattenedFilters();for(const c of l)nD(s,c),s=Ix(s,c)}(e._query,n),new _u(e.firestore,e.converter,Ix(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class BA extends rD{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new BA(e,n)}_apply(e){const n=function(a,o,s){if(a.startAt!==null)throw new Ke(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ke(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tm(o,s)}(e._query,this._field,this._direction);return new _u(e.firestore,e.converter,function(a,o){const s=a.explicitOrderBy.concat([o]);return new Eh(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function zx(r,e="asc"){const n=e,i=S1("orderBy",r);return BA._create(i,n)}function fT(r,e,n){if(typeof(n=ka(n))=="string"){if(n==="")throw new Ke(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iL(e)&&n.indexOf("/")!==-1)throw new Ke(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Wr.fromString(n));if(!pt.isDocumentKey(i))throw new Ke(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ON(r,new pt(i))}if(n instanceof Wi)return ON(r,n._key);throw new Ke(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${y1(n)}.`)}function hT(r,e){if(!Array.isArray(r)||r.length===0)throw new Ke(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nD(r,e){const n=function(a,o){for(const s of a)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(r.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ke(je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(je.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zK{convertValue(e,n="none"){switch(Sd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ad(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Fd(e,(a,o)=>{i[a]=this.convertValue(o,n)}),i}convertVectorValue(e){var n,i,a;const o=(a=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(s=>Tn(s.doubleValue));return new OA(o)}convertGeoPoint(e){return new jA(Tn(e.latitude),Tn(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=sA(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(km(e));default:return null}}convertTimestamp(e){const n=su(e);return new Qn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Wr.fromString(e);Er(kL(i));const a=new Pm(i.get(1),i.get(3)),o=new pt(i.popFirst(5));return a.isEqual(n)||Ml(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(r,e,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aD extends eD{constructor(e,n,i,a,o,s){super(e,n,i,a,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ry(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(S1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class ry extends aD{data(e={}){return super.data(e)}}class oD{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Op(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ry(this._firestore,this._userDataWriter,i.key,i,new Op(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(l=>{const c=new ry(a._firestore,a._userDataWriter,l.doc.key,l.doc,new Op(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new ry(a._firestore,a._userDataWriter,l.doc.key,l.doc,new Op(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);let u=-1,d=-1;return l.type!==0&&(u=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:VK(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VK(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(r){r=Sa(r,Wi);const e=Sa(r.firestore,Bl);return NK(b1(e),r._key).then(n=>lD(e,r,n))}class UA extends zK{constructor(e){super(),this.firestore=e}convertBytes(e){return new nh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wi(this.firestore,null,n)}}function qs(r){r=Sa(r,_u);const e=Sa(r.firestore,Bl),n=b1(e),i=new UA(e);return tD(r._query),TK(n,r._query).then(a=>new oD(e,i,r,a))}function jm(r,e,n){r=Sa(r,Wi);const i=Sa(r.firestore,Bl),a=iD(r.converter,e,n);return k1(i,[QL(_1(i),"setDoc",r._key,a,r.converter!==null,n).toMutation(r._key,Io.none())])}function eu(r,e,n,...i){r=Sa(r,Wi);const a=Sa(r.firestore,Bl),o=_1(a);let s;return s=typeof(e=ka(e))=="string"||e instanceof x1?FK(o,"updateDoc",r._key,e,n,i):MK(o,"updateDoc",r._key,e),k1(a,[s.toMutation(r._key,Io.exists(!0))])}function qK(r){return k1(Sa(r.firestore,Bl),[new fA(r._key,Io.none())])}function sD(r,e){const n=Sa(r.firestore,Bl),i=yn(r),a=iD(r.converter,e);return k1(n,[QL(_1(r.firestore),"addDoc",i._key,a,r.converter!==null,{}).toMutation(i._key,Io.exists(!1))]).then(()=>i)}function WK(r,...e){var n,i,a;r=ka(r);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||dT(e[s])||(o=e[s],s++);const l={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(dT(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[s+2]=(a=f.complete)===null||a===void 0?void 0:a.bind(f)}let c,u,d;if(r instanceof Wi)u=Sa(r.firestore,Bl),d=c1(r._key.path),c={next:f=>{e[s]&&e[s](lD(u,r,f))},error:e[s+1],complete:e[s+2]};else{const f=Sa(r,_u);u=Sa(f.firestore,Bl),d=f._query;const h=new UA(u);c={next:p=>{e[s]&&e[s](new oD(u,h,f,p))},error:e[s+1],complete:e[s+2]},tD(r._query)}return function(h,p,y,w){const x=new CA(w),b=new NA(p,x,y);return h.asyncQueue.enqueueAndForget(async()=>EA(await Wy(h),b)),()=>{x.Za(),h.asyncQueue.enqueueAndForget(async()=>kA(await Wy(h),b))}}(b1(u),d,l,c)}function k1(r,e){return function(i,a){const o=new Tl;return i.asyncQueue.enqueueAndForget(async()=>vK(await PK(i),a,o)),o.promise}(b1(r),e)}function lD(r,e,n){const i=n.docs.get(e._key),a=new UA(r);return new aD(r,a,e._key,i,new Op(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Sh=a})(R6),Am(new Qf("firestore",(i,{instanceIdentifier:a,options:o})=>{const s=i.getProvider("app").getImmediate(),l=new Bl(new Qq(i.getProvider("auth-internal")),new eW(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ke(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pm(u.options.projectId,d)}(s,a),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Qc(NN,"4.7.3",e),Qc(NN,"4.7.3","esm2017")})();var pT={REACT_APP_AZURE_CLIENT_ID:"21f52d49-5e17-4d39-b05c-8a3f355ecbc9",REACT_APP_AZURE_REDIRECT_URI:"http://localhost:3000/auth/callback"};const bc={clientId:pT.REACT_APP_AZURE_CLIENT_ID,redirectUri:pT.REACT_APP_AZURE_REDIRECT_URI,scopes:["https://graph.microsoft.com/Files.ReadWrite","https://graph.microsoft.com/Sites.ReadWrite.All","https://graph.microsoft.com/User.Read"],graphApiUrl:"https://graph.microsoft.com/v1.0",authUrl:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",tokenUrl:typeof window<"u"&&!window.location.href.includes("localhost")?`${window.location.protocol}//${window.location.host}/api/excel/token`:"http://localhost:3002/api/excel/token"};var HK="firebase",KK="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qc(HK,KK,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="firebasestorage.googleapis.com",uD="storageBucket",GK=2*60*1e3,YK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends Md{constructor(e,n,i=0){super(Sw(e),`Firebase Storage: ${n} (${Sw(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wn;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wn||(wn={}));function Sw(r){return"storage/"+r}function $A(){const r="An unknown error occurred, please check the error payload for server response.";return new bn(wn.UNKNOWN,r)}function QK(r){return new bn(wn.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function XK(r){return new bn(wn.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ZK(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bn(wn.UNAUTHENTICATED,r)}function JK(){return new bn(wn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eG(r){return new bn(wn.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function tG(){return new bn(wn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rG(){return new bn(wn.CANCELED,"User canceled the upload/download.")}function nG(r){return new bn(wn.INVALID_URL,"Invalid URL '"+r+"'.")}function iG(r){return new bn(wn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function aG(){return new bn(wn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uD+"' property when initializing the app?")}function oG(){return new bn(wn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sG(){return new bn(wn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lG(r){return new bn(wn.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vx(r){return new bn(wn.INVALID_ARGUMENT,r)}function dD(){return new bn(wn.APP_DELETED,"The Firebase app was deleted.")}function cG(r){return new bn(wn.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qp(r,e){return new bn(wn.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function hp(r){throw new bn(wn.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Za.makeFromUrl(e,n)}catch{return new Za(e,"")}if(i.path==="")return i;throw iG(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function o(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+a+s,"i"),c={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${a}/o${h}`,"i"),y={bucket:1,path:3},w=n===cD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",b=new RegExp(`^https?://${w}/${a}/${x}`,"i"),A=[{regex:l,indices:c,postModify:o},{regex:p,indices:y,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<A.length;I++){const B=A[I],$=B.regex.exec(e);if($){const D=$[B.indices.bucket];let j=$[B.indices.path];j||(j=""),i=new Za(D,j),B.postModify(i);break}}if(i==null)throw nG(e);return i}}class uG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(r,e,n){let i=1,a=null,o=null,s=!1,l=0;function c(){return l===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function f(x){a=setTimeout(()=>{a=null,r(p,c())},x)}function h(){o&&clearTimeout(o)}function p(x,...b){if(u){h();return}if(x){h(),d.call(null,x,...b);return}if(c()||s){h(),d.call(null,x,...b);return}i<64&&(i*=2);let A;l===1?(l=2,A=0):A=(i+Math.random())*1e3,f(A)}let y=!1;function w(x){y||(y=!0,h(),!u&&(a!==null?(x||(l=2),clearTimeout(a),f(0)):x||(l=1)))}return f(0),o=setTimeout(()=>{s=!0,w(!0)},n),w}function fG(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hG(r){return r!==void 0}function pG(r){return typeof r=="object"&&!Array.isArray(r)}function zA(r){return typeof r=="string"||r instanceof String}function mT(r){return VA()&&r instanceof Blob}function VA(){return typeof Blob<"u"}function gT(r,e,n,i){if(i<e)throw Vx(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>n)throw Vx(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(r,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${r}`}function fD(r){const e=encodeURIComponent;let n="?";for(const i in r)if(r.hasOwnProperty(i)){const a=e(i)+"="+e(r[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var dd;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(dd||(dd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(r,e){const n=r>=500&&r<600,a=[408,429].indexOf(r)!==-1,o=e.indexOf(r)!==-1;return n||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,n,i,a,o,s,l,c,u,d,f,h=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new hv(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const l=o.getErrorCode()===dd.NO_ERROR,c=o.getStatus();if(!l||mG(c,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===dd.ABORT;i(!1,new hv(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;i(!0,new hv(u,o))})},n=(i,a)=>{const o=this.resolve_,s=this.reject_,l=a.connection;if(a.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());hG(c)?o(c):o()}catch(c){s(c)}else if(l!==null){const c=$A();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(a.canceled){const c=this.appDelete_?dD():rG();s(c)}else{const c=tG();s(c)}};this.canceled_?n(!1,new hv(!1,null,!0)):this.backoffId_=dG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hv{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function vG(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function yG(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wG(r,e){e&&(r["X-Firebase-GMPID"]=e)}function bG(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function xG(r,e,n,i,a,o,s=!0){const l=fD(r.urlParams),c=r.url+l,u=Object.assign({},r.headers);return wG(u,e),vG(u,n),yG(u,o),bG(u,i),new gG(c,r.method,u,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AG(...r){const e=_G();if(e!==void 0){const n=new e;for(let i=0;i<r.length;i++)n.append(r[i]);return n.getBlob()}else{if(VA())return new Blob(r);throw new bn(wn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function SG(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(r){if(typeof atob>"u")throw lG("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ew{constructor(e,n){this.data=e,this.contentType=n||null}}function kG(r,e){switch(r){case Ms.RAW:return new Ew(hD(e));case Ms.BASE64:case Ms.BASE64URL:return new Ew(pD(r,e));case Ms.DATA_URL:return new Ew(NG(e),TG(e))}throw $A()}function hD(r){const e=[];for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,s=r.charCodeAt(++n);i=65536|(o&1023)<<10|s&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function PG(r){let e;try{e=decodeURIComponent(r)}catch{throw Qp(Ms.DATA_URL,"Malformed data URL.")}return hD(e)}function pD(r,e){switch(r){case Ms.BASE64:{const a=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(a||o)throw Qp(r,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Ms.BASE64URL:{const a=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(a||o)throw Qp(r,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EG(e)}catch(a){throw a.message.includes("polyfill")?a:Qp(r,"Invalid character found")}const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}class mD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Qp(Ms.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=CG(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function NG(r){const e=new mD(r);return e.base64?pD(Ms.BASE64,e.rest):PG(e.rest)}function TG(r){return new mD(r).contentType}function CG(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){let i=0,a="";mT(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(mT(this.data_)){const i=this.data_,a=SG(i,e,n);return a===null?null:new jc(a)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new jc(i,!0)}}static getBlob(...e){if(VA()){const n=e.map(i=>i instanceof jc?i.data_:i);return new jc(AG.apply(null,n))}else{const n=e.map(s=>zA(s)?kG(Ms.RAW,s).data:s.data_);let i=0;n.forEach(s=>{i+=s.byteLength});const a=new Uint8Array(i);let o=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)a[o++]=s[l]}),new jc(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(r){let e;try{e=JSON.parse(r)}catch{return null}return pG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IG(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function jG(r,e){const n=e.split("/").filter(i=>i.length>0).join("/");return r.length===0?n:r+"/"+n}function vD(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(r,e){return e}class ta{constructor(e,n,i,a){this.server=e,this.local=n||e,this.writable=!!i,this.xform=a||OG}}let pv=null;function LG(r){return!zA(r)||r.length<2?r:vD(r)}function yD(){if(pv)return pv;const r=[];r.push(new ta("bucket")),r.push(new ta("generation")),r.push(new ta("metageneration")),r.push(new ta("name","fullPath",!0));function e(o,s){return LG(s)}const n=new ta("name");n.xform=e,r.push(n);function i(o,s){return s!==void 0?Number(s):s}const a=new ta("size");return a.xform=i,r.push(a),r.push(new ta("timeCreated")),r.push(new ta("updated")),r.push(new ta("md5Hash",null,!0)),r.push(new ta("cacheControl",null,!0)),r.push(new ta("contentDisposition",null,!0)),r.push(new ta("contentEncoding",null,!0)),r.push(new ta("contentLanguage",null,!0)),r.push(new ta("contentType",null,!0)),r.push(new ta("metadata","customMetadata",!0)),pv=r,pv}function DG(r,e){function n(){const i=r.bucket,a=r.fullPath,o=new Za(i,a);return e._makeStorageReference(o)}Object.defineProperty(r,"ref",{get:n})}function RG(r,e,n){const i={};i.type="file";const a=n.length;for(let o=0;o<a;o++){const s=n[o];i[s.local]=s.xform(i,e[s.server])}return DG(i,r),i}function wD(r,e,n){const i=gD(e);return i===null?null:RG(r,i,n)}function MG(r,e,n,i){const a=gD(e);if(a===null||!zA(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const d=r.bucket,f=r.fullPath,h="/b/"+s(d)+"/o/"+s(f),p=qA(h,n,i),y=fD({alt:"media",token:u});return p+y})[0]}function FG(r,e){const n={},i=e.length;for(let a=0;a<i;a++){const o=e[a];o.writable&&(n[o.server]=r[o.local])}return JSON.stringify(n)}class bD{constructor(e,n,i,a){this.url=e,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(r){if(!r)throw $A()}function BG(r,e){function n(i,a){const o=wD(r,a,e);return xD(o!==null),o}return n}function UG(r,e){function n(i,a){const o=wD(r,a,e);return xD(o!==null),MG(o,a,r.host,r._protocol)}return n}function _D(r){function e(n,i){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=JK():a=ZK():n.getStatus()===402?a=XK(r.bucket):n.getStatus()===403?a=eG(r.path):a=i,a.status=n.getStatus(),a.serverResponse=i.serverResponse,a}return e}function $G(r){const e=_D(r);function n(i,a){let o=e(i,a);return i.getStatus()===404&&(o=QK(r.path)),o.serverResponse=a.serverResponse,o}return n}function zG(r,e,n){const i=e.fullServerUrl(),a=qA(i,r.host,r._protocol),o="GET",s=r.maxOperationRetryTime,l=new bD(a,o,UG(r,n),s);return l.errorHandler=$G(e),l}function VG(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function qG(r,e,n){const i=Object.assign({},n);return i.fullPath=r.path,i.size=e.size(),i.contentType||(i.contentType=VG(null,e)),i}function WG(r,e,n,i,a){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let A="";for(let I=0;I<2;I++)A=A+Math.random().toString().slice(2);return A}const c=l();s["Content-Type"]="multipart/related; boundary="+c;const u=qG(e,i,a),d=FG(u,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+c+"--",p=jc.getBlob(f,i,h);if(p===null)throw oG();const y={name:u.fullPath},w=qA(o,r.host,r._protocol),x="POST",b=r.maxUploadRetryTime,S=new bD(w,x,BG(r,n),b);return S.urlParams=y,S.headers=s,S.body=p.uploadData(),S.errorHandler=_D(e),S}class HG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=dd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=dd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,a){if(this.sent_)throw hp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class KG extends HG{initXhr(){this.xhr_.responseType="text"}}function AD(){return new KG}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this._service=e,n instanceof Za?this._location=n:this._location=Za.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kd(e,n)}get root(){const e=new Za(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vD(this._location.path)}get storage(){return this._service}get parent(){const e=IG(this._location.path);if(e===null)return null;const n=new Za(this._location.bucket,e);return new kd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cG(e)}}function GG(r,e,n){r._throwIfRoot("uploadBytes");const i=WG(r.storage,r._location,yD(),new jc(e,!0),n);return r.storage.makeRequestWithTokens(i,AD).then(a=>({metadata:a,ref:r}))}function YG(r){r._throwIfRoot("getDownloadURL");const e=zG(r.storage,r._location,yD());return r.storage.makeRequestWithTokens(e,AD).then(n=>{if(n===null)throw sG();return n})}function QG(r,e){const n=jG(r._location.path,e),i=new Za(r._location.bucket,n);return new kd(r.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XG(r){return/^[A-Za-z]+:\/\//.test(r)}function ZG(r,e){return new kd(r,e)}function SD(r,e){if(r instanceof WA){const n=r;if(n._bucket==null)throw aG();const i=new kd(n,n._bucket);return e!=null?SD(i,e):i}else return e!==void 0?QG(r,e):r}function JG(r,e){if(e&&XG(e)){if(r instanceof WA)return ZG(r,e);throw Vx("To use ref(service, url), the first argument must be a Storage instance.")}else return SD(r,e)}function vT(r,e){const n=e==null?void 0:e[uD];return n==null?null:Za.makeFromBucketSpec(n,r)}function eY(r,e,n,i={}){r.host=`${e}:${n}`,r._protocol="http";const{mockUserToken:a}=i;a&&(r._overrideAuthToken=typeof a=="string"?a:C6(a,r.app.options.projectId))}class WA{constructor(e,n,i,a,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=cD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GK,this._maxUploadRetryTime=YK,this._requests=new Set,a!=null?this._bucket=Za.makeFromBucketSpec(a,this._host):this._bucket=vT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Za.makeFromBucketSpec(this._url,e):this._bucket=vT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kd(this,e)}_makeRequest(e,n,i,a,o=!0){if(this._deleted)return new uG(dD());{const s=xG(e,this._appId,i,a,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const yT="@firebase/storage",wT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="storage";function tY(r,e,n){return r=ka(r),GG(r,e,n)}function rY(r){return r=ka(r),YG(r)}function nY(r,e){return r=ka(r),JG(r,e)}function iY(r=F6(),e){r=ka(r);const i=D6(r,ED).getImmediate({identifier:e}),a=N6("storage");return a&&aY(i,...a),i}function aY(r,e,n,i={}){eY(r,e,n,i)}function oY(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new WA(n,i,a,e,R6)}function sY(){Am(new Qf(ED,oY,"PUBLIC").setMultipleInstances(!0)),Qc(yT,wT,""),Qc(yT,wT,"esm2017")}sY();console.log("Variveis de ambiente:",{VITE_FIREBASE_API_KEY:"AIzaSyA32ur8WlKhwwvxevvB-P0M0sHK95DBeFw",VITE_FIREBASE_AUTH_DOMAIN:"sealogistics-4f899.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"sealogistics-4f899",VITE_FIREBASE_STORAGE_BUCKET:"sealogistics-4f899.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"813384700244",VITE_FIREBASE_APP_ID:"1:813384700244:web:d400348141dbcadacb78c1"});const kD={apiKey:"AIzaSyA32ur8WlKhwwvxevvB-P0M0sHK95DBeFw",authDomain:"sealogistics-4f899.firebaseapp.com",projectId:"sealogistics-4f899",storageBucket:"sealogistics-4f899.appspot.com",messagingSenderId:"813384700244",appId:"1:813384700244:web:d400348141dbcadacb78c1"};console.log("Firebase Config:",kD);const PD=M6(kD),Jt=jK(PD),lY=iY(PD);class cY{constructor(){Zt(this,"accessToken",null);Zt(this,"isAuthenticating",!1);Zt(this,"baseUrl",bc.graphApiUrl);Zt(this,"specificWorkbookUrl","https://1drv.ms/x/c/dc64d46ccb357759/EavjQ3OTbP5JtQkQibDsyk4BYb1CbJxHcAPSenLuH8tH-Q?e=519kWi")}generateCodeVerifier(){const e=new Uint8Array(32);return crypto.getRandomValues(e),btoa(String.fromCharCode.apply(null,Array.from(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}async generateCodeChallenge(e){const i=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",i);return btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(a)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}async initializeAuth(){try{if(this.isAuthenticating)return!1;this.clearMockTokens(),this.clearAuthState();const e=localStorage.getItem("excel_access_token");if(e&&!e.startsWith("mock_access_token_")&&await this.validateToken(e))return this.accessToken=e,console.log("Token vlido encontrado, autenticao bem-sucedida"),!0;console.log("Nenhum token vlido encontrado, iniciando fluxo de autenticao..."),this.isAuthenticating=!0;const n=await this.startAuthFlow();return this.isAuthenticating=!1,n}catch(e){return console.error("Erro na inicializao da autenticao:",e),this.isAuthenticating=!1,!1}}async startAuthFlow(){return new Promise(async e=>{const n=this.generateCodeVerifier(),i=await this.generateCodeChallenge(n);sessionStorage.setItem("excel_code_verifier",n),localStorage.setItem("excel_code_verifier_backup",n);const a={verifier:n,challenge:i,timestamp:Date.now(),origin:window.location.origin};localStorage.setItem("excel_pkce_data",JSON.stringify(a)),console.log("=== AUTHORIZATION CODE FLOW WITH PKCE ==="),console.log("Code Verifier:",n),console.log("Code Challenge:",i),console.log("Code Verifier Length:",n.length),console.log("Code Challenge Length:",i.length),console.log("=== DEBUG FRONTEND CONFIG ==="),console.log("Client ID no frontend:",bc.clientId),console.log("Redirect URI no frontend:",bc.redirectUri),console.log("Token URL:",bc.tokenUrl);const o=new URL(bc.authUrl);o.searchParams.set("client_id",bc.clientId),o.searchParams.set("response_type","code"),o.searchParams.set("redirect_uri",bc.redirectUri),o.searchParams.set("scope",bc.scopes.join(" ")),o.searchParams.set("response_mode","query"),o.searchParams.set("state","excel_auth"),o.searchParams.set("code_challenge",i),o.searchParams.set("code_challenge_method","S256");const s=window.open(o.toString(),"excel_auth","width=600,height=600,scrollbars=yes,resizable=yes");if(!s){console.error("Popup bloqueado pelo navegador. Tentando redirecionamento direto..."),window.location.href=o.toString(),e(!1);return}let l=!1,c=!1,u,d;u=setInterval(()=>{!c&&!l&&(l=!0,clearInterval(u),e(!1))},3e4),d=setTimeout(()=>{clearInterval(u),window.removeEventListener("message",f);try{s.close()}catch{console.warn("No foi possvel fechar o popup")}e(!1)},5*60*1e3);const f=h=>{if(h.origin===window.location.origin){if(c=!0,h.data.type==="EXCEL_AUTH_SUCCESS"){l=!0,this.accessToken=h.data.token,localStorage.setItem("excel_access_token",h.data.token),console.log("Token salvo com sucesso:",h.data.token.substring(0,20)+"..."),clearInterval(u),clearTimeout(d),window.removeEventListener("message",f);try{s.close()}catch{console.warn("No foi possvel fechar o popup")}e(!0)}else if(h.data.type==="EXCEL_AUTH_ERROR"){l=!0,console.error("Erro na autenticao:",h.data.error),clearInterval(u),clearTimeout(d),window.removeEventListener("message",f);try{s.close()}catch{console.warn("No foi possvel fechar o popup")}e(!1)}}};window.addEventListener("message",f)})}async validateToken(e){try{return(await fetch(`${this.baseUrl}/me`,{headers:{Authorization:`Bearer ${e}`}})).ok}catch{return!1}}async ensureValidToken(){if(!this.accessToken){const e=localStorage.getItem("excel_access_token");if(e&&!e.startsWith("mock_access_token_"))this.accessToken=e,console.log("Token carregado do localStorage");else throw new Error("Token de acesso no disponvel. Faa login primeiro.")}}async listExcelFiles(){var e,n;await this.ensureValidToken();try{console.log("Testando conectividade com Microsoft Graph...");const i=await fetch(`${this.baseUrl}/me`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!i.ok)throw console.error("Erro no teste de conectividade:",i.status,await i.text()),new Error(`Erro de conectividade: ${i.statusText}`);console.log("Conectividade OK, listando arquivos...");const a=await fetch(`${this.baseUrl}/me/drive/root/children`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(a.ok){const c=await a.json();console.log("Todos os arquivos no OneDrive:",c),console.log("Total de arquivos encontrados:",((e=c.value)==null?void 0:e.length)||0);const u=((n=c.value)==null?void 0:n.filter(d=>{var f,h,p;return((f=d.name)==null?void 0:f.endsWith(".xlsx"))||((h=d.name)==null?void 0:h.endsWith(".xls"))||((p=d.file)==null?void 0:p.mimeType)==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}))||[];if(console.log("Arquivos Excel encontrados:",u),u.length===0){console.log("Nenhum arquivo Excel encontrado na raiz. Tentando buscar em toda a conta...");const d=await fetch(`${this.baseUrl}/me/drive/root/search(q='.xlsx')`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(d.ok){const f=await d.json();console.log("Resultados da busca por .xlsx:",f);const h=f,p=[];for(const y of h.value||[])try{const w=await this.getWorkbookDetails(y.id);p.push(w)}catch(w){console.warn(`Erro ao obter detalhes do arquivo ${y.name}:`,w)}return p}}else{const d={value:u},f=[];for(const h of d.value)try{const p=await this.getWorkbookDetails(h.id);f.push(p)}catch(p){console.warn(`Erro ao obter detalhes do arquivo ${h.name}:`,p)}return f}}const o=await fetch(`${this.baseUrl}/me/drive/root/children?$filter=endsWith(name,'.xlsx') or endsWith(name,'.xls')`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!o.ok){const c=await o.text();throw console.error("Erro ao listar arquivos Excel:",o.status,c),new Error(`Erro ao listar arquivos: ${o.status} - ${c}`)}const s=await o.json();console.log("Dados recebidos do Microsoft Graph:",s);const l=[];for(const c of s.value)try{const u=await this.getWorkbookDetails(c.id);l.push(u)}catch(u){console.warn(`Erro ao obter detalhes do arquivo ${c.name}:`,u)}return l}catch(i){throw console.error("Erro ao listar arquivos Excel:",i),i}}async getWorkbookDetails(e){await this.ensureValidToken();try{const n=await fetch(`${this.baseUrl}/me/drive/items/${e}`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!n.ok)throw new Error(`Erro ao obter arquivo: ${n.statusText}`);const i=await n.json(),a=await fetch(`${this.baseUrl}/me/drive/items/${e}/workbook/worksheets`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!a.ok)throw new Error(`Erro ao obter planilhas: ${a.statusText}`);const o=await a.json(),s=[];for(const l of o.value)try{const c=await this.getWorksheetTables(e,l.id);s.push({id:l.id,name:l.name,tables:c})}catch(c){console.warn(`Erro ao obter tabelas da planilha ${l.name}:`,c),s.push({id:l.id,name:l.name,tables:[]})}return{id:e,name:i.name,worksheets:s}}catch(n){throw console.error("Erro ao obter detalhes do workbook:",n),n}}async getWorksheetTables(e,n){if(!this.accessToken)throw new Error("Token de acesso no disponvel");try{const i=await fetch(`${this.baseUrl}/me/drive/items/${e}/workbook/worksheets/${n}/tables`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!i.ok)throw new Error(`Erro ao obter tabelas: ${i.statusText}`);const a=await i.json(),o=[];for(const s of a.value)try{const l=await this.getTableRows(e,n,s.id);o.push({id:s.id,name:s.name,address:s.address,hasHeaders:s.hasHeaders,rows:l})}catch(l){console.warn(`Erro ao obter linhas da tabela ${s.name}:`,l)}return o}catch(i){throw console.error("Erro ao obter tabelas da planilha:",i),i}}async getTableRows(e,n,i){if(!this.accessToken)throw new Error("Token de acesso no disponvel");try{const a=await fetch(`${this.baseUrl}/me/drive/items/${e}/workbook/worksheets/${n}/tables/${i}/rows`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!a.ok)throw a.status===404?new Error("Arquivo Excel no encontrado. Verifique se o arquivo existe e se voc tem permisso de acesso."):new Error(`Erro ao obter linhas: ${a.status} - ${a.statusText}`);return(await a.json()).value.map((s,l)=>({id:s.id||`row_${l}`,values:s.values||[]}))}catch(a){throw console.error("Erro ao obter linhas da tabela:",a),a}}async addTableRow(e,n,i,a){if(!this.accessToken)throw new Error("Token de acesso no disponvel");try{const o=await fetch(`${this.baseUrl}/me/drive/items/${e}/workbook/worksheets/${n}/tables/${i}/rows`,{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({values:a})});if(!o.ok)throw new Error(`Erro ao adicionar linha: ${o.statusText}`)}catch(o){throw console.error("Erro ao adicionar linha  tabela:",o),o}}async updateTableRow(e,n,i,a,o){if(!this.accessToken)throw new Error("Token de acesso no disponvel");try{const s=await fetch(`${this.baseUrl}/me/drive/items/${e}/workbook/worksheets/${n}/tables/${i}/rows/${a}`,{method:"PATCH",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({values:o})});if(!s.ok)throw new Error(`Erro ao atualizar linha: ${s.statusText}`)}catch(s){throw console.error("Erro ao atualizar linha da tabela:",s),s}}async deleteTableRow(e,n,i,a){if(!this.accessToken)throw new Error("Token de acesso no disponvel");try{const o=await fetch(`${this.baseUrl}/me/drive/items/${e}/workbook/worksheets/${i}/rows/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${this.accessToken}`}});if(!o.ok)throw new Error(`Erro ao remover linha: ${o.statusText}`)}catch(o){throw console.error("Erro ao remover linha da tabela:",o),o}}async syncShipmentsToExcel(e,n){if(!this.accessToken)throw new Error("Token de acesso no disponvel");try{const i=await this.getTableRows(e.workbookId,e.worksheetName,e.tableName),a=n.map(o=>{const s=[];return e.headers.forEach(l=>{const c=e.mapping[l];s.push(o[c]||"")}),s});if(i.length>1)for(let o=i.length-1;o>=1;o--)await this.deleteTableRow(e.workbookId,e.worksheetName,e.tableName,i[o].id);for(const o of a)await this.addTableRow(e.workbookId,e.worksheetName,e.tableName,o);console.log(`Sincronizados ${n.length} shipments com Excel`)}catch(i){throw console.error("Erro na sincronizao com Excel:",i),i}}async getShipmentsFromExcel(e){if(!this.accessToken)throw new Error("Token de acesso no disponvel");try{let n;return e.tableName==="default_table"?n=await this.getWorksheetDataDirect(e.workbookId,e.worksheetName):n=await this.getTableRows(e.workbookId,e.worksheetName,e.tableName),n.slice(1).map((a,o)=>{const s={id:`excel_${o+1}`};return e.headers.forEach((l,c)=>{const u=e.mapping[l];u&&(s[u]=a.values[c]||"")}),s})}catch(n){throw console.error("Erro ao obter dados do Excel:",n),n}}async getWorksheetDataDirect(e,n){if(!this.accessToken)throw new Error("Token de acesso no disponvel");try{const i=await fetch(`${this.baseUrl}/me/drive/items/${e}`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!i.ok)throw i.status===404?new Error("Arquivo Excel no encontrado. Verifique se o arquivo existe e se voc tem permisso de acesso."):new Error(`Erro ao acessar arquivo: ${i.status} - ${i.statusText}`);const a=await fetch(`${this.baseUrl}/me/drive/items/${e}/workbook/worksheets/${n}/range(address='A1:K100')`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!a.ok)throw a.status===404?new Error(`Planilha no encontrada. Verifique se a planilha "${n}" existe no arquivo.`):new Error(`Erro ao obter dados da planilha: ${a.status} - ${a.statusText}`);const o=await a.json(),s=[];return o.values&&Array.isArray(o.values)&&o.values.forEach((l,c)=>{s.push({id:`row_${c}`,values:l||[]})}),s}catch(i){throw console.error("Erro ao obter dados diretos da planilha:",i),i}}async setupWebhook(e,n){if(!this.accessToken)throw new Error("Token de acesso no disponvel");try{const i=await fetch(`${this.baseUrl}/subscriptions`,{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({changeType:"updated",notificationUrl:n,resource:`/me/drive/items/${e}`,expirationDateTime:new Date(Date.now()+864e5).toISOString(),clientState:"excel_sync"})});if(!i.ok)throw new Error(`Erro ao configurar webhook: ${i.statusText}`);const a=await i.json();localStorage.setItem("excel_webhook_id",a.id)}catch(i){throw console.error("Erro ao configurar webhook:",i),i}}async removeWebhook(){const e=localStorage.getItem("excel_webhook_id");if(!(!e||!this.accessToken))try{await fetch(`${this.baseUrl}/subscriptions/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${this.accessToken}`}}),localStorage.removeItem("excel_webhook_id")}catch(n){console.error("Erro ao remover webhook:",n)}}disconnect(){this.accessToken=null,localStorage.removeItem("excel_access_token"),localStorage.removeItem("excel_webhook_id")}clearMockTokens(){const e=localStorage.getItem("excel_access_token");e&&e.startsWith("mock_access_token_")&&(console.log("Removendo token mock do localStorage"),localStorage.removeItem("excel_access_token"),this.accessToken=null)}clearAuthState(){sessionStorage.removeItem("excel_code_verifier"),sessionStorage.removeItem("excel_used_code"),localStorage.removeItem("excel_code_verifier_backup"),console.log("Estado de autenticao anterior limpo")}async getFileFromOneDriveUrl(e){try{console.log("Listando arquivos Excel para encontrar a planilha especfica...");const n=await this.listExcelFiles();if(n.length>0)return console.log("Arquivos Excel encontrados:",n.map(i=>i.name)),n[0].id;throw new Error("Nenhum arquivo Excel encontrado na conta")}catch(n){throw console.error("Erro ao listar arquivos Excel:",n),new Error("No foi possvel acessar arquivos Excel")}}async getSpecificWorkbook(){await this.ensureValidToken();try{console.log("Buscando planilha especfica...");const e=await this.getFileFromOneDriveUrl(this.specificWorkbookUrl);return console.log("ID do arquivo encontrado:",e),await this.getWorkbookDetails(e)}catch(e){throw console.error("Erro ao obter planilha especfica:",e),e}}}const li=new cY,uY=()=>{var x;const[r,e]=P.useState(!1),[n,i]=P.useState(!1),[a,o]=P.useState(null),[s,l]=P.useState([]),[c,u]=P.useState(null);P.useEffect(()=>{d()},[]);const d=async()=>{try{const b=localStorage.getItem("excel_access_token");b&&!b.startsWith("mock_access_token_")&&(await li.validateToken(b)?(e(!0),console.log("Conexo vlida encontrada")):(console.log("Token expirado, removendo..."),localStorage.removeItem("excel_access_token"),e(!1)))}catch(b){console.error("Erro ao verificar conexo:",b),e(!1)}},f=async()=>{i(!0),u(null);try{console.log("Iniciando autenticao com Microsoft Excel..."),await li.initializeAuth()?(e(!0),console.log("Conectado com sucesso ao Excel!")):u("Falha na autenticao com Microsoft Excel")}catch(b){console.error("Erro na conexo:",b),u("Erro ao conectar com Excel: "+b.message)}finally{i(!1)}},h=async()=>{i(!0),u(null);try{console.log("Listando arquivos Excel disponveis...");const b=await li.listExcelFiles();l(b),console.log("Arquivos Excel encontrados:",b)}catch(b){console.error("Erro ao listar arquivos Excel:",b),u("Erro ao listar arquivos Excel: "+b.message)}finally{i(!1)}},p=async b=>{i(!0),u(null);try{let S;b?(console.log("Carregando planilha especfica por ID:",b),S=await li.getWorkbookDetails(b)):(console.log("Carregando planilha especfica..."),S=await li.getSpecificWorkbook()),o(S),console.log("Planilha carregada:",S)}catch(S){console.error("Erro ao carregar planilha:",S),u("Erro ao carregar planilha: "+S.message)}finally{i(!1)}},y=()=>{li.disconnect(),e(!1),o(null),u(null)},w=()=>{li.clearMockTokens(),li.disconnect(),sessionStorage.removeItem("excel_code_verifier"),sessionStorage.removeItem("excel_used_code"),e(!1),o(null),u(null),console.log("Tokens e dados de autenticao limpos. Pronto para nova autenticao.")};return m.jsxs("div",{className:"excel-specific-test",children:[m.jsxs("div",{className:"test-header",children:[m.jsx("h2",{children:" Teste de Integrao com Planilha Especfica"}),m.jsx("p",{children:"Teste a integrao com sua planilha do OneDrive"})]}),m.jsx("div",{className:"test-controls",children:r?m.jsxs("div",{className:"connected-controls",children:[m.jsx("div",{className:"status",children:m.jsx("span",{className:"status-indicator connected",children:" Conectado"})}),m.jsxs("div",{className:"actions",children:[m.jsx("button",{className:"list-btn",onClick:h,disabled:n,children:n?"Listando...":" Listar Arquivos Excel"}),m.jsx("button",{className:"load-btn",onClick:()=>p(),disabled:n,children:n?"Carregando...":" Carregar Primeira Planilha"}),m.jsx("button",{className:"clear-btn",onClick:w,children:" Limpar Tokens"}),m.jsx("button",{className:"disconnect-btn",onClick:y,children:" Desconectar"})]})]}):m.jsx("button",{className:"connect-btn",onClick:f,disabled:n,children:n?"Conectando...":" Conectar com Excel"})}),c&&m.jsxs("div",{className:"error-message",children:[m.jsx("strong",{children:" Erro:"})," ",c]}),s.length>0&&m.jsxs("div",{className:"available-workbooks",children:[m.jsx("h3",{children:" Arquivos Excel Disponveis"}),m.jsx("div",{className:"workbooks-list",children:s.map((b,S)=>m.jsxs("div",{className:"workbook-item",children:[m.jsxs("div",{className:"workbook-info",children:[m.jsx("strong",{children:b.name}),m.jsxs("span",{className:"workbook-id",children:["ID: ",b.id]})]}),m.jsx("button",{className:"select-btn",onClick:()=>p(b.id),disabled:n,children:" Selecionar"})]},S))})]}),a&&m.jsxs("div",{className:"workbook-info",children:[m.jsx("h3",{children:" Informaes da Planilha"}),m.jsxs("div",{className:"workbook-details",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Nome:"})," ",a.name]}),m.jsxs("p",{children:[m.jsx("strong",{children:"ID:"})," ",a.id]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Planilhas:"})," ",((x=a.worksheets)==null?void 0:x.length)||0]}),a.worksheets&&a.worksheets.length>0&&m.jsxs("div",{className:"worksheets-list",children:[m.jsx("h4",{children:"Planilhas Disponveis:"}),m.jsx("ul",{children:a.worksheets.map((b,S)=>m.jsxs("li",{children:[m.jsx("strong",{children:b.name}),b.tables&&b.tables.length>0&&m.jsxs("span",{children:[" (",b.tables.length," tabelas)"]})]},S))})]})]})]}),m.jsxs("div",{className:"test-info",children:[m.jsx("h4",{children:" Informaes do Teste"}),m.jsxs("ul",{children:[m.jsxs("li",{children:[m.jsx("strong",{children:"URL da Planilha:"})," https://1drv.ms/x/c/dc64d46ccb357759/EavjQ3OTbP5JtQkQibDsyk4BYb1CbJxHcAPSenLuH8tH-Q?e=519kWi"]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Servidor Backend:"})," http://localhost:3002"]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Client ID:"})," 21f52d49-5e17-4d39-b05c-8a3f355ecbc9"]})]})]})]})},dY=new Date().getFullYear(),fY=({theme:r="light",useGradient:e=!1,gradientColors:n=["#4A00E0","#8E2DE2"],gradientDirection:i="to right",backgroundColor:a=r==="dark"?"#1e1e1e":"#f9f9f9",logoVariant:o=r})=>{const s=r==="dark",l=e?{backgroundImage:`linear-gradient(${i}, ${n[0]}, ${n[1]})`}:{backgroundColor:a},c=s?"#ffffff":"#333333",u=o==="light"?"https://borderlessdevs.netlify.app/static/media/logo-dark.2fa878784899c906a14f.png":"https://borderlessdevs.netlify.app/static/media/logo-light.e753328ab34c0b67df5a.png";return m.jsxs("footer",{style:Object.assign(Object.assign({width:"100%",textAlign:"center",padding:"0.75rem 0.5rem"},l),{color:c}),children:[m.jsx("a",{href:"https://borderlessdevs.netlify.app",target:"_blank",rel:"noopener noreferrer",children:m.jsx("img",{src:u,alt:"Logo Borderless",style:{height:24,marginBottom:6}})}),m.jsxs("p",{style:{margin:0,fontSize:"0.75rem",fontWeight:500},children:["Desenvolvido por Borderless  ",dY]})]})},hY=({theme:r="light"})=>m.jsx("div",{className:"footer-container",children:m.jsx(fY,{theme:r,useGradient:!1})}),ug=P.createContext({isCollapsed:!1,setIsCollapsed:()=>{}}),pY=({children:r})=>{const[e,n]=P.useState(!1);return m.jsx(ug.Provider,{value:{isCollapsed:e,setIsCollapsed:n},children:r})};var gr=(r=>(r.ADMIN="admin",r.COMPANY_USER="company_user",r))(gr||{});const ND=P.createContext(void 0),Mo=()=>{const r=P.useContext(ND);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},mY=({children:r})=>{const[e,n]=P.useState(null),[i,a]=P.useState(null),[o,s]=P.useState(!0);P.useEffect(()=>{const x=localStorage.getItem("currentUser");if(x)try{const b=JSON.parse(x);console.log("Carregando dados do localStorage:",b),b.id?l(b.id):(console.warn("ID do usurio no encontrado no localStorage"),s(!1))}catch(b){console.error("Error parsing saved user:",b),localStorage.removeItem("currentUser"),s(!1)}else s(!1)},[]);const l=async x=>{try{console.log("Carregando dados do usurio do Firestore:",x);const b=await Jc(yn(Jt,"users",x));if(b.exists()){const S={...b.data(),uid:b.id};if(console.log("Dados do usurio carregados:",S),n(S),localStorage.setItem("currentUser",JSON.stringify({email:S.email,name:S.displayName,id:S.uid,role:S.role})),S.role===gr.COMPANY_USER&&S.companyId){const A=await Jc(yn(Jt,"companies",S.companyId));if(A.exists()){const I={...A.data(),id:A.id};a(I)}}}else console.warn("Usurio no encontrado no Firestore:",x),localStorage.removeItem("currentUser"),n(null)}catch(b){console.error("Error loading user data:",b),localStorage.removeItem("currentUser"),n(null)}finally{s(!1)}},c=async()=>{e!=null&&e.uid&&(console.log("Atualizando dados do usurio..."),await l(e.uid))},u=async(x,b)=>{try{console.log("Attempting login with password:",b?"***":"no password");const S=Ed(Ea(Jt,"users"),Zc("email","==",x)),A=await qs(S);if(A.empty)throw new Error("Usurio no encontrado");const I=A.docs[0],B={...I.data(),uid:I.id};if(console.log("Usurio encontrado:",B),!B.isActive)throw new Error("Usurio inativo. Contacte o administrador.");if(await jm(yn(Jt,"users",I.id),{...B,lastLogin:new Date},{merge:!0}),n(B),B.role===gr.COMPANY_USER&&B.companyId){const D=await Jc(yn(Jt,"companies",B.companyId));if(D.exists()){const j={...D.data(),id:D.id};a(j)}}const $={email:B.email,name:B.displayName,id:I.id,role:B.role};console.log("Salvando no localStorage:",$),localStorage.setItem("currentUser",JSON.stringify($))}catch(S){throw console.error("Login error:",S),S}},d=()=>{console.log("Fazendo logout..."),n(null),a(null),localStorage.removeItem("currentUser")},f=()=>e?e.role===gr.ADMIN:!1,w={currentUser:e,currentCompany:i,login:u,logout:d,isAdmin:f,isCompanyUser:()=>(e==null?void 0:e.role)===gr.COMPANY_USER,canAccessAdminFeatures:()=>f(),canManageShipments:()=>(e==null?void 0:e.role)===gr.ADMIN||(e==null?void 0:e.role)===gr.COMPANY_USER,loading:o,refreshUserData:c};return m.jsx(ND.Provider,{value:w,children:r})},gY={en:{welcomeTo:"Welcome to",loginTitle:"Sign in to your account",welcomeMessage:"Welcome to Sea Logistics",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",loginButton:"Login",selectLanguage:"Select language",forgotPassword:"Forgot password?",nameError:"Name is required",emailError:"Invalid email",passwordError:"Password is required",confirmPasswordError:"Password is required",passwordsDontMatch:"Passwords don't match",dontHaveAccount:"Don't have an account?",registerLink:"Register",createAccount:"Create an Account",name:"Name",namePlaceholder:"Enter your full name",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm your password",registerButton:"Register",alreadyHaveAccount:"Already have an account?",loginLink:"Login",registerText:"Connecting the world through the oceans. Register to access our platform.",home:"Home",dashboard:"Dashboard",shipments:"Shipments",newShipment:"New Shipment",users:"Users",settings:"Settings",logout:"Logout",profile:"Profile",inicio:"Home",envios:"Shipments",novoEnvio:"New Shipment",configuracoes:"Settings",sair:"Logout",collapseMenu:"Collapse menu",expandMenu:"Expand menu",administrativeDashboard:"Administrative Dashboard",welcomeAdmin:"Welcome, Admin User!",overview:"Overview",analytics:"Analytics",advancedFilters:"Advanced Filters",totalShipments:"Total Shipments",inTransit:"In Transit",delivered:"Delivered",pending:"Pending",thisMonth:"This Month",totalUsers:"Total Users",activeCompanies:"Active Companies",manageShipments:"Manage Shipments",configurePreferences:"Configure preferences",clickToSeeAllShipments:"Click to see all shipments",quickActions:"Quick Actions",adminPanel:"Admin Panel",configurations:"Configurations",distributionByStatus:"Distribution by Status",top10Clients:"Top 10 Clients",evolutionOfMyShipments:"Evolution of My Shipments",statusOfMyShipments:"Status of My Shipments",originPorts:"Origin Ports",completed:"Completed",loadingCharts:"Loading charts...",stabilizingData:"Stabilizing data for display.",welcomeUser:"Welcome,",statusUpdated:"Status updated",shipmentsTitle:"Shipments",newShipmentTitle:"New Shipment",editShipment:"Edit Shipment",shipmentDetails:"Shipment Details",shipmentNumber:"Shipment Number",origin:"Origin",destination:"Destination",status:"Status",company:"Company",date:"Date",actions:"Actions",view:"View",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",close:"Close",search:"Search",filter:"Filter",clearFilters:"Clear Filters",noShipments:"No shipments found",loading:"Loading...",error:"Error",shippingTable:"Shipping Table",exportAll:"Export All",searchFilters:"Search Filters",more:"More",less:"Less",sortBy:"Sort by:",month:"Month:",allMonths:"All months",searchPlaceholderAdmin:"Client, BL, Booking...",searchPlaceholderClient:"BL, Booking...",mostRecent:"Most recent",oldest:"Oldest",etdDate:"Departure date (ETD)",etaDate:"Arrival date (ETA)",clientAZ:"Client A-Z",client:"Client",type:"Type",shipper:"Shipper",pol:"POL",pod:"POD",etdOrigin:"ETD Origin",etaDestination:"ETA Destination",quantBox:"Quant Box",blNumber:"BL Number",carrier:"Carrier",booking:"Booking",transportType:"Transport Type",selectTransportType:"Select transport type",portOfOrigin:"Port of Origin (POL)",selectPortOfOrigin:"Select port of origin",portOfDestination:"Port of Destination (POD)",selectPortOfDestination:"Select port of destination",departureDate:"Departure Date (ETD)",arrivalDate:"Estimated Arrival (ETA)",dateFormat:"dd/mm/yyyy",accessDenied:"Access denied. Only administrators can create new shipments.",fillInfoNewShipment:"Fill in the information to create a new shipment",statusPending:"Pending",statusInTransit:"In Transit",statusDelivered:"Delivered",statusCancelled:"Cancelled",statusDelayed:"Delayed",statusDocumentation:"Documentation",statusScheduled:"Scheduled",statusToShip:"To Ship",statusShipping:"Shipping",statusUnloading:"Unloading",statusInDelivery:"In Delivery",statusCompleted:"Completed",statusSuspended:"Suspended",required:"Required",optional:"Optional",submit:"Submit",reset:"Reset",back:"Back",next:"Next",previous:"Previous",finish:"Finish",selectClient:"Select a client",selectOperator:"Select an operator",pleaseSelectValidClient:"Please select a valid client.",success:"Success",warning:"Warning",info:"Information",confirmDelete:"Are you sure you want to delete this item?",deleteSuccess:"Item deleted successfully",saveSuccess:"Item saved successfully",updateSuccess:"Item updated successfully",redirecting:"Redirecting...",manageDocuments:"Manage Documents",viewDocuments:"View Documents",accountSettings:"Account Settings",managePersonalInfo:"Manage your personal information and preferences",personalInformation:"Personal Information",fullName:"Full Name",phone:"Phone",role:"Role",yourRoleInCompany:"Your role in the company",companyName:"Company name",notifications:"Notifications",emailNotifications:"Email Notifications",receiveImportantUpdates:"Receive important updates by email",pushNotifications:"Push Notifications",receiveRealTimeNotifications:"Receive real-time notifications in the browser",statusUpdates:"Status Updates",notifiedWhenStatusChanges:"Be notified when the status of shipments changes",yes:"Yes",no:"No",ok:"OK",noData:"No data available",refresh:"Refresh",export:"Export",import:"Import",download:"Download",upload:"Upload",documentType:"Document Type",billOfLading:"Bill of Lading (BL)",packingList:"Packing List",commercialInvoice:"Commercial Invoice",certificateOfOrigin:"Certificate of Origin",insuranceCertificate:"Insurance Certificate",exportLicense:"Export License",importLicense:"Import License",customsDeclaration:"Customs Declaration",transportDocument:"Transport Document",other:"Other"},pt:{welcomeTo:"Bem-vindo ao",loginTitle:"Entre na sua conta",welcomeMessage:"Bem-vindo  Sea Logistics",email:"Email",emailPlaceholder:"Digite seu email",password:"Senha",passwordPlaceholder:"Digite sua senha",loginButton:"Entrar",selectLanguage:"Selecionar idioma",forgotPassword:"Esqueceu a senha?",nameError:"O nome  obrigatrio",emailError:"Email invlido",passwordError:"A senha  obrigatria",confirmPasswordError:"A senha  obrigatria",passwordsDontMatch:"As senhas no coincidem",dontHaveAccount:"No tem uma conta?",registerLink:"Registrar",createAccount:"Criar uma Conta",name:"Nome",namePlaceholder:"Digite seu nome completo",confirmPassword:"Confirmar Senha",confirmPasswordPlaceholder:"Confirme sua senha",registerButton:"Registrar",alreadyHaveAccount:"J tem uma conta?",loginLink:"Entrar",registerText:"Conectando o mundo atravs dos oceanos. Registre-se para acessar nossa plataforma.",home:"Incio",dashboard:"Painel",shipments:"Envios",newShipment:"Novo Envio",users:"Usurios",settings:"Configuraes",logout:"Sair",profile:"Perfil",inicio:"Incio",envios:"Envios",novoEnvio:"Novo Envio",configuracoes:"Configuraes",sair:"Sair",collapseMenu:"Recolher menu",expandMenu:"Expandir menu",administrativeDashboard:"Dashboard Administrativo",welcomeAdmin:"Bem-vindo, Usuario Admin!",overview:"Viso Geral",analytics:"Anlises",advancedFilters:"Filtros Avanados",totalShipments:"Total de Envios",inTransit:"Em Trnsito",delivered:"Entregues",pending:"Pendentes",thisMonth:"Este Ms",totalUsers:"Total de Usurios",activeCompanies:"Empresas Ativas",manageShipments:"Gerenciar Envios",configurePreferences:"Configurar preferncias",clickToSeeAllShipments:"Clique para ver todos os envios",quickActions:"Aes Rpidas",adminPanel:"Painel Admin",configurations:"Configuraes",distributionByStatus:"Distribuio por Status",top10Clients:"Top 10 Clientes",evolutionOfMyShipments:"Evoluo dos Meus Envios",statusOfMyShipments:"Status dos Meus Envios",originPorts:"Portos de Origem",completed:"Completos",loadingCharts:"Carregando grficos...",stabilizingData:"Estabilizando dados para exibio.",welcomeUser:"Bem-vindo,",statusUpdated:"Status atualizado",shipmentsTitle:"Envios",newShipmentTitle:"Novo Envio",editShipment:"Editar Envio",shipmentDetails:"Detalhes do Envio",shipmentNumber:"Nmero do Envio",origin:"Origem",destination:"Destino",status:"Status",company:"Empresa",date:"Data",actions:"Aes",view:"Visualizar",edit:"Editar",delete:"Excluir",save:"Salvar",cancel:"Cancelar",close:"Fechar",search:"Buscar",filter:"Filtrar",clearFilters:"Limpar Filtros",noShipments:"Nenhum envio encontrado",loading:"Carregando...",error:"Erro",shippingTable:"Tabela de Envios",exportAll:"Exportar Todos",searchFilters:"Filtros de Busca",more:"Mais",less:"Menos",sortBy:"Ordenar por:",month:"Ms:",allMonths:"Todos os meses",searchPlaceholderAdmin:"Cliente, BL, Booking...",searchPlaceholderClient:"BL, Booking...",mostRecent:"Mais recentes",oldest:"Mais antigos",etdDate:"Data de partida (ETD)",etaDate:"Data de chegada (ETA)",clientAZ:"Cliente A-Z",client:"Cliente",type:"Tipo",shipper:"Embarcador",pol:"POL",pod:"POD",etdOrigin:"ETD Origem",etaDestination:"ETA Destino",quantBox:"Quant Box",blNumber:"Nmero BL",carrier:"Armador",booking:"Booking",transportType:"Tipo de Transporte",selectTransportType:"Selecionar tipo de transporte",portOfOrigin:"Porto de Origem (POL)",selectPortOfOrigin:"Selecionar porto de origem",portOfDestination:"Porto de Destino (POD)",selectPortOfDestination:"Selecionar porto de destino",departureDate:"Data de Partida (ETD)",arrivalDate:"Chegada Estimada (ETA)",dateFormat:"dd/mm/aaaa",accessDenied:"Acesso negado. Apenas administradores podem criar novos envios.",fillInfoNewShipment:"Preencha as informaes para criar um novo envio",statusPending:"Pendente",statusInTransit:"Em Trnsito",statusDelivered:"Entregue",statusCancelled:"Cancelado",statusDelayed:"Atrasado",statusDocumentation:"Documentao",statusScheduled:"Agendado",statusToShip:"Para Envio",statusShipping:"Em Transporte",statusUnloading:"Descarregamento",statusInDelivery:"Em Entrega",statusCompleted:"Concludo",statusSuspended:"Suspenso",required:"Obrigatrio",optional:"Opcional",submit:"Enviar",reset:"Resetar",back:"Voltar",next:"Prximo",previous:"Anterior",finish:"Finalizar",selectClient:"Selecione um cliente",selectOperator:"Selecione um operador",pleaseSelectValidClient:"Por favor, selecione um cliente vlido.",success:"Sucesso",warning:"Aviso",info:"Informao",confirmDelete:"Tem certeza que deseja excluir este item?",deleteSuccess:"Item excludo com sucesso",saveSuccess:"Item salvo com sucesso",updateSuccess:"Item atualizado com sucesso",redirecting:"Redirecionando...",manageDocuments:"Gerenciar Documentos",viewDocuments:"Visualizar Documentos",yes:"Sim",no:"No",ok:"OK",noData:"Nenhum dado disponvel",refresh:"Atualizar",export:"Exportar",import:"Importar",download:"Baixar",upload:"Enviar",documentType:"Tipo de Documento",billOfLading:"Conhecimento de Embarque (BL)",packingList:"Lista de Empacotamento",commercialInvoice:"Fatura Comercial",certificateOfOrigin:"Certificado de Origem",insuranceCertificate:"Certificado de Seguro",exportLicense:"Licena de Exportao",importLicense:"Licena de Importao",customsDeclaration:"Declarao Aduaneira",transportDocument:"Documento de Transporte",other:"Outro",connectExcel:"Conectar Planilha",excelIntegration:"Integrao Excel",useExcelAsDatabase:"Usar Excel como banco de dados",connectToExcel:"Conectar ao Excel Online",excelConnected:"Excel conectado",excelDisconnected:"Excel desconectado",syncWithExcel:"Sincronizar com Excel",excelSyncStatus:"Status da sincronizao",lastSync:"ltima sincronizao",autoSync:"Sincronizao automtica",manualSync:"Sincronizao manual",excelConfiguration:"Configurao do Excel",selectWorkbook:"Selecionar pasta de trabalho",selectWorksheet:"Selecionar planilha",selectTable:"Selecionar tabela",configureMapping:"Configurar mapeamento",saveConfiguration:"Salvar configurao",testConnection:"Testar conexo",excelConnectionError:"Erro na conexo com Excel",excelSyncError:"Erro na sincronizao",excelDataLoaded:"Dados do Excel carregados",excelDataUpdated:"Dados do Excel atualizados"},es:{welcomeTo:"Bienvenido a",loginTitle:"Inicia sesin en tu cuenta",welcomeMessage:"Bienvenido a Sea Logistics",email:"Correo electrnico",emailPlaceholder:"Ingrese su correo electrnico",password:"Contrasea",passwordPlaceholder:"Ingrese su contrasea",loginButton:"Iniciar sesin",selectLanguage:"Seleccionar idioma",forgotPassword:"Olvid su contrasea?",nameError:"El nombre es obligatorio",emailError:"Correo electrnico invlido",passwordError:"La contrasea es obligatoria",confirmPasswordError:"La contrasea es obligatoria",passwordsDontMatch:"Las contraseas no coinciden",dontHaveAccount:"No tiene una cuenta?",registerLink:"Registrarse",createAccount:"Crear una Cuenta",name:"Nombre",namePlaceholder:"Ingrese su nombre completo",confirmPassword:"Confirmar Contrasea",confirmPasswordPlaceholder:"Confirme su contrasea",registerButton:"Registrarse",alreadyHaveAccount:"Ya tiene una cuenta?",loginLink:"Iniciar sesin",registerText:"Conectando el mundo a travs de los ocanos. Regstrate para acceder a nuestra plataforma.",home:"Inicio",dashboard:"Panel",shipments:"Envos",newShipment:"Nuevo Envo",users:"Usuarios",settings:"Configuraciones",logout:"Cerrar Sesin",profile:"Perfil",inicio:"Inicio",envios:"Envos",novoEnvio:"Nuevo Envo",configuracoes:"Configuraciones",sair:"Cerrar Sesin",collapseMenu:"Contraer men",expandMenu:"Expandir men",administrativeDashboard:"Panel Administrativo",welcomeAdmin:"Bienvenido, Usuario Admin!",overview:"Resumen",analytics:"Anlisis",advancedFilters:"Filtros Avanzados",totalShipments:"Total de Envos",inTransit:"En Trnsito",delivered:"Entregados",pending:"Pendientes",thisMonth:"Este Mes",totalUsers:"Total de Usuarios",activeCompanies:"Empresas Activas",manageShipments:"Gestionar Envos",configurePreferences:"Configurar preferencias",clickToSeeAllShipments:"Haga clic para ver todos los envos",quickActions:"Acciones Rpidas",adminPanel:"Panel Admin",configurations:"Configuraciones",distributionByStatus:"Distribucin por Estado",top10Clients:"Top 10 Clientes",evolutionOfMyShipments:"Evolucin de Mis Envos",statusOfMyShipments:"Estado de Mis Envos",originPorts:"Puertos de Origen",completed:"Completados",loadingCharts:"Cargando grficos...",stabilizingData:"Estabilizando datos para visualizacin.",welcomeUser:"Bienvenido,",statusUpdated:"Estado actualizado",shipmentsTitle:"Envos",newShipmentTitle:"Nuevo Envo",editShipment:"Editar Envo",shipmentDetails:"Detalles del Envo",shipmentNumber:"Nmero de Envo",origin:"Origen",destination:"Destino",status:"Estado",company:"Empresa",date:"Fecha",actions:"Acciones",view:"Ver",edit:"Editar",delete:"Eliminar",save:"Guardar",cancel:"Cancelar",close:"Cerrar",search:"Buscar",filter:"Filtrar",clearFilters:"Limpiar Filtros",noShipments:"No se encontraron envos",loading:"Cargando...",error:"Error",shippingTable:"Tabla de Envos",exportAll:"Exportar Todos",searchFilters:"Filtros de Bsqueda",more:"Ms",less:"Menos",sortBy:"Ordenar por:",month:"Mes:",allMonths:"Todos los meses",searchPlaceholderAdmin:"Cliente, BL, Booking...",searchPlaceholderClient:"BL, Booking...",mostRecent:"Ms recientes",oldest:"Ms antiguos",etdDate:"Fecha de partida (ETD)",etaDate:"Fecha de llegada (ETA)",clientAZ:"Cliente A-Z",client:"Cliente",type:"Tipo",shipper:"Embarcador",pol:"POL",pod:"POD",etdOrigin:"ETD Origen",etaDestination:"ETA Destino",quantBox:"Quant Box",blNumber:"Nmero BL",carrier:"Armador",booking:"Booking",transportType:"Tipo de Transporte",selectTransportType:"Seleccionar tipo de transporte",portOfOrigin:"Puerto de Origen (POL)",selectPortOfOrigin:"Seleccionar puerto de origen",portOfDestination:"Puerto de Destino (POD)",selectPortOfDestination:"Seleccionar puerto de destino",departureDate:"Fecha de Partida (ETD)",arrivalDate:"Llegada Estimada (ETA)",dateFormat:"dd/mm/aaaa",accessDenied:"Acceso denegado. Solo los administradores pueden crear nuevos envos.",fillInfoNewShipment:"Complete la informacin para crear un nuevo envo",statusPending:"Pendiente",statusInTransit:"En Trnsito",statusDelivered:"Entregado",statusCancelled:"Cancelado",statusDelayed:"Retrasado",statusDocumentation:"Documentacin",statusScheduled:"Programado",statusToShip:"Para Envo",statusShipping:"En Transporte",statusUnloading:"Descargando",statusInDelivery:"En Entrega",statusCompleted:"Completado",statusSuspended:"Suspendido",required:"Requerido",optional:"Opcional",submit:"Enviar",reset:"Restablecer",back:"Atrs",next:"Siguiente",previous:"Anterior",finish:"Finalizar",selectClient:"Seleccione un cliente",selectOperator:"Seleccione un operador",pleaseSelectValidClient:"Por favor, seleccione un cliente vlido.",success:"xito",warning:"Advertencia",info:"Informacin",confirmDelete:"Est seguro de que desea eliminar este elemento?",deleteSuccess:"Elemento eliminado exitosamente",saveSuccess:"Elemento guardado exitosamente",updateSuccess:"Elemento actualizado exitosamente",redirecting:"Redirigiendo...",manageDocuments:"Gestionar Documentos",viewDocuments:"Ver Documentos",yes:"S",no:"No",ok:"OK",noData:"No hay datos disponibles",refresh:"Actualizar",export:"Exportar",import:"Importar",download:"Descargar",upload:"Subir",documentType:"Tipo de Documento",billOfLading:"Conocimiento de Embarque (BL)",packingList:"Lista de Empaque",commercialInvoice:"Factura Comercial",certificateOfOrigin:"Certificado de Origen",insuranceCertificate:"Certificado de Seguro",exportLicense:"Licencia de Exportacin",importLicense:"Licencia de Importacin",customsDeclaration:"Declaracin Aduanera",transportDocument:"Documento de Transporte",other:"Otro",connectExcel:"Conectar Hoja de Clculo",excelIntegration:"Integracin Excel",useExcelAsDatabase:"Usar Excel como base de datos",connectToExcel:"Conectar a Excel Online",excelConnected:"Excel conectado",excelDisconnected:"Excel desconectado",syncWithExcel:"Sincronizar con Excel",excelSyncStatus:"Estado de sincronizacin",lastSync:"ltima sincronizacin",autoSync:"Sincronizacin automtica",manualSync:"Sincronizacin manual",excelConfiguration:"Configuracin de Excel",selectWorkbook:"Seleccionar libro de trabajo",selectWorksheet:"Seleccionar hoja de clculo",selectTable:"Seleccionar tabla",configureMapping:"Configurar mapeo",saveConfiguration:"Guardar configuracin",testConnection:"Probar conexin",excelConnectionError:"Error en la conexin con Excel",excelSyncError:"Error en la sincronizacin",excelDataLoaded:"Datos de Excel cargados",excelDataUpdated:"Datos de Excel actualizados"}},TD=P.createContext(void 0);function qx({children:r}){const[e,n]=P.useState("en");P.useEffect(()=>{const o=localStorage.getItem("language");o&&["en","pt","es"].includes(o)&&n(o)},[]);const a={language:e,setLanguage:o=>{n(o),localStorage.setItem("language",o)},translations:gY[e]};return m.jsx(TD.Provider,{value:a,children:r})}function Fo(){const r=P.useContext(TD);if(r===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return r}const bT="http://localhost:3001".replace(/\/+$/,""),Ky=async({to:r,subject:e,html:n})=>{try{console.log("=== INICIANDO ENVIO DE EMAIL ==="),console.log("Configurao:",{url:bT,to:r,subject:e});const i=await fetch(`${bT}/send-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:r,subject:e,html:n})});if(!i.ok){const o=await i.json();throw new Error(o.error||`Erro ${i.status}: ${i.statusText}`)}const a=await i.json();if(!a.success)throw new Error(a.error||"Erro ao enviar email");return console.log("=== EMAIL ENVIADO COM SUCESSO ==="),!0}catch(i){return console.error("=== ERRO AO ENVIAR EMAIL ==="),console.error("Detalhes do erro:",i),!1}},vY=async(r,e,n)=>{const i="ATUALIZAO DE SEU EMBARQUE MARTIMO - Sea Logistics International",a=`
        <!DOCTYPE html>
        <html lang="pt-BR">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Atualizao de Embarque Martimo</title>
            <style>
                body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f4f4; }
                .container { max-width: 800px; margin: 0 auto; background-color: white; }
                .header { background: linear-gradient(135deg, #1e3a8a, #3b82f6); color: white; padding: 30px; text-align: center; }
                .logo { font-size: 28px; font-weight: bold; margin-bottom: 10px; }
                .logo-s { font-size: 36px; color: #60a5fa; }
                .subtitle { font-size: 16px; opacity: 0.9; margin-bottom: 20px; }
                .contact-info { font-size: 14px; opacity: 0.8; }
                .content { padding: 30px; }
                .greeting { font-size: 18px; margin-bottom: 20px; }
                .shipment-details { background-color: #f8fafc; padding: 20px; border-radius: 8px; margin: 20px 0; }
                .shipment-details h3 { color: #1e3a8a; margin-top: 0; }
                .shipment-details ul { list-style: none; padding: 0; }
                .shipment-details li { padding: 8px 0; border-bottom: 1px solid #e2e8f0; }
                .shipment-details li:last-child { border-bottom: none; }
                .shipment-details strong { color: #374151; }
                .tracking-section { background-color: #f0f9ff; padding: 20px; border-radius: 8px; margin: 20px 0; }
                .tracking-section h3 { color: #1e3a8a; margin-top: 0; }
                .map-placeholder { background-color: #e5e7eb; height: 300px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #6b7280; margin: 20px 0; }
                .whatsapp-section { background-color: #f0fdf4; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #22c55e; }
                .whatsapp-section h3 { color: #166534; margin-top: 0; }
                .whatsapp-section ul { list-style: none; padding: 0; }
                .whatsapp-section li { padding: 5px 0; }
                .whatsapp-section li:before { content: " "; color: #22c55e; font-weight: bold; }
                .cta-button { display: inline-block; background-color: #22c55e; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; margin-top: 15px; }
                .footer { background-color: #1f2937; color: white; padding: 20px; text-align: center; font-size: 14px; }
            </style>
        </head>
        <body>
            <div class="container">
                <!-- Header -->
                <div class="header">
                    <div class="logo">SEA LOGISTICS <span class="logo-s">S</span> INTERNATIONAL</div>
                    <div class="subtitle">ATUALIZAO DE SEU EMBARQUE MARTIMO</div>
                    <div class="subtitle">Acompanhe detalhes atualizados de seu embarque.</div>
                    <div class="contact-info">
                        www.sealogistics.com.br | +55 11 95939-1837
                    </div>
                </div>

                <!-- Content -->
                <div class="content">
                    <div class="greeting">
                        Prezado Cliente <strong>${e}</strong>,
                    </div>
                    
                    <p>Segue principais informaes sobre o status da sua carga ref ao booking <strong>${n.booking||"N/A"}</strong>.</p>

                    <!-- Detalhes do Embarque -->
                    <div class="shipment-details">
                        <h3> Detalhes do Embarque</h3>
                        <ul>
                            <li><strong>Navio:</strong> ${n.vessel||"N/A"}</li>
                            <li><strong>Rota:</strong> [${n.originPort||"N/A"}]  [${n.destinationPort||"N/A"}]</li>
                            <li><strong>Booking:</strong> ${n.booking||"N/A"}</li>
                            <li><strong>BL:</strong> ${n.blNumber||"N/A"}</li>
                            <li><strong>ETD (Data de Partida):</strong> ${n.etd?new Date(n.etd).toLocaleDateString("pt-BR"):"N/A"}</li>
                            <li><strong>ETA (Data de Chegada):</strong> ${n.eta?new Date(n.eta).toLocaleDateString("pt-BR"):"N/A"}</li>
                            <li><strong>Localizao Atual:</strong> ${n.currentLocation||"O navio est em trnsito"}</li>
                        </ul>
                    </div>

                    <!-- Seo de Localizao Atual Detalhada -->
                    <div class="tracking-section">
                        <h3> Localizao Atual</h3>
                        <p>${n.currentLocation||"O navio est em trnsito"}</p>
                        
                        <div style="background: #f8fafc; padding: 15px; border-radius: 8px; margin: 15px 0;">
                            <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                <span style="font-size: 20px; margin-right: 10px;"></span>
                                <div>
                                    <strong>${n.vessel||"N/A"}</strong>
                                    <div style="font-size: 14px; color: #666;">Container Ship IMO: ${n.imo||"9735206"}</div>
                                </div>
                            </div>
                            
                            <!-- Tabs de Navegao -->
                            <div style="display: flex; border-bottom: 1px solid #e2e8f0; margin-bottom: 15px;">
                                <div style="padding: 10px 15px; background: #3b82f6; color: white; border-radius: 6px 6px 0 0; font-weight: bold;">Overview</div>
                                <div style="padding: 10px 15px; color: #666; cursor: pointer;">Port call log</div>
                                <div style="padding: 10px 15px; color: #666; cursor: pointer;">Vessel characteristics</div>
                                <div style="padding: 10px 15px; color: #666; cursor: pointer;">Ownership</div>
                                <div style="padding: 10px 15px; color: #666; cursor: pointer;">Performance insight</div>
                            </div>
                            
                            <!-- Mapa Interativo -->
                            <div style="background: #e5e7eb; height: 250px; border-radius: 8px; position: relative; margin: 15px 0;">
                                <div style="position: absolute; top: 10px; right: 10px;">
                                    <button style="background: #3b82f6; color: white; border: none; padding: 5px 10px; border-radius: 4px; font-size: 12px; cursor: pointer;">
                                        View on live map
                                    </button>
                                </div>
                                
                                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: #6b7280;">
                                    <div style="font-size: 20px; margin-bottom: 10px;"></div>
                                    <div style="font-weight: bold; margin-bottom: 5px;">Mapa de Rastreamento</div>
                                    <div style="font-size: 12px; margin-bottom: 15px;">
                                        <strong>Rota:</strong> ${n.originPort||""}  ${n.destinationPort||""}
                                    </div>
                                    
                                    <!-- Timeline -->
                                    <div style="display: flex; align-items: center; justify-content: center; margin: 20px 0;">
                                        <div style="display: flex; align-items: center; margin-right: 20px;">
                                            <div style="width: 12px; height: 12px; background: #3b82f6; border-radius: 50%; margin-right: 8px;"></div>
                                            <span style="font-size: 12px;">Departure from ${n.originPort||""}</span>
                                        </div>
                                        <div style="width: 40px; height: 2px; background: #d1d5db; margin: 0 10px;"></div>
                                        <div style="display: flex; align-items: center;">
                                            <div style="width: 12px; height: 12px; background: #9ca3af; border-radius: 50%; margin-right: 8px;"></div>
                                            <span style="font-size: 12px;">Arrival at ${n.destinationPort||""}</span>
                                        </div>
                                    </div>
                                    
                                    <!-- Informaes de Tempo -->
                                    <div style="font-size: 11px; color: #9ca3af;">
                                        <div><strong>Actual time of departure:</strong> ${n.actualDeparture||"2025-08-23 21:19 (UTC-5)"}</div>
                                        <div><strong>Reported ETA:</strong> ${n.reportedEta||"2025-09-03 12:00 (UTC-3)"}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Seo WhatsApp -->
                    <div class="whatsapp-section">
                        <h3> Rastreamento Automtico via WhatsApp</h3>
                        <p>Pensando em facilitar ainda mais sua rotina logstica, a SEA LOGISTICS oferece o rastreamento automtico de cargas via WhatsApp!</p>
                        
                        <p><strong> Basta enviar o nmero do seu booking para nosso WhatsApp!</strong></p>
                        
                        <p>Receba automaticamente:</p>
                        <ul>
                            <li>Status da carga</li>
                            <li>Localizao do navio</li>
                            <li>Previso de chegada</li>
                        </ul>
                        
                        <p><strong>Tudo isso sem login, sem complicaes, 24h por dia.</strong></p>
                        
                        <p><strong>Clique aqui e teste agora:</strong></p>
                        <a href="https://wa.me/5511959391837?text=Ol! Gostaria de rastrear meu booking ${n.booking||""}" class="cta-button">
                             Rastrear via WhatsApp
                        </a>
                    </div>
                </div>

                <!-- Footer -->
                <div class="footer">
                    <p> 2024 Sea Logistics International. Todos os direitos reservados.</p>
                    <p>Para suporte: contato@sealogistics.com.br</p>
                </div>
            </div>
        </body>
        </html>
    `;return Ky({to:r,subject:i,html:a})},CD=P.createContext(void 0),Nh=()=>{const r=P.useContext(CD);if(r===void 0)throw new Error("useShipments must be used within a ShipmentsProvider");return r},yY=({children:r})=>{const[e,n]=P.useState([]),[i,a]=P.useState(!0),{currentUser:o,isAdmin:s}=Mo();P.useEffect(()=>{if(!o){n([]),a(!1);return}let h;if(s())h=Ed(Ea(Jt,"shipments"),zx("createdAt","desc"));else if(o.role===gr.COMPANY_USER&&o.companyId)h=Ed(Ea(Jt,"shipments"),Zc("companyId","==",o.companyId),zx("createdAt","desc"));else{n([]),a(!1);return}const p=WK(h,y=>{const w=[];y.forEach(x=>{w.push({id:x.id,...x.data()})}),n(w),a(!1)},y=>{console.error("Error fetching shipments:",y),a(!1)});return()=>p()},[o,s]);const l=async h=>{try{if(!o)throw new Error("Usurio no autenticado");if(!s())throw new Error("Apenas administradores podem criar novos shipments");const p={...h,createdAt:new Date,updatedAt:new Date};h.companyId!==void 0?p.companyId=h.companyId:delete p.companyId;const y=await sD(Ea(Jt,"shipments"),p);if(console.log("Shipment added with ID: ",y.id),h.companyId)try{console.log("Buscando dados da empresa...");const w=await Jc(yn(Jt,"companies",h.companyId));if(w.exists()){const x=w.data();console.log("Dados da empresa:",x),x.contactEmail?(console.log("Preparando para enviar email para:",x.contactEmail),await Ky({to:x.contactEmail,subject:`Novo envio criado - ${h.numeroBl}`,html:`
                                    <h2>Novo envio criado</h2>
                                    <p>Um novo envio foi criado com os seguintes detalhes:</p>
                                    <ul>
                                        <li><strong>Nmero BL:</strong> ${h.numeroBl}</li>
                                        <li><strong>Cliente:</strong> ${h.cliente}</li>
                                        <li><strong>Operador:</strong> ${h.operador}</li>
                                        <li><strong>Tipo de Transporte:</strong> ${h.tipo||"No especificado"}</li>
                                        <li><strong>${h.tipo==="Areo"?"Aeroporto":h.tipo==="Terrestre"?"Local":"Porto"} de Origem:</strong> ${h.pol}</li>
                                        <li><strong>${h.tipo==="Areo"?"Aeroporto":h.tipo==="Terrestre"?"Local":"Porto"} de Destino:</strong> ${h.pod}</li>
                                        <li><strong>ETD Origem:</strong> ${h.etdOrigem}</li>
                                        <li><strong>ETA Destino:</strong> ${h.etaDestino}</li>
                                        <li><strong>Localizao Atual:</strong> ${h.currentLocation}</li>
                                        <li><strong>Quantidade de Containers:</strong> ${h.quantBox}</li>
                                        <li><strong>Status:</strong> ${h.status}</li>
                                        <li><strong>Armador:</strong> ${h.armador}</li>
                                        <li><strong>Booking:</strong> ${h.booking}</li>
                                        <li><strong>Invoice:</strong> ${h.invoice}</li>
                                        ${h.observacoes?`<li><strong>Observaes:</strong> ${h.observacoes}</li>`:""}
                                    </ul>
                                `})):console.log("Empresa no tem email de contato cadastrado")}else console.log("Empresa no encontrada no Firestore")}catch(w){console.error("=== ERRO AO ENVIAR EMAIL DE NOTIFICAO ==="),console.error("Detalhes do erro:",w)}}catch(p){throw console.error("Error adding shipment: ",p),p}},c=async h=>{try{if(!h.id)throw new Error("Shipment ID is required for updates");if(!u(h))throw new Error("Sem permisso para editar este shipment");console.log("=== INICIANDO ATUALIZAO DE SHIPMENT ==="),console.log("ID do shipment:",h.id),console.log("Company ID:",h.companyId);const p=yn(Jt,"shipments",h.id),y=await Jc(p);if(!y.exists())throw new Error("Shipment no encontrado");const x=y.data().status;if(console.log("Status atual:",x),console.log("Novo status:",h.status),await eu(p,{cliente:h.cliente,operador:h.operador,shipper:h.shipper,pol:h.pol,pod:h.pod,etdOrigem:h.etdOrigem,etaDestino:h.etaDestino,currentLocation:h.currentLocation,quantBox:h.quantBox,status:h.status,numeroBl:h.numeroBl,armador:h.armador,booking:h.booking,invoice:h.invoice,observacoes:h.observacoes||"",tipo:h.tipo||"",imo:h.imo||"",actualDeparture:h.actualDeparture||"",reportedEta:h.reportedEta||"",updatedAt:new Date}),x!==h.status&&h.companyId)try{console.log("Status alterado, buscando dados da empresa..."),console.log("Company ID para busca:",h.companyId);const b=await Jc(yn(Jt,"companies",h.companyId));if(console.log("Documento da empresa encontrado:",b.exists()),b.exists()){const S=b.data();console.log("Dados da empresa:",S),S.contactEmail?(console.log("Preparando para enviar email para:",S.contactEmail),h.tipo==="Martimo"?await vY(S.contactEmail,S.name||"Cliente",{vessel:h.armador,originPort:h.pol,destinationPort:h.pod,booking:h.booking,blNumber:h.numeroBl,etd:h.etdOrigem,eta:h.etaDestino,currentLocation:h.currentLocation,status:h.status,imo:h.imo||"9735206",actualDeparture:h.actualDeparture||`${h.etdOrigem} 21:19 (UTC-5)`,reportedEta:h.reportedEta||`${h.etaDestino} 12:00 (UTC-3)`}):await Ky({to:S.contactEmail,subject:`Status do envio atualizado - ${h.numeroBl}`,html:`
                                    <h2>Status do envio atualizado</h2>
                                    <p>O status do seu envio foi atualizado:</p>
                                    <ul>
                                        <li><strong>Nmero BL:</strong> ${h.numeroBl}</li>
                                        <li><strong>Status Anterior:</strong> ${x}</li>
                                        <li><strong>Novo Status:</strong> ${h.status}</li>
                                        <li><strong>Cliente:</strong> ${h.cliente}</li>
                                        <li><strong>Tipo de Transporte:</strong> ${h.tipo||"No especificado"}</li>
                                        <li><strong>Porto de Origem:</strong> ${h.pol}</li>
                                        <li><strong>Porto de Destino:</strong> ${h.pod}</li>
                                        <li><strong>Localizao Atual:</strong> ${h.currentLocation}</li>
                                        <li><strong>Observaes:</strong> ${h.observacoes}</li>
                                    </ul>
                                `})):console.log("Empresa no tem email de contato cadastrado")}else console.log("Empresa no encontrada no Firestore")}catch(b){console.error("=== ERRO AO ENVIAR EMAIL DE NOTIFICAO ==="),console.error("Detalhes do erro:",b)}else console.log("Status no foi alterado ou shipment no tem companyId"),console.log("oldStatus === updatedShipment.status:",x===h.status),console.log("updatedShipment.companyId:",h.companyId);console.log("Shipment updated successfully:",h.id)}catch(p){throw console.error("Error updating shipment: ",p),p}},u=h=>o?s()?!0:o.role===gr.COMPANY_USER?h.companyId===o.companyId:!1:!1,f={shipments:e,addShipment:l,updateShipment:c,canEditShipment:u,canCreateShipment:()=>s(),loading:i};return m.jsx(CD.Provider,{value:f,children:r})},xT=()=>{const[r]=E6();return P.useEffect(()=>{let e=!1,n=!1;const i=async()=>{var c;if(e||n)return;n=!0,e=!0;const o=r.get("code"),s=r.get("error"),l=r.get("state");if(s){(c=window.opener)==null||c.postMessage({type:"EXCEL_AUTH_ERROR",error:s},window.location.origin);return}o&&l==="excel_auth"&&await a(o),n=!1},a=async o=>{var s,l,c;try{if(sessionStorage.getItem("excel_used_code")===o){console.log("Cdigo j foi usado, ignorando...");return}sessionStorage.setItem("excel_used_code",o);let d=sessionStorage.getItem("excel_code_verifier"),f=null;if(d||(d=localStorage.getItem("excel_code_verifier_backup"),console.log("Code verifier recuperado do localStorage backup")),!d){const w=localStorage.getItem("excel_pkce_data");if(w)try{f=JSON.parse(w),d=f.verifier,console.log("Code verifier recuperado dos dados PKCE completos"),console.log("PKCE Data:",{timestamp:new Date(f.timestamp).toISOString(),origin:f.origin,challenge:((s=f.challenge)==null?void 0:s.substring(0,10))+"..."})}catch(x){console.error("Erro ao parsear dados PKCE:",x)}}if(!d)throw console.error("Code verifier no encontrado em nenhum local de armazenamento"),console.log("SessionStorage keys:",Object.keys(sessionStorage)),console.log("LocalStorage keys:",Object.keys(localStorage).filter(w=>w.includes("excel"))),new Error("Code verifier no encontrado");console.log("=== PKCE DEBUG ==="),console.log("Code verifier encontrado:",d.substring(0,10)+"..."),console.log("Code verifier length:",d.length),console.log("Cdigo recebido:",o.substring(0,10)+"...");const h=window.location.hostname==="localhost"?"http://localhost:3002/api/excel/token":"/api/excel/token";console.log("Fazendo requisio para:",h);const p=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:o,code_verifier:d})});if(!p.ok){const w=await p.text();throw console.error("Erro na resposta do servidor:",p.status,w),new Error(`Erro ${p.status}: ${w}`)}const y=await p.json();console.log("Token recebido com sucesso:",y),sessionStorage.removeItem("excel_code_verifier"),sessionStorage.removeItem("excel_used_code"),localStorage.removeItem("excel_code_verifier_backup"),localStorage.removeItem("excel_pkce_data"),(l=window.opener)==null||l.postMessage({type:"EXCEL_AUTH_SUCCESS",token:y.access_token},window.location.origin)}catch(u){console.error("Erro na troca de cdigo:",u),(c=window.opener)==null||c.postMessage({type:"EXCEL_AUTH_ERROR",error:u instanceof Error?u.message:"Erro na autenticao"},window.location.origin)}};i().catch(console.error)},[r]),m.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"Arial, sans-serif"},children:m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("h2",{children:"Autenticando com Microsoft Excel..."}),m.jsx("p",{children:"Por favor, aguarde enquanto configuramos sua conexo."}),m.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"20px auto"}}),m.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]})})};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ut=(r,e)=>{const n=P.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:c,...u},d)=>P.createElement("svg",{ref:d,...wY,width:a,height:a,stroke:i,strokeWidth:s?Number(o)*24/Number(a):o,className:["lucide",`lucide-${bY(r)}`,l].join(" "),...u},[...e.map(([f,h])=>P.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Ut("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=Ut("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=Ut("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=Ut("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=Ut("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=Ut("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Ut("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Ut("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=Ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=Ut("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=Ut("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Ut("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=Ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=Ut("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=Ut("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=Ut("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=Ut("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=Ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=Ut("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Ut("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=Ut("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=Ut("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=Ut("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=Ut("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=Ut("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=Ut("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=Ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Ut("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Ut("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=Ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=Ut("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=Ut("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=Ut("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=Ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=Ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cu=()=>{const[r,e]=P.useState(!1),[n,i]=P.useState([]),[a,o]=P.useState(""),[s,l]=P.useState(!1),c=P.useRef(null),u=()=>{e(!r),!r&&n.length===0&&setTimeout(()=>{i([{id:Date.now(),text:"Ol! Sou o assistente virtual da SeaLogistics. Como posso ajudar voc hoje?",sender:"bot"}])},500)},d=w=>{o(w.target.value)},f=()=>{var w;(w=c.current)==null||w.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{f()},[n]);const h=()=>{const w=["Entendi! Vou verificar essa informao para voc.","Obrigado pela sua mensagem. Posso ajudar com mais alguma coisa?","A SeaLogistics oferece diversos servios de logstica martima. Gostaria de saber mais sobre algum servio especfico?","Estou processando sua solicitao. Em breve teremos uma resposta para voc.","Isso  interessante! Vamos analisar as melhores opes para sua necessidade."],x=w[Math.floor(Math.random()*w.length)];l(!0),setTimeout(()=>{i(b=>[...b,{id:Date.now(),text:x,sender:"bot"}]),l(!1)},1500)},p=()=>{if(a.trim()==="")return;const w={id:Date.now(),text:a,sender:"user"};i(x=>[...x,w]),o(""),h()},y=w=>{w.key==="Enter"&&p()};return m.jsx("div",{className:"chat-assistant-container",children:r?m.jsxs("div",{className:"chat-window",children:[m.jsxs("div",{className:"chat-header",children:[m.jsxs("div",{className:"chat-title",children:[m.jsx(AY,{size:20}),m.jsx("span",{children:"Assistente SeaLogistics"})]}),m.jsx("button",{className:"close-button",onClick:u,"aria-label":"Fechar chat",children:m.jsx(Ul,{size:20})})]}),m.jsxs("div",{className:"messages-container",children:[n.map(w=>m.jsx("div",{className:`message ${w.sender}`,children:w.text},w.id)),s&&m.jsx("div",{className:"message bot typing",children:m.jsxs("span",{className:"typing-indicator",children:[m.jsx("span",{className:"dot"}),m.jsx("span",{className:"dot"}),m.jsx("span",{className:"dot"})]})}),m.jsx("div",{ref:c})]}),m.jsxs("div",{className:"input-container",children:[m.jsx("input",{type:"text",value:a,onChange:d,onKeyPress:y,placeholder:"Digite sua mensagem...","aria-label":"Mensagem"}),m.jsx("button",{className:"send-button",onClick:p,disabled:a.trim()==="","aria-label":"Enviar mensagem",children:m.jsx(FY,{size:18})})]})]}):m.jsx("button",{className:"chat-button",onClick:u,"aria-label":"Abrir chat",children:m.jsx(OY,{size:24})})})};function FD(r){var e,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(n=FD(r[e]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function fr(){for(var r,e,n=0,i="",a=arguments.length;n<a;n++)(r=arguments[n])&&(e=FD(r))&&(i&&(i+=" "),i+=e);return i}var P1={},BD={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}r.isUnsafeProperty=e})(BD);var YA={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}r.isDeepKey=e})(YA);var QA={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){var i;return typeof n=="string"||typeof n=="symbol"?n:Object.is((i=n==null?void 0:n.valueOf)==null?void 0:i.call(n),-0)?"-0":String(n)}r.toKey=e})(QA);var N1={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){const i=[],a=n.length;if(a===0)return i;let o=0,s="",l="",c=!1;for(n.charCodeAt(0)===46&&(i.push(""),o++);o<a;){const u=n[o];l?u==="\\"&&o+1<a?(o++,s+=n[o]):u===l?l="":s+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,i.push(s),s=""):s+=u:u==="["?(c=!0,s&&(i.push(s),s="")):u==="."?s&&(i.push(s),s=""):s+=u,o++}return s&&i.push(s),i}r.toPath=e})(N1);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=BD,n=YA,i=QA,a=N1;function o(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?n.isDeepKey(c)?o(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=i.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function s(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||e.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}r.get=o})(P1);var zY=P1.get;const uu=Js(zY);var UD={exports:{}},jr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA=Symbol.for("react.transitional.element"),ZA=Symbol.for("react.portal"),T1=Symbol.for("react.fragment"),C1=Symbol.for("react.strict_mode"),I1=Symbol.for("react.profiler"),j1=Symbol.for("react.consumer"),O1=Symbol.for("react.context"),L1=Symbol.for("react.forward_ref"),D1=Symbol.for("react.suspense"),R1=Symbol.for("react.suspense_list"),M1=Symbol.for("react.memo"),F1=Symbol.for("react.lazy"),VY=Symbol.for("react.view_transition"),qY=Symbol.for("react.client.reference");function Bo(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case XA:switch(r=r.type,r){case T1:case I1:case C1:case D1:case R1:case VY:return r;default:switch(r=r&&r.$$typeof,r){case O1:case L1:case F1:case M1:return r;case j1:return r;default:return e}}case ZA:return e}}}jr.ContextConsumer=j1;jr.ContextProvider=O1;jr.Element=XA;jr.ForwardRef=L1;jr.Fragment=T1;jr.Lazy=F1;jr.Memo=M1;jr.Portal=ZA;jr.Profiler=I1;jr.StrictMode=C1;jr.Suspense=D1;jr.SuspenseList=R1;jr.isContextConsumer=function(r){return Bo(r)===j1};jr.isContextProvider=function(r){return Bo(r)===O1};jr.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===XA};jr.isForwardRef=function(r){return Bo(r)===L1};jr.isFragment=function(r){return Bo(r)===T1};jr.isLazy=function(r){return Bo(r)===F1};jr.isMemo=function(r){return Bo(r)===M1};jr.isPortal=function(r){return Bo(r)===ZA};jr.isProfiler=function(r){return Bo(r)===I1};jr.isStrictMode=function(r){return Bo(r)===C1};jr.isSuspense=function(r){return Bo(r)===D1};jr.isSuspenseList=function(r){return Bo(r)===R1};jr.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===T1||r===I1||r===C1||r===D1||r===R1||typeof r=="object"&&r!==null&&(r.$$typeof===F1||r.$$typeof===M1||r.$$typeof===O1||r.$$typeof===j1||r.$$typeof===L1||r.$$typeof===qY||r.getModuleId!==void 0)};jr.typeOf=Bo;UD.exports=jr;var WY=UD.exports,ui=r=>r===0?0:r>0?1:-1,no=r=>typeof r=="number"&&r!=+r,rd=r=>typeof r=="string"&&r.indexOf("%")===r.length-1,He=r=>(typeof r=="number"||r instanceof Number)&&!no(r),Qs=r=>He(r)||typeof r=="string",HY=0,Dm=r=>{var e=++HY;return"".concat(r||"").concat(e)},aa=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(e)&&typeof e!="string")return i;var o;if(rd(e)){if(n==null)return i;var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return no(o)&&(o=i),a&&n!=null&&o>n&&(o=n),o},$D=r=>{if(!Array.isArray(r))return!1;for(var e=r.length,n={},i=0;i<e;i++)if(!n[r[i]])n[r[i]]=!0;else return!0;return!1},AT=(r,e)=>He(r)&&He(e)?n=>r+n*(e-r):()=>e;function ts(r,e,n){return He(r)&&He(e)?r+n*(e-r):e}function zD(r,e,n){if(!(!r||!r.length))return r.find(i=>i&&(typeof e=="function"?e(i):uu(i,e))===n)}var Gr=r=>r===null||typeof r>"u",dg=r=>Gr(r)?r:"".concat(r.charAt(0).toUpperCase()).concat(r.slice(1)),KY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function JA(r){if(typeof r!="string")return!1;var e=KY;return e.includes(r)}var GY=["viewBox","children"],ST=["points","pathLength"],kw={svg:GY,polygon:ST,polyline:ST},eS=(r,e)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var n=r;if(P.isValidElement(r)&&(n=r.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{JA(a)&&(i[a]=o=>n[a](n,o))}),i},YY=(r,e,n)=>i=>(r(e,n,i),null),fg=(r,e,n)=>{if(r===null||typeof r!="object"&&typeof r!="function")return null;var i=null;return Object.keys(r).forEach(a=>{var o=r[a];JA(a)&&typeof o=="function"&&(i||(i={}),i[a]=YY(o,e,n))}),i},QY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function VD(r){if(typeof r!="string")return!1;var e=QY;return e.includes(r)}function Yl(r){var e=Object.entries(r).filter(n=>{var[i]=n;return VD(i)});return Object.fromEntries(e)}var ET=r=>typeof r=="string"?r:r?r.displayName||r.name||"Component":"",kT=null,Pw=null,qD=r=>{if(r===kT&&Array.isArray(Pw))return Pw;var e=[];return P.Children.forEach(r,n=>{Gr(n)||(WY.isFragment(n)?e=e.concat(qD(n.props.children)):e.push(n))}),Pw=e,kT=r,e};function hg(r,e){var n=[],i=[];return Array.isArray(e)?i=e.map(a=>ET(a)):i=[ET(e)],qD(r).forEach(a=>{var o=uu(a,"type.displayName")||uu(a,"type.name");i.indexOf(o)!==-1&&n.push(a)}),n}var WD=r=>r&&typeof r=="object"&&"clipDot"in r?!!r.clipDot:!0,XY=(r,e,n,i)=>{var a;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(a=i&&(kw==null?void 0:kw[i]))!==null&&a!==void 0?a:[],s=e.startsWith("data-"),l=typeof r!="function"&&(!!i&&o.includes(e)||VD(e)),c=!!n&&JA(e);return s||l||c},tn=(r,e,n)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var i=r;if(P.isValidElement(r)&&(i=r.props),typeof i!="object"&&typeof i!="function")return null;var a={};return Object.keys(i).forEach(o=>{var s;XY((s=i)===null||s===void 0?void 0:s[o],o,e,n)&&(a[o]=i[o])}),a},ZY=["children","width","height","viewBox","className","style","title","desc"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Hx.apply(null,arguments)}function JY(r,e){if(r==null)return{};var n,i,a=eQ(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function eQ(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}var tS=P.forwardRef((r,e)=>{var{children:n,width:i,height:a,viewBox:o,className:s,style:l,title:c,desc:u}=r,d=JY(r,ZY),f=o||{width:i,height:a,x:0,y:0},h=fr("recharts-surface",s);return P.createElement("svg",Hx({},tn(d,!0,"svg"),{className:h,width:i,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),P.createElement("title",null,c),P.createElement("desc",null,u),n)}),tQ=["children","className"];function Kx(){return Kx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Kx.apply(null,arguments)}function rQ(r,e){if(r==null)return{};var n,i,a=nQ(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function nQ(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}var Ki=P.forwardRef((r,e)=>{var{children:n,className:i}=r,a=rQ(r,tQ),o=fr("recharts-layer",i);return P.createElement("g",Kx({className:o},tn(a,!0),{ref:e}),n)}),HD=P.createContext(null),iQ=()=>P.useContext(HD);function Mr(r){return function(){return r}}const KD=Math.cos,Gy=Math.sin,us=Math.sqrt,Yy=Math.PI,B1=2*Yy,Gx=Math.PI,Yx=2*Gx,Ku=1e-6,aQ=Yx-Ku;function GD(r){this._+=r[0];for(let e=1,n=r.length;e<n;++e)this._+=arguments[e]+r[e]}function oQ(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return GD;const n=10**e;return function(i){this._+=i[0];for(let a=1,o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}class sQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?GD:oQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,a){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(e,n,i,a,o,s){this._append`C${+e},${+n},${+i},${+a},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,i,a,o){if(e=+e,n=+n,i=+i,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=i-e,u=a-n,d=s-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ku)if(!(Math.abs(f*c-u*d)>Ku)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=i-s,y=a-l,w=c*c+u*u,x=p*p+y*y,b=Math.sqrt(w),S=Math.sqrt(h),A=o*Math.tan((Gx-Math.acos((w+h-x)/(2*b*S)))/2),I=A/S,B=A/b;Math.abs(I-1)>Ku&&this._append`L${e+I*d},${n+I*f}`,this._append`A${o},${o},0,0,${+(f*p>d*y)},${this._x1=e+B*c},${this._y1=n+B*u}`}}arc(e,n,i,a,o,s){if(e=+e,n=+n,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(a),c=i*Math.sin(a),u=e+l,d=n+c,f=1^s,h=s?a-o:o-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ku||Math.abs(this._y1-d)>Ku)&&this._append`L${u},${d}`,i&&(h<0&&(h=h%Yx+Yx),h>aQ?this._append`A${i},${i},0,1,${f},${e-l},${n-c}A${i},${i},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ku&&this._append`A${i},${i},0,${+(h>=Gx)},${f},${this._x1=e+i*Math.cos(o)},${this._y1=n+i*Math.sin(o)}`)}rect(e,n,i,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function rS(r){let e=3;return r.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return r},()=>new sQ(e)}function nS(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function YD(r){this._context=r}YD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function U1(r){return new YD(r)}function QD(r){return r[0]}function XD(r){return r[1]}function ZD(r,e){var n=Mr(!0),i=null,a=U1,o=null,s=rS(l);r=typeof r=="function"?r:r===void 0?QD:Mr(r),e=typeof e=="function"?e:e===void 0?XD:Mr(e);function l(c){var u,d=(c=nS(c)).length,f,h=!1,p;for(i==null&&(o=a(p=s())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+r(f,u,c),+e(f,u,c));if(p)return o=null,p+""||null}return l.x=function(c){return arguments.length?(r=typeof c=="function"?c:Mr(+c),l):r},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Mr(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Mr(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,i!=null&&(o=a(i)),l):a},l.context=function(c){return arguments.length?(c==null?i=o=null:o=a(i=c),l):i},l}function mv(r,e,n){var i=null,a=Mr(!0),o=null,s=U1,l=null,c=rS(u);r=typeof r=="function"?r:r===void 0?QD:Mr(+r),e=typeof e=="function"?e:Mr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?XD:Mr(+n);function u(f){var h,p,y,w=(f=nS(f)).length,x,b=!1,S,A=new Array(w),I=new Array(w);for(o==null&&(l=s(S=c())),h=0;h<=w;++h){if(!(h<w&&a(x=f[h],h,f))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(A[y],I[y]);l.lineEnd(),l.areaEnd()}b&&(A[h]=+r(x,h,f),I[h]=+e(x,h,f),l.point(i?+i(x,h,f):A[h],n?+n(x,h,f):I[h]))}if(S)return l=null,S+""||null}function d(){return ZD().defined(a).curve(s).context(o)}return u.x=function(f){return arguments.length?(r=typeof f=="function"?f:Mr(+f),i=null,u):r},u.x0=function(f){return arguments.length?(r=typeof f=="function"?f:Mr(+f),u):r},u.x1=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:Mr(+f),u):i},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Mr(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Mr(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Mr(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(r).y(e)},u.lineY1=function(){return d().x(r).y(n)},u.lineX1=function(){return d().x(i).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Mr(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,o!=null&&(l=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=l=null:l=s(o=f),u):o},u}class JD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function lQ(r){return new JD(r,!0)}function cQ(r){return new JD(r,!1)}const iS={draw(r,e){const n=us(e/Yy);r.moveTo(n,0),r.arc(0,0,n,0,B1)}},uQ={draw(r,e){const n=us(e/5)/2;r.moveTo(-3*n,-n),r.lineTo(-n,-n),r.lineTo(-n,-3*n),r.lineTo(n,-3*n),r.lineTo(n,-n),r.lineTo(3*n,-n),r.lineTo(3*n,n),r.lineTo(n,n),r.lineTo(n,3*n),r.lineTo(-n,3*n),r.lineTo(-n,n),r.lineTo(-3*n,n),r.closePath()}},eR=us(1/3),dQ=eR*2,fQ={draw(r,e){const n=us(e/dQ),i=n*eR;r.moveTo(0,-n),r.lineTo(i,0),r.lineTo(0,n),r.lineTo(-i,0),r.closePath()}},hQ={draw(r,e){const n=us(e),i=-n/2;r.rect(i,i,n,n)}},pQ=.8908130915292852,tR=Gy(Yy/10)/Gy(7*Yy/10),mQ=Gy(B1/10)*tR,gQ=-KD(B1/10)*tR,vQ={draw(r,e){const n=us(e*pQ),i=mQ*n,a=gQ*n;r.moveTo(0,-n),r.lineTo(i,a);for(let o=1;o<5;++o){const s=B1*o/5,l=KD(s),c=Gy(s);r.lineTo(c*n,-l*n),r.lineTo(l*i-c*a,c*i+l*a)}r.closePath()}},Nw=us(3),yQ={draw(r,e){const n=-us(e/(Nw*3));r.moveTo(0,n*2),r.lineTo(-Nw*n,-n),r.lineTo(Nw*n,-n),r.closePath()}},xo=-.5,_o=us(3)/2,Qx=1/us(12),wQ=(Qx/2+1)*3,bQ={draw(r,e){const n=us(e/wQ),i=n/2,a=n*Qx,o=i,s=n*Qx+n,l=-o,c=s;r.moveTo(i,a),r.lineTo(o,s),r.lineTo(l,c),r.lineTo(xo*i-_o*a,_o*i+xo*a),r.lineTo(xo*o-_o*s,_o*o+xo*s),r.lineTo(xo*l-_o*c,_o*l+xo*c),r.lineTo(xo*i+_o*a,xo*a-_o*i),r.lineTo(xo*o+_o*s,xo*s-_o*o),r.lineTo(xo*l+_o*c,xo*c-_o*l),r.closePath()}};function xQ(r,e){let n=null,i=rS(a);r=typeof r=="function"?r:Mr(r||iS),e=typeof e=="function"?e:Mr(e===void 0?64:+e);function a(){let o;if(n||(n=o=i()),r.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return a.type=function(o){return arguments.length?(r=typeof o=="function"?o:Mr(o),a):r},a.size=function(o){return arguments.length?(e=typeof o=="function"?o:Mr(+o),a):e},a.context=function(o){return arguments.length?(n=o??null,a):n},a}function Qy(){}function Xy(r,e,n){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+n)/6)}function rR(r){this._context=r}rR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xy(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function _Q(r){return new rR(r)}function nR(r){this._context=r}nR.prototype={areaStart:Qy,areaEnd:Qy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:Xy(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function AQ(r){return new nR(r)}function iR(r){this._context=r}iR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+r)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Xy(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function SQ(r){return new iR(r)}function aR(r){this._context=r}aR.prototype={areaStart:Qy,areaEnd:Qy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function EQ(r){return new aR(r)}function PT(r){return r<0?-1:1}function NT(r,e,n){var i=r._x1-r._x0,a=e-r._x1,o=(r._y1-r._y0)/(i||a<0&&-0),s=(n-r._y1)/(a||i<0&&-0),l=(o*a+s*i)/(i+a);return(PT(o)+PT(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function TT(r,e){var n=r._x1-r._x0;return n?(3*(r._y1-r._y0)/n-e)/2:e}function Tw(r,e,n){var i=r._x0,a=r._y0,o=r._x1,s=r._y1,l=(o-i)/3;r._context.bezierCurveTo(i+l,a+l*e,o-l,s-l*n,o,s)}function Zy(r){this._context=r}Zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tw(this,this._t0,TT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var n=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,Tw(this,TT(this,n=NT(this,r,e)),n);break;default:Tw(this,this._t0,n=NT(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=n}}};function oR(r){this._context=new sR(r)}(oR.prototype=Object.create(Zy.prototype)).point=function(r,e){Zy.prototype.point.call(this,e,r)};function sR(r){this._context=r}sR.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,n,i,a,o){this._context.bezierCurveTo(e,r,i,n,o,a)}};function kQ(r){return new Zy(r)}function PQ(r){return new oR(r)}function lR(r){this._context=r}lR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,n=r.length;if(n)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),n===2)this._context.lineTo(r[1],e[1]);else for(var i=CT(r),a=CT(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],a[0][o],i[1][o],a[1][o],r[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function CT(r){var e,n=r.length-1,i,a=new Array(n),o=new Array(n),s=new Array(n);for(a[0]=0,o[0]=2,s[0]=r[0]+2*r[1],e=1;e<n-1;++e)a[e]=1,o[e]=4,s[e]=4*r[e]+2*r[e+1];for(a[n-1]=2,o[n-1]=7,s[n-1]=8*r[n-1]+r[n],e=1;e<n;++e)i=a[e]/o[e-1],o[e]-=i,s[e]-=i*s[e-1];for(a[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)a[e]=(s[e]-a[e+1])/o[e];for(o[n-1]=(r[n]+a[n-1])/2,e=0;e<n-1;++e)o[e]=2*r[e+1]-a[e+1];return[a,o]}function NQ(r){return new lR(r)}function $1(r,e){this._context=r,this._t=e}$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var n=this._x*(1-this._t)+r*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=r,this._y=e}};function TQ(r){return new $1(r,.5)}function CQ(r){return new $1(r,0)}function IQ(r){return new $1(r,1)}function ah(r,e){if((s=r.length)>1)for(var n=1,i,a,o=r[e[0]],s,l=o.length;n<s;++n)for(a=o,o=r[e[n]],i=0;i<l;++i)o[i][1]+=o[i][0]=isNaN(a[i][1])?a[i][0]:a[i][1]}function Xx(r){for(var e=r.length,n=new Array(e);--e>=0;)n[e]=e;return n}function jQ(r,e){return r[e]}function OQ(r){const e=[];return e.key=r,e}function LQ(){var r=Mr([]),e=Xx,n=ah,i=jQ;function a(o){var s=Array.from(r.apply(this,arguments),OQ),l,c=s.length,u=-1,d;for(const f of o)for(l=0,++u;l<c;++l)(s[l][u]=[0,+i(f,s[l].key,u,o)]).data=f;for(l=0,d=nS(e(s));l<c;++l)s[d[l]].index=l;return n(s,d),s}return a.keys=function(o){return arguments.length?(r=typeof o=="function"?o:Mr(Array.from(o)),a):r},a.value=function(o){return arguments.length?(i=typeof o=="function"?o:Mr(+o),a):i},a.order=function(o){return arguments.length?(e=o==null?Xx:typeof o=="function"?o:Mr(Array.from(o)),a):e},a.offset=function(o){return arguments.length?(n=o??ah,a):n},a}function DQ(r,e){if((i=r.length)>0){for(var n,i,a=0,o=r[0].length,s;a<o;++a){for(s=n=0;n<i;++n)s+=r[n][a][1]||0;if(s)for(n=0;n<i;++n)r[n][a][1]/=s}ah(r,e)}}function RQ(r,e){if((a=r.length)>0){for(var n=0,i=r[e[0]],a,o=i.length;n<o;++n){for(var s=0,l=0;s<a;++s)l+=r[s][n][1]||0;i[n][1]+=i[n][0]=-l/2}ah(r,e)}}function MQ(r,e){if(!(!((s=r.length)>0)||!((o=(a=r[e[0]]).length)>0))){for(var n=0,i=1,a,o,s;i<o;++i){for(var l=0,c=0,u=0;l<s;++l){for(var d=r[e[l]],f=d[i][1]||0,h=d[i-1][1]||0,p=(f-h)/2,y=0;y<l;++y){var w=r[e[y]],x=w[i][1]||0,b=w[i-1][1]||0;p+=x-b}c+=f,u+=p*f}a[i-1][1]+=a[i-1][0]=n,c&&(n-=u/c)}a[i-1][1]+=a[i-1][0]=n,ah(r,e)}}var FQ=["type","size","sizeType"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Zx.apply(null,arguments)}function IT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function jT(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(n),!0).forEach(function(i){BQ(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function BQ(r,e,n){return(e=UQ(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function UQ(r){var e=$Q(r,"string");return typeof e=="symbol"?e:e+""}function $Q(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function zQ(r,e){if(r==null)return{};var n,i,a=VQ(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function VQ(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}var cR={symbolCircle:iS,symbolCross:uQ,symbolDiamond:fQ,symbolSquare:hQ,symbolStar:vQ,symbolTriangle:yQ,symbolWye:bQ},qQ=Math.PI/180,WQ=r=>{var e="symbol".concat(dg(r));return cR[e]||iS},HQ=(r,e,n)=>{if(e==="area")return r;switch(n){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var i=18*qQ;return 1.25*r*r*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},KQ=(r,e)=>{cR["symbol".concat(dg(r))]=e},aS=r=>{var{type:e="circle",size:n=64,sizeType:i="area"}=r,a=zQ(r,FQ),o=jT(jT({},a),{},{type:e,size:n,sizeType:i}),s=()=>{var f=WQ(e),h=xQ().type(f).size(HQ(n,i,e));return h()},{className:l,cx:c,cy:u}=o,d=tn(o,!0);return c===+c&&u===+u&&n===+n?P.createElement("path",Zx({},d,{className:fr("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:s()})):null};aS.registerSymbol=KQ;function Jx(){return Jx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Jx.apply(null,arguments)}function OT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function GQ(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(i){oS(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function oS(r,e,n){return(e=YQ(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function YQ(r){var e=QQ(r,"string");return typeof e=="symbol"?e:e+""}function QQ(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Ao=32;class sS extends P.PureComponent{renderIcon(e,n){var{inactiveColor:i}=this.props,a=Ao/2,o=Ao/6,s=Ao/3,l=e.inactive?i:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline")return P.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:Ao,y2:a,className:"recharts-legend-icon"});if(c==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Ao,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return P.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ao/8,"h").concat(Ao,"v").concat(Ao*3/4,"h").concat(-Ao,"z"),className:"recharts-legend-icon"});if(P.isValidElement(e.legendIcon)){var u=GQ({},e);return delete u.legendIcon,P.cloneElement(e.legendIcon,u)}return P.createElement(aS,{fill:l,cx:a,cy:a,size:Ao,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:n,layout:i,formatter:a,inactiveColor:o,iconType:s}=this.props,l={x:0,y:0,width:Ao,height:Ao},c={display:i==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,f)=>{var h=d.formatter||a,p=fr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?o:d.color,w=h?h(d.value,d,f):d.value;return P.createElement("li",Jx({className:p,style:c,key:"legend-item-".concat(f)},fg(this.props,d,f)),P.createElement(tS,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(w," legend icon")},this.renderIcon(d,s)),P.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},w))})}render(){var{payload:e,layout:n,align:i}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}oS(sS,"displayName","Legend");oS(sS,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var uR={},dR={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n,i){const a=new Map;for(let o=0;o<n.length;o++){const s=n[o],l=i(s);a.has(l)||a.set(l,s)}return Array.from(a.values())}r.uniqBy=e})(dR);var lS={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return n}r.identity=e})(lS);var fR={},z1={},hR={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}r.isLength=e})(hR);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=hR;function n(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}r.isArrayLike=n})(z1);var pR={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}r.isObjectLike=e})(pR);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=z1,n=pR;function i(a){return n.isObjectLike(a)&&e.isArrayLike(a)}r.isArrayLikeObject=i})(fR);var mR={},gR={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=P1;function n(i){return function(a){return e.get(a,i)}}r.property=n})(gR);var vR={},Cw={},Iw={},cS={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}r.isObject=e})(cS);var uS={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}r.isPrimitive=e})(uS);var V1={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}r.eq=e})(V1);var LT;function XQ(){return LT||(LT=1,function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=dS(),n=cS,i=uS,a=V1;function o(f,h,p){return typeof p!="function"?e.isMatch(f,h):s(f,h,function y(w,x,b,S,A,I){const B=p(w,x,b,S,A,I);return B!==void 0?!!B:s(w,x,y,I)},new Map)}function s(f,h,p,y){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,p,y);case"function":return Object.keys(h).length>0?s(f,{...h},p,y):a.eq(f,h);default:return n.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function l(f,h,p,y){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,y);if(h instanceof Map)return c(f,h,p,y);if(h instanceof Set)return d(f,h,p,y);const w=Object.keys(h);if(f==null)return w.length===0;if(w.length===0)return!0;if(y&&y.has(h))return y.get(h)===f;y&&y.set(h,f);try{for(let x=0;x<w.length;x++){const b=w[x];if(!i.isPrimitive(f)&&!(b in f)||h[b]===void 0&&f[b]!==void 0||h[b]===null&&f[b]!==null||!p(f[b],h[b],b,f,h,y))return!1}return!0}finally{y&&y.delete(h)}}function c(f,h,p,y){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[w,x]of h.entries()){const b=f.get(w);if(p(b,x,w,f,h,y)===!1)return!1}return!0}function u(f,h,p,y){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const w=new Set;for(let x=0;x<h.length;x++){const b=h[x];let S=!1;for(let A=0;A<f.length;A++){if(w.has(A))continue;const I=f[A];let B=!1;if(p(I,b,x,f,h,y)&&(B=!0),B){w.add(A),S=!0;break}}if(!S)return!1}return!0}function d(f,h,p,y){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,y):!1}r.isMatchWith=o,r.isSetMatch=d}(Iw)),Iw}var DT;function dS(){return DT||(DT=1,function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=XQ();function n(i,a){return e.isMatchWith(i,a,()=>{})}r.isMatch=n}(Cw)),Cw}var yR={},fS={},hS={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}r.getSymbols=e})(hS);var q1={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}r.getTag=e})(q1);var W1={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",i="[object Number]",a="[object Boolean]",o="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",y="[object Error]",w="[object DataView]",x="[object Uint8Array]",b="[object Uint8ClampedArray]",S="[object Uint16Array]",A="[object Uint32Array]",I="[object BigUint64Array]",B="[object Int8Array]",$="[object Int16Array]",D="[object Int32Array]",j="[object BigInt64Array]",O="[object Float32Array]",U="[object Float64Array]";r.argumentsTag=o,r.arrayBufferTag=h,r.arrayTag=d,r.bigInt64ArrayTag=j,r.bigUint64ArrayTag=I,r.booleanTag=a,r.dataViewTag=w,r.dateTag=l,r.errorTag=y,r.float32ArrayTag=O,r.float64ArrayTag=U,r.functionTag=f,r.int16ArrayTag=$,r.int32ArrayTag=D,r.int8ArrayTag=B,r.mapTag=c,r.numberTag=i,r.objectTag=p,r.regexpTag=e,r.setTag=u,r.stringTag=n,r.symbolTag=s,r.uint16ArrayTag=S,r.uint32ArrayTag=A,r.uint8ArrayTag=x,r.uint8ClampedArrayTag=b})(W1);var wR={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}r.isTypedArray=e})(wR);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=hS,n=q1,i=W1,a=uS,o=wR;function s(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,p=new Map,y=void 0){const w=y==null?void 0:y(d,f,h,p);if(w!==void 0)return w;if(a.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const x=new Array(d.length);p.set(d,x);for(let b=0;b<d.length;b++)x[b]=l(d[b],b,h,p,y);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;p.set(d,x);for(const[b,S]of d)x.set(b,l(S,b,h,p,y));return x}if(d instanceof Set){const x=new Set;p.set(d,x);for(const b of d)x.add(l(b,void 0,h,p,y));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(o.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,x);for(let b=0;b<d.length;b++)x[b]=l(d[b],b,h,p,y);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,x),c(x,d,h,p,y),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return p.set(d,x),c(x,d,h,p,y),x}if(d instanceof Blob){const x=new Blob([d],{type:d.type});return p.set(d,x),c(x,d,h,p,y),x}if(d instanceof Error){const x=new d.constructor;return p.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,h,p,y),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return p.set(d,x),c(x,d,h,p,y),x}return d}function c(d,f,h=d,p,y){const w=[...Object.keys(f),...e.getSymbols(f)];for(let x=0;x<w.length;x++){const b=w[x],S=Object.getOwnPropertyDescriptor(d,b);(S==null||S.writable)&&(d[b]=l(f[b],b,h,p,y))}}function u(d){switch(n.getTag(d)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}r.cloneDeepWith=s,r.cloneDeepWithImpl=l,r.copyProperties=c})(fS);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=fS;function n(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}r.cloneDeep=n})(yR);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=dS(),n=yR;function i(a){return a=n.cloneDeep(a),o=>e.isMatch(o,a)}r.matches=i})(vR);var bR={},xR={},_R={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=fS,n=W1;function i(a,o){return e.cloneDeepWith(a,(s,l,c,u)=>{const d=o==null?void 0:o(s,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(f,a),f}case n.argumentsTag:{const f={};return e.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}r.cloneDeepWith=i})(_R);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=_R;function n(i){return e.cloneDeepWith(i)}r.cloneDeep=n})(xR);var AR={},pS={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(i,a=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<a;case"symbol":return!1;case"string":return e.test(i)}}r.isIndex=n})(pS);var SR={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=q1;function n(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}r.isArguments=n})(SR);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=YA,n=pS,i=SR,a=N1;function o(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&(s==null?void 0:s[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||i.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}r.has=o})(AR);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=dS(),n=QA,i=xR,a=P1,o=AR;function s(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=i.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?o.has(u,l):c===void 0?d===void 0:e.isMatch(d,c)}}r.matchesProperty=s})(bR);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=lS,n=gR,i=vR,a=bR;function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):i.matches(s);case"string":case"symbol":case"number":return n.property(s)}}r.iteratee=o})(mR);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=dR,n=lS,i=fR,a=mR;function o(s,l=n.identity){return i.isArrayLikeObject(s)?e.uniqBy(Array.from(s),a.iteratee(l)):[]}r.uniqBy=o})(uR);var ZQ=uR.uniqBy;const RT=Js(ZQ);function ER(r,e,n){return e===!0?RT(r,n):typeof e=="function"?RT(r,e):r}var kR={exports:{}},PR={},NR={exports:{}},TR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=P;function JQ(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var eX=typeof Object.is=="function"?Object.is:JQ,tX=oh.useState,rX=oh.useEffect,nX=oh.useLayoutEffect,iX=oh.useDebugValue;function aX(r,e){var n=e(),i=tX({inst:{value:n,getSnapshot:e}}),a=i[0].inst,o=i[1];return nX(function(){a.value=n,a.getSnapshot=e,jw(a)&&o({inst:a})},[r,n,e]),rX(function(){return jw(a)&&o({inst:a}),r(function(){jw(a)&&o({inst:a})})},[r]),iX(n),n}function jw(r){var e=r.getSnapshot;r=r.value;try{var n=e();return!eX(r,n)}catch{return!0}}function oX(r,e){return e()}var sX=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oX:aX;TR.useSyncExternalStore=oh.useSyncExternalStore!==void 0?oh.useSyncExternalStore:sX;NR.exports=TR;var lX=NR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1=P,cX=lX;function uX(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var dX=typeof Object.is=="function"?Object.is:uX,fX=cX.useSyncExternalStore,hX=H1.useRef,pX=H1.useEffect,mX=H1.useMemo,gX=H1.useDebugValue;PR.useSyncExternalStoreWithSelector=function(r,e,n,i,a){var o=hX(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=mX(function(){function c(p){if(!u){if(u=!0,d=p,p=i(p),a!==void 0&&s.hasValue){var y=s.value;if(a(y,p))return f=y}return f=p}if(y=f,dX(d,p))return y;var w=i(p);return a!==void 0&&a(y,w)?(d=p,y):(d=p,f=w)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,i,a]);var l=fX(r,o[0],o[1]);return pX(function(){s.hasValue=!0,s.value=l},[l]),gX(l),l};kR.exports=PR;var vX=kR.exports,mS=P.createContext(null),yX=r=>r,un=()=>{var r=P.useContext(mS);return r?r.store.dispatch:yX},ny=()=>{},wX=()=>ny,bX=(r,e)=>r===e;function it(r){var e=P.useContext(mS);return vX.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:wX,e?e.store.getState:ny,e?e.store.getState:ny,e?r:ny,bX)}function xX(r,e=`expected a function, instead received ${typeof r}`){if(typeof r!="function")throw new TypeError(e)}function _X(r,e=`expected an object, instead received ${typeof r}`){if(typeof r!="object")throw new TypeError(e)}function AX(r,e="expected all items to be functions, instead received the following types: "){if(!r.every(n=>typeof n=="function")){const n=r.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${n}]`)}}var MT=r=>Array.isArray(r)?r:[r];function SX(r){const e=Array.isArray(r[0])?r[0]:r;return AX(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function EX(r,e){const n=[],{length:i}=r;for(let a=0;a<i;a++)n.push(r[a].apply(null,e));return n}var kX=class{constructor(r){this.value=r}deref(){return this.value}},PX=typeof WeakRef<"u"?WeakRef:kX,NX=0,FT=1;function gv(){return{s:NX,v:void 0,o:null,p:null}}function CR(r,e={}){let n=gv();const{resultEqualityCheck:i}=e;let a,o=0;function s(){var f;let l=n;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const y=arguments[h];if(typeof y=="function"||typeof y=="object"&&y!==null){let w=l.o;w===null&&(l.o=w=new WeakMap);const x=w.get(y);x===void 0?(l=gv(),w.set(y,l)):l=x}else{let w=l.p;w===null&&(l.p=w=new Map);const x=w.get(y);x===void 0?(l=gv(),w.set(y,l)):l=x}}const u=l;let d;if(l.s===FT)d=l.v;else if(d=r.apply(null,arguments),o++,i){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&i(h,d)&&(d=h,o!==0&&o--),a=typeof d=="object"&&d!==null||typeof d=="function"?new PX(d):d}return u.s=FT,u.v=d,d}return s.clearCache=()=>{n=gv(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function TX(r,...e){const n=typeof r=="function"?{memoize:r,memoizeOptions:e}:r,i=(...a)=>{let o=0,s=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),xX(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:p=CR,argsMemoizeOptions:y=[]}=d,w=MT(h),x=MT(y),b=SX(a),S=f(function(){return o++,u.apply(null,arguments)},...w),A=p(function(){s++;const B=EX(b,arguments);return l=S.apply(null,B),l},...x);return Object.assign(A,{resultFunc:u,memoizedResultFunc:S,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:p})};return Object.assign(i,{withTypes:()=>i}),i}var Se=TX(CR),CX=Object.assign((r,e=Se)=>{_X(r,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof r}`);const n=Object.keys(r),i=n.map(o=>r[o]);return e(i,(...o)=>o.reduce((s,l,c)=>(s[n[c]]=l,s),{}))},{withTypes:()=>CX}),IR={},jR={},OR={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,a,o)=>{if(i!==a){const s=e(i),l=e(a);if(s===l&&s===0){if(i<a)return o==="desc"?1:-1;if(i>a)return o==="desc"?-1:1}return o==="desc"?l-s:s-l}return 0};r.compareValues=n})(OR);var LR={},gS={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}r.isSymbol=e})(gS);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=gS,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(i.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}r.isKey=a})(LR);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=OR,n=LR,i=N1;function a(o,s,l,c){if(o==null)return[];l=c?void 0:l,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const u=(p,y)=>{let w=p;for(let x=0;x<y.length&&w!=null;++x)w=w[y[x]];return w},d=(p,y)=>y==null||p==null?y:typeof p=="object"&&"key"in p?Object.hasOwn(y,p.key)?y[p.key]:u(y,p.path):typeof p=="function"?p(y):Array.isArray(p)?u(y,p):typeof y=="object"?y[p]:y,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:i.toPath(p)}));return o.map(p=>({original:p,criteria:f.map(y=>d(y,p))})).slice().sort((p,y)=>{for(let w=0;w<f.length;w++){const x=e.compareValues(p.criteria[w],y.criteria[w],l[w]);if(x!==0)return x}return 0}).map(p=>p.original)}r.orderBy=a})(jR);var DR={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n,i=1){const a=[],o=Math.floor(i),s=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<o?s(d,c+1):a.push(d)}};return s(n,0),a}r.flatten=e})(DR);var vS={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=pS,n=z1,i=cS,a=V1;function o(s,l,c){return i.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],s):!1}r.isIterateeCall=o})(vS);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=jR,n=DR,i=vS;function a(o,...s){const l=s.length;return l>1&&i.isIterateeCall(o,s[0],s[1])?s=[]:l>2&&i.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,n.flatten(s),["asc"])}r.sortBy=a})(IR);var IX=IR.sortBy;const K1=Js(IX);var RR=r=>r.legend.settings,jX=r=>r.legend.size,OX=r=>r.legend.payload,LX=Se([OX,RR],(r,e)=>{var{itemSorter:n}=e,i=r.flat(1);return n?K1(i,n):i});function DX(){return it(LX)}var vv=1;function MR(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=P.useState({height:0,left:0,top:0,width:0}),i=P.useCallback(a=>{if(a!=null){var o=a.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>vv||Math.abs(s.left-e.left)>vv||Math.abs(s.top-e.top)>vv||Math.abs(s.width-e.width)>vv)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...r]);return[e,i]}function yi(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var RX=typeof Symbol=="function"&&Symbol.observable||"@@observable",BT=RX,Ow=()=>Math.random().toString(36).substring(7).split("").join("."),MX={INIT:`@@redux/INIT${Ow()}`,REPLACE:`@@redux/REPLACE${Ow()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ow()}`},Jy=MX;function yS(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function FR(r,e,n){if(typeof r!="function")throw new Error(yi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(yi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(yi(1));return n(FR)(r,e)}let i=r,a=e,o=new Map,s=o,l=0,c=!1;function u(){s===o&&(s=new Map,o.forEach((x,b)=>{s.set(b,x)}))}function d(){if(c)throw new Error(yi(3));return a}function f(x){if(typeof x!="function")throw new Error(yi(4));if(c)throw new Error(yi(5));let b=!0;u();const S=l++;return s.set(S,x),function(){if(b){if(c)throw new Error(yi(6));b=!1,u(),s.delete(S),o=null}}}function h(x){if(!yS(x))throw new Error(yi(7));if(typeof x.type>"u")throw new Error(yi(8));if(typeof x.type!="string")throw new Error(yi(17));if(c)throw new Error(yi(9));try{c=!0,a=i(a,x)}finally{c=!1}return(o=s).forEach(S=>{S()}),x}function p(x){if(typeof x!="function")throw new Error(yi(10));i=x,h({type:Jy.REPLACE})}function y(){const x=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(yi(11));function S(){const I=b;I.next&&I.next(d())}return S(),{unsubscribe:x(S)}},[BT](){return this}}}return h({type:Jy.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[BT]:y}}function FX(r){Object.keys(r).forEach(e=>{const n=r[e];if(typeof n(void 0,{type:Jy.INIT})>"u")throw new Error(yi(12));if(typeof n(void 0,{type:Jy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yi(13))})}function BR(r){const e=Object.keys(r),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof r[s]=="function"&&(n[s]=r[s])}const i=Object.keys(n);let a;try{FX(n)}catch(o){a=o}return function(s={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<i.length;d++){const f=i[d],h=n[f],p=s[f],y=h(p,l);if(typeof y>"u")throw l&&l.type,new Error(yi(14));u[f]=y,c=c||y!==p}return c=c||i.length!==Object.keys(s).length,c?u:s}}function e0(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,n)=>(...i)=>e(n(...i)))}function BX(...r){return e=>(n,i)=>{const a=e(n,i);let o=()=>{throw new Error(yi(15))};const s={getState:a.getState,dispatch:(c,...u)=>o(c,...u)},l=r.map(c=>c(s));return o=e0(...l)(a.dispatch),{...a,dispatch:o}}}function UR(r){return yS(r)&&"type"in r&&typeof r.type=="string"}var $R=Symbol.for("immer-nothing"),UT=Symbol.for("immer-draftable"),io=Symbol.for("immer-state");function ns(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var sh=Object.getPrototypeOf;function Nd(r){return!!r&&!!r[io]}function $l(r){var e;return r?zR(r)||Array.isArray(r)||!!r[UT]||!!((e=r.constructor)!=null&&e[UT])||Y1(r)||Q1(r):!1}var UX=Object.prototype.constructor.toString();function zR(r){if(!r||typeof r!="object")return!1;const e=sh(r);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===UX}function t0(r,e){G1(r)===0?Reflect.ownKeys(r).forEach(n=>{e(n,r[n],r)}):r.forEach((n,i)=>e(i,n,r))}function G1(r){const e=r[io];return e?e.type_:Array.isArray(r)?1:Y1(r)?2:Q1(r)?3:0}function e5(r,e){return G1(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function VR(r,e,n){const i=G1(r);i===2?r.set(e,n):i===3?r.add(n):r[e]=n}function $X(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Y1(r){return r instanceof Map}function Q1(r){return r instanceof Set}function Gu(r){return r.copy_||r.base_}function t5(r,e){if(Y1(r))return new Map(r);if(Q1(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const n=zR(r);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(r);delete i[io];let a=Reflect.ownKeys(i);for(let o=0;o<a.length;o++){const s=a[o],l=i[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(i[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:r[s]})}return Object.create(sh(r),i)}else{const i=sh(r);if(i!==null&&n)return{...r};const a=Object.create(i);return Object.assign(a,r)}}function wS(r,e=!1){return X1(r)||Nd(r)||!$l(r)||(G1(r)>1&&(r.set=r.add=r.clear=r.delete=zX),Object.freeze(r),e&&Object.entries(r).forEach(([n,i])=>wS(i,!0))),r}function zX(){ns(2)}function X1(r){return Object.isFrozen(r)}var VX={};function Td(r){const e=VX[r];return e||ns(0,r),e}var Rm;function qR(){return Rm}function qX(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $T(r,e){e&&(Td("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function r5(r){n5(r),r.drafts_.forEach(WX),r.drafts_=null}function n5(r){r===Rm&&(Rm=r.parent_)}function zT(r){return Rm=qX(Rm,r)}function WX(r){const e=r[io];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function VT(r,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return r!==void 0&&r!==n?(n[io].modified_&&(r5(e),ns(4)),$l(r)&&(r=r0(e,r),e.parent_||n0(e,r)),e.patches_&&Td("Patches").generateReplacementPatches_(n[io].base_,r,e.patches_,e.inversePatches_)):r=r0(e,n,[]),r5(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==$R?r:void 0}function r0(r,e,n){if(X1(e))return e;const i=e[io];if(!i)return t0(e,(a,o)=>qT(r,i,e,a,o,n)),e;if(i.scope_!==r)return e;if(!i.modified_)return n0(r,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),t0(o,(l,c)=>qT(r,i,a,l,c,n,s)),n0(r,a,!1),n&&r.patches_&&Td("Patches").generatePatches_(i,n,r.patches_,r.inversePatches_)}return i.copy_}function qT(r,e,n,i,a,o,s){if(Nd(a)){const l=o&&e&&e.type_!==3&&!e5(e.assigned_,i)?o.concat(i):void 0,c=r0(r,a,l);if(VR(n,i,c),Nd(c))r.canAutoFreeze_=!1;else return}else s&&n.add(a);if($l(a)&&!X1(a)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;r0(r,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&n0(r,a)}}function n0(r,e,n=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&wS(e,n)}function HX(r,e){const n=Array.isArray(r),i={type_:n?1:0,scope_:e?e.scope_:qR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,o=bS;n&&(a=[i],o=Mm);const{revoke:s,proxy:l}=Proxy.revocable(a,o);return i.draft_=l,i.revoke_=s,l}var bS={get(r,e){if(e===io)return r;const n=Gu(r);if(!e5(n,e))return KX(r,n,e);const i=n[e];return r.finalized_||!$l(i)?i:i===Lw(r.base_,e)?(Dw(r),r.copy_[e]=a5(i,r)):i},has(r,e){return e in Gu(r)},ownKeys(r){return Reflect.ownKeys(Gu(r))},set(r,e,n){const i=WR(Gu(r),e);if(i!=null&&i.set)return i.set.call(r.draft_,n),!0;if(!r.modified_){const a=Lw(Gu(r),e),o=a==null?void 0:a[io];if(o&&o.base_===n)return r.copy_[e]=n,r.assigned_[e]=!1,!0;if($X(n,a)&&(n!==void 0||e5(r.base_,e)))return!0;Dw(r),i5(r)}return r.copy_[e]===n&&(n!==void 0||e in r.copy_)||Number.isNaN(n)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=n,r.assigned_[e]=!0),!0},deleteProperty(r,e){return Lw(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,Dw(r),i5(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const n=Gu(r),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){ns(11)},getPrototypeOf(r){return sh(r.base_)},setPrototypeOf(){ns(12)}},Mm={};t0(bS,(r,e)=>{Mm[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Mm.deleteProperty=function(r,e){return Mm.set.call(this,r,e,void 0)};Mm.set=function(r,e,n){return bS.set.call(this,r[0],e,n,r[0])};function Lw(r,e){const n=r[io];return(n?Gu(n):r)[e]}function KX(r,e,n){var a;const i=WR(e,n);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(r.draft_):void 0}function WR(r,e){if(!(e in r))return;let n=sh(r);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=sh(n)}}function i5(r){r.modified_||(r.modified_=!0,r.parent_&&i5(r.parent_))}function Dw(r){r.copy_||(r.copy_=t5(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var GX=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(c=o,...u){return s.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&ns(6),i!==void 0&&typeof i!="function"&&ns(7);let a;if($l(e)){const o=zT(this),s=a5(e,void 0);let l=!0;try{a=n(s),l=!1}finally{l?r5(o):n5(o)}return $T(o,i),VT(a,o)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===$R&&(a=void 0),this.autoFreeze_&&wS(a,!0),i){const o=[],s=[];Td("Patches").generateReplacementPatches_(e,a,o,s),i(o,s)}return a}else ns(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,c=>e(c,...l));let i,a;return[this.produce(e,n,(s,l)=>{i=s,a=l}),i,a]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){$l(r)||ns(8),Nd(r)&&(r=Cl(r));const e=zT(this),n=a5(r,void 0);return n[io].isManual_=!0,n5(e),n}finishDraft(r,e){const n=r&&r[io];(!n||!n.isManual_)&&ns(9);const{scope_:i}=n;return $T(i,e),VT(void 0,i)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}n>-1&&(e=e.slice(n+1));const i=Td("Patches").applyPatches_;return Nd(r)?i(r,e):this.produce(r,a=>i(a,e))}};function a5(r,e){const n=Y1(r)?Td("MapSet").proxyMap_(r,e):Q1(r)?Td("MapSet").proxySet_(r,e):HX(r,e);return(e?e.scope_:qR()).drafts_.push(n),n}function Cl(r){return Nd(r)||ns(10,r),HR(r)}function HR(r){if(!$l(r)||X1(r))return r;const e=r[io];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=t5(r,e.scope_.immer_.useStrictShallowCopy_)}else n=t5(r,!0);return t0(n,(i,a)=>{VR(n,i,HR(a))}),e&&(e.finalized_=!1),n}var ao=new GX,KR=ao.produce;ao.produceWithPatches.bind(ao);ao.setAutoFreeze.bind(ao);ao.setUseStrictShallowCopy.bind(ao);ao.applyPatches.bind(ao);ao.createDraft.bind(ao);ao.finishDraft.bind(ao);function GR(r){return({dispatch:n,getState:i})=>a=>o=>typeof o=="function"?o(n,i,r):a(o)}var YX=GR(),QX=GR,XX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?e0:e0.apply(null,arguments)};function Lo(r,e){function n(...i){if(e){let a=e(...i);if(!a)throw new Error(to(0));return{type:r,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:r,payload:i[0]}}return n.toString=()=>`${r}`,n.type=r,n.match=i=>UR(i)&&i.type===r,n}var YR=class Lp extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Lp.prototype)}static get[Symbol.species](){return Lp}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Lp(...e[0].concat(this)):new Lp(...e.concat(this))}};function WT(r){return $l(r)?KR(r,()=>{}):r}function yv(r,e,n){return r.has(e)?r.get(e):r.set(e,n(e)).get(e)}function ZX(r){return typeof r=="boolean"}var JX=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=e??{};let s=new YR;return n&&(ZX(n)?s.push(YX):s.push(QX(n.extraArgument))),s},eZ="RTK_autoBatch",HT=r=>e=>{setTimeout(e,r)},tZ=(r={type:"raf"})=>e=>(...n)=>{const i=e(...n);let a=!0,o=!1,s=!1;const l=new Set,c=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HT(10):r.type==="callback"?r.queueNotification:HT(r.timeout),u=()=>{s=!1,o&&(o=!1,l.forEach(d=>d()))};return Object.assign({},i,{subscribe(d){const f=()=>a&&d(),h=i.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[eZ]),o=!a,o&&(s||(s=!0,c(u))),i.dispatch(d)}finally{a=!0}}})},rZ=r=>function(n){const{autoBatch:i=!0}=n??{};let a=new YR(r);return i&&a.push(tZ(typeof i=="object"?i:void 0)),a};function nZ(r){const e=JX(),{reducer:n=void 0,middleware:i,devTools:a=!0,preloadedState:o=void 0,enhancers:s=void 0}=r||{};let l;if(typeof n=="function")l=n;else if(yS(n))l=BR(n);else throw new Error(to(1));let c;typeof i=="function"?c=i(e):c=e();let u=e0;a&&(u=XX({trace:!1,...typeof a=="object"&&a}));const d=BX(...c),f=rZ(d);let h=typeof s=="function"?s(f):f();const p=u(...h);return FR(l,o,p)}function QR(r){const e={},n=[];let i;const a={addCase(o,s){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(to(28));if(l in e)throw new Error(to(29));return e[l]=s,a},addMatcher(o,s){return n.push({matcher:o,reducer:s}),a},addDefaultCase(o){return i=o,a}};return r(a),[e,n,i]}function iZ(r){return typeof r=="function"}function aZ(r,e){let[n,i,a]=QR(e),o;if(iZ(r))o=()=>WT(r());else{const l=WT(r);o=()=>l}function s(l=o(),c){let u=[n[c.type],...i.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Nd(d)){const p=f(d,c);return p===void 0?d:p}else{if($l(d))return KR(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return s.getInitialState=o,s}var oZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sZ=(r=21)=>{let e="",n=r;for(;n--;)e+=oZ[Math.random()*64|0];return e},lZ=Symbol.for("rtk-slice-createasyncthunk");function cZ(r,e){return`${r}/${e}`}function uZ({creators:r}={}){var n;const e=(n=r==null?void 0:r.asyncThunk)==null?void 0:n[lZ];return function(a){const{name:o,reducerPath:s=o}=a;if(!o)throw new Error(to(11));const l=(typeof a.reducers=="function"?a.reducers(fZ()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(I,B){const $=typeof I=="string"?I:I.type;if(!$)throw new Error(to(12));if($ in u.sliceCaseReducersByType)throw new Error(to(13));return u.sliceCaseReducersByType[$]=B,d},addMatcher(I,B){return u.sliceMatchers.push({matcher:I,reducer:B}),d},exposeAction(I,B){return u.actionCreators[I]=B,d},exposeCaseReducer(I,B){return u.sliceCaseReducersByName[I]=B,d}};c.forEach(I=>{const B=l[I],$={reducerName:I,type:cZ(o,I),createNotation:typeof a.reducers=="function"};pZ(B)?gZ($,B,d,e):hZ($,B,d)});function f(){const[I={},B=[],$=void 0]=typeof a.extraReducers=="function"?QR(a.extraReducers):[a.extraReducers],D={...I,...u.sliceCaseReducersByType};return aZ(a.initialState,j=>{for(let O in D)j.addCase(O,D[O]);for(let O of u.sliceMatchers)j.addMatcher(O.matcher,O.reducer);for(let O of B)j.addMatcher(O.matcher,O.reducer);$&&j.addDefaultCase($)})}const h=I=>I,p=new Map,y=new WeakMap;let w;function x(I,B){return w||(w=f()),w(I,B)}function b(){return w||(w=f()),w.getInitialState()}function S(I,B=!1){function $(j){let O=j[I];return typeof O>"u"&&B&&(O=yv(y,$,b)),O}function D(j=h){const O=yv(p,B,()=>new WeakMap);return yv(O,j,()=>{const U={};for(const[T,L]of Object.entries(a.selectors??{}))U[T]=dZ(L,j,()=>yv(y,j,b),B);return U})}return{reducerPath:I,getSelectors:D,get selectors(){return D($)},selectSlice:$}}const A={name:o,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...S(s),injectInto(I,{reducerPath:B,...$}={}){const D=B??s;return I.inject({reducerPath:D,reducer:x},$),{...A,...S(D,!0)}}};return A}}function dZ(r,e,n,i){function a(o,...s){let l=e(o);return typeof l>"u"&&i&&(l=n()),r(l,...s)}return a.unwrapped=r,a}var uo=uZ();function fZ(){function r(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:r}}function hZ({type:r,reducerName:e,createNotation:n},i,a){let o,s;if("reducer"in i){if(n&&!mZ(i))throw new Error(to(17));o=i.reducer,s=i.prepare}else o=i;a.addCase(r,o).exposeCaseReducer(e,o).exposeAction(e,s?Lo(r,s):Lo(r))}function pZ(r){return r._reducerDefinitionType==="asyncThunk"}function mZ(r){return r._reducerDefinitionType==="reducerWithPrepare"}function gZ({type:r,reducerName:e},n,i,a){if(!a)throw new Error(to(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=n,f=a(r,o,d);i.exposeAction(e,f),s&&i.addCase(f.fulfilled,s),l&&i.addCase(f.pending,l),c&&i.addCase(f.rejected,c),u&&i.addMatcher(f.settled,u),i.exposeCaseReducer(e,{fulfilled:s||wv,pending:l||wv,rejected:c||wv,settled:u||wv})}function wv(){}var vZ="task",XR="listener",ZR="completed",xS="cancelled",yZ=`task-${xS}`,wZ=`task-${ZR}`,o5=`${XR}-${xS}`,bZ=`${XR}-${ZR}`,Z1=class{constructor(r){Zt(this,"name","TaskAbortError");Zt(this,"message");this.code=r,this.message=`${vZ} ${xS} (reason: ${r})`}},_S=(r,e)=>{if(typeof r!="function")throw new TypeError(to(32))},i0=()=>{},JR=(r,e=i0)=>(r.catch(e),r),e8=(r,e)=>(r.addEventListener("abort",e,{once:!0}),()=>r.removeEventListener("abort",e)),fd=(r,e)=>{const n=r.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),r.abort(e))},hd=r=>{if(r.aborted){const{reason:e}=r;throw new Z1(e)}};function t8(r,e){let n=i0;return new Promise((i,a)=>{const o=()=>a(new Z1(r.reason));if(r.aborted){o();return}n=e8(r,o),e.finally(()=>n()).then(i,a)}).finally(()=>{n=i0})}var xZ=async(r,e)=>{try{return await Promise.resolve(),{status:"ok",value:await r()}}catch(n){return{status:n instanceof Z1?"cancelled":"rejected",error:n}}finally{e==null||e()}},a0=r=>e=>JR(t8(r,e).then(n=>(hd(r),n))),r8=r=>{const e=a0(r);return n=>e(new Promise(i=>setTimeout(i,n)))},{assign:Rf}=Object,KT={},J1="listenerMiddleware",_Z=(r,e)=>{const n=i=>e8(r,()=>fd(i,r.reason));return(i,a)=>{_S(i);const o=new AbortController;n(o);const s=xZ(async()=>{hd(r),hd(o.signal);const l=await i({pause:a0(o.signal),delay:r8(o.signal),signal:o.signal});return hd(o.signal),l},()=>fd(o,wZ));return a!=null&&a.autoJoin&&e.push(s.catch(i0)),{result:a0(r)(s),cancel(){fd(o,yZ)}}}},AZ=(r,e)=>{const n=async(i,a)=>{hd(e);let o=()=>{};const l=[new Promise((c,u)=>{let d=r({predicate:i,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});o=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await t8(e,Promise.race(l));return hd(e),c}finally{o()}};return(i,a)=>JR(n(i,a))},n8=r=>{let{type:e,actionCreator:n,matcher:i,predicate:a,effect:o}=r;if(e)a=Lo(e).match;else if(n)e=n.type,a=n.match;else if(i)a=i;else if(!a)throw new Error(to(21));return _S(o),{predicate:a,type:e,effect:o}},i8=Rf(r=>{const{type:e,predicate:n,effect:i}=n8(r);return{id:sZ(),effect:i,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(to(22))}}},{withTypes:()=>i8}),GT=(r,e)=>{const{type:n,effect:i,predicate:a}=n8(e);return Array.from(r.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===a)&&o.effect===i)},s5=r=>{r.pending.forEach(e=>{fd(e,o5)})},SZ=r=>()=>{r.forEach(s5),r.clear()},YT=(r,e,n)=>{try{r(e,n)}catch(i){setTimeout(()=>{throw i},0)}},a8=Rf(Lo(`${J1}/add`),{withTypes:()=>a8}),EZ=Lo(`${J1}/removeAll`),o8=Rf(Lo(`${J1}/remove`),{withTypes:()=>o8}),kZ=(...r)=>{console.error(`${J1}/error`,...r)},pg=(r={})=>{const e=new Map,{extra:n,onError:i=kZ}=r;_S(i);const a=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&s5(d)}),o=d=>{const f=GT(e,d)??i8(d);return a(f)};Rf(o,{withTypes:()=>o});const s=d=>{const f=GT(e,d);return f&&(f.unsubscribe(),d.cancelActive&&s5(f)),!!f};Rf(s,{withTypes:()=>s});const l=async(d,f,h,p)=>{const y=new AbortController,w=AZ(o,y.signal),x=[];try{d.pending.add(y),await Promise.resolve(d.effect(f,Rf({},h,{getOriginalState:p,condition:(b,S)=>w(b,S).then(Boolean),take:w,delay:r8(y.signal),pause:a0(y.signal),extra:n,signal:y.signal,fork:_Z(y.signal,x),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((b,S,A)=>{b!==y&&(fd(b,o5),A.delete(b))})},cancel:()=>{fd(y,o5),d.pending.delete(y)},throwIfCancelled:()=>{hd(y.signal)}})))}catch(b){b instanceof Z1||YT(i,b,{raisedBy:"effect"})}finally{await Promise.all(x),fd(y,bZ),d.pending.delete(y)}},c=SZ(e);return{middleware:d=>f=>h=>{if(!UR(h))return f(h);if(a8.match(h))return o(h.payload);if(EZ.match(h)){c();return}if(o8.match(h))return s(h.payload);let p=d.getState();const y=()=>{if(p===KT)throw new Error(to(23));return p};let w;try{if(w=f(h),e.size>0){const x=d.getState(),b=Array.from(e.values());for(const S of b){let A=!1;try{A=S.predicate(h,x,p)}catch(I){A=!1,YT(i,I,{raisedBy:"predicate"})}A&&l(S,h,d,y)}}}finally{p=KT}return w},startListening:o,stopListening:s,clearListeners:c}};function to(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var PZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},s8=uo({name:"chartLayout",initialState:PZ,reducers:{setLayout(r,e){r.layoutType=e.payload},setChartSize(r,e){r.width=e.payload.width,r.height=e.payload.height},setMargin(r,e){r.margin.top=e.payload.top,r.margin.right=e.payload.right,r.margin.bottom=e.payload.bottom,r.margin.left=e.payload.left},setScale(r,e){r.scale=e.payload}}}),{setMargin:NZ,setLayout:TZ,setChartSize:CZ,setScale:IZ}=s8.actions,jZ=s8.reducer;function QT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function XT(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(n),!0).forEach(function(i){OZ(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function OZ(r,e,n){return(e=LZ(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function LZ(r){var e=DZ(r,"string");return typeof e=="symbol"?e:e+""}function DZ(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var o0=Math.PI/180,RZ=r=>r*180/Math.PI,$n=(r,e,n,i)=>({x:r+Math.cos(-o0*i)*n,y:e+Math.sin(-o0*i)*n}),l8=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},MZ=(r,e)=>{var{x:n,y:i}=r,{x:a,y:o}=e;return Math.sqrt((n-a)**2+(i-o)**2)},FZ=(r,e)=>{var{x:n,y:i}=r,{cx:a,cy:o}=e,s=MZ({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s,angle:0};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:RZ(c),angleInRadian:c}},BZ=r=>{var{startAngle:e,endAngle:n}=r,i=Math.floor(e/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:e-o*360,endAngle:n-o*360}},UZ=(r,e)=>{var{startAngle:n,endAngle:i}=e,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return r+s*360},$Z=(r,e)=>{var{x:n,y:i}=r,{radius:a,angle:o}=FZ({x:n,y:i},e),{innerRadius:s,outerRadius:l}=e;if(a<s||a>l||a===0)return null;var{startAngle:c,endAngle:u}=BZ(e),d=o,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?XT(XT({},e),{},{radius:a,angle:UZ(d,e)}):null};function c8(r,e,n){return Array.isArray(r)&&r&&e+n!==0?r.slice(e,n+1):r}function ZT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Po(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(n),!0).forEach(function(i){zZ(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function zZ(r,e,n){return(e=VZ(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function VZ(r){var e=qZ(r,"string");return typeof e=="symbol"?e:e+""}function qZ(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Cr(r,e,n){return Gr(r)||Gr(e)?n:Qs(e)?uu(r,e,n):typeof e=="function"?e(r):n}var WZ=(r,e,n,i,a)=>{var o,s=-1,l=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(l<=1||r==null)return 0;if(i==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?n[c-1].coordinate:n[l-1].coordinate,d=n[c].coordinate,f=c>=l-1?n[0].coordinate:n[c+1].coordinate,h=void 0;if(ui(d-u)!==ui(f-d)){var p=[];if(ui(f-d)===ui(a[1]-a[0])){h=f;var y=d+a[1]-a[0];p[0]=Math.min(y,(y+u)/2),p[1]=Math.max(y,(y+u)/2)}else{h=u;var w=f+a[1]-a[0];p[0]=Math.min(d,(w+d)/2),p[1]=Math.max(d,(w+d)/2)}var x=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(r>x[0]&&r<=x[1]||r>=p[0]&&r<=p[1]){({index:s}=n[c]);break}}else{var b=Math.min(u,f),S=Math.max(u,f);if(r>(b+d)/2&&r<=(S+d)/2){({index:s}=n[c]);break}}}else if(e){for(var A=0;A<l;A++)if(A===0&&r<=(e[A].coordinate+e[A+1].coordinate)/2||A>0&&A<l-1&&r>(e[A].coordinate+e[A-1].coordinate)/2&&r<=(e[A].coordinate+e[A+1].coordinate)/2||A===l-1&&r>(e[A].coordinate+e[A-1].coordinate)/2){({index:s}=e[A]);break}}return s},HZ=(r,e,n)=>{if(e&&n){var{width:i,height:a}=n,{align:o,verticalAlign:s,layout:l}=e;if((l==="vertical"||l==="horizontal"&&s==="middle")&&o!=="center"&&He(r[o]))return Po(Po({},r),{},{[o]:r[o]+(i||0)});if((l==="horizontal"||l==="vertical"&&o==="center")&&s!=="middle"&&He(r[s]))return Po(Po({},r),{},{[s]:r[s]+(a||0)})}return r},Au=(r,e)=>r==="horizontal"&&e==="xAxis"||r==="vertical"&&e==="yAxis"||r==="centric"&&e==="angleAxis"||r==="radial"&&e==="radiusAxis",u8=(r,e,n,i)=>{if(i)return r.map(l=>l.coordinate);var a,o,s=r.map(l=>(l.coordinate===e&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate));return a||s.push(e),o||s.push(n),s},d8=(r,e,n)=>{if(!r)return null;var{duplicateDomain:i,type:a,range:o,scale:s,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:p}=r;if(!s)return null;var y=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=a==="category"&&s.bandwidth?s.bandwidth()/y:0;if(w=p==="angleAxis"&&o&&o.length>=2?ui(o[0]-o[1])*2*w:w,f||h){var x=(f||h||[]).map((b,S)=>{var A=i?i.indexOf(b):b;return{coordinate:s(A)+w,value:b,offset:w,index:S}});return x.filter(b=>!no(b.coordinate))}return c&&u?u.map((b,S)=>({coordinate:s(b)+w,value:b,index:S,offset:w})):s.ticks&&d!=null?s.ticks(d).map((b,S)=>({coordinate:s(b)+w,value:b,offset:w,index:S})):s.domain().map((b,S)=>({coordinate:s(b)+w,value:i?i[b]:b,index:S,offset:w}))},JT=1e-4,KZ=r=>{var e=r.domain();if(!(!e||e.length<=2)){var n=e.length,i=r.range(),a=Math.min(i[0],i[1])-JT,o=Math.max(i[0],i[1])+JT,s=r(e[0]),l=r(e[n-1]);(s<a||s>o||l<a||l>o)&&r.domain([e[0],e[n-1]])}},GZ=(r,e)=>{if(!e||e.length!==2||!He(e[0])||!He(e[1]))return r;var n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),a=[r[0],r[1]];return(!He(r[0])||r[0]<n)&&(a[0]=n),(!He(r[1])||r[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},YZ=r=>{var e=r.length;if(!(e<=0))for(var n=0,i=r[0].length;n<i;++n)for(var a=0,o=0,s=0;s<e;++s){var l=no(r[s][n][1])?r[s][n][0]:r[s][n][1];l>=0?(r[s][n][0]=a,r[s][n][1]=a+l,a=r[s][n][1]):(r[s][n][0]=o,r[s][n][1]=o+l,o=r[s][n][1])}},QZ=r=>{var e=r.length;if(!(e<=0))for(var n=0,i=r[0].length;n<i;++n)for(var a=0,o=0;o<e;++o){var s=no(r[o][n][1])?r[o][n][0]:r[o][n][1];s>=0?(r[o][n][0]=a,r[o][n][1]=a+s,a=r[o][n][1]):(r[o][n][0]=0,r[o][n][1]=0)}},XZ={sign:YZ,expand:DQ,none:ah,silhouette:RQ,wiggle:MQ,positive:QZ},ZZ=(r,e,n)=>{var i=XZ[n],a=LQ().keys(e).value((o,s)=>+Cr(o,s,0)).order(Xx).offset(i);return a(r)};function JZ(r){return r==null?void 0:String(r)}function eC(r){var{axis:e,ticks:n,bandSize:i,entry:a,index:o,dataKey:s}=r;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Gr(a[e.dataKey])){var l=zD(n,"value",a[e.dataKey]);if(l)return l.coordinate+i/2}return n[o]?n[o].coordinate+i/2:null}var c=Cr(a,Gr(s)?e.dataKey:s);return Gr(c)?null:e.scale(c)}var tC=r=>{var{axis:e,ticks:n,offset:i,bandSize:a,entry:o,index:s}=r;if(e.type==="category")return n[s]?n[s].coordinate+i:null;var l=Cr(o,e.dataKey,e.scale.domain()[s]);return Gr(l)?null:e.scale(l)-a/2+i},eJ=r=>{var{numericAxis:e}=r,n=e.scale.domain();if(e.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},tJ=r=>{var e=r.flat(2).filter(He);return[Math.min(...e),Math.max(...e)]},rJ=r=>[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]],nJ=(r,e,n)=>{if(r!=null)return rJ(Object.keys(r).reduce((i,a)=>{var o=r[a],{stackedData:s}=o,l=s.reduce((c,u)=>{var d=c8(u,e,n),f=tJ(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]))},rC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fm=(r,e,n)=>{if(r&&r.scale&&r.scale.bandwidth){var i=r.scale.bandwidth();if(!n||i>0)return i}if(r&&e&&e.length>=2){for(var a=K1(e,d=>d.coordinate),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function iC(r){var{tooltipEntrySettings:e,dataKey:n,payload:i,value:a,name:o}=r;return Po(Po({},e),{},{dataKey:n,payload:i,value:a,name:o})}function Th(r,e){if(r)return String(r);if(typeof e=="string")return e}function iJ(r,e,n,i,a){if(n==="horizontal"||n==="vertical"){var o=r>=a.left&&r<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return o?{x:r,y:e}:null}return i?$Z({x:r,y:e},i):null}var aJ=(r,e,n,i)=>{var a=e.find(u=>u&&u.index===n);if(a){if(r==="horizontal")return{x:a.coordinate,y:i.y};if(r==="vertical")return{x:i.x,y:a.coordinate};if(r==="centric"){var o=a.coordinate,{radius:s}=i;return Po(Po(Po({},i),$n(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,{angle:c}=i;return Po(Po(Po({},i),$n(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},oJ=(r,e)=>e==="horizontal"?r.x:e==="vertical"?r.y:e==="centric"?r.angle:r.radius,Ql=r=>r.layout.width,Xl=r=>r.layout.height,sJ=r=>r.layout.scale,f8=r=>r.layout.margin,AS=Se(r=>r.cartesianAxis.xAxis,r=>Object.values(r)),SS=Se(r=>r.cartesianAxis.yAxis,r=>Object.values(r)),h8="data-recharts-item-index",p8="data-recharts-item-data-key",e2=60;function aC(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function xc(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(n),!0).forEach(function(i){lJ(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function lJ(r,e,n){return(e=cJ(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function cJ(r){var e=uJ(r,"string");return typeof e=="symbol"?e:e+""}function uJ(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var dJ=r=>r.brush.height,Xn=Se([Ql,Xl,f8,dJ,AS,SS,RR,jX],(r,e,n,i,a,o,s,l)=>{var c=o.reduce((y,w)=>{var{orientation:x}=w;if(!w.mirror&&!w.hide){var b=typeof w.width=="number"?w.width:e2;return xc(xc({},y),{},{[x]:y[x]+b})}return y},{left:n.left||0,right:n.right||0}),u=a.reduce((y,w)=>{var{orientation:x}=w;return!w.mirror&&!w.hide?xc(xc({},y),{},{[x]:uu(y,"".concat(x))+w.height}):y},{top:n.top||0,bottom:n.bottom||0}),d=xc(xc({},u),c),f=d.bottom;d.bottom+=i,d=HZ(d,s,l);var h=r-d.left-d.right,p=e-d.top-d.bottom;return xc(xc({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(p,0)})}),fJ=Se(Xn,r=>({x:r.left,y:r.top,width:r.width,height:r.height})),m8=Se(Ql,Xl,(r,e)=>({x:0,y:0,width:r,height:e})),hJ=P.createContext(null),Pa=()=>P.useContext(hJ)!=null,t2=r=>r.brush,r2=Se([t2,Xn,f8],(r,e,n)=>({height:r.height,x:He(r.x)?r.x:e.left,y:He(r.y)?r.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:He(r.width)?r.width:e.width})),ES=()=>{var r,e=Pa(),n=it(fJ),i=it(r2),a=(r=it(t2))===null||r===void 0?void 0:r.padding;return!e||!i||!a?n:{width:i.width-a.left-a.right,height:i.height-a.top-a.bottom,x:a.left,y:a.top}},pJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},g8=()=>{var r;return(r=it(Xn))!==null&&r!==void 0?r:pJ},kS=()=>it(Ql),PS=()=>it(Xl),mJ={top:0,right:0,bottom:0,left:0},gJ=()=>{var r;return(r=it(e=>e.layout.margin))!==null&&r!==void 0?r:mJ},nr=r=>r.layout.layoutType,n2=()=>it(nr),vJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},v8=uo({name:"legend",initialState:vJ,reducers:{setLegendSize(r,e){r.size.width=e.payload.width,r.size.height=e.payload.height},setLegendSettings(r,e){r.settings.align=e.payload.align,r.settings.layout=e.payload.layout,r.settings.verticalAlign=e.payload.verticalAlign,r.settings.itemSorter=e.payload.itemSorter},addLegendPayload(r,e){r.payload.push(e.payload)},removeLegendPayload(r,e){var n=Cl(r).payload.indexOf(e.payload);n>-1&&r.payload.splice(n,1)}}}),{setLegendSize:oC,setLegendSettings:yJ,addLegendPayload:y8,removeLegendPayload:w8}=v8.actions,wJ=v8.reducer,bJ=["contextPayload"];function l5(){return l5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},l5.apply(null,arguments)}function sC(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function lh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(i){NS(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function NS(r,e,n){return(e=xJ(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function xJ(r){var e=_J(r,"string");return typeof e=="symbol"?e:e+""}function _J(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function AJ(r,e){if(r==null)return{};var n,i,a=SJ(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function SJ(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}function EJ(r){return r.value}function kJ(r){var{contextPayload:e}=r,n=AJ(r,bJ),i=ER(e,r.payloadUniqBy,EJ),a=lh(lh({},n),{},{payload:i});return P.isValidElement(r.content)?P.cloneElement(r.content,a):typeof r.content=="function"?P.createElement(r.content,a):P.createElement(sS,a)}function PJ(r,e,n,i,a,o){var{layout:s,align:l,verticalAlign:c}=e,u,d;return(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))&&(l==="center"&&s==="vertical"?u={left:((i||0)-o.width)/2}:u=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))&&(c==="middle"?d={top:((a||0)-o.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),lh(lh({},u),d)}function NJ(r){var e=un();return P.useEffect(()=>{e(yJ(r))},[e,r]),null}function TJ(r){var e=un();return P.useEffect(()=>(e(oC(r)),()=>{e(oC({width:0,height:0}))}),[e,r]),null}function CJ(r){var e=DX(),n=iQ(),i=gJ(),{width:a,height:o,wrapperStyle:s,portal:l}=r,[c,u]=MR([e]),d=kS(),f=PS(),h=d-(i.left||0)-(i.right||0),p=i2.getWidthOrHeight(r.layout,o,a,h),y=l?s:lh(lh({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||o||"auto"},PJ(s,r,i,d,f,c)),s),w=l??n;if(w==null)return null;var x=P.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},P.createElement(NJ,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),P.createElement(TJ,{width:c.width,height:c.height}),P.createElement(kJ,l5({},r,p,{margin:i,chartWidth:d,chartHeight:f,contextPayload:e})));return rg.createPortal(x,w)}class i2 extends P.PureComponent{static getWidthOrHeight(e,n,i,a){return e==="vertical"&&He(n)?{height:n}:e==="horizontal"?{width:i||a}:null}render(){return P.createElement(CJ,this.props)}}NS(i2,"displayName","Legend");NS(i2,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function c5(){return c5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},c5.apply(null,arguments)}function lC(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Rw(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(i){IJ(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function IJ(r,e,n){return(e=jJ(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function jJ(r){var e=OJ(r,"string");return typeof e=="symbol"?e:e+""}function OJ(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function LJ(r){return Array.isArray(r)&&Qs(r[0])&&Qs(r[1])?r.join(" ~ "):r}var DJ=r=>{var{separator:e=" : ",contentStyle:n={},itemStyle:i={},labelStyle:a={},payload:o,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=r,p=()=>{if(o&&o.length){var B={padding:0,margin:0},$=(l?K1(o,l):o).map((D,j)=>{if(D.type==="none")return null;var O=D.formatter||s||LJ,{value:U,name:T}=D,L=U,C=T;if(O){var Y=O(U,T,D,j,o);if(Array.isArray(Y))[L,C]=Y;else if(Y!=null)L=Y;else return null}var oe=Rw({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},i);return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:oe},Qs(C)?P.createElement("span",{className:"recharts-tooltip-item-name"},C):null,Qs(C)?P.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,P.createElement("span",{className:"recharts-tooltip-item-value"},L),P.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:B},$)}return null},y=Rw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=Rw({margin:0},a),x=!Gr(d),b=x?d:"",S=fr("recharts-default-tooltip",c),A=fr("recharts-tooltip-label",u);x&&f&&o!==void 0&&o!==null&&(b=f(d,o));var I=h?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",c5({className:S,style:y},I),P.createElement("p",{className:A,style:w},P.isValidElement(b)?b:"".concat(b)),p())},pp="recharts-tooltip-wrapper",RJ={visibility:"hidden"};function MJ(r){var{coordinate:e,translateX:n,translateY:i}=r;return fr(pp,{["".concat(pp,"-right")]:He(n)&&e&&He(e.x)&&n>=e.x,["".concat(pp,"-left")]:He(n)&&e&&He(e.x)&&n<e.x,["".concat(pp,"-bottom")]:He(i)&&e&&He(e.y)&&i>=e.y,["".concat(pp,"-top")]:He(i)&&e&&He(e.y)&&i<e.y})}function cC(r){var{allowEscapeViewBox:e,coordinate:n,key:i,offsetTopLeft:a,position:o,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=r;if(o&&He(o[i]))return o[i];var d=n[i]-l-(a>0?a:0),f=n[i]+a;if(e[i])return s[i]?d:f;var h=c[i];if(h==null)return 0;if(s[i]){var p=d,y=h;return p<y?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var w=f+l,x=h+u;return w>x?Math.max(d,h):Math.max(f,h)}function FJ(r){var{translateX:e,translateY:n,useTranslate3d:i}=r;return{transform:i?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function BJ(r){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipBox:s,useTranslate3d:l,viewBox:c}=r,u,d,f;return s.height>0&&s.width>0&&n?(d=cC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=cC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=FJ({translateX:d,translateY:f,useTranslate3d:l})):u=RJ,{cssProperties:u,cssClasses:MJ({translateX:d,translateY:f,coordinate:n})}}function uC(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function bv(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(n),!0).forEach(function(i){u5(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function u5(r,e,n){return(e=UJ(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function UJ(r){var e=$J(r,"string");return typeof e=="symbol"?e:e+""}function $J(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class zJ extends P.PureComponent{constructor(){super(...arguments),u5(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),u5(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,i,a,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(a=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,children:o,coordinate:s,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:y,lastBoundingBox:w,innerRef:x,hasPortalFromProps:b}=this.props,{cssClasses:S,cssProperties:A}=BJ({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:w.height,width:w.width},useTranslate3d:h,viewBox:p}),I=b?{}:bv(bv({transition:c&&e?"transform ".concat(i,"ms ").concat(a):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),B=bv(bv({},I),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},y);return P.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:B,ref:x},o)}}var VJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ud={isSsr:VJ()},b8=()=>it(r=>r.rootProps.accessibilityLayer);function oo(r){return Number.isFinite(r)}function ch(r){return typeof r=="number"&&r>0&&Number.isFinite(r)}function d5(){return d5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},d5.apply(null,arguments)}function dC(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function fC(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(i){qJ(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function qJ(r,e,n){return(e=WJ(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function WJ(r){var e=HJ(r,"string");return typeof e=="symbol"?e:e+""}function HJ(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var hC={curveBasisClosed:AQ,curveBasisOpen:SQ,curveBasis:_Q,curveBumpX:lQ,curveBumpY:cQ,curveLinearClosed:EQ,curveLinear:U1,curveMonotoneX:kQ,curveMonotoneY:PQ,curveNatural:NQ,curveStep:TQ,curveStepAfter:IQ,curveStepBefore:CQ},xv=r=>oo(r.x)&&oo(r.y),mp=r=>r.x,gp=r=>r.y,KJ=(r,e)=>{if(typeof r=="function")return r;var n="curve".concat(dg(r));return(n==="curveMonotone"||n==="curveBump")&&e?hC["".concat(n).concat(e==="vertical"?"Y":"X")]:hC[n]||U1},GJ=r=>{var{type:e="linear",points:n=[],baseLine:i,layout:a,connectNulls:o=!1}=r,s=KJ(e,a),l=o?n.filter(xv):n,c;if(Array.isArray(i)){var u=o?i.filter(f=>xv(f)):i,d=l.map((f,h)=>fC(fC({},f),{},{base:u[h]}));return a==="vertical"?c=mv().y(gp).x1(mp).x0(f=>f.base.x):c=mv().x(mp).y1(gp).y0(f=>f.base.y),c.defined(xv).curve(s),c(d)}return a==="vertical"&&He(i)?c=mv().y(gp).x1(mp).x0(i):He(i)?c=mv().x(mp).y1(gp).y0(i):c=ZD().x(mp).y(gp),c.defined(xv).curve(s),c(l)},TS=r=>{var{className:e,points:n,path:i,pathRef:a}=r;if((!n||!n.length)&&!i)return null;var o=n&&n.length?GJ(r):i;return P.createElement("path",d5({},Yl(r),eS(r),{className:fr("recharts-curve",e),d:o===null?void 0:o,ref:a}))},YJ=["x","y","top","left","width","height","className"];function f5(){return f5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},f5.apply(null,arguments)}function pC(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function QJ(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(n),!0).forEach(function(i){XJ(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function XJ(r,e,n){return(e=ZJ(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ZJ(r){var e=JJ(r,"string");return typeof e=="symbol"?e:e+""}function JJ(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function eee(r,e){if(r==null)return{};var n,i,a=tee(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function tee(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}var ree=(r,e,n,i,a,o)=>"M".concat(r,",").concat(a,"v").concat(i,"M").concat(o,",").concat(e,"h").concat(n),nee=r=>{var{x:e=0,y:n=0,top:i=0,left:a=0,width:o=0,height:s=0,className:l}=r,c=eee(r,YJ),u=QJ({x:e,y:n,top:i,left:a,width:o,height:s},c);return!He(e)||!He(n)||!He(o)||!He(s)||!He(i)||!He(a)?null:P.createElement("path",f5({},tn(u,!0),{className:fr("recharts-cross",l),d:ree(e,n,o,s,i,a)}))};function iee(r,e,n,i){var a=i/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-a:n.left+.5,y:r==="horizontal"?n.top+.5:e.y-a,width:r==="horizontal"?i:n.width-1,height:r==="horizontal"?n.height-1:i}}function mC(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function aee(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(n),!0).forEach(function(i){oee(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function oee(r,e,n){return(e=see(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function see(r){var e=lee(r,"string");return typeof e=="symbol"?e:e+""}function lee(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function fo(r,e){var n=aee({},r),i=e,a=Object.keys(e),o=a.reduce((s,l)=>(s[l]===void 0&&i[l]!==void 0&&(s[l]=i[l]),s),n);return o}var x8={},_8={},A8={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const i=Object.getPrototypeOf(n);return i===null||i===Object.prototype||Object.getPrototypeOf(i)===null?Object.prototype.toString.call(n)==="[object Object]":!1}r.isPlainObject=e})(A8);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=A8,n=hS,i=q1,a=W1,o=V1;function s(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,p,y,w){const x=w(u,d,f,h,p,y);if(x!==void 0)return x;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,y,w)}return c(u,d,y,w)}function c(u,d,f,h){if(Object.is(u,d))return!0;let p=i.getTag(u),y=i.getTag(d);if(p===a.argumentsTag&&(p=a.objectTag),y===a.argumentsTag&&(y=a.objectTag),p!==y)return!1;switch(p){case a.stringTag:return u.toString()===d.toString();case a.numberTag:{const b=u.valueOf(),S=d.valueOf();return o.eq(b,S)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(u.valueOf(),d.valueOf());case a.regexpTag:return u.source===d.source&&u.flags===d.flags;case a.functionTag:return u===d}f=f??new Map;const w=f.get(u),x=f.get(d);if(w!=null&&x!=null)return w===d;f.set(u,d),f.set(d,u);try{switch(p){case a.mapTag:{if(u.size!==d.size)return!1;for(const[b,S]of u.entries())if(!d.has(b)||!l(S,d.get(b),b,u,d,f,h))return!1;return!0}case a.setTag:{if(u.size!==d.size)return!1;const b=Array.from(u.values()),S=Array.from(d.values());for(let A=0;A<b.length;A++){const I=b[A],B=S.findIndex($=>l(I,$,void 0,u,d,f,h));if(B===-1)return!1;S.splice(B,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let b=0;b<u.length;b++)if(!l(u[b],d[b],b,u,d,f,h))return!1;return!0}case a.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case a.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case a.errorTag:return u.name===d.name&&u.message===d.message;case a.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||e.isPlainObject(u)&&e.isPlainObject(d)))return!1;const S=[...Object.keys(u),...n.getSymbols(u)],A=[...Object.keys(d),...n.getSymbols(d)];if(S.length!==A.length)return!1;for(let I=0;I<S.length;I++){const B=S[I],$=u[B];if(!Object.hasOwn(d,B))return!1;const D=d[B];if(!l($,D,B,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}r.isEqualWith=s})(_8);var S8={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(){}r.noop=e})(S8);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=_8,n=S8;function i(a,o){return e.isEqualWith(a,o,n.noop)}r.isEqual=i})(x8);var cee=x8.isEqual;const uee=Js(cee);var s0=1e-4,E8=(r,e)=>[0,3*r,3*e-6*r,3*r-3*e+1],k8=(r,e)=>r.map((n,i)=>n*e**i).reduce((n,i)=>n+i),gC=(r,e)=>n=>{var i=E8(r,e);return k8(i,n)},dee=(r,e)=>n=>{var i=E8(r,e),a=[...i.map((o,s)=>o*s).slice(1),0];return k8(a,n)},vC=function(){for(var e,n,i,a,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];if(s.length===1)switch(s[0]){case"linear":[e,i,n,a]=[0,0,1,1];break;case"ease":[e,i,n,a]=[.25,.1,.25,1];break;case"ease-in":[e,i,n,a]=[.42,0,1,1];break;case"ease-out":[e,i,n,a]=[.42,0,.58,1];break;case"ease-in-out":[e,i,n,a]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,i,n,a]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else s.length===4&&([e,i,n,a]=s);var u=gC(e,n),d=gC(i,a),f=dee(e,n),h=y=>y>1?1:y<0?0:y,p=y=>{for(var w=y>1?1:y,x=w,b=0;b<8;++b){var S=u(x)-w,A=f(x);if(Math.abs(S-w)<s0||A<s0)return d(x);x=h(x-S/A)}return d(x)};return p.isStepper=!1,p},fee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:a=17}=e,o=(s,l,c)=>{var u=-(s-l)*n,d=c*i,f=c+(u-d)*a/1e3,h=c*a/1e3+s;return Math.abs(h-l)<s0&&Math.abs(f)<s0?[l,0]:[h,f]};return o.isStepper=!0,o.dt=a,o},P8=r=>{if(typeof r=="string")switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vC(r);case"spring":return fee();default:if(r.split("(")[0]==="cubic-bezier")return vC(r)}return typeof r=="function"?r:null};function yC(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function wC(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(n),!0).forEach(function(i){hee(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function hee(r,e,n){return(e=pee(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function pee(r){var e=mee(r,"string");return typeof e=="symbol"?e:e+""}function mee(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var gee=r=>r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),vee=(r,e,n)=>r.map(i=>"".concat(gee(i)," ").concat(e,"ms ").concat(n)).join(","),yee=(r,e)=>[Object.keys(r),Object.keys(e)].reduce((n,i)=>n.filter(a=>i.includes(a))),Bm=(r,e)=>Object.keys(e).reduce((n,i)=>wC(wC({},n),{},{[i]:r(i,e[i])}),{});function bC(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function xi(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(n),!0).forEach(function(i){wee(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function wee(r,e,n){return(e=bee(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function bee(r){var e=xee(r,"string");return typeof e=="symbol"?e:e+""}function xee(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var l0=(r,e,n)=>r+(e-r)*n,h5=r=>{var{from:e,to:n}=r;return e!==n},N8=(r,e,n)=>{var i=Bm((a,o)=>{if(h5(o)){var[s,l]=r(o.from,o.to,o.velocity);return xi(xi({},o),{},{from:s,velocity:l})}return o},e);return n<1?Bm((a,o)=>h5(o)?xi(xi({},o),{},{velocity:l0(o.velocity,i[a].velocity,n),from:l0(o.from,i[a].from,n)}):o,e):N8(r,i,n-1)};function _ee(r,e,n,i,a,o){var s,l=i.reduce((h,p)=>xi(xi({},h),{},{[p]:{from:r[p],velocity:0,to:e[p]}}),{}),c=()=>Bm((h,p)=>p.from,l),u=()=>!Object.values(l).filter(h5).length,d=null,f=h=>{s||(s=h);var p=h-s,y=p/n.dt;l=N8(n,l,y),a(xi(xi(xi({},r),e),c())),s=h,u()||(d=o.setTimeout(f))};return()=>(d=o.setTimeout(f),()=>{d()})}function Aee(r,e,n,i,a,o,s){var l=null,c=a.reduce((f,h)=>xi(xi({},f),{},{[h]:[r[h],e[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/i,p=Bm((w,x)=>l0(...x,n(h)),c);if(o(xi(xi(xi({},r),e),p)),h<1)l=s.setTimeout(d);else{var y=Bm((w,x)=>l0(...x,n(1)),c);o(xi(xi(xi({},r),e),y))}};return()=>(l=s.setTimeout(d),()=>{l()})}const T8=(r,e,n,i,a,o)=>{var s=yee(r,e);return n.isStepper===!0?_ee(r,e,n,s,a,o):Aee(r,e,n,i,s,a,o)};function See(r){var e,n=()=>null,i=!1,a=null,o=s=>{if(!i){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...u]=l;if(typeof c=="number"){a=r.setTimeout(o.bind(null,u),c);return}o(c),a=r.setTimeout(o.bind(null,u));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{i=!0},start:s=>{i=!1,a&&(a(),a=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>r}}class Eee{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),a=null,o=s=>{s-i>=n?e(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{cancelAnimationFrame(a)}}}function kee(){return See(new Eee)}var Pee=P.createContext(kee);function C8(r,e){var n=P.useContext(Pee);return P.useMemo(()=>e??n(r),[r,e,n])}var Nee=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function p5(){return p5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},p5.apply(null,arguments)}function Tee(r,e){if(r==null)return{};var n,i,a=Cee(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function Cee(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}function xC(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function _c(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(n),!0).forEach(function(i){nd(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function nd(r,e,n){return(e=Iee(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Iee(r){var e=jee(r,"string");return typeof e=="symbol"?e:e+""}function jee(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class CS extends P.PureComponent{constructor(e,n){super(e,n),nd(this,"mounted",!1),nd(this,"manager",void 0),nd(this,"stopJSAnimation",null),nd(this,"unSubscribe",null);var{isActive:i,attributeName:a,from:o,to:s,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!i||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:s});return}if(o){if(typeof l=="function"){this.state={style:o};return}this.state={style:a?{[a]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:i,attributeName:a,shouldReAnimate:o,to:s,from:l}=this.props,{style:c}=this.state;if(i){if(!n){var u={style:a?{[a]:s}:s};this.state&&c&&(a&&c[a]!==s||!a&&c!==s)&&this.setState(u);return}if(!(uee(e.to,s)&&e.canBegin&&e.isActive)){var d=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||o?l:e.to;if(this.state&&c){var h={style:a?{[a]:f}:f};(a&&c[a]!==f||!a&&c!==f)&&this.setState(h)}this.runAnimation(_c(_c({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:i,duration:a,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:c}=e,u=T8(n,i,P8(o),a,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,s,d,a,l])}runAnimation(e){var{begin:n,duration:i,attributeName:a,to:o,easing:s,onAnimationStart:l,onAnimationEnd:c,children:u}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof u=="function"||s==="spring"){this.runJSAnimation(e);return}var d=a?{[a]:o}:o,f=vee(Object.keys(d),i,s);this.manager.start([l,n,_c(_c({},d),{},{transition:f}),i,c])}render(){var e=this.props,{children:n,begin:i,duration:a,attributeName:o,easing:s,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:p,animationManager:y}=e,w=Tee(e,Nee),x=P.Children.count(n),b=this.state.style;if(typeof n=="function")return n(b);if(!l||x===0||a<=0)return n;var S=A=>{var{style:I={},className:B}=A.props,$=P.cloneElement(A,_c(_c({},w),{},{style:_c(_c({},I),b),className:B}));return $};return x===1?S(P.Children.only(n)):P.createElement("div",null,P.Children.map(n,A=>S(A)))}}nd(CS,"displayName","Animate");nd(CS,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function c0(r){var e,n=C8((e=r.attributeName)!==null&&e!==void 0?e:Object.keys(r.to).join(","),r.animationManager);return P.createElement(CS,p5({},r,{animationManager:n}))}function u0(){return u0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},u0.apply(null,arguments)}var _C=(r,e,n,i,a)=>{var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>o?o:a[f];u="M".concat(r,",").concat(e+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(r+l*d[0],",").concat(e)),u+="L ".concat(r+n-l*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(r+n,",").concat(e+s*d[1])),u+="L ".concat(r+n,",").concat(e+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(r+n-l*d[2],",").concat(e+i)),u+="L ".concat(r+l*d[3],",").concat(e+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(r,",").concat(e+i-s*d[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var p=Math.min(o,a);u="M ".concat(r,",").concat(e+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(r+l*p,",").concat(e,`
            L `).concat(r+n-l*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(r+n,",").concat(e+s*p,`
            L `).concat(r+n,",").concat(e+i-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(r+n-l*p,",").concat(e+i,`
            L `).concat(r+l*p,",").concat(e+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(r,",").concat(e+i-s*p," Z")}else u="M ".concat(r,",").concat(e," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},Oee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I8=r=>{var e=fo(r,Oee),n=P.useRef(null),[i,a]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&a(b)}catch{}},[]);var{x:o,y:s,width:l,height:c,radius:u,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:y,isUpdateAnimationActive:w}=e;if(o!==+o||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var x=fr("recharts-rectangle",d);return w?P.createElement(c0,{canBegin:i>0,from:{width:l,height:c,x:o,y:s},to:{width:l,height:c,x:o,y:s},duration:h,animationEasing:f,isActive:w},b=>{var{width:S,height:A,x:I,y:B}=b;return P.createElement(c0,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:y,easing:f},P.createElement("path",u0({},tn(e,!0),{className:x,d:_C(I,B,S,A,u),ref:n})))}):P.createElement("path",u0({},tn(e,!0),{className:x,d:_C(o,s,l,c,u)}))};function j8(r){var{cx:e,cy:n,radius:i,startAngle:a,endAngle:o}=r,s=$n(e,n,i,a),l=$n(e,n,i,o);return{points:[s,l],cx:e,cy:n,radius:i,startAngle:a,endAngle:o}}function m5(){return m5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},m5.apply(null,arguments)}var Lee=(r,e)=>{var n=ui(e-r),i=Math.min(Math.abs(e-r),359.999);return n*i},_v=r=>{var{cx:e,cy:n,radius:i,angle:a,sign:o,isExternal:s,cornerRadius:l,cornerIsExternal:c}=r,u=l*(s?1:-1)+i,d=Math.asin(l/u)/o0,f=c?a:a+o*d,h=$n(e,n,u,f),p=$n(e,n,i,f),y=c?a-o*d:a,w=$n(e,n,u*Math.cos(d*o0),y);return{center:h,circleTangency:p,lineTangency:w,theta:d}},O8=r=>{var{cx:e,cy:n,innerRadius:i,outerRadius:a,startAngle:o,endAngle:s}=r,l=Lee(o,s),c=o+l,u=$n(e,n,a,o),d=$n(e,n,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var h=$n(e,n,i,o),p=$n(e,n,i,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(e,",").concat(n," Z");return f},Dee=r=>{var{cx:e,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}=r,d=ui(u-c),{circleTangency:f,lineTangency:h,theta:p}=_v({cx:e,cy:n,radius:a,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),{circleTangency:y,lineTangency:w,theta:x}=_v({cx:e,cy:n,radius:a,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:l}),b=l?Math.abs(c-u):Math.abs(c-u)-p-x;if(b<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):O8({cx:e,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var{circleTangency:A,lineTangency:I,theta:B}=_v({cx:e,cy:n,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),{circleTangency:$,lineTangency:D,theta:j}=_v({cx:e,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=l?Math.abs(c-u):Math.abs(c-u)-B-j;if(O<0&&o===0)return"".concat(S,"L").concat(e,",").concat(n,"Z");S+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,"Z")}else S+="L".concat(e,",").concat(n,"Z");return S},Ree={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},L8=r=>{var e=fo(r,Ree),{cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=e;if(o<a||u===d)return null;var h=fr("recharts-sector",f),p=o-a,y=aa(s,p,0,!0),w;return y>0&&Math.abs(u-d)<360?w=Dee({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):w=O8({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),P.createElement("path",m5({},tn(e,!0),{className:h,d:w}))};function Mee(r,e,n){var i,a,o,s;if(r==="horizontal")i=e.x,o=i,a=n.top,s=n.top+n.height;else if(r==="vertical")a=e.y,s=a,i=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=e,h=$n(l,c,u,f),p=$n(l,c,d,f);i=h.x,a=h.y,o=p.x,s=p.y}else return j8(e);return[{x:i,y:a},{x:o,y:s}]}var D8={},R8={},M8={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=gS;function n(i){return e.isSymbol(i)?NaN:Number(i)}r.toNumber=n})(M8);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=M8;function n(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}r.toFinite=n})(R8);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=vS,n=R8;function i(a,o,s){s&&typeof s!="number"&&e.isIterateeCall(a,o,s)&&(o=s=void 0),a=n.toFinite(a),o===void 0?(o=a,a=0):o=n.toFinite(o),s=s===void 0?a<o?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((o-a)/(s||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=s;return c}r.range=i})(D8);var Fee=D8.range;const F8=Js(Fee);function tu(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function Bee(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function IS(r){let e,n,i;r.length!==2?(e=tu,n=(l,c)=>tu(r(l),c),i=(l,c)=>r(l)-c):(e=r===tu||r===Bee?r:Uee,n=r,i=r);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&i(l[f-1],c)>-i(l[f],c)?f-1:f}return{left:a,center:s,right:o}}function Uee(){return 0}function B8(r){return r===null?NaN:+r}function*$ee(r,e){for(let n of r)n!=null&&(n=+n)>=n&&(yield n)}const zee=IS(tu),mg=zee.right;IS(B8).center;class AC extends Map{constructor(e,n=Wee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,a]of e)this.set(i,a)}get(e){return super.get(SC(this,e))}has(e){return super.has(SC(this,e))}set(e,n){return super.set(Vee(this,e),n)}delete(e){return super.delete(qee(this,e))}}function SC({_intern:r,_key:e},n){const i=e(n);return r.has(i)?r.get(i):n}function Vee({_intern:r,_key:e},n){const i=e(n);return r.has(i)?r.get(i):(r.set(i,n),n)}function qee({_intern:r,_key:e},n){const i=e(n);return r.has(i)&&(n=r.get(i),r.delete(i)),n}function Wee(r){return r!==null&&typeof r=="object"?r.valueOf():r}function Hee(r=tu){if(r===tu)return U8;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=r(e,n);return i||i===0?i:(r(n,n)===0)-(r(e,e)===0)}}function U8(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const Kee=Math.sqrt(50),Gee=Math.sqrt(10),Yee=Math.sqrt(2);function d0(r,e,n){const i=(e-r)/Math.max(0,n),a=Math.floor(Math.log10(i)),o=i/Math.pow(10,a),s=o>=Kee?10:o>=Gee?5:o>=Yee?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(r*u),c=Math.round(e*u),l/u<r&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(r/u),c=Math.round(e/u),l*u<r&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?d0(r,e,n*2):[l,c,u]}function g5(r,e,n){if(e=+e,r=+r,n=+n,!(n>0))return[];if(r===e)return[r];const i=e<r,[a,o,s]=i?d0(e,r,n):d0(r,e,n);if(!(o>=a))return[];const l=o-a+1,c=new Array(l);if(i)if(s<0)for(let u=0;u<l;++u)c[u]=(o-u)/-s;else for(let u=0;u<l;++u)c[u]=(o-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function v5(r,e,n){return e=+e,r=+r,n=+n,d0(r,e,n)[2]}function y5(r,e,n){e=+e,r=+r,n=+n;const i=e<r,a=i?v5(e,r,n):v5(r,e,n);return(i?-1:1)*(a<0?1/-a:a)}function EC(r,e){let n;for(const i of r)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function kC(r,e){let n;for(const i of r)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function $8(r,e,n=0,i=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(r.length-1,i)),!(n<=e&&e<=i))return r;for(a=a===void 0?U8:Hee(a);i>n;){if(i-n>600){const c=i-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/c+h)),y=Math.min(i,Math.floor(e+(c-u)*f/c+h));$8(r,e,p,y,a)}const o=r[e];let s=n,l=i;for(vp(r,n,e),a(r[i],o)>0&&vp(r,n,i);s<l;){for(vp(r,s,l),++s,--l;a(r[s],o)<0;)++s;for(;a(r[l],o)>0;)--l}a(r[n],o)===0?vp(r,n,l):(++l,vp(r,l,i)),l<=e&&(n=l+1),e<=l&&(i=l-1)}return r}function vp(r,e,n){const i=r[e];r[e]=r[n],r[n]=i}function Qee(r,e,n){if(r=Float64Array.from($ee(r)),!(!(i=r.length)||isNaN(e=+e))){if(e<=0||i<2)return kC(r);if(e>=1)return EC(r);var i,a=(i-1)*e,o=Math.floor(a),s=EC($8(r,o).subarray(0,o+1)),l=kC(r.subarray(o+1));return s+(l-s)*(a-o)}}function Xee(r,e,n=B8){if(!(!(i=r.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(r[0],0,r);if(e>=1)return+n(r[i-1],i-1,r);var i,a=(i-1)*e,o=Math.floor(a),s=+n(r[o],o,r),l=+n(r[o+1],o+1,r);return s+(l-s)*(a-o)}}function Zee(r,e,n){r=+r,e=+e,n=(a=arguments.length)<2?(e=r,r=0,1):a<3?1:+n;for(var i=-1,a=Math.max(0,Math.ceil((e-r)/n))|0,o=new Array(a);++i<a;)o[i]=r+i*n;return o}function Uo(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function Zl(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const w5=Symbol("implicit");function jS(){var r=new AC,e=[],n=[],i=w5;function a(o){let s=r.get(o);if(s===void 0){if(i!==w5)return i;r.set(o,s=e.push(o)-1)}return n[s%n.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],r=new AC;for(const s of o)r.has(s)||r.set(s,e.push(s)-1);return a},a.range=function(o){return arguments.length?(n=Array.from(o),a):n.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.copy=function(){return jS(e,n).unknown(i)},Uo.apply(a,arguments),a}function OS(){var r=jS().unknown(void 0),e=r.domain,n=r.range,i=0,a=1,o,s,l=!1,c=0,u=0,d=.5;delete r.unknown;function f(){var h=e().length,p=a<i,y=p?a:i,w=p?i:a;o=(w-y)/Math.max(1,h-c+u*2),l&&(o=Math.floor(o)),y+=(w-y-o*(h-c))*d,s=o*(1-c),l&&(y=Math.round(y),s=Math.round(s));var x=Zee(h).map(function(b){return y+o*b});return n(p?x.reverse():x)}return r.domain=function(h){return arguments.length?(e(h),f()):e()},r.range=function(h){return arguments.length?([i,a]=h,i=+i,a=+a,f()):[i,a]},r.rangeRound=function(h){return[i,a]=h,i=+i,a=+a,l=!0,f()},r.bandwidth=function(){return s},r.step=function(){return o},r.round=function(h){return arguments.length?(l=!!h,f()):l},r.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},r.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},r.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},r.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},r.copy=function(){return OS(e(),[i,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Uo.apply(f(),arguments)}function z8(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return z8(e())},r}function Jee(){return z8(OS.apply(null,arguments).paddingInner(1))}function LS(r,e,n){r.prototype=e.prototype=n,n.constructor=r}function V8(r,e){var n=Object.create(r.prototype);for(var i in e)n[i]=e[i];return n}function gg(){}var Um=.7,f0=1/Um,Mf="\\s*([+-]?\\d+)\\s*",$m="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ks="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ete=/^#([0-9a-f]{3,8})$/,tte=new RegExp(`^rgb\\(${Mf},${Mf},${Mf}\\)$`),rte=new RegExp(`^rgb\\(${Ks},${Ks},${Ks}\\)$`),nte=new RegExp(`^rgba\\(${Mf},${Mf},${Mf},${$m}\\)$`),ite=new RegExp(`^rgba\\(${Ks},${Ks},${Ks},${$m}\\)$`),ate=new RegExp(`^hsl\\(${$m},${Ks},${Ks}\\)$`),ote=new RegExp(`^hsla\\(${$m},${Ks},${Ks},${$m}\\)$`),PC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};LS(gg,zm,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:NC,formatHex:NC,formatHex8:ste,formatHsl:lte,formatRgb:TC,toString:TC});function NC(){return this.rgb().formatHex()}function ste(){return this.rgb().formatHex8()}function lte(){return q8(this).formatHsl()}function TC(){return this.rgb().formatRgb()}function zm(r){var e,n;return r=(r+"").trim().toLowerCase(),(e=ete.exec(r))?(n=e[1].length,e=parseInt(e[1],16),n===6?CC(e):n===3?new ba(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Av(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Av(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tte.exec(r))?new ba(e[1],e[2],e[3],1):(e=rte.exec(r))?new ba(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nte.exec(r))?Av(e[1],e[2],e[3],e[4]):(e=ite.exec(r))?Av(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ate.exec(r))?OC(e[1],e[2]/100,e[3]/100,1):(e=ote.exec(r))?OC(e[1],e[2]/100,e[3]/100,e[4]):PC.hasOwnProperty(r)?CC(PC[r]):r==="transparent"?new ba(NaN,NaN,NaN,0):null}function CC(r){return new ba(r>>16&255,r>>8&255,r&255,1)}function Av(r,e,n,i){return i<=0&&(r=e=n=NaN),new ba(r,e,n,i)}function cte(r){return r instanceof gg||(r=zm(r)),r?(r=r.rgb(),new ba(r.r,r.g,r.b,r.opacity)):new ba}function b5(r,e,n,i){return arguments.length===1?cte(r):new ba(r,e,n,i??1)}function ba(r,e,n,i){this.r=+r,this.g=+e,this.b=+n,this.opacity=+i}LS(ba,b5,V8(gg,{brighter(r){return r=r==null?f0:Math.pow(f0,r),new ba(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?Um:Math.pow(Um,r),new ba(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new ba(pd(this.r),pd(this.g),pd(this.b),h0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IC,formatHex:IC,formatHex8:ute,formatRgb:jC,toString:jC}));function IC(){return`#${id(this.r)}${id(this.g)}${id(this.b)}`}function ute(){return`#${id(this.r)}${id(this.g)}${id(this.b)}${id((isNaN(this.opacity)?1:this.opacity)*255)}`}function jC(){const r=h0(this.opacity);return`${r===1?"rgb(":"rgba("}${pd(this.r)}, ${pd(this.g)}, ${pd(this.b)}${r===1?")":`, ${r})`}`}function h0(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function pd(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function id(r){return r=pd(r),(r<16?"0":"")+r.toString(16)}function OC(r,e,n,i){return i<=0?r=e=n=NaN:n<=0||n>=1?r=e=NaN:e<=0&&(r=NaN),new is(r,e,n,i)}function q8(r){if(r instanceof is)return new is(r.h,r.s,r.l,r.opacity);if(r instanceof gg||(r=zm(r)),!r)return new is;if(r instanceof is)return r;r=r.rgb();var e=r.r/255,n=r.g/255,i=r.b/255,a=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,l=o-a,c=(o+a)/2;return l?(e===o?s=(n-i)/l+(n<i)*6:n===o?s=(i-e)/l+2:s=(e-n)/l+4,l/=c<.5?o+a:2-o-a,s*=60):l=c>0&&c<1?0:s,new is(s,l,c,r.opacity)}function dte(r,e,n,i){return arguments.length===1?q8(r):new is(r,e,n,i??1)}function is(r,e,n,i){this.h=+r,this.s=+e,this.l=+n,this.opacity=+i}LS(is,dte,V8(gg,{brighter(r){return r=r==null?f0:Math.pow(f0,r),new is(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?Um:Math.pow(Um,r),new is(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,a=2*n-i;return new ba(Mw(r>=240?r-240:r+120,a,i),Mw(r,a,i),Mw(r<120?r+240:r-120,a,i),this.opacity)},clamp(){return new is(LC(this.h),Sv(this.s),Sv(this.l),h0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=h0(this.opacity);return`${r===1?"hsl(":"hsla("}${LC(this.h)}, ${Sv(this.s)*100}%, ${Sv(this.l)*100}%${r===1?")":`, ${r})`}`}}));function LC(r){return r=(r||0)%360,r<0?r+360:r}function Sv(r){return Math.max(0,Math.min(1,r||0))}function Mw(r,e,n){return(r<60?e+(n-e)*r/60:r<180?n:r<240?e+(n-e)*(240-r)/60:e)*255}const DS=r=>()=>r;function fte(r,e){return function(n){return r+n*e}}function hte(r,e,n){return r=Math.pow(r,n),e=Math.pow(e,n)-r,n=1/n,function(i){return Math.pow(r+i*e,n)}}function pte(r){return(r=+r)==1?W8:function(e,n){return n-e?hte(e,n,r):DS(isNaN(e)?n:e)}}function W8(r,e){var n=e-r;return n?fte(r,n):DS(isNaN(r)?e:r)}const DC=function r(e){var n=pte(e);function i(a,o){var s=n((a=b5(a)).r,(o=b5(o)).r),l=n(a.g,o.g),c=n(a.b,o.b),u=W8(a.opacity,o.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return i.gamma=r,i}(1);function mte(r,e){e||(e=[]);var n=r?Math.min(e.length,r.length):0,i=e.slice(),a;return function(o){for(a=0;a<n;++a)i[a]=r[a]*(1-o)+e[a]*o;return i}}function gte(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function vte(r,e){var n=e?e.length:0,i=r?Math.min(n,r.length):0,a=new Array(i),o=new Array(n),s;for(s=0;s<i;++s)a[s]=Ch(r[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<i;++s)o[s]=a[s](l);return o}}function yte(r,e){var n=new Date;return r=+r,e=+e,function(i){return n.setTime(r*(1-i)+e*i),n}}function p0(r,e){return r=+r,e=+e,function(n){return r*(1-n)+e*n}}function wte(r,e){var n={},i={},a;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in r?n[a]=Ch(r[a],e[a]):i[a]=e[a];return function(o){for(a in n)i[a]=n[a](o);return i}}var x5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fw=new RegExp(x5.source,"g");function bte(r){return function(){return r}}function xte(r){return function(e){return r(e)+""}}function _te(r,e){var n=x5.lastIndex=Fw.lastIndex=0,i,a,o,s=-1,l=[],c=[];for(r=r+"",e=e+"";(i=x5.exec(r))&&(a=Fw.exec(e));)(o=a.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(i=i[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:p0(i,a)})),n=Fw.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?xte(c[0].x):bte(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Ch(r,e){var n=typeof e,i;return e==null||n==="boolean"?DS(e):(n==="number"?p0:n==="string"?(i=zm(e))?(e=i,DC):_te:e instanceof zm?DC:e instanceof Date?yte:gte(e)?mte:Array.isArray(e)?vte:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wte:p0)(r,e)}function RS(r,e){return r=+r,e=+e,function(n){return Math.round(r*(1-n)+e*n)}}function Ate(r,e){e===void 0&&(e=r,r=Ch);for(var n=0,i=e.length-1,a=e[0],o=new Array(i<0?0:i);n<i;)o[n]=r(a,a=e[++n]);return function(s){var l=Math.max(0,Math.min(i-1,Math.floor(s*=i)));return o[l](s-l)}}function Ste(r){return function(){return r}}function m0(r){return+r}var RC=[0,1];function na(r){return r}function _5(r,e){return(e-=r=+r)?function(n){return(n-r)/e}:Ste(isNaN(e)?NaN:.5)}function Ete(r,e){var n;return r>e&&(n=r,r=e,e=n),function(i){return Math.max(r,Math.min(e,i))}}function kte(r,e,n){var i=r[0],a=r[1],o=e[0],s=e[1];return a<i?(i=_5(a,i),o=n(s,o)):(i=_5(i,a),o=n(o,s)),function(l){return o(i(l))}}function Pte(r,e,n){var i=Math.min(r.length,e.length)-1,a=new Array(i),o=new Array(i),s=-1;for(r[i]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++s<i;)a[s]=_5(r[s],r[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var c=mg(r,l,1,i)-1;return o[c](a[c](l))}}function vg(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function a2(){var r=RC,e=RC,n=Ch,i,a,o,s=na,l,c,u;function d(){var h=Math.min(r.length,e.length);return s!==na&&(s=Ete(r[0],r[h-1])),l=h>2?Pte:kte,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(c||(c=l(r.map(i),e,n)))(i(s(h)))}return f.invert=function(h){return s(a((u||(u=l(e,r.map(i),p0)))(h)))},f.domain=function(h){return arguments.length?(r=Array.from(h,m0),d()):r.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=RS,d()},f.clamp=function(h){return arguments.length?(s=h?!0:na,d()):s!==na},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return i=h,a=p,d()}}function MS(){return a2()(na,na)}function Nte(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function g0(r,e){if((n=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var n,i=r.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+r.slice(n+1)]}function uh(r){return r=g0(Math.abs(r)),r?r[1]:NaN}function Tte(r,e){return function(n,i){for(var a=n.length,o=[],s=0,l=r[0],c=0;a>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),o.push(n.substring(a-=l,a+l)),!((c+=l+1)>i));)l=r[s=(s+1)%r.length];return o.reverse().join(e)}}function Cte(r){return function(e){return e.replace(/[0-9]/g,function(n){return r[+n]})}}var Ite=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vm(r){if(!(e=Ite.exec(r)))throw new Error("invalid format: "+r);var e;return new FS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vm.prototype=FS.prototype;function FS(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}FS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jte(r){e:for(var e=r.length,n=1,i=-1,a;n<e;++n)switch(r[n]){case".":i=a=n;break;case"0":i===0&&(i=n),a=n;break;default:if(!+r[n])break e;i>0&&(i=0);break}return i>0?r.slice(0,i)+r.slice(a+1):r}var H8;function Ote(r,e){var n=g0(r,e);if(!n)return r+"";var i=n[0],a=n[1],o=a-(H8=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+g0(r,Math.max(0,e+o-1))[0]}function MC(r,e){var n=g0(r,e);if(!n)return r+"";var i=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}const FC={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:Nte,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>MC(r*100,e),r:MC,s:Ote,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function BC(r){return r}var UC=Array.prototype.map,$C=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Lte(r){var e=r.grouping===void 0||r.thousands===void 0?BC:Tte(UC.call(r.grouping,Number),r.thousands+""),n=r.currency===void 0?"":r.currency[0]+"",i=r.currency===void 0?"":r.currency[1]+"",a=r.decimal===void 0?".":r.decimal+"",o=r.numerals===void 0?BC:Cte(UC.call(r.numerals,String)),s=r.percent===void 0?"%":r.percent+"",l=r.minus===void 0?"":r.minus+"",c=r.nan===void 0?"NaN":r.nan+"";function u(f){f=Vm(f);var h=f.fill,p=f.align,y=f.sign,w=f.symbol,x=f.zero,b=f.width,S=f.comma,A=f.precision,I=f.trim,B=f.type;B==="n"?(S=!0,B="g"):FC[B]||(A===void 0&&(A=12),I=!0,B="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var $=w==="$"?n:w==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",D=w==="$"?i:/[%p]/.test(B)?s:"",j=FC[B],O=/[defgprs%]/.test(B);A=A===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function U(T){var L=$,C=D,Y,oe,se;if(B==="c")C=j(T)+C,T="";else{T=+T;var pe=T<0||1/T<0;if(T=isNaN(T)?c:j(Math.abs(T),A),I&&(T=jte(T)),pe&&+T==0&&y!=="+"&&(pe=!1),L=(pe?y==="("?y:l:y==="-"||y==="("?"":y)+L,C=(B==="s"?$C[8+H8/3]:"")+C+(pe&&y==="("?")":""),O){for(Y=-1,oe=T.length;++Y<oe;)if(se=T.charCodeAt(Y),48>se||se>57){C=(se===46?a+T.slice(Y+1):T.slice(Y))+C,T=T.slice(0,Y);break}}}S&&!x&&(T=e(T,1/0));var X=L.length+T.length+C.length,le=X<b?new Array(b-X+1).join(h):"";switch(S&&x&&(T=e(le+T,le.length?b-C.length:1/0),le=""),p){case"<":T=L+T+C+le;break;case"=":T=L+le+T+C;break;case"^":T=le.slice(0,X=le.length>>1)+L+T+C+le.slice(X);break;default:T=le+L+T+C;break}return o(T)}return U.toString=function(){return f+""},U}function d(f,h){var p=u((f=Vm(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(uh(h)/3)))*3,w=Math.pow(10,-y),x=$C[8+y/3];return function(b){return p(w*b)+x}}return{format:u,formatPrefix:d}}var Ev,BS,K8;Dte({thousands:",",grouping:[3],currency:["$",""]});function Dte(r){return Ev=Lte(r),BS=Ev.format,K8=Ev.formatPrefix,Ev}function Rte(r){return Math.max(0,-uh(Math.abs(r)))}function Mte(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uh(e)/3)))*3-uh(Math.abs(r)))}function Fte(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,uh(e)-uh(r))+1}function G8(r,e,n,i){var a=y5(r,e,n),o;switch(i=Vm(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(r),Math.abs(e));return i.precision==null&&!isNaN(o=Mte(a,s))&&(i.precision=o),K8(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=Fte(a,Math.max(Math.abs(r),Math.abs(e))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=Rte(a))&&(i.precision=o-(i.type==="%")*2);break}}return BS(i)}function Su(r){var e=r.domain;return r.ticks=function(n){var i=e();return g5(i[0],i[i.length-1],n??10)},r.tickFormat=function(n,i){var a=e();return G8(a[0],a[a.length-1],n??10,i)},r.nice=function(n){n==null&&(n=10);var i=e(),a=0,o=i.length-1,s=i[a],l=i[o],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=o,o=u);d-- >0;){if(u=v5(s,l,n),u===c)return i[a]=s,i[o]=l,e(i);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return r},r}function Y8(){var r=MS();return r.copy=function(){return vg(r,Y8())},Uo.apply(r,arguments),Su(r)}function Q8(r){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(r=Array.from(i,m0),n):r.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return Q8(r).unknown(e)},r=arguments.length?Array.from(r,m0):[0,1],Su(n)}function X8(r,e){r=r.slice();var n=0,i=r.length-1,a=r[n],o=r[i],s;return o<a&&(s=n,n=i,i=s,s=a,a=o,o=s),r[n]=e.floor(a),r[i]=e.ceil(o),r}function zC(r){return Math.log(r)}function VC(r){return Math.exp(r)}function Bte(r){return-Math.log(-r)}function Ute(r){return-Math.exp(-r)}function $te(r){return isFinite(r)?+("1e"+r):r<0?0:r}function zte(r){return r===10?$te:r===Math.E?Math.exp:e=>Math.pow(r,e)}function Vte(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function qC(r){return(e,n)=>-r(-e,n)}function US(r){const e=r(zC,VC),n=e.domain;let i=10,a,o;function s(){return a=Vte(i),o=zte(i),n()[0]<0?(a=qC(a),o=qC(o),r(Bte,Ute)):r(zC,VC),e}return e.base=function(l){return arguments.length?(i=+l,s()):i},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),y,w;const x=l==null?10:+l;let b=[];if(!(i%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<i;++y)if(w=h<0?y/o(-h):y*o(h),!(w<u)){if(w>d)break;b.push(w)}}else for(;h<=p;++h)for(y=i-1;y>=1;--y)if(w=h>0?y/o(-h):y*o(h),!(w<u)){if(w>d)break;b.push(w)}b.length*2<x&&(b=g5(u,d,x))}else b=g5(h,p,Math.min(p-h,x)).map(o);return f?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=i===10?"s":","),typeof c!="function"&&(!(i%1)&&(c=Vm(c)).precision==null&&(c.trim=!0),c=BS(c)),l===1/0)return c;const u=Math.max(1,i*l/e.ticks().length);return d=>{let f=d/o(Math.round(a(d)));return f*i<i-.5&&(f*=i),f<=u?c(d):""}},e.nice=()=>n(X8(n(),{floor:l=>o(Math.floor(a(l))),ceil:l=>o(Math.ceil(a(l)))})),e}function Z8(){const r=US(a2()).domain([1,10]);return r.copy=()=>vg(r,Z8()).base(r.base()),Uo.apply(r,arguments),r}function WC(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function HC(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function $S(r){var e=1,n=r(WC(e),HC(e));return n.constant=function(i){return arguments.length?r(WC(e=+i),HC(e)):e},Su(n)}function J8(){var r=$S(a2());return r.copy=function(){return vg(r,J8()).constant(r.constant())},Uo.apply(r,arguments)}function KC(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function qte(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function Wte(r){return r<0?-r*r:r*r}function zS(r){var e=r(na,na),n=1;function i(){return n===1?r(na,na):n===.5?r(qte,Wte):r(KC(n),KC(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,i()):n},Su(e)}function VS(){var r=zS(a2());return r.copy=function(){return vg(r,VS()).exponent(r.exponent())},Uo.apply(r,arguments),r}function Hte(){return VS.apply(null,arguments).exponent(.5)}function GC(r){return Math.sign(r)*r*r}function Kte(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function eM(){var r=MS(),e=[0,1],n=!1,i;function a(o){var s=Kte(r(o));return isNaN(s)?i:n?Math.round(s):s}return a.invert=function(o){return r.invert(GC(o))},a.domain=function(o){return arguments.length?(r.domain(o),a):r.domain()},a.range=function(o){return arguments.length?(r.range((e=Array.from(o,m0)).map(GC)),a):e.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(n=!!o,a):n},a.clamp=function(o){return arguments.length?(r.clamp(o),a):r.clamp()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.copy=function(){return eM(r.domain(),e).round(n).clamp(r.clamp()).unknown(i)},Uo.apply(a,arguments),Su(a)}function tM(){var r=[],e=[],n=[],i;function a(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=Xee(r,s/l);return o}function o(s){return s==null||isNaN(s=+s)?i:e[mg(n,s)]}return o.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:r[0],l<n.length?n[l]:r[r.length-1]]},o.domain=function(s){if(!arguments.length)return r.slice();r=[];for(let l of s)l!=null&&!isNaN(l=+l)&&r.push(l);return r.sort(tu),a()},o.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},o.unknown=function(s){return arguments.length?(i=s,o):i},o.quantiles=function(){return n.slice()},o.copy=function(){return tM().domain(r).range(e).unknown(i)},Uo.apply(o,arguments)}function rM(){var r=0,e=1,n=1,i=[.5],a=[0,1],o;function s(c){return c!=null&&c<=c?a[mg(i,c,0,n)]:o}function l(){var c=-1;for(i=new Array(n);++c<n;)i[c]=((c+1)*e-(c-n)*r)/(n+1);return s}return s.domain=function(c){return arguments.length?([r,e]=c,r=+r,e=+e,l()):[r,e]},s.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[r,i[0]]:u>=n?[i[n-1],e]:[i[u-1],i[u]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return i.slice()},s.copy=function(){return rM().domain([r,e]).range(a).unknown(o)},Uo.apply(Su(s),arguments)}function nM(){var r=[.5],e=[0,1],n,i=1;function a(o){return o!=null&&o<=o?e[mg(r,o,0,i)]:n}return a.domain=function(o){return arguments.length?(r=Array.from(o),i=Math.min(r.length,e.length-1),a):r.slice()},a.range=function(o){return arguments.length?(e=Array.from(o),i=Math.min(r.length,e.length-1),a):e.slice()},a.invertExtent=function(o){var s=e.indexOf(o);return[r[s-1],r[s]]},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return nM().domain(r).range(e).unknown(n)},Uo.apply(a,arguments)}const Bw=new Date,Uw=new Date;function Zn(r,e,n,i){function a(o){return r(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(r(o=new Date(+o)),o),a.ceil=o=>(r(o=new Date(o-1)),e(o,1),r(o),o),a.round=o=>{const s=a(o),l=a.ceil(o);return o-s<l-o?s:l},a.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),a.range=(o,s,l)=>{const c=[];if(o=a.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let u;do c.push(u=new Date(+o)),e(o,l),r(o);while(u<o&&o<s);return c},a.filter=o=>Zn(s=>{if(s>=s)for(;r(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),n&&(a.count=(o,s)=>(Bw.setTime(+o),Uw.setTime(+s),r(Bw),r(Uw),Math.floor(n(Bw,Uw))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(i?s=>i(s)%o===0:s=>a.count(0,s)%o===0):a)),a}const v0=Zn(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);v0.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?Zn(e=>{e.setTime(Math.floor(e/r)*r)},(e,n)=>{e.setTime(+e+n*r)},(e,n)=>(n-e)/r):v0);v0.range;const El=1e3,To=El*60,kl=To*60,zl=kl*24,qS=zl*7,YC=zl*30,$w=zl*365,ad=Zn(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*El)},(r,e)=>(e-r)/El,r=>r.getUTCSeconds());ad.range;const WS=Zn(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*El)},(r,e)=>{r.setTime(+r+e*To)},(r,e)=>(e-r)/To,r=>r.getMinutes());WS.range;const HS=Zn(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*To)},(r,e)=>(e-r)/To,r=>r.getUTCMinutes());HS.range;const KS=Zn(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*El-r.getMinutes()*To)},(r,e)=>{r.setTime(+r+e*kl)},(r,e)=>(e-r)/kl,r=>r.getHours());KS.range;const GS=Zn(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*kl)},(r,e)=>(e-r)/kl,r=>r.getUTCHours());GS.range;const yg=Zn(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*To)/zl,r=>r.getDate()-1);yg.range;const o2=Zn(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/zl,r=>r.getUTCDate()-1);o2.range;const iM=Zn(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/zl,r=>Math.floor(r/zl));iM.range;function $d(r){return Zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*To)/qS)}const s2=$d(0),y0=$d(1),Gte=$d(2),Yte=$d(3),dh=$d(4),Qte=$d(5),Xte=$d(6);s2.range;y0.range;Gte.range;Yte.range;dh.range;Qte.range;Xte.range;function zd(r){return Zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/qS)}const l2=zd(0),w0=zd(1),Zte=zd(2),Jte=zd(3),fh=zd(4),ere=zd(5),tre=zd(6);l2.range;w0.range;Zte.range;Jte.range;fh.range;ere.range;tre.range;const YS=Zn(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());YS.range;const QS=Zn(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());QS.range;const Vl=Zn(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());Vl.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*r)});Vl.range;const ql=Zn(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());ql.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*r)});ql.range;function aM(r,e,n,i,a,o){const s=[[ad,1,El],[ad,5,5*El],[ad,15,15*El],[ad,30,30*El],[o,1,To],[o,5,5*To],[o,15,15*To],[o,30,30*To],[a,1,kl],[a,3,3*kl],[a,6,6*kl],[a,12,12*kl],[i,1,zl],[i,2,2*zl],[n,1,qS],[e,1,YC],[e,3,3*YC],[r,1,$w]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,p=IS(([,,x])=>x).right(s,h);if(p===s.length)return r.every(y5(u/$w,d/$w,f));if(p===0)return v0.every(Math.max(y5(u,d,f),1));const[y,w]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return y.every(w)}return[l,c]}const[rre,nre]=aM(ql,QS,l2,iM,GS,HS),[ire,are]=aM(Vl,YS,s2,yg,KS,WS);function zw(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function Vw(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function yp(r,e,n){return{y:r,m:e,d:n,H:0,M:0,S:0,L:0}}function ore(r){var e=r.dateTime,n=r.date,i=r.time,a=r.periods,o=r.days,s=r.shortDays,l=r.months,c=r.shortMonths,u=wp(a),d=bp(a),f=wp(o),h=bp(o),p=wp(s),y=bp(s),w=wp(l),x=bp(l),b=wp(c),S=bp(c),A={a:pe,A:X,b:le,B:ie,c:null,d:t4,e:t4,f:Tre,g:Bre,G:$re,H:kre,I:Pre,j:Nre,L:oM,m:Cre,M:Ire,p:ne,q:M,Q:i4,s:a4,S:jre,u:Ore,U:Lre,V:Dre,w:Rre,W:Mre,x:null,X:null,y:Fre,Y:Ure,Z:zre,"%":n4},I={a:K,A:Z,b:ae,B:de,c:null,d:r4,e:r4,f:Hre,g:rne,G:ine,H:Vre,I:qre,j:Wre,L:lM,m:Kre,M:Gre,p:me,q:Ee,Q:i4,s:a4,S:Yre,u:Qre,U:Xre,V:Zre,w:Jre,W:ene,x:null,X:null,y:tne,Y:nne,Z:ane,"%":n4},B={a:U,A:T,b:L,B:C,c:Y,d:JC,e:JC,f:_re,g:ZC,G:XC,H:e4,I:e4,j:yre,L:xre,m:vre,M:wre,p:O,q:gre,Q:Sre,s:Ere,S:bre,u:dre,U:fre,V:hre,w:ure,W:pre,x:oe,X:se,y:ZC,Y:XC,Z:mre,"%":Are};A.x=$(n,A),A.X=$(i,A),A.c=$(e,A),I.x=$(n,I),I.X=$(i,I),I.c=$(e,I);function $(ue,Ae){return function(Pe){var we=[],Ue=-1,be=0,re=ue.length,mt,vt,ft;for(Pe instanceof Date||(Pe=new Date(+Pe));++Ue<re;)ue.charCodeAt(Ue)===37&&(we.push(ue.slice(be,Ue)),(vt=QC[mt=ue.charAt(++Ue)])!=null?mt=ue.charAt(++Ue):vt=mt==="e"?" ":"0",(ft=Ae[mt])&&(mt=ft(Pe,vt)),we.push(mt),be=Ue+1);return we.push(ue.slice(be,Ue)),we.join("")}}function D(ue,Ae){return function(Pe){var we=yp(1900,void 0,1),Ue=j(we,ue,Pe+="",0),be,re;if(Ue!=Pe.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(Ae&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(be=Vw(yp(we.y,0,1)),re=be.getUTCDay(),be=re>4||re===0?w0.ceil(be):w0(be),be=o2.offset(be,(we.V-1)*7),we.y=be.getUTCFullYear(),we.m=be.getUTCMonth(),we.d=be.getUTCDate()+(we.w+6)%7):(be=zw(yp(we.y,0,1)),re=be.getDay(),be=re>4||re===0?y0.ceil(be):y0(be),be=yg.offset(be,(we.V-1)*7),we.y=be.getFullYear(),we.m=be.getMonth(),we.d=be.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),re="Z"in we?Vw(yp(we.y,0,1)).getUTCDay():zw(yp(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(re+5)%7:we.w+we.U*7-(re+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,Vw(we)):zw(we)}}function j(ue,Ae,Pe,we){for(var Ue=0,be=Ae.length,re=Pe.length,mt,vt;Ue<be;){if(we>=re)return-1;if(mt=Ae.charCodeAt(Ue++),mt===37){if(mt=Ae.charAt(Ue++),vt=B[mt in QC?Ae.charAt(Ue++):mt],!vt||(we=vt(ue,Pe,we))<0)return-1}else if(mt!=Pe.charCodeAt(we++))return-1}return we}function O(ue,Ae,Pe){var we=u.exec(Ae.slice(Pe));return we?(ue.p=d.get(we[0].toLowerCase()),Pe+we[0].length):-1}function U(ue,Ae,Pe){var we=p.exec(Ae.slice(Pe));return we?(ue.w=y.get(we[0].toLowerCase()),Pe+we[0].length):-1}function T(ue,Ae,Pe){var we=f.exec(Ae.slice(Pe));return we?(ue.w=h.get(we[0].toLowerCase()),Pe+we[0].length):-1}function L(ue,Ae,Pe){var we=b.exec(Ae.slice(Pe));return we?(ue.m=S.get(we[0].toLowerCase()),Pe+we[0].length):-1}function C(ue,Ae,Pe){var we=w.exec(Ae.slice(Pe));return we?(ue.m=x.get(we[0].toLowerCase()),Pe+we[0].length):-1}function Y(ue,Ae,Pe){return j(ue,e,Ae,Pe)}function oe(ue,Ae,Pe){return j(ue,n,Ae,Pe)}function se(ue,Ae,Pe){return j(ue,i,Ae,Pe)}function pe(ue){return s[ue.getDay()]}function X(ue){return o[ue.getDay()]}function le(ue){return c[ue.getMonth()]}function ie(ue){return l[ue.getMonth()]}function ne(ue){return a[+(ue.getHours()>=12)]}function M(ue){return 1+~~(ue.getMonth()/3)}function K(ue){return s[ue.getUTCDay()]}function Z(ue){return o[ue.getUTCDay()]}function ae(ue){return c[ue.getUTCMonth()]}function de(ue){return l[ue.getUTCMonth()]}function me(ue){return a[+(ue.getUTCHours()>=12)]}function Ee(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var Ae=$(ue+="",A);return Ae.toString=function(){return ue},Ae},parse:function(ue){var Ae=D(ue+="",!1);return Ae.toString=function(){return ue},Ae},utcFormat:function(ue){var Ae=$(ue+="",I);return Ae.toString=function(){return ue},Ae},utcParse:function(ue){var Ae=D(ue+="",!0);return Ae.toString=function(){return ue},Ae}}}var QC={"-":"",_:" ",0:"0"},fi=/^\s*\d+/,sre=/^%/,lre=/[\\^$*+?|[\]().{}]/g;function hr(r,e,n){var i=r<0?"-":"",a=(i?-r:r)+"",o=a.length;return i+(o<n?new Array(n-o+1).join(e)+a:a)}function cre(r){return r.replace(lre,"\\$&")}function wp(r){return new RegExp("^(?:"+r.map(cre).join("|")+")","i")}function bp(r){return new Map(r.map((e,n)=>[e.toLowerCase(),n]))}function ure(r,e,n){var i=fi.exec(e.slice(n,n+1));return i?(r.w=+i[0],n+i[0].length):-1}function dre(r,e,n){var i=fi.exec(e.slice(n,n+1));return i?(r.u=+i[0],n+i[0].length):-1}function fre(r,e,n){var i=fi.exec(e.slice(n,n+2));return i?(r.U=+i[0],n+i[0].length):-1}function hre(r,e,n){var i=fi.exec(e.slice(n,n+2));return i?(r.V=+i[0],n+i[0].length):-1}function pre(r,e,n){var i=fi.exec(e.slice(n,n+2));return i?(r.W=+i[0],n+i[0].length):-1}function XC(r,e,n){var i=fi.exec(e.slice(n,n+4));return i?(r.y=+i[0],n+i[0].length):-1}function ZC(r,e,n){var i=fi.exec(e.slice(n,n+2));return i?(r.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function mre(r,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(r.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function gre(r,e,n){var i=fi.exec(e.slice(n,n+1));return i?(r.q=i[0]*3-3,n+i[0].length):-1}function vre(r,e,n){var i=fi.exec(e.slice(n,n+2));return i?(r.m=i[0]-1,n+i[0].length):-1}function JC(r,e,n){var i=fi.exec(e.slice(n,n+2));return i?(r.d=+i[0],n+i[0].length):-1}function yre(r,e,n){var i=fi.exec(e.slice(n,n+3));return i?(r.m=0,r.d=+i[0],n+i[0].length):-1}function e4(r,e,n){var i=fi.exec(e.slice(n,n+2));return i?(r.H=+i[0],n+i[0].length):-1}function wre(r,e,n){var i=fi.exec(e.slice(n,n+2));return i?(r.M=+i[0],n+i[0].length):-1}function bre(r,e,n){var i=fi.exec(e.slice(n,n+2));return i?(r.S=+i[0],n+i[0].length):-1}function xre(r,e,n){var i=fi.exec(e.slice(n,n+3));return i?(r.L=+i[0],n+i[0].length):-1}function _re(r,e,n){var i=fi.exec(e.slice(n,n+6));return i?(r.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Are(r,e,n){var i=sre.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Sre(r,e,n){var i=fi.exec(e.slice(n));return i?(r.Q=+i[0],n+i[0].length):-1}function Ere(r,e,n){var i=fi.exec(e.slice(n));return i?(r.s=+i[0],n+i[0].length):-1}function t4(r,e){return hr(r.getDate(),e,2)}function kre(r,e){return hr(r.getHours(),e,2)}function Pre(r,e){return hr(r.getHours()%12||12,e,2)}function Nre(r,e){return hr(1+yg.count(Vl(r),r),e,3)}function oM(r,e){return hr(r.getMilliseconds(),e,3)}function Tre(r,e){return oM(r,e)+"000"}function Cre(r,e){return hr(r.getMonth()+1,e,2)}function Ire(r,e){return hr(r.getMinutes(),e,2)}function jre(r,e){return hr(r.getSeconds(),e,2)}function Ore(r){var e=r.getDay();return e===0?7:e}function Lre(r,e){return hr(s2.count(Vl(r)-1,r),e,2)}function sM(r){var e=r.getDay();return e>=4||e===0?dh(r):dh.ceil(r)}function Dre(r,e){return r=sM(r),hr(dh.count(Vl(r),r)+(Vl(r).getDay()===4),e,2)}function Rre(r){return r.getDay()}function Mre(r,e){return hr(y0.count(Vl(r)-1,r),e,2)}function Fre(r,e){return hr(r.getFullYear()%100,e,2)}function Bre(r,e){return r=sM(r),hr(r.getFullYear()%100,e,2)}function Ure(r,e){return hr(r.getFullYear()%1e4,e,4)}function $re(r,e){var n=r.getDay();return r=n>=4||n===0?dh(r):dh.ceil(r),hr(r.getFullYear()%1e4,e,4)}function zre(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+hr(e/60|0,"0",2)+hr(e%60,"0",2)}function r4(r,e){return hr(r.getUTCDate(),e,2)}function Vre(r,e){return hr(r.getUTCHours(),e,2)}function qre(r,e){return hr(r.getUTCHours()%12||12,e,2)}function Wre(r,e){return hr(1+o2.count(ql(r),r),e,3)}function lM(r,e){return hr(r.getUTCMilliseconds(),e,3)}function Hre(r,e){return lM(r,e)+"000"}function Kre(r,e){return hr(r.getUTCMonth()+1,e,2)}function Gre(r,e){return hr(r.getUTCMinutes(),e,2)}function Yre(r,e){return hr(r.getUTCSeconds(),e,2)}function Qre(r){var e=r.getUTCDay();return e===0?7:e}function Xre(r,e){return hr(l2.count(ql(r)-1,r),e,2)}function cM(r){var e=r.getUTCDay();return e>=4||e===0?fh(r):fh.ceil(r)}function Zre(r,e){return r=cM(r),hr(fh.count(ql(r),r)+(ql(r).getUTCDay()===4),e,2)}function Jre(r){return r.getUTCDay()}function ene(r,e){return hr(w0.count(ql(r)-1,r),e,2)}function tne(r,e){return hr(r.getUTCFullYear()%100,e,2)}function rne(r,e){return r=cM(r),hr(r.getUTCFullYear()%100,e,2)}function nne(r,e){return hr(r.getUTCFullYear()%1e4,e,4)}function ine(r,e){var n=r.getUTCDay();return r=n>=4||n===0?fh(r):fh.ceil(r),hr(r.getUTCFullYear()%1e4,e,4)}function ane(){return"+0000"}function n4(){return"%"}function i4(r){return+r}function a4(r){return Math.floor(+r/1e3)}var rf,uM,dM;one({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function one(r){return rf=ore(r),uM=rf.format,rf.parse,dM=rf.utcFormat,rf.utcParse,rf}function sne(r){return new Date(r)}function lne(r){return r instanceof Date?+r:+new Date(+r)}function XS(r,e,n,i,a,o,s,l,c,u){var d=MS(),f=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),w=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),S=u("%b %d"),A=u("%B"),I=u("%Y");function B($){return(c($)<$?p:l($)<$?y:s($)<$?w:o($)<$?x:i($)<$?a($)<$?b:S:n($)<$?A:I)($)}return d.invert=function($){return new Date(f($))},d.domain=function($){return arguments.length?h(Array.from($,lne)):h().map(sne)},d.ticks=function($){var D=h();return r(D[0],D[D.length-1],$??10)},d.tickFormat=function($,D){return D==null?B:u(D)},d.nice=function($){var D=h();return(!$||typeof $.range!="function")&&($=e(D[0],D[D.length-1],$??10)),$?h(X8(D,$)):d},d.copy=function(){return vg(d,XS(r,e,n,i,a,o,s,l,c,u))},d}function cne(){return Uo.apply(XS(ire,are,Vl,YS,s2,yg,KS,WS,ad,uM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function une(){return Uo.apply(XS(rre,nre,ql,QS,l2,o2,GS,HS,ad,dM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function c2(){var r=0,e=1,n,i,a,o,s=na,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(o(f)-n)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([r,e]=f,n=o(r=+r),i=o(e=+e),a=n===i?0:1/(i-n),u):[r,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,s=f(p,y),u):[s(0),s(1)]}}return u.range=d(Ch),u.rangeRound=d(RS),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return o=f,n=f(r),i=f(e),a=n===i?0:1/(i-n),u}}function Eu(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function fM(){var r=Su(c2()(na));return r.copy=function(){return Eu(r,fM())},Zl.apply(r,arguments)}function hM(){var r=US(c2()).domain([1,10]);return r.copy=function(){return Eu(r,hM()).base(r.base())},Zl.apply(r,arguments)}function pM(){var r=$S(c2());return r.copy=function(){return Eu(r,pM()).constant(r.constant())},Zl.apply(r,arguments)}function ZS(){var r=zS(c2());return r.copy=function(){return Eu(r,ZS()).exponent(r.exponent())},Zl.apply(r,arguments)}function dne(){return ZS.apply(null,arguments).exponent(.5)}function mM(){var r=[],e=na;function n(i){if(i!=null&&!isNaN(i=+i))return e((mg(r,i,1)-1)/(r.length-1))}return n.domain=function(i){if(!arguments.length)return r.slice();r=[];for(let a of i)a!=null&&!isNaN(a=+a)&&r.push(a);return r.sort(tu),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return r.map((i,a)=>e(a/(r.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(a,o)=>Qee(r,o/i))},n.copy=function(){return mM(e).domain(r)},Zl.apply(n,arguments)}function u2(){var r=0,e=.5,n=1,i=1,a,o,s,l,c,u=na,d,f=!1,h;function p(w){return isNaN(w=+w)?h:(w=.5+((w=+d(w))-o)*(i*w<i*o?l:c),u(f?Math.max(0,Math.min(1,w)):w))}p.domain=function(w){return arguments.length?([r,e,n]=w,a=d(r=+r),o=d(e=+e),s=d(n=+n),l=a===o?0:.5/(o-a),c=o===s?0:.5/(s-o),i=o<a?-1:1,p):[r,e,n]},p.clamp=function(w){return arguments.length?(f=!!w,p):f},p.interpolator=function(w){return arguments.length?(u=w,p):u};function y(w){return function(x){var b,S,A;return arguments.length?([b,S,A]=x,u=Ate(w,[b,S,A]),p):[u(0),u(.5),u(1)]}}return p.range=y(Ch),p.rangeRound=y(RS),p.unknown=function(w){return arguments.length?(h=w,p):h},function(w){return d=w,a=w(r),o=w(e),s=w(n),l=a===o?0:.5/(o-a),c=o===s?0:.5/(s-o),i=o<a?-1:1,p}}function gM(){var r=Su(u2()(na));return r.copy=function(){return Eu(r,gM())},Zl.apply(r,arguments)}function vM(){var r=US(u2()).domain([.1,1,10]);return r.copy=function(){return Eu(r,vM()).base(r.base())},Zl.apply(r,arguments)}function yM(){var r=$S(u2());return r.copy=function(){return Eu(r,yM()).constant(r.constant())},Zl.apply(r,arguments)}function JS(){var r=zS(u2());return r.copy=function(){return Eu(r,JS()).exponent(r.exponent())},Zl.apply(r,arguments)}function fne(){return JS.apply(null,arguments).exponent(.5)}const Dp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:OS,scaleDiverging:gM,scaleDivergingLog:vM,scaleDivergingPow:JS,scaleDivergingSqrt:fne,scaleDivergingSymlog:yM,scaleIdentity:Q8,scaleImplicit:w5,scaleLinear:Y8,scaleLog:Z8,scaleOrdinal:jS,scalePoint:Jee,scalePow:VS,scaleQuantile:tM,scaleQuantize:rM,scaleRadial:eM,scaleSequential:fM,scaleSequentialLog:hM,scaleSequentialPow:ZS,scaleSequentialQuantile:mM,scaleSequentialSqrt:dne,scaleSequentialSymlog:pM,scaleSqrt:Hte,scaleSymlog:J8,scaleThreshold:nM,scaleTime:cne,scaleUtc:une,tickFormat:G8},Symbol.toStringTag,{value:"Module"}));var ku=r=>r.chartData,eE=Se([ku],r=>{var e=r.chartData!=null?r.chartData.length-1:0;return{chartData:r.chartData,computedData:r.computedData,dataEndIndex:e,dataStartIndex:0}}),d2=(r,e,n,i)=>i?eE(r):ku(r);function hh(r){if(Array.isArray(r)&&r.length===2){var[e,n]=r;if(oo(e)&&oo(n))return!0}return!1}function o4(r,e,n){return n?r:[Math.min(r[0],e[0]),Math.max(r[1],e[1])]}function hne(r,e){if(e&&typeof r!="function"&&Array.isArray(r)&&r.length===2){var[n,i]=r,a,o;if(oo(n))a=n;else if(typeof n=="function")return;if(oo(i))o=i;else if(typeof i=="function")return;var s=[a,o];if(hh(s))return s}}function pne(r,e,n){if(!(!n&&e==null)){if(typeof r=="function"&&e!=null)try{var i=r(e,n);if(hh(i))return o4(i,e,n)}catch{}if(Array.isArray(r)&&r.length===2){var[a,o]=r,s,l;if(a==="auto")e!=null&&(s=Math.min(...e));else if(He(a))s=a;else if(typeof a=="function")try{e!=null&&(s=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&rC.test(a)){var c=rC.exec(a);if(c==null||e==null)s=void 0;else{var u=+c[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(l=Math.max(...e));else if(He(o))l=o;else if(typeof o=="function")try{e!=null&&(l=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&nC.test(o)){var d=nC.exec(o);if(d==null||e==null)l=void 0;else{var f=+d[1];l=e[1]+f}}else l=e==null?void 0:e[1];var h=[s,l];if(hh(h))return e==null?h:o4(h,e,n)}}}var Ih=1e9,mne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rE,rn=!0,Do="[DecimalError] ",md=Do+"Invalid argument: ",tE=Do+"Exponent out of range: ",jh=Math.floor,Yu=Math.pow,gne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ya,oi=1e7,qr=7,wM=9007199254740991,b0=jh(wM/qr),Ye={};Ye.absoluteValue=Ye.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};Ye.comparedTo=Ye.cmp=function(r){var e,n,i,a,o=this;if(r=new o.constructor(r),o.s!==r.s)return o.s||-r.s;if(o.e!==r.e)return o.e>r.e^o.s<0?1:-1;for(i=o.d.length,a=r.d.length,e=0,n=i<a?i:a;e<n;++e)if(o.d[e]!==r.d[e])return o.d[e]>r.d[e]^o.s<0?1:-1;return i===a?0:i>a^o.s<0?1:-1};Ye.decimalPlaces=Ye.dp=function(){var r=this,e=r.d.length-1,n=(e-r.e)*qr;if(e=r.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ye.dividedBy=Ye.div=function(r){return Il(this,new this.constructor(r))};Ye.dividedToIntegerBy=Ye.idiv=function(r){var e=this,n=e.constructor;return Ir(Il(e,new n(r),0,1),n.precision)};Ye.equals=Ye.eq=function(r){return!this.cmp(r)};Ye.exponent=function(){return zn(this)};Ye.greaterThan=Ye.gt=function(r){return this.cmp(r)>0};Ye.greaterThanOrEqualTo=Ye.gte=function(r){return this.cmp(r)>=0};Ye.isInteger=Ye.isint=function(){return this.e>this.d.length-2};Ye.isNegative=Ye.isneg=function(){return this.s<0};Ye.isPositive=Ye.ispos=function(){return this.s>0};Ye.isZero=function(){return this.s===0};Ye.lessThan=Ye.lt=function(r){return this.cmp(r)<0};Ye.lessThanOrEqualTo=Ye.lte=function(r){return this.cmp(r)<1};Ye.logarithm=Ye.log=function(r){var e,n=this,i=n.constructor,a=i.precision,o=a+5;if(r===void 0)r=new i(10);else if(r=new i(r),r.s<1||r.eq(Ya))throw Error(Do+"NaN");if(n.s<1)throw Error(Do+(n.s?"NaN":"-Infinity"));return n.eq(Ya)?new i(0):(rn=!1,e=Il(qm(n,o),qm(r,o),o),rn=!0,Ir(e,a))};Ye.minus=Ye.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?_M(e,r):bM(e,(r.s=-r.s,r))};Ye.modulo=Ye.mod=function(r){var e,n=this,i=n.constructor,a=i.precision;if(r=new i(r),!r.s)throw Error(Do+"NaN");return n.s?(rn=!1,e=Il(n,r,0,1).times(r),rn=!0,n.minus(e)):Ir(new i(n),a)};Ye.naturalExponential=Ye.exp=function(){return xM(this)};Ye.naturalLogarithm=Ye.ln=function(){return qm(this)};Ye.negated=Ye.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};Ye.plus=Ye.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?bM(e,r):_M(e,(r.s=-r.s,r))};Ye.precision=Ye.sd=function(r){var e,n,i,a=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(md+r);if(e=zn(a)+1,i=a.d.length-1,n=i*qr+1,i=a.d[i],i){for(;i%10==0;i/=10)n--;for(i=a.d[0];i>=10;i/=10)n++}return r&&e>n?e:n};Ye.squareRoot=Ye.sqrt=function(){var r,e,n,i,a,o,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Do+"NaN")}for(r=zn(l),rn=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Fs(l.d),(e.length+r)%2==0&&(e+="0"),a=Math.sqrt(e),r=jh((r+1)/2)-(r<0||r%2),a==1/0?e="5e"+r:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),i=new c(e)):i=new c(a.toString()),n=c.precision,a=s=n+3;;)if(o=i,i=o.plus(Il(l,o,s+2)).times(.5),Fs(o.d).slice(0,s)===(e=Fs(i.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(Ir(o,n+1,0),o.times(o).eq(l)){i=o;break}}else if(e!="9999")break;s+=4}return rn=!0,Ir(i,n)};Ye.times=Ye.mul=function(r){var e,n,i,a,o,s,l,c,u,d=this,f=d.constructor,h=d.d,p=(r=new f(r)).d;if(!d.s||!r.s)return new f(0);for(r.s*=d.s,n=d.e+r.e,c=h.length,u=p.length,c<u&&(o=h,h=p,p=o,s=c,c=u,u=s),o=[],s=c+u,i=s;i--;)o.push(0);for(i=u;--i>=0;){for(e=0,a=c+i;a>i;)l=o[a]+p[i]*h[a-i-1]+e,o[a--]=l%oi|0,e=l/oi|0;o[a]=(o[a]+e)%oi|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),r.d=o,r.e=n,rn?Ir(r,f.precision):r};Ye.toDecimalPlaces=Ye.todp=function(r,e){var n=this,i=n.constructor;return n=new i(n),r===void 0?n:(Xs(r,0,Ih),e===void 0?e=i.rounding:Xs(e,0,8),Ir(n,r+zn(n)+1,e))};Ye.toExponential=function(r,e){var n,i=this,a=i.constructor;return r===void 0?n=Cd(i,!0):(Xs(r,0,Ih),e===void 0?e=a.rounding:Xs(e,0,8),i=Ir(new a(i),r+1,e),n=Cd(i,!0,r+1)),n};Ye.toFixed=function(r,e){var n,i,a=this,o=a.constructor;return r===void 0?Cd(a):(Xs(r,0,Ih),e===void 0?e=o.rounding:Xs(e,0,8),i=Ir(new o(a),r+zn(a)+1,e),n=Cd(i.abs(),!1,r+zn(i)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ye.toInteger=Ye.toint=function(){var r=this,e=r.constructor;return Ir(new e(r),zn(r)+1,e.rounding)};Ye.toNumber=function(){return+this};Ye.toPower=Ye.pow=function(r){var e,n,i,a,o,s,l=this,c=l.constructor,u=12,d=+(r=new c(r));if(!r.s)return new c(Ya);if(l=new c(l),!l.s){if(r.s<1)throw Error(Do+"Infinity");return l}if(l.eq(Ya))return l;if(i=c.precision,r.eq(Ya))return Ir(l,i);if(e=r.e,n=r.d.length-1,s=e>=n,o=l.s,s){if((n=d<0?-d:d)<=wM){for(a=new c(Ya),e=Math.ceil(i/qr+4),rn=!1;n%2&&(a=a.times(l),l4(a.d,e)),n=jh(n/2),n!==0;)l=l.times(l),l4(l.d,e);return rn=!0,r.s<0?new c(Ya).div(a):Ir(a,i)}}else if(o<0)throw Error(Do+"NaN");return o=o<0&&r.d[Math.max(e,n)]&1?-1:1,l.s=1,rn=!1,a=r.times(qm(l,i+u)),rn=!0,a=xM(a),a.s=o,a};Ye.toPrecision=function(r,e){var n,i,a=this,o=a.constructor;return r===void 0?(n=zn(a),i=Cd(a,n<=o.toExpNeg||n>=o.toExpPos)):(Xs(r,1,Ih),e===void 0?e=o.rounding:Xs(e,0,8),a=Ir(new o(a),r,e),n=zn(a),i=Cd(a,r<=n||n<=o.toExpNeg,r)),i};Ye.toSignificantDigits=Ye.tosd=function(r,e){var n=this,i=n.constructor;return r===void 0?(r=i.precision,e=i.rounding):(Xs(r,1,Ih),e===void 0?e=i.rounding:Xs(e,0,8)),Ir(new i(n),r,e)};Ye.toString=Ye.valueOf=Ye.val=Ye.toJSON=Ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=zn(r),n=r.constructor;return Cd(r,e<=n.toExpNeg||e>=n.toExpPos)};function bM(r,e){var n,i,a,o,s,l,c,u,d=r.constructor,f=d.precision;if(!r.s||!e.s)return e.s||(e=new d(r)),rn?Ir(e,f):e;if(c=r.d,u=e.d,s=r.e,a=e.e,c=c.slice(),o=s-a,o){for(o<0?(i=c,o=-o,l=u.length):(i=u,a=s,l=c.length),s=Math.ceil(f/qr),l=s>l?s+1:l+1,o>l&&(o=l,i.length=1),i.reverse();o--;)i.push(0);i.reverse()}for(l=c.length,o=u.length,l-o<0&&(o=l,i=u,u=c,c=i),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/oi|0,c[o]%=oi;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,rn?Ir(e,f):e}function Xs(r,e,n){if(r!==~~r||r<e||r>n)throw Error(md+r)}function Fs(r){var e,n,i,a=r.length-1,o="",s=r[0];if(a>0){for(o+=s,e=1;e<a;e++)i=r[e]+"",n=qr-i.length,n&&(o+=Nc(n)),o+=i;s=r[e],i=s+"",n=qr-i.length,n&&(o+=Nc(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Il=function(){function r(i,a){var o,s=0,l=i.length;for(i=i.slice();l--;)o=i[l]*a+s,i[l]=o%oi|0,s=o/oi|0;return s&&i.unshift(s),i}function e(i,a,o,s){var l,c;if(o!=s)c=o>s?1:-1;else for(l=c=0;l<o;l++)if(i[l]!=a[l]){c=i[l]>a[l]?1:-1;break}return c}function n(i,a,o){for(var s=0;o--;)i[o]-=s,s=i[o]<a[o]?1:0,i[o]=s*oi+i[o]-a[o];for(;!i[0]&&i.length>1;)i.shift()}return function(i,a,o,s){var l,c,u,d,f,h,p,y,w,x,b,S,A,I,B,$,D,j,O=i.constructor,U=i.s==a.s?1:-1,T=i.d,L=a.d;if(!i.s)return new O(i);if(!a.s)throw Error(Do+"Division by zero");for(c=i.e-a.e,D=L.length,B=T.length,p=new O(U),y=p.d=[],u=0;L[u]==(T[u]||0);)++u;if(L[u]>(T[u]||0)&&--c,o==null?S=o=O.precision:s?S=o+(zn(i)-zn(a))+1:S=o,S<0)return new O(0);if(S=S/qr+2|0,u=0,D==1)for(d=0,L=L[0],S++;(u<B||d)&&S--;u++)A=d*oi+(T[u]||0),y[u]=A/L|0,d=A%L|0;else{for(d=oi/(L[0]+1)|0,d>1&&(L=r(L,d),T=r(T,d),D=L.length,B=T.length),I=D,w=T.slice(0,D),x=w.length;x<D;)w[x++]=0;j=L.slice(),j.unshift(0),$=L[0],L[1]>=oi/2&&++$;do d=0,l=e(L,w,D,x),l<0?(b=w[0],D!=x&&(b=b*oi+(w[1]||0)),d=b/$|0,d>1?(d>=oi&&(d=oi-1),f=r(L,d),h=f.length,x=w.length,l=e(f,w,h,x),l==1&&(d--,n(f,D<h?j:L,h))):(d==0&&(l=d=1),f=L.slice()),h=f.length,h<x&&f.unshift(0),n(w,f,x),l==-1&&(x=w.length,l=e(L,w,D,x),l<1&&(d++,n(w,D<x?j:L,x))),x=w.length):l===0&&(d++,w=[0]),y[u++]=d,l&&w[0]?w[x++]=T[I]||0:(w=[T[I]],x=1);while((I++<B||w[0]!==void 0)&&S--)}return y[0]||y.shift(),p.e=c,Ir(p,s?o+zn(p)+1:o)}}();function xM(r,e){var n,i,a,o,s,l,c=0,u=0,d=r.constructor,f=d.precision;if(zn(r)>16)throw Error(tE+zn(r));if(!r.s)return new d(Ya);for(rn=!1,l=f,s=new d(.03125);r.abs().gte(.1);)r=r.times(s),u+=5;for(i=Math.log(Yu(2,u))/Math.LN10*2+5|0,l+=i,n=a=o=new d(Ya),d.precision=l;;){if(a=Ir(a.times(r),l),n=n.times(++c),s=o.plus(Il(a,n,l)),Fs(s.d).slice(0,l)===Fs(o.d).slice(0,l)){for(;u--;)o=Ir(o.times(o),l);return d.precision=f,e==null?(rn=!0,Ir(o,f)):o}o=s}}function zn(r){for(var e=r.e*qr,n=r.d[0];n>=10;n/=10)e++;return e}function qw(r,e,n){if(e>r.LN10.sd())throw rn=!0,n&&(r.precision=n),Error(Do+"LN10 precision limit exceeded");return Ir(new r(r.LN10),e)}function Nc(r){for(var e="";r--;)e+="0";return e}function qm(r,e){var n,i,a,o,s,l,c,u,d,f=1,h=10,p=r,y=p.d,w=p.constructor,x=w.precision;if(p.s<1)throw Error(Do+(p.s?"NaN":"-Infinity"));if(p.eq(Ya))return new w(0);if(e==null?(rn=!1,u=x):u=e,p.eq(10))return e==null&&(rn=!0),qw(w,u);if(u+=h,w.precision=u,n=Fs(y),i=n.charAt(0),o=zn(p),Math.abs(o)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)p=p.times(r),n=Fs(p.d),i=n.charAt(0),f++;o=zn(p),i>1?(p=new w("0."+n),o++):p=new w(i+"."+n.slice(1))}else return c=qw(w,u+2,x).times(o+""),p=qm(new w(i+"."+n.slice(1)),u-h).plus(c),w.precision=x,e==null?(rn=!0,Ir(p,x)):p;for(l=s=p=Il(p.minus(Ya),p.plus(Ya),u),d=Ir(p.times(p),u),a=3;;){if(s=Ir(s.times(d),u),c=l.plus(Il(s,new w(a),u)),Fs(c.d).slice(0,u)===Fs(l.d).slice(0,u))return l=l.times(2),o!==0&&(l=l.plus(qw(w,u+2,x).times(o+""))),l=Il(l,new w(f),u),w.precision=x,e==null?(rn=!0,Ir(l,x)):l;l=c,a+=2}}function s4(r,e){var n,i,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;)++i;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(i,a),e){if(a-=i,n=n-i-1,r.e=jh(n/qr),r.d=[],i=(n+1)%qr,n<0&&(i+=qr),i<a){for(i&&r.d.push(+e.slice(0,i)),a-=qr;i<a;)r.d.push(+e.slice(i,i+=qr));e=e.slice(i),i=qr-e.length}else i-=a;for(;i--;)e+="0";if(r.d.push(+e),rn&&(r.e>b0||r.e<-b0))throw Error(tE+n)}else r.s=0,r.e=0,r.d=[0];return r}function Ir(r,e,n){var i,a,o,s,l,c,u,d,f=r.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(i=e-s,i<0)i+=qr,a=e,u=f[d=0];else{if(d=Math.ceil((i+1)/qr),o=f.length,d>=o)return r;for(u=o=f[d],s=1;o>=10;o/=10)s++;i%=qr,a=i-qr+s}if(n!==void 0&&(o=Yu(10,s-a-1),l=u/o%10|0,c=e<0||f[d+1]!==void 0||u%o,c=n<4?(l||c)&&(n==0||n==(r.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(i>0?a>0?u/Yu(10,s-a):0:f[d-1])%10&1||n==(r.s<0?8:7))),e<1||!f[0])return c?(o=zn(r),f.length=1,e=e-o-1,f[0]=Yu(10,(qr-e%qr)%qr),r.e=jh(-e/qr)||0):(f.length=1,f[0]=r.e=r.s=0),r;if(i==0?(f.length=d,o=1,d--):(f.length=d+1,o=Yu(10,qr-i),f[d]=a>0?(u/Yu(10,s-a)%Yu(10,a)|0)*o:0),c)for(;;)if(d==0){(f[0]+=o)==oi&&(f[0]=1,++r.e);break}else{if(f[d]+=o,f[d]!=oi)break;f[d--]=0,o=1}for(i=f.length;f[--i]===0;)f.pop();if(rn&&(r.e>b0||r.e<-b0))throw Error(tE+zn(r));return r}function _M(r,e){var n,i,a,o,s,l,c,u,d,f,h=r.constructor,p=h.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new h(r),rn?Ir(e,p):e;if(c=r.d,f=e.d,i=e.e,u=r.e,c=c.slice(),s=u-i,s){for(d=s<0,d?(n=c,s=-s,l=f.length):(n=f,i=u,l=c.length),a=Math.max(Math.ceil(p/qr),l)+2,s>a&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(o=a;o&&c[--o]===0;)c[o]=oi-1;--c[o],c[a]+=oi}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--i;return c[0]?(e.d=c,e.e=i,rn?Ir(e,p):e):new h(0)}function Cd(r,e,n){var i,a=zn(r),o=Fs(r.d),s=o.length;return e?(n&&(i=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Nc(i):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Nc(-a-1)+o,n&&(i=n-s)>0&&(o+=Nc(i))):a>=s?(o+=Nc(a+1-s),n&&(i=n-a-1)>0&&(o=o+"."+Nc(i))):((i=a+1)<s&&(o=o.slice(0,i)+"."+o.slice(i)),n&&(i=n-s)>0&&(a+1===s&&(o+="."),o+=Nc(i))),r.s<0?"-"+o:o}function l4(r,e){if(r.length>e)return r.length=e,!0}function AM(r){var e,n,i;function a(o){var s=this;if(!(s instanceof a))return new a(o);if(s.constructor=a,o instanceof a){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(md+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return s4(s,o.toString())}else if(typeof o!="string")throw Error(md+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,gne.test(o))s4(s,o);else throw Error(md+o)}if(a.prototype=Ye,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=AM,a.config=a.set=vne,r===void 0&&(r={}),r)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)r.hasOwnProperty(n=i[e++])||(r[n]=this[n]);return a.config(r),a}function vne(r){if(!r||typeof r!="object")throw Error(Do+"Object expected");var e,n,i,a=["precision",1,Ih,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((i=r[n=a[e]])!==void 0)if(jh(i)===i&&i>=a[e+1]&&i<=a[e+2])this[n]=i;else throw Error(md+n+": "+i);if((i=r[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(md+n+": "+i);return this}var rE=AM(mne);Ya=new rE(1);const _r=rE;var yne=r=>r,SM={},EM=r=>r===SM,c4=r=>function e(){return arguments.length===0||arguments.length===1&&EM(arguments.length<=0?void 0:arguments[0])?e:r(...arguments)},kM=(r,e)=>r===1?e:c4(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(s=>s!==SM).length;return o>=r?e(...i):kM(r-o,c4(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(d=>EM(d)?l.shift():d);return e(...u,...l)}))}),f2=r=>kM(r.length,r),A5=(r,e)=>{for(var n=[],i=r;i<e;++i)n[i-r]=i;return n},wne=f2((r,e)=>Array.isArray(e)?e.map(r):Object.keys(e).map(n=>e[n]).map(r)),bne=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(!n.length)return yne;var a=n.reverse(),o=a[0],s=a.slice(1);return function(){return s.reduce((l,c)=>c(l),o(...arguments))}},S5=r=>Array.isArray(r)?r.reverse():r.split("").reverse().join(""),PM=r=>{var e=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e&&a.every((s,l)=>{var c;return s===((c=e)===null||c===void 0?void 0:c[l])})||(e=a,n=r(...a)),n}};function NM(r){var e;return r===0?e=1:e=Math.floor(new _r(r).abs().log(10).toNumber())+1,e}function TM(r,e,n){for(var i=new _r(r),a=0,o=[];i.lt(e)&&a<1e5;)o.push(i.toNumber()),i=i.add(n),a++;return o}f2((r,e,n)=>{var i=+r,a=+e;return i+n*(a-i)});f2((r,e,n)=>{var i=e-+r;return i=i||1/0,(n-r)/i});f2((r,e,n)=>{var i=e-+r;return i=i||1/0,Math.max(0,Math.min(1,(n-r)/i))});var CM=r=>{var[e,n]=r,[i,a]=[e,n];return e>n&&([i,a]=[n,e]),[i,a]},IM=(r,e,n)=>{if(r.lte(0))return new _r(0);var i=NM(r.toNumber()),a=new _r(10).pow(i),o=r.div(a),s=i!==1?.05:.1,l=new _r(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=l.mul(a);return e?new _r(c.toNumber()):new _r(Math.ceil(c.toNumber()))},xne=(r,e,n)=>{var i=new _r(1),a=new _r(r);if(!a.isint()&&n){var o=Math.abs(r);o<1?(i=new _r(10).pow(NM(r)-1),a=new _r(Math.floor(a.div(i).toNumber())).mul(i)):o>1&&(a=new _r(Math.floor(r)))}else r===0?a=new _r(Math.floor((e-1)/2)):n||(a=new _r(Math.floor(r)));var s=Math.floor((e-1)/2),l=bne(wne(c=>a.add(new _r(c-s).mul(i)).toNumber()),A5);return l(0,e)},jM=function(e,n,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(i-1)))return{step:new _r(0),tickMin:new _r(0),tickMax:new _r(0)};var s=IM(new _r(n).sub(e).div(i-1),a,o),l;e<=0&&n>=0?l=new _r(0):(l=new _r(e).add(n).div(2),l=l.sub(new _r(l).mod(s)));var c=Math.ceil(l.sub(e).div(s).toNumber()),u=Math.ceil(new _r(n).sub(l).div(s).toNumber()),d=c+u+1;return d>i?jM(e,n,i,a,o+1):(d<i&&(u=n>0?u+(i-d):u,c=n>0?c:c+(i-d)),{step:s,tickMin:l.sub(new _r(c).mul(s)),tickMax:l.add(new _r(u).mul(s))})};function _ne(r){var[e,n]=r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,l]=CM([e,n]);if(s===-1/0||l===1/0){var c=l===1/0?[s,...A5(0,i-1).map(()=>1/0)]:[...A5(0,i-1).map(()=>-1/0),l];return e>n?S5(c):c}if(s===l)return xne(s,i,a);var{step:u,tickMin:d,tickMax:f}=jM(s,l,o,a,0),h=TM(d,f.add(new _r(.1).mul(u)),u);return e>n?S5(h):h}function Ane(r,e){var[n,i]=r,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=CM([n,i]);if(o===-1/0||s===1/0)return[n,i];if(o===s)return[o];var l=Math.max(e,2),c=IM(new _r(s).sub(o).div(l-1),a,0),u=[...TM(new _r(o),new _r(s),c),s];return a===!1&&(u=u.map(d=>Math.round(d))),n>i?S5(u):u}var Sne=PM(_ne),Ene=PM(Ane),OM=r=>r.rootProps.maxBarSize,kne=r=>r.rootProps.barGap,LM=r=>r.rootProps.barCategoryGap,Pne=r=>r.rootProps.barSize,wg=r=>r.rootProps.stackOffset,nE=r=>r.options.chartName,iE=r=>r.rootProps.syncId,DM=r=>r.rootProps.syncMethod,aE=r=>r.options.eventEmitter,xl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ka={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},h2=(r,e)=>{if(!(!r||!e))return r!=null&&r.reversed?[e[1],e[0]]:e},Nne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xl.angleAxisId,includeHidden:!1,name:void 0,reversed:xl.reversed,scale:xl.scale,tick:xl.tick,tickCount:void 0,ticks:void 0,type:xl.type,unit:void 0},Tne={allowDataOverflow:Ka.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ka.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ka.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ka.scale,tick:Ka.tick,tickCount:Ka.tickCount,ticks:void 0,type:Ka.type,unit:void 0},Cne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:xl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xl.scale,tick:xl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ine={allowDataOverflow:Ka.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ka.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ka.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ka.scale,tick:Ka.tick,tickCount:Ka.tickCount,ticks:void 0,type:"category",unit:void 0},oE=(r,e)=>r.polarAxis.angleAxis[e]!=null?r.polarAxis.angleAxis[e]:r.layout.layoutType==="radial"?Cne:Nne,sE=(r,e)=>r.polarAxis.radiusAxis[e]!=null?r.polarAxis.radiusAxis[e]:r.layout.layoutType==="radial"?Ine:Tne,p2=r=>r.polarOptions,lE=Se([Ql,Xl,Xn],l8),RM=Se([p2,lE],(r,e)=>{if(r!=null)return aa(r.innerRadius,e,0)}),MM=Se([p2,lE],(r,e)=>{if(r!=null)return aa(r.outerRadius,e,e*.8)}),jne=r=>{if(r==null)return[0,0];var{startAngle:e,endAngle:n}=r;return[e,n]},FM=Se([p2],jne);Se([oE,FM],h2);var BM=Se([lE,RM,MM],(r,e,n)=>{if(!(r==null||e==null||n==null))return[e,n]});Se([sE,BM],h2);var UM=Se([nr,p2,RM,MM,Ql,Xl],(r,e,n,i,a,o)=>{if(!(r!=="centric"&&r!=="radial"||e==null||n==null||i==null)){var{cx:s,cy:l,startAngle:c,endAngle:u}=e;return{cx:aa(s,a,a/2),cy:aa(l,o,o/2),innerRadius:n,outerRadius:i,startAngle:c,endAngle:u,clockWise:!1}}}),nn=(r,e)=>e,bg=(r,e,n)=>n;function cE(r){return r==null?void 0:r.id}var Jn=r=>{var e=nr(r);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Oh=r=>r.tooltip.settings.axisId,ei=r=>{var e=Jn(r),n=Oh(r);return xg(r,e,n)};function $M(r,e,n){var{chartData:i=[]}=e,a=n==null?void 0:n.dataKey,o=new Map;return r.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:i;if(!(c==null||c.length===0)){var u=cE(s);c.forEach((d,f)=>{var h=a==null?f:String(Cr(d,a,null)),p=Cr(d,s.dataKey,0),y;o.has(h)?y=o.get(h):y={},Object.assign(y,{[u]:p}),o.set(h,y)})}}),Array.from(o.values())}function m2(r){return r.stackId!=null&&r.dataKey!=null}function u4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function x0(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(n),!0).forEach(function(i){One(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):u4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function One(r,e,n){return(e=Lne(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Lne(r){var e=Dne(r,"string");return typeof e=="symbol"?e:e+""}function Dne(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var E5=[0,"auto"],qa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Jl=(r,e)=>{var n=r.cartesianAxis.xAxis[e];return n??qa},Wa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:E5,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:e2},Pu=(r,e)=>{var n=r.cartesianAxis.yAxis[e];return n??Wa},Rne={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},uE=(r,e)=>{var n=r.cartesianAxis.zAxis[e];return n??Rne},Ln=(r,e,n)=>{switch(e){case"xAxis":return Jl(r,n);case"yAxis":return Pu(r,n);case"zAxis":return uE(r,n);case"angleAxis":return oE(r,n);case"radiusAxis":return sE(r,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Mne=(r,e,n)=>{switch(e){case"xAxis":return Jl(r,n);case"yAxis":return Pu(r,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xg=(r,e,n)=>{switch(e){case"xAxis":return Jl(r,n);case"yAxis":return Pu(r,n);case"angleAxis":return oE(r,n);case"radiusAxis":return sE(r,n);default:throw new Error("Unexpected axis type: ".concat(e))}},zM=r=>r.graphicalItems.cartesianItems.some(e=>e.type==="bar")||r.graphicalItems.polarItems.some(e=>e.type==="radialBar");function dE(r,e){return n=>{switch(r){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var g2=r=>r.graphicalItems.cartesianItems,Fne=Se([nn,bg],dE),fE=(r,e,n)=>r.filter(n).filter(i=>(e==null?void 0:e.includeHidden)===!0?!0:!i.hide),_g=Se([g2,Ln,Fne],fE),VM=Se([_g],r=>r.filter(e=>e.type==="area"||e.type==="bar").filter(m2)),qM=r=>r.filter(e=>!("stackId"in e)||e.stackId===void 0),WM=Se([_g],qM),hE=r=>r.map(e=>e.data).filter(Boolean).flat(1),Bne=Se([_g],hE),pE=(r,e)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:a}=e;return r.length>0?r:n.slice(i,a+1)},mE=Se([Bne,d2],pE),gE=(r,e,n)=>(e==null?void 0:e.dataKey)!=null?r.map(i=>({value:Cr(i,e.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>r.map(a=>({value:Cr(a,i)}))):r.map(i=>({value:i})),v2=Se([mE,Ln,_g],gE);function HM(r,e){switch(r){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Vd(r){return r.filter(e=>Qs(e)||e instanceof Date).map(Number).filter(e=>no(e)===!1)}function Une(r,e,n){return!n||typeof e!="number"||no(e)?[]:n.length?Vd(n.flatMap(i=>{var a=Cr(r,i.dataKey),o,s;if(Array.isArray(a)?[o,s]=a:o=s=a,!(!oo(o)||!oo(s)))return[e-o,e+s]})):[]}var $ne=Se([VM,d2,ei],$M),KM=(r,e,n)=>{var i={},a=e.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,l]=o,c=l.map(cE);return[s,{stackedData:ZZ(r,c,n),graphicalItems:l}]}))},k5=Se([$ne,VM,wg],KM),GM=(r,e,n)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(n!=="zAxis"){var o=nJ(r,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},zne=Se([k5,ku,nn],GM),YM=(r,e,n,i,a)=>n.length>0?r.flatMap(o=>n.flatMap(s=>{var l,c,u=(l=i[s.id])===null||l===void 0?void 0:l.filter(f=>HM(a,f)),d=Cr(o,(c=e.dataKey)!==null&&c!==void 0?c:s.dataKey);return{value:d,errorDomain:Une(o,d,u)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?r.map(o=>({value:Cr(o,e.dataKey),errorDomain:[]})):r.map(o=>({value:o,errorDomain:[]})),y2=r=>r.errorBars,QM=(r,e,n)=>r.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>HM(n,i));Se([WM,y2,nn],QM);var Vne=Se([mE,Ln,WM,y2,nn],YM);function qne(r){var{value:e}=r;if(Qs(e)||e instanceof Date)return e}var d4=r=>{var e=r.flatMap(i=>[i.value,i.errorDomain]).flat(1),n=Vd(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Wne=(r,e,n)=>{var i=r.map(qne).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&$D(i))?F8(0,r.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},vE=r=>{var e;if(r==null||!("domain"in r))return E5;if(r.domain!=null)return r.domain;if(r.ticks!=null){if(r.type==="number"){var n=Vd(r.ticks);return[Math.min(...n),Math.max(...n)]}if(r.type==="category")return r.ticks.map(String)}return(e=r==null?void 0:r.domain)!==null&&e!==void 0?e:E5},_0=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=n.filter(Boolean);if(a.length!==0){var o=a.flat(),s=Math.min(...o),l=Math.max(...o);return[s,l]}},XM=r=>r.referenceElements.dots,Lh=(r,e,n)=>r.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===n:i.yAxisId===n),Hne=Se([XM,nn,bg],Lh),ZM=r=>r.referenceElements.areas,Kne=Se([ZM,nn,bg],Lh),JM=r=>r.referenceElements.lines,Gne=Se([JM,nn,bg],Lh),e7=(r,e)=>{var n=Vd(r.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yne=Se(Hne,nn,e7),t7=(r,e)=>{var n=Vd(r.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Qne=Se([Kne,nn],t7),r7=(r,e)=>{var n=Vd(r.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Xne=Se(Gne,nn,r7),Zne=Se(Yne,Xne,Qne,(r,e,n)=>_0(r,n,e)),n7=Se([Ln],vE),yE=(r,e,n,i,a,o,s)=>{var l=hne(e,r.allowDataOverflow);if(l!=null)return l;var c=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=c?_0(n,a,d4(i)):_0(a,d4(i));return pne(e,u,r.allowDataOverflow)},Jne=Se([Ln,n7,zne,Vne,Zne,nr,nn],yE),eie=[0,1],wE=(r,e,n,i,a,o,s)=>{if(!((r==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:c}=r,u=Au(e,o);return u&&l==null?F8(0,n.length):c==="category"?Wne(i,r,u):a==="expand"?eie:s}},bE=Se([Ln,nr,mE,v2,wg,nn,Jne],wE),i7=(r,e,n,i,a)=>{if(r!=null){var{scale:o,type:s}=r;if(o==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":s==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var l="scale".concat(dg(o));return l in Dp?l:"point"}}},Dh=Se([Ln,nr,zM,nE,nn],i7);function tie(r){if(r!=null){if(r in Dp)return Dp[r]();var e="scale".concat(dg(r));if(e in Dp)return Dp[e]()}}function xE(r,e,n,i){if(!(n==null||i==null)){if(typeof r.scale=="function")return r.scale.copy().domain(n).range(i);var a=tie(e);if(a!=null){var o=a.domain(n).range(i);return KZ(o),o}}}var _E=(r,e,n)=>{var i=vE(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&hh(r))return Sne(r,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&hh(r))return Ene(r,e.tickCount,e.allowDecimals)}},AE=Se([bE,xg,Dh],_E),SE=(r,e,n,i)=>{if(i!=="angleAxis"&&(r==null?void 0:r.type)==="number"&&hh(e)&&Array.isArray(n)&&n.length>0){var a=e[0],o=n[0],s=e[1],l=n[n.length-1];return[Math.min(a,o),Math.max(s,l)]}return e},rie=Se([Ln,bE,AE,nn],SE),nie=Se(v2,Ln,(r,e)=>{if(!(!e||e.type!=="number")){var n=1/0,i=Array.from(Vd(r.map(l=>l.value))).sort((l,c)=>l-c);if(i.length<2)return 1/0;var a=i[i.length-1]-i[0];if(a===0)return 1/0;for(var o=0;o<i.length-1;o++){var s=i[o+1]-i[o];n=Math.min(n,s)}return n/a}}),a7=Se(nie,nr,LM,Xn,(r,e,n,i)=>i,(r,e,n,i,a)=>{if(!oo(r))return 0;var o=e==="vertical"?i.height:i.width;if(a==="gap")return r*o/2;if(a==="no-gap"){var s=aa(n,r*o),l=r*o/2;return l-s-(l-s)/o*s}return 0}),iie=(r,e)=>{var n=Jl(r,e);return n==null||typeof n.padding!="string"?0:a7(r,"xAxis",e,n.padding)},aie=(r,e)=>{var n=Pu(r,e);return n==null||typeof n.padding!="string"?0:a7(r,"yAxis",e,n.padding)},oie=Se(Jl,iie,(r,e)=>{var n,i;if(r==null)return{left:0,right:0};var{padding:a}=r;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((i=a.right)!==null&&i!==void 0?i:0)+e}}),sie=Se(Pu,aie,(r,e)=>{var n,i;if(r==null)return{top:0,bottom:0};var{padding:a}=r;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((i=a.bottom)!==null&&i!==void 0?i:0)+e}}),lie=Se([Xn,oie,r2,t2,(r,e,n)=>n],(r,e,n,i,a)=>{var{padding:o}=i;return a?[o.left,n.width-o.right]:[r.left+e.left,r.left+r.width-e.right]}),cie=Se([Xn,nr,sie,r2,t2,(r,e,n)=>n],(r,e,n,i,a,o)=>{var{padding:s}=a;return o?[i.height-s.bottom,s.top]:e==="horizontal"?[r.top+r.height-n.bottom,r.top+n.top]:[r.top+n.top,r.top+r.height-n.bottom]}),Ag=(r,e,n,i)=>{var a;switch(e){case"xAxis":return lie(r,n,i);case"yAxis":return cie(r,n,i);case"zAxis":return(a=uE(r,n))===null||a===void 0?void 0:a.range;case"angleAxis":return FM(r);case"radiusAxis":return BM(r,n);default:return}},o7=Se([Ln,Ag],h2),Rh=Se([Ln,Dh,rie,o7],xE);Se([_g,y2,nn],QM);function s7(r,e){return r.id<e.id?-1:r.id>e.id?1:0}var w2=(r,e)=>e,b2=(r,e,n)=>n,uie=Se(AS,w2,b2,(r,e,n)=>r.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(s7)),die=Se(SS,w2,b2,(r,e,n)=>r.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(s7)),l7=(r,e)=>({width:r.width,height:e.height}),fie=(r,e)=>{var n=typeof e.width=="number"?e.width:e2;return{width:n,height:r.height}},c7=Se(Xn,Jl,l7),hie=(r,e,n)=>{switch(e){case"top":return r.top;case"bottom":return n-r.bottom;default:return 0}},pie=(r,e,n)=>{switch(e){case"left":return r.left;case"right":return n-r.right;default:return 0}},mie=Se(Xl,Xn,uie,w2,b2,(r,e,n,i,a)=>{var o={},s;return n.forEach(l=>{var c=l7(e,l);s==null&&(s=hie(e,i,r));var u=i==="top"&&!a||i==="bottom"&&a;o[l.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),o}),gie=Se(Ql,Xn,die,w2,b2,(r,e,n,i,a)=>{var o={},s;return n.forEach(l=>{var c=fie(e,l);s==null&&(s=pie(e,i,r));var u=i==="left"&&!a||i==="right"&&a;o[l.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),o}),vie=(r,e)=>{var n=Xn(r),i=Jl(r,e);if(i!=null){var a=mie(r,i.orientation,i.mirror),o=a[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},yie=(r,e)=>{var n=Xn(r),i=Pu(r,e);if(i!=null){var a=gie(r,i.orientation,i.mirror),o=a[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},u7=Se(Xn,Pu,(r,e)=>{var n=typeof e.width=="number"?e.width:e2;return{width:n,height:r.height}}),f4=(r,e,n)=>{switch(e){case"xAxis":return c7(r,n).width;case"yAxis":return u7(r,n).height;default:return}},d7=(r,e,n,i)=>{if(n!=null){var{allowDuplicatedCategory:a,type:o,dataKey:s}=n,l=Au(r,i),c=e.map(u=>u.value);if(s&&l&&o==="category"&&a&&$D(c))return c}},EE=Se([nr,v2,Ln,nn],d7),f7=(r,e,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:o}=n,s=Au(r,i);if(s&&(a==="number"||o!=="auto"))return e.map(l=>l.value)}},kE=Se([nr,v2,xg,nn],f7),h4=Se([nr,Mne,Dh,Rh,EE,kE,Ag,AE,nn],(r,e,n,i,a,o,s,l,c)=>{if(e==null)return null;var u=Au(r,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:o,duplicateDomain:a,isCategorical:u,niceTicks:l,range:s,realScaleType:n,scale:i}}),wie=(r,e,n,i,a,o,s,l,c)=>{if(!(e==null||i==null)){var u=Au(r,c),{type:d,ticks:f,tickCount:h}=e,p=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,y=d==="category"&&i.bandwidth?i.bandwidth()/p:0;y=c==="angleAxis"&&o!=null&&o.length>=2?ui(o[0]-o[1])*2*y:y;var w=f||a;if(w){var x=w.map((b,S)=>{var A=s?s.indexOf(b):b;return{index:S,coordinate:i(A)+y,value:b,offset:y}});return x.filter(b=>!no(b.coordinate))}return u&&l?l.map((b,S)=>({coordinate:i(b)+y,value:b,index:S,offset:y})):i.ticks?i.ticks(h).map(b=>({coordinate:i(b)+y,value:b,offset:y})):i.domain().map((b,S)=>({coordinate:i(b)+y,value:s?s[b]:b,index:S,offset:y}))}},h7=Se([nr,xg,Dh,Rh,AE,Ag,EE,kE,nn],wie),bie=(r,e,n,i,a,o,s)=>{if(!(e==null||n==null||i==null||i[0]===i[1])){var l=Au(r,s),{tickCount:c}=e,u=0;return u=s==="angleAxis"&&(i==null?void 0:i.length)>=2?ui(i[0]-i[1])*2*u:u,l&&o?o.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:a?a[d]:d,index:f,offset:u}))}},du=Se([nr,xg,Rh,Ag,EE,kE,nn],bie),fu=Se(Ln,Rh,(r,e)=>{if(!(r==null||e==null))return x0(x0({},r),{},{scale:e})}),xie=Se([Ln,Dh,bE,o7],xE);Se((r,e,n)=>uE(r,n),xie,(r,e)=>{if(!(r==null||e==null))return x0(x0({},r),{},{scale:e})});var _ie=Se([nr,AS,SS],(r,e,n)=>{switch(r){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),p7=r=>r.options.defaultTooltipEventType,m7=r=>r.options.validateTooltipEventTypes;function g7(r,e,n){if(r==null)return e;var i=r?"axis":"item";return n==null?e:n.includes(i)?i:e}function PE(r,e){var n=p7(r),i=m7(r);return g7(e,n,i)}function Aie(r){return it(e=>PE(e,r))}var v7=(r,e)=>{var n,i=Number(e);if(!(no(i)||e==null))return i>=0?r==null||(n=r[i])===null||n===void 0?void 0:n.value:void 0},Sie=r=>r.tooltip.settings,Oc={active:!1,index:null,dataKey:void 0,coordinate:void 0},Eie={itemInteraction:{click:Oc,hover:Oc},axisInteraction:{click:Oc,hover:Oc},keyboardInteraction:Oc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},y7=uo({name:"tooltip",initialState:Eie,reducers:{addTooltipEntrySettings(r,e){r.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(r,e){var n=Cl(r).tooltipItemPayloads.indexOf(e.payload);n>-1&&r.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(r,e){r.settings=e.payload},setActiveMouseOverItemIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.itemInteraction.hover.active=!0,r.itemInteraction.hover.index=e.payload.activeIndex,r.itemInteraction.hover.dataKey=e.payload.activeDataKey,r.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(r){r.itemInteraction.hover.active=!1,r.axisInteraction.hover.active=!1},mouseLeaveItem(r){r.itemInteraction.hover.active=!1},setActiveClickItemIndex(r,e){r.syncInteraction.active=!1,r.itemInteraction.click.active=!0,r.keyboardInteraction.active=!1,r.itemInteraction.click.index=e.payload.activeIndex,r.itemInteraction.click.dataKey=e.payload.activeDataKey,r.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(r,e){r.syncInteraction.active=!1,r.axisInteraction.hover.active=!0,r.keyboardInteraction.active=!1,r.axisInteraction.hover.index=e.payload.activeIndex,r.axisInteraction.hover.dataKey=e.payload.activeDataKey,r.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.axisInteraction.click.active=!0,r.axisInteraction.click.index=e.payload.activeIndex,r.axisInteraction.click.dataKey=e.payload.activeDataKey,r.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(r,e){r.syncInteraction=e.payload},setKeyboardInteraction(r,e){r.keyboardInteraction.active=e.payload.active,r.keyboardInteraction.index=e.payload.activeIndex,r.keyboardInteraction.coordinate=e.payload.activeCoordinate,r.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:kie,removeTooltipEntrySettings:Pie,setTooltipSettingsState:Nie,setActiveMouseOverItemIndex:w7,mouseLeaveItem:Tie,mouseLeaveChart:b7,setActiveClickItemIndex:Cie,setMouseOverAxisIndex:x7,setMouseClickAxisIndex:Iie,setSyncInteraction:P5,setKeyboardInteraction:N5}=y7.actions,jie=y7.reducer;function p4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function kv(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(n),!0).forEach(function(i){Oie(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Oie(r,e,n){return(e=Lie(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Lie(r){var e=Die(r,"string");return typeof e=="symbol"?e:e+""}function Die(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Rie(r,e,n){return e==="axis"?n==="click"?r.axisInteraction.click:r.axisInteraction.hover:n==="click"?r.itemInteraction.click:r.itemInteraction.hover}function Mie(r){return r.index!=null}var _7=(r,e,n,i)=>{if(e==null)return Oc;var a=Rie(r,e,n);if(a==null)return Oc;if(a.active)return a;if(r.keyboardInteraction.active)return r.keyboardInteraction;if(r.syncInteraction.active&&r.syncInteraction.index!=null)return r.syncInteraction;var o=r.settings.active===!0;if(Mie(a)){if(o)return kv(kv({},a),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return kv(kv({},Oc),{},{coordinate:a.coordinate})},NE=(r,e)=>{var n=r==null?void 0:r.index;if(n==null)return null;var i=Number(n);if(!oo(i))return n;var a=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(a,Math.min(i,o)))},A7=(r,e,n,i,a,o,s,l)=>{if(!(o==null||l==null)){var c=s[0],u=c==null?void 0:l(c.positions,o);if(u!=null)return u;var d=a==null?void 0:a[Number(o)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(i.top+e)/2};default:return{x:(i.left+r)/2,y:d.coordinate}}}},S7=(r,e,n,i)=>{if(e==="axis")return r.tooltipItemPayloads;if(r.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=r.itemInteraction.hover.dataKey:a=r.itemInteraction.click.dataKey,a==null&&i!=null?[r.tooltipItemPayloads[0]]:r.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===a})},Sg=r=>r.options.tooltipPayloadSearcher,Mh=r=>r.tooltip;function m4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function g4(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(n),!0).forEach(function(i){Fie(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):m4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Fie(r,e,n){return(e=Bie(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Bie(r){var e=Uie(r,"string");return typeof e=="symbol"?e:e+""}function Uie(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $ie(r,e){return r??e}var E7=(r,e,n,i,a,o,s)=>{if(!(e==null||o==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,f=[];return r.reduce((h,p)=>{var y,{dataDefinedOnItem:w,settings:x}=p,b=$ie(w,l),S=Array.isArray(b)?c8(b,u,d):b,A=(y=x==null?void 0:x.dataKey)!==null&&y!==void 0?y:i==null?void 0:i.dataKey,I=x==null?void 0:x.nameKey,B;if(i!=null&&i.dataKey&&Array.isArray(S)&&!Array.isArray(S[0])&&s==="axis"?B=zD(S,i.dataKey,a):B=o(S,e,c,I),Array.isArray(B))B.forEach(D=>{var j=g4(g4({},x),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});h.push(iC({tooltipEntrySettings:j,dataKey:D.dataKey,payload:D.payload,value:Cr(D.payload,D.dataKey),name:D.name}))});else{var $;h.push(iC({tooltipEntrySettings:x,dataKey:A,payload:B,value:Cr(B,A),name:($=Cr(B,I))!==null&&$!==void 0?$:x==null?void 0:x.name}))}return h},f)}},TE=Se([ei,nr,zM,nE,Jn],i7),zie=Se([r=>r.graphicalItems.cartesianItems,r=>r.graphicalItems.polarItems],(r,e)=>[...r,...e]),Vie=Se([Jn,Oh],dE),Eg=Se([zie,ei,Vie],fE),qie=Se([Eg],r=>r.filter(m2)),Wie=Se([Eg],hE),Fh=Se([Wie,ku],pE),Hie=Se([qie,ku,ei],$M),CE=Se([Fh,ei,Eg],gE),Kie=Se([ei],vE),Gie=Se([Eg],r=>r.filter(m2)),Yie=Se([Hie,Gie,wg],KM),Qie=Se([Yie,ku,Jn],GM),Xie=Se([Eg],qM),Zie=Se([Fh,ei,Xie,y2,Jn],YM),Jie=Se([XM,Jn,Oh],Lh),eae=Se([Jie,Jn],e7),tae=Se([ZM,Jn,Oh],Lh),rae=Se([tae,Jn],t7),nae=Se([JM,Jn,Oh],Lh),iae=Se([nae,Jn],r7),aae=Se([eae,iae,rae],_0),oae=Se([ei,Kie,Qie,Zie,aae,nr,Jn],yE),k7=Se([ei,nr,Fh,CE,wg,Jn,oae],wE),sae=Se([k7,ei,TE],_E),lae=Se([ei,k7,sae,Jn],SE),P7=r=>{var e=Jn(r),n=Oh(r),i=!1;return Ag(r,e,n,i)},N7=Se([ei,P7],h2),T7=Se([ei,TE,lae,N7],xE),cae=Se([nr,CE,ei,Jn],d7),uae=Se([nr,CE,ei,Jn],f7),dae=(r,e,n,i,a,o,s,l)=>{if(e){var{type:c}=e,u=Au(r,l);if(i){var d=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,f=c==="category"&&i.bandwidth?i.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ui(a[0]-a[1])*2*f:f,u&&s?s.map((h,p)=>({coordinate:i(h)+f,value:h,index:p,offset:f})):i.domain().map((h,p)=>({coordinate:i(h)+f,value:o?o[h]:h,index:p,offset:f}))}}},ec=Se([nr,ei,TE,T7,P7,cae,uae,Jn],dae),IE=Se([p7,m7,Sie],(r,e,n)=>g7(n.shared,r,e)),C7=r=>r.tooltip.settings.trigger,jE=r=>r.tooltip.settings.defaultIndex,x2=Se([Mh,IE,C7,jE],_7),hu=Se([x2,Fh],NE),I7=Se([ec,hu],v7),j7=Se([x2],r=>{if(r)return r.dataKey}),O7=Se([Mh,IE,C7,jE],S7),fae=Se([Ql,Xl,nr,Xn,ec,jE,O7,Sg],A7),hae=Se([x2,fae],(r,e)=>r!=null&&r.coordinate?r.coordinate:e),pae=Se([x2],r=>r.active),mae=Se([O7,hu,ku,ei,I7,Sg,IE],E7),gae=Se([mae],r=>{if(r!=null){var e=r.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function v4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function y4(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v4(Object(n),!0).forEach(function(i){vae(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function vae(r,e,n){return(e=yae(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function yae(r){var e=wae(r,"string");return typeof e=="symbol"?e:e+""}function wae(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var bae=()=>it(ei),xae=()=>{var r=bae(),e=it(ec),n=it(T7);return Fm(y4(y4({},r),{},{scale:n}),e)},_ae=()=>it(nE),OE=(r,e)=>e,L7=(r,e,n)=>n,LE=(r,e,n,i)=>i,Aae=Se(ec,r=>K1(r,e=>e.coordinate)),DE=Se([Mh,OE,L7,LE],_7),D7=Se([DE,Fh],NE),Sae=(r,e,n)=>{if(e!=null){var i=Mh(r);return e==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},R7=Se([Mh,OE,L7,LE],S7),A0=Se([Ql,Xl,nr,Xn,ec,LE,R7,Sg],A7),Eae=Se([DE,A0],(r,e)=>{var n;return(n=r.coordinate)!==null&&n!==void 0?n:e}),M7=Se(ec,D7,v7),kae=Se([R7,D7,ku,ei,M7,Sg,OE],E7),Pae=Se([DE],r=>({isActive:r.active,activeIndex:r.index})),Nae=(r,e,n,i,a,o,s,l)=>{if(!(!r||!e||!i||!a||!o)){var c=iJ(r.chartX,r.chartY,e,n,l);if(c){var u=oJ(c,e),d=WZ(u,s,o,i,a),f=aJ(e,o,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function T5(){return T5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},T5.apply(null,arguments)}function w4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Pv(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(i){Tae(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Tae(r,e,n){return(e=Cae(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Cae(r){var e=Iae(r,"string");return typeof e=="symbol"?e:e+""}function Iae(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function jae(r){var{coordinate:e,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:c,chartName:u}=r,d=e,f=n,h=i;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var p,y;if(u==="ScatterChart")p=d,y=nee;else if(u==="BarChart")p=iee(s,d,a,o),y=I8;else if(s==="radial"){var{cx:w,cy:x,radius:b,startAngle:S,endAngle:A}=j8(d);p={cx:w,cy:x,startAngle:S,endAngle:A,innerRadius:b,outerRadius:b},y=L8}else p={points:Mee(s,d,a)},y=TS;var I=typeof l=="object"&&"className"in l?l.className:void 0,B=Pv(Pv(Pv(Pv({stroke:"#ccc",pointerEvents:"none"},a),p),tn(l,!1)),{},{payload:f,payloadIndex:h,className:fr("recharts-tooltip-cursor",I)});return P.isValidElement(l)?P.cloneElement(l,B):P.createElement(y,B)}function Oae(r){var e=xae(),n=g8(),i=n2(),a=_ae();return P.createElement(jae,T5({},r,{coordinate:r.coordinate,index:r.index,payload:r.payload,offset:n,layout:i,tooltipAxisBandSize:e,chartName:a}))}var F7=P.createContext(null),Lae=()=>P.useContext(F7),B7={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,y){var w=n?n+u:u;if(!this._events[w])return!1;var x=this._events[w],b=arguments.length,S,A;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,y),!0}for(A=1,S=new Array(b-1);A<b;A++)S[A-1]=arguments[A];x.fn.apply(x.context,S)}else{var I=x.length,B;for(A=0;A<I;A++)switch(x[A].once&&this.removeListener(u,x[A].fn,void 0,!0),b){case 1:x[A].fn.call(x[A].context);break;case 2:x[A].fn.call(x[A].context,d);break;case 3:x[A].fn.call(x[A].context,d,f);break;case 4:x[A].fn.call(x[A].context,d,f,h);break;default:if(!S)for(B=1,S=new Array(b-1);B<b;B++)S[B-1]=arguments[B];x[A].fn.apply(x[A].context,S)}}return!0},l.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&s(this,p);else{for(var w=0,x=[],b=y.length;w<b;w++)(y[w].fn!==d||h&&!y[w].once||f&&y[w].context!==f)&&x.push(y[w]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,r.exports=l})(B7);var Dae=B7.exports;const Rae=Js(Dae);var Wm=new Rae,C5="recharts.syncEvent.tooltip",b4="recharts.syncEvent.brush";function RE(r,e){if(e){var n=Number.parseInt(e,10);if(!no(n))return r==null?void 0:r[n]}}var Mae={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},U7=uo({name:"options",initialState:Mae,reducers:{createEventEmitter:r=>{r.eventEmitter==null&&(r.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Fae=U7.reducer,{createEventEmitter:Bae}=U7.actions;function Uae(r){return r.tooltip.syncInteraction}var $ae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$7=uo({name:"chartData",initialState:$ae,reducers:{setChartData(r,e){if(r.chartData=e.payload,e.payload==null){r.dataStartIndex=0,r.dataEndIndex=0;return}e.payload.length>0&&r.dataEndIndex!==e.payload.length-1&&(r.dataEndIndex=e.payload.length-1)},setComputedData(r,e){r.computedData=e.payload},setDataStartEndIndexes(r,e){var{startIndex:n,endIndex:i}=e.payload;n!=null&&(r.dataStartIndex=n),i!=null&&(r.dataEndIndex=i)}}}),{setChartData:x4,setDataStartEndIndexes:zae,setComputedData:cve}=$7.actions,Vae=$7.reducer,z7=()=>{};function qae(){var r=it(iE),e=it(aE),n=un(),i=it(DM),a=it(ec),o=n2(),s=ES(),l=it(c=>c.rootProps.className);P.useEffect(()=>{if(r==null)return z7;var c=(u,d,f)=>{if(e!==f&&r===u){if(i==="index"){n(d);return}if(a!=null){var h;if(typeof i=="function"){var p={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},y=i(a,p);h=a[y]}else i==="value"&&(h=a.find($=>String($.value)===d.payload.label));var{coordinate:w}=d.payload;if(h==null||d.payload.active===!1||w==null||s==null){n(P5({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x,y:b}=w,S=Math.min(x,s.x+s.width),A=Math.min(b,s.y+s.height),I={x:o==="horizontal"?h.coordinate:S,y:o==="horizontal"?A:h.coordinate},B=P5({active:d.payload.active,coordinate:I,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});n(B)}}};return Wm.on(C5,c),()=>{Wm.off(C5,c)}},[l,n,e,r,i,a,o,s])}function Wae(){var r=it(iE),e=it(aE),n=un();P.useEffect(()=>{if(r==null)return z7;var i=(a,o,s)=>{e!==s&&r===a&&n(zae(o))};return Wm.on(b4,i),()=>{Wm.off(b4,i)}},[n,e,r])}function Hae(){var r=un();P.useEffect(()=>{r(Bae())},[r]),qae(),Wae()}function Kae(r,e,n,i,a,o){var s=it(h=>Sae(h,r,e)),l=it(aE),c=it(iE),u=it(DM),d=it(Uae),f=d==null?void 0:d.active;P.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=P5({active:o,coordinate:n,dataKey:s,index:a,label:typeof i=="number"?String(i):i});Wm.emit(C5,c,h,l)}},[f,n,s,a,i,l,c,u,o])}function _4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function A4(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_4(Object(n),!0).forEach(function(i){Gae(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Gae(r,e,n){return(e=Yae(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Yae(r){var e=Qae(r,"string");return typeof e=="symbol"?e:e+""}function Qae(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Xae(r){return r.dataKey}function Zae(r,e){return P.isValidElement(r)?P.cloneElement(r,e):typeof r=="function"?P.createElement(r,e):P.createElement(DJ,e)}var S4=[],Jae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ud.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Nv(r){var e=fo(r,Jae),{active:n,allowEscapeViewBox:i,animationDuration:a,animationEasing:o,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:y,cursor:w,shared:x,trigger:b,defaultIndex:S,portal:A,axisId:I}=e,B=un(),$=typeof S=="number"?String(S):S;P.useEffect(()=>{B(Nie({shared:x,trigger:b,axisId:I,active:n,defaultIndex:$}))},[B,x,b,I,n,$]);var D=ES(),j=b8(),O=Aie(x),{activeIndex:U,isActive:T}=it(ae=>Pae(ae,O,b,$)),L=it(ae=>kae(ae,O,b,$)),C=it(ae=>M7(ae,O,b,$)),Y=it(ae=>Eae(ae,O,b,$)),oe=L,se=Lae(),pe=n??T,[X,le]=MR([oe,pe]),ie=O==="axis"?C:void 0;Kae(O,b,Y,ie,U,pe);var ne=A??se;if(ne==null)return null;var M=oe??S4;pe||(M=S4),l&&M.length&&(M=ER(oe.filter(ae=>ae.value!=null&&(ae.hide!==!0||e.includeHidden)),d,Xae));var K=M.length>0,Z=P.createElement(zJ,{allowEscapeViewBox:i,animationDuration:a,animationEasing:o,isAnimationActive:c,active:pe,coordinate:Y,hasPayload:K,offset:u,position:f,reverseDirection:h,useTranslate3d:p,viewBox:D,wrapperStyle:y,lastBoundingBox:X,innerRef:le,hasPortalFromProps:!!A},Zae(s,A4(A4({},e),{},{payload:M,label:ie,active:pe,coordinate:Y,accessibilityLayer:j})));return P.createElement(P.Fragment,null,rg.createPortal(Z,ne),pe&&P.createElement(Oae,{cursor:w,tooltipEventType:O,coordinate:Y,payload:oe,index:U}))}var V7={},q7={},W7={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n,i,{signal:a,edges:o}={}){let s,l=null;const c=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),d=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},f=()=>{u&&d(),w()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},i)},y=()=>{h!==null&&(clearTimeout(h),h=null)},w=()=>{y(),s=void 0,l=null},x=()=>{d()},b=function(...S){if(a!=null&&a.aborted)return;s=this,l=S;const A=h==null;p(),c&&A&&d()};return b.schedule=p,b.cancel=w,b.flush=x,a==null||a.addEventListener("abort",w,{once:!0}),b}r.debounce=e})(W7);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=W7;function n(i,a=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:l=!0,maxWait:c}=o,u=Array(2);s&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=e.debounce(function(...w){d=i.apply(this,w),f=null},a,{edges:u}),p=function(...w){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=i.apply(this,w),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,w),d)},y=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=y,p}r.debounce=n})(q7);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=q7;function n(i,a=0,o={}){const{leading:s=!0,trailing:l=!0}=o;return e.debounce(i,a,{leading:s,maxWait:a,trailing:l})}r.throttle=n})(V7);var eoe=V7.throttle;const toe=Js(eoe);var Xp=function(e,n){for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o]};function E4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Ww(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(n),!0).forEach(function(i){roe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function roe(r,e,n){return(e=noe(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function noe(r){var e=ioe(r,"string");return typeof e=="symbol"?e:e+""}function ioe(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Tv=P.forwardRef((r,e)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:p,style:y={}}=r,w=P.useRef(null),x=P.useRef();x.current=p,P.useImperativeHandle(e,()=>w.current);var[b,S]=P.useState({containerWidth:i.width,containerHeight:i.height}),A=P.useCallback((B,$)=>{S(D=>{var j=Math.round(B),O=Math.round($);return D.containerWidth===j&&D.containerHeight===O?D:{containerWidth:j,containerHeight:O}})},[]);P.useEffect(()=>{var B=O=>{var U,{width:T,height:L}=O[0].contentRect;A(T,L),(U=x.current)===null||U===void 0||U.call(x,T,L)};d>0&&(B=toe(B,d,{trailing:!0,leading:!1}));var $=new ResizeObserver(B),{width:D,height:j}=w.current.getBoundingClientRect();return A(D,j),$.observe(w.current),()=>{$.disconnect()}},[A,d]);var I=P.useMemo(()=>{var{containerWidth:B,containerHeight:$}=b;if(B<0||$<0)return null;Xp(rd(a)||rd(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,o),Xp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=rd(a)?B:a,j=rd(o)?$:o;return n&&n>0&&(D?j=D/n:j&&(D=j*n),c&&j>c&&(j=c)),Xp(D>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,j,a,o,s,l,n),P.Children.map(u,O=>P.cloneElement(O,{width:D,height:j,style:Ww({width:D,height:j},O.props.style)}))},[n,u,o,c,l,s,b,a]);return P.createElement("div",{id:f?"".concat(f):void 0,className:fr("recharts-responsive-container",h),style:Ww(Ww({},y),{},{width:a,height:o,minWidth:s,minHeight:l,maxHeight:c}),ref:w},P.createElement("div",{style:{width:0,height:0,overflow:"visible"}},I))}),kg=r=>null;kg.displayName="Cell";function aoe(r,e,n){return(e=ooe(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ooe(r){var e=soe(r,"string");return typeof e=="symbol"?e:e+""}function soe(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class loe{constructor(e){aoe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function k4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function coe(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(n),!0).forEach(function(i){uoe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):k4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function uoe(r,e,n){return(e=doe(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function doe(r){var e=foe(r,"string");return typeof e=="symbol"?e:e+""}function foe(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var hoe={cacheSize:2e3,enableCache:!0},H7=coe({},hoe),P4=new loe(H7.cacheSize),poe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},N4="recharts_measurement_span";function moe(r,e){var n=e.fontSize||"",i=e.fontFamily||"",a=e.fontWeight||"",o=e.fontStyle||"",s=e.letterSpacing||"",l=e.textTransform||"";return"".concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s,"|").concat(l)}var T4=(r,e)=>{try{var n=document.getElementById(N4);n||(n=document.createElement("span"),n.setAttribute("id",N4),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,poe,e),n.textContent="".concat(r);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},Zp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ud.isSsr)return{width:0,height:0};if(!H7.enableCache)return T4(e,n);var i=moe(e,n),a=P4.get(i);if(a)return a;var o=T4(e,n);return P4.set(i,o),o},C4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,I4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,goe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,voe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,K7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yoe=Object.keys(K7),Ef="NaN";function woe(r,e){return r*K7[e]}class ga{static parse(e){var n,[,i,a]=(n=voe.exec(e))!==null&&n!==void 0?n:[];return new ga(parseFloat(i),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,no(e)&&(this.unit=""),n!==""&&!goe.test(n)&&(this.num=NaN,this.unit=""),yoe.includes(n)&&(this.num=woe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ga(NaN,""):new ga(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ga(NaN,""):new ga(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ga(NaN,""):new ga(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ga(NaN,""):new ga(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return no(this.num)}}function G7(r){if(r.includes(Ef))return Ef;for(var e=r;e.includes("*")||e.includes("/");){var n,[,i,a,o]=(n=C4.exec(e))!==null&&n!==void 0?n:[],s=ga.parse(i??""),l=ga.parse(o??""),c=a==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return Ef;e=e.replace(C4,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,f,h]=(u=I4.exec(e))!==null&&u!==void 0?u:[],p=ga.parse(d??""),y=ga.parse(h??""),w=f==="+"?p.add(y):p.subtract(y);if(w.isNaN())return Ef;e=e.replace(I4,w.toString())}return e}var j4=/\(([^()]*)\)/;function boe(r){for(var e=r,n;(n=j4.exec(e))!=null;){var[,i]=n;e=e.replace(j4,G7(i))}return e}function xoe(r){var e=r.replace(/\s+/g,"");return e=boe(e),e=G7(e),e}function _oe(r){try{return xoe(r)}catch{return Ef}}function Hw(r){var e=_oe(r.slice(5,-1));return e===Ef?"":e}var Aoe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Soe=["dx","dy","angle","className","breakAll"];function I5(){return I5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},I5.apply(null,arguments)}function O4(r,e){if(r==null)return{};var n,i,a=Eoe(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function Eoe(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}var Y7=/[ \f\n\r\t\v\u2028\u2029]+/,Q7=r=>{var{children:e,breakAll:n,style:i}=r;try{var a=[];Gr(e)||(n?a=e.toString().split(""):a=e.toString().split(Y7));var o=a.map(l=>({word:l,width:Zp(l,i).width})),s=n?0:Zp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},koe=(r,e,n,i,a)=>{var{maxLines:o,children:s,style:l,breakAll:c}=r,u=He(o),d=s,f=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce((L,C)=>{var{word:Y,width:oe}=C,se=L[L.length-1];if(se&&(i==null||a||se.width+oe+n<Number(i)))se.words.push(Y),se.width+=oe+n;else{var pe={words:[Y],width:oe};L.push(pe)}return L},[])},h=f(e),p=U=>U.reduce((T,L)=>T.width>L.width?T:L);if(!u||a)return h;var y=h.length>o||p(h).width>Number(i);if(!y)return h;for(var w="",x=U=>{var T=d.slice(0,U),L=Q7({breakAll:c,style:l,children:T+w}).wordsWithComputedWidth,C=f(L),Y=C.length>o||p(C).width>Number(i);return[Y,C]},b=0,S=d.length-1,A=0,I;b<=S&&A<=d.length-1;){var B=Math.floor((b+S)/2),$=B-1,[D,j]=x($),[O]=x(B);if(!D&&!O&&(b=B+1),D&&O&&(S=B-1),!D&&O){I=j;break}A++}return I||h},L4=r=>{var e=Gr(r)?[]:r.toString().split(Y7);return[{words:e}]},Poe=r=>{var{width:e,scaleToFit:n,children:i,style:a,breakAll:o,maxLines:s}=r;if((e||n)&&!Ud.isSsr){var l,c,u=Q7({breakAll:o,children:i,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return L4(i);return koe({breakAll:o,children:i,maxLines:s,style:a},l,c,e,n)}return L4(i)},D4="#808080",_2=P.forwardRef((r,e)=>{var{x:n=0,y:i=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=D4}=r,d=O4(r,Aoe),f=P.useMemo(()=>Poe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:h,dy:p,angle:y,className:w,breakAll:x}=d,b=O4(d,Soe);if(!Qs(n)||!Qs(i))return null;var S=n+(He(h)?h:0),A=i+(He(p)?p:0),I;switch(c){case"start":I=Hw("calc(".concat(o,")"));break;case"middle":I=Hw("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:I=Hw("calc(".concat(f.length-1," * -").concat(a,")"));break}var B=[];if(s){var $=f[0].width,{width:D}=d;B.push("scale(".concat(He(D)?D/$:1,")"))}return y&&B.push("rotate(".concat(y,", ").concat(S,", ").concat(A,")")),B.length&&(b.transform=B.join(" ")),P.createElement("text",I5({},tn(b,!0),{ref:e,x:S,y:A,className:fr("recharts-text",w),textAnchor:l,fill:u.includes("url")?D4:u}),f.map((j,O)=>{var U=j.words.join(x?"":" ");return P.createElement("tspan",{x:S,dy:O===0?I:a,key:"".concat(U,"-").concat(O)},U)}))});_2.displayName="Text";var Noe=["offset"],Toe=["labelRef"];function R4(r,e){if(r==null)return{};var n,i,a=Coe(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function Coe(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}function M4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function pn(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M4(Object(n),!0).forEach(function(i){Ioe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Ioe(r,e,n){return(e=joe(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function joe(r){var e=Ooe(r,"string");return typeof e=="symbol"?e:e+""}function Ooe(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function _l(){return _l=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},_l.apply(null,arguments)}var Loe=r=>{var{value:e,formatter:n}=r,i=Gr(r.children)?e:r.children;return typeof n=="function"?n(i):i},ME=r=>r!=null&&typeof r=="function",Doe=(r,e)=>{var n=ui(e-r),i=Math.min(Math.abs(e-r),360);return n*i},Roe=(r,e,n,i)=>{var{position:a,offset:o,className:s}=r,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=i,y=(u+d)/2,w=Doe(f,h),x=w>=0?1:-1,b,S;a==="insideStart"?(b=f+x*o,S=p):a==="insideEnd"?(b=h-x*o,S=!p):a==="end"&&(b=h+x*o,S=p),S=w<=0?S:!S;var A=$n(l,c,y,b),I=$n(l,c,y,b+(S?1:-1)*359),B="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(I.x,",").concat(I.y),$=Gr(r.id)?Dm("recharts-radial-line-"):r.id;return P.createElement("text",_l({},n,{dominantBaseline:"central",className:fr("recharts-radial-bar-label",s)}),P.createElement("defs",null,P.createElement("path",{id:$,d:B})),P.createElement("textPath",{xlinkHref:"#".concat($)},e))},Moe=(r,e,n)=>{var{cx:i,cy:a,innerRadius:o,outerRadius:s,startAngle:l,endAngle:c}=r,u=(l+c)/2;if(n==="outside"){var{x:d,y:f}=$n(i,a,s+e,u);return{x:d,y:f,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(o+s)/2,{x:p,y}=$n(i,a,h,u);return{x:p,y,textAnchor:"middle",verticalAnchor:"middle"}},Foe=(r,e)=>{var{parentViewBox:n,offset:i,position:a}=r,{x:o,y:s,width:l,height:c}=e,u=c>=0?1:-1,d=u*i,f=u>0?"end":"start",h=u>0?"start":"end",p=l>=0?1:-1,y=p*i,w=p>0?"end":"start",x=p>0?"start":"end";if(a==="top"){var b={x:o+l/2,y:s-u*i,textAnchor:"middle",verticalAnchor:f};return pn(pn({},b),n?{height:Math.max(s-n.y,0),width:l}:{})}if(a==="bottom"){var S={x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:h};return pn(pn({},S),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{})}if(a==="left"){var A={x:o-y,y:s+c/2,textAnchor:w,verticalAnchor:"middle"};return pn(pn({},A),n?{width:Math.max(A.x-n.x,0),height:c}:{})}if(a==="right"){var I={x:o+l+y,y:s+c/2,textAnchor:x,verticalAnchor:"middle"};return pn(pn({},I),n?{width:Math.max(n.x+n.width-I.x,0),height:c}:{})}var B=n?{width:l,height:c}:{};return a==="insideLeft"?pn({x:o+y,y:s+c/2,textAnchor:x,verticalAnchor:"middle"},B):a==="insideRight"?pn({x:o+l-y,y:s+c/2,textAnchor:w,verticalAnchor:"middle"},B):a==="insideTop"?pn({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:h},B):a==="insideBottom"?pn({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:f},B):a==="insideTopLeft"?pn({x:o+y,y:s+d,textAnchor:x,verticalAnchor:h},B):a==="insideTopRight"?pn({x:o+l-y,y:s+d,textAnchor:w,verticalAnchor:h},B):a==="insideBottomLeft"?pn({x:o+y,y:s+c-d,textAnchor:x,verticalAnchor:f},B):a==="insideBottomRight"?pn({x:o+l-y,y:s+c-d,textAnchor:w,verticalAnchor:f},B):a&&typeof a=="object"&&(He(a.x)||rd(a.x))&&(He(a.y)||rd(a.y))?pn({x:o+aa(a.x,l),y:s+aa(a.y,c),textAnchor:"end",verticalAnchor:"end"},B):pn({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Boe=r=>"cx"in r&&He(r.cx);function Ga(r){var{offset:e=5}=r,n=R4(r,Noe),i=pn({offset:e},n),{viewBox:a,position:o,value:s,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=i,h=it(UM),p=ES(),y=o==="center"?p:h??p,w=a||y;if(!w||Gr(s)&&Gr(l)&&!P.isValidElement(c)&&typeof c!="function")return null;var x=pn(pn({},i),{},{viewBox:w});if(P.isValidElement(c)){var{labelRef:b}=x,S=R4(x,Toe);return P.cloneElement(c,S)}var A;if(typeof c=="function"){if(A=P.createElement(c,x),P.isValidElement(A))return A}else A=Loe(i);var I=Boe(w),B=tn(i,!0);if(I&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Roe(i,A,B,w);var $=I?Moe(w,i.offset,i.position):Foe(i,w);return P.createElement(_2,_l({ref:f,className:fr("recharts-label",u)},B,$,{breakAll:d}),A)}Ga.displayName="Label";var X7=r=>{var{cx:e,cy:n,angle:i,startAngle:a,endAngle:o,r:s,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:p,width:y,height:w,clockWise:x,labelViewBox:b}=r;if(b)return b;if(He(y)&&He(w)){if(He(d)&&He(f))return{x:d,y:f,width:y,height:w};if(He(h)&&He(p))return{x:h,y:p,width:y,height:w}}if(He(d)&&He(f))return{x:d,y:f,width:0,height:0};if(He(e)&&He(n))return{cx:e,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:x};if(r.viewBox)return r.viewBox},Uoe=(r,e,n)=>{if(!r)return null;var i={viewBox:e,labelRef:n};return r===!0?P.createElement(Ga,_l({key:"label-implicit"},i)):Qs(r)?P.createElement(Ga,_l({key:"label-implicit",value:r},i)):P.isValidElement(r)?r.type===Ga?P.cloneElement(r,pn({key:"label-implicit"},i)):P.createElement(Ga,_l({key:"label-implicit",content:r},i)):ME(r)?P.createElement(Ga,_l({key:"label-implicit",content:r},i)):r&&typeof r=="object"?P.createElement(Ga,_l({},r,{key:"label-implicit"},i)):null},$oe=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&i&&!e.label)return null;var{children:a,labelRef:o}=e,s=X7(e),l=hg(a,Ga).map((u,d)=>P.cloneElement(u,{viewBox:n||s,key:"label-".concat(d)}));if(!i)return l;var c=Uoe(e.label,n||s,o);return[c,...l]};Ga.parseViewBox=X7;Ga.renderCallByParent=$oe;var Z7={},J7={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}r.last=e})(J7);var eF={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}r.toArray=e})(eF);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=J7,n=eF,i=z1;function a(o){if(i.isArrayLike(o))return e.last(n.toArray(o))}r.last=a})(Z7);var zoe=Z7.last;const Voe=Js(zoe);var qoe=["valueAccessor"],Woe=["data","dataKey","clockWise","id","textBreakAll"];function S0(){return S0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},S0.apply(null,arguments)}function F4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function B4(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(i){Hoe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Hoe(r,e,n){return(e=Koe(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Koe(r){var e=Goe(r,"string");return typeof e=="symbol"?e:e+""}function Goe(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function U4(r,e){if(r==null)return{};var n,i,a=Yoe(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function Yoe(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}var Qoe=r=>Array.isArray(r.value)?Voe(r.value):r.value;function ru(r){var{valueAccessor:e=Qoe}=r,n=U4(r,qoe),{data:i,dataKey:a,clockWise:o,id:s,textBreakAll:l}=n,c=U4(n,Woe);return!i||!i.length?null:P.createElement(Ki,{className:"recharts-label-list"},i.map((u,d)=>{var f=Gr(a)?e(u,d):Cr(u&&u.payload,a),h=Gr(s)?{}:{id:"".concat(s,"-").concat(d)};return P.createElement(Ga,S0({},tn(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:Ga.parseViewBox(Gr(o)?u:B4(B4({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}ru.displayName="LabelList";function Xoe(r,e){return r?r===!0?P.createElement(ru,{key:"labelList-implicit",data:e}):P.isValidElement(r)||ME(r)?P.createElement(ru,{key:"labelList-implicit",data:e,content:r}):typeof r=="object"?P.createElement(ru,S0({data:e},r,{key:"labelList-implicit"})):null:null}function Zoe(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&n&&!r.label)return null;var{children:i}=r,a=hg(i,ru).map((s,l)=>P.cloneElement(s,{data:e,key:"labelList-".concat(l)}));if(!n)return a;var o=Xoe(r.label,e);return[o,...a]}ru.renderCallByParent=Zoe;function j5(){return j5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},j5.apply(null,arguments)}var tF=r=>{var{cx:e,cy:n,r:i,className:a}=r,o=fr("recharts-dot",a);return e===+e&&n===+n&&i===+i?P.createElement("circle",j5({},Yl(r),eS(r),{className:o,cx:e,cy:n,r:i})):null},rF=r=>r.graphicalItems.polarItems,Joe=Se([nn,bg],dE),FE=Se([rF,Ln,Joe],fE),ese=Se([FE],hE),BE=Se([ese,eE],pE),tse=Se([BE,Ln,FE],gE),rse=Se([BE,Ln,FE],(r,e,n)=>n.length>0?r.flatMap(i=>n.flatMap(a=>{var o,s=Cr(i,(o=e.dataKey)!==null&&o!==void 0?o:a.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?r.map(i=>({value:Cr(i,e.dataKey),errorDomain:[]})):r.map(i=>({value:i,errorDomain:[]}))),$4=()=>{},nse=Se([Ln,n7,$4,rse,$4,nr,nn],yE),nF=Se([Ln,nr,BE,tse,wg,nn,nse],wE),ise=Se([nF,Ln,Dh],_E);Se([Ln,nF,ise,nn],SE);var ase={radiusAxis:{},angleAxis:{}},iF=uo({name:"polarAxis",initialState:ase,reducers:{addRadiusAxis(r,e){r.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(r,e){delete r.radiusAxis[e.payload.id]},addAngleAxis(r,e){r.angleAxis[e.payload.id]=e.payload},removeAngleAxis(r,e){delete r.angleAxis[e.payload.id]}}}),{addRadiusAxis:uve,removeRadiusAxis:dve,addAngleAxis:fve,removeAngleAxis:hve}=iF.actions,ose=iF.reducer;function z4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function V4(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(i){sse(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function sse(r,e,n){return(e=lse(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function lse(r){var e=cse(r,"string");return typeof e=="symbol"?e:e+""}function cse(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var use=(r,e)=>e,UE=Se([rF,use],(r,e)=>r.filter(n=>n.type==="pie").find(n=>n.id===e)),dse=[],$E=(r,e,n)=>(n==null?void 0:n.length)===0?dse:n,aF=Se([eE,UE,$E],(r,e,n)=>{var{chartData:i}=r;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=i,(!a||!a.length)&&n!=null&&(a=n.map(o=>V4(V4({},e.presentationProps),o.props))),a!=null)return a}}),fse=Se([aF,UE,$E],(r,e,n)=>{if(!(r==null||e==null))return r.map((i,a)=>{var o,s=Cr(i,e.nameKey,e.name),l;return n!=null&&(o=n[a])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?l=n[a].props.fill:typeof i=="object"&&i!=null&&"fill"in i?l=i.fill:l=e.fill,{value:Th(s,e.dataKey),color:l,payload:i,type:e.legendType}})}),hse=Se([aF,UE,$E,Xn],(r,e,n,i)=>{if(!(e==null||r==null))return ile({offset:i,pieSettings:e,displayedData:r,cells:n})}),oF={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${o}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}r.isPlainObject=e})(oF);var pse=oF.isPlainObject;const mse=Js(pse);function E0(){return E0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},E0.apply(null,arguments)}var q4=(r,e,n,i,a)=>{var o=n-i,s;return s="M ".concat(r,",").concat(e),s+="L ".concat(r+n,",").concat(e),s+="L ".concat(r+n-o/2,",").concat(e+a),s+="L ".concat(r+n-o/2-i,",").concat(e+a),s+="L ".concat(r,",").concat(e," Z"),s},gse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vse=r=>{var e=fo(r,gse),n=P.useRef(),[i,a]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&a(x)}catch{}},[]);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:u,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:y}=e;if(o!==+o||s!==+s||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var w=fr("recharts-trapezoid",d);return y?P.createElement(c0,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:s},to:{upperWidth:l,lowerWidth:c,height:u,x:o,y:s},duration:h,animationEasing:f,isActive:y},x=>{var{upperWidth:b,lowerWidth:S,height:A,x:I,y:B}=x;return P.createElement(c0,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:f},P.createElement("path",E0({},tn(e,!0),{className:w,d:q4(I,B,b,S,A),ref:n})))}):P.createElement("g",null,P.createElement("path",E0({},tn(e,!0),{className:w,d:q4(o,s,l,c,u)})))},yse=["option","shapeType","propTransformer","activeClassName","isActive"];function wse(r,e){if(r==null)return{};var n,i,a=bse(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function bse(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}function W4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function k0(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W4(Object(n),!0).forEach(function(i){xse(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function xse(r,e,n){return(e=_se(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function _se(r){var e=Ase(r,"string");return typeof e=="symbol"?e:e+""}function Ase(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Sse(r,e){return k0(k0({},e),r)}function Ese(r,e){return r==="symbols"}function H4(r){var{shapeType:e,elementProps:n}=r;switch(e){case"rectangle":return P.createElement(I8,n);case"trapezoid":return P.createElement(vse,n);case"sector":return P.createElement(L8,n);case"symbols":if(Ese(e))return P.createElement(aS,n);break;default:return null}}function kse(r){return P.isValidElement(r)?r.props:r}function sF(r){var{option:e,shapeType:n,propTransformer:i=Sse,activeClassName:a="recharts-active-shape",isActive:o}=r,s=wse(r,yse),l;if(P.isValidElement(e))l=P.cloneElement(e,k0(k0({},s),kse(e)));else if(typeof e=="function")l=e(s);else if(mse(e)&&typeof e!="boolean"){var c=i(e,s);l=P.createElement(H4,{shapeType:n,elementProps:c})}else{var u=s;l=P.createElement(H4,{shapeType:n,elementProps:u})}return o?P.createElement(Ki,{className:a},l):l}var zE=(r,e)=>{var n=un();return(i,a)=>o=>{r==null||r(i,a,o),n(w7({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition}))}},VE=r=>{var e=un();return(n,i)=>a=>{r==null||r(n,i,a),e(Tie())}},qE=(r,e)=>{var n=un();return(i,a)=>o=>{r==null||r(i,a,o),n(Cie({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition}))}};function WE(r){var{fn:e,args:n}=r,i=un(),a=Pa();return P.useEffect(()=>{if(!a){var o=e(n);return i(kie(o)),()=>{i(Pie(o))}}},[e,n,i,a]),null}var lF=()=>{};function cF(r){var{legendPayload:e}=r,n=un(),i=Pa();return P.useEffect(()=>i?lF:(n(y8(e)),()=>{n(w8(e))}),[n,i,e]),null}function Pse(r){var{legendPayload:e}=r,n=un(),i=it(nr);return P.useEffect(()=>i!=="centric"&&i!=="radial"?lF:(n(y8(e)),()=>{n(w8(e))}),[n,i,e]),null}function HE(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=P.useRef(Dm(e)),i=P.useRef(r);return i.current!==r&&(n.current=Dm(e),i.current=r),n.current}var Kw,Nse=()=>{var[r]=P.useState(()=>Dm("uid-"));return r},Tse=(Kw=uj.useId)!==null&&Kw!==void 0?Kw:Nse;function Cse(r,e){var n=Tse();return e||(r?"".concat(r,"-").concat(n):n)}var Ise=P.createContext(void 0),KE=r=>{var{id:e,type:n,children:i}=r,a=Cse("recharts-".concat(n),e);return P.createElement(Ise.Provider,{value:a},i(a))},jse={cartesianItems:[],polarItems:[]},uF=uo({name:"graphicalItems",initialState:jse,reducers:{addCartesianGraphicalItem(r,e){r.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(r,e){var{prev:n,next:i}=e.payload,a=Cl(r).cartesianItems.indexOf(n);a>-1&&(r.cartesianItems[a]=i)},removeCartesianGraphicalItem(r,e){var n=Cl(r).cartesianItems.indexOf(e.payload);n>-1&&r.cartesianItems.splice(n,1)},addPolarGraphicalItem(r,e){r.polarItems.push(e.payload)},removePolarGraphicalItem(r,e){var n=Cl(r).polarItems.indexOf(e.payload);n>-1&&r.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Ose,replaceCartesianGraphicalItem:Lse,removeCartesianGraphicalItem:Dse,addPolarGraphicalItem:Rse,removePolarGraphicalItem:Mse}=uF.actions,Fse=uF.reducer;function dF(r){var e=un(),n=P.useRef(null);return P.useEffect(()=>{n.current===null?e(Ose(r)):n.current!==r&&e(Lse({prev:n.current,next:r})),n.current=r},[e,r]),P.useEffect(()=>()=>{n.current&&(e(Dse(n.current)),n.current=null)},[e]),null}function Bse(r){var e=un();return P.useEffect(()=>(e(Rse(r)),()=>{e(Mse(r))}),[e,r]),null}function Use(){}var $se={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},K4={t:0},Gw={t:1};function GE(r){var e=fo(r,$se),{isActive:n,canBegin:i,duration:a,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=e,d=C8("JavascriptAnimate",e.animationManager),[f,h]=P.useState(n?K4:Gw),p=P.useRef(null);return P.useEffect(()=>{n||h(Gw)},[n]),P.useEffect(()=>{if(!n||!i)return Use;var y=T8(K4,Gw,P8(o),a,h,d.getTimeoutController()),w=()=>{p.current=y()};return d.start([c,s,w,a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[n,i,a,o,s,c,l,d]),u(f.t)}var zse=["onMouseEnter","onClick","onMouseLeave"],Vse=["id"],qse=["id"];function YE(r,e){if(r==null)return{};var n,i,a=Wse(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function Wse(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}function G4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function vn(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(n),!0).forEach(function(i){Hse(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Hse(r,e,n){return(e=Kse(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Kse(r){var e=Gse(r,"string");return typeof e=="symbol"?e:e+""}function Gse(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Wl.apply(null,arguments)}function Yse(r){var e=P.useMemo(()=>hg(r.children,kg),[r.children]),n=it(i=>fse(i,r.id,e));return n==null?null:P.createElement(Pse,{legendPayload:n})}function Qse(r){var{dataKey:e,nameKey:n,sectors:i,stroke:a,strokeWidth:o,fill:s,name:l,hide:c,tooltipType:u}=r;return{dataDefinedOnItem:i==null?void 0:i.map(d=>d.tooltipPayload),positions:i==null?void 0:i.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:o,fill:s,dataKey:e,nameKey:n,name:Th(l,e),hide:c,type:u,color:s,unit:""}}}var Xse=(r,e)=>r>e?"start":r<e?"end":"middle",Zse=(r,e,n)=>typeof e=="function"?e(r):aa(e,n,n*.8),Jse=(r,e,n)=>{var{top:i,left:a,width:o,height:s}=e,l=l8(o,s),c=a+aa(r.cx,o,o/2),u=i+aa(r.cy,s,s/2),d=aa(r.innerRadius,l,0),f=Zse(n,r.outerRadius,l),h=r.maxRadius||Math.sqrt(o*o+s*s)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},ele=(r,e)=>{var n=ui(e-r),i=Math.min(Math.abs(e-r),360);return n*i},tle=(r,e)=>{if(P.isValidElement(r))return P.cloneElement(r,e);if(typeof r=="function")return r(e);var n=fr("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return P.createElement(TS,Wl({},e,{type:"linear",className:n}))},rle=(r,e,n)=>{if(P.isValidElement(r))return P.cloneElement(r,e);var i=n;if(typeof r=="function"&&(i=r(e),P.isValidElement(i)))return i;var a=fr("recharts-pie-label-text",typeof r!="boolean"&&typeof r!="function"?r.className:"");return P.createElement(_2,Wl({},e,{alignmentBaseline:"middle",className:a}),i)};function nle(r){var{sectors:e,props:n,showLabels:i}=r,{label:a,labelLine:o,dataKey:s}=n;if(!i||!a||!e)return null;var l=Yl(n),c=tn(a,!1),u=tn(o,!1),d=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,f=e.map((h,p)=>{var y=(h.startAngle+h.endAngle)/2,w=$n(h.cx,h.cy,h.outerRadius+d,y),x=vn(vn(vn(vn({},l),h),{},{stroke:"none"},c),{},{index:p,textAnchor:Xse(w.x,h.cx)},w),b=vn(vn(vn(vn({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:p,points:[$n(h.cx,h.cy,h.outerRadius,y),w],key:"line"});return P.createElement(Ki,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},o&&tle(o,b),rle(a,x,Cr(h,s)))});return P.createElement(Ki,{className:"recharts-pie-labels"},f)}function fF(r){var{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:a,showLabels:o}=r,s=it(hu),{onMouseEnter:l,onClick:c,onMouseLeave:u}=a,d=YE(a,zse),f=zE(l,a.dataKey),h=VE(u),p=qE(c,a.dataKey);return e==null?null:P.createElement(P.Fragment,null,e.map((y,w)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&e.length!==1)return null;var x=n&&String(w)===s,b=s?i:null,S=x?n:b,A=vn(vn({},y),{},{stroke:y.stroke,tabIndex:-1,[h8]:w,[p8]:a.dataKey});return P.createElement(Ki,Wl({tabIndex:-1,className:"recharts-pie-sector"},fg(d,y,w),{onMouseEnter:f(y,w),onMouseLeave:h(y,w),onClick:p(y,w),key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(w)}),P.createElement(sF,Wl({option:S,isActive:x,shapeType:"sector"},A)))}),P.createElement(nle,{sectors:e,props:a,showLabels:o}))}function ile(r){var e,{pieSettings:n,displayedData:i,cells:a,offset:o}=r,{cornerRadius:s,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),p=ele(l,c),y=Math.abs(p),w=i.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,x=i.filter($=>Cr($,u,0)!==0).length,b=(y>=360?x:x-1)*w,S=y-x*h-b,A=i.reduce(($,D)=>{var j=Cr(D,u,0);return $+(He(j)?j:0)},0),I;if(A>0){var B;I=i.map(($,D)=>{var j=Cr($,u,0),O=Cr($,d,D),U=Jse(n,o,$),T=(He(j)?j:0)/A,L,C=vn(vn({},$),a&&a[D]&&a[D].props);D?L=B.endAngle+ui(p)*w*(j!==0?1:0):L=l;var Y=L+ui(p)*((j!==0?h:0)+T*S),oe=(L+Y)/2,se=(U.innerRadius+U.outerRadius)/2,pe=[{name:O,value:j,payload:C,dataKey:u,type:f}],X=$n(U.cx,U.cy,se,oe);return B=vn(vn(vn(vn({},n.presentationProps),{},{percent:T,cornerRadius:s,name:O,tooltipPayload:pe,midAngle:oe,middleRadius:se,tooltipPosition:X},C),U),{},{value:Cr($,u),startAngle:L,endAngle:Y,payload:C,paddingAngle:ui(p)*w}),B})}return I}function ale(r){var{props:e,previousSectorsRef:n}=r,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=e,h=HE(e,"recharts-pie-"),p=n.current,[y,w]=P.useState(!0),x=P.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),b=P.useCallback(()=>{typeof d=="function"&&d(),w(!0)},[d]);return P.createElement(GE,{begin:o,duration:s,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:x,key:h},S=>{var A=[],I=i&&i[0],B=I.startAngle;return i.forEach(($,D)=>{var j=p&&p[D],O=D>0?uu($,"paddingAngle",0):0;if(j){var U=AT(j.endAngle-j.startAngle,$.endAngle-$.startAngle),T=vn(vn({},$),{},{startAngle:B+O,endAngle:B+U(S)+O});A.push(T),B=T.endAngle}else{var{endAngle:L,startAngle:C}=$,Y=AT(0,L-C),oe=Y(S),se=vn(vn({},$),{},{startAngle:B+O,endAngle:B+oe+O});A.push(se),B=se.endAngle}}),n.current=A,P.createElement(Ki,null,P.createElement(fF,{sectors:A,activeShape:c,inactiveShape:u,allOtherPieProps:e,showLabels:!y}))})}function ole(r){var{sectors:e,isAnimationActive:n,activeShape:i,inactiveShape:a}=r,o=P.useRef(null),s=o.current;return n&&e&&e.length&&(!s||s!==e)?P.createElement(ale,{props:r,previousSectorsRef:o}):P.createElement(fF,{sectors:e,activeShape:i,inactiveShape:a,allOtherPieProps:r,showLabels:!0})}function sle(r){var{hide:e,className:n,rootTabIndex:i}=r,a=fr("recharts-pie",n);return e?null:P.createElement(Ki,{tabIndex:i,className:a},P.createElement(ole,r))}var lle={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ud.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function cle(r){var{id:e}=r,n=YE(r,Vse),i=P.useMemo(()=>hg(r.children,kg),[r.children]),a=it(o=>hse(o,e,i));return P.createElement(P.Fragment,null,P.createElement(WE,{fn:Qse,args:vn(vn({},r),{},{sectors:a})}),P.createElement(sle,Wl({},n,{sectors:a})))}function hF(r){var e=fo(r,lle),{id:n}=e,i=YE(e,qse),a=Yl(i);return P.createElement(KE,{id:n,type:"pie"},o=>P.createElement(P.Fragment,null,P.createElement(Bse,{type:"pie",id:o,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:a}),P.createElement(Yse,Wl({},i,{id:o})),P.createElement(cle,Wl({},i,{id:o})),i.children))}hF.displayName="Pie";var ule=Se([Xn],r=>{if(r)return{top:r.top,bottom:r.bottom,left:r.left,right:r.right}}),dle=Se([ule,Ql,Xl],(r,e,n)=>{if(!(!r||e==null||n==null))return{x:r.left,y:r.top,width:Math.max(0,e-r.left-r.right),height:Math.max(0,n-r.top-r.bottom)}}),QE=()=>it(dle),fle=()=>it(gae);function Y4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Q4(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(n),!0).forEach(function(i){hle(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function hle(r,e,n){return(e=ple(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ple(r){var e=mle(r,"string");return typeof e=="symbol"?e:e+""}function mle(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var gle=r=>{var{point:e,childIndex:n,mainColor:i,activeDot:a,dataKey:o}=r;if(a===!1||e.x==null||e.y==null)return null;var s=Q4(Q4({index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},tn(a,!1)),eS(a)),l;return P.isValidElement(a)?l=P.cloneElement(a,s):typeof a=="function"?l=a(s):l=P.createElement(tF,s),P.createElement(Ki,{className:"recharts-active-dot"},l)};function vle(r){var{points:e,mainColor:n,activeDot:i,itemDataKey:a}=r,o=it(hu),s=fle();if(e==null||s==null)return null;var l=e.find(c=>s.includes(c.payload));return Gr(l)?null:gle({point:l,childIndex:Number(o),mainColor:n,dataKey:a,activeDot:i})}var yle="Invariant failed";function wle(r,e){throw new Error(yle)}var ble=["x","y"];function O5(){return O5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},O5.apply(null,arguments)}function X4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function xp(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(n),!0).forEach(function(i){xle(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function xle(r,e,n){return(e=_le(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function _le(r){var e=Ale(r,"string");return typeof e=="symbol"?e:e+""}function Ale(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Sle(r,e){if(r==null)return{};var n,i,a=Ele(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function Ele(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}function kle(r,e){var{x:n,y:i}=r,a=Sle(r,ble),o="".concat(n),s=parseInt(o,10),l="".concat(i),c=parseInt(l,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),h=parseInt(f,10);return xp(xp(xp(xp(xp({},e),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function pF(r){return P.createElement(sF,O5({shapeType:"rectangle",propTransformer:kle,activeClassName:"recharts-active-bar"},r))}var Ple=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,a)=>{if(He(e))return e;var o=He(i)||Gr(i);return o?e(i,a):(o||wle(),n)}},Nle={},mF=uo({name:"errorBars",initialState:Nle,reducers:{addErrorBar:(r,e)=>{var{itemId:n,errorBar:i}=e.payload;r[n]||(r[n]=[]),r[n].push(i)},removeErrorBar:(r,e)=>{var{itemId:n,errorBar:i}=e.payload;r[n]&&(r[n]=r[n].filter(a=>a.dataKey!==i.dataKey||a.direction!==i.direction))}}}),{addErrorBar:pve,removeErrorBar:mve}=mF.actions,Tle=mF.reducer,Cle=["children"];function Ile(r,e){if(r==null)return{};var n,i,a=jle(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function jle(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}var Ole={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Lle=P.createContext(Ole);function gF(r){var{children:e}=r,n=Ile(r,Cle);return P.createElement(Lle.Provider,{value:n},e)}function XE(r,e){var n,i,a=it(u=>Jl(u,r)),o=it(u=>Pu(u,e)),s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:qa.allowDataOverflow,l=(i=o==null?void 0:o.allowDataOverflow)!==null&&i!==void 0?i:Wa.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function vF(r){var{xAxisId:e,yAxisId:n,clipPathId:i}=r,a=QE(),{needClipX:o,needClipY:s,needClip:l}=XE(e,n);if(!l)return null;var{x:c,y:u,width:d,height:f}=a;return P.createElement("clipPath",{id:"clipPath-".concat(i)},P.createElement("rect",{x:o?c:c-d/2,y:s?u:u-f/2,width:o?d:d*2,height:s?f:f*2}))}var Dle=["onMouseEnter","onMouseLeave","onClick"],Rle=["value","background","tooltipPosition"],Mle=["id"],Fle=["onMouseEnter","onClick","onMouseLeave"];function ph(){return ph=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},ph.apply(null,arguments)}function Z4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Vi(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(n),!0).forEach(function(i){Ble(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Z4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Ble(r,e,n){return(e=Ule(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Ule(r){var e=$le(r,"string");return typeof e=="symbol"?e:e+""}function $le(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function P0(r,e){if(r==null)return{};var n,i,a=zle(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function zle(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}var Vle=r=>{var{dataKey:e,name:n,fill:i,legendType:a,hide:o}=r;return[{inactive:o,dataKey:e,type:a,color:i,value:Th(n,e),payload:r}]};function qle(r){var{dataKey:e,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=r;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Th(o,e),hide:s,type:r.tooltipType,color:r.fill,unit:l}}}function Wle(r){var e=it(hu),{data:n,dataKey:i,background:a,allOtherBarProps:o}=r,{onMouseEnter:s,onMouseLeave:l,onClick:c}=o,u=P0(o,Dle),d=zE(s,i),f=VE(l),h=qE(c,i);if(!a||n==null)return null;var p=tn(a,!1);return P.createElement(P.Fragment,null,n.map((y,w)=>{var{value:x,background:b,tooltipPosition:S}=y,A=P0(y,Rle);if(!b)return null;var I=d(y,w),B=f(y,w),$=h(y,w),D=Vi(Vi(Vi(Vi(Vi({option:a,isActive:String(w)===e},A),{},{fill:"#eee"},b),p),fg(u,y,w)),{},{onMouseEnter:I,onMouseLeave:B,onClick:$,dataKey:i,index:w,className:"recharts-bar-background-rectangle"});return P.createElement(pF,ph({key:"background-bar-".concat(w)},D))}))}function yF(r){var{data:e,props:n,showLabels:i}=r,a=Yl(n),{id:o}=a,s=P0(a,Mle),{shape:l,dataKey:c,activeBar:u}=n,d=it(hu),f=it(j7),{onMouseEnter:h,onClick:p,onMouseLeave:y}=n,w=P0(n,Fle),x=zE(h,c),b=VE(y),S=qE(p,c);return e?P.createElement(P.Fragment,null,e.map((A,I)=>{var B=u&&String(I)===d&&(f==null||c===f),$=B?u:l,D=Vi(Vi(Vi({},s),A),{},{isActive:B,option:$,index:I,dataKey:c});return P.createElement(Ki,ph({className:"recharts-bar-rectangle"},fg(w,A,I),{onMouseEnter:x(A,I),onMouseLeave:b(A,I),onClick:S(A,I),key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(I)}),P.createElement(pF,D))}),i&&ru.renderCallByParent(n,e)):null}function Hle(r){var{props:e,previousRectanglesRef:n}=r,{data:i,layout:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=e,f=n.current,h=HE(e,"recharts-bar-"),[p,y]=P.useState(!1),w=P.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),x=P.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return P.createElement(GE,{begin:s,duration:l,isActive:o,easing:c,onAnimationEnd:w,onAnimationStart:x,key:h},b=>{var S=b===1?i:i==null?void 0:i.map((A,I)=>{var B=f&&f[I];if(B)return Vi(Vi({},A),{},{x:ts(B.x,A.x,b),y:ts(B.y,A.y,b),width:ts(B.width,A.width,b),height:ts(B.height,A.height,b)});if(a==="horizontal"){var $=ts(0,A.height,b);return Vi(Vi({},A),{},{y:A.y+A.height-$,height:$})}var D=ts(0,A.width,b);return Vi(Vi({},A),{},{width:D})});return b>0&&(n.current=S??null),S==null?null:P.createElement(Ki,null,P.createElement(yF,{props:e,data:S,showLabels:!p}))})}function Kle(r){var{data:e,isAnimationActive:n}=r,i=P.useRef(null);return n&&e&&e.length&&(i.current==null||i.current!==e)?P.createElement(Hle,{previousRectanglesRef:i,props:r}):P.createElement(yF,{props:r,data:e,showLabels:!0})}var wF=0,Gle=(r,e)=>{var n=Array.isArray(r.value)?r.value[1]:r.value;return{x:r.x,y:r.y,value:n,errorVal:Cr(r,e)}};class Yle extends P.PureComponent{render(){var{hide:e,data:n,dataKey:i,className:a,xAxisId:o,yAxisId:s,needClip:l,background:c,id:u}=this.props;if(e)return null;var d=fr("recharts-bar",a),f=u;return P.createElement(Ki,{className:d,id:u},l&&P.createElement("defs",null,P.createElement(vF,{clipPathId:f,xAxisId:o,yAxisId:s})),P.createElement(Ki,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},P.createElement(Wle,{data:n,dataKey:i,background:c,allOtherBarProps:this.props}),P.createElement(Kle,this.props)),this.props.children)}}var Qle={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ud.isSsr,legendType:"rect",minPointSize:wF,xAxisId:0,yAxisId:0};function Xle(r){var{xAxisId:e,yAxisId:n,hide:i,legendType:a,minPointSize:o,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=r,{needClip:f}=XE(e,n),h=n2(),p=Pa(),y=hg(r.children,kg),w=it(S=>Sce(S,e,n,p,r.id,y));if(h!=="vertical"&&h!=="horizontal")return null;var x,b=w==null?void 0:w[0];return b==null||b.height==null||b.width==null?x=0:x=h==="vertical"?b.height/2:b.width/2,P.createElement(gF,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:Gle,errorBarOffset:x},P.createElement(Yle,ph({},r,{layout:h,needClip:f,data:w,xAxisId:e,yAxisId:n,hide:i,legendType:a,minPointSize:o,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Zle(r){var{layout:e,barSettings:{dataKey:n,minPointSize:i},pos:a,bandSize:o,xAxis:s,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:p}=r,y=e==="horizontal"?l:s,w=d?y.scale.domain():null,x=eJ({numericAxis:y});return f.map((b,S)=>{var A,I,B,$,D,j;d?A=GZ(d[S],w):(A=Cr(b,n),Array.isArray(A)||(A=[x,A]));var O=Ple(i,wF)(A[1],S);if(e==="horizontal"){var U,[T,L]=[l.scale(A[0]),l.scale(A[1])];I=tC({axis:s,ticks:c,bandSize:o,offset:a.offset,entry:b,index:S}),B=(U=L??T)!==null&&U!==void 0?U:void 0,$=a.size;var C=T-L;if(D=no(C)?0:C,j={x:I,y:h.top,width:$,height:h.height},Math.abs(O)>0&&Math.abs(D)<Math.abs(O)){var Y=ui(D||O)*(Math.abs(O)-Math.abs(D));B-=Y,D+=Y}}else{var[oe,se]=[s.scale(A[0]),s.scale(A[1])];if(I=oe,B=tC({axis:l,ticks:u,bandSize:o,offset:a.offset,entry:b,index:S}),$=se-oe,D=a.size,j={x:h.left,y:B,width:h.width,height:D},Math.abs(O)>0&&Math.abs($)<Math.abs(O)){var pe=ui($||O)*(Math.abs(O)-Math.abs($));$+=pe}}if(I==null||B==null||$==null||D==null)return null;var X=Vi(Vi({},b),{},{x:I,y:B,width:$,height:D,value:d?A:A[1],payload:b,background:j,tooltipPosition:{x:I+$/2,y:B+D/2}},p&&p[S]&&p[S].props);return X}).filter(Boolean)}function L5(r){var e=fo(r,Qle),n=Pa();return P.createElement(KE,{id:e.id,type:"bar"},i=>P.createElement(P.Fragment,null,P.createElement(cF,{legendPayload:Vle(e)}),P.createElement(WE,{fn:qle,args:e}),P.createElement(dF,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:JZ(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),P.createElement(Xle,ph({},e,{id:i}))))}L5.displayName="Bar";function J4(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Cv(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(i){Jle(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Jle(r,e,n){return(e=ece(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ece(r){var e=tce(r,"string");return typeof e=="symbol"?e:e+""}function tce(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var rce=(r,e)=>e,nce=(r,e,n)=>n,ice=(r,e,n,i)=>i,ace=(r,e,n,i,a)=>a,Pg=Se([g2,ace],(r,e)=>r.filter(n=>n.type==="bar").find(n=>n.id===e)),oce=Se([Pg],r=>r==null?void 0:r.maxBarSize),sce=(r,e,n,i,a,o)=>o,e3=(r,e,n)=>{var i=n??r;if(!Gr(i))return aa(i,e,0)},lce=Se([nr,g2,rce,nce,ice],(r,e,n,i,a)=>e.filter(o=>r==="horizontal"?o.xAxisId===n:o.yAxisId===i).filter(o=>o.isPanorama===a).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),cce=(r,e,n,i)=>{var a=nr(r);return a==="horizontal"?k5(r,"yAxis",n,i):k5(r,"xAxis",e,i)},uce=(r,e,n)=>{var i=nr(r);return i==="horizontal"?f4(r,"xAxis",e):f4(r,"yAxis",n)},dce=(r,e,n)=>{var i={},a=r.filter(m2),o=r.filter(u=>u.stackId==null),s=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),i),l=Object.entries(s).map(u=>{var[d,f]=u,h=f.map(y=>y.dataKey),p=e3(e,n,f[0].barSize);return{stackId:d,dataKeys:h,barSize:p}}),c=o.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=e3(e,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},fce=Se([lce,Pne,uce],dce),hce=(r,e,n,i,a)=>{var o,s,l=Pg(r,e,n,i,a);if(l!=null){var c=nr(r),u=OM(r),{maxBarSize:d}=l,f=Gr(d)?u:d,h,p;return c==="horizontal"?(h=fu(r,"xAxis",e,i),p=du(r,"xAxis",e,i)):(h=fu(r,"yAxis",n,i),p=du(r,"yAxis",n,i)),(o=(s=Fm(h,p,!0))!==null&&s!==void 0?s:f)!==null&&o!==void 0?o:0}},bF=(r,e,n,i)=>{var a=nr(r),o,s;return a==="horizontal"?(o=fu(r,"xAxis",e,i),s=du(r,"xAxis",e,i)):(o=fu(r,"yAxis",n,i),s=du(r,"yAxis",n,i)),Fm(o,s)};function pce(r,e,n,i,a){var o=i.length;if(!(o<1)){var s=aa(r,n,0,!0),l,c=[];if(oo(i[0].barSize)){var u=!1,d=n/o,f=i.reduce((b,S)=>b+(S.barSize||0),0);f+=(o-1)*s,f>=n&&(f-=(o-1)*s,s=0),f>=n&&d>0&&(u=!0,d*=.9,f=o*d);var h=(n-f)/2>>0,p={offset:h-s,size:0};l=i.reduce((b,S)=>{var A,I={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:p.offset+p.size+s,size:u?d:(A=S.barSize)!==null&&A!==void 0?A:0}},B=[...b,I];return p=B[B.length-1].position,B},c)}else{var y=aa(e,n,0,!0);n-2*y-(o-1)*s<=0&&(s=0);var w=(n-2*y-(o-1)*s)/o;w>1&&(w>>=0);var x=oo(a)?Math.min(w,a):w;l=i.reduce((b,S,A)=>[...b,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:y+(w+s)*A+(w-x)/2,size:x}}],c)}return l}}var mce=(r,e,n,i,a,o,s)=>{var l=Gr(s)?e:s,c=pce(n,i,a!==o?a:o,r,l);return a!==o&&c!=null&&(c=c.map(u=>Cv(Cv({},u),{},{position:Cv(Cv({},u.position),{},{offset:u.position.offset-a/2})}))),c},gce=Se([fce,OM,kne,LM,hce,bF,oce],mce),vce=(r,e,n,i)=>fu(r,"xAxis",e,i),yce=(r,e,n,i)=>fu(r,"yAxis",n,i),wce=(r,e,n,i)=>du(r,"xAxis",e,i),bce=(r,e,n,i)=>du(r,"yAxis",n,i),xce=Se([gce,Pg],(r,e)=>{if(!(r==null||e==null)){var n=r.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),_ce=(r,e)=>{var n=cE(e);if(!(!r||n==null||e==null)){var{stackId:i}=e;if(i!=null){var a=r[i];if(a){var{stackedData:o}=a;if(o)return o.find(s=>s.key===n)}}}},Ace=Se([cce,Pg],_ce),Sce=Se([Xn,vce,yce,wce,bce,xce,nr,d2,bF,Ace,Pg,sce],(r,e,n,i,a,o,s,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:y}=l;if(!(d==null||o==null||s!=="horizontal"&&s!=="vertical"||e==null||n==null||i==null||a==null||c==null)){var{data:w}=d,x;if(w!=null&&w.length>0?x=w:x=h==null?void 0:h.slice(p,y+1),x!=null)return Zle({layout:s,barSettings:d,pos:o,bandSize:c,xAxis:e,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:x,offset:r,cells:f})}}),xF=r=>{var{chartData:e}=r,n=un(),i=Pa();return P.useEffect(()=>i?()=>{}:(n(x4(e)),()=>{n(x4(void 0))}),[e,n,i]),null},t3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_F=uo({name:"brush",initialState:t3,reducers:{setBrushSettings(r,e){return e.payload==null?t3:e.payload}}}),{setBrushSettings:gve}=_F.actions,Ece=_F.reducer;function kce(r,e,n){return(e=Pce(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Pce(r){var e=Nce(r,"string");return typeof e=="symbol"?e:e+""}function Nce(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class ZE{static create(e){return new ZE(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(i)switch(i){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?e>=i&&e<=a:e>=a&&e<=i}}kce(ZE,"EPS",1e-4);function Tce(r){return(r%180+180)%180}var Cce=function(e){var{width:n,height:i}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Tce(a),s=o*Math.PI/180,l=Math.atan(i/n),c=s>l&&s<Math.PI-l?i/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Ice={dots:[],areas:[],lines:[]},AF=uo({name:"referenceElements",initialState:Ice,reducers:{addDot:(r,e)=>{r.dots.push(e.payload)},removeDot:(r,e)=>{var n=Cl(r).dots.findIndex(i=>i===e.payload);n!==-1&&r.dots.splice(n,1)},addArea:(r,e)=>{r.areas.push(e.payload)},removeArea:(r,e)=>{var n=Cl(r).areas.findIndex(i=>i===e.payload);n!==-1&&r.areas.splice(n,1)},addLine:(r,e)=>{r.lines.push(e.payload)},removeLine:(r,e)=>{var n=Cl(r).lines.findIndex(i=>i===e.payload);n!==-1&&r.lines.splice(n,1)}}}),{addDot:vve,removeDot:yve,addArea:wve,removeArea:bve,addLine:xve,removeLine:_ve}=AF.actions,jce=AF.reducer,Oce=P.createContext(void 0),Lce=r=>{var{children:e}=r,[n]=P.useState("".concat(Dm("recharts"),"-clip")),i=QE();if(i==null)return null;var{x:a,y:o,width:s,height:l}=i;return P.createElement(Oce.Provider,{value:n},P.createElement("defs",null,P.createElement("clipPath",{id:n},P.createElement("rect",{x:a,y:o,height:l,width:s}))),e)};function Yw(r,e){for(var n in r)if({}.hasOwnProperty.call(r,n)&&(!{}.hasOwnProperty.call(e,n)||r[n]!==e[n]))return!1;for(var i in e)if({}.hasOwnProperty.call(e,i)&&!{}.hasOwnProperty.call(r,i))return!1;return!0}function SF(r,e,n){if(e<1)return[];if(e===1&&n===void 0)return r;for(var i=[],a=0;a<r.length;a+=e)i.push(r[a]);return i}function Dce(r,e,n){var i={width:r.width+e.width,height:r.height+e.height};return Cce(i,n)}function Rce(r,e,n){var i=n==="width",{x:a,y:o,width:s,height:l}=r;return e===1?{start:i?a:o,end:i?a+s:o+l}:{start:i?a+s:o+l,end:i?a:o}}function N0(r,e,n,i,a){if(r*e<r*i||r*e>r*a)return!1;var o=n();return r*(e-r*o/2-i)>=0&&r*(e+r*o/2-a)<=0}function Mce(r,e){return SF(r,e+1)}function Fce(r,e,n,i,a){for(var o=(i||[]).slice(),{start:s,end:l}=e,c=0,u=1,d=s,f=function(){var y=i==null?void 0:i[c];if(y===void 0)return{v:SF(i,u)};var w=c,x,b=()=>(x===void 0&&(x=n(y,w)),x),S=y.coordinate,A=c===0||N0(r,S,b,d,l);A||(c=0,d=s,u+=1),A&&(d=S+r*(b()/2+a),c+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function r3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Bi(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(n),!0).forEach(function(i){Bce(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Bce(r,e,n){return(e=Uce(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Uce(r){var e=$ce(r,"string");return typeof e=="symbol"?e:e+""}function $ce(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function zce(r,e,n,i,a){for(var o=(i||[]).slice(),s=o.length,{start:l}=e,{end:c}=e,u=function(h){var p=o[h],y,w=()=>(y===void 0&&(y=n(p,h)),y);if(h===s-1){var x=r*(p.coordinate+r*w()/2-c);o[h]=p=Bi(Bi({},p),{},{tickCoord:x>0?p.coordinate-x*r:p.coordinate})}else o[h]=p=Bi(Bi({},p),{},{tickCoord:p.coordinate});var b=N0(r,p.tickCoord,w,l,c);b&&(c=p.tickCoord-r*(w()/2+a),o[h]=Bi(Bi({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return o}function Vce(r,e,n,i,a,o){var s=(i||[]).slice(),l=s.length,{start:c,end:u}=e;if(o){var d=i[l-1],f=n(d,l-1),h=r*(d.coordinate+r*f/2-u);s[l-1]=d=Bi(Bi({},d),{},{tickCoord:h>0?d.coordinate-h*r:d.coordinate});var p=N0(r,d.tickCoord,()=>f,c,u);p&&(u=d.tickCoord-r*(f/2+a),s[l-1]=Bi(Bi({},d),{},{isShow:!0}))}for(var y=o?l-1:l,w=function(S){var A=s[S],I,B=()=>(I===void 0&&(I=n(A,S)),I);if(S===0){var $=r*(A.coordinate-r*B()/2-c);s[S]=A=Bi(Bi({},A),{},{tickCoord:$<0?A.coordinate-$*r:A.coordinate})}else s[S]=A=Bi(Bi({},A),{},{tickCoord:A.coordinate});var D=N0(r,A.tickCoord,B,c,u);D&&(c=A.tickCoord+r*(B()/2+a),s[S]=Bi(Bi({},A),{},{isShow:!0}))},x=0;x<y;x++)w(x);return s}function JE(r,e,n){var{tick:i,ticks:a,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=r;if(!a||!a.length||!i)return[];if(He(c)||Ud.isSsr){var h;return(h=Mce(a,He(c)?c:0))!==null&&h!==void 0?h:[]}var p=[],y=l==="top"||l==="bottom"?"width":"height",w=d&&y==="width"?Zp(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(A,I)=>{var B=typeof u=="function"?u(A.value,I):A.value;return y==="width"?Dce(Zp(B,{fontSize:e,letterSpacing:n}),w,f):Zp(B,{fontSize:e,letterSpacing:n})[y]},b=a.length>=2?ui(a[1].coordinate-a[0].coordinate):1,S=Rce(o,b,y);return c==="equidistantPreserveStart"?Fce(b,S,x,a,s):(c==="preserveStart"||c==="preserveStartEnd"?p=Vce(b,S,x,a,s,c==="preserveStartEnd"):p=zce(b,S,x,a,s),p.filter(A=>A.isShow))}var qce=["viewBox"],Wce=["viewBox"];function kf(){return kf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},kf.apply(null,arguments)}function n3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Hn(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n3(Object(n),!0).forEach(function(i){ek(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function i3(r,e){if(r==null)return{};var n,i,a=Hce(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function Hce(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}function ek(r,e,n){return(e=Kce(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Kce(r){var e=Gce(r,"string");return typeof e=="symbol"?e:e+""}function Gce(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class Nu extends P.Component{constructor(e){super(e),this.tickRefs=P.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:i}=e,a=i3(e,qce),o=this.props,{viewBox:s}=o,l=i3(o,Wce);return!Yw(i,s)||!Yw(a,l)||!Yw(n,this.state)}getTickLineCoord(e){var{x:n,y:i,width:a,height:o,orientation:s,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,p,y,w,x=c?-1:1,b=e.tickSize||l,S=He(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":d=f=e.coordinate,p=i+ +!c*o,h=p-x*b,w=h-x*u,y=S;break;case"left":h=p=e.coordinate,f=n+ +!c*a,d=f-x*b,y=d-x*u,w=S;break;case"right":h=p=e.coordinate,f=n+ +c*a,d=f+x*b,y=d+x*u,w=S;break;default:d=f=e.coordinate,p=i+ +c*o,h=p+x*b,w=h+x*u,y=S;break}return{line:{x1:d,y1:h,x2:f,y2:p},tick:{x:y,y:w}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,i;switch(e){case"left":i=n?"start":"end";break;case"right":i=n?"end":"start";break;default:i="middle";break}return i}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:i,height:a,orientation:o,mirror:s,axisLine:l}=this.props,c=Hn(Hn(Hn({},tn(this.props,!1)),tn(l,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var u=+(o==="top"&&!s||o==="bottom"&&s);c=Hn(Hn({},c),{},{x1:e,y1:n+u*a,x2:e+i,y2:n+u*a})}else{var d=+(o==="left"&&!s||o==="right"&&s);c=Hn(Hn({},c),{},{x1:e+d*i,y1:n,x2:e+d*i,y2:n+a})}return P.createElement("line",kf({},c,{className:fr("recharts-cartesian-axis-line",uu(l,"className"))}))}static renderTickItem(e,n,i){var a,o=fr(n.className,"recharts-cartesian-axis-tick-value");if(P.isValidElement(e))a=P.cloneElement(e,Hn(Hn({},n),{},{className:o}));else if(typeof e=="function")a=e(Hn(Hn({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=fr(s,e.className)),a=P.createElement(_2,kf({},n,{className:s}),i)}return a}renderTicks(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:o,tick:s,tickFormatter:l,unit:c,padding:u}=this.props,d=JE(Hn(Hn({},this.props),{},{ticks:i}),e,n),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=Yl(this.props),y=tn(s,!1),w=Hn(Hn({},p),{},{fill:"none"},tn(a,!1)),x=d.map((b,S)=>{var{line:A,tick:I}=this.getTickLineCoord(b),B=Hn(Hn(Hn(Hn({textAnchor:f,verticalAnchor:h},p),{},{stroke:"none",fill:o},y),I),{},{index:S,payload:b,visibleTicksCount:d.length,tickFormatter:l,padding:u});return P.createElement(Ki,kf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},fg(this.props,b,S)),a&&P.createElement("line",kf({},w,A,{className:fr("recharts-cartesian-axis-tick-line",uu(a,"className"))})),s&&Nu.renderTickItem(s,B,"".concat(typeof l=="function"?l(b.value,S):b.value).concat(c||"")))});return x.length>0?P.createElement("g",{className:"recharts-cartesian-axis-ticks"},x):null}render(){var{axisLine:e,width:n,height:i,className:a,hide:o}=this.props;if(o)return null;var{ticks:s}=this.props;return n!=null&&n<=0||i!=null&&i<=0?null:P.createElement(Ki,{className:fr("recharts-cartesian-axis",a),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),Ga.renderCallByParent(this.props))}}ek(Nu,"displayName","CartesianAxis");ek(Nu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Yce=["x1","y1","x2","y2","key"],Qce=["offset"],Xce=["xAxisId","yAxisId"],Zce=["xAxisId","yAxisId"];function a3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function qi(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a3(Object(n),!0).forEach(function(i){Jce(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Jce(r,e,n){return(e=eue(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function eue(r){var e=tue(r,"string");return typeof e=="symbol"?e:e+""}function tue(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function od(){return od=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},od.apply(null,arguments)}function T0(r,e){if(r==null)return{};var n,i,a=rue(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function rue(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}var nue=r=>{var{fill:e}=r;if(!e||e==="none")return null;var{fillOpacity:n,x:i,y:a,width:o,height:s,ry:l}=r;return P.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function EF(r,e){var n;if(P.isValidElement(r))n=P.cloneElement(r,e);else if(typeof r=="function")n=r(e);else{var{x1:i,y1:a,x2:o,y2:s,key:l}=e,c=T0(e,Yce),u=Yl(c),{offset:d}=u,f=T0(u,Qce);n=P.createElement("line",od({},f,{x1:i,y1:a,x2:o,y2:s,fill:"none",key:l}))}return n}function iue(r){var{x:e,width:n,horizontal:i=!0,horizontalPoints:a}=r;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=r,l=T0(r,Xce),c=a.map((u,d)=>{var f=qi(qi({},l),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(d),index:d});return EF(i,f)});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function aue(r){var{y:e,height:n,vertical:i=!0,verticalPoints:a}=r;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=r,l=T0(r,Zce),c=a.map((u,d)=>{var f=qi(qi({},l),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(d),index:d});return EF(i,f)});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function oue(r){var{horizontalFill:e,fillOpacity:n,x:i,y:a,width:o,height:s,horizontalPoints:l,horizontal:c=!0}=r;if(!c||!e||!e.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],y=p?a+s-f:u[h+1]-f;if(y<=0)return null;var w=h%e.length;return P.createElement("rect",{key:"react-".concat(h),y:f,x:i,height:y,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function sue(r){var{vertical:e=!0,verticalFill:n,fillOpacity:i,x:a,y:o,width:s,height:l,verticalPoints:c}=r;if(!e||!n||!n.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],y=p?a+s-f:u[h+1]-f;if(y<=0)return null;var w=h%n.length;return P.createElement("rect",{key:"react-".concat(h),x:f,y:o,width:y,height:l,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var lue=(r,e)=>{var{xAxis:n,width:i,height:a,offset:o}=r;return u8(JE(qi(qi(qi({},Nu.defaultProps),n),{},{ticks:d8(n),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,e)},cue=(r,e)=>{var{yAxis:n,width:i,height:a,offset:o}=r;return u8(JE(qi(qi(qi({},Nu.defaultProps),n),{},{ticks:d8(n),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,e)},uue={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function iy(r){var e=kS(),n=PS(),i=g8(),a=qi(qi({},fo(r,uue)),{},{x:He(r.x)?r.x:i.left,y:He(r.y)?r.y:i.top,width:He(r.width)?r.width:i.width,height:He(r.height)?r.height:i.height}),{xAxisId:o,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=a,y=Pa(),w=it(O=>h4(O,"xAxis",o,y)),x=it(O=>h4(O,"yAxis",s,y));if(!He(u)||u<=0||!He(d)||d<=0||!He(l)||l!==+l||!He(c)||c!==+c)return null;var b=a.verticalCoordinatesGenerator||lue,S=a.horizontalCoordinatesGenerator||cue,{horizontalPoints:A,verticalPoints:I}=a;if((!A||!A.length)&&typeof S=="function"){var B=h&&h.length,$=S({yAxis:x?qi(qi({},x),{},{ticks:B?h:x.ticks}):void 0,width:e,height:n,offset:i},B?!0:f);Xp(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(A=$)}if((!I||!I.length)&&typeof b=="function"){var D=p&&p.length,j=b({xAxis:w?qi(qi({},w),{},{ticks:D?p:w.ticks}):void 0,width:e,height:n,offset:i},D?!0:f);Xp(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(I=j)}return P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(nue,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),P.createElement(oue,od({},a,{horizontalPoints:A})),P.createElement(sue,od({},a,{verticalPoints:I})),P.createElement(iue,od({},a,{offset:i,horizontalPoints:A,xAxis:w,yAxis:x})),P.createElement(aue,od({},a,{offset:i,verticalPoints:I,xAxis:w,yAxis:x})))}iy.displayName="CartesianGrid";var kF=(r,e,n,i)=>fu(r,"xAxis",e,i),PF=(r,e,n,i)=>du(r,"xAxis",e,i),NF=(r,e,n,i)=>fu(r,"yAxis",n,i),TF=(r,e,n,i)=>du(r,"yAxis",n,i),due=Se([nr,kF,NF,PF,TF],(r,e,n,i,a)=>Au(r,"xAxis")?Fm(e,i,!1):Fm(n,a,!1)),fue=(r,e,n,i,a)=>a;function hue(r){return r.type==="line"}var pue=Se([g2,fue],(r,e)=>r.filter(hue).find(n=>n.id===e)),mue=Se([nr,kF,NF,PF,TF,pue,due,d2],(r,e,n,i,a,o,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(o==null||e==null||n==null||i==null||a==null||i.length===0||a.length===0||s==null)){var{dataKey:f,data:h}=o,p;if(h!=null&&h.length>0?p=h:p=c==null?void 0:c.slice(u,d+1),p!=null)return Rue({layout:r,xAxis:e,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:p})}}),gue=["id"],vue=["type","layout","connectNulls","needClip"],yue=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function o3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function rs(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(n),!0).forEach(function(i){wue(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function wue(r,e,n){return(e=bue(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function bue(r){var e=xue(r,"string");return typeof e=="symbol"?e:e+""}function xue(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function tk(r,e){if(r==null)return{};var n,i,a=_ue(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function _ue(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}function Id(){return Id=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Id.apply(null,arguments)}var Aue=r=>{var{dataKey:e,name:n,stroke:i,legendType:a,hide:o}=r;return[{inactive:o,dataKey:e,type:a,color:i,value:Th(n,e),payload:r}]};function Sue(r){var{dataKey:e,data:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,unit:c}=r;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:void 0,name:Th(s,e),hide:l,type:r.tooltipType,color:r.stroke,unit:c}}}var CF=(r,e)=>"".concat(e,"px ").concat(r-e,"px");function Eue(r,e){for(var n=r.length%2!==0?[...r,0]:r,i=[],a=0;a<e;++a)i=[...i,...n];return i}var kue=(r,e,n)=>{var i=n.reduce((f,h)=>f+h);if(!i)return CF(e,r);for(var a=Math.floor(r/i),o=r%i,s=e-r,l=[],c=0,u=0;c<n.length;u+=n[c],++c)if(u+n[c]>o){l=[...n.slice(0,c),o-u];break}var d=l.length%2===0?[0,s]:[s];return[...Eue(n,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function Pue(r,e){var n;if(P.isValidElement(r))n=P.cloneElement(r,e);else if(typeof r=="function")n=r(e);else{var i=fr("recharts-line-dot",typeof r!="boolean"?r.className:"");n=P.createElement(tF,Id({},e,{className:i}))}return n}function Nue(r,e){return r==null?!1:e?!0:r.length===1}function Tue(r){var{clipPathId:e,points:n,props:i}=r,{dot:a,dataKey:o,needClip:s}=i;if(!Nue(n,a))return null;var{id:l}=i,c=tk(i,gue),u=WD(a),d=Yl(c),f=tn(a,!0),h=n.map((y,w)=>{var x=rs(rs(rs({key:"dot-".concat(w),r:3},d),f),{},{index:w,cx:y.x,cy:y.y,dataKey:o,value:y.value,payload:y.payload,points:n});return Pue(a,x)}),p={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(e,")"):void 0};return P.createElement(Ki,Id({className:"recharts-line-dots",key:"dots"},p),h)}function D5(r){var{clipPathId:e,pathRef:n,points:i,strokeDasharray:a,props:o,showLabels:s}=r,{type:l,layout:c,connectNulls:u,needClip:d}=o,f=tk(o,vue),h=rs(rs({},tn(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:i,type:l,layout:c,connectNulls:u,strokeDasharray:a??o.strokeDasharray});return P.createElement(P.Fragment,null,(i==null?void 0:i.length)>1&&P.createElement(TS,Id({},h,{pathRef:n})),P.createElement(Tue,{points:i,clipPathId:e,props:o}),s&&ru.renderCallByParent(o,i))}function Cue(r){try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}function Iue(r){var{clipPathId:e,props:n,pathRef:i,previousPointsRef:a,longestAnimatedLengthRef:o}=r,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:p,height:y,onAnimationEnd:w,onAnimationStart:x}=n,b=a.current,S=HE(n,"recharts-line-"),[A,I]=P.useState(!1),B=P.useCallback(()=>{typeof w=="function"&&w(),I(!1)},[w]),$=P.useCallback(()=>{typeof x=="function"&&x(),I(!0)},[x]),D=Cue(i.current),j=o.current;return P.createElement(GE,{begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:B,onAnimationStart:$,key:S},O=>{var U=ts(j,D+j,O),T=Math.min(U,D),L;if(l){var C="".concat(l).split(/[,\s]+/gim).map(se=>parseFloat(se));L=kue(T,D,C)}else L=CF(D,T);if(b){var Y=b.length/s.length,oe=O===1?s:s.map((se,pe)=>{var X=Math.floor(pe*Y);if(b[X]){var le=b[X];return rs(rs({},se),{},{x:ts(le.x,se.x,O),y:ts(le.y,se.y,O)})}return h?rs(rs({},se),{},{x:ts(p*2,se.x,O),y:ts(y/2,se.y,O)}):rs(rs({},se),{},{x:se.x,y:se.y})});return a.current=oe,P.createElement(D5,{props:n,points:oe,clipPathId:e,pathRef:i,showLabels:!A,strokeDasharray:L})}return O>0&&D>0&&(a.current=s,o.current=T),P.createElement(D5,{props:n,points:s,clipPathId:e,pathRef:i,showLabels:!A,strokeDasharray:L})})}function jue(r){var{clipPathId:e,props:n}=r,{points:i,isAnimationActive:a}=n,o=P.useRef(null),s=P.useRef(0),l=P.useRef(null),c=o.current;return a&&i&&i.length&&c!==i?P.createElement(Iue,{props:n,clipPathId:e,previousPointsRef:o,longestAnimatedLengthRef:s,pathRef:l}):P.createElement(D5,{props:n,points:i,clipPathId:e,pathRef:l,showLabels:!0})}var Oue=(r,e)=>({x:r.x,y:r.y,value:r.value,errorVal:Cr(r.payload,e)});class Lue extends P.Component{render(){var e,{hide:n,dot:i,points:a,className:o,xAxisId:s,yAxisId:l,top:c,left:u,width:d,height:f,id:h,needClip:p}=this.props;if(n)return null;var y=fr("recharts-line",o),w=h,{r:x=3,strokeWidth:b=2}=(e=tn(i,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},S=WD(i),A=x*2+b;return P.createElement(P.Fragment,null,P.createElement(Ki,{className:y},p&&P.createElement("defs",null,P.createElement(vF,{clipPathId:w,xAxisId:s,yAxisId:l}),!S&&P.createElement("clipPath",{id:"clipPath-dots-".concat(w)},P.createElement("rect",{x:u-A/2,y:c-A/2,width:d+A,height:f+A}))),P.createElement(jue,{props:this.props,clipPathId:w}),P.createElement(gF,{xAxisId:s,yAxisId:l,data:a,dataPointFormatter:Oue,errorBarOffset:0},this.props.children)),P.createElement(vle,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var IF={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ud.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Due(r){var e=fo(r,IF),{activeDot:n,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:p,yAxisId:y,id:w}=e,x=tk(e,yue),{needClip:b}=XE(p,y),S=QE(),A=n2(),I=Pa(),B=it(U=>mue(U,p,y,I,w));if(A!=="horizontal"&&A!=="vertical"||B==null||S==null)return null;var{height:$,width:D,x:j,y:O}=S;return P.createElement(Lue,Id({},x,{id:w,connectNulls:l,dot:c,activeDot:n,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:p,yAxisId:y,points:B,layout:A,height:$,width:D,left:j,top:O,needClip:b}))}function Rue(r){var{layout:e,xAxis:n,yAxis:i,xAxisTicks:a,yAxisTicks:o,dataKey:s,bandSize:l,displayedData:c}=r;return c.map((u,d)=>{var f=Cr(u,s);if(e==="horizontal"){var h=eC({axis:n,ticks:a,bandSize:l,entry:u,index:d}),p=Gr(f)?null:i.scale(f);return{x:h,y:p,value:f,payload:u}}var y=Gr(f)?null:n.scale(f),w=eC({axis:i,ticks:o,bandSize:l,entry:u,index:d});return y==null||w==null?null:{x:y,y:w,value:f,payload:u}}).filter(Boolean)}function jF(r){var e=fo(r,IF),n=Pa();return P.createElement(KE,{id:e.id,type:"line"},i=>P.createElement(P.Fragment,null,P.createElement(cF,{legendPayload:Aue(e)}),P.createElement(WE,{fn:Sue,args:e}),P.createElement(dF,{type:"line",id:i,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),P.createElement(Due,Id({},e,{id:i}))))}jF.displayName="Line";function s3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function l3(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s3(Object(n),!0).forEach(function(i){Mue(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):s3(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Mue(r,e,n){return(e=Fue(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Fue(r){var e=Bue(r,"string");return typeof e=="symbol"?e:e+""}function Bue(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Uue={xAxis:{},yAxis:{},zAxis:{}},OF=uo({name:"cartesianAxis",initialState:Uue,reducers:{addXAxis(r,e){r.xAxis[e.payload.id]=e.payload},removeXAxis(r,e){delete r.xAxis[e.payload.id]},addYAxis(r,e){r.yAxis[e.payload.id]=e.payload},removeYAxis(r,e){delete r.yAxis[e.payload.id]},addZAxis(r,e){r.zAxis[e.payload.id]=e.payload},removeZAxis(r,e){delete r.zAxis[e.payload.id]},updateYAxisWidth(r,e){var{id:n,width:i}=e.payload;r.yAxis[n]&&(r.yAxis[n]=l3(l3({},r.yAxis[n]),{},{width:i}))}}}),{addXAxis:$ue,removeXAxis:zue,addYAxis:Vue,removeYAxis:que,addZAxis:Ave,removeZAxis:Sve,updateYAxisWidth:Wue}=OF.actions,Hue=OF.reducer,Kue=["children"],Gue=["dangerouslySetInnerHTML","ticks"];function LF(r,e,n){return(e=Yue(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Yue(r){var e=Que(r,"string");return typeof e=="symbol"?e:e+""}function Que(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function R5(){return R5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},R5.apply(null,arguments)}function DF(r,e){if(r==null)return{};var n,i,a=Xue(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function Xue(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}function Zue(r){var e=un(),n=P.useMemo(()=>{var{children:o}=r,s=DF(r,Kue);return s},[r]),i=it(o=>Jl(o,n.id)),a=n===i;return P.useEffect(()=>(e($ue(n)),()=>{e(zue(n))}),[n,e]),a?r.children:null}var Jue=r=>{var{xAxisId:e,className:n}=r,i=it(m8),a=Pa(),o="xAxis",s=it(p=>Rh(p,o,e,a)),l=it(p=>h7(p,o,e,a)),c=it(p=>c7(p,e)),u=it(p=>vie(p,e));if(c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=r,h=DF(r,Gue);return P.createElement(Nu,R5({},h,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:fr("recharts-".concat(o," ").concat(o),n),viewBox:i,ticks:l}))},ede=r=>{var e,n,i,a,o;return P.createElement(Zue,{interval:(e=r.interval)!==null&&e!==void 0?e:"preserveEnd",id:r.xAxisId,scale:r.scale,type:r.type,padding:r.padding,allowDataOverflow:r.allowDataOverflow,domain:r.domain,dataKey:r.dataKey,allowDuplicatedCategory:r.allowDuplicatedCategory,allowDecimals:r.allowDecimals,tickCount:r.tickCount,includeHidden:(n=r.includeHidden)!==null&&n!==void 0?n:!1,reversed:r.reversed,ticks:r.ticks,height:r.height,orientation:r.orientation,mirror:r.mirror,hide:r.hide,unit:r.unit,name:r.name,angle:(i=r.angle)!==null&&i!==void 0?i:0,minTickGap:(a=r.minTickGap)!==null&&a!==void 0?a:5,tick:(o=r.tick)!==null&&o!==void 0?o:!0,tickFormatter:r.tickFormatter},P.createElement(Jue,r))};class Jp extends P.Component{render(){return P.createElement(ede,this.props)}}LF(Jp,"displayName","XAxis");LF(Jp,"defaultProps",{allowDataOverflow:qa.allowDataOverflow,allowDecimals:qa.allowDecimals,allowDuplicatedCategory:qa.allowDuplicatedCategory,height:qa.height,hide:!1,mirror:qa.mirror,orientation:qa.orientation,padding:qa.padding,reversed:qa.reversed,scale:qa.scale,tickCount:qa.tickCount,type:qa.type,xAxisId:0});var tde=r=>{var{ticks:e,label:n,labelGapWithTick:i=5,tickSize:a=0,tickMargin:o=0}=r,s=0;if(e){e.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var l=n?n.getBoundingClientRect().width:0,c=a+o,u=s+c+l+(n?i:0);return Math.round(u)}return 0},rde=["dangerouslySetInnerHTML","ticks"];function RF(r,e,n){return(e=nde(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function nde(r){var e=ide(r,"string");return typeof e=="symbol"?e:e+""}function ide(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function M5(){return M5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},M5.apply(null,arguments)}function ade(r,e){if(r==null)return{};var n,i,a=ode(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function ode(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}function sde(r){var e=un();return P.useEffect(()=>(e(Vue(r)),()=>{e(que(r))}),[r,e]),null}var lde=r=>{var e,{yAxisId:n,className:i,width:a,label:o}=r,s=P.useRef(null),l=P.useRef(null),c=it(m8),u=Pa(),d=un(),f="yAxis",h=it(A=>Rh(A,f,n,u)),p=it(A=>u7(A,n)),y=it(A=>yie(A,n)),w=it(A=>h7(A,f,n,u));if(P.useLayoutEffect(()=>{var A;if(!(a!=="auto"||!p||ME(o)||P.isValidElement(o))){var I=s.current,B=I==null||(A=I.tickRefs)===null||A===void 0?void 0:A.current,{tickSize:$,tickMargin:D}=I.props,j=tde({ticks:B,label:l.current,labelGapWithTick:5,tickSize:$,tickMargin:D});Math.round(p.width)!==Math.round(j)&&d(Wue({id:n,width:j}))}},[s,s==null||(e=s.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,p==null?void 0:p.width,p,d,o,n,a]),p==null||y==null)return null;var{dangerouslySetInnerHTML:x,ticks:b}=r,S=ade(r,rde);return P.createElement(Nu,M5({},S,{ref:s,labelRef:l,scale:h,x:y.x,y:y.y,width:p.width,height:p.height,className:fr("recharts-".concat(f," ").concat(f),i),viewBox:c,ticks:w}))},cde=r=>{var e,n,i,a,o;return P.createElement(P.Fragment,null,P.createElement(sde,{interval:(e=r.interval)!==null&&e!==void 0?e:"preserveEnd",id:r.yAxisId,scale:r.scale,type:r.type,domain:r.domain,allowDataOverflow:r.allowDataOverflow,dataKey:r.dataKey,allowDuplicatedCategory:r.allowDuplicatedCategory,allowDecimals:r.allowDecimals,tickCount:r.tickCount,padding:r.padding,includeHidden:(n=r.includeHidden)!==null&&n!==void 0?n:!1,reversed:r.reversed,ticks:r.ticks,width:r.width,orientation:r.orientation,mirror:r.mirror,hide:r.hide,unit:r.unit,name:r.name,angle:(i=r.angle)!==null&&i!==void 0?i:0,minTickGap:(a=r.minTickGap)!==null&&a!==void 0?a:5,tick:(o=r.tick)!==null&&o!==void 0?o:!0,tickFormatter:r.tickFormatter}),P.createElement(lde,r))},ude={allowDataOverflow:Wa.allowDataOverflow,allowDecimals:Wa.allowDecimals,allowDuplicatedCategory:Wa.allowDuplicatedCategory,hide:!1,mirror:Wa.mirror,orientation:Wa.orientation,padding:Wa.padding,reversed:Wa.reversed,scale:Wa.scale,tickCount:Wa.tickCount,type:Wa.type,width:Wa.width,yAxisId:0};class em extends P.Component{render(){return P.createElement(cde,this.props)}}RF(em,"displayName","YAxis");RF(em,"defaultProps",ude);var dde={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng=P;function fde(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var hde=typeof Object.is=="function"?Object.is:fde,pde=Ng.useSyncExternalStore,mde=Ng.useRef,gde=Ng.useEffect,vde=Ng.useMemo,yde=Ng.useDebugValue;dde.useSyncExternalStoreWithSelector=function(r,e,n,i,a){var o=mde(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=vde(function(){function c(p){if(!u){if(u=!0,d=p,p=i(p),a!==void 0&&s.hasValue){var y=s.value;if(a(y,p))return f=y}return f=p}if(y=f,hde(d,p))return y;var w=i(p);return a!==void 0&&a(y,w)?(d=p,y):(d=p,f=w)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,i,a]);var l=pde(r,o[0],o[1]);return gde(function(){s.hasValue=!0,s.value=l},[l]),yde(l),l};function wde(r){r()}function bde(){let r=null,e=null;return{clear(){r=null,e=null},notify(){wde(()=>{let n=r;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=r;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:r=a,function(){!i||r===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var c3={notify(){},get:()=>[]};function xde(r,e){let n,i=c3,a=0,o=!1;function s(w){d();const x=i.subscribe(w);let b=!1;return()=>{b||(b=!0,x(),f())}}function l(){i.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return o}function d(){a++,n||(n=r.subscribe(c),i=bde())}function f(){a--,n&&a===0&&(n(),n=void 0,i.clear(),i=c3)}function h(){o||(o=!0,d())}function p(){o&&(o=!1,f())}const y={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>i};return y}var _de=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ade=_de(),Sde=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ede=Sde(),kde=()=>Ade||Ede?P.useLayoutEffect:P.useEffect,Pde=kde(),Qw=Symbol.for("react-redux-context"),Xw=typeof globalThis<"u"?globalThis:{};function Nde(){if(!P.createContext)return{};const r=Xw[Qw]??(Xw[Qw]=new Map);let e=r.get(P.createContext);return e||(e=P.createContext(null),r.set(P.createContext,e)),e}var Tde=Nde();function Cde(r){const{children:e,context:n,serverState:i,store:a}=r,o=P.useMemo(()=>{const c=xde(a);return{store:a,subscription:c,getServerState:i?()=>i:void 0}},[a,i]),s=P.useMemo(()=>a.getState(),[a]);Pde(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,s]);const l=n||Tde;return P.createElement(l.Provider,{value:o},e)}var Ide=Cde,jde=(r,e)=>e,rk=Se([jde,nr,UM,Jn,N7,ec,Aae,Xn],Nae),nk=r=>{var e=r.currentTarget.getBoundingClientRect(),n=e.width/r.currentTarget.offsetWidth,i=e.height/r.currentTarget.offsetHeight;return{chartX:Math.round((r.clientX-e.left)/n),chartY:Math.round((r.clientY-e.top)/i)}},MF=Lo("mouseClick"),FF=pg();FF.startListening({actionCreator:MF,effect:(r,e)=>{var n=r.payload,i=rk(e.getState(),nk(n));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(Iie({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var F5=Lo("mouseMove"),BF=pg();BF.startListening({actionCreator:F5,effect:(r,e)=>{var n=r.payload,i=e.getState(),a=PE(i,i.tooltip.settings.shared),o=rk(i,nk(n));a==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(x7({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(b7()))}});function Ode(r,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var u3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},UF=uo({name:"rootProps",initialState:u3,reducers:{updateOptions:(r,e)=>{var n;r.accessibilityLayer=e.payload.accessibilityLayer,r.barCategoryGap=e.payload.barCategoryGap,r.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:u3.barGap,r.barSize=e.payload.barSize,r.maxBarSize=e.payload.maxBarSize,r.stackOffset=e.payload.stackOffset,r.syncId=e.payload.syncId,r.syncMethod=e.payload.syncMethod,r.className=e.payload.className}}}),Lde=UF.reducer,{updateOptions:Dde}=UF.actions,$F=uo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(r,e)=>e.payload}}),{updatePolarOptions:Rde}=$F.actions,Mde=$F.reducer,zF=Lo("keyDown"),VF=Lo("focus"),ik=pg();ik.startListening({actionCreator:zF,effect:(r,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:a}=n.tooltip,o=r.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=Number(NE(a,Fh(n))),l=ec(n);if(o==="Enter"){var c=A0(n,"axis","hover",String(a.index));e.dispatch(N5({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=_ie(n),d=u==="left-to-right"?1:-1,f=o==="ArrowRight"?1:-1,h=s+f*d;if(!(l==null||h>=l.length||h<0)){var p=A0(n,"axis","hover",String(h));e.dispatch(N5({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});ik.startListening({actionCreator:VF,effect:(r,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var o="0",s=A0(n,"axis","hover",String(o));e.dispatch(N5({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var So=Lo("externalEvent"),qF=pg();qF.startListening({actionCreator:So,effect:(r,e)=>{if(r.payload.handler!=null){var n=e.getState(),i={activeCoordinate:hae(n),activeDataKey:j7(n),activeIndex:hu(n),activeLabel:I7(n),activeTooltipIndex:hu(n),isTooltipActive:pae(n)};r.payload.handler(i,r.payload.reactEvent)}}});var Fde=Se([Mh],r=>r.tooltipItemPayloads),Bde=Se([Fde,Sg,(r,e,n)=>e,(r,e,n)=>n],(r,e,n,i)=>{var a=r.find(l=>l.settings.dataKey===i);if(a!=null){var{positions:o}=a;if(o!=null){var s=e(o,n);return s}}}),WF=Lo("touchMove"),HF=pg();HF.startListening({actionCreator:WF,effect:(r,e)=>{var n=r.payload,i=e.getState(),a=PE(i,i.tooltip.settings.shared);if(a==="axis"){var o=rk(i,nk({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(x7({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(h8),d=(s=c.getAttribute(p8))!==null&&s!==void 0?s:void 0,f=Bde(e.getState(),u,d);e.dispatch(w7({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var Ude=BR({brush:Ece,cartesianAxis:Hue,chartData:Vae,errorBars:Tle,graphicalItems:Fse,layout:jZ,legend:wJ,options:Fae,polarAxis:ose,polarOptions:Mde,referenceElements:jce,rootProps:Lde,tooltip:jie}),$de=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return nZ({reducer:Ude,preloadedState:e,middleware:i=>i({serializableCheck:!1}).concat([FF.middleware,BF.middleware,ik.middleware,qF.middleware,HF.middleware]),devTools:{serialize:{replacer:Ode},name:"recharts-".concat(n)}})};function KF(r){var{preloadedState:e,children:n,reduxStoreName:i}=r,a=Pa(),o=P.useRef(null);if(a)return n;o.current==null&&(o.current=$de(e,i));var s=mS;return P.createElement(Ide,{context:s,store:o.current},n)}function GF(r){var{layout:e,width:n,height:i,margin:a}=r,o=un(),s=Pa();return P.useEffect(()=>{s||(o(TZ(e)),o(CZ({width:n,height:i})),o(NZ(a)))},[o,s,e,n,i,a]),null}function YF(r){var e=un();return P.useEffect(()=>{e(Dde(r))},[e,r]),null}var zde=["children"];function Vde(r,e){if(r==null)return{};var n,i,a=qde(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function qde(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}function C0(){return C0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},C0.apply(null,arguments)}var Wde={width:"100%",height:"100%"},Hde=P.forwardRef((r,e)=>{var n=kS(),i=PS(),a=b8();if(!ch(n)||!ch(i))return null;var{children:o,otherAttributes:s,title:l,desc:c}=r,u,d;return typeof s.tabIndex=="number"?u=s.tabIndex:u=a?0:void 0,typeof s.role=="string"?d=s.role:d=a?"application":void 0,P.createElement(tS,C0({},s,{title:l,desc:c,role:d,tabIndex:u,width:n,height:i,style:Wde,ref:e}),o)}),Kde=r=>{var{children:e}=r,n=it(r2);if(!n)return null;var{width:i,height:a,y:o,x:s}=n;return P.createElement(tS,{width:i,height:a,x:s,y:o},e)},d3=P.forwardRef((r,e)=>{var{children:n}=r,i=Vde(r,zde),a=Pa();return a?P.createElement(Kde,null,n):P.createElement(Hde,C0({ref:e},i),n)});function Gde(){var r=un(),[e,n]=P.useState(null),i=it(sJ);return P.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),o=a.width/e.offsetWidth;oo(o)&&o!==i&&r(IZ(o))}},[e,r,i]),n}function f3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Yde(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(n),!0).forEach(function(i){Qde(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Qde(r,e,n){return(e=Xde(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Xde(r){var e=Zde(r,"string");return typeof e=="symbol"?e:e+""}function Zde(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Jde=P.forwardRef((r,e)=>{var{children:n,className:i,height:a,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:y,onTouchStart:w,style:x,width:b}=r,S=un(),[A,I]=P.useState(null),[B,$]=P.useState(null);Hae();var D=Gde(),j=P.useCallback(M=>{D(M),typeof e=="function"&&e(M),I(M),$(M)},[D,e,I,$]),O=P.useCallback(M=>{S(MF(M)),S(So({handler:o,reactEvent:M}))},[S,o]),U=P.useCallback(M=>{S(F5(M)),S(So({handler:u,reactEvent:M}))},[S,u]),T=P.useCallback(M=>{S(b7()),S(So({handler:d,reactEvent:M}))},[S,d]),L=P.useCallback(M=>{S(F5(M)),S(So({handler:f,reactEvent:M}))},[S,f]),C=P.useCallback(()=>{S(VF())},[S]),Y=P.useCallback(M=>{S(zF(M.key))},[S]),oe=P.useCallback(M=>{S(So({handler:s,reactEvent:M}))},[S,s]),se=P.useCallback(M=>{S(So({handler:l,reactEvent:M}))},[S,l]),pe=P.useCallback(M=>{S(So({handler:c,reactEvent:M}))},[S,c]),X=P.useCallback(M=>{S(So({handler:h,reactEvent:M}))},[S,h]),le=P.useCallback(M=>{S(So({handler:w,reactEvent:M}))},[S,w]),ie=P.useCallback(M=>{S(WF(M)),S(So({handler:y,reactEvent:M}))},[S,y]),ne=P.useCallback(M=>{S(So({handler:p,reactEvent:M}))},[S,p]);return P.createElement(F7.Provider,{value:A},P.createElement(HD.Provider,{value:B},P.createElement("div",{className:fr("recharts-wrapper",i),style:Yde({position:"relative",cursor:"default",width:b,height:a},x),onClick:O,onContextMenu:oe,onDoubleClick:se,onFocus:C,onKeyDown:Y,onMouseDown:pe,onMouseEnter:U,onMouseLeave:T,onMouseMove:L,onMouseUp:X,onTouchEnd:ne,onTouchMove:ie,onTouchStart:le,ref:j},n)))}),efe=["children","className","width","height","style","compact","title","desc"];function tfe(r,e){if(r==null)return{};var n,i,a=rfe(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function rfe(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}var QF=P.forwardRef((r,e)=>{var{children:n,className:i,width:a,height:o,style:s,compact:l,title:c,desc:u}=r,d=tfe(r,efe),f=Yl(d);return l?P.createElement(d3,{otherAttributes:f,title:c,desc:u},n):P.createElement(Jde,{className:i,style:s,width:a,height:o,onClick:r.onClick,onMouseLeave:r.onMouseLeave,onMouseEnter:r.onMouseEnter,onMouseMove:r.onMouseMove,onMouseDown:r.onMouseDown,onMouseUp:r.onMouseUp,onContextMenu:r.onContextMenu,onDoubleClick:r.onDoubleClick,onTouchStart:r.onTouchStart,onTouchMove:r.onTouchMove,onTouchEnd:r.onTouchEnd},P.createElement(d3,{otherAttributes:f,title:c,desc:u,ref:e},P.createElement(Lce,null,n)))}),nfe=["width","height"];function B5(){return B5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},B5.apply(null,arguments)}function ife(r,e){if(r==null)return{};var n,i,a=afe(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function afe(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}var ofe={top:5,right:5,bottom:5,left:5},sfe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ofe,reverseStackOrder:!1,syncMethod:"index"},XF=P.forwardRef(function(e,n){var i,a=fo(e.categoricalChartProps,sfe),{width:o,height:s}=a,l=ife(a,nfe);if(!ch(o)||!ch(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return P.createElement(KF,{preloadedState:{options:p},reduxStoreName:(i=h.id)!==null&&i!==void 0?i:c},P.createElement(xF,{chartData:h.data}),P.createElement(GF,{width:o,height:s,layout:a.layout,margin:a.margin}),P.createElement(YF,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),P.createElement(QF,B5({},l,{width:o,height:s,ref:n})))}),lfe=["axis"],cfe=P.forwardRef((r,e)=>P.createElement(XF,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lfe,tooltipPayloadSearcher:RE,categoricalChartProps:r,ref:e})),ufe=["axis","item"],h3=P.forwardRef((r,e)=>P.createElement(XF,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ufe,tooltipPayloadSearcher:RE,categoricalChartProps:r,ref:e}));function dfe(r){var e=un();return P.useEffect(()=>{e(Rde(r))},[e,r]),null}var ffe=["width","height","layout"];function U5(){return U5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},U5.apply(null,arguments)}function hfe(r,e){if(r==null)return{};var n,i,a=pfe(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function pfe(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}var mfe={top:5,right:5,bottom:5,left:5},gfe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mfe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},vfe=P.forwardRef(function(e,n){var i,a=fo(e.categoricalChartProps,gfe),{width:o,height:s,layout:l}=a,c=hfe(a,ffe);if(!ch(o)||!ch(s))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,p={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return P.createElement(KF,{preloadedState:{options:p},reduxStoreName:(i=a.id)!==null&&i!==void 0?i:u},P.createElement(xF,{chartData:a.data}),P.createElement(GF,{width:o,height:s,layout:l,margin:a.margin}),P.createElement(YF,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),P.createElement(dfe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),P.createElement(QF,U5({width:o,height:s},c,{ref:n})))}),yfe=["item"],wfe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},bfe=P.forwardRef((r,e)=>{var n=fo(r,wfe);return P.createElement(vfe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:yfe,tooltipPayloadSearcher:RE,categoricalChartProps:n,ref:e})});const Ac=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],ZF=({shipments:r,isAdmin:e=!1})=>{const{translations:n}=Fo(),i=P.useRef([]),[a,o]=cj.useState([]);P.useEffect(()=>{if(!r||!Array.isArray(r)){o([]);return}const b=JSON.stringify(r.map(A=>({id:A.id,cliente:A.cliente,status:A.status,armador:A.armador}))),S=JSON.stringify(i.current.map(A=>({id:A.id,cliente:A.cliente,status:A.status,armador:A.armador})));if(b!==S){const A=setTimeout(()=>{o(r),i.current=r},100);return()=>clearTimeout(A)}},[r]);const s=P.useMemo(()=>!a||!Array.isArray(a)||a.length===0?[]:a.filter(b=>b&&typeof b=="object"),[a]),l=()=>{if(s.length===0)return[];const b={};return s.forEach(S=>{const A=S.status||"No definido";b[A]=(b[A]||0)+1}),Object.entries(b).map(([S,A],I)=>({name:S,value:A,color:Ac[I%Ac.length]}))},c=()=>{if(s.length===0)return[];const b={};return s.forEach(S=>{if(S.etdOrigem){const A=new Date(S.etdOrigem),I=`${A.getMonth()+1}/${A.getFullYear()}`;b[I]=(b[I]||0)+1}}),Object.entries(b).sort((S,A)=>{const[I,B]=S[0].split("/"),[$,D]=A[0].split("/");return new Date(parseInt(B),parseInt(I)-1).getTime()-new Date(parseInt(D),parseInt($)-1).getTime()}).map(([S,A])=>({name:S,value:A,color:"#8884d8"}))},u=()=>{if(s.length===0)return[];const b={};return s.forEach(S=>{if(S.pol){const A=S.pol;b[A]=(b[A]||0)+1}}),Object.entries(b).sort((S,A)=>A[1]-S[1]).slice(0,8).map(([S,A],I)=>({name:S,value:A,color:Ac[I%Ac.length]}))},d=()=>{if(s.length===0)return[];const b={};return s.forEach(S=>{const A=S.cliente||"No definido";b[A]=(b[A]||0)+1}),Object.entries(b).sort((S,A)=>A[1]-S[1]).slice(0,10).map(([S,A],I)=>({name:S,value:A,color:Ac[I%Ac.length]}))},f=()=>{if(s.length===0)return[];const b={};return s.forEach(S=>{if(S.armador){const A=S.armador;b[A]=(b[A]||0)+1}}),Object.entries(b).sort((S,A)=>A[1]-S[1]).slice(0,8).map(([S,A],I)=>({name:S,value:A,color:Ac[I%Ac.length]}))},h=()=>{const b=s.length,S=s.filter(B=>B.status==="concluido"||B.status==="entregue").length,A=s.filter(B=>B.status==="documentacao"||B.status==="pendente").length,I=s.filter(B=>B.status==="em-transito"||B.status==="embarcado").length;return{total:b,completed:S,pending:A,inTransit:I,completedPercentage:b>0?Math.round(S/b*100):0,pendingPercentage:b>0?Math.round(A/b*100):0}},p=l(),y=c(),w=u();d(),f();const x=P.useMemo(()=>h(),[s]);return s.length===0?r&&r.length>0?m.jsx("div",{className:"dashboard-charts",children:m.jsxs("div",{className:"loading-charts",children:[m.jsx(Hs,{size:48}),m.jsx("h3",{children:n.loadingCharts}),m.jsx("p",{children:n.stabilizingData})]})}):m.jsx("div",{className:"dashboard-charts",children:m.jsxs("div",{className:"no-data-message",children:[m.jsx(Hs,{size:48}),m.jsx("h3",{children:"Nenhum dado disponvel"}),m.jsx("p",{children:"No h envios para exibir nos grficos."})]})}):m.jsxs("div",{className:"dashboard-charts",children:[m.jsxs("div",{className:"stats-overview",children:[m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-icon total",children:m.jsx(Pd,{size:20})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("h3",{children:n.totalShipments}),m.jsx("p",{className:"stat-number",children:x.total})]})]}),m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-icon completed",children:m.jsx(Om,{size:20})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("h3",{children:n.completed}),m.jsxs("p",{className:"stat-number",children:[x.completedPercentage,"%"]}),m.jsxs("small",{children:[x.completed," de ",x.total]})]})]}),m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-icon pending",children:m.jsx(Lm,{size:20})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("h3",{children:n.pending}),m.jsxs("p",{className:"stat-number",children:[x.pendingPercentage,"%"]}),m.jsxs("small",{children:[x.pending," de ",x.total]})]})]}),m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-icon in-transit",children:m.jsx(Hs,{size:20})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("h3",{children:n.inTransit}),m.jsx("p",{className:"stat-number",children:x.inTransit})]})]})]}),m.jsxs("div",{className:"charts-grid",children:[m.jsxs("div",{className:"chart-container",children:[m.jsx("h3",{children:n.distributionByStatus}),m.jsx(Tv,{width:"100%",height:300,children:m.jsxs(bfe,{children:[m.jsx(hF,{data:p,cx:"50%",cy:"50%",labelLine:!1,label:({name:b,percent:S})=>`${b} ${((S||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:p.map((b,S)=>m.jsx(kg,{fill:b.color},`cell-${S}`))}),m.jsx(Nv,{})]})})]}),m.jsxs("div",{className:"chart-container",children:[m.jsx("h3",{children:n.evolutionOfMyShipments}),m.jsx(Tv,{width:"100%",height:300,children:m.jsxs(h3,{data:y,children:[m.jsx(iy,{strokeDasharray:"3 3"}),m.jsx(Jp,{dataKey:"name"}),m.jsx(em,{}),m.jsx(Nv,{}),m.jsx(L5,{dataKey:"value",fill:"#82ca9d"})]})})]}),m.jsxs("div",{className:"chart-container",children:[m.jsx("h3",{children:n.statusOfMyShipments}),m.jsx(Tv,{width:"100%",height:300,children:m.jsxs(cfe,{data:y,children:[m.jsx(iy,{strokeDasharray:"3 3"}),m.jsx(Jp,{dataKey:"name"}),m.jsx(em,{}),m.jsx(Nv,{}),m.jsx(i2,{}),m.jsx(jF,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2})]})})]}),m.jsxs("div",{className:"chart-container",children:[m.jsx("h3",{children:n.originPorts}),m.jsx(Tv,{width:"100%",height:300,children:m.jsxs(h3,{data:w,children:[m.jsx(iy,{strokeDasharray:"3 3"}),m.jsx(Jp,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),m.jsx(em,{}),m.jsx(Nv,{}),m.jsx(L5,{dataKey:"value",fill:"#ffc658"})]})})]})]})]})},JF="/assets/logo2-zcXtDjh0.png",e9=({onClose:r,initialTab:e})=>{const{isAdmin:n}=Mo(),[i,a]=P.useState([]),[o,s]=P.useState([]),[l,c]=P.useState([]),[u,d]=P.useState(!0),[f,h]=P.useState(e||"users"),[p,y]=P.useState(!1),[w,x]=P.useState({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:gr.COMPANY_USER}),[b,S]=P.useState(!1),[A,I]=P.useState({});P.useEffect(()=>{n()&&(e&&h(e),B())},[n,e]);const B=async()=>{try{d(!0);const Y=(await qs(Ea(Jt,"users"))).docs.map(le=>({...le.data(),uid:le.id}));a(Y);const se=(await qs(Ea(Jt,"companies"))).docs.map(le=>({...le.data(),id:le.id}));s(se);const X=(await qs(Ea(Jt,"shipments"))).docs.map(le=>({...le.data(),id:le.id}));c(X)}catch(C){console.error("Error loading admin data:",C)}finally{d(!1)}},$=async(C,Y)=>{try{await eu(yn(Jt,"users",C),{isActive:!Y,updatedAt:new Date}),a(i.map(oe=>oe.uid===C?{...oe,isActive:!Y}:oe))}catch(oe){console.error("Error updating user status:",oe),alert("Erro ao atualizar status do usurio")}},D=async(C,Y)=>{try{await eu(yn(Jt,"companies",C),{isActive:!Y,updatedAt:new Date}),s(o.map(oe=>oe.id===C?{...oe,isActive:!Y}:oe))}catch(oe){console.error("Error updating company status:",oe),alert("Erro ao atualizar status da empresa")}},j=async(C,Y)=>{try{await eu(yn(Jt,"shipments",C),{companyId:Y==="unassigned"?null:Y,updatedAt:new Date}),c(l.map(oe=>oe.id===C?{...oe,companyId:Y==="unassigned"?void 0:Y}:oe))}catch(oe){console.error("Error assigning shipment:",oe),alert("Erro ao atribuir shipment  empresa")}},O=async C=>{if(confirm("Tem certeza que deseja excluir este usurio?"))try{await qK(yn(Jt,"users",C)),a(i.filter(Y=>Y.uid!==C))}catch(Y){console.error("Error deleting user:",Y),alert("Erro ao excluir usurio")}},U=C=>{if(!C)return"No atribudo";const Y=o.find(oe=>oe.id===C);return Y?Y.name:"Empresa no encontrada"},T=async()=>{const C={};if(w.name.trim()||(C.name="Nome  obrigatrio"),w.email.trim()?/\S+@\S+\.\S+/.test(w.email)||(C.email="Email invlido"):C.email="Email  obrigatrio",w.password?w.password.length<6&&(C.password="Senha deve ter pelo menos 6 caracteres"):C.password="Senha  obrigatria",w.password!==w.confirmPassword&&(C.confirmPassword="Senhas no coincidem"),w.role===gr.COMPANY_USER&&(w.companyName.trim()||(C.companyName="Nome da empresa  obrigatrio"),w.companyCode.trim()||(C.companyCode="Cdigo da empresa  obrigatrio")),Object.keys(C).length>0){I(C);return}I({}),S(!0);try{if(i.find(ie=>ie.email===w.email)){alert("Este email j est em uso");return}const oe=`user_${Date.now()}`;let se;if(w.role===gr.COMPANY_USER&&w.companyName&&w.companyCode){const ie=o.find(ne=>ne.code===w.companyCode.toUpperCase());if(ie)se=ie.id;else{se=`company_${Date.now()}`,await jm(yn(Jt,"companies",se),{id:se,name:w.companyName,code:w.companyCode.toUpperCase(),contactEmail:w.email,isActive:!0,createdAt:new Date});const ne={id:se,name:w.companyName,code:w.companyCode.toUpperCase(),contactEmail:w.email,isActive:!0,createdAt:new Date};s([...o,ne])}}const pe={uid:oe,displayName:w.name,email:w.email,role:w.role,isActive:!0,createdAt:new Date},X=w.role===gr.COMPANY_USER?{...pe,companyId:se,companyName:w.companyName}:pe;await jm(yn(Jt,"users",oe),X);const le=X;a([...i,le]),x({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:gr.COMPANY_USER}),y(!1),alert("Usurio criado com sucesso!")}catch(Y){console.error("Erro ao criar usurio:",Y),alert("Erro ao criar usurio. Tente novamente.")}finally{S(!1)}},L=()=>{x({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:gr.COMPANY_USER}),I({}),y(!1)};return n()?u?m.jsx("div",{className:"admin-panel",children:m.jsx("div",{className:"admin-panel-content",children:m.jsx("h2",{children:"Carregando..."})})}):m.jsx("div",{className:"admin-panel",children:m.jsxs("div",{className:"admin-panel-content",children:[m.jsxs("div",{className:"admin-panel-header",children:[m.jsx("h2",{children:"Painel Administrativo"}),m.jsx("button",{onClick:r,className:"close-button",children:""})]}),m.jsxs("div",{className:"admin-tabs",children:[m.jsxs("button",{className:`tab-button ${f==="users"?"active":""}`,onClick:()=>h("users"),"data-tab":"users",children:["Usurios (",i.length,")"]}),m.jsxs("button",{className:`tab-button ${f==="companies"?"active":""}`,onClick:()=>h("companies"),"data-tab":"companies",children:["Empresas (",o.length,")"]}),m.jsxs("button",{className:`tab-button ${f==="shipments"?"active":""}`,onClick:()=>h("shipments"),"data-tab":"shipments",children:["Shipments (",l.length,")"]})]}),f==="users"&&m.jsxs("div",{className:"admin-section",children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[m.jsx("h3",{style:{margin:0},children:"Gerenciar Usurios"}),m.jsxs("button",{onClick:()=>y(!0),style:{display:"flex",alignItems:"center",gap:"0.5rem",backgroundColor:"#789170",marginRight:0,marginBottom:0,color:"white"},children:[m.jsx(UY,{size:16}),"Criar Usurio"]})]}),m.jsx("div",{className:"admin-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Nome"}),m.jsx("th",{children:"Email"}),m.jsx("th",{children:"Role"}),m.jsx("th",{children:"Empresa"}),m.jsx("th",{children:"Status"}),m.jsx("th",{children:"Aes"})]})}),m.jsx("tbody",{children:i.map(C=>m.jsxs("tr",{children:[m.jsx("td",{children:C.displayName}),m.jsx("td",{children:C.email}),m.jsx("td",{children:m.jsx("span",{className:`role-badge ${C.role}`,children:C.role===gr.ADMIN?"Admin":"Empresa"})}),m.jsx("td",{children:C.companyName||"-"}),m.jsx("td",{children:m.jsx("span",{className:`status-badge ${C.isActive?"active":"inactive"}`,children:C.isActive?"Ativo":"Inativo"})}),m.jsx("td",{children:m.jsxs("div",{className:"action-buttons",children:[m.jsx("button",{onClick:()=>$(C.uid,C.isActive),children:C.isActive?"Desativar":"Ativar"}),m.jsx("button",{onClick:()=>O(C.uid),className:"delete",children:"Excluir"})]})})]},C.uid))})]})})]}),f==="companies"&&m.jsxs("div",{className:"admin-section",children:[m.jsx("h3",{children:"Gerenciar Empresas"}),m.jsx("div",{className:"admin-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Nome"}),m.jsx("th",{children:"Cdigo"}),m.jsx("th",{children:"Email de Contato"}),m.jsx("th",{children:"Status"}),m.jsx("th",{children:"Aes"})]})}),m.jsx("tbody",{children:o.map(C=>m.jsxs("tr",{children:[m.jsx("td",{children:C.name}),m.jsx("td",{children:C.code}),m.jsx("td",{children:C.contactEmail}),m.jsx("td",{children:m.jsx("span",{className:`status-badge ${C.isActive?"active":"inactive"}`,children:C.isActive?"Ativa":"Inativa"})}),m.jsx("td",{children:m.jsx("button",{onClick:()=>D(C.id,C.isActive),children:C.isActive?"Desativar":"Ativar"})})]},C.id))})]})})]}),f==="shipments"&&m.jsxs("div",{className:"admin-section",children:[m.jsx("h3",{children:"Gerenciar Shipments"}),m.jsx("div",{className:"admin-note",children:m.jsxs("p",{children:[m.jsx("strong",{children:"Nota:"})," Apenas administradores podem criar shipments. Use esta aba para atribuir shipments s empresas."]})}),m.jsx("div",{className:"admin-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"BL"}),m.jsx("th",{children:"Cliente"}),m.jsx("th",{children:"POL  POD"}),m.jsx("th",{children:"Status"}),m.jsx("th",{children:"Empresa Atual"}),m.jsx("th",{children:"Atribuir  Empresa"})]})}),m.jsx("tbody",{children:l.map(C=>m.jsxs("tr",{children:[m.jsx("td",{children:C.numeroBl}),m.jsx("td",{children:C.cliente}),m.jsxs("td",{children:[C.pol,"  ",C.pod]}),m.jsx("td",{children:C.status}),m.jsx("td",{children:U(C.companyId)}),m.jsx("td",{children:m.jsxs("select",{value:C.companyId||"unassigned",onChange:Y=>j(C.id,Y.target.value),className:"company-selector",children:[m.jsx("option",{value:"unassigned",children:"No atribudo"}),o.filter(Y=>Y.isActive).map(Y=>m.jsxs("option",{value:Y.id,children:[Y.name," (",Y.code,")"]},Y.id))]})})]},C.id))})]})})]}),p&&m.jsx("div",{className:"admin-panel",style:{zIndex:1100},children:m.jsxs("div",{className:"admin-panel-content",style:{maxWidth:"600px"},children:[m.jsxs("div",{className:"admin-panel-header",children:[m.jsx("h2",{children:"Criar Novo Usurio"}),m.jsx("button",{onClick:L,className:"close-button",children:""})]}),m.jsxs("div",{className:"admin-section",children:[m.jsxs("div",{style:{marginBottom:"1.5rem"},children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Tipo de Usurio"}),m.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",padding:"0.5rem 1rem",border:"2px solid #e1e5e9",borderRadius:"8px",backgroundColor:w.role===gr.COMPANY_USER?"#e6f3ff":"white",borderColor:w.role===gr.COMPANY_USER?"#0066cc":"#e1e5e9"},children:[m.jsx("input",{type:"radio",name:"userType",checked:w.role===gr.COMPANY_USER,onChange:()=>x({...w,role:gr.COMPANY_USER}),style:{margin:0}}),"Usurio de Empresa"]}),m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",padding:"0.5rem 1rem",border:"2px solid #e1e5e9",borderRadius:"8px",backgroundColor:w.role===gr.ADMIN?"#e6f3ff":"white",borderColor:w.role===gr.ADMIN?"#0066cc":"#e1e5e9"},children:[m.jsx("input",{type:"radio",name:"userType",checked:w.role===gr.ADMIN,onChange:()=>x({...w,role:gr.ADMIN}),style:{margin:0}}),"Administrador"]})]})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Nome Completo *"}),m.jsx("input",{type:"text",value:w.name,onChange:C=>x({...w,name:C.target.value}),placeholder:"Digite o nome completo",style:{width:"100%",padding:"0.75rem",border:`1px solid ${A.name?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),A.name&&m.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:A.name})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Email *"}),m.jsx("input",{type:"email",value:w.email,onChange:C=>x({...w,email:C.target.value}),placeholder:"usuario@email.com",style:{width:"100%",padding:"0.75rem",border:`1px solid ${A.email?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),A.email&&m.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:A.email})]})]}),w.role===gr.COMPANY_USER&&m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Nome da Empresa *"}),m.jsx("input",{type:"text",value:w.companyName,onChange:C=>x({...w,companyName:C.target.value}),placeholder:"Digite o nome da empresa",style:{width:"100%",padding:"0.75rem",border:`1px solid ${A.companyName?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),A.companyName&&m.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:A.companyName})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Cdigo da Empresa *"}),m.jsx("input",{type:"text",value:w.companyCode,onChange:C=>x({...w,companyCode:C.target.value.toUpperCase()}),placeholder:"Ex: LOG001",style:{width:"100%",padding:"0.75rem",border:`1px solid ${A.companyCode?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),A.companyCode&&m.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:A.companyCode}),m.jsx("small",{style:{color:"#6c757d",fontSize:"0.8rem"},children:"Cdigo nico para identificar a empresa"})]})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Senha *"}),m.jsx("input",{type:"password",value:w.password,onChange:C=>x({...w,password:C.target.value}),placeholder:"Mnimo 6 caracteres",style:{width:"100%",padding:"0.75rem",border:`1px solid ${A.password?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),A.password&&m.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:A.password})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Confirmar Senha *"}),m.jsx("input",{type:"password",value:w.confirmPassword,onChange:C=>x({...w,confirmPassword:C.target.value}),placeholder:"Confirme a senha",style:{width:"100%",padding:"0.75rem",border:`1px solid ${A.confirmPassword?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),A.confirmPassword&&m.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:A.confirmPassword})]})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[m.jsx("button",{onClick:L,style:{backgroundColor:"#6c757d",color:"white"},disabled:b,children:"Cancelar"}),m.jsx("button",{onClick:T,style:{backgroundColor:"#789170",color:"white"},disabled:b,children:b?"Criando...":"Criar Usurio"})]})]})]})})]})}):m.jsx("div",{className:"admin-panel",children:m.jsxs("div",{className:"admin-panel-content",children:[m.jsx("h2",{children:"Acesso Negado"}),m.jsx("p",{children:"Voc no tem permisso para acessar o painel administrativo."}),m.jsx("button",{onClick:r,children:"Fechar"})]})})},Zs=()=>{const{isCollapsed:r,setIsCollapsed:e}=P.useContext(ug),[n,i]=P.useState(!1),a=bu(),o=s1(),{isAdmin:s,logout:l}=Mo(),{translations:c}=Fo(),d=o.pathname.includes("settings")?"settings":o.pathname.includes("novo-envio")?"novo-envio":o.pathname.includes("envios")?"envios":"home",f=()=>{l(),a("/")};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:`navbar ${r?"collapsed":"expanded"}`,children:[m.jsxs("div",{className:"navbar-header",children:[m.jsx("button",{className:"toggle-btn",onClick:()=>e(!r),"aria-label":r?c.expandMenu:c.collapseMenu,children:r?m.jsx(jY,{size:20}):m.jsx(Ul,{size:20})}),m.jsx("div",{className:"company-logo",children:m.jsx("img",{src:JF,alt:"SeaLogistics Logo",className:`company-logo-img ${r?"hidden":"visible"}`})})]}),m.jsxs("nav",{className:"nav-items",children:[m.jsxs("div",{className:`nav-item ${d==="home"?"active":""}`,onClick:()=>a("/home"),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&a("/home"),children:[m.jsx("div",{className:"icon-container",children:m.jsx(IY,{size:20})}),m.jsx("span",{className:`nav-text ${r?"hidden":"visible"}`,children:s()?c.dashboard:c.inicio})]}),m.jsxs("div",{className:`nav-item ${d==="envios"?"active":""}`,onClick:()=>a("/envios"),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&a("/envios"),children:[m.jsx("div",{className:"icon-container",children:m.jsx(Pd,{size:20})}),m.jsx("span",{className:`nav-text ${r?"hidden":"visible"}`,children:c.envios})]}),s()&&m.jsxs("div",{className:`nav-item ${d==="novo-envio"?"active":""}`,onClick:()=>a("/novo-envio"),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&a("/novo-envio"),children:[m.jsx("div",{className:"icon-container",children:m.jsx(LD,{size:20})}),m.jsx("span",{className:`nav-text ${r?"hidden":"visible"}`,children:c.novoEnvio})]}),m.jsxs("div",{className:`nav-item ${d==="settings"?"active":""}`,onClick:()=>a("/settings"),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&a("/settings"),children:[m.jsx("div",{className:"icon-container",children:m.jsx(KA,{size:20})}),m.jsx("span",{className:`nav-text ${r?"hidden":"visible"}`,children:c.configuracoes})]}),m.jsxs("div",{className:"nav-item logout",onClick:f,role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&f(),children:[m.jsx("div",{className:"icon-container",children:m.jsx(Ul,{size:20})}),m.jsx("span",{className:`nav-text ${r?"hidden":"visible"}`,children:c.sair})]})]})]}),n&&m.jsx(e9,{onClose:()=>i(!1)})]})},t9=()=>{const{currentUser:r}=Mo(),{translations:e}=Fo(),{shipments:n,loading:i}=Nh(),a=bu(),[o,s]=P.useState({totalShipments:0,inTransit:0,delivered:0,pending:0,thisMonth:0,totalUsers:0,totalCompanies:0,activeCompanies:0}),[l,c]=P.useState(!0),[u,d]=P.useState(!1),[f,h]=P.useState("users"),p=y=>{h(y),d(!0)};return P.useEffect(()=>{(async()=>{try{c(!0);const x=(await qs(Ea(Jt,"users"))).size,S=(await qs(Ea(Jt,"companies"))).docs.map(C=>C.data()),A=S.length,I=S.filter(C=>C.isActive).length,B=new Date,$=B.getMonth(),D=B.getFullYear(),j=n.length,O=n.filter(C=>C.status==="em-transito"||C.status==="agendado").length,U=n.filter(C=>C.status==="concluido").length,T=n.filter(C=>C.status==="documentacao").length,L=n.filter(C=>{if(C.etdOrigem){const Y=new Date(C.etdOrigem);return Y.getMonth()===$&&Y.getFullYear()===D}return!1}).length;s({totalShipments:j,inTransit:O,delivered:U,pending:T,thisMonth:L,totalUsers:x,totalCompanies:A,activeCompanies:I})}catch(w){console.error("Error loading admin stats:",w)}finally{c(!1)}})()},[n]),l||i?m.jsxs("main",{className:"dashboard-container",children:[m.jsx(Zs,{}),m.jsx("div",{className:"dashboard-content",children:m.jsx("div",{className:"loading-message",children:e.loading})}),m.jsx(cu,{})]}):m.jsxs("main",{className:"dashboard-container",children:[m.jsx(Zs,{}),m.jsxs("div",{className:"dashboard-content",children:[m.jsxs("div",{className:"dashboard-header",children:[m.jsx("h1",{children:e.administrativeDashboard}),m.jsx("p",{children:e.welcomeAdmin})]}),m.jsxs("div",{className:"stats-grid",children:[m.jsxs("div",{className:"stat-card clickable",onClick:()=>a("/envios"),children:[m.jsx("div",{className:"stat-icon",children:m.jsx(Pd,{size:24})}),m.jsxs("div",{className:"stat-info",children:[m.jsx("h3",{children:e.totalShipments}),m.jsx("p",{className:"stat-number",children:o.totalShipments})]})]}),m.jsxs("div",{className:"stat-card clickable",onClick:()=>a("/envios?status=em-transito"),children:[m.jsx("div",{className:"stat-icon in-transit",children:m.jsx(Hs,{size:24})}),m.jsxs("div",{className:"stat-info",children:[m.jsx("h3",{children:e.inTransit}),m.jsx("p",{className:"stat-number",children:o.inTransit})]})]}),m.jsxs("div",{className:"stat-card clickable",onClick:()=>a("/envios?status=concluido"),children:[m.jsx("div",{className:"stat-icon delivered",children:m.jsx(Om,{size:24})}),m.jsxs("div",{className:"stat-info",children:[m.jsx("h3",{children:e.delivered}),m.jsx("p",{className:"stat-number",children:o.delivered})]})]}),m.jsxs("div",{className:"stat-card clickable",onClick:()=>a("/envios?status=documentacao"),children:[m.jsx("div",{className:"stat-icon pending",children:m.jsx(Lm,{size:24})}),m.jsxs("div",{className:"stat-info",children:[m.jsx("h3",{children:e.pending}),m.jsx("p",{className:"stat-number",children:o.pending})]})]}),m.jsxs("div",{className:"stat-card clickable",onClick:()=>a("/envios?filter=this-month"),children:[m.jsx("div",{className:"stat-icon this-month",children:m.jsx(MD,{size:24})}),m.jsxs("div",{className:"stat-info",children:[m.jsx("h3",{children:e.thisMonth}),m.jsx("p",{className:"stat-number",children:o.thisMonth})]})]}),m.jsxs("div",{className:"stat-card clickable",onClick:()=>{p("users")},children:[m.jsx("div",{className:"stat-icon users",children:m.jsx($Y,{size:24})}),m.jsxs("div",{className:"stat-info",children:[m.jsx("h3",{children:e.totalUsers}),m.jsx("p",{className:"stat-number",children:o.totalUsers})]})]}),m.jsxs("div",{className:"stat-card clickable",onClick:()=>{p("companies")},children:[m.jsx("div",{className:"stat-icon companies",children:m.jsx(SY,{size:24})}),m.jsxs("div",{className:"stat-info",children:[m.jsx("h3",{children:e.activeCompanies}),m.jsxs("p",{className:"stat-number",children:[o.activeCompanies,"/",o.totalCompanies]})]})]}),m.jsxs("div",{className:"stat-card clickable",onClick:()=>a("/envios"),children:[m.jsx("div",{className:"stat-icon action",children:m.jsx(ih,{size:24})}),m.jsxs("div",{className:"stat-info",children:[m.jsx("h3",{children:e.manageShipments}),m.jsx("p",{className:"action-text",children:e.clickToSeeAllShipments})]})]})]}),m.jsxs("div",{className:"quick-actions",children:[m.jsx("h2",{children:e.quickActions}),m.jsxs("div",{className:"actions-grid",children:[m.jsxs("button",{onClick:()=>a("/novo-envio"),children:[m.jsx(LD,{size:20}),m.jsx("span",{children:e.newShipment})]}),m.jsxs("button",{onClick:()=>{p("users")},children:[m.jsx(RD,{size:20}),m.jsx("span",{children:e.adminPanel})]}),m.jsxs("button",{onClick:()=>a("/settings"),children:[m.jsx(KA,{size:20}),m.jsx("span",{children:e.configurations})]}),m.jsxs("button",{onClick:()=>a("/excel-integration"),children:[m.jsx(PY,{size:20}),m.jsx("span",{children:e.connectExcel})]})]})]}),m.jsx(ZF,{shipments:n,isAdmin:!0})]}),u&&m.jsx(e9,{onClose:()=>d(!1),initialTab:f}),m.jsx(cu,{})]})},r9=()=>{const{currentUser:r,isAdmin:e}=Mo(),{shipments:n,loading:i}=Nh(),{translations:a}=Fo(),o=bu(),[s,l]=P.useState({totalShipments:0,inTransit:0,delivered:0,pending:0,thisMonth:0}),[c,u]=P.useState([]);P.useEffect(()=>{!i&&e()&&o("/envios")},[e,i,o]);const d=P.useCallback(w=>{const x=new Date,b=x.getMonth(),S=x.getFullYear(),A=w.length,I=w.filter(j=>j.status==="em-transito"||j.status==="agendado").length,B=w.filter(j=>j.status==="concluido").length,$=w.filter(j=>j.status==="documentacao").length,D=w.filter(j=>{if(j.etdOrigem){const O=new Date(j.etdOrigem);return O.getMonth()===b&&O.getFullYear()===S}return!1}).length;l({totalShipments:A,inTransit:I,delivered:B,pending:$,thisMonth:D})},[]),f=P.useCallback(w=>{const x=w.slice(0,5).map(b=>({id:b.id||"",action:h(b.status),shipment:`${b.pol}  ${b.pod}`,date:b.etdOrigem||"",status:b.status}));u(x)},[a]),h=w=>{switch(w){case"documentao":return a.statusPending;case"agendado":return a.statusInTransit;case"em-trnsito":return a.statusInTransit;case"concludo":return a.statusDelivered;default:return a.statusUpdated}};P.useEffect(()=>{n.length>0&&(d(n),f(n))},[n,d,f]);const p=w=>w?new Date(w).toLocaleDateString("pt-BR"):"",y=w=>{switch(w){case"documentao":return"#073b4c";case"agendado":return"#118ab2";case"em-trnsito":return"#ffd166";case"concludo":return"#06d6a0";default:return"#6c757d"}};return i||e()?m.jsxs("main",{className:"dashboard-container",children:[m.jsx(Zs,{}),m.jsx("div",{className:"dashboard-content",children:m.jsx("div",{className:"loading-message",children:i?a.loading:a.redirecting})}),m.jsx(cu,{})]}):m.jsxs("main",{className:"dashboard-container",children:[m.jsx(Zs,{}),m.jsxs("div",{className:"dashboard-content",children:[m.jsxs("div",{className:"dashboard-header",children:[m.jsx("h1",{children:a.dashboard}),m.jsxs("p",{children:[a.welcomeUser," ",r==null?void 0:r.displayName,"!"]})]}),m.jsxs("div",{className:"stats-section",children:[m.jsx("h2",{className:"section-title",children:a.overview}),m.jsxs("div",{className:"stats-grid",children:[m.jsxs("div",{className:"stat-card",onClick:()=>o("/envios"),children:[m.jsx("div",{className:"stat-icon",children:m.jsx(Pd,{size:24})}),m.jsxs("div",{className:"stat-info",children:[m.jsx("h3",{children:a.totalShipments}),m.jsx("p",{className:"stat-number",children:s.totalShipments})]})]}),m.jsxs("div",{className:"stat-card",onClick:()=>o("/envios?status=em-transito"),children:[m.jsx("div",{className:"stat-icon in-transit",children:m.jsx(Hs,{size:24})}),m.jsxs("div",{className:"stat-info",children:[m.jsx("h3",{children:a.inTransit}),m.jsx("p",{className:"stat-number",children:s.inTransit})]})]}),m.jsxs("div",{className:"stat-card",onClick:()=>o("/envios?status=concluido"),children:[m.jsx("div",{className:"stat-icon delivered",children:m.jsx(Om,{size:24})}),m.jsxs("div",{className:"stat-info",children:[m.jsx("h3",{children:a.delivered}),m.jsx("p",{className:"stat-number",children:s.delivered})]})]}),m.jsxs("div",{className:"stat-card",onClick:()=>o("/envios?status=documentacao"),children:[m.jsx("div",{className:"stat-icon pending",children:m.jsx(Lm,{size:24})}),m.jsxs("div",{className:"stat-info",children:[m.jsx("h3",{children:a.pending}),m.jsx("p",{className:"stat-number",children:s.pending})]})]}),m.jsxs("div",{className:"stat-card",onClick:()=>o("/envios?period=this-month"),children:[m.jsx("div",{className:"stat-icon this-month",children:m.jsx(MD,{size:24})}),m.jsxs("div",{className:"stat-info",children:[m.jsx("h3",{children:a.thisMonth}),m.jsx("p",{className:"stat-number",children:s.thisMonth})]})]})]})]}),m.jsxs("div",{className:"main-content-grid",children:[m.jsx("div",{className:"left-column",children:m.jsxs("div",{className:"recent-activity clickable-card",onClick:()=>o("/envios"),children:[m.jsx("h2",{className:"section-title",children:a.shipmentsTitle}),c.length>0?m.jsx("div",{className:"activity-list",children:c.map(w=>m.jsxs("div",{className:"activity-item",children:[m.jsx("div",{className:"activity-status-dot",style:{backgroundColor:y(w.status)}}),m.jsxs("div",{className:"activity-details",children:[m.jsx("p",{className:"activity-action",children:w.action}),m.jsxs("p",{className:"activity-shipment",children:[m.jsx(HA,{size:14}),w.shipment]})]}),m.jsxs("div",{className:"activity-date",children:[m.jsx(Wx,{size:14}),p(w.date)]})]},w.id))}):m.jsxs("div",{className:"empty-activity",children:[m.jsx(ih,{size:48}),m.jsx("p",{children:a.noShipments})]})]})}),m.jsx("div",{className:"right-column",children:m.jsxs("div",{className:"quick-actions-section",children:[m.jsx("h2",{className:"section-title",children:a.quickActions}),m.jsxs("div",{className:"quick-actions-grid",children:[m.jsxs("a",{href:"/envios",className:"quick-action-card",children:[m.jsx("div",{className:"action-icon",children:m.jsx(Pd,{size:24})}),m.jsxs("div",{className:"action-content",children:[m.jsx("h3",{children:a.shipmentsTitle}),m.jsx("p",{children:a.manageShipments})]})]}),m.jsxs("a",{href:"/settings",className:"quick-action-card",children:[m.jsx("div",{className:"action-icon",children:m.jsx(KA,{size:24})}),m.jsxs("div",{className:"action-content",children:[m.jsx("h3",{children:a.settings}),m.jsx("p",{children:a.configurePreferences})]})]})]})]})})]}),m.jsxs("div",{className:"charts-section-full",children:[m.jsx("h2",{className:"section-title",children:a.analytics}),m.jsx(ZF,{shipments:n,isAdmin:!1})]})]}),m.jsx(cu,{})]})};var xfe={exports:{}};(function(r,e){(function(n,i){i()})(np,function(){function n(u,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function i(u,d,f){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){c(h.response,d,f)},h.onerror=function(){console.error("could not download file")},h.send()}function a(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof np=="object"&&np.global===np?np:void 0,l=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,d,f){var h=s.URL||s.webkitURL,p=document.createElement("a");d=d||u.name||"download",p.download=d,p.rel="noopener",typeof u=="string"?(p.href=u,p.origin===location.origin?o(p):a(p.href)?i(u,d,f):o(p,p.target="_blank")):(p.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){o(p)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,f){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,f),d);else if(a(u))i(u,d,f);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){o(h)})}}:function(u,d,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return i(u,d,f);var p=u.type==="application/octet-stream",y=/constructor/i.test(s.HTMLElement)||s.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||p&&y||l)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var A=x.result;A=w?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=A:location=A,h=null},x.readAsDataURL(u)}else{var b=s.URL||s.webkitURL,S=b.createObjectURL(u);h?h.location=S:location.href=S,h=null,setTimeout(function(){b.revokeObjectURL(S)},4e4)}});s.saveAs=c.saveAs=c,r.exports=c})})(xfe);const _fe="modulepreload",Afe=function(r){return"/"+r},p3={},Zw=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=Afe(c),c in p3)return;p3[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_fe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};function Ar(r){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(r)}var cs=Uint8Array,Ja=Uint16Array,ak=Int32Array,ok=new cs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),sk=new cs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m3=new cs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),n9=function(r,e){for(var n=new Ja(31),i=0;i<31;++i)n[i]=e+=1<<r[i-1];for(var a=new ak(n[30]),i=1;i<30;++i)for(var o=n[i];o<n[i+1];++o)a[o]=o-n[i]<<5|i;return{b:n,r:a}},i9=n9(ok,2),Sfe=i9.b,$5=i9.r;Sfe[28]=258,$5[258]=28;var Efe=n9(sk,0),g3=Efe.r,z5=new Ja(32768);for(var Hr=0;Hr<32768;++Hr){var Sc=(Hr&43690)>>1|(Hr&21845)<<1;Sc=(Sc&52428)>>2|(Sc&13107)<<2,Sc=(Sc&61680)>>4|(Sc&3855)<<4,z5[Hr]=((Sc&65280)>>8|(Sc&255)<<8)>>1}var tm=function(r,e,n){for(var i=r.length,a=0,o=new Ja(e);a<i;++a)r[a]&&++o[r[a]-1];var s=new Ja(e);for(a=1;a<e;++a)s[a]=s[a-1]+o[a-1]<<1;var l;if(n){l=new Ja(1<<e);var c=15-e;for(a=0;a<i;++a)if(r[a])for(var u=a<<4|r[a],d=e-r[a],f=s[r[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[z5[f]>>c]=u}else for(l=new Ja(i),a=0;a<i;++a)r[a]&&(l[a]=z5[s[r[a]-1]++]>>15-r[a]);return l},jd=new cs(288);for(var Hr=0;Hr<144;++Hr)jd[Hr]=8;for(var Hr=144;Hr<256;++Hr)jd[Hr]=9;for(var Hr=256;Hr<280;++Hr)jd[Hr]=7;for(var Hr=280;Hr<288;++Hr)jd[Hr]=8;var I0=new cs(32);for(var Hr=0;Hr<32;++Hr)I0[Hr]=5;var kfe=tm(jd,9,0),Pfe=tm(I0,5,0),a9=function(r){return(r+7)/8|0},Nfe=function(r,e,n){return(n==null||n>r.length)&&(n=r.length),new cs(r.subarray(e,n))},gl=function(r,e,n){n<<=e&7;var i=e/8|0;r[i]|=n,r[i+1]|=n>>8},_p=function(r,e,n){n<<=e&7;var i=e/8|0;r[i]|=n,r[i+1]|=n>>8,r[i+2]|=n>>16},Jw=function(r,e){for(var n=[],i=0;i<r.length;++i)r[i]&&n.push({s:i,f:r[i]});var a=n.length,o=n.slice();if(!a)return{t:s9,l:0};if(a==1){var s=new cs(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(B,$){return B.f-$.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,d=1,f=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=n[n[u].f<n[f].f?u++:f++],c=n[u!=d&&n[u].f<n[f].f?u++:f++],n[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=o[0].s,i=1;i<a;++i)o[i].s>h&&(h=o[i].s);var p=new Ja(h+1),y=V5(n[d-1],p,0);if(y>e){var i=0,w=0,x=y-e,b=1<<x;for(o.sort(function($,D){return p[D.s]-p[$.s]||$.f-D.f});i<a;++i){var S=o[i].s;if(p[S]>e)w+=b-(1<<y-p[S]),p[S]=e;else break}for(w>>=x;w>0;){var A=o[i].s;p[A]<e?w-=1<<e-p[A]++-1:++i}for(;i>=0&&w;--i){var I=o[i].s;p[I]==e&&(--p[I],++w)}y=e}return{t:new cs(p),l:y}},V5=function(r,e,n){return r.s==-1?Math.max(V5(r.l,e,n+1),V5(r.r,e,n+1)):e[r.s]=n},v3=function(r){for(var e=r.length;e&&!r[--e];);for(var n=new Ja(++e),i=0,a=r[0],o=1,s=function(c){n[i++]=c},l=1;l<=e;++l)if(r[l]==a&&l!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(a),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(a);o=1,a=r[l]}return{c:n.subarray(0,i),n:e}},Ap=function(r,e){for(var n=0,i=0;i<e.length;++i)n+=r[i]*e[i];return n},o9=function(r,e,n){var i=n.length,a=a9(e+2);r[a]=i&255,r[a+1]=i>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var o=0;o<i;++o)r[a+o+4]=n[o];return(a+4+i)*8},y3=function(r,e,n,i,a,o,s,l,c,u,d){gl(e,d++,n),++a[256];for(var f=Jw(a,15),h=f.t,p=f.l,y=Jw(o,15),w=y.t,x=y.l,b=v3(h),S=b.c,A=b.n,I=v3(w),B=I.c,$=I.n,D=new Ja(19),j=0;j<S.length;++j)++D[S[j]&31];for(var j=0;j<B.length;++j)++D[B[j]&31];for(var O=Jw(D,7),U=O.t,T=O.l,L=19;L>4&&!U[m3[L-1]];--L);var C=u+5<<3,Y=Ap(a,jd)+Ap(o,I0)+s,oe=Ap(a,h)+Ap(o,w)+s+14+3*L+Ap(D,U)+2*D[16]+3*D[17]+7*D[18];if(c>=0&&C<=Y&&C<=oe)return o9(e,d,r.subarray(c,c+u));var se,pe,X,le;if(gl(e,d,1+(oe<Y)),d+=2,oe<Y){se=tm(h,p,0),pe=h,X=tm(w,x,0),le=w;var ie=tm(U,T,0);gl(e,d,A-257),gl(e,d+5,$-1),gl(e,d+10,L-4),d+=14;for(var j=0;j<L;++j)gl(e,d+3*j,U[m3[j]]);d+=3*L;for(var ne=[S,B],M=0;M<2;++M)for(var K=ne[M],j=0;j<K.length;++j){var Z=K[j]&31;gl(e,d,ie[Z]),d+=U[Z],Z>15&&(gl(e,d,K[j]>>5&127),d+=K[j]>>12)}}else se=kfe,pe=jd,X=Pfe,le=I0;for(var j=0;j<l;++j){var ae=i[j];if(ae>255){var Z=ae>>18&31;_p(e,d,se[Z+257]),d+=pe[Z+257],Z>7&&(gl(e,d,ae>>23&31),d+=ok[Z]);var de=ae&31;_p(e,d,X[de]),d+=le[de],de>3&&(_p(e,d,ae>>5&8191),d+=sk[de])}else _p(e,d,se[ae]),d+=pe[ae]}return _p(e,d,se[256]),d+pe[256]},Tfe=new ak([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),s9=new cs(0),Cfe=function(r,e,n,i,a,o){var s=o.z||r.length,l=new cs(i+s+5*(1+Math.ceil(s/7e3))+a),c=l.subarray(i,l.length-a),u=o.l,d=(o.r||0)&7;if(e){d&&(c[0]=o.r>>3);for(var f=Tfe[e-1],h=f>>13,p=f&8191,y=(1<<n)-1,w=o.p||new Ja(32768),x=o.h||new Ja(y+1),b=Math.ceil(n/3),S=2*b,A=function(be){return(r[be]^r[be+1]<<b^r[be+2]<<S)&y},I=new ak(25e3),B=new Ja(288),$=new Ja(32),D=0,j=0,O=o.i||0,U=0,T=o.w||0,L=0;O+2<s;++O){var C=A(O),Y=O&32767,oe=x[C];if(w[Y]=oe,x[C]=Y,T<=O){var se=s-O;if((D>7e3||U>24576)&&(se>423||!u)){d=y3(r,c,0,I,B,$,j,U,L,O-L,d),U=D=j=0,L=O;for(var pe=0;pe<286;++pe)B[pe]=0;for(var pe=0;pe<30;++pe)$[pe]=0}var X=2,le=0,ie=p,ne=Y-oe&32767;if(se>2&&C==A(O-ne))for(var M=Math.min(h,se)-1,K=Math.min(32767,O),Z=Math.min(258,se);ne<=K&&--ie&&Y!=oe;){if(r[O+X]==r[O+X-ne]){for(var ae=0;ae<Z&&r[O+ae]==r[O+ae-ne];++ae);if(ae>X){if(X=ae,le=ne,ae>M)break;for(var de=Math.min(ne,ae-2),me=0,pe=0;pe<de;++pe){var Ee=O-ne+pe&32767,ue=w[Ee],Ae=Ee-ue&32767;Ae>me&&(me=Ae,oe=Ee)}}}Y=oe,oe=w[Y],ne+=Y-oe&32767}if(le){I[U++]=268435456|$5[X]<<18|g3[le];var Pe=$5[X]&31,we=g3[le]&31;j+=ok[Pe]+sk[we],++B[257+Pe],++$[we],T=O+X,++D}else I[U++]=r[O],++B[r[O]]}}for(O=Math.max(O,T);O<s;++O)I[U++]=r[O],++B[r[O]];d=y3(r,c,u,I,B,$,j,U,L,O-L,d),u||(o.r=d&7|c[d/8|0]<<3,d-=7,o.h=x,o.p=w,o.i=O,o.w=T)}else{for(var O=o.w||0;O<s+u;O+=65535){var Ue=O+65535;Ue>=s&&(c[d/8|0]=u,Ue=s),d=o9(c,d+1,r.subarray(O,Ue))}o.i=s}return Nfe(l,0,i+a9(d)+a)},l9=function(){var r=1,e=0;return{p:function(n){for(var i=r,a=e,o=n.length|0,s=0;s!=o;){for(var l=Math.min(s+2655,o);s<l;++s)a+=i+=n[s];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}r=i,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Ife=function(r,e,n,i,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new cs(o.length+r.length);s.set(o),s.set(r,o.length),r=s,a.w=o.length}return Cfe(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,n,i,a)},c9=function(r,e,n){for(;n;++e)r[e]=n,n>>>=8},jfe=function(r,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;if(r[0]=120,r[1]=i<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=l9();a.p(e.dictionary),c9(r,2,a.d())}};function q5(r,e){e||(e={});var n=l9();n.p(r);var i=Ife(r,e,e.dictionary?6:2,4);return jfe(i,e),c9(i,i.length-4,n.d()),i}var Ofe=typeof TextDecoder<"u"&&new TextDecoder,Lfe=0;try{Ofe.decode(s9,{stream:!0}),Lfe=1}catch{}function Dfe(r){if(Array.isArray(r))return r}function Rfe(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,o,s,l=[],c=!0,u=!1;try{if(o=(n=n.call(r)).next,e!==0)for(;!(c=(i=o.call(n)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function w3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=Array(e);n<e;n++)i[n]=r[n];return i}function Mfe(r,e){if(r){if(typeof r=="string")return w3(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w3(r,e):void 0}}function Ffe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b3(r,e){return Dfe(r)||Rfe(r,e)||Mfe(r,e)||Ffe()}function x3(r,e="utf8"){return new TextDecoder(e).decode(r)}const Bfe=new TextEncoder;function Ufe(r){return Bfe.encode(r)}const $fe=1024*8,zfe=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),eb={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class lk{constructor(e=$fe,n={}){Zt(this,"buffer");Zt(this,"byteLength");Zt(this,"byteOffset");Zt(this,"length");Zt(this,"offset");Zt(this,"lastWrittenByte");Zt(this,"littleEndian");Zt(this,"_data");Zt(this,"_mark");Zt(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const a=n.offset?n.offset>>>0:0,o=e.byteLength-a;let s=a;(ArrayBuffer.isView(e)||e instanceof lk)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+a),e=e.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,a=new Uint8Array(i);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const i=eb[n].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+i);if(this.littleEndian===zfe&&n!=="uint8"&&n!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+i));l.reverse();const c=new eb[n](l.buffer);return this.offset+=i,c.reverse(),c}const s=new eb[n](o);return this.offset+=i,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let i=0;i<e;i++)n+=this.readChar();return n}readUtf8(e=1){return x3(this.readBytes(e))}decodeText(e=1,n="utf8"){return x3(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Ufe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Bh(r){let e=r.length;for(;--e>=0;)r[e]=0}const Vfe=3,qfe=258,u9=29,Wfe=256,Hfe=Wfe+1+u9,d9=30,Kfe=512,Gfe=new Array((Hfe+2)*2);Bh(Gfe);const Yfe=new Array(d9*2);Bh(Yfe);const Qfe=new Array(Kfe);Bh(Qfe);const Xfe=new Array(qfe-Vfe+1);Bh(Xfe);const Zfe=new Array(u9);Bh(Zfe);const Jfe=new Array(d9);Bh(Jfe);const ehe=(r,e,n,i)=>{let a=r&65535|0,o=r>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+e[i++]|0,o=o+a|0;while(--s);a%=65521,o%=65521}return a|o<<16|0};var W5=ehe;const the=()=>{let r,e=[];for(var n=0;n<256;n++){r=n;for(var i=0;i<8;i++)r=r&1?3988292384^r>>>1:r>>>1;e[n]=r}return e},rhe=new Uint32Array(the()),nhe=(r,e,n,i)=>{const a=rhe,o=i+n;r^=-1;for(let s=i;s<o;s++)r=r>>>8^a[(r^e[s])&255];return r^-1};var Os=nhe,H5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},f9={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ihe=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var ahe=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)ihe(n,i)&&(r[i]=n[i])}}return r},ohe=r=>{let e=0;for(let i=0,a=r.length;i<a;i++)e+=r[i].length;const n=new Uint8Array(e);for(let i=0,a=0,o=r.length;i<o;i++){let s=r[i];n.set(s,a),a+=s.length}return n},h9={assign:ahe,flattenChunks:ohe};let p9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p9=!1}const Hm=new Uint8Array(256);for(let r=0;r<256;r++)Hm[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Hm[254]=Hm[254]=1;var she=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,n,i,a,o,s=r.length,l=0;for(a=0;a<s;a++)n=r.charCodeAt(a),(n&64512)===55296&&a+1<s&&(i=r.charCodeAt(a+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),a++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(l),o=0,a=0;o<l;a++)n=r.charCodeAt(a),(n&64512)===55296&&a+1<s&&(i=r.charCodeAt(a+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),a++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const lhe=(r,e)=>{if(e<65534&&r.subarray&&p9)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(r[i]);return n};var che=(r,e)=>{const n=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let i,a;const o=new Array(n*2);for(a=0,i=0;i<n;){let s=r[i++];if(s<128){o[a++]=s;continue}let l=Hm[s];if(l>4){o[a++]=65533,i+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&i<n;)s=s<<6|r[i++]&63,l--;if(l>1){o[a++]=65533;continue}s<65536?o[a++]=s:(s-=65536,o[a++]=55296|s>>10&1023,o[a++]=56320|s&1023)}return lhe(o,a)},uhe=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let n=e-1;for(;n>=0&&(r[n]&192)===128;)n--;return n<0||n===0?e:n+Hm[r[n]]>e?n:e},K5={string2buf:she,buf2string:che,utf8border:uhe};function dhe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fhe=dhe;const Iv=16209,hhe=16191;var phe=function(e,n){let i,a,o,s,l,c,u,d,f,h,p,y,w,x,b,S,A,I,B,$,D,j,O,U;const T=e.state;i=e.next_in,O=e.input,a=i+(e.avail_in-5),o=e.next_out,U=e.output,s=o-(n-e.avail_out),l=o+(e.avail_out-257),c=T.dmax,u=T.wsize,d=T.whave,f=T.wnext,h=T.window,p=T.hold,y=T.bits,w=T.lencode,x=T.distcode,b=(1<<T.lenbits)-1,S=(1<<T.distbits)-1;e:do{y<15&&(p+=O[i++]<<y,y+=8,p+=O[i++]<<y,y+=8),A=w[p&b];t:for(;;){if(I=A>>>24,p>>>=I,y-=I,I=A>>>16&255,I===0)U[o++]=A&65535;else if(I&16){B=A&65535,I&=15,I&&(y<I&&(p+=O[i++]<<y,y+=8),B+=p&(1<<I)-1,p>>>=I,y-=I),y<15&&(p+=O[i++]<<y,y+=8,p+=O[i++]<<y,y+=8),A=x[p&S];r:for(;;){if(I=A>>>24,p>>>=I,y-=I,I=A>>>16&255,I&16){if($=A&65535,I&=15,y<I&&(p+=O[i++]<<y,y+=8,y<I&&(p+=O[i++]<<y,y+=8)),$+=p&(1<<I)-1,$>c){e.msg="invalid distance too far back",T.mode=Iv;break e}if(p>>>=I,y-=I,I=o-s,$>I){if(I=$-I,I>d&&T.sane){e.msg="invalid distance too far back",T.mode=Iv;break e}if(D=0,j=h,f===0){if(D+=u-I,I<B){B-=I;do U[o++]=h[D++];while(--I);D=o-$,j=U}}else if(f<I){if(D+=u+f-I,I-=f,I<B){B-=I;do U[o++]=h[D++];while(--I);if(D=0,f<B){I=f,B-=I;do U[o++]=h[D++];while(--I);D=o-$,j=U}}}else if(D+=f-I,I<B){B-=I;do U[o++]=h[D++];while(--I);D=o-$,j=U}for(;B>2;)U[o++]=j[D++],U[o++]=j[D++],U[o++]=j[D++],B-=3;B&&(U[o++]=j[D++],B>1&&(U[o++]=j[D++]))}else{D=o-$;do U[o++]=U[D++],U[o++]=U[D++],U[o++]=U[D++],B-=3;while(B>2);B&&(U[o++]=U[D++],B>1&&(U[o++]=U[D++]))}}else if(I&64){e.msg="invalid distance code",T.mode=Iv;break e}else{A=x[(A&65535)+(p&(1<<I)-1)];continue r}break}}else if(I&64)if(I&32){T.mode=hhe;break e}else{e.msg="invalid literal/length code",T.mode=Iv;break e}else{A=w[(A&65535)+(p&(1<<I)-1)];continue t}break}}while(i<a&&o<l);B=y>>3,i-=B,y-=B<<3,p&=(1<<y)-1,e.next_in=i,e.next_out=o,e.avail_in=i<a?5+(a-i):5-(i-a),e.avail_out=o<l?257+(l-o):257-(o-l),T.hold=p,T.bits=y};const nf=15,_3=852,A3=592,S3=0,tb=1,E3=2,mhe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ghe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vhe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yhe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),whe=(r,e,n,i,a,o,s,l)=>{const c=l.bits;let u=0,d=0,f=0,h=0,p=0,y=0,w=0,x=0,b=0,S=0,A,I,B,$,D,j=null,O;const U=new Uint16Array(nf+1),T=new Uint16Array(nf+1);let L=null,C,Y,oe;for(u=0;u<=nf;u++)U[u]=0;for(d=0;d<i;d++)U[e[n+d]]++;for(p=c,h=nf;h>=1&&U[h]===0;h--);if(p>h&&(p=h),h===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<h&&U[f]===0;f++);for(p<f&&(p=f),x=1,u=1;u<=nf;u++)if(x<<=1,x-=U[u],x<0)return-1;if(x>0&&(r===S3||h!==1))return-1;for(T[1]=0,u=1;u<nf;u++)T[u+1]=T[u]+U[u];for(d=0;d<i;d++)e[n+d]!==0&&(s[T[e[n+d]]++]=d);if(r===S3?(j=L=s,O=20):r===tb?(j=mhe,L=ghe,O=257):(j=vhe,L=yhe,O=0),S=0,d=0,u=f,D=o,y=p,w=0,B=-1,b=1<<p,$=b-1,r===tb&&b>_3||r===E3&&b>A3)return 1;for(;;){C=u-w,s[d]+1<O?(Y=0,oe=s[d]):s[d]>=O?(Y=L[s[d]-O],oe=j[s[d]-O]):(Y=96,oe=0),A=1<<u-w,I=1<<y,f=I;do I-=A,a[D+(S>>w)+I]=C<<24|Y<<16|oe|0;while(I!==0);for(A=1<<u-1;S&A;)A>>=1;if(A!==0?(S&=A-1,S+=A):S=0,d++,--U[u]===0){if(u===h)break;u=e[n+s[d]]}if(u>p&&(S&$)!==B){for(w===0&&(w=p),D+=f,y=u-w,x=1<<y;y+w<h&&(x-=U[y+w],!(x<=0));)y++,x<<=1;if(b+=1<<y,r===tb&&b>_3||r===E3&&b>A3)return 1;B=S&$,a[B]=p<<24|y<<16|D-o|0}}return S!==0&&(a[D+S]=u-w<<24|64<<16|0),l.bits=p,0};var rm=whe;const bhe=0,m9=1,g9=2,{Z_FINISH:k3,Z_BLOCK:xhe,Z_TREES:jv,Z_OK:Od,Z_STREAM_END:_he,Z_NEED_DICT:Ahe,Z_STREAM_ERROR:Ro,Z_DATA_ERROR:v9,Z_MEM_ERROR:y9,Z_BUF_ERROR:She,Z_DEFLATED:P3}=f9,A2=16180,N3=16181,T3=16182,C3=16183,I3=16184,j3=16185,O3=16186,L3=16187,D3=16188,R3=16189,j0=16190,vl=16191,rb=16192,M3=16193,nb=16194,F3=16195,B3=16196,U3=16197,$3=16198,Ov=16199,Lv=16200,z3=16201,V3=16202,q3=16203,W3=16204,H3=16205,ib=16206,K3=16207,G3=16208,Jr=16209,w9=16210,b9=16211,Ehe=852,khe=592,Phe=15,Nhe=Phe,Y3=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function The(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qd=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<A2||e.mode>b9?1:0},x9=r=>{if(qd(r))return Ro;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=A2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Ehe),e.distcode=e.distdyn=new Int32Array(khe),e.sane=1,e.back=-1,Od},_9=r=>{if(qd(r))return Ro;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,x9(r)},A9=(r,e)=>{let n;if(qd(r))return Ro;const i=r.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ro:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,_9(r))},S9=(r,e)=>{if(!r)return Ro;const n=new The;r.state=n,n.strm=r,n.window=null,n.mode=A2;const i=A9(r,e);return i!==Od&&(r.state=null),i},Che=r=>S9(r,Nhe);let Q3=!0,ab,ob;const Ihe=r=>{if(Q3){ab=new Int32Array(512),ob=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(rm(m9,r.lens,0,288,ab,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;rm(g9,r.lens,0,32,ob,0,r.work,{bits:5}),Q3=!1}r.lencode=ab,r.lenbits=9,r.distcode=ob,r.distbits=5},E9=(r,e,n,i)=>{let a;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>i&&(a=i),o.window.set(e.subarray(n-i,n-i+a),o.wnext),i-=a,i?(o.window.set(e.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},jhe=(r,e)=>{let n,i,a,o,s,l,c,u,d,f,h,p,y,w,x=0,b,S,A,I,B,$,D,j;const O=new Uint8Array(4);let U,T;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qd(r)||!r.output||!r.input&&r.avail_in!==0)return Ro;n=r.state,n.mode===vl&&(n.mode=rb),s=r.next_out,a=r.output,c=r.avail_out,o=r.next_in,i=r.input,l=r.avail_in,u=n.hold,d=n.bits,f=l,h=c,j=Od;e:for(;;)switch(n.mode){case A2:if(n.wrap===0){n.mode=rb;break}for(;d<16;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,O[0]=u&255,O[1]=u>>>8&255,n.check=Os(n.check,O,2,0),u=0,d=0,n.mode=N3;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){r.msg="incorrect header check",n.mode=Jr;break}if((u&15)!==P3){r.msg="unknown compression method",n.mode=Jr;break}if(u>>>=4,d-=4,D=(u&15)+8,n.wbits===0&&(n.wbits=D),D>15||D>n.wbits){r.msg="invalid window size",n.mode=Jr;break}n.dmax=1<<n.wbits,n.flags=0,r.adler=n.check=1,n.mode=u&512?R3:vl,u=0,d=0;break;case N3:for(;d<16;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==P3){r.msg="unknown compression method",n.mode=Jr;break}if(n.flags&57344){r.msg="unknown header flags set",n.mode=Jr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,n.check=Os(n.check,O,2,0)),u=0,d=0,n.mode=T3;case T3:for(;d<32;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,n.check=Os(n.check,O,4,0)),u=0,d=0,n.mode=C3;case C3:for(;d<16;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,n.check=Os(n.check,O,2,0)),u=0,d=0,n.mode=I3;case I3:if(n.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,n.check=Os(n.check,O,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=j3;case j3:if(n.flags&1024&&(p=n.length,p>l&&(p=l),p&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+p),D)),n.flags&512&&n.wrap&4&&(n.check=Os(n.check,i,p,o)),l-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=O3;case O3:if(n.flags&2048){if(l===0)break e;p=0;do D=i[o+p++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D));while(D&&p<l);if(n.flags&512&&n.wrap&4&&(n.check=Os(n.check,i,p,o)),l-=p,o+=p,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=L3;case L3:if(n.flags&4096){if(l===0)break e;p=0;do D=i[o+p++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D));while(D&&p<l);if(n.flags&512&&n.wrap&4&&(n.check=Os(n.check,i,p,o)),l-=p,o+=p,D)break e}else n.head&&(n.head.comment=null);n.mode=D3;case D3:if(n.flags&512){for(;d<16;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){r.msg="header crc mismatch",n.mode=Jr;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),r.adler=n.check=0,n.mode=vl;break;case R3:for(;d<32;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}r.adler=n.check=Y3(u),u=0,d=0,n.mode=j0;case j0:if(n.havedict===0)return r.next_out=s,r.avail_out=c,r.next_in=o,r.avail_in=l,n.hold=u,n.bits=d,Ahe;r.adler=n.check=1,n.mode=vl;case vl:if(e===xhe||e===jv)break e;case rb:if(n.last){u>>>=d&7,d-=d&7,n.mode=ib;break}for(;d<3;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=M3;break;case 1:if(Ihe(n),n.mode=Ov,e===jv){u>>>=2,d-=2;break e}break;case 2:n.mode=B3;break;case 3:r.msg="invalid block type",n.mode=Jr}u>>>=2,d-=2;break;case M3:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){r.msg="invalid stored block lengths",n.mode=Jr;break}if(n.length=u&65535,u=0,d=0,n.mode=nb,e===jv)break e;case nb:n.mode=F3;case F3:if(p=n.length,p){if(p>l&&(p=l),p>c&&(p=c),p===0)break e;a.set(i.subarray(o,o+p),s),l-=p,o+=p,c-=p,s+=p,n.length-=p;break}n.mode=vl;break;case B3:for(;d<14;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){r.msg="too many length or distance symbols",n.mode=Jr;break}n.have=0,n.mode=U3;case U3:for(;n.have<n.ncode;){for(;d<3;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}n.lens[L[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,U={bits:n.lenbits},j=rm(bhe,n.lens,0,19,n.lencode,0,n.work,U),n.lenbits=U.bits,j){r.msg="invalid code lengths set",n.mode=Jr;break}n.have=0,n.mode=$3;case $3:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[u&(1<<n.lenbits)-1],b=x>>>24,S=x>>>16&255,A=x&65535,!(b<=d);){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}if(A<16)u>>>=b,d-=b,n.lens[n.have++]=A;else{if(A===16){for(T=b+2;d<T;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}if(u>>>=b,d-=b,n.have===0){r.msg="invalid bit length repeat",n.mode=Jr;break}D=n.lens[n.have-1],p=3+(u&3),u>>>=2,d-=2}else if(A===17){for(T=b+3;d<T;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}u>>>=b,d-=b,D=0,p=3+(u&7),u>>>=3,d-=3}else{for(T=b+7;d<T;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}u>>>=b,d-=b,D=0,p=11+(u&127),u>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){r.msg="invalid bit length repeat",n.mode=Jr;break}for(;p--;)n.lens[n.have++]=D}}if(n.mode===Jr)break;if(n.lens[256]===0){r.msg="invalid code -- missing end-of-block",n.mode=Jr;break}if(n.lenbits=9,U={bits:n.lenbits},j=rm(m9,n.lens,0,n.nlen,n.lencode,0,n.work,U),n.lenbits=U.bits,j){r.msg="invalid literal/lengths set",n.mode=Jr;break}if(n.distbits=6,n.distcode=n.distdyn,U={bits:n.distbits},j=rm(g9,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,U),n.distbits=U.bits,j){r.msg="invalid distances set",n.mode=Jr;break}if(n.mode=Ov,e===jv)break e;case Ov:n.mode=Lv;case Lv:if(l>=6&&c>=258){r.next_out=s,r.avail_out=c,r.next_in=o,r.avail_in=l,n.hold=u,n.bits=d,phe(r,h),s=r.next_out,a=r.output,c=r.avail_out,o=r.next_in,i=r.input,l=r.avail_in,u=n.hold,d=n.bits,n.mode===vl&&(n.back=-1);break}for(n.back=0;x=n.lencode[u&(1<<n.lenbits)-1],b=x>>>24,S=x>>>16&255,A=x&65535,!(b<=d);){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}if(S&&!(S&240)){for(I=b,B=S,$=A;x=n.lencode[$+((u&(1<<I+B)-1)>>I)],b=x>>>24,S=x>>>16&255,A=x&65535,!(I+b<=d);){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}u>>>=I,d-=I,n.back+=I}if(u>>>=b,d-=b,n.back+=b,n.length=A,S===0){n.mode=H3;break}if(S&32){n.back=-1,n.mode=vl;break}if(S&64){r.msg="invalid literal/length code",n.mode=Jr;break}n.extra=S&15,n.mode=z3;case z3:if(n.extra){for(T=n.extra;d<T;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=V3;case V3:for(;x=n.distcode[u&(1<<n.distbits)-1],b=x>>>24,S=x>>>16&255,A=x&65535,!(b<=d);){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}if(!(S&240)){for(I=b,B=S,$=A;x=n.distcode[$+((u&(1<<I+B)-1)>>I)],b=x>>>24,S=x>>>16&255,A=x&65535,!(I+b<=d);){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}u>>>=I,d-=I,n.back+=I}if(u>>>=b,d-=b,n.back+=b,S&64){r.msg="invalid distance code",n.mode=Jr;break}n.offset=A,n.extra=S&15,n.mode=q3;case q3:if(n.extra){for(T=n.extra;d<T;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){r.msg="invalid distance too far back",n.mode=Jr;break}n.mode=W3;case W3:if(c===0)break e;if(p=h-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){r.msg="invalid distance too far back",n.mode=Jr;break}p>n.wnext?(p-=n.wnext,y=n.wsize-p):y=n.wnext-p,p>n.length&&(p=n.length),w=n.window}else w=a,y=s-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do a[s++]=w[y++];while(--p);n.length===0&&(n.mode=Lv);break;case H3:if(c===0)break e;a[s++]=n.length,c--,n.mode=Lv;break;case ib:if(n.wrap){for(;d<32;){if(l===0)break e;l--,u|=i[o++]<<d,d+=8}if(h-=c,r.total_out+=h,n.total+=h,n.wrap&4&&h&&(r.adler=n.check=n.flags?Os(n.check,a,h,s-h):W5(n.check,a,h,s-h)),h=c,n.wrap&4&&(n.flags?u:Y3(u))!==n.check){r.msg="incorrect data check",n.mode=Jr;break}u=0,d=0}n.mode=K3;case K3:if(n.wrap&&n.flags){for(;d<32;){if(l===0)break e;l--,u+=i[o++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){r.msg="incorrect length check",n.mode=Jr;break}u=0,d=0}n.mode=G3;case G3:j=_he;break e;case Jr:j=v9;break e;case w9:return y9;case b9:default:return Ro}return r.next_out=s,r.avail_out=c,r.next_in=o,r.avail_in=l,n.hold=u,n.bits=d,(n.wsize||h!==r.avail_out&&n.mode<Jr&&(n.mode<ib||e!==k3))&&E9(r,r.output,r.next_out,h-r.avail_out),f-=r.avail_in,h-=r.avail_out,r.total_in+=f,r.total_out+=h,n.total+=h,n.wrap&4&&h&&(r.adler=n.check=n.flags?Os(n.check,a,h,r.next_out-h):W5(n.check,a,h,r.next_out-h)),r.data_type=n.bits+(n.last?64:0)+(n.mode===vl?128:0)+(n.mode===Ov||n.mode===nb?256:0),(f===0&&h===0||e===k3)&&j===Od&&(j=She),j},Ohe=r=>{if(qd(r))return Ro;let e=r.state;return e.window&&(e.window=null),r.state=null,Od},Lhe=(r,e)=>{if(qd(r))return Ro;const n=r.state;return n.wrap&2?(n.head=e,e.done=!1,Od):Ro},Dhe=(r,e)=>{const n=e.length;let i,a,o;return qd(r)||(i=r.state,i.wrap!==0&&i.mode!==j0)?Ro:i.mode===j0&&(a=1,a=W5(a,e,n,0),a!==i.check)?v9:(o=E9(r,e,n,n),o?(i.mode=w9,y9):(i.havedict=1,Od))};var Rhe=_9,Mhe=A9,Fhe=x9,Bhe=Che,Uhe=S9,$he=jhe,zhe=Ohe,Vhe=Lhe,qhe=Dhe,Whe="pako inflate (from Nodeca project)",bl={inflateReset:Rhe,inflateReset2:Mhe,inflateResetKeep:Fhe,inflateInit:Bhe,inflateInit2:Uhe,inflate:$he,inflateEnd:zhe,inflateGetHeader:Vhe,inflateSetDictionary:qhe,inflateInfo:Whe};function Hhe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Khe=Hhe;const k9=Object.prototype.toString,{Z_NO_FLUSH:Ghe,Z_FINISH:Yhe,Z_OK:Km,Z_STREAM_END:sb,Z_NEED_DICT:lb,Z_STREAM_ERROR:Qhe,Z_DATA_ERROR:X3,Z_MEM_ERROR:Xhe}=f9;function Tg(r){this.options=h9.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fhe,this.strm.avail_out=0;let n=bl.inflateInit2(this.strm,e.windowBits);if(n!==Km)throw new Error(H5[n]);if(this.header=new Khe,bl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=K5.string2buf(e.dictionary):k9.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=bl.inflateSetDictionary(this.strm,e.dictionary),n!==Km)))throw new Error(H5[n])}Tg.prototype.push=function(r,e){const n=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let o,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Yhe:Ghe,k9.call(r)==="[object ArrayBuffer]"?n.input=new Uint8Array(r):n.input=r,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=bl.inflate(n,s),o===lb&&a&&(o=bl.inflateSetDictionary(n,a),o===Km?o=bl.inflate(n,s):o===X3&&(o=lb));n.avail_in>0&&o===sb&&n.state.wrap>0&&r[n.next_in]!==0;)bl.inflateReset(n),o=bl.inflate(n,s);switch(o){case Qhe:case X3:case lb:case Xhe:return this.onEnd(o),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||o===sb))if(this.options.to==="string"){let c=K5.utf8border(n.output,n.next_out),u=n.next_out-c,d=K5.buf2string(n.output,c);n.next_out=u,n.avail_out=i-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Km&&l===0)){if(o===sb)return o=bl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Tg.prototype.onData=function(r){this.chunks.push(r)};Tg.prototype.onEnd=function(r){r===Km&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h9.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function Zhe(r,e){const n=new Tg(e);if(n.push(r),n.err)throw n.msg||H5[n.err];return n.result}var Jhe=Tg,epe=Zhe,tpe={Inflate:Jhe,inflate:epe};const{Inflate:rpe,inflate:npe}=tpe;var Z3=rpe,ipe=npe;const P9=[];for(let r=0;r<256;r++){let e=r;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;P9[r]=e}const J3=4294967295;function ape(r,e,n){let i=r;for(let a=0;a<n;a++)i=P9[(i^e[a])&255]^i>>>8;return i}function ope(r,e){return(ape(J3,r,e)^J3)>>>0}function eI(r,e,n){const i=r.readUint32(),a=ope(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${a}`)}function N9(r,e,n){for(let i=0;i<n;i++)e[i]=r[i]}function T9(r,e,n,i){let a=0;for(;a<i;a++)e[a]=r[a];for(;a<n;a++)e[a]=r[a]+e[a-i]&255}function C9(r,e,n,i){let a=0;if(n.length===0)for(;a<i;a++)e[a]=r[a];else for(;a<i;a++)e[a]=r[a]+n[a]&255}function I9(r,e,n,i,a){let o=0;if(n.length===0){for(;o<a;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=r[o]+(n[o]>>1)&255;for(;o<i;o++)e[o]=r[o]+(e[o-a]+n[o]>>1)&255}}function j9(r,e,n,i,a){let o=0;if(n.length===0){for(;o<a;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=r[o]+n[o]&255;for(;o<i;o++)e[o]=r[o]+spe(e[o-a],n[o],n[o-a])&255}}function spe(r,e,n){const i=r+e-n,a=Math.abs(i-r),o=Math.abs(i-e),s=Math.abs(i-n);return a<=o&&a<=s?r:o<=s?e:n}function lpe(r,e,n,i,a,o){switch(r){case 0:N9(e,n,a);break;case 1:T9(e,n,a,o);break;case 2:C9(e,n,i,a);break;case 3:I9(e,n,i,a,o);break;case 4:j9(e,n,i,a,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const cpe=new Uint16Array([255]),upe=new Uint8Array(cpe.buffer),dpe=upe[0]===255;function fpe(r){const{data:e,width:n,height:i,channels:a,depth:o}=r,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(o/8)*a,c=new Uint8Array(i*n*l);let u=0;for(let d=0;d<7;d++){const f=s[d],h=Math.ceil((n-f.x)/f.xStep),p=Math.ceil((i-f.y)/f.yStep);if(h<=0||p<=0)continue;const y=h*l,w=new Uint8Array(y);for(let x=0;x<p;x++){const b=e[u++],S=e.subarray(u,u+y);u+=y;const A=new Uint8Array(y);lpe(b,S,A,w,y,l),w.set(A);for(let I=0;I<h;I++){const B=f.x+I*f.xStep,$=f.y+x*f.yStep;if(!(B>=n||$>=i))for(let D=0;D<l;D++)c[($*n+B)*l+D]=A[I*l+D]}}}if(o===16){const d=new Uint16Array(c.buffer);if(dpe)for(let f=0;f<d.length;f++)d[f]=hpe(d[f]);return d}else return c}function hpe(r){return(r&255)<<8|r>>8&255}const ppe=new Uint16Array([255]),mpe=new Uint8Array(ppe.buffer),gpe=mpe[0]===255,vpe=new Uint8Array(0);function tI(r){const{data:e,width:n,height:i,channels:a,depth:o}=r,s=Math.ceil(o/8)*a,l=Math.ceil(o/8*a*n),c=new Uint8Array(i*l);let u=vpe,d=0,f,h;for(let p=0;p<i;p++){switch(f=e.subarray(d+1,d+1+l),h=c.subarray(p*l,(p+1)*l),e[d]){case 0:N9(f,h,l);break;case 1:T9(f,h,l,s);break;case 2:C9(f,h,u,l);break;case 3:I9(f,h,u,l,s);break;case 4:j9(f,h,u,l,s);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=h,d+=l+1}if(o===16){const p=new Uint16Array(c.buffer);if(gpe)for(let y=0;y<p.length;y++)p[y]=ype(p[y]);return p}else return c}function ype(r){return(r&255)<<8|r>>8&255}const ay=Uint8Array.of(137,80,78,71,13,10,26,10);function rI(r){if(!wpe(r.readBytes(ay.length)))throw new Error("wrong PNG signature")}function wpe(r){if(r.length<ay.length)return!1;for(let e=0;e<ay.length;e++)if(r[e]!==ay[e])return!1;return!0}const bpe="tEXt",xpe=0,O9=new TextDecoder("latin1");function _pe(r){if(Spe(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const Ape=/^[\u0000-\u00FF]*$/;function Spe(r){if(!Ape.test(r))throw new Error("invalid latin1 text")}function Epe(r,e,n){const i=L9(e);r[i]=kpe(e,n-i.length-1)}function L9(r){for(r.mark();r.readByte()!==xpe;);const e=r.offset;r.reset();const n=O9.decode(r.readBytes(e-r.offset-1));return r.skip(1),_pe(n),n}function kpe(r,e){return O9.decode(r.readBytes(e))}const za={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},cb={UNKNOWN:-1,DEFLATE:0},nI={UNKNOWN:-1,ADAPTIVE:0},ub={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Dv={NONE:0,BACKGROUND:1,PREVIOUS:2},db={SOURCE:0,OVER:1};class Ppe extends lk{constructor(n,i={}){super(n);Zt(this,"_checkCrc");Zt(this,"_inflator");Zt(this,"_png");Zt(this,"_apng");Zt(this,"_end");Zt(this,"_hasPalette");Zt(this,"_palette");Zt(this,"_hasTransparency");Zt(this,"_transparency");Zt(this,"_compressionMethod");Zt(this,"_filterMethod");Zt(this,"_interlaceMethod");Zt(this,"_colorType");Zt(this,"_isAnimated");Zt(this,"_numberOfFrames");Zt(this,"_numberOfPlays");Zt(this,"_frames");Zt(this,"_writingDataChunks");const{checkCrc:a=!1}=i;this._checkCrc=a,this._inflator=new Z3,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=cb.UNKNOWN,this._filterMethod=nI.UNKNOWN,this._interlaceMethod=ub.UNKNOWN,this._colorType=za.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(rI(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeChunk(n,i)}return this.decodeImage(),this._png}decodeApng(){for(rI(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(n,i)}return this.decodeApngImage(),this._apng}decodeChunk(n,i){const a=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case bpe:Epe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-a!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?eI(this,n+4,i):this.skip(4)}decodeApngChunk(n,i){const a=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,i),this.offset=a+n;break}if(this.offset-a!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?eI(this,n+4,i):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Npe(this.readUint8());const i=this.readUint8();this._colorType=i;let a;switch(i){case za.GREYSCALE:a=1;break;case za.TRUECOLOUR:a=3;break;case za.INDEXED_COLOUR:a=1;break;case za.GREYSCALE_ALPHA:a=2;break;case za.TRUECOLOUR_ALPHA:a=4;break;case za.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==cb.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const i=n/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<i;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const i=n,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let i=n,a=this.offset+this.byteOffset;if(a+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,a,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case za.GREYSCALE:case za.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let i=0;i<n/2;i++)this._transparency[i]=this.readUint16();break}case za.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let i=0;for(;i<n;i++){const a=this.readByte();this._palette[i].push(a)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case za.UNKNOWN:case za.GREYSCALE_ALPHA:case za.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const i=L9(this),a=this.readUint8();if(a!==cb.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(n-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:ipe(o)}}decodepHYs(){const n=this.readUint32(),i=this.readUint32(),a=this.readByte();this._png.resolution={x:n,y:i,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const i={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(n);if(a){if(a.data=tI({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)i.data=a.data;else{const o=this._apng.frames.at(n-1);this.disposeFrame(a,o,i),this.addFrameDataToCanvas(i,a)}this._apng.frames.push(i)}}return this._apng}disposeFrame(n,i,a){switch(n.disposeOp){case Dv.NONE:break;case Dv.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let s=0;s<this._png.width;s++){const l=(o*n.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case Dv.PREVIOUS:a.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,i){const a=1<<this._png.depth,o=(s,l)=>{const c=((s+i.yOffset)*this._png.width+i.xOffset+l)*this._png.channels,u=(s*i.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(i.blendOp){case db.SOURCE:for(let s=0;s<i.height;s++)for(let l=0;l<i.width;l++){const{index:c,frameIndex:u}=o(s,l);for(let d=0;d<this._png.channels;d++)n.data[c+d]=i.data[u+d]}break;case db.OVER:for(let s=0;s<i.height;s++)for(let l=0;l<i.width;l++){const{index:c,frameIndex:u}=o(s,l);for(let d=0;d<this._png.channels;d++){const f=i.data[u+this._png.channels-1]/a,h=d%(this._png.channels-1)===0?1:i.data[u+d],p=Math.floor(f*h+(1-f)*n.data[c+d]);n.data[c+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==nI.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===ub.NO_INTERLACE)this._png.data=tI({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===ub.ADAM7)this._png.data=fpe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,i=this._frames.at(-1);i?i.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Dv.NONE,blendOp:db.SOURCE,data:n}),this._inflator=new Z3,this._writingDataChunks=!1}}function Npe(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var iI;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(iI||(iI={}));function Tpe(r,e){return new Ppe(r,e).decode()}var Et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function fb(){Et.console&&typeof Et.console.log=="function"&&Et.console.log.apply(Et.console,arguments)}var Tr={log:fb,warn:function(r){Et.console&&(typeof Et.console.warn=="function"?Et.console.warn.apply(Et.console,arguments):fb.call(null,arguments))},error:function(r){Et.console&&(typeof Et.console.error=="function"?Et.console.error.apply(Et.console,arguments):fb(r))}};function hb(r,e,n){var i=new XMLHttpRequest;i.open("GET",r),i.responseType="blob",i.onload=function(){Qu(i.response,e,n)},i.onerror=function(){Tr.error("could not download file")},i.send()}function aI(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Rv(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Qu=Et.saveAs||((typeof window>"u"?"undefined":Ar(window))!=="object"||window!==Et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,n){var i=Et.URL||Et.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?aI(a.href)?hb(r,e,n):Rv(a,a.target="_blank"):Rv(a)):(a.href=i.createObjectURL(r),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){Rv(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,n){if(e=e||r.name||"download",typeof r=="string")if(aI(r))hb(r,e,n);else{var i=document.createElement("a");i.href=r,i.target="_blank",setTimeout(function(){Rv(i)})}else navigator.msSaveOrOpenBlob(function(a,o){return o===void 0?o={autoBom:!1}:Ar(o)!=="object"&&(Tr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(r,n),e)}:function(r,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof r=="string")return hb(r,e,n);var a=r.type==="application/octet-stream",o=/constructor/i.test(Et.HTMLElement)||Et.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&o)&&(typeof FileReader>"u"?"undefined":Ar(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=d:location=d,i=null},l.readAsDataURL(r)}else{var c=Et.URL||Et.webkitURL,u=c.createObjectURL(r);i?i.location=u:location.href=u,i=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function D9(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],i=0;i<n.length;i++){var a=n[i].re,o=n[i].process,s=a.exec(r);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var oy=Et.atob.bind(Et),oI=Et.btoa.bind(Et);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function pb(r,e){var n=r[0],i=r[1],a=r[2],o=r[3];n=Di(n,i,a,o,e[0],7,-680876936),o=Di(o,n,i,a,e[1],12,-389564586),a=Di(a,o,n,i,e[2],17,606105819),i=Di(i,a,o,n,e[3],22,-1044525330),n=Di(n,i,a,o,e[4],7,-176418897),o=Di(o,n,i,a,e[5],12,1200080426),a=Di(a,o,n,i,e[6],17,-1473231341),i=Di(i,a,o,n,e[7],22,-45705983),n=Di(n,i,a,o,e[8],7,1770035416),o=Di(o,n,i,a,e[9],12,-1958414417),a=Di(a,o,n,i,e[10],17,-42063),i=Di(i,a,o,n,e[11],22,-1990404162),n=Di(n,i,a,o,e[12],7,1804603682),o=Di(o,n,i,a,e[13],12,-40341101),a=Di(a,o,n,i,e[14],17,-1502002290),n=Ri(n,i=Di(i,a,o,n,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Ri(o,n,i,a,e[6],9,-1069501632),a=Ri(a,o,n,i,e[11],14,643717713),i=Ri(i,a,o,n,e[0],20,-373897302),n=Ri(n,i,a,o,e[5],5,-701558691),o=Ri(o,n,i,a,e[10],9,38016083),a=Ri(a,o,n,i,e[15],14,-660478335),i=Ri(i,a,o,n,e[4],20,-405537848),n=Ri(n,i,a,o,e[9],5,568446438),o=Ri(o,n,i,a,e[14],9,-1019803690),a=Ri(a,o,n,i,e[3],14,-187363961),i=Ri(i,a,o,n,e[8],20,1163531501),n=Ri(n,i,a,o,e[13],5,-1444681467),o=Ri(o,n,i,a,e[2],9,-51403784),a=Ri(a,o,n,i,e[7],14,1735328473),n=Mi(n,i=Ri(i,a,o,n,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Mi(o,n,i,a,e[8],11,-2022574463),a=Mi(a,o,n,i,e[11],16,1839030562),i=Mi(i,a,o,n,e[14],23,-35309556),n=Mi(n,i,a,o,e[1],4,-1530992060),o=Mi(o,n,i,a,e[4],11,1272893353),a=Mi(a,o,n,i,e[7],16,-155497632),i=Mi(i,a,o,n,e[10],23,-1094730640),n=Mi(n,i,a,o,e[13],4,681279174),o=Mi(o,n,i,a,e[0],11,-358537222),a=Mi(a,o,n,i,e[3],16,-722521979),i=Mi(i,a,o,n,e[6],23,76029189),n=Mi(n,i,a,o,e[9],4,-640364487),o=Mi(o,n,i,a,e[12],11,-421815835),a=Mi(a,o,n,i,e[15],16,530742520),n=Fi(n,i=Mi(i,a,o,n,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Fi(o,n,i,a,e[7],10,1126891415),a=Fi(a,o,n,i,e[14],15,-1416354905),i=Fi(i,a,o,n,e[5],21,-57434055),n=Fi(n,i,a,o,e[12],6,1700485571),o=Fi(o,n,i,a,e[3],10,-1894986606),a=Fi(a,o,n,i,e[10],15,-1051523),i=Fi(i,a,o,n,e[1],21,-2054922799),n=Fi(n,i,a,o,e[8],6,1873313359),o=Fi(o,n,i,a,e[15],10,-30611744),a=Fi(a,o,n,i,e[6],15,-1560198380),i=Fi(i,a,o,n,e[13],21,1309151649),n=Fi(n,i,a,o,e[4],6,-145523070),o=Fi(o,n,i,a,e[11],10,-1120210379),a=Fi(a,o,n,i,e[2],15,718787259),i=Fi(i,a,o,n,e[9],21,-343485551),r[0]=Fc(n,r[0]),r[1]=Fc(i,r[1]),r[2]=Fc(a,r[2]),r[3]=Fc(o,r[3])}function S2(r,e,n,i,a,o){return e=Fc(Fc(e,r),Fc(i,o)),Fc(e<<a|e>>>32-a,n)}function Di(r,e,n,i,a,o,s){return S2(e&n|~e&i,r,e,a,o,s)}function Ri(r,e,n,i,a,o,s){return S2(e&i|n&~i,r,e,a,o,s)}function Mi(r,e,n,i,a,o,s){return S2(e^n^i,r,e,a,o,s)}function Fi(r,e,n,i,a,o,s){return S2(n^(e|~i),r,e,a,o,s)}function R9(r){var e,n=r.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)pb(i,Cpe(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(pb(i,a),e=0;e<16;e++)a[e]=0;return a[14]=8*n,pb(i,a),i}function Cpe(r){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return n}var sI="0123456789abcdef".split("");function Ipe(r){for(var e="",n=0;n<4;n++)e+=sI[r>>8*n+4&15]+sI[r>>8*n&15];return e}function jpe(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function G5(r){return R9(r).map(jpe).join("")}var Ope=function(r){for(var e=0;e<r.length;e++)r[e]=Ipe(r[e]);return r.join("")}(R9("hello"))!="5d41402abc4b2a76b9719d911017c592";function Fc(r,e){if(Ope){var n=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(n>>16)<<16|65535&n}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Y5(r,e){var n,i,a,o;if(r!==n){for(var s=(a=r,o=1+(256/r.length|0),new Array(o+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+s.charCodeAt(c))%256,l[c]=l[u],l[u]=d}n=r,i=l}else l=i;var f=e.length,h=0,p=0,y="";for(c=0;c<f;c++)p=(p+(d=l[h=(h+1)%256]))%256,l[h]=l[p],l[p]=d,s=l[(l[h]+l[p])%256],y+=String.fromCharCode(e.charCodeAt(c)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lI={print:4,modify:8,copy:16,"annot-forms":32};function uf(r,e,n,i){this.v=1,this.r=2;var a=192;r.forEach(function(l){if(lI.perm!==void 0)throw new Error("Invalid permission: "+l);a+=lI[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^a)),this.encryptionKey=G5(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Y5(this.encryptionKey,this.padding)}function df(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",n=r.length,i=0;i<n;i++){var a=r.charCodeAt(i);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[i]}return e}function cI(r){if(Ar(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,a){if(a=a||!1,typeof n!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[i,!!a],o},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(r,i)}catch(l){Et.console&&Tr.error("jsPDF PubSub Error",l.message,l)}s[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function O0(r){if(!(this instanceof O0))return new O0(r);var e="opacity,stroke-opacity".split(",");for(var n in r)r.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=r[n]);this.id="",this.objectNumber=-1}function M9(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Xu(r,e,n,i,a){if(!(this instanceof Xu))return new Xu(r,e,n,i,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=n,M9.call(this,i,a)}function Pf(r,e,n,i,a){if(!(this instanceof Pf))return new Pf(r,e,n,i,a);this.boundingBox=r,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,M9.call(this,i,a)}function dt(r){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],o=arguments[3],s=[],l=1,c=16,u="S",d=null;Ar(r=r||{})==="object"&&(n=r.orientation,i=r.unit||i,a=r.format||a,o=r.compress||r.compressPdf||o,(d=r.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),u=r.defaultPathOperation||"S"),s=r.filters||(o===!0?["FlateEncode"]:s),i=i||"mm",n=(""+(n||"P")).toLowerCase();var f=r.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=cI;var y="1.3",w=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(E){y=E};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var b=p.__private__.getPageFormat=function(E){return x[E]};a=a||"a4";var S="compat",A="advanced",I=S;function B(){this.saveGraphicsState(),re(new gt(wt,0,0,-wt,0,Xi()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),u="n",I=A}function $(){this.restoreGraphicsState(),u="S",I=S}var D=p.__private__.combineFontStyleAndFontWeight=function(E,z){if(E=="bold"&&z=="normal"||E=="bold"&&z==400||E=="normal"&&z=="italic"||E=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(E=z==400||z==="normal"?E==="italic"?"italic":"normal":z!=700&&z!=="bold"||E!=="normal"?(z==700?"bold":z)+""+E:"bold"),E};p.advancedAPI=function(E){var z=I===S;return z&&B.call(this),typeof E!="function"||(E(this),z&&$.call(this)),this},p.compatAPI=function(E){var z=I===A;return z&&$.call(this),typeof E!="function"||(E(this),z&&B.call(this)),this},p.isAdvancedAPI=function(){return I===A};var j,O=function(E){if(I!==A)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=p.roundToPrecision=p.__private__.roundToPrecision=function(E,z){var J=e||z;if(isNaN(E)||isNaN(J))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(J).replace(/0+$/,"")};j=p.hpf=p.__private__.hpf=typeof c=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return U(E,c)}:c==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return U(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return U(E,16)};var T=p.f2=p.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return U(E,2)},L=p.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return U(E,3)},C=p.scale=p.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return I===S?E*wt:I===A?E:void 0},Y=function(E){return C(function(z){return I===S?Xi()-z:I===A?z:void 0}(E))};p.__private__.setPrecision=p.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var oe,se="00000000000000000000000000000000",pe=p.__private__.getFileId=function(){return se},X=p.__private__.setFileId=function(E){return se=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(yr=new uf(d.userPermissions,d.userPassword,d.ownerPassword,se)),se};p.setFileId=function(E){return X(E),this},p.getFileId=function(){return pe()};var le=p.__private__.convertDateToPDFDate=function(E){var z=E.getTimezoneOffset(),J=z<0?"+":"-",ce=Math.floor(Math.abs(z/60)),ge=Math.abs(z%60),Ce=[J,Z(ce),"'",Z(ge),"'"].join("");return["D:",E.getFullYear(),Z(E.getMonth()+1),Z(E.getDate()),Z(E.getHours()),Z(E.getMinutes()),Z(E.getSeconds()),Ce].join("")},ie=p.__private__.convertPDFDateToDate=function(E){var z=parseInt(E.substr(2,4),10),J=parseInt(E.substr(6,2),10)-1,ce=parseInt(E.substr(8,2),10),ge=parseInt(E.substr(10,2),10),Ce=parseInt(E.substr(12,2),10),Oe=parseInt(E.substr(14,2),10);return new Date(z,J,ce,ge,Ce,Oe,0)},ne=p.__private__.setCreationDate=function(E){var z;if(E===void 0&&(E=new Date),E instanceof Date)z=le(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=E}return oe=z},M=p.__private__.getCreationDate=function(E){var z=oe;return E==="jsDate"&&(z=ie(oe)),z};p.setCreationDate=function(E){return ne(E),this},p.getCreationDate=function(E){return M(E)};var K,Z=p.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},ae=p.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},de=0,me=[],Ee=[],ue=0,Ae=[],Pe=[],we=!1,Ue=Ee;p.__private__.setCustomOutputDestination=function(E){we=!0,Ue=E};var be=function(E){we||(Ue=E)};p.__private__.resetCustomOutputDestination=function(){we=!1,Ue=Ee};var re=p.__private__.out=function(E){return E=E.toString(),ue+=E.length+1,Ue.push(E),Ue},mt=p.__private__.write=function(E){return re(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},vt=p.__private__.getArrayBuffer=function(E){for(var z=E.length,J=new ArrayBuffer(z),ce=new Uint8Array(J);z--;)ce[z]=E.charCodeAt(z);return J},ft=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ft};var Fe=r.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(E){return Fe=I===A?E/wt:E,this};var at,Ve=p.__private__.getFontSize=p.getFontSize=function(){return I===S?Fe:Fe*wt},Ct=r.R2L||!1;p.__private__.setR2L=p.setR2L=function(E){return Ct=E,this},p.__private__.getR2L=p.getR2L=function(){return Ct};var lt,Yt=p.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))at=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');at=E}else at=parseInt(E,10)};p.__private__.getZoomMode=function(){return at};var kt,ot=p.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');lt=E};p.__private__.getPageMode=function(){return lt};var It=p.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');kt=E};p.__private__.getLayoutMode=function(){return kt},p.__private__.setDisplayMode=p.setDisplayMode=function(E,z,J){return Yt(E),It(z),ot(J),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(E){if(Object.keys(At).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[E]},p.__private__.getDocumentProperties=function(){return At},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(E){for(var z in At)At.hasOwnProperty(z)&&E[z]&&(At[z]=E[z]);return this},p.__private__.setDocumentProperty=function(E,z){if(Object.keys(At).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[E]=z};var ct,wt,ht,lr,er,tt={},St={},vr=[],yt={},$t={},Pt={},Yr={},Br=null,pr=0,xt=[],zt=new cI(p),hs=r.hotfixes||[],xn={},ho={},Pi=[],gt=function E(z,J,ce,ge,Ce,Oe){if(!(this instanceof E))return new E(z,J,ce,ge,Ce,Oe);isNaN(z)&&(z=1),isNaN(J)&&(J=0),isNaN(ce)&&(ce=0),isNaN(ge)&&(ge=1),isNaN(Ce)&&(Ce=0),isNaN(Oe)&&(Oe=0),this._matrix=[z,J,ce,ge,Ce,Oe]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(E)},gt.prototype.multiply=function(E){var z=E.sx*this.sx+E.shy*this.shx,J=E.sx*this.shy+E.shy*this.sy,ce=E.shx*this.sx+E.sy*this.shx,ge=E.shx*this.shy+E.sy*this.sy,Ce=E.tx*this.sx+E.ty*this.shx+this.tx,Oe=E.tx*this.shy+E.ty*this.sy+this.ty;return new gt(z,J,ce,ge,Ce,Oe)},gt.prototype.decompose=function(){var E=this.sx,z=this.shy,J=this.shx,ce=this.sy,ge=this.tx,Ce=this.ty,Oe=Math.sqrt(E*E+z*z),We=(E/=Oe)*J+(z/=Oe)*ce;J-=E*We,ce-=z*We;var Ze=Math.sqrt(J*J+ce*ce);return We/=Ze,E*(ce/=Ze)<z*(J/=Ze)&&(E=-E,z=-z,We=-We,Oe=-Oe),{scale:new gt(Oe,0,0,Ze,0,0),translate:new gt(1,0,0,1,ge,Ce),rotate:new gt(E,z,-z,E,0,0),skew:new gt(1,0,We,1,0,0)}},gt.prototype.toString=function(E){return this.join(" ")},gt.prototype.inversed=function(){var E=this.sx,z=this.shy,J=this.shx,ce=this.sy,ge=this.tx,Ce=this.ty,Oe=1/(E*ce-z*J),We=ce*Oe,Ze=-z*Oe,bt=-J*Oe,Nt=E*Oe;return new gt(We,Ze,bt,Nt,-We*ge-bt*Ce,-Ze*ge-Nt*Ce)},gt.prototype.applyToPoint=function(E){var z=E.x*this.sx+E.y*this.shx+this.tx,J=E.x*this.shy+E.y*this.sy+this.ty;return new As(z,J)},gt.prototype.applyToRectangle=function(E){var z=this.applyToPoint(E),J=this.applyToPoint(new As(E.x+E.w,E.y+E.h));return new lc(z.x,z.y,J.x-z.x,J.y-z.y)},gt.prototype.clone=function(){var E=this.sx,z=this.shy,J=this.shx,ce=this.sy,ge=this.tx,Ce=this.ty;return new gt(E,z,J,ce,ge,Ce)},p.Matrix=gt;var Ur=p.matrixMult=function(E,z){return z.multiply(E)},po=new gt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=po;var ti=function(E,z){if(!$t[E]){var J=(z instanceof Xu?"Sh":"P")+(Object.keys(yt).length+1).toString(10);z.id=J,$t[E]=J,yt[J]=z,zt.publish("addPattern",z)}};p.ShadingPattern=Xu,p.TilingPattern=Pf,p.addShadingPattern=function(E,z){return O("addShadingPattern()"),ti(E,z),this},p.beginTilingPattern=function(E){O("beginTilingPattern()"),Ss(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},p.endTilingPattern=function(E,z){O("endTilingPattern()"),z.stream=Pe[K].join(`
`),ti(E,z),zt.publish("endTilingPattern",z),Pi.pop().restore()};var ri,Qr=p.__private__.newObject=function(){var E=Dn();return Xr(E,!0),E},Dn=p.__private__.newObjectDeferred=function(){return de++,me[de]=function(){return ue},de},Xr=function(E,z){return z=typeof z=="boolean"&&z,me[E]=ue,z&&re(E+" 0 obj"),E},tl=p.__private__.newAdditionalObject=function(){var E={objId:Dn(),content:""};return Ae.push(E),E},ps=Dn(),Ni=Dn(),Ta=p.__private__.decodeColorString=function(E){var z=E.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var J=parseFloat(z[0]);z=[J,J,J,"r"]}for(var ce="#",ge=0;ge<3;ge++)ce+=("0"+Math.floor(255*parseFloat(z[ge])).toString(16)).slice(-2);return ce},Gi=p.__private__.encodeColorString=function(E){var z;typeof E=="string"&&(E={ch1:E});var J=E.ch1,ce=E.ch2,ge=E.ch3,Ce=E.ch4,Oe=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof J=="string"&&J.charAt(0)!=="#"){var We=new D9(J);if(We.ok)J=We.toHex();else if(!/^\d*\.?\d*$/.test(J))throw new Error('Invalid color "'+J+'" passed to jsPDF.encodeColorString.')}if(typeof J=="string"&&/^#[0-9A-Fa-f]{3}$/.test(J)&&(J="#"+J[1]+J[1]+J[2]+J[2]+J[3]+J[3]),typeof J=="string"&&/^#[0-9A-Fa-f]{6}$/.test(J)){var Ze=parseInt(J.substr(1),16);J=Ze>>16&255,ce=Ze>>8&255,ge=255&Ze}if(ce===void 0||Ce===void 0&&J===ce&&ce===ge)z=typeof J=="string"?J+" "+Oe[0]:E.precision===2?T(J/255)+" "+Oe[0]:L(J/255)+" "+Oe[0];else if(Ce===void 0||Ar(Ce)==="object"){if(Ce&&!isNaN(Ce.a)&&Ce.a===0)return["1.","1.","1.",Oe[1]].join(" ");z=typeof J=="string"?[J,ce,ge,Oe[1]].join(" "):E.precision===2?[T(J/255),T(ce/255),T(ge/255),Oe[1]].join(" "):[L(J/255),L(ce/255),L(ge/255),Oe[1]].join(" ")}else z=typeof J=="string"?[J,ce,ge,Ce,Oe[2]].join(" "):E.precision===2?[T(J),T(ce),T(ge),T(Ce),Oe[2]].join(" "):[L(J),L(ce),L(ge),L(Ce),Oe[2]].join(" ");return z},Ti=p.__private__.getFilters=function(){return s},_n=p.__private__.putStream=function(E){var z=(E=E||{}).data||"",J=E.filters||Ti(),ce=E.alreadyAppliedFilters||[],ge=E.addLength1||!1,Ce=z.length,Oe=E.objectId,We=function(dn){return dn};if(d!==null&&Oe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(We=yr.encryptor(Oe,0));var Ze={};J===!0&&(J=["FlateEncode"]);var bt=E.additionalKeyValues||[],Nt=(Ze=dt.API.processDataByFilters!==void 0?dt.API.processDataByFilters(z,J):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(Ze.data.length!==0&&(bt.push({key:"Length",value:Ze.data.length}),ge===!0&&bt.push({key:"Length1",value:Ce})),Nt.length!=0)if(Nt.split("/").length-1==1)bt.push({key:"Filter",value:Nt});else{bt.push({key:"Filter",value:"["+Nt+"]"});for(var Qt=0;Qt<bt.length;Qt+=1)if(bt[Qt].key==="DecodeParms"){for(var Or=[],$r=0;$r<Ze.reverseChain.split("/").length-1;$r+=1)Or.push("null");Or.push(bt[Qt].value),bt[Qt].value="["+Or.join(" ")+"]"}}re("<<");for(var mr=0;mr<bt.length;mr++)re("/"+bt[mr].key+" "+bt[mr].value);re(">>"),Ze.data.length!==0&&(re("stream"),re(We(Ze.data)),re("endstream"))},ms=p.__private__.putPage=function(E){var z=E.number,J=E.data,ce=E.objId,ge=E.contentsObjId;Xr(ce,!0),re("<</Type /Page"),re("/Parent "+E.rootDictionaryObjId+" 0 R"),re("/Resources "+E.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(j(E.mediaBox.bottomLeftX))+" "+parseFloat(j(E.mediaBox.bottomLeftY))+" "+j(E.mediaBox.topRightX)+" "+j(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&re("/CropBox ["+j(E.cropBox.bottomLeftX)+" "+j(E.cropBox.bottomLeftY)+" "+j(E.cropBox.topRightX)+" "+j(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&re("/BleedBox ["+j(E.bleedBox.bottomLeftX)+" "+j(E.bleedBox.bottomLeftY)+" "+j(E.bleedBox.topRightX)+" "+j(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&re("/TrimBox ["+j(E.trimBox.bottomLeftX)+" "+j(E.trimBox.bottomLeftY)+" "+j(E.trimBox.topRightX)+" "+j(E.trimBox.topRightY)+"]"),E.artBox!==null&&re("/ArtBox ["+j(E.artBox.bottomLeftX)+" "+j(E.artBox.bottomLeftY)+" "+j(E.artBox.topRightX)+" "+j(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&re("/UserUnit "+E.userUnit),zt.publish("putPage",{objId:ce,pageContext:xt[z],pageNumber:z,page:J}),re("/Contents "+ge+" 0 R"),re(">>"),re("endobj");var Ce=J.join(`
`);return I===A&&(Ce+=`
Q`),Xr(ge,!0),_n({data:Ce,filters:Ti(),objectId:ge}),re("endobj"),ce},Ca=p.__private__.putPages=function(){var E,z,J=[];for(E=1;E<=pr;E++)xt[E].objId=Dn(),xt[E].contentsObjId=Dn();for(E=1;E<=pr;E++)J.push(ms({number:E,data:Pe[E],objId:xt[E].objId,contentsObjId:xt[E].contentsObjId,mediaBox:xt[E].mediaBox,cropBox:xt[E].cropBox,bleedBox:xt[E].bleedBox,trimBox:xt[E].trimBox,artBox:xt[E].artBox,userUnit:xt[E].userUnit,rootDictionaryObjId:ps,resourceDictionaryObjId:Ni}));Xr(ps,!0),re("<</Type /Pages");var ce="/Kids [";for(z=0;z<pr;z++)ce+=J[z]+" 0 R ";re(ce+"]"),re("/Count "+pr),re(">>"),re("endobj"),zt.publish("postPutPages")},zo=function(E){zt.publish("putFont",{font:E,out:re,newObject:Qr,putStream:_n}),E.isAlreadyPutted!==!0&&(E.objectNumber=Qr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+df(E.postScriptName)),re("/Subtype /Type1"),typeof E.encoding=="string"&&re("/Encoding /"+E.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},gs=function(E){E.objectNumber=Qr();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[j(E.x),j(E.y),j(E.x+E.width),j(E.y+E.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var J=E.pages[1].join(`
`);_n({data:J,additionalKeyValues:z,objectId:E.objectNumber}),re("endobj")},rl=function(E,z){z||(z=21);var J=Qr(),ce=function(Oe,We){var Ze,bt=[],Nt=1/(We-1);for(Ze=0;Ze<1;Ze+=Nt)bt.push(Ze);if(bt.push(1),Oe[0].offset!=0){var Qt={offset:0,color:Oe[0].color};Oe.unshift(Qt)}if(Oe[Oe.length-1].offset!=1){var Or={offset:1,color:Oe[Oe.length-1].color};Oe.push(Or)}for(var $r="",mr=0,dn=0;dn<bt.length;dn++){for(Ze=bt[dn];Ze>Oe[mr+1].offset;)mr++;var Pr=Oe[mr].offset,Rn=(Ze-Pr)/(Oe[mr+1].offset-Pr),vo=Oe[mr].color,Ho=Oe[mr+1].color;$r+=ae(Math.round((1-Rn)*vo[0]+Rn*Ho[0]).toString(16))+ae(Math.round((1-Rn)*vo[1]+Rn*Ho[1]).toString(16))+ae(Math.round((1-Rn)*vo[2]+Rn*Ho[2]).toString(16))}return $r.trim()}(E.colors,z),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+z+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_n({data:ce,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:J}),re("endobj"),E.objectNumber=Qr(),re("<< /ShadingType "+E.type),re("/ColorSpace /DeviceRGB");var Ce="/Coords ["+j(parseFloat(E.coords[0]))+" "+j(parseFloat(E.coords[1]))+" ";E.type===2?Ce+=j(parseFloat(E.coords[2]))+" "+j(parseFloat(E.coords[3])):Ce+=j(parseFloat(E.coords[2]))+" "+j(parseFloat(E.coords[3]))+" "+j(parseFloat(E.coords[4]))+" "+j(parseFloat(E.coords[5])),re(Ce+="]"),E.matrix&&re("/Matrix ["+E.matrix.toString()+"]"),re("/Function "+J+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},nl=function(E,z){var J=Dn(),ce=Qr();z.push({resourcesOid:J,objectOid:ce}),E.objectNumber=ce;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+E.boundingBox.map(j).join(" ")+"]"}),ge.push({key:"XStep",value:j(E.xStep)}),ge.push({key:"YStep",value:j(E.yStep)}),ge.push({key:"Resources",value:J+" 0 R"}),E.matrix&&ge.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),_n({data:E.stream,additionalKeyValues:ge,objectId:E.objectNumber}),re("endobj")},Uh=function(E){for(var z in E.objectNumber=Qr(),re("<<"),E)switch(z){case"opacity":re("/ca "+T(E[z]));break;case"stroke-opacity":re("/CA "+T(E[z]))}re(">>"),re("endobj")},vs=function(E){Xr(E.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var z in re("/Font <<"),tt)tt.hasOwnProperty(z)&&(f===!1||f===!0&&h.hasOwnProperty(z))&&re("/"+z+" "+tt[z].objectNumber+" 0 R");re(">>")}(),function(){if(Object.keys(yt).length>0){for(var z in re("/Shading <<"),yt)yt.hasOwnProperty(z)&&yt[z]instanceof Xu&&yt[z].objectNumber>=0&&re("/"+z+" "+yt[z].objectNumber+" 0 R");zt.publish("putShadingPatternDict"),re(">>")}}(),function(z){if(Object.keys(yt).length>0){for(var J in re("/Pattern <<"),yt)yt.hasOwnProperty(J)&&yt[J]instanceof p.TilingPattern&&yt[J].objectNumber>=0&&yt[J].objectNumber<z&&re("/"+J+" "+yt[J].objectNumber+" 0 R");zt.publish("putTilingPatternDict"),re(">>")}}(E.objectOid),function(){if(Object.keys(Pt).length>0){var z;for(z in re("/ExtGState <<"),Pt)Pt.hasOwnProperty(z)&&Pt[z].objectNumber>=0&&re("/"+z+" "+Pt[z].objectNumber+" 0 R");zt.publish("putGStateDict"),re(">>")}}(),function(){for(var z in re("/XObject <<"),xn)xn.hasOwnProperty(z)&&xn[z].objectNumber>=0&&re("/"+z+" "+xn[z].objectNumber+" 0 R");zt.publish("putXobjectDict"),re(">>")}(),re(">>"),re("endobj")},Tu=function(E){St[E.fontName]=St[E.fontName]||{},St[E.fontName][E.fontStyle]=E.id},tc=function(E,z,J,ce,ge){var Ce={id:"F"+(Object.keys(tt).length+1).toString(10),postScriptName:E,fontName:z,fontStyle:J,encoding:ce,isStandardFont:ge||!1,metadata:{}};return zt.publish("addFont",{font:Ce,instance:this}),tt[Ce.id]=Ce,Tu(Ce),Ce.id},ni=p.__private__.pdfEscape=p.pdfEscape=function(E,z){return function(J,ce){var ge,Ce,Oe,We,Ze,bt,Nt,Qt,Or;if(Oe=(ce=ce||{}).sourceEncoding||"Unicode",Ze=ce.outputEncoding,(ce.autoencode||Ze)&&tt[ct].metadata&&tt[ct].metadata[Oe]&&tt[ct].metadata[Oe].encoding&&(We=tt[ct].metadata[Oe].encoding,!Ze&&tt[ct].encoding&&(Ze=tt[ct].encoding),!Ze&&We.codePages&&(Ze=We.codePages[0]),typeof Ze=="string"&&(Ze=We[Ze]),Ze)){for(Nt=!1,bt=[],ge=0,Ce=J.length;ge<Ce;ge++)(Qt=Ze[J.charCodeAt(ge)])?bt.push(String.fromCharCode(Qt)):bt.push(J[ge]),bt[ge].charCodeAt(0)>>8&&(Nt=!0);J=bt.join("")}for(ge=J.length;Nt===void 0&&ge!==0;)J.charCodeAt(ge-1)>>8&&(Nt=!0),ge--;if(!Nt)return J;for(bt=ce.noBOM?[]:[254,255],ge=0,Ce=J.length;ge<Ce;ge++){if((Or=(Qt=J.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bt.push(Or),bt.push(Qt-(Or<<8))}return String.fromCharCode.apply(void 0,bt)}(E,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ia=p.__private__.beginPage=function(E){Pe[++pr]=[],xt[pr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Iu(pr),be(Pe[K])},rc=function(E,z){var J,ce,ge;switch(n=z||n,typeof E=="string"&&(J=b(E.toLowerCase()),Array.isArray(J)&&(ce=J[0],ge=J[1])),Array.isArray(E)&&(ce=E[0]*wt,ge=E[1]*wt),isNaN(ce)&&(ce=a[0],ge=a[1]),(ce>14400||ge>14400)&&(Tr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ge=Math.min(14400,ge)),a=[ce,ge],n.substr(0,1)){case"l":ge>ce&&(a=[ge,ce]);break;case"p":ce>ge&&(a=[ge,ce])}Ia(a),_s(ac),re(Wo),kr!==0&&re(kr+" J"),Bu!==0&&re(Bu+" j"),zt.publish("addPage",{pageNumber:pr})},Cu=function(E){E>0&&E<=pr&&(Pe.splice(E,1),xt.splice(E,1),pr--,K>pr&&(K=pr),this.setPage(K))},Iu=function(E){E>0&&E<=pr&&(K=E)},ju=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Pe.length-1},Ou=function(E,z,J){var ce,ge=void 0;return J=J||{},E=E!==void 0?E:tt[ct].fontName,z=z!==void 0?z:tt[ct].fontStyle,ce=E.toLowerCase(),St[ce]!==void 0&&St[ce][z]!==void 0?ge=St[ce][z]:St[E]!==void 0&&St[E][z]!==void 0?ge=St[E][z]:J.disableWarning===!1&&Tr.warn("Unable to look up font label for font '"+E+"', '"+z+"'. Refer to getFontList() for available fonts."),ge||J.noFallback||(ge=St.times[z])==null&&(ge=St.times.normal),ge},ys=p.__private__.putInfo=function(){var E=Qr(),z=function(ce){return ce};for(var J in d!==null&&(z=yr.encryptor(E,0)),re("<<"),re("/Producer ("+ni(z("jsPDF "+dt.version))+")"),At)At.hasOwnProperty(J)&&At[J]&&re("/"+J.substr(0,1).toUpperCase()+J.substr(1)+" ("+ni(z(At[J]))+")");re("/CreationDate ("+ni(z(oe))+")"),re(">>"),re("endobj")},Lu=p.__private__.putCatalog=function(E){var z=(E=E||{}).rootDictionaryObjId||ps;switch(Qr(),re("<<"),re("/Type /Catalog"),re("/Pages "+z+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var J=""+at;J.substr(J.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&re("/OpenAction [3 0 R /XYZ null null "+T(at)+"]")}switch(kt||(kt="continuous"),kt){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}lt&&re("/PageMode /"+lt),zt.publish("putCatalog"),re(">>"),re("endobj")},an=p.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(de+1)),re("/Root "+de+" 0 R"),re("/Info "+(de-1)+" 0 R"),d!==null&&re("/Encrypt "+yr.oid+" 0 R"),re("/ID [ <"+se+"> <"+se+"> ]"),re(">>")},Du=p.__private__.putHeader=function(){re("%PDF-"+y),re("%")},Hd=p.__private__.putXRef=function(){var E="0000000000";re("xref"),re("0 "+(de+1)),re("0000000000 65535 f ");for(var z=1;z<=de;z++)typeof me[z]=="function"?re((E+me[z]()).slice(-10)+" 00000 n "):me[z]!==void 0?re((E+me[z]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Vo=p.__private__.buildDocument=function(){var E;de=0,ue=0,Ee=[],me=[],Ae=[],ps=Dn(),Ni=Dn(),be(Ee),zt.publish("buildDocument"),Du(),Ca(),function(){zt.publish("putAdditionalObjects");for(var J=0;J<Ae.length;J++){var ce=Ae[J];Xr(ce.objId,!0),re(ce.content),re("endobj")}zt.publish("postPutAdditionalObjects")}(),E=[],function(){for(var J in tt)tt.hasOwnProperty(J)&&(f===!1||f===!0&&h.hasOwnProperty(J))&&zo(tt[J])}(),function(){var J;for(J in Pt)Pt.hasOwnProperty(J)&&Uh(Pt[J])}(),function(){for(var J in xn)xn.hasOwnProperty(J)&&gs(xn[J])}(),function(J){var ce;for(ce in yt)yt.hasOwnProperty(ce)&&(yt[ce]instanceof Xu?rl(yt[ce]):yt[ce]instanceof Pf&&nl(yt[ce],J))}(E),zt.publish("putResources"),E.forEach(vs),vs({resourcesOid:Ni,objectOid:Number.MAX_SAFE_INTEGER}),zt.publish("postPutResources"),d!==null&&(yr.oid=Qr(),re("<<"),re("/Filter /Standard"),re("/V "+yr.v),re("/R "+yr.r),re("/U <"+yr.toHexString(yr.U)+">"),re("/O <"+yr.toHexString(yr.O)+">"),re("/P "+yr.P),re(">>"),re("endobj")),ys(),Lu();var z=ue;return Hd(),an(),re("startxref"),re(""+z),re("%%EOF"),be(Pe[K]),Ee.join(`
`)},ws=p.__private__.getBlob=function(E){return new Blob([vt(E)],{type:"application/pdf"})},la=p.output=p.__private__.output=(ri=function(E,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",E){case void 0:return Vo();case"save":p.save(z.filename);break;case"arraybuffer":return vt(Vo());case"blob":return ws(Vo());case"bloburi":case"bloburl":if(Et.URL!==void 0&&typeof Et.URL.createObjectURL=="function")return Et.URL&&Et.URL.createObjectURL(ws(Vo()))||void 0;Tr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var J="",ce=Vo();try{J=oI(ce)}catch{J=oI(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+z.filename+";base64,"+J;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ce=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(ge=z.pdfObjectUrl,Ce="");var Oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Ce+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",We=Et.open();return We!==null&&We.document.write(Oe),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',bt=Et.open();if(bt!==null){bt.document.write(Ze);var Nt=this;bt.document.documentElement.querySelector("#pdfViewer").onload=function(){bt.document.title=z.filename,bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',Or=Et.open();if(Or!==null&&(Or.document.write(Qt),Or.document.title=z.filename),Or||typeof safari>"u")return Or;break;case"datauri":case"dataurl":return Et.document.location.href=this.output("datauristring",z);default:return null}},ri.foo=function(){try{return ri.apply(this,arguments)}catch(J){var E=J.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var z="Error in function "+E.split(`
`)[0].split("<")[0]+": "+J.message;if(!Et.console)throw new Error(z);Et.console.error(z,J),Et.alert&&alert(z)}},ri.foo.bar=ri,ri.foo),il=function(E){return Array.isArray(hs)===!0&&hs.indexOf(E)>-1};switch(i){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=il("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);wt=i}var yr=null;ne(),X();var Yi=p.__private__.getPageInfo=p.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[E].objId,pageNumber:E,pageContext:xt[E]}},nc=p.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in xt)if(xt[z].objId===E)break;return Yi(z)},ic=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:xt[K].objId,pageNumber:K,pageContext:xt[K]}};p.addPage=function(){return rc.apply(this,arguments),this},p.setPage=function(){return Iu.apply(this,arguments),be.call(this,Pe[K]),this},p.insertPage=function(E){return this.addPage(),this.movePage(K,E),this},p.movePage=function(E,z){var J,ce;if(E>z){J=Pe[E],ce=xt[E];for(var ge=E;ge>z;ge--)Pe[ge]=Pe[ge-1],xt[ge]=xt[ge-1];Pe[z]=J,xt[z]=ce,this.setPage(z)}else if(E<z){J=Pe[E],ce=xt[E];for(var Ce=E;Ce<z;Ce++)Pe[Ce]=Pe[Ce+1],xt[Ce]=xt[Ce+1];Pe[z]=J,xt[z]=ce,this.setPage(z)}return this},p.deletePage=function(){return Cu.apply(this,arguments),this},p.__private__.text=p.text=function(E,z,J,ce,ge){var Ce,Oe,We,Ze,bt,Nt,Qt,Or,$r,mr=(ce=ce||{}).scope||this;if(typeof E=="number"&&typeof z=="number"&&(typeof J=="string"||Array.isArray(J))){var dn=J;J=z,z=E,E=dn}if(arguments[3]instanceof gt==0?(We=arguments[4],Ze=arguments[5],Ar(Qt=arguments[3])==="object"&&Qt!==null||(typeof We=="string"&&(Ze=We,We=null),typeof Qt=="string"&&(Ze=Qt,Qt=null),typeof Qt=="number"&&(We=Qt,Qt=null),ce={flags:Qt,angle:We,align:Ze})):(O("The transform parameter of text() with a Matrix value"),$r=ge),isNaN(z)||isNaN(J)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return mr;var Pr,Rn="",vo=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:xs,Ho=mr.internal.scaleFactor;function Yd(Lr){return Lr=Lr.split("	").join(Array(ce.TabLen||9).join(" ")),ni(Lr,Qt)}function ul(Lr){for(var Dr,En=Lr.concat(),kn=[],fl=En.length;fl--;)typeof(Dr=En.shift())=="string"?kn.push(Dr):Array.isArray(Lr)&&(Dr.length===1||Dr[1]===void 0&&Dr[2]===void 0)?kn.push(Dr[0]):kn.push([Dr[0],Dr[1],Dr[2]]);return kn}function An(Lr,Dr){var En;if(typeof Lr=="string")En=Dr(Lr)[0];else if(Array.isArray(Lr)){for(var kn,fl,Jd=Lr.concat(),Is=[],Qh=Jd.length;Qh--;)typeof(kn=Jd.shift())=="string"?Is.push(Dr(kn)[0]):Array.isArray(kn)&&typeof kn[0]=="string"&&(fl=Dr(kn[0],kn[1],kn[2]),Is.push([fl[0],fl[1],fl[2]]));En=Is}return En}var da=!1,uc=!0;if(typeof E=="string")da=!0;else if(Array.isArray(E)){var Oa=E.concat();Oe=[];for(var v,N=Oa.length;N--;)(typeof(v=Oa.shift())!="string"||Array.isArray(v)&&typeof v[0]!="string")&&(uc=!1);da=uc}if(da===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var F=Fe/mr.internal.scaleFactor,G=F*(vo-1);switch(ce.baseline){case"bottom":J-=G;break;case"top":J+=F-G;break;case"hanging":J+=F-2*G;break;case"middle":J+=F/2-G}if((Nt=ce.maxWidth||0)>0&&(typeof E=="string"?E=mr.splitTextToSize(E,Nt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(Lr,Dr){return Lr.concat(mr.splitTextToSize(Dr,Nt))},[]))),Ce={text:E,x:z,y:J,options:ce,mutex:{pdfEscape:ni,activeFontKey:ct,fonts:tt,activeFontSize:Fe}},zt.publish("preProcessText",Ce),E=Ce.text,We=(ce=Ce.options).angle,$r instanceof gt==0&&We&&typeof We=="number"){We*=Math.PI/180,ce.rotationDirection===0&&(We=-We),I===A&&(We=-We);var ve=Math.cos(We),ke=Math.sin(We);$r=new gt(ve,ke,-ke,ve,0,0)}else We&&We instanceof gt&&($r=We);I!==A||$r||($r=po),(bt=ce.charSpace||sl)!==void 0&&(Rn+=j(C(bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Or=ce.horizontalScale)!==void 0&&(Rn+=j(100*Or)+` Tz
`),ce.lang;var Re=-1,cr=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Zr=mr.internal.getCurrentPageInfo().pageContext;switch(cr){case 0:case!1:case"fill":Re=0;break;case 1:case!0:case"stroke":Re=1;break;case 2:case"fillThenStroke":Re=2;break;case 3:case"invisible":Re=3;break;case 4:case"fillAndAddForClipping":Re=4;break;case 5:case"strokeAndAddPathForClipping":Re=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Re=6;break;case 7:case"addToPathForClipping":Re=7}var qt=Zr.usedRenderingMode!==void 0?Zr.usedRenderingMode:-1;Re!==-1?Rn+=Re+` Tr
`:qt!==-1&&(Rn+=`0 Tr
`),Re!==-1&&(Zr.usedRenderingMode=Re),Ze=ce.align||"left";var Kt,wr=Fe*vo,yo=mr.internal.pageSize.getWidth(),hi=tt[ct];bt=ce.charSpace||sl,Nt=ce.maxWidth||0,Qt=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var La=[],ks=function(Lr){return mr.getStringUnitWidth(Lr,{font:hi,charSpace:bt,fontSize:Fe,doKerning:!1})*Fe/Ho};if(Object.prototype.toString.call(E)==="[object Array]"){var fa;Oe=ul(E),Ze!=="left"&&(Kt=Oe.map(ks));var ha,Uu=0;if(Ze==="right"){z-=Kt[0],E=[],N=Oe.length;for(var Ps=0;Ps<N;Ps++)Ps===0?(ha=ii(z),fa=qo(J)):(ha=C(Uu-Kt[Ps]),fa=-wr),E.push([Oe[Ps],ha,fa]),Uu=Kt[Ps]}else if(Ze==="center"){z-=Kt[0]/2,E=[],N=Oe.length;for(var dc=0;dc<N;dc++)dc===0?(ha=ii(z),fa=qo(J)):(ha=C((Uu-Kt[dc])/2),fa=-wr),E.push([Oe[dc],ha,fa]),Uu=Kt[dc]}else if(Ze==="left"){E=[],N=Oe.length;for(var Kh=0;Kh<N;Kh++)E.push(Oe[Kh])}else if(Ze==="justify"&&hi.encoding==="Identity-H"){E=[],N=Oe.length,Nt=Nt!==0?Nt:yo;for(var fc=0,Sn=0;Sn<N;Sn++)if(fa=Sn===0?qo(J):-wr,ha=Sn===0?ii(z):fc,Sn<N-1){var k2=C((Nt-Kt[Sn])/(Oe[Sn].split(" ").length-1)),Ns=Oe[Sn].split(" ");E.push([Ns[0]+" ",ha,fa]),fc=0;for(var Ts=1;Ts<Ns.length;Ts++){var Qd=(ks(Ns[Ts-1]+" "+Ns[Ts])-ks(Ns[Ts]))*Ho+k2;Ts==Ns.length-1?E.push([Ns[Ts],Qd,0]):E.push([Ns[Ts]+" ",Qd,0]),fc-=Qd}}else E.push([Oe[Sn],ha,fa]);E.push(["",fc,0])}else{if(Ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],N=Oe.length,Nt=Nt!==0?Nt:yo,Sn=0;Sn<N;Sn++)fa=Sn===0?qo(J):-wr,ha=Sn===0?ii(z):0,Sn<N-1?La.push(j(C((Nt-Kt[Sn])/(Oe[Sn].split(" ").length-1)))):La.push(0),E.push([Oe[Sn],ha,fa])}}(typeof ce.R2L=="boolean"?ce.R2L:Ct)===!0&&(E=An(E,function(Lr,Dr,En){return[Lr.split("").reverse().join(""),Dr,En]})),Ce={text:E,x:z,y:J,options:ce,mutex:{pdfEscape:ni,activeFontKey:ct,fonts:tt,activeFontSize:Fe}},zt.publish("postProcessText",Ce),E=Ce.text,Pr=Ce.mutex.isHex||!1;var Gh=tt[ct].encoding;Gh!=="WinAnsiEncoding"&&Gh!=="StandardEncoding"||(E=An(E,function(Lr,Dr,En){return[Yd(Lr),Dr,En]})),Oe=ul(E),E=[];for(var Xd,Zd,$u,zu=Array.isArray(Oe[0])?1:0,dl="",Yh=function(Lr,Dr,En){var kn="";return En instanceof gt?(En=typeof ce.angle=="number"?Ur(En,new gt(1,0,0,1,Lr,Dr)):Ur(new gt(1,0,0,1,Lr,Dr),En),I===A&&(En=Ur(new gt(1,0,0,-1,0,0),En)),kn=En.join(" ")+` Tm
`):kn=j(Lr)+" "+j(Dr)+` Td
`,kn},Da=0;Da<Oe.length;Da++){switch(dl="",zu){case 1:$u=(Pr?"<":"(")+Oe[Da][0]+(Pr?">":")"),Xd=parseFloat(Oe[Da][1]),Zd=parseFloat(Oe[Da][2]);break;case 0:$u=(Pr?"<":"(")+Oe[Da]+(Pr?">":")"),Xd=ii(z),Zd=qo(J)}La!==void 0&&La[Da]!==void 0&&(dl=La[Da]+` Tw
`),Da===0?E.push(dl+Yh(Xd,Zd,$r)+$u):zu===0?E.push(dl+$u):zu===1&&E.push(dl+Yh(Xd,Zd,$r)+$u)}E=zu===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Cs=`BT
/`;return Cs+=ct+" "+Fe+` Tf
`,Cs+=j(Fe*vo)+` TL
`,Cs+=ja+`
`,Cs+=Rn,Cs+=E,re(Cs+="ET"),h[ct]=!0,mr};var Kd=p.__private__.clip=p.clip=function(E){return re(E==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Kd("evenodd")},p.__private__.discardPath=p.discardPath=function(){return re("n"),this};var Ht=p.__private__.isValidStyle=function(E){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(z=!0),z};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(E){return Ht(E)&&(u=E),this};var al=p.__private__.getStyle=p.getStyle=function(E){var z=u;switch(E){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=E}return z},bs=p.close=function(){return re("h"),this};p.stroke=function(){return re("S"),this},p.fill=function(E){return ca("f",E),this},p.fillEvenOdd=function(E){return ca("f*",E),this},p.fillStroke=function(E){return ca("B",E),this},p.fillStrokeEvenOdd=function(E){return ca("B*",E),this};var ca=function(E,z){Ar(z)==="object"?$h(z,E):re(E)},Ru=function(E){E===null||I===A&&E===void 0||(E=al(E),re(E))};function Gd(E,z,J,ce,ge){var Ce=new Pf(z||this.boundingBox,J||this.xStep,ce||this.yStep,this.gState,ge||this.matrix);Ce.stream=this.stream;var Oe=E+"$$"+this.cloneIndex+++"$$";return ti(Oe,Ce),Ce}var $h=function(E,z){var J=$t[E.key],ce=yt[J];if(ce instanceof Xu)re("q"),re(zh(z)),ce.gState&&p.setGState(ce.gState),re(E.matrix.toString()+" cm"),re("/"+J+" sh"),re("Q");else if(ce instanceof Pf){var ge=new gt(1,0,0,-1,0,Xi());E.matrix&&(ge=ge.multiply(E.matrix||po),J=Gd.call(ce,E.key,E.boundingBox,E.xStep,E.yStep,ge).id),re("q"),re("/Pattern cs"),re("/"+J+" scn"),ce.gState&&p.setGState(ce.gState),re(z),re("Q")}},zh=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Mu=p.moveTo=function(E,z){return re(j(C(E))+" "+j(Y(z))+" m"),this},ol=p.lineTo=function(E,z){return re(j(C(E))+" "+j(Y(z))+" l"),this},ua=p.curveTo=function(E,z,J,ce,ge,Ce){return re([j(C(E)),j(Y(z)),j(C(J)),j(Y(ce)),j(C(ge)),j(Y(Ce)),"c"].join(" ")),this};p.__private__.line=p.line=function(E,z,J,ce,ge){if(isNaN(E)||isNaN(z)||isNaN(J)||isNaN(ce)||!Ht(ge))throw new Error("Invalid arguments passed to jsPDF.line");return I===S?this.lines([[J-E,ce-z]],E,z,[1,1],ge||"S"):this.lines([[J-E,ce-z]],E,z,[1,1]).stroke()},p.__private__.lines=p.lines=function(E,z,J,ce,ge,Ce){var Oe,We,Ze,bt,Nt,Qt,Or,$r,mr,dn,Pr,Rn;if(typeof E=="number"&&(Rn=J,J=z,z=E,E=Rn),ce=ce||[1,1],Ce=Ce||!1,isNaN(z)||isNaN(J)||!Array.isArray(E)||!Array.isArray(ce)||!Ht(ge)||typeof Ce!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Mu(z,J),Oe=ce[0],We=ce[1],bt=E.length,dn=z,Pr=J,Ze=0;Ze<bt;Ze++)(Nt=E[Ze]).length===2?(dn=Nt[0]*Oe+dn,Pr=Nt[1]*We+Pr,ol(dn,Pr)):(Qt=Nt[0]*Oe+dn,Or=Nt[1]*We+Pr,$r=Nt[2]*Oe+dn,mr=Nt[3]*We+Pr,dn=Nt[4]*Oe+dn,Pr=Nt[5]*We+Pr,ua(Qt,Or,$r,mr,dn,Pr));return Ce&&bs(),Ru(ge),this},p.path=function(E){for(var z=0;z<E.length;z++){var J=E[z],ce=J.c;switch(J.op){case"m":Mu(ce[0],ce[1]);break;case"l":ol(ce[0],ce[1]);break;case"c":ua.apply(this,ce);break;case"h":bs()}}return this},p.__private__.rect=p.rect=function(E,z,J,ce,ge){if(isNaN(E)||isNaN(z)||isNaN(J)||isNaN(ce)||!Ht(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return I===S&&(ce=-ce),re([j(C(E)),j(Y(z)),j(C(J)),j(C(ce)),"re"].join(" ")),Ru(ge),this},p.__private__.triangle=p.triangle=function(E,z,J,ce,ge,Ce,Oe){if(isNaN(E)||isNaN(z)||isNaN(J)||isNaN(ce)||isNaN(ge)||isNaN(Ce)||!Ht(Oe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[J-E,ce-z],[ge-J,Ce-ce],[E-ge,z-Ce]],E,z,[1,1],Oe,!0),this},p.__private__.roundedRect=p.roundedRect=function(E,z,J,ce,ge,Ce,Oe){if(isNaN(E)||isNaN(z)||isNaN(J)||isNaN(ce)||isNaN(ge)||isNaN(Ce)||!Ht(Oe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*J),Ce=Math.min(Ce,.5*ce),this.lines([[J-2*ge,0],[ge*We,0,ge,Ce-Ce*We,ge,Ce],[0,ce-2*Ce],[0,Ce*We,-ge*We,Ce,-ge,Ce],[2*ge-J,0],[-ge*We,0,-ge,-Ce*We,-ge,-Ce],[0,2*Ce-ce],[0,-Ce*We,ge*We,-Ce,ge,-Ce]],E+ge,z,[1,1],Oe,!0),this},p.__private__.ellipse=p.ellipse=function(E,z,J,ce,ge){if(isNaN(E)||isNaN(z)||isNaN(J)||isNaN(ce)||!Ht(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ce=4/3*(Math.SQRT2-1)*J,Oe=4/3*(Math.SQRT2-1)*ce;return Mu(E+J,z),ua(E+J,z-Oe,E+Ce,z-ce,E,z-ce),ua(E-Ce,z-ce,E-J,z-Oe,E-J,z),ua(E-J,z+Oe,E-Ce,z+ce,E,z+ce),ua(E+Ce,z+ce,E+J,z+Oe,E+J,z),Ru(ge),this},p.__private__.circle=p.circle=function(E,z,J,ce){if(isNaN(E)||isNaN(z)||isNaN(J)||!Ht(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,z,J,J,ce)},p.setFont=function(E,z,J){return J&&(z=D(z,J)),ct=Ou(E,z,{disableWarning:!1}),this};var mo=p.__private__.getFont=p.getFont=function(){return tt[Ou.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var E,z,J={};for(E in St)if(St.hasOwnProperty(E))for(z in J[E]=[],St[E])St[E].hasOwnProperty(z)&&J[E].push(z);return J},p.addFont=function(E,z,J,ce,ge){var Ce=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ce.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Ce.indexOf(arguments[3])==-1&&(J=D(J,ce)),tc.call(this,E,z,J,ge=ge||"Identity-H")};var xs,ac=r.lineWidth||.200025,_t=p.__private__.getLineWidth=p.getLineWidth=function(){return ac},_s=p.__private__.setLineWidth=p.setLineWidth=function(E){return ac=E,re(j(C(E))+" w"),this};p.__private__.setLineDash=dt.API.setLineDash=dt.API.setLineDashPattern=function(E,z){if(E=E||[],z=z||0,isNaN(z)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(J){return j(C(J))}).join(" "),z=j(C(z)),re("["+E+"] "+z+" d"),this};var Vh=p.__private__.getLineHeight=p.getLineHeight=function(){return Fe*xs};p.__private__.getLineHeight=p.getLineHeight=function(){return Fe*xs};var qh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(xs=E),this},Wh=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return xs};qh(r.lineHeight);var ii=p.__private__.getHorizontalCoordinate=function(E){return C(E)},qo=p.__private__.getVerticalCoordinate=function(E){return I===A?E:xt[K].mediaBox.topRightY-xt[K].mediaBox.bottomLeftY-C(E)},Hh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(E){return j(ii(E))},oc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(E){return j(qo(E))},Wo=r.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ta(Wo)},p.__private__.setStrokeColor=p.setDrawColor=function(E,z,J,ce){return Wo=Gi({ch1:E,ch2:z,ch3:J,ch4:ce,pdfColorType:"draw",precision:2}),re(Wo),this};var sc=r.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ta(sc)},p.__private__.setFillColor=p.setFillColor=function(E,z,J,ce){return sc=Gi({ch1:E,ch2:z,ch3:J,ch4:ce,pdfColorType:"fill",precision:2}),re(sc),this};var ja=r.textColor||"0 g",go=p.__private__.getTextColor=p.getTextColor=function(){return Ta(ja)};p.__private__.setTextColor=p.setTextColor=function(E,z,J,ce){return ja=Gi({ch1:E,ch2:z,ch3:J,ch4:ce,pdfColorType:"text",precision:3}),this};var sl=r.charSpace,Fu=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(sl||0)};p.__private__.setCharSpace=p.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return sl=E,this};var kr=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(E){var z=p.CapJoinStyles[E];if(z===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kr=z,re(z+" J"),this};var Bu=0;p.__private__.setLineJoin=p.setLineJoin=function(E){var z=p.CapJoinStyles[E];if(z===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bu=z,re(z+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(j(C(E))+" M"),this},p.GState=O0,p.setGState=function(E){(E=typeof E=="string"?Pt[Yr[E]]:ll(null,E)).equals(Br)||(re("/"+E.id+" gs"),Br=E)};var ll=function(E,z){if(!E||!Yr[E]){var J=!1;for(var ce in Pt)if(Pt.hasOwnProperty(ce)&&Pt[ce].equals(z)){J=!0;break}if(J)z=Pt[ce];else{var ge="GS"+(Object.keys(Pt).length+1).toString(10);Pt[ge]=z,z.id=ge}return E&&(Yr[E]=z.id),zt.publish("addGState",z),z}};p.addGState=function(E,z){return ll(E,z),this},p.saveGraphicsState=function(){return re("q"),vr.push({key:ct,size:Fe,color:ja}),this},p.restoreGraphicsState=function(){re("Q");var E=vr.pop();return ct=E.key,Fe=E.size,ja=E.color,Br=null,this},p.setCurrentTransformationMatrix=function(E){return re(E.toString()+" cm"),this},p.comment=function(E){return re("#"+E),this};var As=function(E,z){var J=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(Ce){isNaN(Ce)||(J=parseFloat(Ce))}});var ce=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Ce){isNaN(Ce)||(ce=parseFloat(Ce))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Ce){ge=Ce.toString()}}),this},lc=function(E,z,J,ce){As.call(this,E,z),this.type="rect";var ge=J||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(Oe){isNaN(Oe)||(ge=parseFloat(Oe))}});var Ce=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ce},set:function(Oe){isNaN(Oe)||(Ce=parseFloat(Oe))}}),this},cl=function(){this.page=pr,this.currentPage=K,this.pages=Pe.slice(0),this.pagesContext=xt.slice(0),this.x=ht,this.y=lr,this.matrix=er,this.width=Qi(K),this.height=Xi(K),this.outputDestination=Ue,this.id="",this.objectNumber=-1};cl.prototype.restore=function(){pr=this.page,K=this.currentPage,xt=this.pagesContext,Pe=this.pages,ht=this.x,lr=this.y,er=this.matrix,cc(K,this.width),Ci(K,this.height),Ue=this.outputDestination};var Ss=function(E,z,J,ce,ge){Pi.push(new cl),pr=K=0,Pe=[],ht=E,lr=z,er=ge,Ia([J,ce])};for(var Es in p.beginFormObject=function(E,z,J,ce,ge){return Ss(E,z,J,ce,ge),this},p.endFormObject=function(E){return function(z){if(ho[z])Pi.pop().restore();else{var J=new cl,ce="Xo"+(Object.keys(xn).length+1).toString(10);J.id=ce,ho[z]=ce,xn[ce]=J,zt.publish("addFormObject",J),Pi.pop().restore()}}(E),this},p.doFormObject=function(E,z){var J=xn[ho[E]];return re("q"),re(z.toString()+" cm"),re("/"+J.id+" Do"),re("Q"),this},p.getFormObject=function(E){var z=xn[ho[E]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},p.save=function(E,z){return E=E||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Qu(ws(Vo()),E),typeof Qu.unload=="function"&&Et.setTimeout&&setTimeout(Qu.unload,911),this):new Promise(function(J,ce){try{var ge=Qu(ws(Vo()),E);typeof Qu.unload=="function"&&Et.setTimeout&&setTimeout(Qu.unload,911),J(ge)}catch(Ce){ce(Ce.message)}})},dt.API)dt.API.hasOwnProperty(Es)&&(Es==="events"&&dt.API.events.length?function(E,z){var J,ce,ge;for(ge=z.length-1;ge!==-1;ge--)J=z[ge][0],ce=z[ge][1],E.subscribe.apply(E,[J].concat(typeof ce=="function"?[ce]:ce))}(zt,dt.API.events):p[Es]=dt.API[Es]);var Qi=p.getPageWidth=function(E){return(xt[E=E||K].mediaBox.topRightX-xt[E].mediaBox.bottomLeftX)/wt},cc=p.setPageWidth=function(E,z){xt[E].mediaBox.topRightX=z*wt+xt[E].mediaBox.bottomLeftX},Xi=p.getPageHeight=function(E){return(xt[E=E||K].mediaBox.topRightY-xt[E].mediaBox.bottomLeftY)/wt},Ci=p.setPageHeight=function(E,z){xt[E].mediaBox.topRightY=z*wt+xt[E].mediaBox.bottomLeftY};return p.internal={pdfEscape:ni,getStyle:al,getFont:mo,getFontSize:Ve,getCharSpace:Fu,getTextColor:go,getLineHeight:Vh,getLineHeightFactor:Wh,getLineWidth:_t,write:mt,getHorizontalCoordinate:ii,getVerticalCoordinate:qo,getCoordinateString:Hh,getVerticalCoordinateString:oc,collections:{},newObject:Qr,newAdditionalObject:tl,newObjectDeferred:Dn,newObjectDeferredBegin:Xr,getFilters:Ti,putStream:_n,events:zt,scaleFactor:wt,pageSize:{getWidth:function(){return Qi(K)},setWidth:function(E){cc(K,E)},getHeight:function(){return Xi(K)},setHeight:function(E){Ci(K,E)}},encryptionOptions:d,encryption:yr,getEncryptor:function(E){return d!==null?yr.encryptor(E,0):function(z){return z}},output:la,getNumberOfPages:ju,pages:Pe,out:re,f2:T,f3:L,getPageInfo:Yi,getPageInfoByObjId:nc,getCurrentPageInfo:ic,getPDFVersion:w,Point:As,Rectangle:lc,Matrix:gt,hasHotfix:il},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Qi(K)},set:function(E){cc(K,E)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Xi(K)},set:function(E){Ci(K,E)},enumerable:!0,configurable:!0}),(function(E){for(var z=0,J=ft.length;z<J;z++){var ce=tc.call(this,E[z][0],E[z][1],E[z][2],ft[z][3],!0);f===!1&&(h[ce]=!0);var ge=E[z][0].split("-");Tu({id:ce,fontName:ge[0],fontStyle:ge[1]||""})}zt.publish("addFonts",{fonts:tt,dictionary:St})}).call(p,ft),ct="F1",rc(a,n),zt.publish("initialized"),p}uf.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},uf.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uf.prototype.hexToBytes=function(r){for(var e=[],n=0;n<r.length;n+=2)e.push(String.fromCharCode(parseInt(r.substr(n,2),16)));return e.join("")},uf.prototype.processOwnerPassword=function(r,e){return Y5(G5(e).substr(0,5),r)},uf.prototype.encryptor=function(r,e){var n=G5(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return Y5(n,i)}},O0.prototype.equals=function(r){var e,n="id,objectNumber,equals";if(!r||Ar(r)!==Ar(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;i++}for(e in r)r.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},dt.API={events:[]},dt.version="3.0.2";var mn=dt.API,ck=1,Wd=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},af=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jt=function(r){return r.toFixed(2)},Ec=function(r){return r.toFixed(5)};mn.__acroform__={};var Na=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},uI=function(r){return r*ck},Ls=function(r){var e=new B9,n=Xe.internal.getHeight(r)||0,i=Xe.internal.getWidth(r)||0;return e.BBox=[0,0,Number(jt(i)),Number(jt(n))],e},Lpe=mn.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},Dpe=mn.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},Rpe=mn.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},In=mn.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Rpe(r,e-1)},jn=mn.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Lpe(r,e-1)},On=mn.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Dpe(r,e-1)},Mpe=mn.__acroform__.calculateCoordinates=function(r,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,a=r[0],o=r[1],s=r[2],l=r[3],c={};return c.lowerLeft_X=n(a)||0,c.lowerLeft_Y=i(o+l)||0,c.upperRight_X=n(a+s)||0,c.upperRight_Y=i(o)||0,[Number(jt(c.lowerLeft_X)),Number(jt(c.lowerLeft_Y)),Number(jt(c.upperRight_X)),Number(jt(c.upperRight_Y))]},Fpe=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],n=r._V||r.DV,i=Q5(r,n),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+jt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Ls(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},Q5=function(r,e){var n=r.fontSize===0?r.maxFontSize:r.fontSize,i={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var o=n,s=Xe.internal.getHeight(r)||0;s=s<0?-s:s;var l=Xe.internal.getWidth(r)||0;l=l<0?-l:l;var c=function(T,L,C){if(T+1<a.length){var Y=L+" "+a[T+1][0];return Mv(Y,r,C).width<=l-4}return!1};o++;e:for(;o>0;){e="",o--;var u,d,f=Mv("3",r,o).height,h=r.multiline?s-o:(s-f)/2,p=h+=2,y=0,w=0,x=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Mv(e,r,o=12).width+", FieldWidth:"+l+`
`;break}for(var b="",S=0,A=0;A<a.length;A++)if(a.hasOwnProperty(A)){var I=!1;if(a[A].length!==1&&x!==a[A].length-1){if((f+2)*(S+2)+2>s)continue e;b+=a[A][x],I=!0,w=A,A--}else{b=(b+=a[A][x]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var B=parseInt(A),$=c(B,b,o),D=A>=a.length-1;if($&&!D){b+=" ",x=0;continue}if($||D){if(D)w=B;else if(r.multiline&&(f+2)*(S+2)+2>s)continue e}else{if(!r.multiline||(f+2)*(S+2)+2>s)continue e;w=B}}for(var j="",O=y;O<=w;O++){var U=a[O];if(r.multiline){if(O===w){j+=U[x]+" ",x=(x+1)%U.length;continue}if(O===y){j+=U[U.length-1]+" ";continue}}j+=U[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,d=Mv(j,r,o).width,r.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=jt(u)+" "+jt(p)+` Td
`,e+="("+Wd(j)+`) Tj
`,e+=-jt(u)+` 0 Td
`,p=-(o+2),d=0,y=I?w:w+1,S++,b=""}break}return i.text=e,i.fontSize=o,i},Mv=function(r,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},Bpe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Upe=function(r,e){var n={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(n)},$pe=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ds.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Bpe)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ck=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new U9,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];o.objId=void 0,o.hasAnnotation&&Upe(o,n)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(n){(function(i,a){var o=!i;for(var s in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var l=i[s],c=[],u=l.Rect;if(l.Rect&&(l.Rect=Mpe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Xe.createDefaultAppearanceStream(l),Ar(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=Fpe(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var p=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var y=p[s];typeof y=="function"&&(y=y.call(a,l)),f+="/"+s+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(a,l)),f+="/"+s+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}o&&function(w,x){for(var b in w)if(w.hasOwnProperty(b)){var S=b,A=w[b];x.internal.newObjectDeferredBegin(A.objId,!0),Ar(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete w[S]}}(a.internal.acroformPlugin.xForms,a)})(n,r)}),r.internal.acroformPlugin.isInitialized=!0}},F9=mn.__acroform__.arrayToPdfArray=function(r,e,n){var i=function(s){return s};if(Array.isArray(r)){for(var a="[",o=0;o<r.length;o++)switch(o!==0&&(a+=" "),Ar(r[o])){case"boolean":case"number":case"object":a+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),a+="("+Wd(i(r[o].toString()))+")"):a+=r[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},mb=function(r,e,n){var i=function(a){return a};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(r=r||"").toString(),"("+Wd(i(r))+")"},Bs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bs.prototype.toString=function(){return this.objId+" 0 R"},Bs.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Bs.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],a=this[i];a&&(Array.isArray(a)?r.push({key:i,value:F9(a,this.objId,this.scope)}):a instanceof Bs?(a.scope=this.scope,r.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:i,value:a}))}return r};var B9=function(){Bs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){r=n.trim()},get:function(){return r||null}})};Na(B9,Bs);var U9=function(){Bs.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Wd(n(r))+")"}},set:function(n){r=n}})};Na(U9,Bs);var ds=function r(){Bs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!In(e,3)},set:function(b){b?this.F=jn(e,3):this.F=On(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(b){i=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(b){i[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(b){i[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(b){i[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(b){i[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof L0)return;o="FieldObject"+r.FieldNum++}var b=function(S){return S};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Wd(b(o))+")"},set:function(b){o=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(b){o=b}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/ck:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof L0||this instanceof gd))return mb(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ci==0?mb(h,this.objId,this.scope):h},set:function(b){b=b.toString(),h=this instanceof ci==0?b.substr(0,1)==="("?af(b.substr(1,b.length-2)):af(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ci==1?af(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof ci==1?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ci==0?mb(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof ci==0?b.substr(0,1)==="("?af(b.substr(1,b.length-2)):af(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ci==1?af(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof ci==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(b){b=!!b,w=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,1)},set:function(b){b?this.Ff=jn(this.Ff,1):this.Ff=On(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,2)},set:function(b){b?this.Ff=jn(this.Ff,2):this.Ff=On(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,3)},set:function(b){b?this.Ff=jn(this.Ff,3):this.Ff=On(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');x=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(x){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Na(ds,Bs);var Ff=function(){ds.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(n){r=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return F9(e,this.objId,this.scope)},set:function(n){var i,a;a=[],typeof(i=n)=="string"&&(a=function(o,s,l){l||(l=1);for(var c,u=[];c=s.exec(o);)u.push(c[l]);return u}(i,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,18)},set:function(n){n?this.Ff=jn(this.Ff,18):this.Ff=On(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=jn(this.Ff,19):this.Ff=On(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,20)},set:function(n){n?(this.Ff=jn(this.Ff,20),e.sort()):this.Ff=On(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,22)},set:function(n){n?this.Ff=jn(this.Ff,22):this.Ff=On(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,23)},set:function(n){n?this.Ff=jn(this.Ff,23):this.Ff=On(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,27)},set:function(n){n?this.Ff=jn(this.Ff,27):this.Ff=On(this.Ff,27)}}),this.hasAppearanceStream=!1};Na(Ff,ds);var Bf=function(){Ff.call(this),this.fontName="helvetica",this.combo=!1};Na(Bf,Ff);var Uf=function(){Bf.call(this),this.combo=!0};Na(Uf,Bf);var sy=function(){Uf.call(this),this.edit=!0};Na(sy,Uf);var ci=function(){ds.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,15)},set:function(n){n?this.Ff=jn(this.Ff,15):this.Ff=On(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,16)},set:function(n){n?this.Ff=jn(this.Ff,16):this.Ff=On(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,17)},set:function(n){n?this.Ff=jn(this.Ff,17):this.Ff=On(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,26)},set:function(n){n?this.Ff=jn(this.Ff,26):this.Ff=On(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,a=[];for(i in a.push("<<"),e)a.push("/"+i+" ("+Wd(n(e[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){Ar(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}})};Na(ci,ds);var ly=function(){ci.call(this),this.pushButton=!0};Na(ly,ci);var $f=function(){ci.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Na($f,ci);var L0=function(){var r,e;ds.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),i)s.push("/"+o+" ("+Wd(a(i[o]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Ar(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Na(L0,ds),$f.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=r.createAppearanceStream(n.optionName),n.caption=r.getCA()}},$f.prototype.createOption=function(r){var e=new L0;return e.Parent=this,e.optionName=r,this.Kids.push(e),zpe.call(this.scope,e),e};var cy=function(){ci.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xe.CheckBox.createAppearanceStream()};Na(cy,ci);var gd=function(){ds.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,13)},set:function(e){e?this.Ff=jn(this.Ff,13):this.Ff=On(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,21)},set:function(e){e?this.Ff=jn(this.Ff,21):this.Ff=On(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,23)},set:function(e){e?this.Ff=jn(this.Ff,23):this.Ff=On(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,24)},set:function(e){e?this.Ff=jn(this.Ff,24):this.Ff=On(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,25)},set:function(e){e?this.Ff=jn(this.Ff,25):this.Ff=On(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,26)},set:function(e){e?this.Ff=jn(this.Ff,26):this.Ff=On(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Na(gd,ds);var uy=function(){gd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,14)},set:function(r){r?this.Ff=jn(this.Ff,14):this.Ff=On(this.Ff,14)}}),this.password=!0};Na(uy,gd);var Xe={CheckBox:{createAppearanceStream:function(){return{N:{On:Xe.CheckBox.YesNormal},D:{On:Xe.CheckBox.YesPushDown,Off:Xe.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Ls(r);e.scope=r.scope;var n=[],i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),o=Q5(r,r.caption);return n.push("0.749023 g"),n.push("0 0 "+jt(Xe.internal.getWidth(r))+" "+jt(Xe.internal.getHeight(r))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+jt(o.fontSize)+" Tf "+a),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(r){var e=Ls(r);e.scope=r.scope;var n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),a=[],o=Xe.internal.getHeight(r),s=Xe.internal.getWidth(r),l=Q5(r,r.caption);return a.push("1 g"),a.push("0 0 "+jt(s)+" "+jt(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+jt(s-1)+" "+jt(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+jt(l.fontSize)+" Tf "+i),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Ls(r);e.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+jt(Xe.internal.getWidth(r))+" "+jt(Xe.internal.getHeight(r))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Xe.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Xe.RadioButton.Circle.YesNormal,e.D[r]=Xe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Ls(r);e.scope=r.scope;var n=[],i=Xe.internal.getWidth(r)<=Xe.internal.getHeight(r)?Xe.internal.getWidth(r)/4:Xe.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=Xe.internal.Bezier_C,o=Number((i*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ec(Xe.internal.getWidth(r)/2)+" "+Ec(Xe.internal.getHeight(r)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(r){var e=Ls(r);e.scope=r.scope;var n=[],i=Xe.internal.getWidth(r)<=Xe.internal.getHeight(r)?Xe.internal.getWidth(r)/4:Xe.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*Xe.internal.Bezier_C).toFixed(5)),s=Number((i*Xe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ec(Xe.internal.getWidth(r)/2)+" "+Ec(Xe.internal.getHeight(r)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),n.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),n.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),n.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ec(Xe.internal.getWidth(r)/2)+" "+Ec(Xe.internal.getHeight(r)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Ls(r);e.scope=r.scope;var n=[],i=Xe.internal.getWidth(r)<=Xe.internal.getHeight(r)?Xe.internal.getWidth(r)/4:Xe.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*Xe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ec(Xe.internal.getWidth(r)/2)+" "+Ec(Xe.internal.getHeight(r)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),n.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),n.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),n.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Xe.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Xe.RadioButton.Cross.YesNormal,e.D[r]=Xe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Ls(r);e.scope=r.scope;var n=[],i=Xe.internal.calculateCross(r);return n.push("q"),n.push("1 1 "+jt(Xe.internal.getWidth(r)-2)+" "+jt(Xe.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(jt(i.x1.x)+" "+jt(i.x1.y)+" m"),n.push(jt(i.x2.x)+" "+jt(i.x2.y)+" l"),n.push(jt(i.x4.x)+" "+jt(i.x4.y)+" m"),n.push(jt(i.x3.x)+" "+jt(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(r){var e=Ls(r);e.scope=r.scope;var n=Xe.internal.calculateCross(r),i=[];return i.push("0.749023 g"),i.push("0 0 "+jt(Xe.internal.getWidth(r))+" "+jt(Xe.internal.getHeight(r))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+jt(Xe.internal.getWidth(r)-2)+" "+jt(Xe.internal.getHeight(r)-2)+" re"),i.push("W"),i.push("n"),i.push(jt(n.x1.x)+" "+jt(n.x1.y)+" m"),i.push(jt(n.x2.x)+" "+jt(n.x2.y)+" l"),i.push(jt(n.x4.x)+" "+jt(n.x4.y)+" m"),i.push(jt(n.x3.x)+" "+jt(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=Ls(r);e.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+jt(Xe.internal.getWidth(r))+" "+jt(Xe.internal.getHeight(r))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+n}};Xe.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Xe.internal.getWidth(r),n=Xe.internal.getHeight(r),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},Xe.internal.getWidth=function(r){var e=0;return Ar(r)==="object"&&(e=uI(r.Rect[2])),e},Xe.internal.getHeight=function(r){var e=0;return Ar(r)==="object"&&(e=uI(r.Rect[3])),e};var zpe=mn.addField=function(r){if($pe(this,r),!(r instanceof ds))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};mn.AcroFormChoiceField=Ff,mn.AcroFormListBox=Bf,mn.AcroFormComboBox=Uf,mn.AcroFormEditBox=sy,mn.AcroFormButton=ci,mn.AcroFormPushButton=ly,mn.AcroFormRadioButton=$f,mn.AcroFormCheckBox=cy,mn.AcroFormTextField=gd,mn.AcroFormPasswordField=uy,mn.AcroFormAppearance=Xe,mn.AcroForm={ChoiceField:Ff,ListBox:Bf,ComboBox:Uf,EditBox:sy,Button:ci,PushButton:ly,RadioButton:$f,CheckBox:cy,TextField:gd,PasswordField:uy,Appearance:Xe},dt.AcroForm={ChoiceField:Ff,ListBox:Bf,ComboBox:Uf,EditBox:sy,Button:ci,PushButton:ly,RadioButton:$f,CheckBox:cy,TextField:gd,PasswordField:uy,Appearance:Xe};dt.AcroForm;function $9(r){return r.reduce(function(e,n,i){return e[n]=i,e},{})}(function(r){var e="addImage_";r.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(T,L){var C,Y,oe,se,pe,X=n;if((L=L||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if($(T))for(pe in i)for(oe=i[pe],C=0;C<oe.length;C+=1){for(se=!0,Y=0;Y<oe[C].length;Y+=1)if(oe[C][Y]!==void 0&&oe[C][Y]!==T[Y]){se=!1;break}if(se===!0){X=pe;break}}else for(pe in i)for(oe=i[pe],C=0;C<oe.length;C+=1){for(se=!0,Y=0;Y<oe[C].length;Y+=1)if(oe[C][Y]!==void 0&&oe[C][Y]!==T.charCodeAt(Y)){se=!1;break}if(se===!0){X=pe;break}}return X===n&&L!==n&&(X=L),X},o=function T(L){for(var C=this.internal.write,Y=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:L.width}),se.push({key:"Height",value:L.height}),L.colorSpace===b.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===b.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var pe="",X=0,le=L.transparency.length;X<le;X++)pe+=L.transparency[X]+" "+L.transparency[X]+" ";se.push({key:"Mask",value:"["+pe+"]"})}L.sMask!==void 0&&se.push({key:"SMask",value:L.objectId+1+" 0 R"});var ie=L.filter!==void 0?["/"+L.filter]:void 0;if(Y({data:L.data,additionalKeyValues:se,alreadyAppliedFilters:ie,objectId:L.objectId}),C("endobj"),"sMask"in L&&L.sMask!==void 0){var ne=(L.predictor!=null?"/Predictor "+L.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+L.width,M={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:ne,data:L.sMask};"filter"in L&&(M.filter=L.filter),T.call(this,M)}if(L.colorSpace===b.INDEXED){var K=this.internal.newObject();Y({data:j(new Uint8Array(L.palette)),objectId:K}),C("endobj")}},s=function(){var T=this.internal.collections[e+"images"];for(var L in T)o.call(this,T[L])},l=function(){var T,L=this.internal.collections[e+"images"],C=this.internal.write;for(var Y in L)C("/I"+(T=L[Y]).index,T.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var T=this.internal.collections[e+"images"];return c.call(this),T},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(T){return typeof r["process"+T.toUpperCase()]=="function"},h=function(T){return Ar(T)==="object"&&T.nodeType===1},p=function(T,L){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var C=""+T.getAttribute("src");if(C.indexOf("data:image/")===0)return oy(unescape(C).split("base64,").pop());var Y=r.loadFile(C,!0);if(Y!==void 0)return Y}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var oe;switch(L){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return oy(T.toDataURL(oe,1).split("base64,").pop())}},y=function(T){var L=this.internal.collections[e+"images"];if(L){for(var C in L)if(T===L[C].alias)return L[C]}},w=function(T,L,C){return T||L||(T=-96,L=-96),T<0&&(T=-1*C.width*72/T/this.internal.scaleFactor),L<0&&(L=-1*C.height*72/L/this.internal.scaleFactor),T===0&&(T=L*C.width/C.height),L===0&&(L=T*C.height/C.width),[T,L]},x=function(T,L,C,Y,oe,se){var pe=w.call(this,C,Y,oe),X=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,ie=u.call(this);if(C=pe[0],Y=pe[1],ie[oe.index]=oe,se){se*=Math.PI/180;var ne=Math.cos(se),M=Math.sin(se),K=function(ae){return ae.toFixed(4)},Z=[K(ne),K(M),K(-1*M),K(ne),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,X(T),le(L+Y),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([X(C),"0","0",X(Y),"0","0","cm"].join(" "))):this.internal.write([X(C),"0","0",X(Y),X(T),le(L+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},b=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=r.__addimage__.sHashCode=function(T){var L,C,Y=0;if(typeof T=="string")for(C=T.length,L=0;L<C;L++)Y=(Y<<5)-Y+T.charCodeAt(L),Y|=0;else if($(T))for(C=T.byteLength/2,L=0;L<C;L++)Y=(Y<<5)-Y+T[L],Y|=0;return Y},I=r.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var L=!0;return T.length===0&&(L=!1),T.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(L=!1),L},B=r.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var L=T.indexOf(",");return L<0?null:T.substring(0,L).trim().endsWith("base64")?T.substring(L+1):null};r.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var $=r.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},D=r.__addimage__.binaryStringToUint8Array=function(T){for(var L=T.length,C=new Uint8Array(L),Y=0;Y<L;Y++)C[Y]=T.charCodeAt(Y);return C},j=r.__addimage__.arrayBufferToBinaryString=function(T){for(var L="",C=$(T)?T:new Uint8Array(T),Y=0;Y<C.length;Y+=8192)L+=String.fromCharCode.apply(null,C.subarray(Y,Y+8192));return L};r.addImage=function(){var T,L,C,Y,oe,se,pe,X,le;if(typeof arguments[1]=="number"?(L=n,C=arguments[1],Y=arguments[2],oe=arguments[3],se=arguments[4],pe=arguments[5],X=arguments[6],le=arguments[7]):(L=arguments[1],C=arguments[2],Y=arguments[3],oe=arguments[4],se=arguments[5],pe=arguments[6],X=arguments[7],le=arguments[8]),Ar(T=arguments[0])==="object"&&!h(T)&&"imageData"in T){var ie=T;T=ie.imageData,L=ie.format||L||n,C=ie.x||C||0,Y=ie.y||Y||0,oe=ie.w||ie.width||oe,se=ie.h||ie.height||se,pe=ie.alias||pe,X=ie.compression||X,le=ie.rotation||ie.angle||le}var ne=this.internal.getFilters();if(X===void 0&&ne.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(C)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var M=O.call(this,T,L,pe,X);return x.call(this,C,Y,oe,se,M,le),this};var O=function(T,L,C,Y){var oe,se,pe;if(typeof T=="string"&&a(T)===n){T=unescape(T);var X=U(T,!1);(X!==""||(X=r.loadFile(T,!0))!==void 0)&&(T=X)}if(h(T)&&(T=p(T,L)),L=a(T,L),!f(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((pe=C)==null||pe.length===0)&&(C=function(le){return typeof le=="string"||$(le)?A(le):$(le.data)?A(le.data):null}(T)),(oe=y.call(this,C))||(T instanceof Uint8Array||L==="RGBA"||(se=T,T=D(T)),oe=this["process"+L.toUpperCase()](T,d.call(this),C,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in r.image_compression?le:S.NONE}(Y),se)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},U=r.__addimage__.convertBase64ToBinaryString=function(T,L){L=typeof L!="boolean"||L;var C,Y="";if(typeof T=="string"){var oe;C=(oe=B(T))!==null&&oe!==void 0?oe:T;try{Y=oy(C)}catch(se){if(L)throw I(C)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};r.getImageProperties=function(T){var L,C,Y="";if(h(T)&&(T=p(T)),typeof T=="string"&&a(T)===n&&((Y=U(T,!1))===""&&(Y=r.loadFile(T)||""),T=Y),C=a(T),!f(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(T instanceof Uint8Array||(T=D(T)),!(L=this["process"+C.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=C,L}})(dt.API),function(r){var e=function(n){if(n!==void 0&&n!="")return!0};dt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(n){for(var i,a,o,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((i=u[f]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){i=u[h];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(w.objId),S=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(i.bounds.x)+" "+l(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y)+"] ")+"/Contents ("+p(b(i.contents))+")",o+=" /Popup "+x.objId+" 0 R",o+=" /P "+c.objId+" 0 R",o+=" /T ("+p(b(S))+") >>",w.content=o;var A=w.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(i.bounds.x+30)+" "+l(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+l(i.bounds.y)+"] ")+" /Parent "+A,i.open&&(o+=" /Open true"),o+=" >>",x.content=o,this.internal.write(w.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+s(i.bounds.x)+" "+l(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y+i.bounds.h)+"] ";var I=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(y(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var B=this.annotations._nameMap[i.options.name];i.options.pageNumber=B.page,i.options.top=B.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var $=l(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+$+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},r.link=function(n,i,a,o,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:u(i),w:c(n+a),h:u(i+o)},options:s,type:"link"})},r.textWithLink=function(n,i,a,o){var s,l,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){l=o.maxWidth;var d=this.splitTextToSize(n,l).length;s=Math.ceil(u*d)}else l=c,s=u;return this.text(n,i,a,o),a+=.2*u,o.align==="center"&&(i-=c/2),o.align==="right"&&(i-=c),this.link(i,a-u,l,s,o),c},r.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(dt.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},s=r.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},l=r.__arabicParser__.isArabicEndLetter=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(w){return s(w)&&a.indexOf(w.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=1};var u=r.__arabicParser__.arabicLetterHasFinalForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=3};var d=r.__arabicParser__.arabicLetterHasMedialForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length==4},f=r.__arabicParser__.resolveLigatures=function(w){var x=0,b=n,S="",A=0;for(x=0;x<w.length;x+=1)b[w.charCodeAt(x)]!==void 0?(A++,typeof(b=b[w.charCodeAt(x)])=="number"&&(S+=String.fromCharCode(b),b=n,A=0),x===w.length-1&&(b=n,S+=w.charAt(x-(A-1)),x-=A-1,A=0)):(b=n,S+=w.charAt(x-A),x-=A,A=0);return S};r.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&i[w.charCodeAt(0)]!==void 0};var h=r.__arabicParser__.getCorrectForm=function(w,x,b){return s(w)?o(w)===!1?-1:!u(w)||!s(x)&&!s(b)||!s(b)&&l(x)||l(w)&&!s(x)||l(w)&&c(x)||l(w)&&l(x)?0:d(w)&&s(x)&&!l(x)&&s(b)&&u(b)?3:l(w)||!s(b)?1:2:-1},p=function(w){var x=0,b=0,S=0,A="",I="",B="",$=(w=w||"").split("\\s+"),D=[];for(x=0;x<$.length;x+=1){for(D.push(""),b=0;b<$[x].length;b+=1)A=$[x][b],I=$[x][b-1],B=$[x][b+1],s(A)?(S=h(A,I,B),D[x]+=S!==-1?String.fromCharCode(e[A.charCodeAt(0)][S]):A):D[x]+=A;D[x]=f(D[x])}return D.join(" ")},y=r.__arabicParser__.processArabic=r.processArabic=function(){var w,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(x)){var S=0;for(b=[],S=0;S<x.length;S+=1)Array.isArray(x[S])?b.push([p(x[S][0]),x[S][1],x[S][2]]):b.push([p(x[S])]);w=b}else w=p(x);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};r.events.push(["preProcessText",y])}(dt.API),dt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(r){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(l){o=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var a;if((n=n||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(dt.API),function(r){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(w){y=w}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return i.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,u){i.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,y=0,w=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(A,I){return A.concat(x.splitTextToSize(I,b))},[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)p<(w=this.getStringUnitWidth(c[S],{font:f})*d)&&(p=w);return p!==0&&(y=c.length),{w:p/=h,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},r.cellAddPage=function(){i.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=r.cell=function(){var c;c=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};r.table=function(c,u,d,f,h){if(i.call(this),!d)throw new Error("No data for PDF table.");var p,y,w,x,b=[],S=[],A=[],I={},B={},$=[],D=[],j=(h=h||{}).autoSize||!1,O=h.printHeaders!==!1,U=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,T=h.margins||Object.assign({width:this.getPageWidth()},e),L=typeof h.padding=="number"?h.padding:3,C=h.headerBackgroundColor||"#c8c8c8",Y=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=C,this.internal.__cell__.headerTextColor=Y,this.setFontSize(U),f==null)S=b=Object.keys(d[0]),A=b.map(function(){return"left"});else if(Array.isArray(f)&&Ar(f[0])==="object")for(b=f.map(function(ie){return ie.name}),S=f.map(function(ie){return ie.prompt||ie.name||""}),A=f.map(function(ie){return ie.align||"left"}),p=0;p<f.length;p+=1)B[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(S=b=f,A=b.map(function(){return"left"}));if(j||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<b.length;p+=1){for(I[x=b[p]]=d.map(function(ie){return ie[x]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(S[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=I[x],this.setFont(void 0,"normal"),w=0;w<y.length;w+=1)$.push(this.getTextDimensions(y[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[x]=Math.max.apply(null,$)+L+L,$=[]}if(O){var oe={};for(p=0;p<b.length;p+=1)oe[b[p]]={},oe[b[p]].text=S[p],oe[b[p]].align=A[p];var se=l.call(this,oe,B);D=b.map(function(ie){return new o(c,u,B[ie],se,oe[ie].text,void 0,oe[ie].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var pe=f.reduce(function(ie,ne){return ie[ne.name]=ne.align,ie},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var X=l.call(this,d[p],B);for(w=0;w<b.length;w+=1){var le=d[p][b[w]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:w,data:le},this),s.call(this,new o(c,u,B[b[w]],X,le,p+2,pe[b[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var y=c[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,y){return Math.max(p,y)},0)};r.setTableHeaderRow=function(c){i.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,u){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(y)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(dt.API);var z9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},V9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],X5=$9(V9),q9=[100,200,300,400,500,600,700,800,900],Vpe=$9(q9);function gb(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return z9[o=o||"normal"]?o:"normal"}(r.style),i=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(r.weight),a=function(o){return typeof X5[o=o||"normal"]=="number"?o:"normal"}(r.stretch);return{family:e,style:n,weight:i,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,n,i].join(" ")}}}function dI(r,e,n,i){var a;for(a=n;a>=0&&a<e.length;a+=i)if(r[e[a]])return r[e[a]];for(a=n;a>=0&&a<e.length;a-=i)if(r[e[a]])return r[e[a]]}var qpe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hI(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function pI(r){return r.trimLeft()}function Wpe(r,e){for(var n=0;n<r.length;){if(r.charAt(n)===e)return[r.substring(0,n),r.substring(n+1)];n+=1}return null}function Hpe(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Fv,mI,gI,of,Bv,vI,yI,wI,vb=["times"];function bI(r,e,n,i){var a=4,o=_I;switch(i){case dt.API.image_compression.FAST:a=1,o=xI;break;case dt.API.image_compression.MEDIUM:a=6,o=AI;break;case dt.API.image_compression.SLOW:a=9,o=SI}r=function(l,c,u,d){for(var f,h=l.length/c,p=new Uint8Array(l.length+h),y=[Kpe,xI,_I,AI,SI],w=0;w<h;w+=1){var x=w*c,b=l.subarray(x,x+c);if(d)p.set(d(b,u,f),x+w);else{for(var S=y.length,A=[],I=0;I<S;I+=1)A[I]=y[I](b,u,f);var B=Ype(A.concat());p.set(A[B],x+w)}f=b}return p}(r,e,n,o);var s=q5(r,{level:a});return dt.API.__addimage__.arrayBufferToBinaryString(s)}function Kpe(r){var e=Array.apply([],r);return e.unshift(0),e}function xI(r,e){var n=r.length,i=[];i[0]=1;for(var a=0;a<n;a+=1){var o=r[a-e]||0;i[a+1]=r[a]-o+256&255}return i}function _I(r,e,n){var i=r.length,a=[];a[0]=2;for(var o=0;o<i;o+=1){var s=n&&n[o]||0;a[o+1]=r[o]-s+256&255}return a}function AI(r,e,n){var i=r.length,a=[];a[0]=3;for(var o=0;o<i;o+=1){var s=r[o-e]||0,l=n&&n[o]||0;a[o+1]=r[o]+256-(s+l>>>1)&255}return a}function SI(r,e,n){var i=r.length,a=[];a[0]=4;for(var o=0;o<i;o+=1){var s=Gpe(r[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);a[o+1]=r[o]-s+256&255}return a}function Gpe(r,e,n){if(r===e&&e===n)return r;var i=Math.abs(e-n),a=Math.abs(r-n),o=Math.abs(r+e-n-n);return i<=a&&i<=o?r:a<=o?e:n}function Ype(r){var e=r.map(function(n){return n.reduce(function(i,a){return i+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function yb(r,e,n){var i=e*n,a=Math.floor(i/8),o=16-(i-8*a+n),s=(1<<n)-1;return W9(r,a)>>o&s}function EI(r,e,n,i){var a=n*i,o=Math.floor(a/8),s=16-(a-8*o+i),l=(1<<i)-1,c=(e&l)<<s;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var h=f>>8&255;u.setUint8(d,h)}})(r,o,W9(r,o)&~(l<<s)&65535|c)}function W9(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function Qpe(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=r[e++]|r[e++]<<8,i=r[e++]|r[e++]<<8,a=r[e++],o=a>>7,s=1<<1+(7&a);r[e++],r[e++];var l=null,c=null;o&&(l=e,c=s,e+=3*s);var u=!0,d=[],f=0,h=null,p=0,y=null;for(this.width=n,this.height=i;u&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,y=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((T=r[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=r[e++];f=r[e++]|r[e++]<<8,h=r[e++],1&w||(h=null),p=w>>2&7,e++;break;case 254:for(;;){if(!((T=r[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var x=r[e++]|r[e++]<<8,b=r[e++]|r[e++]<<8,S=r[e++]|r[e++]<<8,A=r[e++]|r[e++]<<8,I=r[e++],B=I>>6&1,$=1<<1+(7&I),D=l,j=c,O=!1;I>>7&&(O=!0,D=e,j=$,e+=3*$);var U=e;for(e++;;){var T;if(!((T=r[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}d.push({x,y:b,width:S,height:A,has_local_palette:O,palette_offset:D,palette_size:j,data_offset:U,data_length:e-U,transparent_index:h,interlaced:!!B,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(L){if(L<0||L>=d.length)throw new Error("Frame index out of range.");return d[L]},this.decodeAndBlitFrameBGRA=function(L,C){var Y=this.frameInfo(L),oe=Y.width*Y.height,se=new Uint8Array(oe);kI(r,Y.data_offset,se,oe);var pe=Y.palette_offset,X=Y.transparent_index;X===null&&(X=256);var le=Y.width,ie=n-le,ne=le,M=4*(Y.y*n+Y.x),K=4*((Y.y+Y.height)*n+Y.x),Z=M,ae=4*ie;Y.interlaced===!0&&(ae+=4*n*7);for(var de=8,me=0,Ee=se.length;me<Ee;++me){var ue=se[me];if(ne===0&&(ne=le,(Z+=ae)>=K&&(ae=4*ie+4*n*(de-1),Z=M+(le+ie)*(de<<1),de>>=1)),ue===X)Z+=4;else{var Ae=r[pe+3*ue],Pe=r[pe+3*ue+1],we=r[pe+3*ue+2];C[Z++]=we,C[Z++]=Pe,C[Z++]=Ae,C[Z++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(L,C){var Y=this.frameInfo(L),oe=Y.width*Y.height,se=new Uint8Array(oe);kI(r,Y.data_offset,se,oe);var pe=Y.palette_offset,X=Y.transparent_index;X===null&&(X=256);var le=Y.width,ie=n-le,ne=le,M=4*(Y.y*n+Y.x),K=4*((Y.y+Y.height)*n+Y.x),Z=M,ae=4*ie;Y.interlaced===!0&&(ae+=4*n*7);for(var de=8,me=0,Ee=se.length;me<Ee;++me){var ue=se[me];if(ne===0&&(ne=le,(Z+=ae)>=K&&(ae=4*ie+4*n*(de-1),Z=M+(le+ie)*(de<<1),de>>=1)),ue===X)Z+=4;else{var Ae=r[pe+3*ue],Pe=r[pe+3*ue+1],we=r[pe+3*ue+2];C[Z++]=Ae,C[Z++]=Pe,C[Z++]=we,C[Z++]=255}--ne}}}function kI(r,e,n,i){for(var a=r[e++],o=1<<a,s=o+1,l=s+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,p=r[e++],y=new Int32Array(4096),w=null;;){for(;d<16&&p!==0;)f|=r[e++]<<d,d+=8,p===1?p=r[e++]:--p;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==o){if(x===s)break;for(var b=x<l?x:w,S=0,A=b;A>o;)A=y[A]>>8,++S;var I=A;if(h+S+(b!==x?1:0)>i)return void Tr.log("Warning, gif stream longer than expected.");n[h++]=I;var B=h+=S;for(b!==x&&(n[h++]=I),A=b;S--;)A=y[A],n[--B]=255&A,A>>=8;w!==null&&l<4096&&(y[l++]=w<<8|I,l>=u+1&&c<12&&(++c,u=u<<1|1)),w=x}else l=s+1,u=(1<<(c=a+1))-1,w=null}return h!==i&&Tr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function wb(r){var e,n,i,a,o,s=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),y=new Array(64),w=[],x=0,b=7,S=new Array(64),A=new Array(64),I=new Array(64),B=new Array(256),$=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(M,K){for(var Z=0,ae=0,de=new Array,me=1;me<=16;me++){for(var Ee=1;Ee<=M[me];Ee++)de[K[ae]]=[],de[K[ae]][0]=Z,de[K[ae]][1]=me,ae++,Z++;Z*=2}return de}function pe(M){for(var K=M[0],Z=M[1]-1;Z>=0;)K&1<<Z&&(x|=1<<b),Z--,--b<0&&(x==255?(X(255),X(0)):X(x),b=7,x=0)}function X(M){w.push(M)}function le(M){X(M>>8&255),X(255&M)}function ie(M,K,Z,ae,de){for(var me,Ee=de[0],ue=de[240],Ae=function(Fe,at){var Ve,Ct,lt,Yt,kt,ot,It,At,ct,wt,ht=0;for(ct=0;ct<8;++ct){Ve=Fe[ht],Ct=Fe[ht+1],lt=Fe[ht+2],Yt=Fe[ht+3],kt=Fe[ht+4],ot=Fe[ht+5],It=Fe[ht+6];var lr=Ve+(At=Fe[ht+7]),er=Ve-At,tt=Ct+It,St=Ct-It,vr=lt+ot,yt=lt-ot,$t=Yt+kt,Pt=Yt-kt,Yr=lr+$t,Br=lr-$t,pr=tt+vr,xt=tt-vr;Fe[ht]=Yr+pr,Fe[ht+4]=Yr-pr;var zt=.707106781*(xt+Br);Fe[ht+2]=Br+zt,Fe[ht+6]=Br-zt;var hs=.382683433*((Yr=Pt+yt)-(xt=St+er)),xn=.5411961*Yr+hs,ho=1.306562965*xt+hs,Pi=.707106781*(pr=yt+St),gt=er+Pi,Ur=er-Pi;Fe[ht+5]=Ur+xn,Fe[ht+3]=Ur-xn,Fe[ht+1]=gt+ho,Fe[ht+7]=gt-ho,ht+=8}for(ht=0,ct=0;ct<8;++ct){Ve=Fe[ht],Ct=Fe[ht+8],lt=Fe[ht+16],Yt=Fe[ht+24],kt=Fe[ht+32],ot=Fe[ht+40],It=Fe[ht+48];var po=Ve+(At=Fe[ht+56]),ti=Ve-At,ri=Ct+It,Qr=Ct-It,Dn=lt+ot,Xr=lt-ot,tl=Yt+kt,ps=Yt-kt,Ni=po+tl,Ta=po-tl,Gi=ri+Dn,Ti=ri-Dn;Fe[ht]=Ni+Gi,Fe[ht+32]=Ni-Gi;var _n=.707106781*(Ti+Ta);Fe[ht+16]=Ta+_n,Fe[ht+48]=Ta-_n;var ms=.382683433*((Ni=ps+Xr)-(Ti=Qr+ti)),Ca=.5411961*Ni+ms,zo=1.306562965*Ti+ms,gs=.707106781*(Gi=Xr+Qr),rl=ti+gs,nl=ti-gs;Fe[ht+40]=nl+Ca,Fe[ht+24]=nl-Ca,Fe[ht+8]=rl+zo,Fe[ht+56]=rl-zo,ht++}for(ct=0;ct<64;++ct)wt=Fe[ct]*at[ct],p[ct]=wt>0?wt+.5|0:wt-.5|0;return p}(M,K),Pe=0;Pe<64;++Pe)y[D[Pe]]=Ae[Pe];var we=y[0]-Z;Z=y[0],we==0?pe(ae[0]):(pe(ae[h[me=32767+we]]),pe(f[me]));for(var Ue=63;Ue>0&&y[Ue]==0;)Ue--;if(Ue==0)return pe(Ee),Z;for(var be,re=1;re<=Ue;){for(var mt=re;y[re]==0&&re<=Ue;)++re;var vt=re-mt;if(vt>=16){be=vt>>4;for(var ft=1;ft<=be;++ft)pe(ue);vt&=15}me=32767+y[re],pe(de[(vt<<4)+h[me]]),pe(f[me]),re++}return Ue!=63&&pe(Ee),Z}function ne(M){M=Math.min(Math.max(M,1),100),o!=M&&(function(K){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var de=s((Z[ae]*K+50)/100);de=Math.min(Math.max(de,1),255),l[D[ae]]=de}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var ue=s((me[Ee]*K+50)/100);ue=Math.min(Math.max(ue,1),255),c[D[Ee]]=ue}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,we=0;we<8;we++)for(var Ue=0;Ue<8;Ue++)u[Pe]=1/(l[D[Pe]]*Ae[we]*Ae[Ue]*8),d[Pe]=1/(c[D[Pe]]*Ae[we]*Ae[Ue]*8),Pe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,K){K&&ne(K),w=new Array,x=0,b=7,le(65496),le(65504),le(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),le(1),le(1),X(0),X(0),function(){le(65499),le(132),X(0);for(var Ct=0;Ct<64;Ct++)X(l[Ct]);X(1);for(var lt=0;lt<64;lt++)X(c[lt])}(),function(Ct,lt){le(65472),le(17),X(8),le(lt),le(Ct),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(M.width,M.height),function(){le(65476),le(418),X(0);for(var Ct=0;Ct<16;Ct++)X(j[Ct+1]);for(var lt=0;lt<=11;lt++)X(O[lt]);X(16);for(var Yt=0;Yt<16;Yt++)X(U[Yt+1]);for(var kt=0;kt<=161;kt++)X(T[kt]);X(1);for(var ot=0;ot<16;ot++)X(L[ot+1]);for(var It=0;It<=11;It++)X(C[It]);X(17);for(var At=0;At<16;At++)X(Y[At+1]);for(var ct=0;ct<=161;ct++)X(oe[ct])}(),le(65498),le(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var Z=0,ae=0,de=0;x=0,b=7,this.encode.displayName="_encode_";for(var me,Ee,ue,Ae,Pe,we,Ue,be,re,mt=M.data,vt=M.width,ft=M.height,Fe=4*vt,at=0;at<ft;){for(me=0;me<Fe;){for(Pe=Fe*at+me,Ue=-1,be=0,re=0;re<64;re++)we=Pe+(be=re>>3)*Fe+(Ue=4*(7&re)),at+be>=ft&&(we-=Fe*(at+1+be-ft)),me+Ue>=Fe&&(we-=me+Ue-Fe+4),Ee=mt[we++],ue=mt[we++],Ae=mt[we++],S[re]=($[Ee]+$[ue+256|0]+$[Ae+512|0]>>16)-128,A[re]=($[Ee+768|0]+$[ue+1024|0]+$[Ae+1280|0]>>16)-128,I[re]=($[Ee+1280|0]+$[ue+1536|0]+$[Ae+1792|0]>>16)-128;Z=ie(S,u,Z,e,i),ae=ie(A,d,ae,n,a),de=ie(I,d,de,n,a),me+=32}at+=8}if(b>=0){var Ve=[];Ve[1]=b+1,Ve[0]=(1<<b+1)-1,pe(Ve)}return le(65497),new Uint8Array(w)},r=r||50,function(){for(var M=String.fromCharCode,K=0;K<256;K++)B[K]=M(K)}(),e=se(j,O),n=se(L,C),i=se(U,T),a=se(Y,oe),function(){for(var M=1,K=2,Z=1;Z<=15;Z++){for(var ae=M;ae<K;ae++)h[32767+ae]=Z,f[32767+ae]=[],f[32767+ae][1]=Z,f[32767+ae][0]=ae;for(var de=-(K-1);de<=-M;de++)h[32767+de]=Z,f[32767+de]=[],f[32767+de][1]=Z,f[32767+de][0]=K-1+de;M<<=1,K<<=1}}(),function(){for(var M=0;M<256;M++)$[M]=19595*M,$[M+256|0]=38470*M,$[M+512|0]=7471*M+32768,$[M+768|0]=-11059*M,$[M+1024|0]=-21709*M,$[M+1280|0]=32768*M+8421375,$[M+1536|0]=-27439*M,$[M+1792|0]=-5329*M}(),ne(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xo(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function PI(r){function e(O){if(!O)throw Error("assert :P")}function n(O,U,T){for(var L=0;4>L;L++)if(O[U+L]!=T.charCodeAt(L))return!0;return!1}function i(O,U,T,L,C){for(var Y=0;Y<C;Y++)O[U+Y]=T[L+Y]}function a(O,U,T,L){for(var C=0;C<L;C++)O[U+C]=T}function o(O){return new Int32Array(O)}function s(O,U){for(var T=[],L=0;L<O;L++)T.push(new U);return T}function l(O,U){var T=[];return function L(C,Y,oe){for(var se=oe[Y],pe=0;pe<se&&(C.push(oe.length>Y+1?[]:new U),!(oe.length<Y+1));pe++)L(C[pe],Y+1,oe)}(T,0,O),T}var c=function(){var O=this;function U(g,_){for(var k=1<<_-1>>>0;g&k;)k>>>=1;return k?(g&k-1)+k:g}function T(g,_,k,R,V){e(!(R%k));do g[_+(R-=k)]=V;while(0<R)}function L(g,_,k,R,V){if(e(2328>=V),512>=V)var q=o(512);else if((q=o(V))==null)return 0;return function(W,H,Q,ee,fe,_e){var te,he,ye=H,Ne=1<<Q,xe=o(16),Te=o(16);for(e(fe!=0),e(ee!=null),e(W!=null),e(0<Q),he=0;he<fe;++he){if(15<ee[he])return 0;++xe[ee[he]]}if(xe[0]==fe)return 0;for(Te[1]=0,te=1;15>te;++te){if(xe[te]>1<<te)return 0;Te[te+1]=Te[te]+xe[te]}for(he=0;he<fe;++he)te=ee[he],0<ee[he]&&(_e[Te[te]++]=he);if(Te[15]==1)return(ee=new C).g=0,ee.value=_e[0],T(W,ye,1,Ne,ee),Ne;var Ie,Me=-1,Le=Ne-1,ut=0,Qe=1,Ft=1,rt=1<<Q;for(he=0,te=1,fe=2;te<=Q;++te,fe<<=1){if(Qe+=Ft<<=1,0>(Ft-=xe[te]))return 0;for(;0<xe[te];--xe[te])(ee=new C).g=te,ee.value=_e[he++],T(W,ye+ut,fe,rt,ee),ut=U(ut,te)}for(te=Q+1,fe=2;15>=te;++te,fe<<=1){if(Qe+=Ft<<=1,0>(Ft-=xe[te]))return 0;for(;0<xe[te];--xe[te]){if(ee=new C,(ut&Le)!=Me){for(ye+=rt,Ie=1<<(Me=te)-Q;15>Me&&!(0>=(Ie-=xe[Me]));)++Me,Ie<<=1;Ne+=rt=1<<(Ie=Me-Q),W[H+(Me=ut&Le)].g=Ie+Q,W[H+Me].value=ye-H-Me}ee.g=te-Q,ee.value=_e[he++],T(W,ye+(ut>>Q),fe,rt,ee),ut=U(ut,te)}}return Qe!=2*Te[15]-1?0:Ne}(g,_,k,R,V,q)}function C(){this.value=this.g=0}function Y(){this.value=this.g=0}function oe(){this.G=s(5,C),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ps,Y)}function se(g,_,k,R){e(g!=null),e(_!=null),e(2147483648>R),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=k,g.Jd=_,g.Yc=k+R,g.Zc=4<=R?k+R-4+1:k,Ee(g)}function pe(g,_){for(var k=0;0<_--;)k|=Ae(g,128)<<_;return k}function X(g,_){var k=pe(g,_);return ue(g)?-k:k}function le(g,_,k,R){var V,q=0;for(e(g!=null),e(_!=null),e(4294967288>R),g.Sb=R,g.Ra=0,g.u=0,g.h=0,4<R&&(R=4),V=0;V<R;++V)q+=_[k+V]<<8*V;g.Ra=q,g.bb=R,g.oa=_,g.pa=k}function ie(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<fc-8>>>0,++g.bb,g.u-=8;ae(g)&&(g.h=1,g.u=0)}function ne(g,_){if(e(0<=_),!g.h&&_<=Kh){var k=Z(g)&dc[_];return g.u+=_,ie(g),k}return g.h=1,g.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(g){return g.Ra>>>(g.u&fc-1)>>>0}function ae(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>fc}function de(g,_){g.u=_,g.h=ae(g)}function me(g){g.u>=Sn&&(e(g.u>=Sn),ie(g))}function Ee(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ue(g){return pe(g,1)}function Ae(g,_){var k=g.Ca;0>g.b&&Ee(g);var R=g.b,V=k*_>>>8,q=(g.I>>>R>V)+0;for(q?(k-=V,g.I-=V+1<<R>>>0):k=V+1,R=k,V=0;256<=R;)V+=8,R>>=8;return R=7^V+k2[R],g.b-=R,g.Ca=(k<<R)-1,q}function Pe(g,_,k){g[_+0]=k>>24&255,g[_+1]=k>>16&255,g[_+2]=k>>8&255,g[_+3]=255&k}function we(g,_){return g[_+0]|g[_+1]<<8}function Ue(g,_){return we(g,_)|g[_+2]<<16}function be(g,_){return we(g,_)|we(g,_+2)<<16}function re(g,_){var k=1<<_;return e(g!=null),e(0<_),g.X=o(k),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function mt(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),i(_.X,0,g.X,0,1<<_.Xa)}function vt(){this.X=[],this.Xa=this.Mb=0}function ft(g,_,k,R){e(k!=null),e(R!=null);var V=k[0],q=R[0];return V==0&&(V=(g*q+_/2)/_),q==0&&(q=(_*V+g/2)/g),0>=V||0>=q?0:(k[0]=V,R[0]=q,1)}function Fe(g,_){return g+(1<<_)-1>>>_}function at(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function Ve(g,_){O[_]=function(k,R,V,q,W,H,Q){var ee;for(ee=0;ee<W;++ee){var fe=O[g](H[Q+ee-1],V,q+ee);H[Q+ee]=at(k[R+ee],fe)}}}function Ct(){this.ud=this.hd=this.jd=0}function lt(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function Yt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function kt(g,_){return Yt(g+(g-_+.5>>1))}function ot(g,_,k){return Math.abs(_-k)-Math.abs(g-k)}function It(g,_,k,R,V,q,W){for(R=q[W-1],k=0;k<V;++k)q[W+k]=R=at(g[_+k],R)}function At(g,_,k,R,V){var q;for(q=0;q<k;++q){var W=g[_+q],H=W>>8&255,Q=16711935&(Q=(Q=16711935&W)+((H<<16)+H));R[V+q]=(4278255360&W)+Q>>>0}}function ct(g,_){_.jd=255&g,_.hd=g>>8&255,_.ud=g>>16&255}function wt(g,_,k,R,V,q){var W;for(W=0;W<R;++W){var H=_[k+W],Q=H>>>8,ee=H,fe=255&(fe=(fe=H>>>16)+((g.jd<<24>>24)*(Q<<24>>24)>>>5));ee=255&(ee=(ee+=(g.hd<<24>>24)*(Q<<24>>24)>>>5)+((g.ud<<24>>24)*(fe<<24>>24)>>>5)),V[q+W]=(4278255360&H)+(fe<<16)+ee}}function ht(g,_,k,R,V){O[_]=function(q,W,H,Q,ee,fe,_e,te,he){for(Q=_e;Q<te;++Q)for(_e=0;_e<he;++_e)ee[fe++]=V(H[R(q[W++])])},O[g]=function(q,W,H,Q,ee,fe,_e){var te=8>>q.b,he=q.Ea,ye=q.K[0],Ne=q.w;if(8>te)for(q=(1<<q.b)-1,Ne=(1<<te)-1;W<H;++W){var xe,Te=0;for(xe=0;xe<he;++xe)xe&q||(Te=R(Q[ee++])),fe[_e++]=V(ye[Te&Ne]),Te>>=te}else O["VP8LMapColor"+k](Q,ee,ye,Ne,fe,_e,W,H,he)}}function lr(g,_,k,R,V){for(k=_+k;_<k;){var q=g[_++];R[V++]=q>>16&255,R[V++]=q>>8&255,R[V++]=255&q}}function er(g,_,k,R,V){for(k=_+k;_<k;){var q=g[_++];R[V++]=q>>16&255,R[V++]=q>>8&255,R[V++]=255&q,R[V++]=q>>24&255}}function tt(g,_,k,R,V){for(k=_+k;_<k;){var q=(W=g[_++])>>16&240|W>>12&15,W=240&W|W>>28&15;R[V++]=q,R[V++]=W}}function St(g,_,k,R,V){for(k=_+k;_<k;){var q=(W=g[_++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;R[V++]=q,R[V++]=W}}function vr(g,_,k,R,V){for(k=_+k;_<k;){var q=g[_++];R[V++]=255&q,R[V++]=q>>8&255,R[V++]=q>>16&255}}function yt(g,_,k,R,V,q){if(q==0)for(k=_+k;_<k;)Pe(R,((q=g[_++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),V+=32;else i(R,V,g,_,k)}function $t(g,_){O[_][0]=O[g+"0"],O[_][1]=O[g+"1"],O[_][2]=O[g+"2"],O[_][3]=O[g+"3"],O[_][4]=O[g+"4"],O[_][5]=O[g+"5"],O[_][6]=O[g+"6"],O[_][7]=O[g+"7"],O[_][8]=O[g+"8"],O[_][9]=O[g+"9"],O[_][10]=O[g+"10"],O[_][11]=O[g+"11"],O[_][12]=O[g+"12"],O[_][13]=O[g+"13"],O[_][14]=O[g+"0"],O[_][15]=O[g+"0"]}function Pt(g){return g==T2||g==C2||g==Dg||g==I2}function Yr(){this.eb=[],this.size=this.A=this.fb=0}function Br(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yr,this.f.kb=new Br,this.sd=null}function xt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hs(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function xn(g,_){var k=g.T,R=_.ba.f.RGBA,V=R.eb,q=R.fb+g.ka*R.A,W=bo[_.ba.S],H=g.y,Q=g.O,ee=g.f,fe=g.N,_e=g.ea,te=g.W,he=_.cc,ye=_.dc,Ne=_.Mc,xe=_.Nc,Te=g.ka,Ie=g.ka+g.T,Me=g.U,Le=Me+1>>1;for(Te==0?W(H,Q,null,null,ee,fe,_e,te,ee,fe,_e,te,V,q,null,null,Me):(W(_.ec,_.fc,H,Q,he,ye,Ne,xe,ee,fe,_e,te,V,q-R.A,V,q,Me),++k);Te+2<Ie;Te+=2)he=ee,ye=fe,Ne=_e,xe=te,fe+=g.Rc,te+=g.Rc,q+=2*R.A,W(H,(Q+=2*g.fa)-g.fa,H,Q,he,ye,Ne,xe,ee,fe,_e,te,V,q-R.A,V,q,Me);return Q+=g.fa,g.j+Ie<g.o?(i(_.ec,_.fc,H,Q,Me),i(_.cc,_.dc,ee,fe,Le),i(_.Mc,_.Nc,_e,te,Le),k--):1&Ie||W(H,Q,null,null,ee,fe,_e,te,ee,fe,_e,te,V,q+R.A,null,null,Me),k}function ho(g,_,k){var R=g.F,V=[g.J];if(R!=null){var q=g.U,W=_.ba.S,H=W==Lg||W==Dg;_=_.ba.f.RGBA;var Q=[0],ee=g.ka;Q[0]=g.T,g.Kb&&(ee==0?--Q[0]:(--ee,V[0]-=g.width),g.j+g.ka+g.T==g.o&&(Q[0]=g.o-g.j-ee));var fe=_.eb;ee=_.fb+ee*_.A,g=Sk(R,V[0],g.width,q,Q,fe,ee+(H?0:3),_.A),e(k==Q),g&&Pt(W)&&Xh(fe,ee,H,q,Q,_.A)}return 0}function Pi(g){var _=g.ma,k=_.ba.S,R=11>k,V=k==jg||k==Og||k==Lg||k==N2||k==12||Pt(k);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!fa(_.Oa,g,V?11:12))return 0;if(V&&Pt(k)&&uc(),g.da)alert("todo:use_scaling");else{if(R){if(_.Ib=hs,g.Kb){if(k=g.U+1>>1,_.memory=o(g.U+2*k),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+k,_.Ib=xn,uc()}}else alert("todo:EmitYUV");V&&(_.Jb=ho,R&&An())}if(R&&!Uk){for(g=0;256>g;++g)LB[g]=89858*(g-128)+Mg>>Rg,MB[g]=-22014*(g-128)+Mg,RB[g]=-45773*(g-128),DB[g]=113618*(g-128)+Mg>>Rg;for(g=Jh;g<L2;++g)_=76283*(g-16)+Mg>>Rg,FB[g-Jh]=Kt(_,255),BB[g-Jh]=Kt(_+8>>4,15);Uk=1}return 1}function gt(g){var _=g.ma,k=g.U,R=g.T;return e(!(1&g.ka)),0>=k||0>=R?0:(k=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,k),_.Dc+=k,1)}function Ur(g){g.ma.memory=null}function po(g,_,k,R){return ne(g,8)!=47?0:(_[0]=ne(g,14)+1,k[0]=ne(g,14)+1,R[0]=ne(g,1),ne(g,3)!=0?0:!g.h)}function ti(g,_){if(4>g)return g+1;var k=g-2>>1;return(2+(1&g)<<k)+ne(_,k)+1}function ri(g,_){return 120<_?_-120:1<=(k=((k=bB[_-1])>>4)*g+(8-(15&k)))?k:1;var k}function Qr(g,_,k){var R=Z(k),V=g[_+=255&R].g-8;return 0<V&&(de(k,k.u+8),R=Z(k),_+=g[_].value,_+=R&(1<<V)-1),de(k,k.u+g[_].g),g[_].value}function Dn(g,_,k){return k.g+=g.g,k.value+=g.value<<_>>>0,e(8>=k.g),g.g}function Xr(g,_,k){var R=g.xc;return e((_=R==0?0:g.vc[g.md*(k>>R)+(_>>R)])<g.Wb),g.Ya[_]}function tl(g,_,k,R){var V=g.ab,q=g.c*_,W=g.C;_=W+_;var H=k,Q=R;for(R=g.Ta,k=g.Ua;0<V--;){var ee=g.gc[V],fe=W,_e=_,te=H,he=Q,ye=(Q=R,H=k,ee.Ea);switch(e(fe<_e),e(_e<=ee.nc),ee.hc){case 2:Qd(te,he,(_e-fe)*ye,Q,H);break;case 0:var Ne=fe,xe=_e,Te=Q,Ie=H,Me=(rt=ee).Ea;Ne==0&&(Ns(te,he,null,null,1,Te,Ie),It(te,he+1,0,0,Me-1,Te,Ie+1),he+=Me,Ie+=Me,++Ne);for(var Le=1<<rt.b,ut=Le-1,Qe=Fe(Me,rt.b),Ft=rt.K,rt=rt.w+(Ne>>rt.b)*Qe;Ne<xe;){var Xt=Ft,Vn=rt,Bt=1;for(Ts(te,he,Te,Ie-Me,1,Te,Ie);Bt<Me;){var nt=(Bt&~ut)+Le;nt>Me&&(nt=Me),(0,zu[Xt[Vn++]>>8&15])(te,he+ +Bt,Te,Ie+Bt-Me,nt-Bt,Te,Ie+Bt),Bt=nt}he+=Me,Ie+=Me,++Ne&ut||(rt+=Qe)}_e!=ee.nc&&i(Q,H-ye,Q,H+(_e-fe-1)*ye,ye);break;case 1:for(ye=te,xe=he,Me=(te=ee.Ea)-(Ie=te&~(Te=(he=1<<ee.b)-1)),Ne=Fe(te,ee.b),Le=ee.K,ee=ee.w+(fe>>ee.b)*Ne;fe<_e;){for(ut=Le,Qe=ee,Ft=new Ct,rt=xe+Ie,Xt=xe+te;xe<rt;)ct(ut[Qe++],Ft),dl(Ft,ye,xe,he,Q,H),xe+=he,H+=he;xe<Xt&&(ct(ut[Qe++],Ft),dl(Ft,ye,xe,Me,Q,H),xe+=Me,H+=Me),++fe&Te||(ee+=Ne)}break;case 3:if(te==Q&&he==H&&0<ee.b){for(xe=Q,te=ye=H+(_e-fe)*ye-(Ie=(_e-fe)*Fe(ee.Ea,ee.b)),he=Q,Te=H,Ne=[],Ie=(Me=Ie)-1;0<=Ie;--Ie)Ne[Ie]=he[Te+Ie];for(Ie=Me-1;0<=Ie;--Ie)xe[te+Ie]=Ne[Ie];Gh(ee,fe,_e,Q,ye,Q,H)}else Gh(ee,fe,_e,te,he,Q,H)}H=R,Q=k}Q!=k&&i(R,k,H,Q,q)}function ps(g,_){var k=g.V,R=g.Ba+g.c*g.C,V=_-g.C;if(e(_<=g.l.o),e(16>=V),0<V){var q=g.l,W=g.Ta,H=g.Ua,Q=q.width;if(tl(g,V,k,R),V=H=[H],e((k=g.C)<(R=_)),e(q.v<q.va),R>q.o&&(R=q.o),k<q.j){var ee=q.j-k;k=q.j,V[0]+=ee*Q}if(k>=R?k=0:(V[0]+=4*q.v,q.ka=k-q.j,q.U=q.va-q.v,q.T=R-k,k=1),k){if(H=H[0],11>(k=g.ca).S){var fe=k.f.RGBA,_e=(R=k.S,V=q.U,q=q.T,ee=fe.eb,fe.A),te=q;for(fe=fe.fb+g.Ma*fe.A;0<te--;){var he=W,ye=H,Ne=V,xe=ee,Te=fe;switch(R){case Ig:Yh(he,ye,Ne,xe,Te);break;case jg:Da(he,ye,Ne,xe,Te);break;case T2:Da(he,ye,Ne,xe,Te),Xh(xe,Te,0,Ne,1,0);break;case Ik:Dr(he,ye,Ne,xe,Te);break;case Og:yt(he,ye,Ne,xe,Te,1);break;case C2:yt(he,ye,Ne,xe,Te,1),Xh(xe,Te,0,Ne,1,0);break;case Lg:yt(he,ye,Ne,xe,Te,0);break;case Dg:yt(he,ye,Ne,xe,Te,0),Xh(xe,Te,1,Ne,1,0);break;case N2:Cs(he,ye,Ne,xe,Te);break;case I2:Cs(he,ye,Ne,xe,Te),Ak(xe,Te,Ne,1,0);break;case jk:Lr(he,ye,Ne,xe,Te);break;default:e(0)}H+=Q,fe+=_e}g.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=k.height)}}g.C=_,e(g.C<=g.i)}function Ni(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var k=g.Ya[_].G,R=g.Ya[_].H;if(0<k[1][R[1]+0].g||0<k[2][R[2]+0].g||0<k[3][R[3]+0].g)return 0}return 1}function Ta(g,_,k,R,V,q){if(g.Z!=0){var W=g.qd,H=g.rd;for(e(pc[g.Z]!=null);_<k;++_)pc[g.Z](W,H,R,V,R,V,q),W=R,H=V,V+=q;g.qd=W,g.rd=H}}function Gi(g,_){var k=g.l.ma,R=k.Z==0||k.Z==1?g.l.j:g.C;if(R=g.C<R?R:g.C,e(_<=g.l.o),_>R){var V=g.l.width,q=k.ca,W=k.tb+V*R,H=g.V,Q=g.Ba+g.c*R,ee=g.gc;e(g.ab==1),e(ee[0].hc==3),Zd(ee[0],R,_,H,Q,q,W),Ta(k,R,_,q,W,V)}g.C=g.Ma=_}function Ti(g,_,k,R,V,q,W){var H=g.$/R,Q=g.$%R,ee=g.m,fe=g.s,_e=k+g.$,te=_e;V=k+R*V;var he=k+R*q,ye=280+fe.ua,Ne=g.Pb?H:16777216,xe=0<fe.ua?fe.Wa:null,Te=fe.wc,Ie=_e<he?Xr(fe,Q,H):null;e(g.C<q),e(he<=V);var Me=!1;e:for(;;){for(;Me||_e<he;){var Le=0;if(H>=Ne){var ut=_e-k;e((Ne=g).Pb),Ne.wd=Ne.m,Ne.xd=ut,0<Ne.s.ua&&mt(Ne.s.Wa,Ne.s.vb),Ne=H+_B}if(Q&Te||(Ie=Xr(fe,Q,H)),e(Ie!=null),Ie.Qb&&(_[_e]=Ie.qb,Me=!0),!Me)if(me(ee),Ie.jc){Le=ee,ut=_;var Qe=_e,Ft=Ie.pd[Z(Le)&Ps-1];e(Ie.jc),256>Ft.g?(de(Le,Le.u+Ft.g),ut[Qe]=Ft.value,Le=0):(de(Le,Le.u+Ft.g-256),e(256<=Ft.value),Le=Ft.value),Le==0&&(Me=!0)}else Le=Qr(Ie.G[0],Ie.H[0],ee);if(ee.h)break;if(Me||256>Le){if(!Me)if(Ie.nd)_[_e]=(Ie.qb|Le<<8)>>>0;else{if(me(ee),Me=Qr(Ie.G[1],Ie.H[1],ee),me(ee),ut=Qr(Ie.G[2],Ie.H[2],ee),Qe=Qr(Ie.G[3],Ie.H[3],ee),ee.h)break;_[_e]=(Qe<<24|Me<<16|Le<<8|ut)>>>0}if(Me=!1,++_e,++Q>=R&&(Q=0,++H,W!=null&&H<=q&&!(H%16)&&W(g,H),xe!=null))for(;te<_e;)Le=_[te++],xe.X[(506832829*Le&4294967295)>>>xe.Mb]=Le}else if(280>Le){if(Le=ti(Le-256,ee),ut=Qr(Ie.G[4],Ie.H[4],ee),me(ee),ut=ri(R,ut=ti(ut,ee)),ee.h)break;if(_e-k<ut||V-_e<Le)break e;for(Qe=0;Qe<Le;++Qe)_[_e+Qe]=_[_e+Qe-ut];for(_e+=Le,Q+=Le;Q>=R;)Q-=R,++H,W!=null&&H<=q&&!(H%16)&&W(g,H);if(e(_e<=V),Q&Te&&(Ie=Xr(fe,Q,H)),xe!=null)for(;te<_e;)Le=_[te++],xe.X[(506832829*Le&4294967295)>>>xe.Mb]=Le}else{if(!(Le<ye))break e;for(Me=Le-280,e(xe!=null);te<_e;)Le=_[te++],xe.X[(506832829*Le&4294967295)>>>xe.Mb]=Le;Le=_e,e(!(Me>>>(ut=xe).Xa)),_[Le]=ut.X[Me],Me=!0}Me||e(ee.h==ae(ee))}if(g.Pb&&ee.h&&_e<V)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&mt(g.s.vb,g.s.Wa);else{if(ee.h)break e;W!=null&&W(g,H>q?q:H),g.a=0,g.$=_e-k}return 1}return g.a=3,0}function _n(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function ms(){var g=new Or;return g==null?null:(g.a=0,g.xb=Dk,$t("Predictor","VP8LPredictors"),$t("Predictor","VP8LPredictors_C"),$t("PredictorAdd","VP8LPredictorsAdd"),$t("PredictorAdd","VP8LPredictorsAdd_C"),Qd=At,dl=wt,Yh=lr,Da=er,Cs=tt,Lr=St,Dr=vr,O.VP8LMapColor32b=Xd,O.VP8LMapColor8b=$u,g)}function Ca(g,_,k,R,V){var q=1,W=[g],H=[_],Q=R.m,ee=R.s,fe=null,_e=0;e:for(;;){if(k)for(;q&&ne(Q,1);){var te=W,he=H,ye=R,Ne=1,xe=ye.m,Te=ye.gc[ye.ab],Ie=ne(xe,2);if(ye.Oc&1<<Ie)q=0;else{switch(ye.Oc|=1<<Ie,Te.hc=Ie,Te.Ea=te[0],Te.nc=he[0],Te.K=[null],++ye.ab,e(4>=ye.ab),Ie){case 0:case 1:Te.b=ne(xe,3)+2,Ne=Ca(Fe(Te.Ea,Te.b),Fe(Te.nc,Te.b),0,ye,Te.K),Te.K=Te.K[0];break;case 3:var Me,Le=ne(xe,8)+1,ut=16<Le?0:4<Le?1:2<Le?2:3;if(te[0]=Fe(Te.Ea,ut),Te.b=ut,Me=Ne=Ca(Le,1,0,ye,Te.K)){var Qe,Ft=Le,rt=Te,Xt=1<<(8>>rt.b),Vn=o(Xt);if(Vn==null)Me=0;else{var Bt=rt.K[0],nt=rt.w;for(Vn[0]=rt.K[0][0],Qe=1;Qe<1*Ft;++Qe)Vn[Qe]=at(Bt[nt+Qe],Vn[Qe-1]);for(;Qe<4*Xt;++Qe)Vn[Qe]=0;rt.K[0]=null,rt.K[0]=Vn,Me=1}}Ne=Me;break;case 2:break;default:e(0)}q=Ne}}if(W=W[0],H=H[0],q&&ne(Q,1)&&!(q=1<=(_e=ne(Q,4))&&11>=_e)){R.a=3;break e}var ze;if(ze=q)t:{var Pn,Mt,tr,zr=R,pi=W,Zi=H,fn=_e,Ii=k,Ji=zr.m,qn=zr.s,ir=[null],br=1,hn=0,xr=xB[fn];r:for(;;){if(Ii&&ne(Ji,1)){var mi=ne(Ji,3)+2,Go=Fe(pi,mi),Nn=Fe(Zi,mi),pa=Go*Nn;if(!Ca(Go,Nn,0,zr,ir))break r;for(ir=ir[0],qn.xc=mi,Pn=0;Pn<pa;++Pn){var Nr=ir[Pn]>>8&65535;ir[Pn]=Nr,Nr>=br&&(br=Nr+1)}}if(Ji.h)break r;for(Mt=0;5>Mt;++Mt){var Wn=Ok[Mt];!Mt&&0<fn&&(Wn+=1<<fn),hn<Wn&&(hn=Wn)}var Ma=s(br*xr,C),ea=br,Fa=s(ea,oe);if(Fa==null)var Ba=null;else e(65536>=ea),Ba=Fa;var ma=o(hn);if(Ba==null||ma==null||Ma==null){zr.a=1;break r}var Ua=Ma;for(Pn=tr=0;Pn<br;++Pn){var Rr=Ba[Pn],$a=Rr.G,Yo=Rr.H,Vu=0,pl=1,gi=0;for(Mt=0;5>Mt;++Mt){Wn=Ok[Mt],$a[Mt]=Ua,Yo[Mt]=tr,!Mt&&0<fn&&(Wn+=1<<fn);i:{var Bg,D2=Wn,Ug=zr,ep=ma,zB=Ua,VB=tr,R2=0,mc=Ug.m,qB=ne(mc,1);if(a(ep,0,0,D2),qB){var WB=ne(mc,1)+1,HB=ne(mc,1),Vk=ne(mc,HB==0?1:8);ep[Vk]=1,WB==2&&(ep[Vk=ne(mc,8)]=1);var $g=1}else{var qk=o(19),Wk=ne(mc,4)+4;if(19<Wk){Ug.a=3;var zg=0;break i}for(Bg=0;Bg<Wk;++Bg)qk[wB[Bg]]=ne(mc,3);var M2=void 0,tp=void 0,Hk=Ug,KB=qk,Vg=D2,Kk=ep,F2=0,gc=Hk.m,Gk=8,Yk=s(128,C);n:for(;L(Yk,0,7,KB,19);){if(ne(gc,1)){var GB=2+2*ne(gc,3);if((M2=2+ne(gc,GB))>Vg)break n}else M2=Vg;for(tp=0;tp<Vg&&M2--;){me(gc);var Qk=Yk[0+(127&Z(gc))];de(gc,gc.u+Qk.g);var ef=Qk.value;if(16>ef)Kk[tp++]=ef,ef!=0&&(Gk=ef);else{var YB=ef==16,Xk=ef-16,QB=vB[Xk],Zk=ne(gc,gB[Xk])+QB;if(tp+Zk>Vg)break n;for(var XB=YB?Gk:0;0<Zk--;)Kk[tp++]=XB}}F2=1;break n}F2||(Hk.a=3),$g=F2}($g=$g&&!mc.h)&&(R2=L(zB,VB,8,ep,D2)),$g&&R2!=0?zg=R2:(Ug.a=3,zg=0)}if(zg==0)break r;if(pl&&yB[Mt]==1&&(pl=Ua[tr].g==0),Vu+=Ua[tr].g,tr+=zg,3>=Mt){var rp,B2=ma[0];for(rp=1;rp<Wn;++rp)ma[rp]>B2&&(B2=ma[rp]);gi+=B2}}if(Rr.nd=pl,Rr.Qb=0,pl&&(Rr.qb=($a[3][Yo[3]+0].value<<24|$a[1][Yo[1]+0].value<<16|$a[2][Yo[2]+0].value)>>>0,Vu==0&&256>$a[0][Yo[0]+0].value&&(Rr.Qb=1,Rr.qb+=$a[0][Yo[0]+0].value<<8)),Rr.jc=!Rr.Qb&&6>gi,Rr.jc){var qg,ml=Rr;for(qg=0;qg<Ps;++qg){var vc=qg,yc=ml.pd[vc],Wg=ml.G[0][ml.H[0]+vc];256<=Wg.value?(yc.g=Wg.g+256,yc.value=Wg.value):(yc.g=0,yc.value=0,vc>>=Dn(Wg,8,yc),vc>>=Dn(ml.G[1][ml.H[1]+vc],16,yc),vc>>=Dn(ml.G[2][ml.H[2]+vc],0,yc),Dn(ml.G[3][ml.H[3]+vc],24,yc))}}}qn.vc=ir,qn.Wb=br,qn.Ya=Ba,qn.yc=Ma,ze=1;break t}ze=0}if(!(q=ze)){R.a=3;break e}if(0<_e){if(ee.ua=1<<_e,!re(ee.Wa,_e)){R.a=1,q=0;break e}}else ee.ua=0;var U2=R,Jk=W,ZB=H,$2=U2.s,z2=$2.xc;if(U2.c=Jk,U2.i=ZB,$2.md=Fe(Jk,z2),$2.wc=z2==0?-1:(1<<z2)-1,k){R.xb=TB;break e}if((fe=o(W*H))==null){R.a=1,q=0;break e}q=(q=Ti(R,fe,0,W,H,H,null))&&!Q.h;break e}return q?(V!=null?V[0]=fe:(e(fe==null),e(k)),R.$=0,k||_n(ee)):_n(ee),q}function zo(g,_){var k=g.c*g.i,R=k+_+16*_;return e(g.c<=_),g.V=o(R),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+k+_,1)}function gs(g,_){var k=g.C,R=_-k,V=g.V,q=g.Ba+g.c*k;for(e(_<=g.l.o);0<R;){var W=16<R?16:R,H=g.l.ma,Q=g.l.width,ee=Q*W,fe=H.ca,_e=H.tb+Q*k,te=g.Ta,he=g.Ua;tl(g,W,V,q),Ek(te,he,fe,_e,ee),Ta(H,k,k+W,fe,_e,Q),R-=W,V+=W*g.c,k+=W}e(k==_),g.C=g.Ma=_}function rl(){this.ub=this.yd=this.td=this.Rb=0}function nl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Uh(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function vs(){this.Yb=function(){var g=[];return function _(k,R,V){for(var q=V[R],W=0;W<q&&(k.push(V.length>R+1?[]:0),!(V.length<R+1));W++)_(k[W],R+1,V)}(g,0,[3,11]),g}()}function Tu(){this.jb=o(3),this.Wc=l([4,8],vs),this.Xc=l([4,17],vs)}function tc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ni(){this.ld=this.La=this.dd=this.tc=0}function Ia(){this.Na=this.la=0}function rc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Cu(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Iu(){this.uc=this.M=this.Nb=0,this.wa=Array(new ni),this.Y=0,this.ya=Array(new Cu),this.aa=0,this.l=new ys}function ju(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ou(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new rl,this.Kc=new nl,this.ed=new tc,this.Qa=new Uh,this.Ic=this.$c=this.Aa=0,this.D=new Iu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,M),this.ia=0,this.pb=s(4,rc),this.Pa=new Tu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ju),this.Hd=0,this.rb=Array(new Ia),this.sb=0,this.wa=Array(new ni),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Cu),this.L=this.aa=0,this.gd=l([4,2],ni),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ys(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Lu(){var g=new Ou;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Zh||(Zh=Vo)),g}function an(g,_,k){return g.a==0&&(g.a=_,g.sc=k,g.cb=0),0}function Du(g,_,k){return 3<=k&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function Hd(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return an(g,2,"null VP8Io passed to VP8GetHeaders()");var k=_.data,R=_.w,V=_.ha;if(4>V)return an(g,7,"Truncated header.");var q=k[R+0]|k[R+1]<<8|k[R+2]<<16,W=g.Od;if(W.Rb=!(1&q),W.td=q>>1&7,W.yd=q>>4&1,W.ub=q>>5,3<W.td)return an(g,3,"Incorrect keyframe parameters.");if(!W.yd)return an(g,4,"Frame not displayable.");R+=3,V-=3;var H=g.Kc;if(W.Rb){if(7>V)return an(g,7,"cannot parse picture header");if(!Du(k,R,V))return an(g,3,"Bad code word");H.c=16383&(k[R+4]<<8|k[R+3]),H.Td=k[R+4]>>6,H.i=16383&(k[R+6]<<8|k[R+5]),H.Ud=k[R+6]>>6,R+=7,V-=7,g.za=H.c+15>>4,g.Ub=H.i+15>>4,_.width=H.c,_.height=H.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,a((q=g.Pa).jb,0,255,q.jb.length),e((q=g.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,a(q.Zb,0,0,q.Zb.length),a(q.Lb,0,0,q.Lb)}if(W.ub>V)return an(g,7,"bad partition length");se(q=g.m,k,R,W.ub),R+=W.ub,V-=W.ub,W.Rb&&(H.Ld=ue(q),H.Kd=ue(q)),H=g.Qa;var Q,ee=g.Pa;if(e(q!=null),e(H!=null),H.Cb=ue(q),H.Cb){if(H.Bb=ue(q),ue(q)){for(H.Fb=ue(q),Q=0;4>Q;++Q)H.Zb[Q]=ue(q)?X(q,7):0;for(Q=0;4>Q;++Q)H.Lb[Q]=ue(q)?X(q,6):0}if(H.Bb)for(Q=0;3>Q;++Q)ee.jb[Q]=ue(q)?pe(q,8):255}else H.Bb=0;if(q.Ka)return an(g,3,"cannot parse segment header");if((H=g.ed).zd=ue(q),H.Tb=pe(q,6),H.wb=pe(q,3),H.Pc=ue(q),H.Pc&&ue(q)){for(ee=0;4>ee;++ee)ue(q)&&(H.vd[ee]=X(q,6));for(ee=0;4>ee;++ee)ue(q)&&(H.od[ee]=X(q,6))}if(g.L=H.Tb==0?0:H.zd?1:2,q.Ka)return an(g,3,"cannot parse filter header");var fe=V;if(V=Q=R,R=Q+fe,H=fe,g.Xb=(1<<pe(g.m,2))-1,fe<3*(ee=g.Xb))k=7;else{for(Q+=3*ee,H-=3*ee,fe=0;fe<ee;++fe){var _e=k[V+0]|k[V+1]<<8|k[V+2]<<16;_e>H&&(_e=H),se(g.Jc[+fe],k,Q,_e),Q+=_e,H-=_e,V+=3}se(g.Jc[+ee],k,Q,H),k=Q<R?0:5}if(k!=0)return an(g,k,"cannot parse partitions");for(k=pe(Q=g.m,7),V=ue(Q)?X(Q,4):0,R=ue(Q)?X(Q,4):0,H=ue(Q)?X(Q,4):0,ee=ue(Q)?X(Q,4):0,Q=ue(Q)?X(Q,4):0,fe=g.Qa,_e=0;4>_e;++_e){if(fe.Cb){var te=fe.Zb[_e];fe.Fb||(te+=k)}else{if(0<_e){g.pb[_e]=g.pb[0];continue}te=k}var he=g.pb[_e];he.Sc[0]=j2[Kt(te+V,127)],he.Sc[1]=O2[Kt(te+0,127)],he.Eb[0]=2*j2[Kt(te+R,127)],he.Eb[1]=101581*O2[Kt(te+H,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=j2[Kt(te+ee,117)],he.Qc[1]=O2[Kt(te+Q,127)],he.lc=te+Q}if(!W.Rb)return an(g,4,"Not a key frame.");for(ue(q),W=g.Pa,k=0;4>k;++k){for(V=0;8>V;++V)for(R=0;3>R;++R)for(H=0;11>H;++H)ee=Ae(q,PB[k][V][R][H])?pe(q,8):EB[k][V][R][H],W.Wc[k][V].Yb[R][H]=ee;for(V=0;17>V;++V)W.Xc[k][V]=W.Wc[k][NB[V]]}return g.kc=ue(q),g.kc&&(g.Bd=pe(q,8)),g.cb=1}function Vo(g,_,k,R,V,q,W){var H=_[V].Yb[k];for(k=0;16>V;++V){if(!Ae(g,H[k+0]))return V;for(;!Ae(g,H[k+1]);)if(H=_[++V].Yb[0],k=0,V==16)return 16;var Q=_[V+1].Yb;if(Ae(g,H[k+2])){var ee=g,fe=0;if(Ae(ee,(te=H)[(_e=k)+3]))if(Ae(ee,te[_e+6])){for(H=0,_e=2*(fe=Ae(ee,te[_e+8]))+(te=Ae(ee,te[_e+9+fe])),fe=0,te=AB[_e];te[H];++H)fe+=fe+Ae(ee,te[H]);fe+=3+(8<<_e)}else Ae(ee,te[_e+7])?(fe=7+2*Ae(ee,165),fe+=Ae(ee,145)):fe=5+Ae(ee,159);else fe=Ae(ee,te[_e+4])?3+Ae(ee,te[_e+5]):2;H=Q[2]}else fe=1,H=Q[1];Q=W+SB[V],0>(ee=g).b&&Ee(ee);var _e,te=ee.b,he=(_e=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=he,ee.Ca|=1,ee.I-=(_e+1&he)<<te,q[Q]=((fe^he)-he)*R[(0<V)+0]}return 16}function ws(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,a(g.zc,0,0,g.zc.length),g.ja=0}function la(g,_,k,R,V){V=g[_+k+32*R]+(V>>3),g[_+k+32*R]=-256&V?0>V?0:255:V}function il(g,_,k,R,V,q){la(g,_,0,k,R+V),la(g,_,1,k,R+q),la(g,_,2,k,R-q),la(g,_,3,k,R-V)}function yr(g){return(20091*g>>16)+g}function Yi(g,_,k,R){var V,q=0,W=o(16);for(V=0;4>V;++V){var H=g[_+0]+g[_+8],Q=g[_+0]-g[_+8],ee=(35468*g[_+4]>>16)-yr(g[_+12]),fe=yr(g[_+4])+(35468*g[_+12]>>16);W[q+0]=H+fe,W[q+1]=Q+ee,W[q+2]=Q-ee,W[q+3]=H-fe,q+=4,_++}for(V=q=0;4>V;++V)H=(g=W[q+0]+4)+W[q+8],Q=g-W[q+8],ee=(35468*W[q+4]>>16)-yr(W[q+12]),la(k,R,0,0,H+(fe=yr(W[q+4])+(35468*W[q+12]>>16))),la(k,R,1,0,Q+ee),la(k,R,2,0,Q-ee),la(k,R,3,0,H-fe),q++,R+=32}function nc(g,_,k,R){var V=g[_+0]+4,q=35468*g[_+4]>>16,W=yr(g[_+4]),H=35468*g[_+1]>>16;il(k,R,0,V+W,g=yr(g[_+1]),H),il(k,R,1,V+q,g,H),il(k,R,2,V-q,g,H),il(k,R,3,V-W,g,H)}function ic(g,_,k,R,V){Yi(g,_,k,R),V&&Yi(g,_+16,k,R+4)}function Kd(g,_,k,R){kn(g,_+0,k,R,1),kn(g,_+32,k,R+128,1)}function Ht(g,_,k,R){var V;for(g=g[_+0]+4,V=0;4>V;++V)for(_=0;4>_;++_)la(k,R,_,V,g)}function al(g,_,k,R){g[_+0]&&Is(g,_+0,k,R),g[_+16]&&Is(g,_+16,k,R+4),g[_+32]&&Is(g,_+32,k,R+128),g[_+48]&&Is(g,_+48,k,R+128+4)}function bs(g,_,k,R){var V,q=o(16);for(V=0;4>V;++V){var W=g[_+0+V]+g[_+12+V],H=g[_+4+V]+g[_+8+V],Q=g[_+4+V]-g[_+8+V],ee=g[_+0+V]-g[_+12+V];q[0+V]=W+H,q[8+V]=W-H,q[4+V]=ee+Q,q[12+V]=ee-Q}for(V=0;4>V;++V)W=(g=q[0+4*V]+3)+q[3+4*V],H=q[1+4*V]+q[2+4*V],Q=q[1+4*V]-q[2+4*V],ee=g-q[3+4*V],k[R+0]=W+H>>3,k[R+16]=ee+Q>>3,k[R+32]=W-H>>3,k[R+48]=ee-Q>>3,R+=64}function ca(g,_,k){var R,V=_-32,q=Ra,W=255-g[V-1];for(R=0;R<k;++R){var H,Q=q,ee=W+g[_-1];for(H=0;H<k;++H)g[_+H]=Q[ee+g[V+H]];_+=32}}function Ru(g,_){ca(g,_,4)}function Gd(g,_){ca(g,_,8)}function $h(g,_){ca(g,_,16)}function zh(g,_){var k;for(k=0;16>k;++k)i(g,_+32*k,g,_-32,16)}function Mu(g,_){var k;for(k=16;0<k;--k)a(g,_,g[_-1],16),_+=32}function ol(g,_,k){var R;for(R=0;16>R;++R)a(_,k+32*R,g,16)}function ua(g,_){var k,R=16;for(k=0;16>k;++k)R+=g[_-1+32*k]+g[_+k-32];ol(R>>5,g,_)}function mo(g,_){var k,R=8;for(k=0;16>k;++k)R+=g[_-1+32*k];ol(R>>4,g,_)}function xs(g,_){var k,R=8;for(k=0;16>k;++k)R+=g[_+k-32];ol(R>>4,g,_)}function ac(g,_){ol(128,g,_)}function _t(g,_,k){return g+2*_+k+2>>2}function _s(g,_){var k,R=_-32;for(R=new Uint8Array([_t(g[R-1],g[R+0],g[R+1]),_t(g[R+0],g[R+1],g[R+2]),_t(g[R+1],g[R+2],g[R+3]),_t(g[R+2],g[R+3],g[R+4])]),k=0;4>k;++k)i(g,_+32*k,R,0,R.length)}function Vh(g,_){var k=g[_-1],R=g[_-1+32],V=g[_-1+64],q=g[_-1+96];Pe(g,_+0,16843009*_t(g[_-1-32],k,R)),Pe(g,_+32,16843009*_t(k,R,V)),Pe(g,_+64,16843009*_t(R,V,q)),Pe(g,_+96,16843009*_t(V,q,q))}function qh(g,_){var k,R=4;for(k=0;4>k;++k)R+=g[_+k-32]+g[_-1+32*k];for(R>>=3,k=0;4>k;++k)a(g,_+32*k,R,4)}function Wh(g,_){var k=g[_-1+0],R=g[_-1+32],V=g[_-1+64],q=g[_-1-32],W=g[_+0-32],H=g[_+1-32],Q=g[_+2-32],ee=g[_+3-32];g[_+0+96]=_t(R,V,g[_-1+96]),g[_+1+96]=g[_+0+64]=_t(k,R,V),g[_+2+96]=g[_+1+64]=g[_+0+32]=_t(q,k,R),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=_t(W,q,k),g[_+3+64]=g[_+2+32]=g[_+1+0]=_t(H,W,q),g[_+3+32]=g[_+2+0]=_t(Q,H,W),g[_+3+0]=_t(ee,Q,H)}function ii(g,_){var k=g[_+1-32],R=g[_+2-32],V=g[_+3-32],q=g[_+4-32],W=g[_+5-32],H=g[_+6-32],Q=g[_+7-32];g[_+0+0]=_t(g[_+0-32],k,R),g[_+1+0]=g[_+0+32]=_t(k,R,V),g[_+2+0]=g[_+1+32]=g[_+0+64]=_t(R,V,q),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=_t(V,q,W),g[_+3+32]=g[_+2+64]=g[_+1+96]=_t(q,W,H),g[_+3+64]=g[_+2+96]=_t(W,H,Q),g[_+3+96]=_t(H,Q,Q)}function qo(g,_){var k=g[_-1+0],R=g[_-1+32],V=g[_-1+64],q=g[_-1-32],W=g[_+0-32],H=g[_+1-32],Q=g[_+2-32],ee=g[_+3-32];g[_+0+0]=g[_+1+64]=q+W+1>>1,g[_+1+0]=g[_+2+64]=W+H+1>>1,g[_+2+0]=g[_+3+64]=H+Q+1>>1,g[_+3+0]=Q+ee+1>>1,g[_+0+96]=_t(V,R,k),g[_+0+64]=_t(R,k,q),g[_+0+32]=g[_+1+96]=_t(k,q,W),g[_+1+32]=g[_+2+96]=_t(q,W,H),g[_+2+32]=g[_+3+96]=_t(W,H,Q),g[_+3+32]=_t(H,Q,ee)}function Hh(g,_){var k=g[_+0-32],R=g[_+1-32],V=g[_+2-32],q=g[_+3-32],W=g[_+4-32],H=g[_+5-32],Q=g[_+6-32],ee=g[_+7-32];g[_+0+0]=k+R+1>>1,g[_+1+0]=g[_+0+64]=R+V+1>>1,g[_+2+0]=g[_+1+64]=V+q+1>>1,g[_+3+0]=g[_+2+64]=q+W+1>>1,g[_+0+32]=_t(k,R,V),g[_+1+32]=g[_+0+96]=_t(R,V,q),g[_+2+32]=g[_+1+96]=_t(V,q,W),g[_+3+32]=g[_+2+96]=_t(q,W,H),g[_+3+64]=_t(W,H,Q),g[_+3+96]=_t(H,Q,ee)}function oc(g,_){var k=g[_-1+0],R=g[_-1+32],V=g[_-1+64],q=g[_-1+96];g[_+0+0]=k+R+1>>1,g[_+2+0]=g[_+0+32]=R+V+1>>1,g[_+2+32]=g[_+0+64]=V+q+1>>1,g[_+1+0]=_t(k,R,V),g[_+3+0]=g[_+1+32]=_t(R,V,q),g[_+3+32]=g[_+1+64]=_t(V,q,q),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=q}function Wo(g,_){var k=g[_-1+0],R=g[_-1+32],V=g[_-1+64],q=g[_-1+96],W=g[_-1-32],H=g[_+0-32],Q=g[_+1-32],ee=g[_+2-32];g[_+0+0]=g[_+2+32]=k+W+1>>1,g[_+0+32]=g[_+2+64]=R+k+1>>1,g[_+0+64]=g[_+2+96]=V+R+1>>1,g[_+0+96]=q+V+1>>1,g[_+3+0]=_t(H,Q,ee),g[_+2+0]=_t(W,H,Q),g[_+1+0]=g[_+3+32]=_t(k,W,H),g[_+1+32]=g[_+3+64]=_t(R,k,W),g[_+1+64]=g[_+3+96]=_t(V,R,k),g[_+1+96]=_t(q,V,R)}function sc(g,_){var k;for(k=0;8>k;++k)i(g,_+32*k,g,_-32,8)}function ja(g,_){var k;for(k=0;8>k;++k)a(g,_,g[_-1],8),_+=32}function go(g,_,k){var R;for(R=0;8>R;++R)a(_,k+32*R,g,8)}function sl(g,_){var k,R=8;for(k=0;8>k;++k)R+=g[_+k-32]+g[_-1+32*k];go(R>>4,g,_)}function Fu(g,_){var k,R=4;for(k=0;8>k;++k)R+=g[_+k-32];go(R>>3,g,_)}function kr(g,_){var k,R=4;for(k=0;8>k;++k)R+=g[_-1+32*k];go(R>>3,g,_)}function Bu(g,_){go(128,g,_)}function ll(g,_,k){var R=g[_-k],V=g[_+0],q=3*(V-R)+P2[1020+g[_-2*k]-g[_+k]],W=Cg[112+(q+4>>3)];g[_-k]=Ra[255+R+Cg[112+(q+3>>3)]],g[_+0]=Ra[255+V-W]}function As(g,_,k,R){var V=g[_+0],q=g[_+k];return wo[255+g[_-2*k]-g[_-k]]>R||wo[255+q-V]>R}function lc(g,_,k,R){return 4*wo[255+g[_-k]-g[_+0]]+wo[255+g[_-2*k]-g[_+k]]<=R}function cl(g,_,k,R,V){var q=g[_-3*k],W=g[_-2*k],H=g[_-k],Q=g[_+0],ee=g[_+k],fe=g[_+2*k],_e=g[_+3*k];return 4*wo[255+H-Q]+wo[255+W-ee]>R?0:wo[255+g[_-4*k]-q]<=V&&wo[255+q-W]<=V&&wo[255+W-H]<=V&&wo[255+_e-fe]<=V&&wo[255+fe-ee]<=V&&wo[255+ee-Q]<=V}function Ss(g,_,k,R){var V=2*R+1;for(R=0;16>R;++R)lc(g,_+R,k,V)&&ll(g,_+R,k)}function Es(g,_,k,R){var V=2*R+1;for(R=0;16>R;++R)lc(g,_+R*k,1,V)&&ll(g,_+R*k,1)}function Qi(g,_,k,R){var V;for(V=3;0<V;--V)Ss(g,_+=4*k,k,R)}function cc(g,_,k,R){var V;for(V=3;0<V;--V)Es(g,_+=4,k,R)}function Xi(g,_,k,R,V,q,W,H){for(q=2*q+1;0<V--;){if(cl(g,_,k,q,W))if(As(g,_,k,H))ll(g,_,k);else{var Q=g,ee=_,fe=k,_e=Q[ee-2*fe],te=Q[ee-fe],he=Q[ee+0],ye=Q[ee+fe],Ne=Q[ee+2*fe],xe=27*(Ie=P2[1020+3*(he-te)+P2[1020+_e-ye]])+63>>7,Te=18*Ie+63>>7,Ie=9*Ie+63>>7;Q[ee-3*fe]=Ra[255+Q[ee-3*fe]+Ie],Q[ee-2*fe]=Ra[255+_e+Te],Q[ee-fe]=Ra[255+te+xe],Q[ee+0]=Ra[255+he-xe],Q[ee+fe]=Ra[255+ye-Te],Q[ee+2*fe]=Ra[255+Ne-Ie]}_+=R}}function Ci(g,_,k,R,V,q,W,H){for(q=2*q+1;0<V--;){if(cl(g,_,k,q,W))if(As(g,_,k,H))ll(g,_,k);else{var Q=g,ee=_,fe=k,_e=Q[ee-fe],te=Q[ee+0],he=Q[ee+fe],ye=Cg[112+(4+(Ne=3*(te-_e))>>3)],Ne=Cg[112+(Ne+3>>3)],xe=ye+1>>1;Q[ee-2*fe]=Ra[255+Q[ee-2*fe]+xe],Q[ee-fe]=Ra[255+_e+Ne],Q[ee+0]=Ra[255+te-ye],Q[ee+fe]=Ra[255+he-xe]}_+=R}}function E(g,_,k,R,V,q){Xi(g,_,k,1,16,R,V,q)}function z(g,_,k,R,V,q){Xi(g,_,1,k,16,R,V,q)}function J(g,_,k,R,V,q){var W;for(W=3;0<W;--W)Ci(g,_+=4*k,k,1,16,R,V,q)}function ce(g,_,k,R,V,q){var W;for(W=3;0<W;--W)Ci(g,_+=4,1,k,16,R,V,q)}function ge(g,_,k,R,V,q,W,H){Xi(g,_,V,1,8,q,W,H),Xi(k,R,V,1,8,q,W,H)}function Ce(g,_,k,R,V,q,W,H){Xi(g,_,1,V,8,q,W,H),Xi(k,R,1,V,8,q,W,H)}function Oe(g,_,k,R,V,q,W,H){Ci(g,_+4*V,V,1,8,q,W,H),Ci(k,R+4*V,V,1,8,q,W,H)}function We(g,_,k,R,V,q,W,H){Ci(g,_+4,1,V,8,q,W,H),Ci(k,R+4,1,V,8,q,W,H)}function Ze(){this.ba=new pr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qt(){this.ua=0,this.Wa=new vt,this.vb=new vt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new C}function Or(){this.xb=this.a=0,this.l=new ys,this.ca=new pr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qt,this.ab=0,this.gc=s(4,Nt),this.Oc=0}function $r(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ys,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function mr(g,_,k,R,V,q,W){for(g=g==null?0:g[_+0],_=0;_<W;++_)V[q+_]=g+k[R+_]&255,g=V[q+_]}function dn(g,_,k,R,V,q,W){var H;if(g==null)mr(null,null,k,R,V,q,W);else for(H=0;H<W;++H)V[q+H]=g[_+H]+k[R+H]&255}function Pr(g,_,k,R,V,q,W){if(g==null)mr(null,null,k,R,V,q,W);else{var H,Q=g[_+0],ee=Q,fe=Q;for(H=0;H<W;++H)ee=fe+(Q=g[_+H])-ee,fe=k[R+H]+(-256&ee?0>ee?0:255:ee)&255,ee=Q,V[q+H]=fe}}function Rn(g,_,k,R){var V=_.width,q=_.o;if(e(g!=null&&_!=null),0>k||0>=R||k+R>q)return null;if(!g.Cc){if(g.ga==null){var W;if(g.ga=new $r,(W=g.ga==null)||(W=_.width*_.o,e(g.Gb.length==0),g.Gb=o(W),g.Uc=0,g.Gb==null?W=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,W=1),W=!W),!W){W=g.ga;var H=g.Fa,Q=g.P,ee=g.qc,fe=g.mb,_e=g.nb,te=Q+1,he=ee-1,ye=W.l;if(e(H!=null&&fe!=null&&_!=null),pc[0]=null,pc[1]=mr,pc[2]=dn,pc[3]=Pr,W.ca=fe,W.tb=_e,W.c=_.width,W.i=_.height,e(0<W.c&&0<W.i),1>=ee)_=0;else if(W.$a=3&H[Q+0],W.Z=H[Q+0]>>2&3,W.Lc=H[Q+0]>>4&3,Q=H[Q+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Q)_=0;else if(ye.put=gt,ye.ac=Pi,ye.bc=Ur,ye.ma=W,ye.width=_.width,ye.height=_.height,ye.Da=_.Da,ye.v=_.v,ye.va=_.va,ye.j=_.j,ye.o=_.o,W.$a)e:{e(W.$a==1),_=ms();t:for(;;){if(_==null){_=0;break e}if(e(W!=null),W.mc=_,_.c=W.c,_.i=W.i,_.l=W.l,_.l.ma=W,_.l.width=W.c,_.l.height=W.i,_.a=0,le(_.m,H,te,he),!Ca(W.c,W.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Ni(_.s)?(W.ic=1,H=_.c*_.i,_.Ta=null,_.Ua=0,_.V=o(H),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(W.ic=0,_=zo(_,W.c)),!_))break t;_=1;break e}W.mc=null,_=0}else _=he>=W.c*W.i;W=!_}if(W)return null;g.ga.Lc!=1?g.Ga=0:R=q-k}e(g.ga!=null),e(k+R<=q);e:{if(_=(H=g.ga).c,q=H.l.o,H.$a==0){if(te=g.rc,he=g.Vc,ye=g.Fa,Q=g.P+1+k*_,ee=g.mb,fe=g.nb+k*_,e(Q<=g.P+g.qc),H.Z!=0)for(e(pc[H.Z]!=null),W=0;W<R;++W)pc[H.Z](te,he,ye,Q,ee,fe,_),te=ee,he=fe,fe+=_,Q+=_;else for(W=0;W<R;++W)i(ee,fe,ye,Q,_),te=ee,he=fe,fe+=_,Q+=_;g.rc=te,g.Vc=he}else{if(e(H.mc!=null),_=k+R,e((W=H.mc)!=null),e(_<=W.i),W.C>=_)_=1;else if(H.ic||An(),H.ic){H=W.V,te=W.Ba,he=W.c;var Ne=W.i,xe=(ye=1,Q=W.$/he,ee=W.$%he,fe=W.m,_e=W.s,W.$),Te=he*Ne,Ie=he*_,Me=_e.wc,Le=xe<Ie?Xr(_e,ee,Q):null;e(xe<=Te),e(_<=Ne),e(Ni(_e));t:for(;;){for(;!fe.h&&xe<Ie;){if(ee&Me||(Le=Xr(_e,ee,Q)),e(Le!=null),me(fe),256>(Ne=Qr(Le.G[0],Le.H[0],fe)))H[te+xe]=Ne,++xe,++ee>=he&&(ee=0,++Q<=_&&!(Q%16)&&Gi(W,Q));else{if(!(280>Ne)){ye=0;break t}Ne=ti(Ne-256,fe);var ut,Qe=Qr(Le.G[4],Le.H[4],fe);if(me(fe),!(xe>=(Qe=ri(he,Qe=ti(Qe,fe)))&&Te-xe>=Ne)){ye=0;break t}for(ut=0;ut<Ne;++ut)H[te+xe+ut]=H[te+xe+ut-Qe];for(xe+=Ne,ee+=Ne;ee>=he;)ee-=he,++Q<=_&&!(Q%16)&&Gi(W,Q);xe<Ie&&ee&Me&&(Le=Xr(_e,ee,Q))}e(fe.h==ae(fe))}Gi(W,Q>_?_:Q);break t}!ye||fe.h&&xe<Te?(ye=0,W.a=fe.h?5:3):W.$=xe,_=ye}else _=Ti(W,W.V,W.Ba,W.c,W.i,_,gs);if(!_){R=0;break e}}k+R>=q&&(g.Cc=1),R=1}if(!R)return null;if(g.Cc&&((R=g.ga)!=null&&(R.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+k*V}function vo(g,_,k,R,V,q){for(;0<V--;){var W,H=g,Q=_+(k?1:0),ee=g,fe=_+(k?0:3);for(W=0;W<R;++W){var _e=ee[fe+4*W];_e!=255&&(_e*=32897,H[Q+4*W+0]=H[Q+4*W+0]*_e>>23,H[Q+4*W+1]=H[Q+4*W+1]*_e>>23,H[Q+4*W+2]=H[Q+4*W+2]*_e>>23)}_+=q}}function Ho(g,_,k,R,V){for(;0<R--;){var q;for(q=0;q<k;++q){var W=g[_+2*q+0],H=15&(ee=g[_+2*q+1]),Q=4369*H,ee=(240&ee|ee>>4)*Q>>16;g[_+2*q+0]=(240&W|W>>4)*Q>>16&240|(15&W|W<<4)*Q>>16>>4&15,g[_+2*q+1]=240&ee|H}_+=V}}function Yd(g,_,k,R,V,q,W,H){var Q,ee,fe=255;for(ee=0;ee<V;++ee){for(Q=0;Q<R;++Q){var _e=g[_+Q];q[W+4*Q]=_e,fe&=_e}_+=k,W+=H}return fe!=255}function ul(g,_,k,R,V){var q;for(q=0;q<V;++q)k[R+q]=g[_+q]>>8}function An(){Xh=vo,Ak=Ho,Sk=Yd,Ek=ul}function da(g,_,k){O[g]=function(R,V,q,W,H,Q,ee,fe,_e,te,he,ye,Ne,xe,Te,Ie,Me){var Le,ut=Me-1>>1,Qe=H[Q+0]|ee[fe+0]<<16,Ft=_e[te+0]|he[ye+0]<<16;e(R!=null);var rt=3*Qe+Ft+131074>>2;for(_(R[V+0],255&rt,rt>>16,Ne,xe),q!=null&&(rt=3*Ft+Qe+131074>>2,_(q[W+0],255&rt,rt>>16,Te,Ie)),Le=1;Le<=ut;++Le){var Xt=H[Q+Le]|ee[fe+Le]<<16,Vn=_e[te+Le]|he[ye+Le]<<16,Bt=Qe+Xt+Ft+Vn+524296,nt=Bt+2*(Xt+Ft)>>3;rt=nt+Qe>>1,Qe=(Bt=Bt+2*(Qe+Vn)>>3)+Xt>>1,_(R[V+2*Le-1],255&rt,rt>>16,Ne,xe+(2*Le-1)*k),_(R[V+2*Le-0],255&Qe,Qe>>16,Ne,xe+(2*Le-0)*k),q!=null&&(rt=Bt+Ft>>1,Qe=nt+Vn>>1,_(q[W+2*Le-1],255&rt,rt>>16,Te,Ie+(2*Le-1)*k),_(q[W+2*Le+0],255&Qe,Qe>>16,Te,Ie+(2*Le+0)*k)),Qe=Xt,Ft=Vn}1&Me||(rt=3*Qe+Ft+131074>>2,_(R[V+Me-1],255&rt,rt>>16,Ne,xe+(Me-1)*k),q!=null&&(rt=3*Ft+Qe+131074>>2,_(q[W+Me-1],255&rt,rt>>16,Te,Ie+(Me-1)*k)))}}function uc(){bo[Ig]=CB,bo[jg]=Rk,bo[Ik]=IB,bo[Og]=Mk,bo[Lg]=Fk,bo[N2]=Bk,bo[jk]=jB,bo[T2]=Rk,bo[C2]=Mk,bo[Dg]=Fk,bo[I2]=Bk}function Oa(g){return g&-16384?0>g?0:255:g>>OB}function v(g,_){return Oa((19077*g>>8)+(26149*_>>8)-14234)}function N(g,_,k){return Oa((19077*g>>8)-(6419*_>>8)-(13320*k>>8)+8708)}function F(g,_){return Oa((19077*g>>8)+(33050*_>>8)-17685)}function G(g,_,k,R,V){R[V+0]=v(g,k),R[V+1]=N(g,_,k),R[V+2]=F(g,_)}function ve(g,_,k,R,V){R[V+0]=F(g,_),R[V+1]=N(g,_,k),R[V+2]=v(g,k)}function ke(g,_,k,R,V){var q=N(g,_,k);_=q<<3&224|F(g,_)>>3,R[V+0]=248&v(g,k)|q>>5,R[V+1]=_}function Re(g,_,k,R,V){var q=240&F(g,_)|15;R[V+0]=240&v(g,k)|N(g,_,k)>>4,R[V+1]=q}function cr(g,_,k,R,V){R[V+0]=255,G(g,_,k,R,V+1)}function Zr(g,_,k,R,V){ve(g,_,k,R,V),R[V+3]=255}function qt(g,_,k,R,V){G(g,_,k,R,V),R[V+3]=255}function Kt(g,_){return 0>g?0:g>_?_:g}function wr(g,_,k){O[g]=function(R,V,q,W,H,Q,ee,fe,_e){for(var te=fe+(-2&_e)*k;fe!=te;)_(R[V+0],q[W+0],H[Q+0],ee,fe),_(R[V+1],q[W+0],H[Q+0],ee,fe+k),V+=2,++W,++Q,fe+=2*k;1&_e&&_(R[V+0],q[W+0],H[Q+0],ee,fe)}}function yo(g,_,k){return k==0?g==0?_==0?6:5:_==0?4:0:k}function hi(g,_,k,R,V){switch(g>>>30){case 3:kn(_,k,R,V,0);break;case 2:fl(_,k,R,V);break;case 1:Is(_,k,R,V)}}function La(g,_){var k,R,V=_.M,q=_.Nb,W=g.oc,H=g.pc+40,Q=g.oc,ee=g.pc+584,fe=g.oc,_e=g.pc+600;for(k=0;16>k;++k)W[H+32*k-1]=129;for(k=0;8>k;++k)Q[ee+32*k-1]=129,fe[_e+32*k-1]=129;for(0<V?W[H-1-32]=Q[ee-1-32]=fe[_e-1-32]=129:(a(W,H-32-1,127,21),a(Q,ee-32-1,127,9),a(fe,_e-32-1,127,9)),R=0;R<g.za;++R){var te=_.ya[_.aa+R];if(0<R){for(k=-1;16>k;++k)i(W,H+32*k-4,W,H+32*k+12,4);for(k=-1;8>k;++k)i(Q,ee+32*k-4,Q,ee+32*k+4,4),i(fe,_e+32*k-4,fe,_e+32*k+4,4)}var he=g.Gd,ye=g.Hd+R,Ne=te.ad,xe=te.Hc;if(0<V&&(i(W,H-32,he[ye].y,0,16),i(Q,ee-32,he[ye].f,0,8),i(fe,_e-32,he[ye].ea,0,8)),te.Za){var Te=W,Ie=H-32+16;for(0<V&&(R>=g.za-1?a(Te,Ie,he[ye].y[15],4):i(Te,Ie,he[ye+1].y,0,4)),k=0;4>k;k++)Te[Ie+128+k]=Te[Ie+256+k]=Te[Ie+384+k]=Te[Ie+0+k];for(k=0;16>k;++k,xe<<=2)Te=W,Ie=H+$k[k],Ko[te.Ob[k]](Te,Ie),hi(xe,Ne,16*+k,Te,Ie)}else if(Te=yo(R,V,te.Ob[0]),hc[Te](W,H),xe!=0)for(k=0;16>k;++k,xe<<=2)hi(xe,Ne,16*+k,W,H+$k[k]);for(k=te.Gc,Te=yo(R,V,te.Dd),hl[Te](Q,ee),hl[Te](fe,_e),xe=Ne,Te=Q,Ie=ee,255&(te=0|k)&&(170&te?Jd(xe,256,Te,Ie):Qh(xe,256,Te,Ie)),te=fe,xe=_e,255&(k>>=8)&&(170&k?Jd(Ne,320,te,xe):Qh(Ne,320,te,xe)),V<g.Ub-1&&(i(he[ye].y,0,W,H+480,16),i(he[ye].f,0,Q,ee+224,8),i(he[ye].ea,0,fe,_e+224,8)),k=8*q*g.B,he=g.sa,ye=g.ta+16*R+16*q*g.R,Ne=g.qa,te=g.ra+8*R+k,xe=g.Ha,Te=g.Ia+8*R+k,k=0;16>k;++k)i(he,ye+k*g.R,W,H+32*k,16);for(k=0;8>k;++k)i(Ne,te+k*g.B,Q,ee+32*k,8),i(xe,Te+k*g.B,fe,_e+32*k,8)}}function ks(g,_,k,R,V,q,W,H,Q){var ee=[0],fe=[0],_e=0,te=Q!=null?Q.kd:0,he=Q??new bt;if(g==null||12>k)return 7;he.data=g,he.w=_,he.ha=k,_=[_],k=[k],he.gb=[he.gb];e:{var ye=_,Ne=k,xe=he.gb;if(e(g!=null),e(Ne!=null),e(xe!=null),xe[0]=0,12<=Ne[0]&&!n(g,ye[0],"RIFF")){if(n(g,ye[0]+8,"WEBP")){xe=3;break e}var Te=be(g,ye[0]+4);if(12>Te||4294967286<Te){xe=3;break e}if(te&&Te>Ne[0]-8){xe=7;break e}xe[0]=Te,ye[0]+=12,Ne[0]-=12}xe=0}if(xe!=0)return xe;for(Te=0<he.gb[0],k=k[0];;){e:{var Ie=g;Ne=_,xe=k;var Me=ee,Le=fe,ut=ye=[0];if((rt=_e=[_e])[0]=0,8>xe[0])xe=7;else{if(!n(Ie,Ne[0],"VP8X")){if(be(Ie,Ne[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var Qe=be(Ie,Ne[0]+8),Ft=1+Ue(Ie,Ne[0]+12);if(2147483648<=Ft*(Ie=1+Ue(Ie,Ne[0]+15))){xe=3;break e}ut!=null&&(ut[0]=Qe),Me!=null&&(Me[0]=Ft),Le!=null&&(Le[0]=Ie),Ne[0]+=18,xe[0]-=18,rt[0]=1}xe=0}}if(_e=_e[0],ye=ye[0],xe!=0)return xe;if(Ne=!!(2&ye),!Te&&_e)return 3;if(q!=null&&(q[0]=!!(16&ye)),W!=null&&(W[0]=Ne),H!=null&&(H[0]=0),W=ee[0],ye=fe[0],_e&&Ne&&Q==null){xe=0;break}if(4>k){xe=7;break}if(Te&&_e||!Te&&!_e&&!n(g,_[0],"ALPH")){k=[k],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{Qe=g,xe=_,Te=k;var rt=he.gb;Me=he.na,Le=he.P,ut=he.Sa,Ft=22,e(Qe!=null),e(Te!=null),Ie=xe[0];var Xt=Te[0];for(e(Me!=null),e(ut!=null),Me[0]=null,Le[0]=null,ut[0]=0;;){if(xe[0]=Ie,Te[0]=Xt,8>Xt){xe=7;break e}var Vn=be(Qe,Ie+4);if(4294967286<Vn){xe=3;break e}var Bt=8+Vn+1&-2;if(Ft+=Bt,0<rt&&Ft>rt){xe=3;break e}if(!n(Qe,Ie,"VP8 ")||!n(Qe,Ie,"VP8L")){xe=0;break e}if(Xt[0]<Bt){xe=7;break e}n(Qe,Ie,"ALPH")||(Me[0]=Qe,Le[0]=Ie+8,ut[0]=Vn),Ie+=Bt,Xt-=Bt}}if(k=k[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],xe!=0)break}k=[k],he.Ja=[he.Ja],he.xa=[he.xa];e:if(rt=g,xe=_,Te=k,Me=he.gb[0],Le=he.Ja,ut=he.xa,Qe=xe[0],Ie=!n(rt,Qe,"VP8 "),Ft=!n(rt,Qe,"VP8L"),e(rt!=null),e(Te!=null),e(Le!=null),e(ut!=null),8>Te[0])xe=7;else{if(Ie||Ft){if(rt=be(rt,Qe+4),12<=Me&&rt>Me-12){xe=3;break e}if(te&&rt>Te[0]-8){xe=7;break e}Le[0]=rt,xe[0]+=8,Te[0]-=8,ut[0]=Ft}else ut[0]=5<=Te[0]&&rt[Qe+0]==47&&!(rt[Qe+4]>>5),Le[0]=Te[0];xe=0}if(k=k[0],he.Ja=he.Ja[0],he.xa=he.xa[0],_=_[0],xe!=0)break;if(4294967286<he.Ja)return 3;if(H==null||Ne||(H[0]=he.xa?2:1),W=[W],ye=[ye],he.xa){if(5>k){xe=7;break}H=W,te=ye,Ne=q,g==null||5>k?g=0:5<=k&&g[_+0]==47&&!(g[_+4]>>5)?(Te=[0],rt=[0],Me=[0],le(Le=new K,g,_,k),po(Le,Te,rt,Me)?(H!=null&&(H[0]=Te[0]),te!=null&&(te[0]=rt[0]),Ne!=null&&(Ne[0]=Me[0]),g=1):g=0):g=0}else{if(10>k){xe=7;break}H=ye,g==null||10>k||!Du(g,_+3,k-3)?g=0:(te=g[_+0]|g[_+1]<<8|g[_+2]<<16,Ne=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=he.Ja||!Ne||!g?g=0:(W&&(W[0]=Ne),H&&(H[0]=g),g=1))}if(!g||(W=W[0],ye=ye[0],_e&&(ee[0]!=W||fe[0]!=ye)))return 3;Q!=null&&(Q[0]=he,Q.offset=_-Q.w,e(4294967286>_-Q.w),e(Q.offset==Q.ha-k));break}return xe==0||xe==7&&_e&&Q==null?(q!=null&&(q[0]|=he.na!=null&&0<he.na.length),R!=null&&(R[0]=W),V!=null&&(V[0]=ye),0):xe}function fa(g,_,k){var R=_.width,V=_.height,q=0,W=0,H=R,Q=V;if(_.Da=g!=null&&0<g.Da,_.Da&&(H=g.cd,Q=g.bd,q=g.v,W=g.j,11>k||(q&=-2,W&=-2),0>q||0>W||0>=H||0>=Q||q+H>R||W+Q>V))return 0;if(_.v=q,_.j=W,_.va=q+H,_.o=W+Q,_.U=H,_.T=Q,_.da=g!=null&&0<g.da,_.da){if(!ft(H,Q,k=[g.ib],q=[g.hb]))return 0;_.ib=k[0],_.hb=q[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*R/4&&_.hb<3*V/4,_.Kb=0),1}function ha(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function Uu(g,_,k,R){if(R==null||0>=g||0>=_)return 2;if(k!=null){if(k.Da){var V=k.cd,q=k.bd,W=-2&k.v,H=-2&k.j;if(0>W||0>H||0>=V||0>=q||W+V>g||H+q>_)return 2;g=V,_=q}if(k.da){if(!ft(g,_,V=[k.ib],q=[k.hb]))return 2;g=V[0],_=q[0]}}R.width=g,R.height=_;e:{var Q=R.width,ee=R.height;if(g=R.S,0>=Q||0>=ee||!(g>=Ig&&13>g))g=2;else{if(0>=R.Rd&&R.sd==null){W=q=V=_=0;var fe=(H=Q*zk[g])*ee;if(11>g||(q=(ee+1)/2*(_=(Q+1)/2),g==12&&(W=(V=Q)*ee)),(ee=o(fe+2*q+W))==null){g=1;break e}R.sd=ee,11>g?((Q=R.f.RGBA).eb=ee,Q.fb=0,Q.A=H,Q.size=fe):((Q=R.f.kb).y=ee,Q.O=0,Q.fa=H,Q.Fd=fe,Q.f=ee,Q.N=0+fe,Q.Ab=_,Q.Cd=q,Q.ea=ee,Q.W=0+fe+q,Q.Db=_,Q.Ed=q,g==12&&(Q.F=ee,Q.J=0+fe+2*q),Q.Tc=W,Q.lb=V)}if(_=1,V=R.S,q=R.width,W=R.height,V>=Ig&&13>V)if(11>V)g=R.f.RGBA,_&=(H=Math.abs(g.A))*(W-1)+q<=g.size,_&=H>=q*zk[V],_&=g.eb!=null;else{g=R.f.kb,H=(q+1)/2,fe=(W+1)/2,Q=Math.abs(g.fa),ee=Math.abs(g.Ab);var _e=Math.abs(g.Db),te=Math.abs(g.lb),he=te*(W-1)+q;_&=Q*(W-1)+q<=g.Fd,_&=ee*(fe-1)+H<=g.Cd,_=(_&=_e*(fe-1)+H<=g.Ed)&Q>=q&ee>=H&_e>=H,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,V==12&&(_&=te>=q,_&=he<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||k!=null&&k.fd&&(g=ha(R)),g}var Ps=64,dc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Kh=24,fc=32,Sn=8,k2=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(g){return g},O.Predictor2=function(g,_,k){return _[k+0]},O.Predictor3=function(g,_,k){return _[k+1]},O.Predictor4=function(g,_,k){return _[k-1]},O.Predictor5=function(g,_,k){return lt(lt(g,_[k+1]),_[k+0])},O.Predictor6=function(g,_,k){return lt(g,_[k-1])},O.Predictor7=function(g,_,k){return lt(g,_[k+0])},O.Predictor8=function(g,_,k){return lt(_[k-1],_[k+0])},O.Predictor9=function(g,_,k){return lt(_[k+0],_[k+1])},O.Predictor10=function(g,_,k){return lt(lt(g,_[k-1]),lt(_[k+0],_[k+1]))},O.Predictor11=function(g,_,k){var R=_[k+0];return 0>=ot(R>>24&255,g>>24&255,(_=_[k-1])>>24&255)+ot(R>>16&255,g>>16&255,_>>16&255)+ot(R>>8&255,g>>8&255,_>>8&255)+ot(255&R,255&g,255&_)?R:g},O.Predictor12=function(g,_,k){var R=_[k+0];return(Yt((g>>24&255)+(R>>24&255)-((_=_[k-1])>>24&255))<<24|Yt((g>>16&255)+(R>>16&255)-(_>>16&255))<<16|Yt((g>>8&255)+(R>>8&255)-(_>>8&255))<<8|Yt((255&g)+(255&R)-(255&_)))>>>0},O.Predictor13=function(g,_,k){var R=_[k-1];return(kt((g=lt(g,_[k+0]))>>24&255,R>>24&255)<<24|kt(g>>16&255,R>>16&255)<<16|kt(g>>8&255,R>>8&255)<<8|kt(255&g,255&R))>>>0};var Ns=O.PredictorAdd0;O.PredictorAdd1=It,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var Ts=O.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Qd,Gh=O.ColorIndexInverseTransform,Xd=O.MapARGB,Zd=O.VP8LColorIndexInverseTransformAlpha,$u=O.MapAlpha,zu=O.VP8LPredictorsAdd=[];zu.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var dl,Yh,Da,Cs,Lr,Dr,En,kn,fl,Jd,Is,Qh,dk,fk,hk,pk,mk,gk,vk,yk,wk,bk,xk,_k,Xh,Ak,Sk,Ek,kk=o(511),Pk=o(2041),Nk=o(225),Tk=o(767),Ck=0,P2=Pk,Cg=Nk,Ra=Tk,wo=kk,Ig=0,jg=1,Ik=2,Og=3,Lg=4,N2=5,jk=6,T2=7,C2=8,Dg=9,I2=10,gB=[2,3,7],vB=[3,3,11],Ok=[280,256,256,256,40],yB=[0,1,1,1,0],wB=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],bB=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xB=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],_B=8,j2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],O2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zh=null,AB=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],SB=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Lk=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],EB=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],kB=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],PB=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],NB=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hc=[],Ko=[],hl=[],TB=1,Dk=2,pc=[],bo=[];da("UpsampleRgbLinePair",G,3),da("UpsampleBgrLinePair",ve,3),da("UpsampleRgbaLinePair",qt,4),da("UpsampleBgraLinePair",Zr,4),da("UpsampleArgbLinePair",cr,4),da("UpsampleRgba4444LinePair",Re,2),da("UpsampleRgb565LinePair",ke,2);var CB=O.UpsampleRgbLinePair,IB=O.UpsampleBgrLinePair,Rk=O.UpsampleRgbaLinePair,Mk=O.UpsampleBgraLinePair,Fk=O.UpsampleArgbLinePair,Bk=O.UpsampleRgba4444LinePair,jB=O.UpsampleRgb565LinePair,Rg=16,Mg=1<<Rg-1,Jh=-227,L2=482,OB=6,Uk=0,LB=o(256),DB=o(256),RB=o(256),MB=o(256),FB=o(L2-Jh),BB=o(L2-Jh);wr("YuvToRgbRow",G,3),wr("YuvToBgrRow",ve,3),wr("YuvToRgbaRow",qt,4),wr("YuvToBgraRow",Zr,4),wr("YuvToArgbRow",cr,4),wr("YuvToRgba4444Row",Re,2),wr("YuvToRgb565Row",ke,2);var $k=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fg=[0,2,8],UB=[8,7,6,4,4,2,2,2,1,1,1,1],$B=1;this.WebPDecodeRGBA=function(g,_,k,R,V){var q=jg,W=new Ze,H=new pr;W.ba=H,H.S=q,H.width=[H.width],H.height=[H.height];var Q=H.width,ee=H.height,fe=new xt;if(fe==null||g==null)var _e=2;else e(fe!=null),_e=ks(g,_,k,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(_e!=0?Q=0:(Q!=null&&(Q[0]=fe.width[0]),ee!=null&&(ee[0]=fe.height[0]),Q=1),Q){H.width=H.width[0],H.height=H.height[0],R!=null&&(R[0]=H.width),V!=null&&(V[0]=H.height);e:{if(R=new ys,(V=new bt).data=g,V.w=_,V.ha=k,V.kd=1,_=[0],e(V!=null),((g=ks(V.data,V.w,V.ha,null,null,null,_,null,V))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(W!=null),R.data=V.data,R.w=V.w+V.offset,R.ha=V.ha-V.offset,R.put=gt,R.ac=Pi,R.bc=Ur,R.ma=W,V.xa){if((g=ms())==null){W=1;break e}if(function(te,he){var ye=[0],Ne=[0],xe=[0];t:for(;;){if(te==null)return 0;if(he==null)return te.a=2,0;if(te.l=he,te.a=0,le(te.m,he.data,he.w,he.ha),!po(te.m,ye,Ne,xe)){te.a=3;break t}if(te.xb=Dk,he.width=ye[0],he.height=Ne[0],!Ca(ye[0],Ne[0],1,te,null))break t;return 1}return e(te.a!=0),0}(g,R)){if(R=(_=Uu(R.width,R.height,W.Oa,W.ba))==0){t:{R=g;r:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((k=R.l)!=null),e((V=k.ma)!=null),R.xb!=0){if(R.ca=V.ba,R.tb=V.tb,e(R.ca!=null),!fa(V.Oa,k,Og)){R.a=2;break r}if(!zo(R,k.width)||k.da)break r;if((k.da||Pt(R.ca.S))&&An(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&An()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!re(R.s.vb,R.s.Wa.Xa)){R.a=1;break r}R.xb=0}if(!Ti(R,R.V,R.Ba,R.c,R.i,k.o,ps))break r;V.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(_=g.a)}else _=g.a}else{if((g=new Lu)==null){W=1;break e}if(g.Fa=V.na,g.P=V.P,g.qc=V.Sa,Hd(g,R)){if((_=Uu(R.width,R.height,W.Oa,W.ba))==0){if(g.Aa=0,k=W.Oa,e((V=g)!=null),k!=null){if(0<(Q=0>(Q=k.Md)?0:100<Q?255:255*Q/100)){for(ee=fe=0;4>ee;++ee)12>(_e=V.pb[ee]).lc&&(_e.ia=Q*UB[0>_e.lc?0:_e.lc]>>3),fe|=_e.ia;fe&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=k.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(te,he){if(te==null)return 0;if(he==null)return an(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!Hd(te,he))return 0;if(e(te.cb),he.ac==null||he.ac(he)){he.ob&&(te.L=0);var ye=Fg[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=he.v-ye>>4,te.zb=he.j-ye>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=he.o+15+ye>>4,te.Hb=he.va+15+ye>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var Ne=te.ed;for(ye=0;4>ye;++ye){var xe;if(te.Qa.Cb){var Te=te.Qa.Lb[ye];te.Qa.Fb||(Te+=Ne.Tb)}else Te=Ne.Tb;for(xe=0;1>=xe;++xe){var Ie=te.gd[ye][xe],Me=Te;if(Ne.Pc&&(Me+=Ne.vd[0],xe&&(Me+=Ne.od[0])),0<(Me=0>Me?0:63<Me?63:Me)){var Le=Me;0<Ne.wb&&(Le=4<Ne.wb?Le>>2:Le>>1)>9-Ne.wb&&(Le=9-Ne.wb),1>Le&&(Le=1),Ie.dd=Le,Ie.tc=2*Me+Le,Ie.ld=40<=Me?2:15<=Me?1:0}else Ie.tc=0;Ie.La=xe}}}ye=0}else an(te,6,"Frame setup failed"),ye=te.a;if(ye=ye==0){if(ye){te.$c=0,0<te.Aa||(te.Ic=$B);t:{ye=te.Ic,Ne=4*(Le=te.za);var ut=32*Le,Qe=Le+1,Ft=0<te.L?Le*(0<te.Aa?2:1):0,rt=(te.Aa==2?2:1)*Le;if((Ie=Ne+832+(xe=3*(16*ye+Fg[te.L])/2*ut)+(Te=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=Ie)ye=0;else{if(Ie>te.Vb){if(te.Vb=0,te.Ec=o(Ie),te.Fc=0,te.Ec==null){ye=an(te,1,"no memory during frame initialization.");break t}te.Vb=Ie}Ie=te.Ec,Me=te.Fc,te.Ac=Ie,te.Bc=Me,Me+=Ne,te.Gd=s(ut,ju),te.Hd=0,te.rb=s(Qe+1,Ia),te.sb=1,te.wa=Ft?s(Ft,ni):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Le),e(!0),te.oc=Ie,te.pc=Me,Me+=832,te.ya=s(rt,Cu),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Le),te.R=16*Le,te.B=8*Le,Le=(ut=Fg[te.L])*te.R,ut=ut/2*te.B,te.sa=Ie,te.ta=Me+Le,te.qa=te.sa,te.ra=te.ta+16*ye*te.R+ut,te.Ha=te.qa,te.Ia=te.ra+8*ye*te.B+ut,te.$c=0,Me+=xe,te.mb=Te?Ie:null,te.nb=Te?Me:null,e(Me+Te<=te.Fc+te.Vb),ws(te),a(te.Ac,te.Bc,0,Ne),ye=1}}if(ye){if(he.ka=0,he.y=te.sa,he.O=te.ta,he.f=te.qa,he.N=te.ra,he.ea=te.Ha,he.Vd=te.Ia,he.fa=te.R,he.Rc=te.B,he.F=null,he.J=0,!Ck){for(ye=-255;255>=ye;++ye)kk[255+ye]=0>ye?-ye:ye;for(ye=-1020;1020>=ye;++ye)Pk[1020+ye]=-128>ye?-128:127<ye?127:ye;for(ye=-112;112>=ye;++ye)Nk[112+ye]=-16>ye?-16:15<ye?15:ye;for(ye=-255;510>=ye;++ye)Tk[255+ye]=0>ye?0:255<ye?255:ye;Ck=1}En=bs,kn=ic,Jd=Kd,Is=Ht,Qh=al,fl=nc,dk=E,fk=z,hk=ge,pk=Ce,mk=J,gk=ce,vk=Oe,yk=We,wk=Ss,bk=Es,xk=Qi,_k=cc,Ko[0]=qh,Ko[1]=Ru,Ko[2]=_s,Ko[3]=Vh,Ko[4]=Wh,Ko[5]=qo,Ko[6]=ii,Ko[7]=Hh,Ko[8]=Wo,Ko[9]=oc,hc[0]=ua,hc[1]=$h,hc[2]=zh,hc[3]=Mu,hc[4]=mo,hc[5]=xs,hc[6]=ac,hl[0]=sl,hl[1]=Gd,hl[2]=sc,hl[3]=ja,hl[4]=kr,hl[5]=Fu,hl[6]=Bu,ye=1}else ye=0}ye&&(ye=function(Xt,Vn){for(Xt.M=0;Xt.M<Xt.Va;++Xt.M){var Bt,nt=Xt.Jc[Xt.M&Xt.Xb],ze=Xt.m,Pn=Xt;for(Bt=0;Bt<Pn.za;++Bt){var Mt=ze,tr=Pn,zr=tr.Ac,pi=tr.Bc+4*Bt,Zi=tr.zc,fn=tr.ya[tr.aa+Bt];if(tr.Qa.Bb?fn.$b=Ae(Mt,tr.Pa.jb[0])?2+Ae(Mt,tr.Pa.jb[2]):Ae(Mt,tr.Pa.jb[1]):fn.$b=0,tr.kc&&(fn.Ad=Ae(Mt,tr.Bd)),fn.Za=!Ae(Mt,145)+0,fn.Za){var Ii=fn.Ob,Ji=0;for(tr=0;4>tr;++tr){var qn,ir=Zi[0+tr];for(qn=0;4>qn;++qn){ir=kB[zr[pi+qn]][ir];for(var br=Lk[Ae(Mt,ir[0])];0<br;)br=Lk[2*br+Ae(Mt,ir[br])];ir=-br,zr[pi+qn]=ir}i(Ii,Ji,zr,pi,4),Ji+=4,Zi[0+tr]=ir}}else ir=Ae(Mt,156)?Ae(Mt,128)?1:3:Ae(Mt,163)?2:0,fn.Ob[0]=ir,a(zr,pi,ir,4),a(Zi,0,ir,4);fn.Dd=Ae(Mt,142)?Ae(Mt,114)?Ae(Mt,183)?1:3:2:0}if(Pn.m.Ka)return an(Xt,7,"Premature end-of-partition0 encountered.");for(;Xt.ja<Xt.za;++Xt.ja){if(Pn=nt,Mt=(ze=Xt).rb[ze.sb-1],zr=ze.rb[ze.sb+ze.ja],Bt=ze.ya[ze.aa+ze.ja],pi=ze.kc?Bt.Ad:0)Mt.la=zr.la=0,Bt.Za||(Mt.Na=zr.Na=0),Bt.Hc=0,Bt.Gc=0,Bt.ia=0;else{var hn,xr;if(Mt=zr,zr=Pn,pi=ze.Pa.Xc,Zi=ze.ya[ze.aa+ze.ja],fn=ze.pb[Zi.$b],tr=Zi.ad,Ii=0,Ji=ze.rb[ze.sb-1],ir=qn=0,a(tr,Ii,0,384),Zi.Za)var mi=0,Go=pi[3];else{br=o(16);var Nn=Mt.Na+Ji.Na;if(Nn=Zh(zr,pi[1],Nn,fn.Eb,0,br,0),Mt.Na=Ji.Na=(0<Nn)+0,1<Nn)En(br,0,tr,Ii);else{var pa=br[0]+3>>3;for(br=0;256>br;br+=16)tr[Ii+br]=pa}mi=1,Go=pi[0]}var Nr=15&Mt.la,Wn=15&Ji.la;for(br=0;4>br;++br){var Ma=1&Wn;for(pa=xr=0;4>pa;++pa)Nr=Nr>>1|(Ma=(Nn=Zh(zr,Go,Nn=Ma+(1&Nr),fn.Sc,mi,tr,Ii))>mi)<<7,xr=xr<<2|(3<Nn?3:1<Nn?2:tr[Ii+0]!=0),Ii+=16;Nr>>=4,Wn=Wn>>1|Ma<<7,qn=(qn<<8|xr)>>>0}for(Go=Nr,mi=Wn>>4,hn=0;4>hn;hn+=2){for(xr=0,Nr=Mt.la>>4+hn,Wn=Ji.la>>4+hn,br=0;2>br;++br){for(Ma=1&Wn,pa=0;2>pa;++pa)Nn=Ma+(1&Nr),Nr=Nr>>1|(Ma=0<(Nn=Zh(zr,pi[2],Nn,fn.Qc,0,tr,Ii)))<<3,xr=xr<<2|(3<Nn?3:1<Nn?2:tr[Ii+0]!=0),Ii+=16;Nr>>=2,Wn=Wn>>1|Ma<<5}ir|=xr<<4*hn,Go|=Nr<<4<<hn,mi|=(240&Wn)<<hn}Mt.la=Go,Ji.la=mi,Zi.Hc=qn,Zi.Gc=ir,Zi.ia=43690&ir?0:fn.ia,pi=!(qn|ir)}if(0<ze.L&&(ze.wa[ze.Y+ze.ja]=ze.gd[Bt.$b][Bt.Za],ze.wa[ze.Y+ze.ja].La|=!pi),Pn.Ka)return an(Xt,7,"Premature end-of-file encountered.")}if(ws(Xt),ze=Vn,Pn=1,Bt=(nt=Xt).D,Mt=0<nt.L&&nt.M>=nt.zb&&nt.M<=nt.Va,nt.Aa==0)t:{if(Bt.M=nt.M,Bt.uc=Mt,La(nt,Bt),Pn=1,Bt=(xr=nt.D).Nb,Mt=(ir=Fg[nt.L])*nt.R,zr=ir/2*nt.B,br=16*Bt*nt.R,pa=8*Bt*nt.B,pi=nt.sa,Zi=nt.ta-Mt+br,fn=nt.qa,tr=nt.ra-zr+pa,Ii=nt.Ha,Ji=nt.Ia-zr+pa,Wn=(Nr=xr.M)==0,qn=Nr>=nt.Va-1,nt.Aa==2&&La(nt,xr),xr.uc)for(Ma=(Nn=nt).D.M,e(Nn.D.uc),xr=Nn.yb;xr<Nn.Hb;++xr){mi=xr,Go=Ma;var ea=(Fa=(gi=Nn).D).Nb;hn=gi.R;var Fa=Fa.wa[Fa.Y+mi],Ba=gi.sa,ma=gi.ta+16*ea*hn+16*mi,Ua=Fa.dd,Rr=Fa.tc;if(Rr!=0)if(e(3<=Rr),gi.L==1)0<mi&&bk(Ba,ma,hn,Rr+4),Fa.La&&_k(Ba,ma,hn,Rr),0<Go&&wk(Ba,ma,hn,Rr+4),Fa.La&&xk(Ba,ma,hn,Rr);else{var $a=gi.B,Yo=gi.qa,Vu=gi.ra+8*ea*$a+8*mi,pl=gi.Ha,gi=gi.Ia+8*ea*$a+8*mi;ea=Fa.ld,0<mi&&(fk(Ba,ma,hn,Rr+4,Ua,ea),pk(Yo,Vu,pl,gi,$a,Rr+4,Ua,ea)),Fa.La&&(gk(Ba,ma,hn,Rr,Ua,ea),yk(Yo,Vu,pl,gi,$a,Rr,Ua,ea)),0<Go&&(dk(Ba,ma,hn,Rr+4,Ua,ea),hk(Yo,Vu,pl,gi,$a,Rr+4,Ua,ea)),Fa.La&&(mk(Ba,ma,hn,Rr,Ua,ea),vk(Yo,Vu,pl,gi,$a,Rr,Ua,ea))}}if(nt.ia&&alert("todo:DitherRow"),ze.put!=null){if(xr=16*Nr,Nr=16*(Nr+1),Wn?(ze.y=nt.sa,ze.O=nt.ta+br,ze.f=nt.qa,ze.N=nt.ra+pa,ze.ea=nt.Ha,ze.W=nt.Ia+pa):(xr-=ir,ze.y=pi,ze.O=Zi,ze.f=fn,ze.N=tr,ze.ea=Ii,ze.W=Ji),qn||(Nr-=ir),Nr>ze.o&&(Nr=ze.o),ze.F=null,ze.J=null,nt.Fa!=null&&0<nt.Fa.length&&xr<Nr&&(ze.J=Rn(nt,ze,xr,Nr-xr),ze.F=nt.mb,ze.F==null&&ze.F.length==0)){Pn=an(nt,3,"Could not decode alpha data.");break t}xr<ze.j&&(ir=ze.j-xr,xr=ze.j,e(!(1&ir)),ze.O+=nt.R*ir,ze.N+=nt.B*(ir>>1),ze.W+=nt.B*(ir>>1),ze.F!=null&&(ze.J+=ze.width*ir)),xr<Nr&&(ze.O+=ze.v,ze.N+=ze.v>>1,ze.W+=ze.v>>1,ze.F!=null&&(ze.J+=ze.v),ze.ka=xr-ze.j,ze.U=ze.va-ze.v,ze.T=Nr-xr,Pn=ze.put(ze))}Bt+1!=nt.Ic||qn||(i(nt.sa,nt.ta-Mt,pi,Zi+16*nt.R,Mt),i(nt.qa,nt.ra-zr,fn,tr+8*nt.B,zr),i(nt.Ha,nt.Ia-zr,Ii,Ji+8*nt.B,zr))}if(!Pn)return an(Xt,6,"Output aborted.")}return 1}(te,he)),he.bc!=null&&he.bc(he),ye&=1}return ye?(te.cb=0,ye):0})(g,R)||(_=g.a)}}else _=g.a}_==0&&W.Oa!=null&&W.Oa.fd&&(_=ha(W.ba))}W=_}q=W!=0?null:11>q?H.f.RGBA.eb:H.f.kb.y}else q=null;return q};var zk=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,U){for(var T="",L=0;L<4;L++)T+=String.fromCharCode(O[U++]);return T}function d(O,U){return O[U+0]|O[U+1]<<8}function f(O,U){return(O[U+0]|O[U+1]<<8|O[U+2]<<16)>>>0}function h(O,U){return(O[U+0]|O[U+1]<<8|O[U+2]<<16|O[U+3]<<24)>>>0}new c;var p=[0],y=[0],w=[],x=new c,b=r,S=function(O,U){var T={},L=0,C=!1,Y=0,oe=0;if(T.frames=[],!function(M,K){for(var Z=0;Z<4;Z++)if(M[K+Z]!="RIFF".charCodeAt(Z))return!0;return!1}(O,U)){for(h(O,U+=4),U+=8;U<O.length;){var se=u(O,U),pe=h(O,U+=4);U+=4;var X=pe+(1&pe);switch(se){case"VP8 ":case"VP8L":T.frames[L]===void 0&&(T.frames[L]={}),(ne=T.frames[L]).src_off=C?oe:U-8,ne.src_size=Y+pe+8,L++,C&&(C=!1,Y=0,oe=0);break;case"VP8X":(ne=T.header={}).feature_flags=O[U];var le=U+4;ne.canvas_width=1+f(O,le),le+=3,ne.canvas_height=1+f(O,le),le+=3;break;case"ALPH":C=!0,Y=X+8,oe=U-8;break;case"ANIM":(ne=T.header).bgcolor=h(O,U),le=U+4,ne.loop_count=d(O,le),le+=2;break;case"ANMF":var ie,ne;(ne=T.frames[L]={}).offset_x=2*f(O,U),U+=3,ne.offset_y=2*f(O,U),U+=3,ne.width=1+f(O,U),U+=3,ne.height=1+f(O,U),U+=3,ne.duration=f(O,U),U+=3,ie=O[U++],ne.dispose=1&ie,ne.blend=ie>>1&1}se!="ANMF"&&(U+=X)}return T}}(b,0);S.response=b,S.rgbaoutput=!0,S.dataurl=!1;var A=S.header?S.header:null,I=S.frames?S.frames:null;if(A){A.loop_counter=A.loop_count,p=[A.canvas_height],y=[A.canvas_width];for(var B=0;B<I.length&&I[B].blend!=0;B++);}var $=I[0],D=x.WebPDecodeRGBA(b,$.src_off,$.src_size,y,p);$.rgba=D,$.imgwidth=y[0],$.imgheight=p[0];for(var j=0;j<y[0]*p[0]*4;j++)w[j]=D[j];return this.width=y,this.height=p,this.data=w,this}(function(r){var e,n,i,a,o,s,l,c,u,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=M;Object.defineProperty(this,"pdf",{get:function(){return K}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(be){Z=!!be}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(be){ae=!!be}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(be){isNaN(be)||(de=be)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(be){isNaN(be)||(me=be)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(be){var re;typeof be=="number"?re=[be,be,be,be]:((re=new Array(4))[0]=be[0],re[1]=be.length>=2?be[1]:re[0],re[2]=be.length>=3?be[2]:re[0],re[3]=be.length>=4?be[3]:re[1]),u.margin=re}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(be){Ee=be}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(be){ue=be}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(be){Ae=be}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(be){be instanceof d&&(u=be)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(be){u.path=be}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(be){Pe=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var re;re=h(be),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var re=h(be);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var we=null,Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(be){we=null,Ue=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var re;if(this.ctx.font=be,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var mt=re[1];re[2];var vt=re[3],ft=re[4];re[5];var Fe=re[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ft)[2];ft=Math.floor(at==="px"?parseFloat(ft)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(ft)*this.pdf.getFontSize():parseFloat(ft)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ft);var Ve=function(wt){var ht,lr,er=[],tt=wt.trim();if(tt==="")return vb;if(tt in fI)return[fI[tt]];for(;tt!=="";){switch(lr=null,ht=(tt=pI(tt)).charAt(0)){case'"':case"'":lr=Wpe(tt.substring(1),ht);break;default:lr=Hpe(tt)}if(lr===null||(er.push(lr[0]),(tt=pI(lr[1]))!==""&&tt.charAt(0)!==","))return vb;tt=tt.replace(/^,/,"")}return er}(Fe);if(this.fontFaces){var Ct=function(wt,ht){if(we===null){var lr=function(er){var tt=[];return Object.keys(er).forEach(function(St){er[St].forEach(function(vr){var yt=null;switch(vr){case"bold":yt={family:St,weight:"bold"};break;case"italic":yt={family:St,style:"italic"};break;case"bolditalic":yt={family:St,weight:"bold",style:"italic"};break;case"":case"normal":yt={family:St}}yt!==null&&(yt.ref={name:St,style:vr},tt.push(yt))})}),tt}(wt.getFontList());we=function(er){for(var tt={},St=0;St<er.length;++St){var vr=gb(er[St]),yt=vr.family,$t=vr.stretch,Pt=vr.style,Yr=vr.weight;tt[yt]=tt[yt]||{},tt[yt][$t]=tt[yt][$t]||{},tt[yt][$t][Pt]=tt[yt][$t][Pt]||{},tt[yt][$t][Pt][Yr]=vr}return tt}(lr.concat(ht))}return we}(this.pdf,this.fontFaces),lt=Ve.map(function(wt){return{family:wt,stretch:"normal",weight:vt,style:mt}}),Yt=function(wt,ht,lr){for(var er=(lr=lr||{}).defaultFontFamily||"times",tt=Object.assign({},qpe,lr.genericFontFamilies||{}),St=null,vr=null,yt=0;yt<ht.length;++yt)if(tt[(St=gb(ht[yt])).family]&&(St.family=tt[St.family]),wt.hasOwnProperty(St.family)){vr=wt[St.family];break}if(!(vr=vr||wt[er]))throw new Error("Could not find a font-family for the rule '"+hI(St)+"' and default family '"+er+"'.");if(vr=function($t,Pt){if(Pt[$t])return Pt[$t];var Yr=X5[$t],Br=Yr<=X5.normal?-1:1,pr=dI(Pt,V9,Yr,Br);if(!pr)throw new Error("Could not find a matching font-stretch value for "+$t);return pr}(St.stretch,vr),vr=function($t,Pt){if(Pt[$t])return Pt[$t];for(var Yr=z9[$t],Br=0;Br<Yr.length;++Br)if(Pt[Yr[Br]])return Pt[Yr[Br]];throw new Error("Could not find a matching font-style for "+$t)}(St.style,vr),!(vr=function($t,Pt){if(Pt[$t])return Pt[$t];if($t===400&&Pt[500])return Pt[500];if($t===500&&Pt[400])return Pt[400];var Yr=Vpe[$t],Br=dI(Pt,q9,Yr,$t<400?-1:1);if(!Br)throw new Error("Could not find a matching font-weight for value "+$t);return Br}(St.weight,vr)))throw new Error("Failed to resolve a font for the rule '"+hI(St)+"'.");return vr}(Ct,lt);this.pdf.setFont(Yt.ref.name,Yt.ref.style)}else{var kt="";(vt==="bold"||parseInt(vt,10)>=700||mt==="bold")&&(kt="bold"),mt==="italic"&&(kt+="italic"),kt.length===0&&(kt="normal");for(var ot="",It={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},At=0;At<Ve.length;At++){if(this.pdf.internal.getFont(Ve[At],kt,{noFallback:!0,disableWarning:!0})!==void 0){ot=Ve[At];break}if(kt==="bolditalic"&&this.pdf.internal.getFont(Ve[At],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=Ve[At],kt="bold";else if(this.pdf.internal.getFont(Ve[At],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=Ve[At],kt="normal";break}}if(ot===""){for(var ct=0;ct<Ve.length;ct++)if(It[Ve[ct]]){ot=It[Ve[ct]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){I.call(this,"fill",!1)},f.prototype.stroke=function(){I.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,K){if(isNaN(M)||isNaN(K))throw Tr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new s(M,K));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(M,K)},f.prototype.closePath=function(){var M=new s(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Ar(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){M=new s(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},f.prototype.lineTo=function(M,K){if(isNaN(M)||isNaN(K))throw Tr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new s(M,K));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,K,Z,ae){if(isNaN(Z)||isNaN(ae)||isNaN(M)||isNaN(K))throw Tr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new s(Z,ae)),me=this.ctx.transform.applyToPoint(new s(M,K));this.path.push({type:"qct",x1:me.x,y1:me.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},f.prototype.bezierCurveTo=function(M,K,Z,ae,de,me){if(isNaN(de)||isNaN(me)||isNaN(M)||isNaN(K)||isNaN(Z)||isNaN(ae))throw Tr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new s(de,me)),ue=this.ctx.transform.applyToPoint(new s(M,K)),Ae=this.ctx.transform.applyToPoint(new s(Z,ae));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:Ae.x,y2:Ae.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new s(Ee.x,Ee.y)},f.prototype.arc=function(M,K,Z,ae,de,me){if(isNaN(M)||isNaN(K)||isNaN(Z)||isNaN(ae)||isNaN(de))throw Tr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new s(M,K));M=Ee.x,K=Ee.y;var ue=this.ctx.transform.applyToPoint(new s(0,Z)),Ae=this.ctx.transform.applyToPoint(new s(0,0));Z=Math.sqrt(Math.pow(ue.x-Ae.x,2)+Math.pow(ue.y-Ae.y,2))}Math.abs(de-ae)>=2*Math.PI&&(ae=0,de=2*Math.PI),this.path.push({type:"arc",x:M,y:K,radius:Z,startAngle:ae,endAngle:de,counterclockwise:me})},f.prototype.arcTo=function(M,K,Z,ae,de){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,K,Z,ae){if(isNaN(M)||isNaN(K)||isNaN(Z)||isNaN(ae))throw Tr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,K),this.lineTo(M+Z,K),this.lineTo(M+Z,K+ae),this.lineTo(M,K+ae),this.lineTo(M,K),this.lineTo(M+Z,K),this.lineTo(M,K)},f.prototype.fillRect=function(M,K,Z,ae){if(isNaN(M)||isNaN(K)||isNaN(Z)||isNaN(ae))throw Tr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,K,Z,ae),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},f.prototype.strokeRect=function(M,K,Z,ae){if(isNaN(M)||isNaN(K)||isNaN(Z)||isNaN(ae))throw Tr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(M,K,Z,ae),this.stroke())},f.prototype.clearRect=function(M,K,Z,ae){if(isNaN(M)||isNaN(K)||isNaN(Z)||isNaN(ae))throw Tr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,K,Z,ae))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(K),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(M){var K,Z,ae,de;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))K=0,Z=0,ae=0,de=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(me!==null)K=parseInt(me[1]),Z=parseInt(me[2]),ae=parseInt(me[3]),de=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)K=parseInt(me[1]),Z=parseInt(me[2]),ae=parseInt(me[3]),de=parseFloat(me[4]);else{if(de=1,typeof M=="string"&&M.charAt(0)!=="#"){var Ee=new D9(M);M=Ee.ok?Ee.toHex():"#000000"}M.length===4?(K=M.substring(1,2),K+=K,Z=M.substring(2,3),Z+=Z,ae=M.substring(3,4),ae+=ae):(K=M.substring(1,3),Z=M.substring(3,5),ae=M.substring(5,7)),K=parseInt(K,16),Z=parseInt(Z,16),ae=parseInt(ae,16)}}return{r:K,g:Z,b:ae,a:de,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,K,Z,ae){if(isNaN(K)||isNaN(Z)||typeof M!="string")throw Tr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!p.call(this)){var de=X(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;L.call(this,{text:M,x:K,y:Z,scale:me,angle:de,align:this.textAlign,maxWidth:ae})}},f.prototype.strokeText=function(M,K,Z,ae){if(isNaN(K)||isNaN(Z)||typeof M!="string")throw Tr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ae=isNaN(ae)?void 0:ae;var de=X(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;L.call(this,{text:M,x:K,y:Z,scale:me,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:ae})}},f.prototype.measureText=function(M){if(typeof M!="string")throw Tr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Z=this.pdf.internal.scaleFactor,ae=K.internal.getFontSize(),de=K.getStringUnitWidth(M)*ae/K.internal.scaleFactor;return new function(me){var Ee=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:de*=Math.round(96*Z/72*1e4)/1e4})},f.prototype.scale=function(M,K){if(isNaN(M)||isNaN(K))throw Tr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(M,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},f.prototype.rotate=function(M){if(isNaN(M))throw Tr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.translate=function(M,K){if(isNaN(M)||isNaN(K))throw Tr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,M,K);this.ctx.transform=this.ctx.transform.multiply(Z)},f.prototype.transform=function(M,K,Z,ae,de,me){if(isNaN(M)||isNaN(K)||isNaN(Z)||isNaN(ae)||isNaN(de)||isNaN(me))throw Tr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new c(M,K,Z,ae,de,me);this.ctx.transform=this.ctx.transform.multiply(Ee)},f.prototype.setTransform=function(M,K,Z,ae,de,me){M=isNaN(M)?1:M,K=isNaN(K)?0:K,Z=isNaN(Z)?0:Z,ae=isNaN(ae)?1:ae,de=isNaN(de)?0:de,me=isNaN(me)?0:me,this.ctx.transform=new c(M,K,Z,ae,de,me)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,K,Z,ae,de,me,Ee,ue,Ae){var Pe=this.pdf.getImageProperties(M),we=1,Ue=1,be=1,re=1;ae!==void 0&&ue!==void 0&&(be=ue/ae,re=Ae/de,we=Pe.width/ae*ue/ae,Ue=Pe.height/de*Ae/de),me===void 0&&(me=K,Ee=Z,K=0,Z=0),ae!==void 0&&ue===void 0&&(ue=ae,Ae=de),ae===void 0&&ue===void 0&&(ue=Pe.width,Ae=Pe.height);for(var mt,vt=this.ctx.transform.decompose(),ft=X(vt.rotate.shx),Fe=new c,at=(Fe=(Fe=(Fe=Fe.multiply(vt.translate)).multiply(vt.skew)).multiply(vt.scale)).applyToRectangle(new l(me-K*be,Ee-Z*re,ae*we,de*Ue)),Ve=x.call(this,at),Ct=[],lt=0;lt<Ve.length;lt+=1)Ct.indexOf(Ve[lt])===-1&&Ct.push(Ve[lt]);if(A(Ct),this.autoPaging)for(var Yt=Ct[0],kt=Ct[Ct.length-1],ot=Yt;ot<kt+1;ot++){this.pdf.setPage(ot);var It=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=ot===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=ot===1?0:ct+(ot-2)*wt;if(this.ctx.clip_path.length!==0){var lr=this.path;mt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(mt,this.posX+this.margin[3],-ht+At+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=lr}var er=JSON.parse(JSON.stringify(at));er=S([er],this.posX+this.margin[3],-ht+At+this.ctx.prevPageLastElemOffset)[0];var tt=(ot>Yt||ot<kt)&&w.call(this);tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,wt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",er.x,er.y,er.w,er.h,null,null,ft),tt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",at.x,at.y,at.w,at.h,null,null,ft)};var x=function(M,K,Z){var ae=[];K=K||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ae.push(Math.floor((M.y+de)/Z)+1);break;case"arc":ae.push(Math.floor((M.y+de-M.radius)/Z)+1),ae.push(Math.floor((M.y+de+M.radius)/Z)+1);break;case"qct":var me=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ae.push(Math.floor((me.y+de)/Z)+1),ae.push(Math.floor((me.y+me.h+de)/Z)+1);break;case"bct":var Ee=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ae.push(Math.floor((Ee.y+de)/Z)+1),ae.push(Math.floor((Ee.y+Ee.h+de)/Z)+1);break;case"rect":ae.push(Math.floor((M.y+de)/Z)+1),ae.push(Math.floor((M.y+M.h+de)/Z)+1)}for(var ue=0;ue<ae.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<ae[ue];)b.call(this);return ae},b=function(){var M=this.fillStyle,K=this.strokeStyle,Z=this.font,ae=this.lineCap,de=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=K,this.font=Z,this.lineCap=ae,this.lineWidth=de,this.lineJoin=me},S=function(M,K,Z){for(var ae=0;ae<M.length;ae++)switch(M[ae].type){case"bct":M[ae].x2+=K,M[ae].y2+=Z;case"qct":M[ae].x1+=K,M[ae].y1+=Z;default:M[ae].x+=K,M[ae].y+=Z}return M},A=function(M){return M.sort(function(K,Z){return K-Z})},I=function(M,K){for(var Z,ae,de=this.fillStyle,me=this.strokeStyle,Ee=this.lineCap,ue=this.lineWidth,Ae=Math.abs(ue*this.ctx.transform.scaleX),Pe=this.lineJoin,we=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),be=[],re=0;re<Ue.length;re++)if(Ue[re].x!==void 0)for(var mt=x.call(this,Ue[re]),vt=0;vt<mt.length;vt+=1)be.indexOf(mt[vt])===-1&&be.push(mt[vt]);for(var ft=0;ft<be.length;ft++)for(;this.pdf.internal.getNumberOfPages()<be[ft];)b.call(this);if(A(be),this.autoPaging)for(var Fe=be[0],at=be[be.length-1],Ve=Fe;Ve<at+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=de,this.strokeStyle=me,this.lineCap=Ee,this.lineWidth=Ae,this.lineJoin=Pe;var Ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lt=Ve===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Ve===1?0:Yt+(Ve-2)*kt;if(this.ctx.clip_path.length!==0){var It=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Z,this.posX+this.margin[3],-ot+lt+this.ctx.prevPageLastElemOffset),B.call(this,M,!0),this.path=It}if(ae=JSON.parse(JSON.stringify(we)),this.path=S(ae,this.posX+this.margin[3],-ot+lt+this.ctx.prevPageLastElemOffset),K===!1||Ve===0){var At=(Ve>Fe||Ve<at)&&w.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,kt,null).clip().discardPath()),B.call(this,M,K),At&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=Ae,B.call(this,M,K),this.lineWidth=ue;this.path=we},B=function(M,K){if((M!=="stroke"||K||!y.call(this))&&(M==="stroke"||K||!p.call(this))){for(var Z,ae,de=[],me=this.path,Ee=0;Ee<me.length;Ee++){var ue=me[Ee];switch(ue.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:ue,deltas:[],abs:[]});break;case"lt":var Ae=de.length;if(me[Ee-1]&&!isNaN(me[Ee-1].x)&&(Z=[ue.x-me[Ee-1].x,ue.y-me[Ee-1].y],Ae>0)){for(;Ae>=0;Ae--)if(de[Ae-1].close!==!0&&de[Ae-1].begin!==!0){de[Ae-1].deltas.push(Z),de[Ae-1].abs.push(ue);break}}break;case"bct":Z=[ue.x1-me[Ee-1].x,ue.y1-me[Ee-1].y,ue.x2-me[Ee-1].x,ue.y2-me[Ee-1].y,ue.x-me[Ee-1].x,ue.y-me[Ee-1].y],de[de.length-1].deltas.push(Z);break;case"qct":var Pe=me[Ee-1].x+2/3*(ue.x1-me[Ee-1].x),we=me[Ee-1].y+2/3*(ue.y1-me[Ee-1].y),Ue=ue.x+2/3*(ue.x1-ue.x),be=ue.y+2/3*(ue.y1-ue.y),re=ue.x,mt=ue.y;Z=[Pe-me[Ee-1].x,we-me[Ee-1].y,Ue-me[Ee-1].x,be-me[Ee-1].y,re-me[Ee-1].x,mt-me[Ee-1].y],de[de.length-1].deltas.push(Z);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(ue)}}ae=K?null:M==="stroke"?"stroke":"fill";for(var vt=!1,ft=0;ft<de.length;ft++)if(de[ft].arc)for(var Fe=de[ft].abs,at=0;at<Fe.length;at++){var Ve=Fe[at];Ve.type==="arc"?j.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,K,!vt):C.call(this,Ve.x,Ve.y),vt=!0}else if(de[ft].close===!0)this.pdf.internal.out("h"),vt=!1;else if(de[ft].begin!==!0){var Ct=de[ft].start.x,lt=de[ft].start.y;Y.call(this,de[ft].deltas,Ct,lt),vt=!0}ae&&O.call(this,ae),K&&U.call(this)}},$=function(M){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Z;case"top":return M+K-Z;case"hanging":return M+K-2*Z;case"middle":return M+K/2-Z;default:return M}},D=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(K,Z){this.colorStops.push([K,Z])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(M,K,Z,ae,de,me,Ee,ue,Ae){for(var Pe=se.call(this,Z,ae,de,me),we=0;we<Pe.length;we++){var Ue=Pe[we];we===0&&(Ae?T.call(this,Ue.x1+M,Ue.y1+K):C.call(this,Ue.x1+M,Ue.y1+K)),oe.call(this,M,K,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}ue?U.call(this):O.call(this,Ee)},O=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(M,K){this.pdf.internal.out(n(M)+" "+i(K)+" m")},L=function(M){var K;switch(M.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var Z=this.pdf.getTextDimensions(M.text),ae=$.call(this,M.y),de=D.call(this,ae)-Z.h,me=this.ctx.transform.applyToPoint(new s(M.x,ae)),Ee=this.ctx.transform.decompose(),ue=new c;ue=(ue=(ue=ue.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var Ae,Pe,we,Ue=this.ctx.transform.applyToRectangle(new l(M.x,ae,Z.w,Z.h)),be=ue.applyToRectangle(new l(M.x,de,Z.w,Z.h)),re=x.call(this,be),mt=[],vt=0;vt<re.length;vt+=1)mt.indexOf(re[vt])===-1&&mt.push(re[vt]);if(A(mt),this.autoPaging)for(var ft=mt[0],Fe=mt[mt.length-1],at=ft;at<Fe+1;at++){this.pdf.setPage(at);var Ve=at===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[2],Yt=lt-this.margin[0],kt=this.pdf.internal.pageSize.width-this.margin[1],ot=kt-this.margin[3],It=at===1?0:Ct+(at-2)*Yt;if(this.ctx.clip_path.length!==0){var At=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Ae,this.posX+this.margin[3],-1*It+Ve),B.call(this,"fill",!0),this.path=At}var ct=S([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-It+Ve+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*M.scale),we=this.lineWidth,this.lineWidth=we*M.scale);var wt=this.autoPaging!=="text";if(wt||ct.y+ct.h<=lt){if(wt||ct.y>=Ve&&ct.x<=kt){var ht=wt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||kt-ct.x)[0],lr=S([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-It+Ve+this.ctx.prevPageLastElemOffset)[0],er=wt&&(at>ft||at<Fe)&&w.call(this);er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Yt,null).clip().discardPath()),this.pdf.text(ht,lr.x,lr.y,{angle:M.angle,align:K,renderingMode:M.renderingMode}),er&&this.pdf.restoreGraphicsState()}}else ct.y<lt&&(this.ctx.prevPageLastElemOffset+=lt-ct.y);M.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=we)}else M.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*M.scale),we=this.lineWidth,this.lineWidth=we*M.scale),this.pdf.text(M.text,me.x+this.posX,me.y+this.posY,{angle:M.angle,align:K,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=we)},C=function(M,K,Z,ae){Z=Z||0,ae=ae||0,this.pdf.internal.out(n(M+Z)+" "+i(K+ae)+" l")},Y=function(M,K,Z){return this.pdf.lines(M,K,Z,null,null)},oe=function(M,K,Z,ae,de,me,Ee,ue){this.pdf.internal.out([e(a(Z+M)),e(o(ae+K)),e(a(de+M)),e(o(me+K)),e(a(Ee+M)),e(o(ue+K)),"c"].join(" "))},se=function(M,K,Z,ae){for(var de=2*Math.PI,me=Math.PI/2;K>Z;)K-=de;var Ee=Math.abs(Z-K);Ee<de&&ae&&(Ee=de-Ee);for(var ue=[],Ae=ae?-1:1,Pe=K;Ee>1e-5;){var we=Pe+Ae*Math.min(Ee,me);ue.push(pe.call(this,M,Pe,we)),Ee-=Math.abs(we-Pe),Pe=we}return ue},pe=function(M,K,Z){var ae=(Z-K)/2,de=M*Math.cos(ae),me=M*Math.sin(ae),Ee=de,ue=-me,Ae=Ee*Ee+ue*ue,Pe=Ae+Ee*de+ue*me,we=4/3*(Math.sqrt(2*Ae*Pe)-Pe)/(Ee*me-ue*de),Ue=Ee-we*ue,be=ue+we*Ee,re=Ue,mt=-be,vt=ae+K,ft=Math.cos(vt),Fe=Math.sin(vt);return{x1:M*Math.cos(K),y1:M*Math.sin(K),x2:Ue*ft-be*Fe,y2:Ue*Fe+be*ft,x3:re*ft-mt*Fe,y3:re*Fe+mt*ft,x4:M*Math.cos(Z),y4:M*Math.sin(Z)}},X=function(M){return 180*M/Math.PI},le=function(M,K,Z,ae,de,me){var Ee=M+.5*(Z-M),ue=K+.5*(ae-K),Ae=de+.5*(Z-de),Pe=me+.5*(ae-me),we=Math.min(M,de,Ee,Ae),Ue=Math.max(M,de,Ee,Ae),be=Math.min(K,me,ue,Pe),re=Math.max(K,me,ue,Pe);return new l(we,be,Ue-we,re-be)},ie=function(M,K,Z,ae,de,me,Ee,ue){var Ae,Pe,we,Ue,be,re,mt,vt,ft,Fe,at,Ve,Ct,lt,Yt=Z-M,kt=ae-K,ot=de-Z,It=me-ae,At=Ee-de,ct=ue-me;for(Pe=0;Pe<41;Pe++)ft=(mt=(we=M+(Ae=Pe/40)*Yt)+Ae*((be=Z+Ae*ot)-we))+Ae*(be+Ae*(de+Ae*At-be)-mt),Fe=(vt=(Ue=K+Ae*kt)+Ae*((re=ae+Ae*It)-Ue))+Ae*(re+Ae*(me+Ae*ct-re)-vt),Pe==0?(at=ft,Ve=Fe,Ct=ft,lt=Fe):(at=Math.min(at,ft),Ve=Math.min(Ve,Fe),Ct=Math.max(Ct,ft),lt=Math.max(lt,Fe));return new l(Math.round(at),Math.round(Ve),Math.round(Ct-at),Math.round(lt-Ve))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,K,Z=(M=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:K}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(dt.API),function(r){var e=function(s){var l,c,u,d,f,h,p,y,w,x;for(c=[],u=0,d=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(h=(f=((f=((f=((f=(f-(x=f%85))/85)-(w=f%85))/85)-(y=f%85))/85)-(p=f%85))/85)%85,c.push(h+33,p+33,y+33,w+33,x+33)):c.push(122);return function(b,S){for(var A=S;A>0;A--)b.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(s){var l,c,u,d,f,h=String,p="length",y=255,w="charCodeAt",x="slice",b="replace";for(s[x](-2),s=s[x](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],d=0,f=(s+=l="uuuuu"[x](s[p]%5||5))[p];f>d;d+=5)c=52200625*(s[w](d)-33)+614125*(s[w](d+1)-33)+7225*(s[w](d+2)-33)+85*(s[w](d+3)-33)+(s[w](d+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return function(S,A){for(var I=A;I>0;I--)S.pop()}(u,l[p]),h.fromCharCode.apply(h,u)},i=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},o=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return(l=q5(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};r.processDataByFilters=function(s,l){var c=0,u=s||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=i(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=o(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(dt.API),function(r){r.loadFile=function(e,n,i){return function(a,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,p=function(y){var w=y.length,x=[],b=String.fromCharCode;for(h=0;h<w;h+=1)x.push(b(255&y.charCodeAt(h)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,o,s)}catch{}return l}(e,n,i)},r.loadImageFile=r.loadFile}(dt.API),function(r){function e(){return(Et.html2canvas?Promise.resolve(Et.html2canvas):Zw(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(Et.DOMPurify?Promise.resolve(Et.DOMPurify):Zw(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var i=function(l){var c=Ar(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},o=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},s=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(n).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var y=d[p],w=y.src.find(function(x){return x.format==="truetype"});w&&u.addFont(w.url,y.ref.name,y.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,u.context2d.save(!0),c(this.prop.container,h)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(i(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var u=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},s.prototype.setMargin=function(l){return this.then(function(){switch(i(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return u.updateProgress(null,d),h}).then(d,f).then(function(h){return u.updateProgress(1),h})})},s.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),h=u.call(f,l,c);return s.convert(h,d.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,dt.getPageSize=function(l,c,u){if(Ar(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,h=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var y,w=0,x=0;if(p.hasOwnProperty(h))w=p[h][1]/f,x=p[h][0]/f;else try{w=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",x>w&&(y=x,x=w,w=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",w>x&&(y=x,x=w,w=y)}return{width:x,height:w,unit:c,k:f,orientation:l}},r.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(gb):null;var u=new s(c);return c.worker?u:u.from(l).doCallback()}}(dt.API),dt.API.addJS=function(r){return gI=r,this.internal.events.subscribe("postPutResources",function(){Fv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Fv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Fv!==void 0&&mI!==void 0&&this.internal.out("/Names <</JavaScript "+Fv+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),o=0;o<a.length;o++){var s=a[o],l=i.exec(s);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(o=0;o<u;o++){var f=n.internal.newObject();d.push(f);var h=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<d.length;o++)n.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,a,o){var s={title:a,options:o,children:[]};return i==null&&(i=this.root),i.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var s=i.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<i.children.length;u++)this.renderItems(i.children[u])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,a){for(var o=0;o<a.children.length;o++)i.count++,this.count_r(i,a.children[o]);return i.count}}])}(dt.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(n,i,a,o,s,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,w={width:0,height:0,numcomponents:1},x=4;x<y;x+=2){if(x+=p,e.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),w={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}p=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return w}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:i,alias:a}}return d}}(dt.API),dt.API.processPNG=function(r,e,n,i){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,o=Tpe(r,{checkCrc:!0}),s=o.width,l=o.height,c=o.channels,u=o.palette,d=o.depth;a=u&&c===1?function(D){for(var j=D.width,O=D.height,U=D.data,T=D.palette,L=D.depth,C=!1,Y=[],oe=[],se=void 0,pe=!1,X=0,le=0;le<T.length;le++){var ie=b3(T[le],4),ne=ie[0],M=ie[1],K=ie[2],Z=ie[3];Y.push(ne,M,K),Z!=null&&(Z===0?(X++,oe.length<1&&oe.push(le)):Z<255&&(pe=!0))}if(pe||X>1){C=!0,oe=void 0;var ae=j*O;se=new Uint8Array(ae);for(var de=new DataView(U.buffer),me=0;me<ae;me++){var Ee=yb(de,me,L),ue=b3(T[Ee],4)[3];se[me]=ue}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:U,alphaBytes:se,needSMask:C,palette:Y,mask:oe}}(o):c===2||c===4?function(D){for(var j=D.data,O=D.width,U=D.height,T=D.channels,L=D.depth,C=T===2?"DeviceGray":"DeviceRGB",Y=T-1,oe=O*U,se=Y,pe=oe*se,X=1*oe,le=Math.ceil(pe*L/8),ie=Math.ceil(X*L/8),ne=new Uint8Array(le),M=new Uint8Array(ie),K=new DataView(j.buffer),Z=new DataView(ne.buffer),ae=new DataView(M.buffer),de=!1,me=0;me<oe;me++){for(var Ee=me*T,ue=0;ue<se;ue++)EI(Z,yb(K,Ee+ue,L),me*se+ue,L);var Ae=yb(K,Ee+se,L);Ae<(1<<L)-1&&(de=!0),EI(ae,Ae,1*me,L)}return{colorSpace:C,colorsPerPixel:Y,colorBytes:ne,alphaBytes:M,needSMask:de}}(o):function(D){var j=D.data,O=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:j instanceof Uint8Array?j:new Uint8Array(j.buffer),needSMask:!1}}(o);var f,h,p,y=a,w=y.colorSpace,x=y.colorsPerPixel,b=y.colorBytes,S=y.alphaBytes,A=y.needSMask,I=y.palette,B=y.mask,$=null;return i!==dt.API.image_compression.NONE&&typeof q5=="function"?($=function(D){var j;switch(D){case dt.API.image_compression.FAST:j=11;break;case dt.API.image_compression.MEDIUM:j=13;break;case dt.API.image_compression.SLOW:j=14;break;default:j=12}return j}(i),f=this.decode.FLATE_DECODE,h="/Predictor ".concat($," "),r=bI(b,s*x,x,i),A&&(p=bI(S,s,1,i))):(f=void 0,h="",r=b,A&&(p=S)),h+="/Colors ".concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(s),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:r,index:e,filter:f,decodeParameters:h,transparency:B,palette:I,sMask:p,predictor:$,width:s,height:l,bitsPerComponent:d,colorSpace:w}}},function(r){r.processGIF89A=function(e,n,i,a){var o=new Qpe(e),s=o.width,l=o.height,c=[];o.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:l},d=new wb(100).encode(u,100);return r.processJPEG.call(this,d,n,i,a)},r.processGIF87A=r.processGIF89A}(dt.API),Xo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:i,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xo.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(n){Tr.log("bit decode error:"+n)}},Xo.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),n=e%4;for(r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[o>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Xo.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<r;a++){var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*a*4,l=o>>4,c=15&o,u=this.palette[l];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Xo.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*i;if(a<this.palette.length){var s=this.palette[a];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},Xo.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&e)/e*255|0,c=(o>>10&e)/e*255|0,u=o>>15?255:0,d=i*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=u}this.pos+=r}},Xo.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&n)/n*255|0,u=(s>>11)/e*255|0,d=a*this.width*4+4*o;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=r}},Xo.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=a,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},Xo.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=o,this.data[l+1]=a,this.data[l+2]=i,this.data[l+3]=s}},Xo.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,n,i,a){var o=new Xo(e,!1),s=o.width,l=o.height,c={data:o.getData(),width:s,height:l},u=new wb(100).encode(c,100);return r.processJPEG.call(this,u,n,i,a)}}(dt.API),PI.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,n,i,a){var o=new PI(e),s=o.width,l=o.height,c={data:o.getData(),width:s,height:l},u=new wb(100).encode(c,100);return r.processJPEG.call(this,u,n,i,a)}}(dt.API),dt.API.processRGBA=function(r,e,n){for(var i=r.data,a=i.length,o=new Uint8Array(a/4*3),s=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=i[u],f=i[u+1],h=i[u+2],p=i[u+3];o[l++]=d,o[l++]=f,o[l++]=h,s[c++]=p}var y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},dt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},of=dt.API,Bv=of.getCharWidthsArray=function(r,e){var n,i,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,h=0,p=r.length,y=0,w=l[0]||c,x=[];for(n=0;n<p;n++)i=r.charCodeAt(n),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+s*(1e3/o)||0)/1e3):(h=f&&Ar(u[i])==="object"&&!isNaN(parseInt(u[i][y],10))?u[i][y]/d:0,x.push((l[i]||w)/c+h)),y=i;return x},vI=of.getStringUnitWidth=function(r,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return of.processArabic&&(r=of.processArabic(r)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(r,n,a)/n:Bv.apply(this,arguments).reduce(function(o,s){return o+s},0)},yI=function(r,e,n,i){for(var a=[],o=0,s=r.length,l=0;o!==s&&l+e[o]<n;)l+=e[o],o++;a.push(r.slice(0,o));var c=o;for(l=0;o!==s;)l+e[o]>i&&(a.push(r.slice(c,o)),l=0,c=o),l+=e[o],o++;return c!==o&&a.push(r.slice(c,o)),a},wI=function(r,e,n){n||(n={});var i,a,o,s,l,c,u,d=[],f=[d],h=n.textIndent||0,p=0,y=0,w=r.split(" "),x=Bv.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?w[0].length+2:n.lineIndent||0){var b=Array(c).join(" "),S=[];w.map(function(I){(I=I.split(/\s*\n/)).length>1?S=S.concat(I.map(function(B,$){return($&&B.length?`
`:"")+B})):S.push(I[0])}),w=S,c=vI.apply(this,[b,n])}for(o=0,s=w.length;o<s;o++){var A=0;if(i=w[o],c&&i[0]==`
`&&(i=i.substr(1),A=1),h+p+(y=(a=Bv.apply(this,[i,n])).reduce(function(I,B){return I+B},0))>e||A){if(y>e){for(l=yI.apply(this,[i,a,e-(h+p),e]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);y=a.slice(i.length-(d[0]?d[0].length:0)).reduce(function(I,B){return I+B},0)}else d=[i];f.push(d),h=y+c,p=x}else d.push(i),h+=p+y,p=x}return u=c?function(I,B){return(B?b:"")+I.join(" ")}:function(I){return I.join(" ")},f.map(u)},of.splitTextToSize=function(r,e,n){var i,a=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),h="Unicode";return f.metadata[h]?{widths:f.metadata[h].widths||{0:1},kerning:f.metadata[h].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(r)?r:String(r).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=i.length;l<c;l++)u=u.concat(wI.apply(this,[i[l],s,o]));return u},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",i={},a={},o=0;o<16;o++)i[n[o]]=e[o],a[e[o]]=n[o];var s=function(h){return"0x"+parseInt(h,10).toString(16)},l=r.__fontmetrics__.compress=function(h){var p,y,w,x,b=["{"];for(var S in h){if(p=h[S],isNaN(parseInt(S,10))?y="'"+S+"'":(S=parseInt(S,10),y=(y=s(S).slice(2)).slice(0,-1)+a[y.slice(-1)]),typeof p=="number")p<0?(w=s(p).slice(3),x="-"):(w=s(p).slice(2),x=""),w=x+w.slice(0,-1)+a[w.slice(-1)];else{if(Ar(p)!=="object")throw new Error("Don't know what to do with value type "+Ar(p)+".");w=l(p)}b.push(y+w)}return b.push("}"),b.join("")},c=r.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,y,w,x,b={},S=1,A=b,I=[],B="",$="",D=h.length-1,j=1;j<D;j+=1)(x=h[j])=="'"?p?(w=p.join(""),p=void 0):p=[]:p?p.push(x):x=="{"?(I.push([A,w]),A={},w=void 0):x=="}"?((y=I.pop())[0][y[1]]=A,w=void 0,A=y[0]):x=="-"?S=-1:w===void 0?i.hasOwnProperty(x)?(B+=i[x],w=parseInt(B,16)*S,S=1,B=""):B+=x:i.hasOwnProperty(x)?($+=i[x],A[w]=parseInt($,16)*S,S=1,w=void 0,$=""):$+=x;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(h){var p=h.font,y=f.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var w=d.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])}(dt.API),function(r){var e=function(n){for(var i=n.length,a=new Uint8Array(i),o=0;o<i;o++)a[o]=n.charCodeAt(o);return a};r.API.events.push(["addFont",function(n){var i=void 0,a=n.font,o=n.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(oy(l)),s.metadata=r.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,i)}}])}(dt),dt.API.addSvgAsImage=function(r,e,n,i,a,o,s,l){if(isNaN(e)||isNaN(n))throw Tr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Tr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Et.canvg?Promise.resolve(Et.canvg):Zw(()=>import("./index.es-68VKj0g6.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(u,r,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,n,i,a,s,l)})},dt.API.putTotalPages=function(r){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(e,n);return this},dt.API.viewerPreferences=function(r,e){var n;r=r||{},e=e||!1;var i,a,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],u=0,d=0,f=0;function h(y,w){var x,b=!1;for(x=0;x<y.length;x+=1)y[x]===w&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var p=l.length;for(f=0;f<p;f+=1)n[l[f]].value=n[l[f]].defaultValue,n[l[f]].explicitSet=!1}if(Ar(r)==="object"){for(a in r)if(o=r[a],h(l,a)&&o!==void 0){if(n[a].type==="boolean"&&typeof o=="boolean")n[a].value=o;else if(n[a].type==="name"&&h(n[a].valueSet,o))n[a].value=o;else if(n[a].type==="integer"&&Number.isInteger(o))n[a].value=o;else if(n[a].type==="array"){for(u=0;u<o.length;u+=1)if(i=!0,o[u].length===1&&typeof o[u][0]=="number")c.push(String(o[u]-1));else if(o[u].length>1){for(d=0;d<o[u].length;d+=1)typeof o[u][d]!="number"&&(i=!1);i===!0&&c.push([o[u][0]-1,o[u][1]-1].join(" "))}n[a].value="["+c.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,w=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?w.push("/"+y+" /"+n[y].value):w.push("/"+y+" "+n[y].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(r){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=o.length+s.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+o+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(dt.API),function(r){var e=r.API,n=e.pdfEscape16=function(o,s){for(var l,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=o.length;f<h;++f){if(l=s.metadata.characterToGlyph(o.charCodeAt(f)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=o.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},i=function(o){var s,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(o).sort(function(p,y){return p-y})).length;f<h;f++)s=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(u=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var l=s.font,c=s.out,u=s.newObject,d=s.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",y=0;y<h.length;y++)p+=String.fromCharCode(h[y]);var w=u();d({data:p,addLength1:!0,objectId:w}),c("endobj");var x=u();d({data:i(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+df(l.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var S=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+df(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+r.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+df(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var l=s.font,c=s.out,u=s.newObject,d=s.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var y=u();d({data:h,addLength1:!0,objectId:y}),c("endobj");var w=u();d({data:i(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+df(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+df(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(o)}]);var a=function(o){var s,l=o.text||"",c=o.x,u=o.y,d=o.options||{},f=o.mutex||{},h=f.pdfEscape,p=f.activeFontKey,y=f.fonts,w=p,x="",b=0,S="",A=y[w].encoding;if(y[w].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(S=l,w=p,Array.isArray(l)&&(S=l[0]),b=0;b<S.length;b+=1)y[w].metadata.hasOwnProperty("cmap")&&(s=y[w].metadata.cmap.unicode.codeMap[S[b].charCodeAt(0)]),s||S[b].charCodeAt(0)<256&&y[w].metadata.hasOwnProperty("Unicode")?x+=S[b]:x+="";var I="";return parseInt(w.slice(1))<14||A==="WinAnsiEncoding"?I=h(x,w).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(I=n(x,y[w])),f.isHex=!0,{text:I,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(o){var s=o.text||"",l=[],c={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?l.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):l.push(a(Object.assign({},c,{text:s[u]})).text);o.text=l}else o.text=a(Object.assign({},c,{text:s})).text}])}(dt),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},r.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},r.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(dt.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(i){var a,o,s,l,c,u,d,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,A=0;this.__bidiEngine__={};var I=function(T){var L=T.charCodeAt(),C=L>>8,Y=w[C];return Y!==void 0?f[256*Y+(255&L)]:C===252||C===253?"AL":b.test(C)?"L":C===8?"R":"N"},B=function(T){for(var L,C=0;C<T.length;C++){if((L=I(T.charAt(C)))==="L")return!1;if(L==="R")return!0}return!1},$=function(T,L,C,Y){var oe,se,pe,X,le=L[Y];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(le="AN");break;case"AL":S=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":Y<1||Y+1>=L.length||(oe=C[Y-1])!=="EN"&&oe!=="AN"||(se=L[Y+1])!=="EN"&&se!=="AN"?le="N":S&&(se="AN"),le=se===oe?se:"N";break;case"ES":le=(oe=Y>0?C[Y-1]:"B")==="EN"&&Y+1<L.length&&L[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&C[Y-1]==="EN"){le="EN";break}if(S){le="N";break}for(pe=Y+1,X=L.length;pe<X&&L[pe]==="ET";)pe++;le=pe<X&&L[pe]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(X=L.length,pe=Y+1;pe<X&&L[pe]==="NSM";)pe++;if(pe<X){var ie=T[Y],ne=ie>=1425&&ie<=2303||ie===64286;if(oe=L[pe],ne&&(oe==="R"||oe==="AL")){le="R";break}}}le=Y<1||(oe=L[Y-1])==="B"?"N":C[Y-1];break;case"B":S=!1,a=!0,le=A;break;case"S":o=!0,le="N"}return le},D=function(T,L,C){var Y=T.split("");return C&&j(Y,C,{hiLevel:A}),Y.reverse(),L&&L.reverse(),Y.join("")},j=function(T,L,C){var Y,oe,se,pe,X,le=-1,ie=T.length,ne=0,M=[],K=A?p:h,Z=[];for(S=!1,a=!1,o=!1,oe=0;oe<ie;oe++)Z[oe]=I(T[oe]);for(se=0;se<ie;se++){if(X=ne,M[se]=$(T,Z,M,se),Y=240&(ne=K[X][y[M[se]]]),ne&=15,L[se]=pe=K[ne][5],Y>0)if(Y===16){for(oe=le;oe<se;oe++)L[oe]=1;le=-1}else le=-1;if(K[ne][6])le===-1&&(le=se);else if(le>-1){for(oe=le;oe<se;oe++)L[oe]=pe;le=-1}Z[se]==="B"&&(L[se]=0),C.hiLevel|=pe}o&&function(ae,de,me){for(var Ee=0;Ee<me;Ee++)if(ae[Ee]==="S"){de[Ee]=A;for(var ue=Ee-1;ue>=0&&ae[ue]==="WS";ue--)de[ue]=A}}(Z,L,ie)},O=function(T,L,C,Y,oe){if(!(oe.hiLevel<T)){if(T===1&&A===1&&!a)return L.reverse(),void(C&&C.reverse());for(var se,pe,X,le,ie=L.length,ne=0;ne<ie;){if(Y[ne]>=T){for(X=ne+1;X<ie&&Y[X]>=T;)X++;for(le=ne,pe=X-1;le<pe;le++,pe--)se=L[le],L[le]=L[pe],L[pe]=se,C&&(se=C[le],C[le]=C[pe],C[pe]=se);ne=X}ne++}}},U=function(T,L,C){var Y=T.split(""),oe={hiLevel:A};return C||(C=[]),j(Y,C,oe),function(se,pe,X){if(X.hiLevel!==0&&d)for(var le,ie=0;ie<se.length;ie++)pe[ie]===1&&(le=x.indexOf(se[ie]))>=0&&(se[ie]=x[le+1])}(Y,C,oe),O(2,Y,L,C,oe),O(1,Y,L,C,oe),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(T,L,C){if(function(oe,se){if(se)for(var pe=0;pe<oe.length;pe++)se[pe]=pe;l===void 0&&(l=B(oe)),u===void 0&&(u=B(oe))}(T,L),s||!c||u)if(s&&c&&l^u)A=l?1:0,T=D(T,L,C);else if(!s&&c&&u)A=l?1:0,T=U(T,L,C),T=D(T,L);else if(!s||l||c||u){if(s&&!c&&l^u)T=D(T,L),l?(A=0,T=U(T,L,C)):(A=1,T=U(T,L,C),T=D(T,L));else if(s&&l&&!c&&u)A=1,T=U(T,L,C),T=D(T,L);else if(!s&&!c&&l^u){var Y=d;l?(A=1,T=U(T,L,C),A=0,d=!1,T=U(T,L,C),d=Y):(A=0,T=U(T,L,C),T=D(T,L),A=1,d=!1,T=U(T,L,C),d=Y,T=D(T,L))}}else A=0,T=U(T,L,C);else A=l?1:0,T=U(T,L,C);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,c=T.isOutputVisual,l=T.isInputRtl,u=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(s=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?s.push([n.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):s.push([n.doBidiReorder(a[l])]);i.text=s}else i.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(dt),dt.API.TTFFont=function(){function r(e){var n;if(this.rawData=e,n=this.contents=new pu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new dme(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new Xpe(this.contents),this.head=new Jpe(this),this.name=new ime(this),this.cmap=new H9(this),this.toUnicode={},this.hhea=new eme(this),this.maxp=new ame(this),this.hmtx=new ome(this),this.post=new rme(this),this.os2=new tme(this),this.loca=new ume(this),this.glyf=new sme(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,n,i,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,u;for(u=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),32768&(n=a>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},r.prototype.widthOfString=function(e,n,i){var a,o,s,l;for(s=0,o=0,l=(e=""+e).length;0<=l?o<l:o>l;o=0<=l?++o:--o)a=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/n)||0;return s*(n/1e3)},r.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},r}();var fs,pu=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},r.prototype.writeString=function(e){var n,i,a;for(a=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)a.push(this.writeByte(e.charCodeAt(n)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,n,i,a,o,s,l,c;return e=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^o)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*a+16777216*o+65536*s+256*l+c},r.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},r.prototype.write=function(e){var n,i,a,o;for(o=[],i=0,a=e.length;i<a;i++)n=e[i],o.push(this.writeByte(n));return o},r}(),Xpe=function(){var r;function e(n){var i,a,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,a,o,s,l,c,u,d,f,h,p,y,w;for(w in p=Object.keys(n).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),s=Math.floor(f/c),d=16*p-f,(a=new pu).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(s),a.writeShort(d),o=16*p,u=a.pos+o,l=null,y=[],n)for(h=n[w],a.writeString(w),a.writeInt(r(h)),a.writeInt(u),a.writeInt(h.length),y=y.concat(h),w==="head"&&(l=u),u+=h.length;u%4;)y.push(0),u++;return a.write(y),i=2981146554-r(a.data),a.pos=l+8,a.writeUInt32(i),a.data},r=function(n){var i,a,o,s;for(n=K9.call(n);n.length%4;)n.push(0);for(o=new pu(n),a=0,i=0,s=n.length;i<s;i=i+=4)a+=o.readUInt32();return 4294967295&a},e}(),Zpe={}.hasOwnProperty,el=function(r,e){for(var n in e)Zpe.call(e,n)&&(r[n]=e[n]);function i(){this.constructor=r}return i.prototype=e.prototype,r.prototype=new i,r.__super__=e.prototype,r};fs=function(){function r(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var Jpe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return el(r,fs),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var n;return(n=new pu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},r}(),NI=function(){function r(e,n){var i,a,o,s,l,c,u,d,f,h,p,y,w,x,b,S,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,o=function(){var I,B;for(B=[],c=I=0;0<=h?I<h:I>h;c=0<=h?++I:--I)B.push(e.readUInt16());return B}(),e.pos+=2,w=function(){var I,B;for(B=[],c=I=0;0<=h?I<h:I>h;c=0<=h?++I:--I)B.push(e.readUInt16());return B}(),u=function(){var I,B;for(B=[],c=I=0;0<=h?I<h:I>h;c=0<=h?++I:--I)B.push(e.readUInt16());return B}(),d=function(){var I,B;for(B=[],c=I=0;0<=h?I<h:I>h;c=0<=h?++I:--I)B.push(e.readUInt16());return B}(),a=(this.length-e.pos+this.offset)/2,l=function(){var I,B;for(B=[],c=I=0;0<=a?I<a:I>a;c=0<=a?++I:--I)B.push(e.readUInt16());return B}(),c=b=0,A=o.length;b<A;c=++b)for(x=o[c],i=S=y=w[c];y<=x?S<=x:S>=x;i=y<=x?++S:--S)d[c]===0?s=i+u[c]:(s=l[d[c]/2+(i-y)-(h-c)]||0)!==0&&(s+=u[c]),this.codeMap[i]=65535&s}e.pos=f}return r.encode=function(e,n){var i,a,o,s,l,c,u,d,f,h,p,y,w,x,b,S,A,I,B,$,D,j,O,U,T,L,C,Y,oe,se,pe,X,le,ie,ne,M,K,Z,ae,de,me,Ee,ue,Ae,Pe,we;switch(Y=new pu,s=Object.keys(e).sort(function(Ue,be){return Ue-be}),n){case"macroman":for(w=0,x=function(){var Ue=[];for(y=0;y<256;++y)Ue.push(0);return Ue}(),S={0:0},o={},oe=0,le=s.length;oe<le;oe++)S[ue=e[a=s[oe]]]==null&&(S[ue]=++w),o[a]={old:e[a],new:S[e[a]]},x[a]=S[e[a]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(x),{charMap:o,subtable:Y.data,maxGlyphID:w+1};case"unicode":for(L=[],f=[],A=0,S={},i={},b=u=null,se=0,ie=s.length;se<ie;se++)S[B=e[a=s[se]]]==null&&(S[B]=++A),i[a]={old:B,new:S[B]},l=S[B]-a,b!=null&&l===u||(b&&f.push(b),L.push(a),u=l),b=a;for(b&&f.push(b),f.push(65535),L.push(65535),U=2*(O=L.length),j=2*Math.pow(Math.log(O)/Math.LN2,2),h=Math.log(j/2)/Math.LN2,D=2*O-j,c=[],$=[],p=[],y=pe=0,ne=L.length;pe<ne;y=++pe){if(T=L[y],d=f[y],T===65535){c.push(0),$.push(0);break}if(T-(C=i[T].new)>=32768)for(c.push(0),$.push(2*(p.length+O-y)),a=X=T;T<=d?X<=d:X>=d;a=T<=d?++X:--X)p.push(i[a].new);else c.push(C-T),$.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*O+2*p.length),Y.writeUInt16(0),Y.writeUInt16(U),Y.writeUInt16(j),Y.writeUInt16(h),Y.writeUInt16(D),me=0,M=f.length;me<M;me++)a=f[me],Y.writeUInt16(a);for(Y.writeUInt16(0),Ee=0,K=L.length;Ee<K;Ee++)a=L[Ee],Y.writeUInt16(a);for(Ae=0,Z=c.length;Ae<Z;Ae++)l=c[Ae],Y.writeUInt16(l);for(Pe=0,ae=$.length;Pe<ae;Pe++)I=$[Pe],Y.writeUInt16(I);for(we=0,de=p.length;we<de;we++)w=p[we],Y.writeUInt16(w);return{charMap:i,subtable:Y.data,maxGlyphID:A+1}}},r}(),H9=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return el(r,fs),r.prototype.tag="cmap",r.prototype.parse=function(e){var n,i,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new NI(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},r.encode=function(e,n){var i,a;return n==null&&(n="macroman"),i=NI.encode(e,n),(a=new pu).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},r}(),eme=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return el(r,fs),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r}(),tme=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return el(r,fs),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(e.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r}(),rme=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return el(r,fs),r.prototype.tag="post",r.prototype.parse=function(e){var n,i,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)n=e.readByte(),a.push(this.names.push(e.readString(n)));return a;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var s,l,c;for(c=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)c.push(e.readUInt32());return c}).call(this)}},r}(),nme=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ime=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return el(r,fs),r.prototype.tag="name",r.prototype.parse=function(e){var n,i,a,o,s,l,c,u,d,f,h;for(e.pos=this.offset,e.readShort(),n=e.readShort(),l=e.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},o=d=0,f=i.length;d<f;o=++d)a=i[o],e.pos=a.offset,u=e.readString(a.length),s=new nme(u,a),c[h=a.nameID]==null&&(c[h]=[]),c[a.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},r}(),ame=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return el(r,fs),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r}(),ome=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return el(r,fs),r.prototype.tag="hmtx",r.prototype.parse=function(e){var n,i,a,o,s,l,c;for(e.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=a?u<a:u>a;n=0<=a?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,f,h;for(h=[],u=0,d=(f=this.metrics).length;u<d;u++)o=f[u],h.push(o.advance);return h}).call(this),i=this.widths[this.widths.length-1],c=[],n=s=0;0<=a?s<a:s>a;n=0<=a?++s:--s)c.push(this.widths.push(i));return c},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r}(),K9=[].slice,sme=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return el(r,fs),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var n,i,a,o,s,l,c,u,d,f;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+i,s=(l=new pu(n.read(a))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=s===-1?new cme(l,u,f,c,d):new lme(l,s,u,f,c,d),this.cache[e]))},r.prototype.encode=function(e,n,i){var a,o,s,l,c;for(s=[],o=[],l=0,c=n.length;l<c;l++)a=e[n[l]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},r}(),lme=function(){function r(e,n,i,a,o,s){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=a,this.xMax=o,this.yMax=s,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),cme=function(){function r(e,n,i,a,o){var s,l;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return r.prototype.encode=function(){var e,n,i;for(n=new pu(K9.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},r}(),ume=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return el(r,fs),r.prototype.tag="loca",r.prototype.parse=function(e){var n,i;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(e.readUInt32());return o}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,n){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<n.length&&n[o]==s){++o,i[s]=a;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(a+=c)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},r}(),dme=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,n,i,a,o;for(n in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[n],e[n]=a[i];return e},r.prototype.glyphsFor=function(e){var n,i,a,o,s,l,c;for(a={},s=0,l=e.length;s<l;s++)a[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],a)(i=a[o])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(o in c=this.glyphsFor(n))i=c[o],a[o]=i;return a},r.prototype.encode=function(e,n){var i,a,o,s,l,c,u,d,f,h,p,y,w,x,b;for(a in i=H9.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},b=i.charMap)p[(c=b[a]).old]=c.new;for(y in h=i.maxGlyphID,s)y in p||(p[y]=h++);return d=function(S){var A,I;for(A in I={},S)I[S[A]]=A;return I}(p),f=Object.keys(d).sort(function(S,A){return S-A}),w=function(){var S,A,I;for(I=[],S=0,A=f.length;S<A;S++)l=f[S],I.push(d[l]);return I}(),o=this.font.glyf.encode(s,w,p),u=this.font.loca.encode(o.offsets,w),x={cmap:this.font.cmap.raw(),glyf:o.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},r}();dt.API.PDFObject=function(){var r;function e(){}return r=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,a,o,s;if(Array.isArray(n))return"["+function(){var l,c,u;for(u=[],l=0,c=n.length;l<c;l++)i=n[l],u.push(e.convert(i));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+r(n.getUTCFullYear(),4)+r(n.getUTCMonth(),2)+r(n.getUTCDate(),2)+r(n.getUTCHours(),2)+r(n.getUTCMinutes(),2)+r(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in o=["<<"],n)s=n[a],o.push("/"+a+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+n},e}();function G9(r,e,n,i,a){i=i||{};var o=1.15,s=a.internal.scaleFactor,l=a.internal.getFontSize()/s,c=a.getLineHeightFactor?a.getLineHeightFactor():o,u=l*c,d=/\r\n|\r|\n/g,f="",h=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(f=typeof r=="string"?r.split(d):r,h=f.length||1),n+=l*(2-o),i.valign==="middle"?n-=h/2*u:i.valign==="bottom"&&(n-=h*u),i.halign==="center"||i.halign==="right"){var p=l;if(i.halign==="center"&&(p*=.5),f&&h>=1){for(var y=0;y<f.length;y++)a.text(f[y],e-a.getStringUnitWidth(f[y])*p,n),n+=u;return a}e-=a.getStringUnitWidth(r)*p}return i.halign==="justify"?a.text(r,e,n,{maxWidth:i.maxWidth||100,align:"justify"}):a.text(r,e,n),a}var TI={},zf=function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:TI=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,n){var i,a,o;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),l=s.fontStyle,c=s.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var d=r.unifyColor(e.fillColor);d&&(i=this.jsPDFDocument).setFillColor.apply(i,d),d=r.unifyColor(e.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=r.unifyColor(e.lineColor),d&&(o=this.jsPDFDocument).setDrawColor.apply(o,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,n,i){return this.jsPDFDocument.splitTextToSize(e,n,i)},r.prototype.rect=function(e,n,i,a,o){return this.jsPDFDocument.rect(e,n,i,a,o)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return TI||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r}(),Z5=function(r,e){return Z5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},Z5(r,e)};function Y9(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Z5(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Q9=function(r){Y9(e,r);function e(n){var i=r.call(this)||this;return i._element=n,i}return e}(Array);function fme(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function hme(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function D0(r,e,n){n.applyStyles(e,!0);var i=Array.isArray(r)?r:[r],a=i.map(function(o){return n.getTextWidth(o)}).reduce(function(o,s){return Math.max(o,s)},0);return a}function X9(r,e,n,i){var a=e.settings.tableLineWidth,o=e.settings.tableLineColor;r.applyStyles({lineWidth:a,lineColor:o});var s=Z9(a,!1);s&&r.rect(n.x,n.y,e.getWidth(r.pageSize().width),i.y-n.y,s)}function Z9(r,e){var n=r>0,i=e||e===0;return n&&i?"DF":n?"S":i?"F":null}function E2(r,e){var n,i,a,o;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(n=r.left)!==null&&n!==void 0?n:e,top:(i=r.top)!==null&&i!==void 0?i:e,right:(a=r.right)!==null&&a!==void 0?a:e,bottom:(o=r.bottom)!==null&&o!==void 0?o:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function J9(r,e){var n=E2(e.settings.margin,0);return r.pageSize().width-(n.left+n.right)}function pme(r,e,n,i,a){var o={},s=1.3333333333333333,l=bb(e,function(A){return a.getComputedStyle(A).backgroundColor});l!=null&&(o.fillColor=l);var c=bb(e,function(A){return a.getComputedStyle(A).color});c!=null&&(o.textColor=c);var u=gme(i,n);u&&(o.cellPadding=u);var d="borderTopColor",f=s*n,h=i.borderTopWidth;if(i.borderBottomWidth===h&&i.borderRightWidth===h&&i.borderLeftWidth===h){var p=(parseFloat(h)||0)/f;p&&(o.lineWidth=p)}else o.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/f,right:(parseFloat(i.borderRightWidth)||0)/f,bottom:(parseFloat(i.borderBottomWidth)||0)/f,left:(parseFloat(i.borderLeftWidth)||0)/f},o.lineWidth.top||(o.lineWidth.right?d="borderRightColor":o.lineWidth.bottom?d="borderBottomColor":o.lineWidth.left&&(d="borderLeftColor"));var y=bb(e,function(A){return a.getComputedStyle(A)[d]});y!=null&&(o.lineColor=y);var w=["left","right","center","justify"];w.indexOf(i.textAlign)!==-1&&(o.halign=i.textAlign),w=["middle","bottom","top"],w.indexOf(i.verticalAlign)!==-1&&(o.valign=i.verticalAlign);var x=parseInt(i.fontSize||"");isNaN(x)||(o.fontSize=x/s);var b=mme(i);b&&(o.fontStyle=b);var S=(i.fontFamily||"").toLowerCase();return r.indexOf(S)!==-1&&(o.font=S),o}function mme(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function bb(r,e){var n=eB(r,e);if(!n)return null;var i=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var a=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],o=parseInt(i[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function eB(r,e){var n=e(r);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?r.parentElement==null?null:eB(r.parentElement,e):n}function gme(r,e){var n=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],i=96/(72/e),a=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,o=n.map(function(l){return parseInt(l||"0")/i}),s=E2(o,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function tB(r,e,n,i,a){var o,s;i===void 0&&(i=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=n.document.querySelector(e):l=e;var c=Object.keys(r.getFontList()),u=r.scaleFactor(),d=[],f=[],h=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:d,body:f,foot:h};for(var p=0;p<l.rows.length;p++){var y=l.rows[p],w=(s=(o=y==null?void 0:y.parentElement)===null||o===void 0?void 0:o.tagName)===null||s===void 0?void 0:s.toLowerCase(),x=vme(c,u,n,y,i,a);x&&(w==="thead"?d.push(x):w==="tfoot"?h.push(x):f.push(x))}return{head:d,body:f,foot:h}}function vme(r,e,n,i,a,o){for(var s=new Q9(i),l=0;l<i.cells.length;l++){var c=i.cells[l],u=n.getComputedStyle(c);if(a||u.display!=="none"){var d=void 0;o&&(d=pme(r,c,e,u,n)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:yme(c)})}}var f=n.getComputedStyle(i);if(s.length>0&&(a||f.display!=="none"))return s}function yme(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function wme(r,e,n){for(var i=0,a=[r,e,n];i<a.length;i++){var o=a[i];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Pl(r,e,n,i,a){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(r),s=1;s<arguments.length;s++){var l=arguments[s];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])}return o}function bme(r,e){var n=new zf(r),i=n.getDocumentOptions(),a=n.getGlobalOptions();wme(a,i,e);var o=Pl({},a,i,e),s;typeof window<"u"&&(s=window);var l=xme(a,i,e),c=_me(a,i,e),u=Ame(n,o),d=Eme(n,o,s);return{id:e.tableId,content:d,hooks:c,styles:l,settings:u}}function xme(r,e,n){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=r[c],d=e[c],f=n[c];i.columnStyles=Pl({},u,d,f)}else{var h=[r,e,n],p=h.map(function(y){return y[c]||{}});i[c]=Pl({},p[0],p[1],p[2])}},o=0,s=Object.keys(i);o<s.length;o++){var l=s[o];a(l)}return i}function _me(r,e,n){for(var i=[r,e,n],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,s=i;o<s.length;o++){var l=s[o];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function Ame(r,e){var n,i,a,o,s,l,c,u,d,f,h,p,y=E2(e.margin,40/r.scaleFactor()),w=(n=Sme(r,e.startY))!==null&&n!==void 0?n:y.top,x;e.showFoot===!0?x="everyPage":e.showFoot===!1?x="never":x=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var b;e.showHead===!0?b="everyPage":e.showHead===!1?b="never":b=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var S=(o=e.useCss)!==null&&o!==void 0?o:!1,A=e.theme||(S?"plain":"striped"),I=!!e.horizontalPageBreak,B=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:S,theme:A,startY:w,margin:y,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:b,showFoot:x,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=e.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:I,horizontalPageBreakRepeat:B,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function Sme(r,e){var n=r.getLastAutoTable(),i=r.scaleFactor(),a=r.pageNumber(),o=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;o=s===a}return typeof e=="number"?e:(e==null||e===!1)&&o&&(n==null?void 0:n.finalY)!=null?n.finalY+20/i:null}function Eme(r,e,n){var i=e.head||[],a=e.body||[],o=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(n){var l=tB(r,e.html,n,s,e.useCss)||{};i=l.head||i,a=l.body||i,o=l.foot||i}else console.error("Cannot parse html in non browser environment")}var c=e.columns||kme(i,a,o);return{columns:c,head:i,body:a,foot:o}}function kme(r,e,n){var i=r[0]||e[0]||n[0]||[],a=[];return Object.keys(i).filter(function(o){return o!=="_element"}).forEach(function(o){var s=1,l;Array.isArray(i)?l=i[parseInt(o)]:l=i[o],typeof l=="object"&&!Array.isArray(l)&&(s=(l==null?void 0:l.colSpan)||1);for(var c=0;c<s;c++){var u=void 0;Array.isArray(i)?u=a.length:u=o+(c>0?"_".concat(c):"");var d={dataKey:u};a.push(d)}}),a}var J5=function(){function r(e,n,i){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=i,this.doc=e.getDocument()}return r}(),Pme=function(r){Y9(e,r);function e(n,i,a,o,s,l){var c=r.call(this,n,i,l)||this;return c.cell=a,c.row=o,c.column=s,c.section=o.section,c}return e}(J5),Nme=function(){function r(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,i){return n+i.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,i){return n+i.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,n,i,a,o,s){for(var l=0,c=n;l<c.length;l++){var u=c[l],d=new Pme(e,this,i,a,o,s),f=u(d)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],f)return!1}return!0},r.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var i=0,a=this.hooks.didDrawPage;i<a.length;i++){var o=a[i];o(new J5(e,this,n))}},r.prototype.callWillDrawPageHooks=function(e,n){for(var i=0,a=this.hooks.willDrawPage;i<a.length;i++){var o=a[i];o(new J5(e,this,n))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return n}else{var i=this.settings.margin;return e-i.left-i.right}},r}(),rB=function(){function r(e,n,i,a,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof Q9&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=i,this.cells=a,this.spansMultiplePages=o}return r.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(i,a){var o;return Math.max(i,((o=n.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},r.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(i){var a=n.cells[i.index];return a?a.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},r.prototype.getMinimumRowHeight=function(e,n){var i=this;return e.reduce(function(a,o){var s=i.cells[o.index];if(!s)return 0;var l=n.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),u=c+l;return u>a?u:a},0)},r}(),nB=function(){function r(e,n,i){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=i,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=o!=null?""+o:"",l=/\r\n|\r|\n/g;this.text=s.split(l)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");i=this.x+a/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},r.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var i=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*n,o=i*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},r.prototype.padding=function(e){var n=E2(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},r}(),Tme=function(){function r(e,n,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=i}return r.prototype.getMaxCustomCellWidth=function(e){for(var n=0,i=0,a=e.allRows();i<a.length;i++){var o=a[i],s=o.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},r}();function Cme(r,e){Ime(r,e);var n=[],i=0;e.columns.forEach(function(o){var s=o.getMaxCustomCellWidth(e);s?o.width=s:(o.width=o.wrappedWidth,n.push(o)),i+=o.width});var a=e.getWidth(r.pageSize().width)-i;a&&(a=e_(n,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=e_(n,a,function(o){return o.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/r.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),Ome(e),Lme(e,r),jme(e)}function Ime(r,e){var n=r.scaleFactor(),i=e.settings.horizontalPageBreak,a=J9(r,e);e.allRows().forEach(function(o){for(var s=0,l=e.columns;s<l.length;s++){var c=l[s],u=o.cells[c.index];if(u){var d=e.hooks.didParseCell;e.callCellHooks(r,d,u,o,c,null);var f=u.padding("horizontal");u.contentWidth=D0(u.text,u.styles,r)+f;var h=D0(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,r);if(u.minReadableWidth=h+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||i===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/n;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(o){for(var s=0,l=e.columns;s<l.length;s++){var c=l[s],u=o.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function e_(r,e,n){for(var i=e,a=r.reduce(function(p,y){return p+y.wrappedWidth},0),o=0;o<r.length;o++){var s=r[o],l=s.wrappedWidth/a,c=i*l,u=s.width+c,d=n(s),f=u<d?d:u;e-=f-s.width,s.width=f}if(e=Math.round(e*1e10)/1e10,e){var h=r.filter(function(p){return e<0?p.width>n(p):!0});h.length&&(e=e_(h,e,n))}return e}function jme(r){for(var e={},n=1,i=r.allRows(),a=0;a<i.length;a++)for(var o=i[a],s=0,l=r.columns;s<l.length;s++){var c=l[s],u=e[c.index];if(n>1)n--,delete o.cells[c.index];else if(u)u.cell.height+=o.height,n=u.cell.colSpan,delete o.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var d=o.cells[c.index];if(!d)continue;if(d.height=o.height,d.rowSpan>1){var f=i.length-a,h=d.rowSpan>f?f:d.rowSpan;e[c.index]={cell:d,left:h,row:o}}}}}function Ome(r){for(var e=r.allRows(),n=0;n<e.length;n++)for(var i=e[n],a=null,o=0,s=0,l=0;l<r.columns.length;l++){var c=r.columns[l];if(s-=1,s>1&&r.columns[l+1])o+=c.width,delete i.cells[c.index];else if(a){var u=a;delete i.cells[c.index],a=null,u.width=c.width+o}else{var u=i.cells[c.index];if(!u)continue;if(s=u.colSpan,o=0,u.colSpan>1){a=u,o+=c.width;continue}u.width=c.width+o}}}function Lme(r,e){for(var n={count:0,height:0},i=0,a=r.allRows();i<a.length;i++){for(var o=a[i],s=0,l=r.columns;s<l.length;s++){var c=l[s],u=o.cells[c.index];if(u){e.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,d+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=CI(u.text,d,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=CI(u.text,d,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var h=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<h*u.rowSpan?n={height:h,count:u.rowSpan}:n&&n.count>0&&n.height>h&&(h=n.height),h>o.height&&(o.height=h)}}n.count--}}function CI(r,e,n,i,a){return r.map(function(o){return Dme(o,e,n,i,a)})}function Dme(r,e,n,i,a){var o=1e4*i.scaleFactor();if(e=Math.ceil(e*o)/o,e>=D0(r,n,i))return r;for(;e<D0(r+a,n,i)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+a}function Rme(r,e){var n=new zf(r),i=Mme(e,n.scaleFactor()),a=new Nme(e,i);return Cme(n,a),n.applyStyles(n.userStyles),a}function Mme(r,e){var n=r.content,i=Bme(n.columns);if(n.head.length===0){var a=II(i,"head");a&&n.head.push(a)}if(n.foot.length===0){var a=II(i,"foot");a&&n.foot.push(a)}var o=r.settings.theme,s=r.styles;return{columns:i,head:xb("head",n.head,i,s,o,e),body:xb("body",n.body,i,s,o,e),foot:xb("foot",n.foot,i,s,o,e)}}function xb(r,e,n,i,a,o){var s={},l=e.map(function(c,u){for(var d=0,f={},h=0,p=0,y=0,w=n;y<w.length;y++){var x=w[y];if(s[x.index]==null||s[x.index].left===0)if(p===0){var b=void 0;Array.isArray(c)?b=c[x.index-h-d]:b=c[x.dataKey];var S={};typeof b=="object"&&!Array.isArray(b)&&(S=(b==null?void 0:b.styles)||{});var A=Ume(r,x,u,a,i,o,S),I=new nB(b,A,r);f[x.dataKey]=I,f[x.index]=I,p=I.colSpan-1,s[x.index]={left:I.rowSpan-1,times:p}}else p--,h++;else s[x.index].left--,p=s[x.index].times,d++}return new rB(c,u,r,f)});return l}function II(r,e){var n={};return r.forEach(function(i){if(i.raw!=null){var a=Fme(e,i.raw);a!=null&&(n[i.dataKey]=a)}}),Object.keys(n).length>0?n:null}function Fme(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function Bme(r){return r.map(function(e,n){var i,a;return typeof e=="object"?a=(i=e.dataKey)!==null&&i!==void 0?i:n:a=n,new Tme(a,e,n)})}function Ume(r,e,n,i,a,o,s){var l=hme(i),c;r==="head"?c=a.headStyles:r==="body"?c=a.bodyStyles:r==="foot"&&(c=a.footStyles);var u=Pl({},l.table,l[r],a.styles,c),d=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},f=r==="body"?d:{},h=r==="body"&&n%2===0?Pl({},l.alternateRow,a.alternateRowStyles):{},p=fme(o),y=Pl({},p,u,h,f);return Pl(y,s)}function $me(r,e,n){var i;n===void 0&&(n={});var a=J9(r,e),o=new Map,s=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(h){var p=e.columns.find(function(y){return y.dataKey===h||y.index===h});p&&!o.has(p.index)&&(o.set(p.index,!0),s.push(p.index),l.push(e.columns[p.index]),a-=p.wrappedWidth)});for(var u=!0,d=(i=n==null?void 0:n.start)!==null&&i!==void 0?i:0;d<e.columns.length;){if(o.has(d)){d++;continue}var f=e.columns[d].wrappedWidth;if(u||a>=f)u=!1,s.push(d),l.push(e.columns[d]),a-=f;else break;d++}return{colIndexes:s,columns:l,lastIndex:d-1}}function zme(r,e){for(var n=[],i=0;i<e.columns.length;i++){var a=$me(r,e,{start:i});a.columns.length&&(n.push(a),i=a.lastIndex)}return n}function Vme(r,e){var n=e.settings,i=n.startY,a=n.margin,o={x:a.left,y:i},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=i+a.bottom+s;if(n.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(h,p){return h+p.height},0);l+=u}var d=new zf(r);(n.pageBreak==="always"||n.startY!=null&&l>d.pageSize().height)&&(aB(d),o.y=a.top),e.callWillDrawPageHooks(d,o);var f=Pl({},o);e.startPageNumber=d.pageNumber(),n.horizontalPageBreak?qme(d,e,f,o):(d.applyStyles(d.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(h){return Hl(d,e,h,o,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(h,p){var y=p===e.body.length-1;R0(d,e,h,y,f,o,e.columns)}),d.applyStyles(d.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(h){return Hl(d,e,h,o,e.columns)})),X9(d,e,f,o),e.callEndPageHooks(d,o),e.finalY=o.y,r.lastAutoTable=e,d.applyStyles(d.userStyles)}function qme(r,e,n,i){var a=zme(r,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){r.applyStyles(r.userStyles),d>0?nm(r,e,n,i,u.columns,!0):jI(r,e,i,u.columns),Wme(r,e,n,i,u.columns),_b(r,e,i,u.columns)});else for(var s=-1,l=a[0],c=function(){var u=s;if(l){r.applyStyles(r.userStyles);var d=l.columns;s>=0?nm(r,e,n,i,d,!0):jI(r,e,i,d),u=OI(r,e,s+1,i,d),_b(r,e,i,d)}var f=u-s;a.slice(1).forEach(function(h){r.applyStyles(r.userStyles),nm(r,e,n,i,h.columns,!0),OI(r,e,s+1,i,h.columns,f),_b(r,e,i,h.columns)}),s=u};s<e.body.length-1;)c()}function jI(r,e,n,i){var a=e.settings;r.applyStyles(r.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(o){return Hl(r,e,o,n,i)})}function Wme(r,e,n,i,a){r.applyStyles(r.userStyles),e.body.forEach(function(o,s){var l=s===e.body.length-1;R0(r,e,o,l,n,i,a)})}function OI(r,e,n,i,a,o){r.applyStyles(r.userStyles),o=o??e.body.length;var s=Math.min(n+o,e.body.length),l=-1;return e.body.slice(n,s).forEach(function(c,u){var d=n+u===e.body.length-1,f=iB(r,e,d,i);c.canEntireRowFit(f,a)&&(Hl(r,e,c,i,a),l=n+u)}),l}function _b(r,e,n,i){var a=e.settings;r.applyStyles(r.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(o){return Hl(r,e,o,n,i)})}function Hme(r,e,n){var i=n.getLineHeight(r.styles.fontSize),a=r.padding("vertical"),o=Math.floor((e-a)/i);return Math.max(0,o)}function Kme(r,e,n,i){var a={};r.spansMultiplePages=!0,r.height=0;for(var o=0,s=0,l=n.columns;s<l.length;s++){var c=l[s],u=r.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new nB(u.raw,u.styles,u.section);d=Pl(d,u),d.text=[];var f=Hme(u,e,i);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var h=i.scaleFactor(),p=i.getLineHeightFactor();u.contentHeight=u.getContentHeight(h,p),u.contentHeight>=e&&(u.contentHeight=e,d.styles.minCellHeight-=e),u.contentHeight>r.height&&(r.height=u.contentHeight),d.contentHeight=d.getContentHeight(h,p),d.contentHeight>o&&(o=d.contentHeight),a[c.index]=d}}var y=new rB(r.raw,-1,r.section,a,!0);y.height=o;for(var w=0,x=n.columns;w<x.length;w++){var c=x[w],d=y.cells[c.index];d&&(d.height=y.height);var u=r.cells[c.index];u&&(u.height=r.height)}return y}function Gme(r,e,n,i){var a=r.pageSize().height,o=i.settings.margin,s=o.top+o.bottom,l=a-s;e.section==="body"&&(l-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var c=e.getMinimumRowHeight(i.columns,r),u=c<n;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=e.hasRowSpan(i.columns),f=e.getMaxCellHeight(i.columns)>l;return f?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||i.settings.rowPageBreak==="avoid")}function R0(r,e,n,i,a,o,s){var l=iB(r,e,i,o);if(n.canEntireRowFit(l,s))Hl(r,e,n,o,s);else if(Gme(r,n,l,e)){var c=Kme(n,l,e,r);Hl(r,e,n,o,s),nm(r,e,a,o,s),R0(r,e,c,i,a,o,s)}else nm(r,e,a,o,s),R0(r,e,n,i,a,o,s)}function Hl(r,e,n,i,a){i.x=e.settings.margin.left;for(var o=0,s=a;o<s.length;o++){var l=s[o],c=n.cells[l.index];if(!c){i.x+=l.width;continue}r.applyStyles(c.styles),c.x=i.x,c.y=i.y;var u=e.callCellHooks(r,e.hooks.willDrawCell,c,n,l,i);if(u===!1){i.x+=l.width;continue}Yme(r,c,i);var d=c.getTextPos();G9(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,c,n,l,i),i.x+=l.width}i.y+=n.height}function Yme(r,e,n){var i=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof i.lineWidth=="number"){var a=Z9(i.lineWidth,i.fillColor);a&&r.rect(e.x,n.y,e.width,e.height,a)}else typeof i.lineWidth=="object"&&(i.fillColor&&r.rect(e.x,n.y,e.width,e.height,"F"),Qme(r,e,n,i.lineWidth))}function Qme(r,e,n,i){var a,o,s,l;i.top&&(a=n.x,o=n.y,s=n.x+e.width,l=n.y,i.right&&(s+=.5*i.right),i.left&&(a-=.5*i.left),c(i.top,a,o,s,l)),i.bottom&&(a=n.x,o=n.y+e.height,s=n.x+e.width,l=n.y+e.height,i.right&&(s+=.5*i.right),i.left&&(a-=.5*i.left),c(i.bottom,a,o,s,l)),i.left&&(a=n.x,o=n.y,s=n.x,l=n.y+e.height,i.top&&(o-=.5*i.top),i.bottom&&(l+=.5*i.bottom),c(i.left,a,o,s,l)),i.right&&(a=n.x+e.width,o=n.y,s=n.x+e.width,l=n.y+e.height,i.top&&(o-=.5*i.top),i.bottom&&(l+=.5*i.bottom),c(i.right,a,o,s,l));function c(u,d,f,h,p){r.getDocument().setLineWidth(u),r.getDocument().line(d,f,h,p,"S")}}function iB(r,e,n,i){var a=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&n)&&(a+=e.getFootHeight(e.columns)),r.pageSize().height-i.y-a}function nm(r,e,n,i,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(l){return Hl(r,e,l,i,a)}),e.callEndPageHooks(r,i);var s=e.settings.margin;X9(r,e,n,i),aB(r),e.pageNumber++,i.x=s.left,i.y=s.top,n.y=s.top,e.callWillDrawPageHooks(r,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Hl(r,e,l,i,a)}),r.applyStyles(r.userStyles))}function aB(r){var e=r.pageNumber();r.setPage(e+1);var n=r.pageNumber();return n===e?(r.addPage(),!0):!1}function Xme(r){r.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0],a=bme(this,i),o=Rme(this,a);return Vme(this,o),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,n,i,a){G9(e,n,i,a,this)},r.API.autoTableSetDefaults=function(e){return zf.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,n){zf.setDefaults(e,n)},r.API.autoTableHtmlToJson=function(e,n){var i;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new zf(this),o=tB(a,e,window,n,!1),s=o.head,l=o.body,c=((i=s[0])===null||i===void 0?void 0:i.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var Ab;try{if(typeof window<"u"&&window){var LI=window,DI=LI.jsPDF||((Ab=LI.jspdf)===null||Ab===void 0?void 0:Ab.jsPDF);DI&&Xme(DI)}}catch(r){console.error("Could not apply autoTable plugin",r)}const oB=P.createContext(void 0),Zme=()=>{const r=P.useContext(oB);if(!r)throw new Error("useDropdown must be used within a DropdownProvider");return r},Jme=({children:r})=>{const[e,n]=P.useState(null),i=P.useCallback(l=>e===l,[e]),a=P.useCallback(l=>{n(l)},[e]),o=P.useCallback(l=>{e===l&&n(null)},[e]),s=P.useCallback(()=>{n(null)},[e]);return m.jsx(oB.Provider,{value:{openDropdownId:e,setOpenDropdownId:n,isDropdownOpen:i,openDropdown:a,closeDropdown:o,closeAllDropdowns:s},children:r})},Sp=[{value:"documentacao",label:"Documentao",color:"#ffffff",bgColor:"#6c757d"},{value:"agendado",label:"Agendado",color:"#ffffff",bgColor:"#17a2b8"},{value:"a-embarcar",label:"A Embarcar",color:"#8b5a00",bgColor:"#ffd166"},{value:"embarcando",label:"Embarcando",color:"#ffffff",bgColor:"#fd7e14"},{value:"em-transito",label:"Em Trnsito",color:"#ffffff",bgColor:"#118ab2"},{value:"desembarcando",label:"Desembarcando",color:"#ffffff",bgColor:"#6f42c1"},{value:"em-entrega",label:"Em Entrega",color:"#ffffff",bgColor:"#20c997"},{value:"concluido",label:"Concludo",color:"#ffffff",bgColor:"#073b4c"},{value:"atrasado",label:"Atrasado",color:"#ffffff",bgColor:"#dc3545"},{value:"cancelado",label:"Cancelado",color:"#ffffff",bgColor:"#6c757d"},{value:"suspenso",label:"Suspenso",color:"#ffffff",bgColor:"#ffc107"}],ege=({currentStatus:r,onStatusChange:e,disabled:n=!1,instanceId:i})=>{const a=P.useRef(null),o=P.useRef(null),{isDropdownOpen:s,openDropdown:l,closeDropdown:c,closeAllDropdowns:u}=Zme(),[d,f]=P.useState("bottom"),[h,p]=P.useState(!1),[y,w]=P.useState(""),[x,b]=P.useState(!1),S=s(i),A=Sp.find(L=>L.value===r)||Sp[0],I=Sp.find(L=>L.value===y),B=()=>{if(o.current&&a.current){const L=o.current.getBoundingClientRect(),C=window.innerHeight,Y=Math.min(300,Sp.length*42+20),oe=20,se=C-L.bottom-oe,pe=L.top-oe,X=a.current.querySelector(".status-dropdown");if(X){const le=L.left,ie=L.width;X.style.left=`${le}px`,X.style.width=`${ie}px`,se>=Y?(f("bottom"),X.style.top=`${L.bottom+8}px`,X.style.bottom="auto"):pe>=Y?(f("top"),X.style.bottom=`${C-L.top+8}px`,X.style.top="auto"):(f("top"),X.style.bottom=`${C-L.top+8}px`,X.style.top="auto")}}},$=async()=>{if(y){b(!0);try{await e(y),p(!1),w("")}catch(L){console.error("Erro ao confirmar mudana de status:",L)}finally{b(!1)}}},D=()=>{p(!1),w("")};P.useEffect(()=>{const L=oe=>{oe.key==="Escape"&&(h?D():S&&u())},C=()=>{S&&B()},Y=()=>{S&&B()};if(S||h)return document.addEventListener("keydown",L),S&&(window.addEventListener("scroll",C,!0),window.addEventListener("resize",Y),setTimeout(()=>{B()},10)),()=>{document.removeEventListener("keydown",L),window.removeEventListener("scroll",C,!0),window.removeEventListener("resize",Y)}},[S,h,u]);const j=(L,C)=>{C.preventDefault(),C.stopPropagation(),L!==r&&(w(L),p(!0)),c(i)},O=L=>{L.preventDefault(),L.stopPropagation(),!n&&(S?c(i):(l(i),setTimeout(()=>{B()},0)))},U=L=>{(L.key==="Enter"||L.key===" ")&&(L.preventDefault(),L.stopPropagation(),S?c(i):l(i))},T=L=>{L.preventDefault(),L.stopPropagation(),u()};return m.jsxs(m.Fragment,{children:[S&&m.jsx("div",{className:"dropdown-overlay",onClick:T}),h&&m.jsx("div",{className:"confirmation-overlay",onClick:D}),m.jsxs("div",{className:"status-selector",ref:a,children:[m.jsxs("button",{ref:o,className:`status-selector-trigger ${n?"disabled":""} ${S?"open":""}`,onClick:O,onKeyDown:U,disabled:n,"aria-expanded":S,"aria-haspopup":"listbox",style:{backgroundColor:A.bgColor,color:A.color},type:"button",children:[m.jsx("span",{className:"status-label",children:A.label}),!n&&m.jsx(jD,{size:14,className:`chevron ${S?"rotated":""}`})]}),S&&!n&&m.jsx("div",{className:`status-dropdown ${d==="top"?"dropdown-up":"dropdown-down"}`,role:"listbox",children:Sp.filter(L=>L.value!==r).map(L=>m.jsx("button",{className:"status-option",onClick:C=>j(L.value,C),style:{backgroundColor:L.bgColor,color:L.color},role:"option","aria-selected":!1,type:"button",children:m.jsx("span",{className:"status-option-label",children:L.label})},L.value))})]}),h&&I&&m.jsx("div",{className:"status-confirmation-modal",children:m.jsxs("div",{className:"confirmation-content",children:[m.jsxs("div",{className:"confirmation-header",children:[m.jsx(ih,{size:24,className:"confirmation-icon"}),m.jsx("h3",{children:"Confirmar alterao de status"})]}),m.jsxs("div",{className:"confirmation-body",children:[m.jsx("p",{children:"Deseja realmente alterar o status de:"}),m.jsxs("div",{className:"status-change-preview",children:[m.jsx("div",{className:"status-from",children:m.jsx("span",{className:"status-badge",style:{backgroundColor:A.bgColor,color:A.color},children:A.label})}),m.jsx("span",{className:"arrow",children:""}),m.jsx("div",{className:"status-to",children:m.jsx("span",{className:"status-badge",style:{backgroundColor:I.bgColor,color:I.color},children:I.label})})]})]}),m.jsxs("div",{className:"confirmation-actions",children:[m.jsxs("button",{className:"btn-cancel",onClick:D,type:"button",children:[m.jsx(Ul,{size:16}),"Cancelar"]}),m.jsxs("button",{className:"btn-confirm",onClick:$,disabled:x,type:"button",children:[m.jsx(ID,{size:16}),x?"Salvando...":"Confirmar"]})]})]})})]})},tge=({shipment:r,onClose:e,onSave:n,canEdit:i})=>{const[a,o]=P.useState({cliente:"",operador:"",shipper:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",currentLocation:"",quantBox:1,status:"",numeroBl:"",armador:"",booking:"",invoice:"",observacoes:"",tipo:"",imo:"",actualDeparture:"",reportedEta:""}),[s,l]=P.useState(!1),[c,u]=P.useState({}),d=["MSC","Maersk","CMA CGM","Hapag-Lloyd","COSCO","Evergreen"],f=["Santos, Brasil","Itaja, Brasil","Paranagu, Brasil","Rio Grande, Brasil","Suape, Brasil","Rotterdam, Holanda","Hamburgo, Alemanha","Barcelona, Espanha","Xangai, China","Singapura","Los Angeles, EUA","Nova York, EUA"],h=["Guarulhos (GRU), So Paulo, Brasil","Galeo (GIG), Rio de Janeiro, Brasil","Braslia (BSB), Brasil","Miami (MIA), EUA","JFK (JFK), Nova York, EUA","Heathrow (LHR), Londres, Reino Unido","Charles de Gaulle (CDG), Paris, Frana","Frankfurt (FRA), Alemanha","Dubai (DXB), Emirados rabes","Hong Kong (HKG), China","Narita (NRT), Tquio, Japo"],p=["So Paulo, Brasil","Rio de Janeiro, Brasil","Braslia, Brasil","Curitiba, Brasil","Porto Alegre, Brasil","Belo Horizonte, Brasil","Salvador, Brasil","Recife, Brasil","Fortaleza, Brasil","Manaus, Brasil","Miami, EUA","Nova York, EUA","Los Angeles, EUA","Londres, Reino Unido","Paris, Frana","Berlim, Alemanha","Madri, Espanha","Roma, Itlia","Amsterd, Holanda","Bruxelas, Blgica"];P.useEffect(()=>{if(r){console.log("Carregando dados do shipment:",r);const A={cliente:r.cliente||"",operador:r.operador||"",shipper:r.shipper||"",pol:r.pol||"",pod:r.pod||"",etdOrigem:r.etdOrigem||"",etaDestino:r.etaDestino||"",currentLocation:r.currentLocation||"",quantBox:r.quantBox||1,status:r.status||"",numeroBl:r.numeroBl||"",armador:r.armador||"",booking:r.booking||"",invoice:r.invoice||"",observacoes:r.observacoes||"",tipo:r.tipo||"",imo:r.imo||"",actualDeparture:r.actualDeparture||"",reportedEta:r.reportedEta||""};console.log("FormData configurado:",A),o(A)}},[r]);const y=A=>{const{name:I,value:B}=A.target;console.log("Campo:",A.target.name,"Valor:",A.target.value),o($=>({...$,[I]:I==="quantBox"?Number.parseInt(B)||1:B})),c[I]&&u($=>({...$,[I]:""}))},w=()=>{const A={};return a.cliente.trim()||(A.cliente="Cliente  obrigatrio"),a.operador.trim()||(A.operador="Operador  obrigatrio"),a.tipo.trim()||(A.tipo="Tipo de transporte  obrigatrio"),a.tipo==="Martimo"&&(a.pol.trim()||(A.pol="Porto de origem  obrigatrio"),a.pod.trim()||(A.pod="Porto de destino  obrigatrio")),a.etdOrigem||(A.etdOrigem="Data de partida  obrigatria"),a.etaDestino||(A.etaDestino="Data de chegada  obrigatria"),a.numeroBl.trim()||(A.numeroBl="Nmero do BL  obrigatrio"),a.booking.trim()||(A.booking="Nmero do booking  obrigatrio"),a.invoice.trim()||(A.invoice="Nmero do invoice  obrigatrio"),a.armador.trim()||(A.armador="Armador  obrigatrio"),a.quantBox<1&&(A.quantBox="Quantidade deve ser maior que 0"),u(A),Object.keys(A).length===0},x=async A=>{if(A.preventDefault(),!i){alert("Voc no tem permisso para editar este envio.");return}if(console.log("FormData antes da validao:",a),!w()){console.log("Validao falhou");return}l(!0);try{const I={...r,cliente:a.cliente,operador:a.operador,shipper:a.shipper,pol:a.pol,pod:a.pod,etdOrigem:a.etdOrigem,etaDestino:a.etaDestino,currentLocation:a.currentLocation,quantBox:a.quantBox,status:a.status,numeroBl:a.numeroBl,armador:a.armador,booking:a.booking,invoice:a.invoice,observacoes:a.observacoes,tipo:a.tipo,imo:a.imo,actualDeparture:a.actualDeparture,reportedEta:a.reportedEta,updatedAt:new Date};console.log("Shipment atualizado:",I),await n(I),e()}catch(I){console.error("Erro ao salvar envio:",I),alert("Erro ao salvar as alteraes. Tente novamente.")}finally{l(!1)}},b=A=>{A.target===A.currentTarget&&e()},S=m.jsx("div",{className:"edit-modal-overlay",onClick:b,children:m.jsxs("div",{className:"edit-modal-content",children:[m.jsxs("div",{className:"edit-modal-header",children:[m.jsxs("h2",{children:[m.jsx(Pd,{size:24}),"Editar Envio"]}),m.jsx("button",{className:"close-button",onClick:e,type:"button",children:m.jsx(Ul,{size:20})})]}),m.jsx("div",{className:"edit-modal-body",children:m.jsxs("form",{onSubmit:x,className:"edit-form",children:[m.jsxs("div",{className:"form-section",children:[m.jsxs("div",{className:"section-title",children:[m.jsx(GA,{size:18}),m.jsx("span",{children:"Informaes do Cliente"})]}),m.jsx("div",{className:"form-row",children:m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:"tipo",children:[m.jsx(Hs,{size:16,style:{marginRight:"8px",verticalAlign:"middle"}}),"Tipo de Transporte *"]}),m.jsxs("select",{id:"tipo",name:"tipo",value:a.tipo,onChange:y,disabled:!i,required:!0,children:[m.jsx("option",{value:"",children:"Selecione o tipo de transporte"}),m.jsx("option",{value:"Martimo",children:"Martimo"}),m.jsx("option",{value:"Areo",children:"Areo"}),m.jsx("option",{value:"Terrestre",children:"Terrestre"})]}),c.tipo&&m.jsx("span",{className:"error-message",children:c.tipo})]})}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"cliente",children:"Cliente *"}),m.jsx("input",{type:"text",id:"cliente",name:"cliente",value:a.cliente,onChange:y,disabled:!i,placeholder:"Nome do cliente"}),c.cliente&&m.jsx("span",{className:"error-message",children:c.cliente})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"operador",children:"Operador *"}),m.jsx("input",{type:"text",id:"operador",name:"operador",value:a.operador,onChange:y,disabled:!i,placeholder:"Nome do operador"}),c.operador&&m.jsx("span",{className:"error-message",children:c.operador})]})]}),m.jsx("div",{className:"form-row",children:m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"shipper",children:"Shipper"}),m.jsx("input",{type:"text",id:"shipper",name:"shipper",value:a.shipper,onChange:y,disabled:!i,placeholder:"Nome do shipper"})]})})]}),m.jsxs("div",{className:"form-section",children:[m.jsxs("div",{className:"section-title",children:[m.jsx(HA,{size:18}),m.jsx("span",{children:"Rota e Cronograma"})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:"pol",children:[a.tipo==="Areo"?"Aeroporto de Origem":a.tipo==="Terrestre"?"Local de Origem":"Porto de Origem"," (POL) *"]}),m.jsxs("select",{id:"pol",name:"pol",value:a.pol,onChange:y,disabled:!i,children:[m.jsx("option",{value:"",children:a.tipo==="Areo"?"Selecione o aeroporto de origem":a.tipo==="Terrestre"?"Selecione o local de origem":"Selecione o porto de origem"}),a.tipo==="Areo"?h.map(A=>m.jsx("option",{value:A,children:A},A)):a.tipo==="Terrestre"?p.map(A=>m.jsx("option",{value:A,children:A},A)):f.map(A=>m.jsx("option",{value:A,children:A},A))]}),c.pol&&m.jsx("span",{className:"error-message",children:c.pol})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:"pod",children:[a.tipo==="Areo"?"Aeroporto de Destino":a.tipo==="Terrestre"?"Local de Destino":"Porto de Destino"," (POD) *"]}),m.jsxs("select",{id:"pod",name:"pod",value:a.pod,onChange:y,disabled:!i,children:[m.jsx("option",{value:"",children:a.tipo==="Areo"?"Selecione o aeroporto de destino":a.tipo==="Terrestre"?"Selecione o local de destino":"Selecione o porto de destino"}),a.tipo==="Areo"?h.map(A=>m.jsx("option",{value:A,children:A},A)):a.tipo==="Terrestre"?p.map(A=>m.jsx("option",{value:A,children:A},A)):f.map(A=>m.jsx("option",{value:A,children:A},A))]}),c.pod&&m.jsx("span",{className:"error-message",children:c.pod})]})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"etdOrigem",children:"Data de Partida (ETD) *"}),m.jsx("input",{type:"date",id:"etdOrigem",name:"etdOrigem",value:a.etdOrigem,onChange:y,disabled:!i}),c.etdOrigem&&m.jsx("span",{className:"error-message",children:c.etdOrigem})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"etaDestino",children:"Data de Chegada (ETA) *"}),m.jsx("input",{type:"date",id:"etaDestino",name:"etaDestino",value:a.etaDestino,onChange:y,disabled:!i}),c.etaDestino&&m.jsx("span",{className:"error-message",children:c.etaDestino})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"currentLocation",children:a.tipo==="Areo"?"Aeroporto Atual":a.tipo==="Terrestre"?"Local Atual":"Porto Atual"}),m.jsxs("select",{id:"currentLocation",name:"currentLocation",value:a.currentLocation,onChange:y,disabled:!i,children:[m.jsx("option",{value:"",children:a.tipo==="Areo"?"Selecione o aeroporto atual":a.tipo==="Terrestre"?"Selecione o local atual":"Selecione o porto atual"}),a.tipo==="Areo"?h.map(A=>m.jsx("option",{value:A,children:A},A)):a.tipo==="Terrestre"?p.map(A=>m.jsx("option",{value:A,children:A},A)):f.map(A=>m.jsx("option",{value:A,children:A},A))]}),c.currentLocation&&m.jsx("span",{className:"error-message",children:c.currentLocation})]})]})]}),m.jsxs("div",{className:"form-section",children:[m.jsxs("div",{className:"section-title",children:[m.jsx(Hs,{size:18}),m.jsx("span",{children:"Informaes Operacionais"})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"quantBox",children:"Quantidade de Containers *"}),m.jsx("input",{type:"number",id:"quantBox",name:"quantBox",value:a.quantBox,onChange:y,disabled:!i,min:"1",max:"100"}),c.quantBox&&m.jsx("span",{className:"error-message",children:c.quantBox})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"status",children:"Status"}),m.jsx(ege,{currentStatus:a.status,onStatusChange:A=>{o(I=>({...I,status:A}))},instanceId:`edit-modal-${r.id}`,disabled:!i})]})]}),m.jsx("div",{className:"form-row",children:m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"armador",children:"Armador *"}),m.jsxs("select",{id:"armador",name:"armador",value:a.armador,onChange:y,disabled:!i,children:[m.jsx("option",{value:"",children:"Selecione um armador"}),d.map(A=>m.jsx("option",{value:A,children:A},A))]}),c.armador&&m.jsx("span",{className:"error-message",children:c.armador})]})})]}),m.jsxs("div",{className:"form-section",children:[m.jsxs("div",{className:"section-title",children:[m.jsx(Ws,{size:18}),m.jsx("span",{children:"Documentao"})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"numeroBl",children:"Nmero do BL *"}),m.jsx("input",{type:"text",id:"numeroBl",name:"numeroBl",value:a.numeroBl,onChange:y,disabled:!i,placeholder:"Ex: BL123456789"}),c.numeroBl&&m.jsx("span",{className:"error-message",children:c.numeroBl})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"booking",children:"Nmero do Booking *"}),m.jsx("input",{type:"text",id:"booking",name:"booking",value:a.booking,onChange:y,disabled:!i,placeholder:"Ex: BK987654321"}),c.booking&&m.jsx("span",{className:"error-message",children:c.booking})]})]}),m.jsx("div",{className:"form-row",children:m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"invoice",children:"Nmero do Invoice *"}),m.jsx("input",{type:"text",id:"invoice",name:"invoice",value:a.invoice,onChange:y,disabled:!i,placeholder:"Ex: INV123456"}),c.invoice&&m.jsx("span",{className:"error-message",children:c.invoice})]})}),m.jsx("div",{className:"form-row",children:m.jsxs("div",{className:"form-group full-width",children:[m.jsx("label",{htmlFor:"observacoes",children:"Observaes"}),m.jsx("textarea",{id:"observacoes",name:"observacoes",value:a.observacoes,onChange:y,disabled:!i,placeholder:"Digite observaes sobre o envio...",rows:4})]})})]})]})}),m.jsxs("div",{className:"edit-modal-actions",children:[m.jsx("button",{type:"button",className:"btn-cancel",onClick:e,disabled:s,children:"Cancelar"}),i&&m.jsxs("button",{type:"submit",className:`btn-save ${s?"loading":""}`,onClick:x,disabled:s,children:[m.jsx(DD,{size:16}),s?"Salvando...":"Salvar Alteraes"]})]})]})});return typeof document<"u"?rg.createPortal(S,document.body):null};var vi=(r=>(r.BILL_OF_LADING="bill_of_lading",r.INVOICE="invoice",r.PACKING_LIST="packing_list",r.COMMERCIAL_INVOICE="commercial_invoice",r.CERTIFICATE_OF_ORIGIN="certificate_of_origin",r.INSURANCE_CERTIFICATE="insurance_certificate",r.EXPORT_LICENSE="export_license",r.IMPORT_LICENSE="import_license",r.CUSTOMS_DECLARATION="customs_declaration",r.TRANSPORT_DOCUMENT="transport_document",r.OTHER="other",r))(vi||{});const sB=(r,e="pt")=>{var i;const n={en:{bill_of_lading:"Bill of Lading (BL)",invoice:"Invoice",packing_list:"Packing List",commercial_invoice:"Commercial Invoice",certificate_of_origin:"Certificate of Origin",insurance_certificate:"Insurance Certificate",export_license:"Export License",import_license:"Import License",customs_declaration:"Customs Declaration",transport_document:"Transport Document",other:"Other"},pt:{bill_of_lading:"Conhecimento de Embarque (BL)",invoice:"Fatura",packing_list:"Lista de Empacotamento",commercial_invoice:"Fatura Comercial",certificate_of_origin:"Certificado de Origem",insurance_certificate:"Certificado de Seguro",export_license:"Licena de Exportao",import_license:"Licena de Importao",customs_declaration:"Declarao Aduaneira",transport_document:"Documento de Transporte",other:"Outro"},es:{bill_of_lading:"Conocimiento de Embarque (BL)",invoice:"Factura",packing_list:"Lista de Empaque",commercial_invoice:"Factura Comercial",certificate_of_origin:"Certificado de Origen",insurance_certificate:"Certificado de Seguro",export_license:"Licencia de Exportacin",import_license:"Licencia de Importacin",customs_declaration:"Declaracin Aduanera",transport_document:"Documento de Transporte",other:"Otro"}};return((i=n[e])==null?void 0:i[r])||n.pt[r]},lB={bill_of_lading:"file-text",invoice:"receipt",packing_list:"package",commercial_invoice:"file-text",certificate_of_origin:"award",insurance_certificate:"shield",export_license:"scroll-text",import_license:"scroll-text",customs_declaration:"building",transport_document:"ship",other:"paperclip"},rge=async(r,e)=>{try{if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"))return console.log("Detectado localhost, usando fallback local"),RI(r);const i=`${Date.now()}_${r.name}`,a=nY(lY,`documents/${e}/${i}`);console.log("Fazendo upload para Firebase Storage:",i);const o=await tY(a,r),s=await rY(o.ref);return console.log("Upload concludo:",s),s}catch(n){return console.error("Erro no upload para Firebase Storage:",n),console.log("Usando fallback local devido ao erro"),RI(r)}},RI=r=>{const e=URL.createObjectURL(r);return console.log("Criada URL local:",e),e},nge=async r=>{try{if(!r.documentType)throw console.error("documentType  undefined:",r),new Error("documentType  obrigatrio");console.log("Salvando documento:",{fileName:r.fileName,documentType:r.documentType,downloadUrl:r.downloadUrl});const e=await sD(Ea(Jt,"documents"),{...r,uploadedAt:new Date,isActive:!0});return console.log("Documento salvo com ID:",e.id),e.id}catch(e){throw console.error("Erro ao salvar documento:",e),e}},cB=async r=>{try{const e=Ed(Ea(Jt,"documents"),Zc("shipmentId","==",r),Zc("isActive","==",!0),zx("uploadedAt","desc")),n=await qs(e),i=[];return n.forEach(a=>{const o=a.data();i.push({id:a.id,...o,uploadedAt:o.uploadedAt.toDate()})}),i}catch(e){throw console.error("Erro ao buscar documentos:",e),e}},ige=async r=>{try{const e=yn(Jt,"documents",r);await eu(e,{isActive:!1,deletedAt:new Date}),console.log("Documento deletado:",r)}catch(e){throw console.error("Erro ao deletar documento:",e),e}},age=r=>["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png","image/gif","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(r.type),oge=r=>r.size<=10485760,t_=r=>{if(r===0)return"0 Bytes";const e=1024,n=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(r)/Math.log(e));return parseFloat((r/Math.pow(e,i)).toFixed(2))+" "+n[i]},sge=r=>{const e=r.toLowerCase();return e.includes("bl")||e.includes("bill")||e.includes("lading")?DocumentType.BILL_OF_LADING:e.includes("invoice")||e.includes("inv")?DocumentType.INVOICE:e.includes("packing")||e.includes("pack")?DocumentType.PACKING_LIST:e.includes("commercial")?DocumentType.COMMERCIAL_INVOICE:e.includes("certificate")||e.includes("origin")?DocumentType.CERTIFICATE_OF_ORIGIN:e.includes("insurance")?DocumentType.INSURANCE_CERTIFICATE:e.includes("export")||e.includes("license")?DocumentType.EXPORT_LICENSE:e.includes("import")?DocumentType.IMPORT_LICENSE:e.includes("customs")||e.includes("declaration")?DocumentType.CUSTOMS_DECLARATION:e.includes("transport")||e.includes("shipping")?DocumentType.TRANSPORT_DOCUMENT:DocumentType.OTHER},lge=async r=>{try{if(console.log("Iniciando download:",{fileName:r.originalName,downloadUrl:r.downloadUrl,fileType:r.fileType}),!r.downloadUrl||r.downloadUrl.trim()===""){console.warn("URL de download invlida, criando arquivo de informaes"),Ep(r);return}if(r.downloadUrl.includes("sealogistics-docs")){console.log("Detectada URL antiga, tentando download direto");try{const e=await fetch(r.downloadUrl);if(e.ok){const n=await e.blob();dy(n,r.originalName);return}}catch{console.log("Download direto falhou, criando arquivo de informaes")}Ep(r);return}if(r.downloadUrl.startsWith("blob:")){console.log("Download de arquivo local");try{const e=await fetch(r.downloadUrl);if(e.ok){const n=await e.blob();dy(n,r.originalName);return}else throw new Error("URL blob invlida")}catch(e){console.error("Erro ao baixar arquivo local:",e),console.log("URL blob expirada ou invlida, criando arquivo de informaes"),Ep(r);return}}if(r.downloadUrl.includes("firebasestorage.googleapis.com")){console.log("Download do Firebase Storage"),window.open(r.downloadUrl,"_blank");return}console.log("Tentando download de URL externa");try{const e=await fetch(r.downloadUrl);if(e.ok){const n=await e.blob();dy(n,r.originalName)}else throw new Error(`HTTP ${e.status}`)}catch(e){console.error("Erro no download:",e),Ep(r)}}catch(e){console.error("Erro geral no download:",e),Ep(r)}},Ep=r=>{const e=`INFORMAES DO DOCUMENTO
================================

 Nome do Arquivo: ${r.originalName}
 Tipo de Arquivo: ${r.fileType}
 Tamanho: ${t_(r.fileSize)}
 Data de Upload: ${r.uploadedAt.toLocaleDateString("pt-BR")} s ${r.uploadedAt.toLocaleTimeString("pt-BR")}
 Enviado por: ${r.uploadedBy}
  Tipo de Documento: ${r.documentType}
 URL Original: ${r.downloadUrl}

  NOTA IMPORTANTE:
O arquivo original no est mais disponvel para download.
Isso pode acontecer quando:
- O arquivo foi removido do servidor
- A URL expirou (arquivos temporrios)
- Houve um problema de conectividade

 SOLUO:
Para obter o arquivo original, entre em contato com o administrador
ou solicite um novo upload do documento.

---
Gerado automaticamente pelo sistema Sea Logistics
Data: ${new Date().toLocaleString("pt-BR")}`,n=new Blob([e],{type:"text/plain; charset=utf-8"}),i=`INFO_${r.originalName.replace(/\.[^/.]+$/,".txt")}`;dy(n,i)},dy=(r,e)=>{const n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},cge=r=>{switch(r){case"file-text":return m.jsx(Ws,{size:16});case"receipt":return m.jsx(RY,{size:16});case"package":return m.jsx(Hs,{size:16});case"award":return m.jsx(xY,{size:16});case"shield":return m.jsx(RD,{size:16});case"scroll-text":return m.jsx(MY,{size:16});case"building":return m.jsx(EY,{size:16});case"ship":return m.jsx(Pd,{size:16});case"paperclip":return m.jsx(LY,{size:16});default:return m.jsx(Ws,{size:16})}},uge=({shipmentId:r,shipmentNumber:e,clientName:n,isOpen:i,onClose:a,onDocumentsUpdate:o})=>{const{currentUser:s}=Mo(),{translations:l}=Fo(),[c,u]=P.useState([]),[d,f]=P.useState(!1),[h,p]=P.useState(!1),[y,w]=P.useState([]),[x,b]=P.useState([]),[S,A]=P.useState(vi.OTHER),[I,B]=P.useState(!1),[$,D]=P.useState(null),[j,O]=P.useState(null),U=P.useCallback(async()=>{if(r)try{f(!0);const ne=await cB(r);u(ne)}catch(ne){console.error("Erro ao carregar documentos:",ne),D("Erro ao carregar documentos")}finally{f(!1)}},[r]);P.useEffect(()=>{i&&U()},[i,U]);const T=P.useCallback(ne=>{ne.preventDefault(),ne.stopPropagation(),ne.type==="dragenter"||ne.type==="dragover"?B(!0):ne.type==="dragleave"&&B(!1)},[]),L=P.useCallback(ne=>{ne.preventDefault(),ne.stopPropagation(),B(!1),ne.dataTransfer.files&&ne.dataTransfer.files[0]&&Y(ne.dataTransfer.files)},[]),C=ne=>{ne.target.files&&Y(ne.target.files)},Y=ne=>{const M=Array.from(ne),K=[],Z=[];M.forEach(ae=>{age(ae)?oge(ae)?K.push(ae):Z.push(`${ae.name}: Arquivo muito grande (mximo 10MB)`):Z.push(`${ae.name}: Tipo de arquivo no suportado`)}),Z.length>0&&(D(Z.join(`
`)),setTimeout(()=>D(null),5e3)),K.length>0&&b(ae=>[...ae,...K])},oe=ne=>{b(M=>M.filter((K,Z)=>Z!==ne))},se=async()=>{if(x.length===0)return;p(!0),D(null),O(null);const ne=x.map(M=>({fileName:M.name,progress:0,status:"uploading"}));w(ne);try{for(let M=0;M<x.length;M++){const K=x[M];w(me=>me.map((Ee,ue)=>ue===M?{...Ee,progress:25}:Ee));const Z=await rge(K,r);w(me=>me.map((Ee,ue)=>ue===M?{...Ee,progress:75}:Ee));const ae=sge(K.name);let de;S!==vi.OTHER?de=S:ae&&Object.values(vi).includes(ae)?de=ae:de=vi.OTHER,console.log("Document type debug:",{selectedDocumentType:S,detectedType:ae,finalDocumentType:de,fileName:K.name}),await nge({shipmentId:r,fileName:K.name,originalName:K.name,fileType:K.type,fileSize:K.size,documentType:de,uploadedBy:(s==null?void 0:s.displayName)||(s==null?void 0:s.email)||"Usurio",downloadUrl:Z,isActive:!0}),w(me=>me.map((Ee,ue)=>ue===M?{...Ee,progress:100,status:"success"}:Ee))}O(`${x.length} documento(s) enviado(s) com sucesso!`),b([]),A(vi.OTHER),await U(),o&&o(),setTimeout(()=>O(null),3e3)}catch(M){console.error("Erro no upload:",M),D("Erro ao fazer upload dos documentos"),w(K=>K.map(Z=>({...Z,status:"error",error:"Erro no upload"})))}finally{p(!1),setTimeout(()=>w([]),3e3)}},pe=async ne=>{if(confirm("Tem certeza que deseja excluir este documento?"))try{await ige(ne),O("Documento excludo com sucesso!"),await U(),o&&o(),setTimeout(()=>O(null),3e3)}catch(M){console.error("Erro ao deletar documento:",M),D("Erro ao excluir documento"),setTimeout(()=>D(null),5e3)}},X=async ne=>{try{await lge(ne)}catch(M){console.error("Erro no download:",M),D("Erro ao fazer download do documento"),setTimeout(()=>D(null),5e3)}},le=c.reduce((ne,M)=>(ne[M.documentType]||(ne[M.documentType]=[]),ne[M.documentType].push(M),ne),{});if(!i)return null;const ie=m.jsx("div",{className:"document-manager-overlay",onClick:a,children:m.jsxs("div",{className:"document-manager-modal",onClick:ne=>ne.stopPropagation(),children:[m.jsxs("div",{className:"document-manager-header",children:[m.jsxs("div",{className:"header-info",children:[m.jsx("h2",{children:" Gerenciar Documentos"}),m.jsxs("div",{className:"shipment-info",children:[m.jsxs("span",{children:[m.jsx("strong",{children:"Envio:"})," ",e]}),m.jsxs("span",{children:[m.jsx("strong",{children:"Cliente:"})," ",n]})]})]}),m.jsx("button",{className:"close-button",onClick:a,children:m.jsx(Ul,{size:24})})]}),$&&m.jsxs("div",{className:"alert alert-error",children:[m.jsx(ih,{size:16}),m.jsx("span",{children:$})]}),j&&m.jsxs("div",{className:"alert alert-success",children:[m.jsx(Om,{size:16}),m.jsx("span",{children:j})]}),m.jsxs("div",{className:"document-manager-content",children:[m.jsxs("div",{className:"upload-section",children:[m.jsx("h3",{children:" Adicionar Novos Documentos"}),m.jsxs("div",{className:"document-type-selector",children:[m.jsx("label",{htmlFor:"documentType",children:"Tipo de Documento:"}),m.jsxs("select",{id:"documentType",value:S,onChange:ne=>A(ne.target.value),disabled:h,children:[m.jsx("option",{value:vi.BILL_OF_LADING,children:"Conhecimento de Embarque (BL)"}),m.jsx("option",{value:vi.INVOICE,children:"Fatura"}),m.jsx("option",{value:vi.PACKING_LIST,children:"Lista de Empacotamento"}),m.jsx("option",{value:vi.COMMERCIAL_INVOICE,children:"Fatura Comercial"}),m.jsx("option",{value:vi.CERTIFICATE_OF_ORIGIN,children:"Certificado de Origem"}),m.jsx("option",{value:vi.INSURANCE_CERTIFICATE,children:"Certificado de Seguro"}),m.jsx("option",{value:vi.EXPORT_LICENSE,children:"Licena de Exportao"}),m.jsx("option",{value:vi.IMPORT_LICENSE,children:"Licena de Importao"}),m.jsx("option",{value:vi.CUSTOMS_DECLARATION,children:"Declarao Aduaneira"}),m.jsx("option",{value:vi.TRANSPORT_DOCUMENT,children:"Documento de Transporte"}),m.jsx("option",{value:vi.OTHER,children:"Outro"})]})]}),m.jsxs("div",{className:`upload-area ${I?"drag-active":""}`,onDragEnter:T,onDragLeave:T,onDragOver:T,onDrop:L,children:[m.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt,.xls,.xlsx",onChange:C,disabled:h,className:"file-input"}),m.jsxs("div",{className:"upload-content",children:[m.jsx(_T,{size:48,className:"upload-icon"}),m.jsx("p",{children:"Arraste arquivos aqui ou clique para selecionar"}),m.jsx("small",{children:"Tipos suportados: PDF, Word, Excel, Imagens, Texto"}),m.jsx("small",{children:"Tamanho mximo: 10MB por arquivo"})]})]}),x.length>0&&m.jsxs("div",{className:"selected-files",children:[m.jsxs("h4",{children:["Arquivos Selecionados (",x.length,")"]}),m.jsx("div",{className:"file-list",children:x.map((ne,M)=>m.jsxs("div",{className:"file-item",children:[m.jsx(Ws,{size:16}),m.jsx("span",{className:"file-name",children:ne.name}),m.jsx("span",{className:"file-size",children:t_(ne.size)}),m.jsx("button",{type:"button",onClick:()=>oe(M),className:"remove-file-btn",disabled:h,children:m.jsx(Ul,{size:16})})]},M))}),m.jsx("button",{type:"button",onClick:se,disabled:h||x.length===0,className:"upload-button",children:h?m.jsxs(m.Fragment,{children:[m.jsx(Lm,{size:16}),"Enviando..."]}):m.jsxs(m.Fragment,{children:[m.jsx(_T,{size:16}),"Enviar ",x.length," Documento(s)"]})})]}),y.length>0&&m.jsx("div",{className:"upload-progress",children:y.map((ne,M)=>m.jsxs("div",{className:`progress-item ${ne.status}`,children:[m.jsxs("div",{className:"progress-info",children:[m.jsx("span",{className:"file-name",children:ne.fileName}),m.jsxs("span",{className:"progress-status",children:[ne.status==="uploading"&&m.jsx(Lm,{size:14}),ne.status==="success"&&m.jsx(Om,{size:14}),ne.status==="error"&&m.jsx(ih,{size:14}),ne.status]})]}),m.jsx("div",{className:"progress-bar",children:m.jsx("div",{className:"progress-fill",style:{width:`${ne.progress}%`}})}),ne.error&&m.jsx("span",{className:"error-message",children:ne.error})]},M))})]}),m.jsxs("div",{className:"existing-documents-section",children:[m.jsx("h3",{children:" Documentos Existentes"}),d?m.jsx("div",{className:"loading",children:"Carregando documentos..."}):c.length===0?m.jsxs("div",{className:"no-documents",children:[m.jsx(Ws,{size:48}),m.jsx("p",{children:"Nenhum documento carregado ainda"}),m.jsx("small",{children:"Adicione documentos usando a seo acima"})]}):m.jsx("div",{className:"documents-by-type",children:Object.entries(le).map(([ne,M])=>m.jsxs("div",{className:"document-type-group",children:[m.jsxs("h4",{children:[cge(lB[ne]),sB(ne,"pt"),"(",M.length,")"]}),m.jsx("div",{className:"document-list",children:M.map(K=>m.jsxs("div",{className:"document-item",children:[m.jsxs("div",{className:"document-info",children:[m.jsx(Ws,{size:16}),m.jsxs("div",{className:"document-details",children:[m.jsx("span",{className:"document-name",children:K.originalName}),m.jsxs("span",{className:"document-meta",children:[t_(K.fileSize)," ",K.uploadedAt.toLocaleDateString("pt-BR")," ",K.uploadedBy]})]})]}),m.jsxs("div",{className:"document-actions",children:[m.jsx("button",{type:"button",onClick:()=>X(K),className:"action-btn download-btn",title:"Download",children:m.jsx(OD,{size:16})}),(s==null?void 0:s.role)==="admin"&&m.jsx("button",{type:"button",onClick:()=>K.id&&pe(K.id),className:"action-btn delete-btn",title:"Excluir",children:m.jsx(BY,{size:16})})]})]},K.id))})]},ne))})]})]})]})});return typeof document<"u"?rg.createPortal(ie,document.body):null},dge=({shipmentId:r,isOpen:e,onClose:n})=>{const{currentUser:i}=Mo(),[a,o]=P.useState([]),[s,l]=P.useState(!1),[c,u]=P.useState(null);P.useEffect(()=>{e&&r&&d()},[e,r]);const d=async()=>{try{l(!0),u(null);const p=await cB(r);o(p)}catch(p){console.error("Erro ao carregar documentos:",p),u("Erro ao carregar documentos")}finally{l(!1)}},f=p=>{const y=p.createElement("a");y.href=p.downloadUrl,y.download=p.originalName,p.body.appendChild(y),y.click(),p.body.removeChild(y)},h=a.reduce((p,y)=>(p[y.documentType]||(p[y.documentType]=[]),p[y.documentType].push(y),p),{});return e?m.jsx("div",{className:"document-viewer-overlay",onClick:n,children:m.jsxs("div",{className:"document-viewer-modal",onClick:p=>p.stopPropagation(),children:[m.jsxs("div",{className:"document-viewer-header",children:[m.jsx("h2",{children:" Documentos do Envio"}),m.jsx("p",{className:"header-subtitle",children:"Visualize e baixe os documentos relacionados"}),m.jsx("button",{className:"close-button",onClick:n,children:m.jsx(Ul,{size:24})})]}),c&&m.jsxs("div",{className:"alert alert-error",children:[m.jsx(ih,{size:16}),m.jsx("span",{children:c})]}),m.jsx("div",{className:"document-viewer-content",children:s?m.jsx("div",{className:"loading",children:"Carregando documentos..."}):a.length===0?m.jsxs("div",{className:"no-documents",children:[m.jsx(Ws,{size:48}),m.jsx("p",{children:"Nenhum documento disponvel no momento"}),m.jsx("small",{children:"Nossa equipe est preparando a documentao para este envio"})]}):m.jsx("div",{className:"documents-by-type",children:Object.entries(h).map(([p,y])=>m.jsxs("div",{className:"document-type-group",children:[m.jsxs("h3",{children:[lB[p],sB(p,t("language")||"pt"),m.jsxs("span",{className:"document-count",children:["(",y.length,")"]})]}),m.jsx("div",{className:"document-list",children:y.map(w=>m.jsxs("div",{className:"document-item",children:[m.jsxs("div",{className:"document-info",children:[m.jsx(Ws,{size:20,className:"document-icon"}),m.jsxs("div",{className:"document-details",children:[m.jsx("span",{className:"document-name",children:w.originalName}),m.jsxs("div",{className:"document-meta",children:[m.jsx("span",{className:"upload-date",children:w.uploadedAt.toLocaleDateString("pt-BR")}),m.jsxs("span",{className:"uploader",children:["por ",w.uploadedBy]})]})]})]}),m.jsx("div",{className:"document-actions",children:m.jsxs("button",{type:"button",onClick:()=>f(w),className:"action-btn download-btn",title:"Download",children:[m.jsx(OD,{size:16}),m.jsx("span",{className:"btn-text",children:"Baixar"})]})})]},w.id))})]},p))})})]})}):null},fge=({filters:r,onFiltersChange:e,onClearFilters:n})=>{const[i,a]=P.useState(!1),o=P.useRef(null),{isAdmin:s}=Mo(),{translations:l}=Fo();P.useEffect(()=>{const x=b=>{o.current&&!o.current.contains(b.target)&&a(!1)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]);const c=(x,b)=>{e({...r,[x]:b})},u=x=>{const b=r.sortBy===x&&r.sortOrder==="desc"?"asc":"desc";e({...r,sortBy:x,sortOrder:b})},d=()=>[{value:"",label:"Todos os meses"},{value:"01",label:"Janeiro"},{value:"02",label:"Fevereiro"},{value:"03",label:"Maro"},{value:"04",label:"Abril"},{value:"05",label:"Maio"},{value:"06",label:"Junho"},{value:"07",label:"Julho"},{value:"08",label:"Agosto"},{value:"09",label:"Setembro"},{value:"10",label:"Outubro"},{value:"11",label:"Novembro"},{value:"12",label:"Dezembro"}],f=()=>r.dateFrom||r.dateTo||r.month||r.searchTerm||r.sortBy!=="recent",h=()=>{let x=0;return(r.dateFrom||r.dateTo)&&x++,r.month&&x++,r.searchTerm&&x++,r.sortBy!=="recent"&&x++,x},p=()=>({recent:l.mostRecent,old:l.oldest,etd:l.etdDate,eta:l.etaDate,client:l.clientAZ})[r.sortBy],y=()=>{const x=[{value:"recent",label:l.mostRecent},{value:"old",label:l.oldest},{value:"etd",label:l.etdDate},{value:"eta",label:l.etaDate}];return s()&&x.push({value:"client",label:l.clientAZ}),x},w=()=>{if(!r.month)return l.allMonths;const x=d().find(b=>b.value===r.month);return x?x.label:l.allMonths};return m.jsxs("div",{className:"shipping-filters",ref:o,children:[m.jsxs("div",{className:"filters-header",children:[m.jsxs("div",{className:"filters-title",children:[m.jsx(NY,{size:18}),m.jsx("span",{children:l.searchFilters}),f()&&m.jsx("span",{className:"active-filters-badge",children:h()})]}),m.jsxs("div",{className:"filters-actions",children:[f()&&m.jsxs("button",{className:"clear-filters-btn",onClick:n,title:"Limpar filtros",children:[m.jsx(Ul,{size:16}),"Limpar"]}),m.jsxs("button",{className:`dropdown-toggle-btn ${i?"open":""}`,onClick:()=>a(!i),children:[m.jsx(jD,{size:16}),i?l.less:l.more]})]})]}),m.jsxs("div",{className:"filters-main",children:[m.jsx("div",{className:"filter-group search-group",children:m.jsx("input",{type:"text",value:r.searchTerm,onChange:x=>c("searchTerm",x.target.value),placeholder:s()?l.searchPlaceholderAdmin:l.searchPlaceholderClient,className:"search-input"})}),m.jsxs("div",{className:"filter-summary",children:[m.jsxs("span",{className:"filter-summary-item",children:[m.jsx("strong",{children:l.sortBy})," ",p()]}),m.jsx("span",{className:"filter-summary-separator",children:""}),m.jsxs("span",{className:"filter-summary-item",children:[m.jsx("strong",{children:l.month})," ",w()]})]})]}),i&&m.jsxs("div",{className:"filters-dropdown",children:[m.jsxs("div",{className:"filters-row",children:[m.jsxs("div",{className:"filter-group",children:[m.jsx("label",{children:"Ordenar por:"}),m.jsx("select",{value:r.sortBy,onChange:x=>u(x.target.value),className:"sort-select",children:y().map(x=>m.jsx("option",{value:x.value,children:x.label},x.value))})]}),m.jsxs("div",{className:"filter-group",children:[m.jsx("label",{children:"Ordem:"}),m.jsxs("select",{value:r.sortOrder,onChange:x=>c("sortOrder",x.target.value),className:"order-select",children:[m.jsx("option",{value:"desc",children:"Decrescente"}),m.jsx("option",{value:"asc",children:"Crescente"})]})]}),m.jsxs("div",{className:"filter-group",children:[m.jsx("label",{children:"Ms de Origem:"}),m.jsx("select",{value:r.month,onChange:x=>c("month",x.target.value),className:"month-select",children:d().map(x=>m.jsx("option",{value:x.value,children:x.label},x.value))})]})]}),m.jsxs("div",{className:"filters-row",children:[m.jsxs("div",{className:"filter-group",children:[m.jsxs("label",{children:[m.jsx(Wx,{size:14}),"Data de:"]}),m.jsx("input",{type:"date",value:r.dateFrom,onChange:x=>c("dateFrom",x.target.value),className:"date-input"})]}),m.jsxs("div",{className:"filter-group",children:[m.jsxs("label",{children:[m.jsx(Wx,{size:14}),"Data at:"]}),m.jsx("input",{type:"date",value:r.dateTo,onChange:x=>c("dateTo",x.target.value),className:"date-input"})]})]})]})]})},hge=({shipments:r,onShipmentUpdate:e,initialFilters:n})=>{const{shipments:i,updateShipment:a,loading:o}=Nh(),{isAdmin:s,currentUser:l}=Mo(),{translations:c}=Fo(),u=r||i,[d,f]=P.useState(null),[h,p]=P.useState(!1),[y,w]=P.useState(!1),[x,b]=P.useState(null),[S,A]=P.useState(!1),[I,B]=P.useState(null),$=ie=>{if(!ie)return"";const ne=new Date(ie);if(isNaN(ne.getTime()))return ie;const M=ne.getDate().toString().padStart(2,"0"),K=(ne.getMonth()+1).toString().padStart(2,"0"),Z=ne.getFullYear();return`${M}/${K}/${Z}`},[D,j]=P.useState({dateFrom:"",dateTo:"",month:"",sortBy:"recent",sortOrder:"desc",searchTerm:""});P.useEffect(()=>{if(n){let ie={...D};if(n.status,n.filter==="this-month"){const ne=new Date().getMonth()+1;ie.month=ne.toString()}j(ie)}},[n]);const O=P.useMemo(()=>{let ie=[...u];if(n!=null&&n.status&&(ie=ie.filter(ne=>ne.status===n.status)),D.month&&(ie=ie.filter(ne=>ne.etdOrigem?(new Date(ne.etdOrigem).getMonth()+1).toString()===D.month:!1)),D.dateFrom&&(ie=ie.filter(ne=>{if(ne.etdOrigem){const M=new Date(ne.etdOrigem),K=new Date(D.dateFrom);return M>=K}return!1})),D.dateTo&&(ie=ie.filter(ne=>{if(ne.etdOrigem){const M=new Date(ne.etdOrigem),K=new Date(D.dateTo);return M<=K}return!1})),D.searchTerm){const ne=D.searchTerm.toLowerCase();ie=ie.filter(M=>{var K,Z,ae,de,me,Ee;return((K=M.cliente)==null?void 0:K.toLowerCase().includes(ne))||((Z=M.numeroBl)==null?void 0:Z.toLowerCase().includes(ne))||((ae=M.booking)==null?void 0:ae.toLowerCase().includes(ne))||((de=M.pol)==null?void 0:de.toLowerCase().includes(ne))||((me=M.pod)==null?void 0:me.toLowerCase().includes(ne))||((Ee=M.armador)==null?void 0:Ee.toLowerCase().includes(ne))})}return ie.sort((ne,M)=>{let K,Z;switch(D.sortBy){case"recent":case"old":K=new Date(ne.etdOrigem||0),Z=new Date(M.etdOrigem||0);break;case"client":K=ne.cliente||"",Z=M.cliente||"";break;case"etd":K=new Date(ne.etdOrigem||0),Z=new Date(M.etdOrigem||0);break;case"eta":K=new Date(ne.etaDestino||0),Z=new Date(M.etaDestino||0);break;default:K=new Date(ne.etdOrigem||0),Z=new Date(M.etdOrigem||0)}return D.sortOrder==="asc"?K>Z?1:-1:K<Z?1:-1}),ie},[u,D,n]),U=ie=>{j(ne=>({...ne,...ie}))},T=()=>{j({dateFrom:"",dateTo:"",month:"",sortBy:"recent",sortOrder:"desc",searchTerm:""})},L=ie=>{f(ie),p(!0)},C=()=>{f(null),p(!1)},Y=async ie=>{try{await a(ie),e&&e(ie),C()}catch(ne){console.error("Erro ao salvar envio:",ne)}},oe=ie=>!(!s()||ie.status==="concluido"),se=async ie=>{try{console.log(" Iniciando exportao PDF para:",ie.cliente,ie.numeroBl);const ne=new dt;ne.setFontSize(16),ne.text(`FOLLOW UP - ${ie.cliente||"NOME CLIENTE"}`,14,15),ne.setFontSize(12);const M=new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"}).toUpperCase();ne.text(`Data: ${M}`,14,25),ne.setFontSize(10);let K=40;[["PROCESSO IM:",ie.numeroBl||"N/A"],["CLIENTE:",ie.cliente||"N/A"],["SHIPPER:",ie.shipper||"N/A"],["OPERADOR:",ie.operador||"N/A"],["POL:",ie.pol||"N/A"],["POD:",ie.pod||"N/A"],["ETA:",$(ie.etaDestino)],["ETD:",$(ie.etdOrigem)],["STATUS:",ie.status||"N/A"],["ARMADOR:",ie.armador||"N/A"],["BOOKING:",ie.booking||"N/A"],["QUANTIDADE:",`${ie.quantBox||1}X40HC`],["N BL:",ie.numeroBl||"N/A"]].forEach(([ae,de])=>{ne.setFontSize(10),ne.text(ae,14,K),ne.setFontSize(10),ne.text(de,60,K),K+=8}),ne.save(`follow-up-${ie.cliente}-${ie.numeroBl}.pdf`)}catch(ne){console.error("Erro ao exportar para PDF:",ne)}},pe=async ie=>{if(!ie.companyId){console.warn("Shipment sem companyId, no  possvel enviar email.");return}try{const ne=await Jc(yn(Jt,"companies",ie.companyId));if(!ne.exists()){console.warn("Empresa no encontrada no Firestore");return}const M=ne.data();if(!M.contactEmail){console.warn("Empresa no tem email de contato cadastrado");return}await Ky({to:M.contactEmail,subject:`Informaes do envio - ${ie.numeroBl}`,html:`
        <h2>Informaes do envio</h2>
        <ul>
          <li><strong>Nmero BL:</strong> ${ie.numeroBl}</li>
          <li><strong>Cliente:</strong> ${ie.cliente}</li>
          <li><strong>Operador:</strong> ${ie.operador}</li>
          <li><strong>Porto de Origem:</strong> ${ie.pol}</li>
          <li><strong>Porto de Destino:</strong> ${ie.pod}</li>
          <li><strong>ETD Origem:</strong> ${ie.etdOrigem}</li>
          <li><strong>ETA Destino:</strong> ${ie.etaDestino}</li>
          <li><strong>Localizao Atual:</strong> ${ie.currentLocation}</li>
          <li><strong>Quantidade de Containers:</strong> ${ie.quantBox}</li>
          <li><strong>Status:</strong> ${ie.status}</li>
          <li><strong>Armador:</strong> ${ie.armador}</li>
          <li><strong>Booking:</strong> ${ie.booking}</li>
          <li><strong>Observaes:</strong> ${ie.observacoes||"-"}</li>
        </ul>
      `}),console.log(" Email enviado com sucesso para:",M.contactEmail)}catch(ne){console.error("Erro ao enviar email manual:",ne)}},X=ie=>{b(ie),w(!0)},le=()=>{A(!1),B(null)};return o?m.jsxs("div",{className:"shipping-table-container",children:[m.jsx("h2",{className:"shipping-table-title",children:c.shippingTable}),m.jsx("div",{className:"shipping-table-empty",children:c.loading})]}):m.jsx(Jme,{children:m.jsxs("div",{className:"shipping-table-container",children:[m.jsx("div",{className:"shipping-table-header",children:m.jsx("h2",{className:"shipping-table-title",children:c.shippingTable})}),m.jsx(fge,{filters:D,onFiltersChange:U,onClearFilters:T}),O.length===0?m.jsx("div",{className:"shipping-table-empty",children:(u.length===0,c.noShipments)}):m.jsx("div",{className:"table-wrapper",children:m.jsxs("table",{className:"shipping-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:c.client}),m.jsx("th",{children:c.type}),m.jsx("th",{children:c.shipper}),m.jsx("th",{children:c.pol}),m.jsx("th",{children:c.pod}),m.jsx("th",{children:c.etdOrigin}),m.jsx("th",{children:c.etaDestination}),m.jsx("th",{children:c.quantBox}),m.jsx("th",{children:c.blNumber}),m.jsx("th",{children:c.carrier}),m.jsx("th",{children:c.booking}),m.jsx("th",{children:c.invoice}),m.jsx("th",{children:c.actions})]})}),m.jsx("tbody",{children:O.map(ie=>{var ne;return m.jsxs("tr",{children:[m.jsx("td",{children:ie.cliente}),m.jsx("td",{children:m.jsx("span",{className:`tipo-badge tipo-${((ne=ie.tipo)==null?void 0:ne.toLowerCase())||"nao-especificado"}`,children:ie.tipo||"N/A"})}),m.jsx("td",{children:ie.shipper}),m.jsx("td",{children:ie.pol}),m.jsx("td",{children:ie.pod}),m.jsx("td",{children:$(ie.etdOrigem)}),m.jsx("td",{children:$(ie.etaDestino)}),m.jsx("td",{children:ie.quantBox}),m.jsx("td",{children:ie.numeroBl}),m.jsx("td",{children:ie.armador}),m.jsx("td",{children:ie.booking}),m.jsx("td",{children:ie.invoice}),m.jsx("td",{children:m.jsxs("div",{className:"action-icons",children:[s()&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"action-icon edit-icon",onClick:()=>L(ie),title:c.edit,disabled:!oe(ie),children:m.jsx(DY,{size:20})}),m.jsx("button",{className:"action-icon documents-icon",onClick:()=>X(ie),title:c.manageDocuments,children:m.jsx(TY,{size:20})}),m.jsx("button",{className:"action-icon check-icon",onClick:async()=>{try{await pe(ie)}catch(M){console.error("Erro ao exportar ou enviar email:",M)}},title:"Enviar informaes para o cliente",children:m.jsx(ID,{size:20})})]}),!s()&&m.jsx("button",{className:"action-icon view-documents-icon",onClick:()=>{B(ie),A(!0)},title:c.viewDocuments,children:m.jsx(kY,{size:20})}),m.jsx("button",{className:"action-icon export-icon",onClick:()=>se(ie),title:"Exportar para PDF",children:m.jsx(Ws,{size:20})})]})})]},ie.id)})})]})}),O.length>0&&m.jsxs("div",{className:"table-summary",children:["Mostrando ",O.length," de ",u.length," ","envios"]}),h&&d&&m.jsx(tge,{shipment:d,onClose:C,onSave:Y,canEdit:oe(d)}),y&&x&&m.jsx(uge,{shipmentId:x.id||"",shipmentNumber:x.numeroBl,clientName:x.cliente,isOpen:y,onClose:()=>w(!1),onDocumentsUpdate:()=>{console.log("Documentos atualizados")}}),S&&I&&m.jsx(dge,{shipmentId:I.id||"",isOpen:S,onClose:le})]})})},pge=({onConfigSaved:r,onClose:e})=>{var C,Y,oe;const[n,i]=P.useState(!1),[a,o]=P.useState(!1),[s,l]=P.useState([]),[c,u]=P.useState(""),[d,f]=P.useState(""),[h,p]=P.useState(""),[y,w]=P.useState([]),[x,b]=P.useState({}),[S,A]=P.useState(""),I=[{key:"shipmentNumber",label:"Nmero do Envio"},{key:"origin",label:"Origem"},{key:"destination",label:"Destino"},{key:"status",label:"Status"},{key:"company",label:"Empresa"},{key:"date",label:"Data"},{key:"client",label:"Cliente"},{key:"type",label:"Tipo"},{key:"shipper",label:"Shipper"},{key:"pol",label:"POL"},{key:"pod",label:"POD"},{key:"etdOrigin",label:"ETD Origem"},{key:"etaDestination",label:"ETA Destino"},{key:"quantBox",label:"Quant Box"},{key:"blNumber",label:"N BL"},{key:"carrier",label:"Armador"},{key:"booking",label:"Booking"}];P.useEffect(()=>{B()},[]);const B=async()=>{o(!0);try{const se=await li.initializeAuth();i(se),se&&await $()}catch(se){console.error("Erro na verificao de autenticao:",se),A("Erro na autenticao com Microsoft Excel")}finally{o(!1)}},$=async()=>{try{o(!0);const se=await li.listExcelFiles();l(se)}catch(se){console.error("Erro ao carregar workbooks:",se),A("Erro ao carregar arquivos Excel")}finally{o(!1)}},D=async se=>{if(u(se),f(""),p(""),w([]),b({}),se)try{const pe=s.find(X=>X.id===se);if(pe&&pe.worksheets.length>0){const X=pe.worksheets[0];if(f(X.id),X.tables.length>0){const le=X.tables[0];p(le.id),await j(le.id)}else await U(se,X.id)}}catch(pe){console.error("Erro ao processar workbook:",pe)}},j=async se=>{if(p(se),w([]),b({}),se&&c&&d)try{const pe=s.find(ie=>ie.id===c),X=pe==null?void 0:pe.worksheets.find(ie=>ie.id===d),le=X==null?void 0:X.tables.find(ie=>ie.id===se);if(le){if(c.startsWith("mock_")&&le.columns){const ie=le.columns.map(M=>M.name);w(ie);const ne={};ie.forEach((M,K)=>{const Z=I.find(ae=>ae.label.toLowerCase().includes(M.toLowerCase())||M.toLowerCase().includes(ae.label.toLowerCase()));Z&&(ne[M]=Z.key)}),b(ne)}else if(le.rows&&le.rows.length>0){const ie=le.rows[0];w(ie.values);const ne={};ie.values.forEach((M,K)=>{const Z=I.find(ae=>ae.label.toLowerCase().includes(M.toLowerCase())||M.toLowerCase().includes(ae.label.toLowerCase()));Z&&(ne[M]=Z.key)}),b(ne)}}}catch(pe){console.error("Erro ao processar tabela:",pe)}},O=(se,pe)=>{b(X=>({...X,[se]:pe}))},U=async(se,pe)=>{try{const X=["Cliente","Tipo","Shipper","POL","POD","ETD Origem","ETA Destino","Quant Box","N BL","Armador","Booking"];w(X);const le={};X.forEach(ie=>{const ne=I.find(M=>M.label.toLowerCase().includes(ie.toLowerCase())||ie.toLowerCase().includes(M.label.toLowerCase()));ne&&(le[ie]=ne.key)}),b(le),p("default_table")}catch(X){console.error("Erro ao criar estrutura padro:",X)}},T=()=>{if(!c||!d||!h){A("Por favor, selecione um workbook, planilha e tabela vlidos");return}if(!c.startsWith("mock_")&&y.length===0){A("Por favor, aguarde o carregamento dos cabealhos da tabela");return}r({workbookId:c,worksheetName:d,tableName:h,headers:y,mapping:x})},L=()=>{li.disconnect(),i(!1),l([]),u(""),f(""),p(""),w([]),b({})};return a?m.jsx("div",{className:"excel-config-overlay",children:m.jsx("div",{className:"excel-config-modal",children:m.jsxs("div",{className:"loading-container",children:[m.jsx("div",{className:"loading-spinner"}),m.jsx("p",{children:"Carregando configurao do Excel..."})]})})}):m.jsx("div",{className:"excel-config-overlay",children:m.jsxs("div",{className:"excel-config-modal",children:[m.jsxs("div",{className:"excel-config-header",children:[m.jsx("h2",{children:"Configurao do Excel Online"}),m.jsx("button",{className:"close-button",onClick:e,children:""})]}),m.jsx("div",{className:"excel-config-content",children:n?m.jsxs("div",{className:"config-section",children:[m.jsxs("div",{className:"config-step",children:[m.jsx("h3",{children:" Selecione sua Planilha de Envios"}),m.jsx("p",{className:"config-description",children:"Escolha o arquivo Excel que contm seus dados de envios. O sistema detectar automaticamente a estrutura da planilha."}),m.jsxs("select",{value:c,onChange:se=>D(se.target.value),className:"config-select large",children:[m.jsx("option",{value:"",children:"Selecione sua planilha..."}),s.map(se=>m.jsxs("option",{value:se.id,children:[" ",se.name]},se.id))]})]}),c&&m.jsxs("div",{className:"config-info",children:[m.jsxs("div",{className:"info-item",children:[m.jsx("span",{className:"info-label",children:" Arquivo:"}),m.jsx("span",{className:"info-value",children:(C=s.find(se=>se.id===c))==null?void 0:C.name})]}),d&&m.jsxs("div",{className:"info-item",children:[m.jsx("span",{className:"info-label",children:" Planilha:"}),m.jsx("span",{className:"info-value",children:((oe=(Y=s.find(se=>se.id===c))==null?void 0:Y.worksheets.find(se=>se.id===d))==null?void 0:oe.name)||"Detectada automaticamente"})]}),h&&m.jsxs("div",{className:"info-item",children:[m.jsx("span",{className:"info-label",children:" Tabela:"}),m.jsx("span",{className:"info-value",children:h==="default_table"?"Estrutura padro":"Detectada automaticamente"})]})]}),y.length>0&&m.jsxs("div",{className:"config-step",children:[m.jsx("h3",{children:" Mapeamento de Campos"}),m.jsx("p",{children:"Os campos foram mapeados automaticamente. Voc pode ajustar se necessrio:"}),m.jsx("div",{className:"mapping-container",children:y.map((se,pe)=>m.jsxs("div",{className:"mapping-row",children:[m.jsx("label",{className:"mapping-label",children:se}),m.jsxs("select",{value:x[se]||"",onChange:X=>O(se,X.target.value),className:"mapping-select",children:[m.jsx("option",{value:"",children:"-- No mapear --"}),I.map(X=>m.jsx("option",{value:X.key,children:X.label},X.key))]})]},pe))})]}),S&&m.jsx("div",{className:"error-message",children:S}),m.jsxs("div",{className:"config-actions",children:[m.jsx("button",{className:"disconnect-button",onClick:L,children:"Desconectar"}),m.jsx("button",{className:"save-button",onClick:T,disabled:!c||!d||!h,children:"Salvar Configurao"})]})]}):m.jsxs("div",{className:"auth-section",children:[m.jsxs("div",{className:"auth-info",children:[m.jsx("h3",{children:"Conectar com Microsoft Excel"}),m.jsx("p",{children:"Para usar o Excel como banco de dados vivo, voc precisa conectar sua conta Microsoft."}),m.jsxs("ul",{children:[m.jsx("li",{children:" Acesso em tempo real aos dados"}),m.jsx("li",{children:" Sincronizao automtica"}),m.jsx("li",{children:" Mapeamento inteligente de campos"})]})]}),m.jsx("button",{className:"auth-button",onClick:B,disabled:a,children:a?"Conectando...":"Conectar com Microsoft"})]})})]})})},mge=({config:r,onDataUpdate:e})=>{const[n,i]=P.useState(!1),[a,o]=P.useState(!1),[s,l]=P.useState(null),[c,u]=P.useState(""),[d,f]=P.useState(""),[h,p]=P.useState(!1),[y,w]=P.useState(null),[x,b]=P.useState([]),[S,A]=P.useState(!1),{addShipment:I}=Nh();P.useEffect(()=>(r&&B(),()=>{y&&clearInterval(y)}),[r]);const B=async()=>{if(r)try{r.tableName==="default_table"?await li.getWorksheetDataDirect(r.workbookId,r.worksheetName):await li.getTableRows(r.workbookId,r.worksheetName,r.tableName),i(!0),f("")}catch(C){console.error("Erro na verificao de conexo:",C),i(!1),f("Erro na conexo com Excel - arquivo no encontrado ou sem permisso")}},$=async()=>{if(!(!r||a)){o(!0),u("Sincronizando..."),f("");try{const C=await li.getShipmentsFromExcel(r);b(C),e(C),l(new Date),u(`Sincronizado com sucesso - ${C.length} registros`),i(!0)}catch(C){console.error("Erro na sincronizao:",C),f("Erro na sincronizao com Excel"),u("Erro na sincronizao"),i(!1)}finally{o(!1)}}},D=async()=>{if(x.length===0){f("Nenhum dado do Excel para salvar");return}A(!0),f("");let C=0,Y=0;try{for(const oe of x)try{if(!oe.cliente||!oe.numeroBl){console.warn("Shipment sem cliente ou nmero BL:",oe),Y++;continue}const se={cliente:oe.cliente||"",operador:oe.operador||"",shipper:oe.shipper||"",invoice:oe.invoice||"",pol:oe.pol||"",pod:oe.pod||"",etdOrigem:oe.etdOrigem||"",etaDestino:oe.etaDestino||"",currentLocation:oe.currentLocation||"",quantBox:oe.quantBox||0,status:oe.status||"pendente",numeroBl:oe.numeroBl||"",armador:oe.armador||"",booking:oe.booking||"",tipo:oe.tipo||"Martimo",observacoes:oe.observacoes||""};await I(se),C++}catch(se){console.error("Erro ao salvar shipment:",se),Y++}u(` Salvos com sucesso: ${C} registros${Y>0?` (${Y} erros)`:""}`),Y===0&&b([])}catch(oe){console.error("Erro ao salvar dados no banco:",oe),f("Erro ao salvar dados no banco de dados")}finally{A(!1)}},j=()=>{if(h)y&&(clearInterval(y),w(null)),p(!1),u("Sincronizao automtica desabilitada");else{const C=setInterval(()=>{$()},3e4);w(C),p(!0),u("Sincronizao automtica ativada (30s)"),$()}},O=async()=>{if(r)try{const C=`${window.location.origin}/api/excel/webhook`;await li.setupWebhook(r.workbookId,C),u("Webhook configurado para mudanas em tempo real")}catch(C){console.error("Erro ao configurar webhook:",C),f("Erro ao configurar webhook")}},U=async()=>{if(r)try{const C=await fetch(`/api/excel/data/${r.workbookId}/${r.worksheetName}/${r.tableName}`);if(C.ok){const Y=await C.json();Y.success&&Y.data&&(e(Y.data),l(new Date),u(`Dados atualizados do servidor - ${Y.data.length} registros`))}}catch(C){console.error("Erro ao buscar dados do servidor:",C)}},T=async()=>{try{await li.removeWebhook(),u("Webhook removido")}catch(C){console.error("Erro ao remover webhook:",C)}},L=()=>{localStorage.removeItem("excel_config"),u("Configurao invlida removida. Reconecte-se ao Excel."),f(""),i(!1)};return r?m.jsxs("div",{className:"excel-sync-container",children:[m.jsxs("div",{className:"excel-sync-header",children:[m.jsxs("div",{className:"excel-sync-title",children:[m.jsx("div",{className:"excel-icon",children:""}),m.jsx("h3",{children:"Sincronizao Excell"})]}),m.jsxs("div",{className:`connection-status ${n?"connected":"disconnected"}`,children:[m.jsx("div",{className:"status-dot"}),m.jsx("span",{children:n?"Conectado":"Desconectado"})]})]}),m.jsxs("div",{className:"excel-sync-info",children:[m.jsxs("div",{className:"sync-info-item",children:[m.jsx("span",{className:"info-label",children:" Arquivo:"}),m.jsx("span",{className:"info-value",children:r.workbookId})]}),m.jsxs("div",{className:"sync-info-item",children:[m.jsx("span",{className:"info-label",children:" Planilha:"}),m.jsx("span",{className:"info-value",children:r.worksheetName})]}),m.jsxs("div",{className:"sync-info-item",children:[m.jsx("span",{className:"info-label",children:" Tabela:"}),m.jsx("span",{className:"info-value",children:r.tableName})]}),s&&m.jsxs("div",{className:"sync-info-item",children:[m.jsx("span",{className:"info-label",children:" ltima sincronizao:"}),m.jsx("span",{className:"info-value",children:s.toLocaleString()})]})]}),c&&m.jsx("div",{className:`sync-status ${d?"error":"success"}`,children:c}),d&&m.jsx("div",{className:"error-message",children:d}),m.jsxs("div",{className:"excel-sync-actions",children:[m.jsx("button",{className:"sync-button primary",onClick:$,disabled:a||!n,children:a?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"loading-spinner"}),"Sincronizando..."]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:""}),"Sincronizar Agora"]})}),m.jsx("button",{className:"sync-button primary",onClick:D,disabled:S||x.length===0,title:x.length===0?"Sincronize primeiro para ter dados":"Salvar dados do Excel no banco de dados",children:S?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"loading-spinner"}),"Salvando..."]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:""}),"Salvar no BD (",x.length,")"]})}),m.jsxs("button",{className:`sync-button ${h?"active":"secondary"}`,onClick:j,disabled:a||!n,children:[m.jsx("span",{children:h?"":""}),h?"Parar Auto Sync":"Auto Sync"]}),m.jsxs("button",{className:"sync-button secondary",onClick:B,disabled:a,children:[m.jsx("span",{children:""}),"Verificar Conexo"]}),m.jsxs("button",{className:"sync-button secondary",onClick:U,disabled:a,children:[m.jsx("span",{children:""}),"Buscar do Servidor"]}),d&&d.includes("no encontrado")&&m.jsxs("button",{className:"sync-button danger",onClick:L,disabled:a,children:[m.jsx("span",{children:""}),"Reconectar Excel"]})]}),x.length>0&&m.jsxs("div",{className:"excel-data-display",children:[m.jsxs("h4",{children:[" Dados do Excel (",x.length," registros)"]}),m.jsx("div",{className:"excel-data-table-wrapper",children:m.jsxs("table",{className:"excel-data-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Cliente"}),m.jsx("th",{children:"Tipo"}),m.jsx("th",{children:"Shipper"}),m.jsx("th",{children:"POL"}),m.jsx("th",{children:"POD"}),m.jsx("th",{children:"ETD"}),m.jsx("th",{children:"ETA"}),m.jsx("th",{children:"Status"}),m.jsx("th",{children:"N BL"}),m.jsx("th",{children:"Armador"})]})}),m.jsx("tbody",{children:x.map((C,Y)=>{var oe;return m.jsxs("tr",{children:[m.jsx("td",{children:C.cliente||"-"}),m.jsx("td",{children:C.tipo||"-"}),m.jsx("td",{children:C.shipper||"-"}),m.jsx("td",{children:C.pol||"-"}),m.jsx("td",{children:C.pod||"-"}),m.jsx("td",{children:C.etdOrigem||"-"}),m.jsx("td",{children:C.etaDestino||"-"}),m.jsx("td",{children:m.jsx("span",{className:`status-badge status-${((oe=C.status)==null?void 0:oe.toLowerCase())||"pendente"}`,children:C.status||"Pendente"})}),m.jsx("td",{children:C.numeroBl||"-"}),m.jsx("td",{children:C.armador||"-"})]},Y)})})]})})]}),m.jsxs("div",{className:"excel-sync-advanced",children:[m.jsx("h4",{children:"Configuraes Avanadas"}),m.jsxs("div",{className:"advanced-actions",children:[m.jsxs("button",{className:"webhook-button",onClick:O,disabled:a,children:[m.jsx("span",{children:""}),"Configurar Webhook"]}),m.jsxs("button",{className:"webhook-button remove",onClick:T,disabled:a,children:[m.jsx("span",{children:""}),"Remover Webhook"]})]}),m.jsxs("div",{className:"webhook-info",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Webhook:"})," Recebe notificaes em tempo real quando o Excel  modificado"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Auto Sync:"})," Sincroniza automaticamente a cada 30 segundos"]})]})]}),m.jsxs("div",{className:"excel-sync-stats",children:[m.jsx("h4",{children:"Estatsticas"}),m.jsxs("div",{className:"stats-grid",children:[m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-value",children:r.headers.length}),m.jsx("div",{className:"stat-label",children:"Colunas Mapeadas"})]}),m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-value",children:Object.keys(r.mapping).length}),m.jsx("div",{className:"stat-label",children:"Campos Ativos"})]}),m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-value",children:h?"Ativo":"Inativo"}),m.jsx("div",{className:"stat-label",children:"Auto Sync"})]}),m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-value",children:x.length}),m.jsx("div",{className:"stat-label",children:"Registros Carregados"})]})]})]})]}):m.jsx("div",{className:"excel-sync-container",children:m.jsxs("div",{className:"excel-sync-placeholder",children:[m.jsx("div",{className:"excel-icon",children:""}),m.jsx("h3",{children:"Excel no configurado"}),m.jsx("p",{children:"Configure a integrao com Excel para sincronizao em tempo real"})]})})},uB=({shipments:r,onShipmentsUpdate:e})=>{const[n,i]=P.useState(!1),[a,o]=P.useState(null),[s,l]=P.useState(!1);P.useEffect(()=>{const h=localStorage.getItem("excel_config");if(h)try{const p=JSON.parse(h);o(p),l(!0),c(p)}catch(p){console.error("Erro ao carregar configurao do Excel:",p),localStorage.removeItem("excel_config")}},[]);const c=async h=>{try{h.tableName==="default_table"?await li.getWorksheetDataDirect(h.workbookId,h.worksheetName):await li.getTableRows(h.workbookId,h.worksheetName,h.tableName),console.log("Configurao Excel vlida")}catch(p){console.warn("Configurao Excel invlida detectada:",p),localStorage.removeItem("excel_config"),o(null),l(!1)}},u=h=>{o(h),l(!0),localStorage.setItem("excel_config",JSON.stringify(h)),i(!1)},d=()=>{o(null),l(!1),localStorage.removeItem("excel_config")},f=h=>{e(h)};return m.jsxs("div",{className:"excel-integration",children:[m.jsxs("div",{className:"excel-integration-header",children:[m.jsxs("div",{className:"excel-integration-title",children:[m.jsx("div",{className:"excel-icon",children:""}),m.jsx("h3",{children:"Integrao Excel Online"})]}),m.jsx("div",{className:"excel-integration-actions",children:s?m.jsxs("div",{className:"excel-actions-group",children:[m.jsxs("button",{className:"excel-button secondary",onClick:()=>i(!0),children:[m.jsx("span",{children:""}),"Configurar"]}),m.jsxs("button",{className:"excel-button danger",onClick:d,children:[m.jsx("span",{children:""}),"Desconectar"]})]}):m.jsxs("button",{className:"excel-button primary",onClick:()=>i(!0),children:[m.jsx("span",{children:""}),"Conectar Excel"]})})]}),s&&a&&m.jsxs("div",{className:"excel-integration-content",children:[m.jsx(mge,{config:a,onDataUpdate:f}),m.jsxs("div",{className:"excel-info",children:[m.jsx("h4",{children:"Como funciona:"}),m.jsxs("ul",{children:[m.jsxs("li",{children:[" ",m.jsx("strong",{children:"Sincronizao em tempo real:"})," Dados so atualizados automaticamente"]}),m.jsxs("li",{children:[" ",m.jsx("strong",{children:"Mapeamento inteligente:"})," Campos so mapeados automaticamente"]}),m.jsxs("li",{children:[" ",m.jsx("strong",{children:"Webhook:"})," Recebe notificaes quando Excel  modificado"]}),m.jsxs("li",{children:[" ",m.jsx("strong",{children:"Bidirecional:"})," Pode enviar e receber dados"]})]})]})]}),!s&&m.jsx("div",{className:"excel-integration-placeholder",children:m.jsxs("div",{className:"placeholder-content",children:[m.jsx("div",{className:"placeholder-icon",children:""}),m.jsx("h4",{children:"Use Excel como banco de dados vivo"}),m.jsx("p",{children:"Conecte sua planilha Excel Online para sincronizao em tempo real com o sistema."}),m.jsxs("div",{className:"placeholder-features",children:[m.jsxs("div",{className:"feature-item",children:[m.jsx("span",{className:"feature-icon",children:""}),m.jsx("span",{children:"Sincronizao automtica"})]}),m.jsxs("div",{className:"feature-item",children:[m.jsx("span",{className:"feature-icon",children:""}),m.jsx("span",{children:"Dados em tempo real"})]}),m.jsxs("div",{className:"feature-item",children:[m.jsx("span",{className:"feature-icon",children:""}),m.jsx("span",{children:"Integrao bidirecional"})]})]}),m.jsxs("button",{className:"excel-button primary large",onClick:()=>i(!0),children:[m.jsx("span",{children:""}),"Comear Integrao"]})]})}),n&&m.jsx(pge,{onConfigSaved:u,onClose:()=>i(!1)})]})},gge=()=>{const{isCollapsed:r}=P.useContext(ug),[e]=E6(),[n,i]=P.useState({status:"",filter:""}),[a,o]=P.useState([]),[s,l]=P.useState(!1);P.useEffect(()=>{const d=e.get("status")||"",f=e.get("filter")||"";i({status:d,filter:f})},[e]);const c=d=>{console.log("Envio atualizado na pgina de envios:",d),o(f=>f.map(h=>h.id===d.id?d:h))},u=d=>{console.log("Lista de envios atualizada via Excel:",d),o(d)};return m.jsxs("main",{className:"envios-container",children:[m.jsx(Zs,{}),m.jsxs("div",{className:`envios-content ${r?"navbar-collapsed":""}`,children:[m.jsxs("div",{className:"excel-controls",children:[m.jsxs("div",{className:"excel-controls-header",children:[m.jsx("h3",{children:" Integrao com Excel"}),m.jsx("button",{className:`excel-toggle-btn ${s?"active":""}`,onClick:()=>l(!s),children:s?"Ocultar Excel":"Mostrar Excel"})]}),s&&m.jsx(uB,{shipments:a,onShipmentsUpdate:u})]}),(n.status||n.filter)&&m.jsxs("div",{className:"active-filters",children:[m.jsx("h3",{children:"Filtros Ativos:"}),m.jsxs("div",{className:"filter-tags",children:[n.status&&m.jsxs("span",{className:"filter-tag",children:["Status: ",n.status==="em-transito"?"Em Trnsito":n.status==="concluido"?"Entregue":n.status==="documentacao"?"Pendente":n.status]}),n.filter==="this-month"&&m.jsx("span",{className:"filter-tag",children:"Este Ms"})]})]}),m.jsx(hge,{onShipmentUpdate:c,initialFilters:n,shipments:a})]}),m.jsx(cu,{})]})},vge=()=>{const[r,e]=P.useState(!1),[n,i]=P.useState(!1),a=async()=>{i(!0),setTimeout(()=>{e(!0),i(!1)},2e3)},o=()=>{e(!1)};return m.jsx("div",{className:"excel-test-container",children:m.jsxs("div",{className:"excel-test-card",children:[m.jsx("h2",{children:" Teste de Integrao Excel"}),m.jsx("p",{children:"Esta  uma verso de teste que simula a conexo com Excel sem precisar configurar Azure AD."}),r?m.jsxs("div",{className:"connection-section",children:[m.jsxs("div",{className:"status-indicator online",children:[m.jsx("span",{className:"status-dot"}),m.jsx("span",{children:"Conectado"})]}),m.jsxs("div",{className:"success-message",children:[m.jsx("h3",{children:" Conexo Estabelecida!"}),m.jsx("p",{children:"Integrao com Excel simulada com sucesso."})]}),m.jsxs("div",{className:"features-list",children:[m.jsx("h4",{children:" Funcionalidades Ativas:"}),m.jsxs("ul",{children:[m.jsx("li",{children:" Sincronizao automtica"}),m.jsx("li",{children:" Dados em tempo real"}),m.jsx("li",{children:" Integrao bidirecional"}),m.jsx("li",{children:" Mapeamento inteligente"})]})]}),m.jsx("button",{className:"disconnect-btn",onClick:o,children:" Desconectar"})]}):m.jsxs("div",{className:"connection-section",children:[m.jsxs("div",{className:"status-indicator offline",children:[m.jsx("span",{className:"status-dot"}),m.jsx("span",{children:"Desconectado"})]}),m.jsx("button",{className:"connect-btn",onClick:a,disabled:n,children:n?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"spinner"}),"Conectando..."]}):" Conectar Excel (Teste)"}),m.jsxs("div",{className:"info-box",children:[m.jsx("h4",{children:" Informaes:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Esta  uma simulao para teste"}),m.jsx("li",{children:"No requer configurao do Azure AD"}),m.jsx("li",{children:"Funciona com qualquer conta Microsoft"}),m.jsx("li",{children:"Dados so simulados localmente"})]})]})]}),m.jsxs("div",{className:"next-steps",children:[m.jsx("h4",{children:" Prximos Passos:"}),m.jsxs("ol",{children:[m.jsx("li",{children:"Para usar com dados reais, configure o Azure AD"}),m.jsx("li",{children:"Registre uma aplicao no Azure Portal"}),m.jsx("li",{children:"Configure as permisses necessrias"}),m.jsx("li",{children:"Atualize o Client ID no arquivo .env"})]})]})]})})},yge=()=>{const{translations:r}=Fo(),{shipments:e,setShipments:n}=Nh(),i=bu(),[a,o]=P.useState(!0),s=l=>{n(l)};return m.jsxs("main",{className:"excel-integration-page",children:[m.jsx(Zs,{}),m.jsxs("div",{className:"excel-integration-page-content",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("button",{className:"back-button",onClick:()=>i("/admin-dashboard"),children:" Voltar ao Dashboard"}),m.jsx("h1",{children:r.excelIntegration}),m.jsx("p",{children:r.useExcelAsDatabase}),m.jsxs("div",{className:"mode-toggle",children:[m.jsx("button",{className:`toggle-btn ${a?"active":""}`,onClick:()=>o(!0),children:" Modo Teste"}),m.jsx("button",{className:`toggle-btn ${a?"":"active"}`,onClick:()=>o(!1),children:" Modo Real"})]})]}),m.jsx("div",{className:"excel-integration-container",children:a?m.jsx(vge,{}):m.jsx(uB,{shipments:e,onShipmentsUpdate:s})})]}),m.jsx(cu,{})]})},wge=()=>{const{isAdmin:r,loading:e}=Mo();return e?m.jsx("div",{children:"Carregando..."}):r()?m.jsx(t9,{}):m.jsx(r9,{})};function dB(){const{language:r,setLanguage:e,translations:n}=Fo();return m.jsxs("div",{className:"language-switcher",children:[m.jsxs("p",{children:[n.selectLanguage,":"]}),m.jsxs("div",{className:"language-buttons",children:[m.jsx("button",{onClick:()=>e("pt"),className:r==="pt"?"active":"",children:"PT"}),m.jsx("button",{onClick:()=>e("en"),className:r==="en"?"active":"",children:"EN"}),m.jsx("button",{onClick:()=>e("es"),className:r==="es"?"active":"",children:"ES"})]})]})}var dr;(function(r){r.assertEqual=a=>{};function e(a){}r.assertIs=e;function n(a){throw new Error}r.assertNever=n,r.arrayToEnum=a=>{const o={};for(const s of a)o[s]=s;return o},r.getValidEnumValues=a=>{const o=r.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),s={};for(const l of o)s[l]=a[l];return r.objectValues(s)},r.objectValues=a=>r.objectKeys(a).map(function(o){return a[o]}),r.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&o.push(s);return o},r.find=(a,o)=>{for(const s of a)if(o(s))return s},r.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function i(a,o=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}r.joinValues=i,r.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(dr||(dr={}));var MI;(function(r){r.mergeShapes=(e,n)=>({...e,...n})})(MI||(MI={}));const et=dr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Tc=r=>{switch(typeof r){case"undefined":return et.undefined;case"string":return et.string;case"number":return Number.isNaN(r)?et.nan:et.number;case"boolean":return et.boolean;case"function":return et.function;case"bigint":return et.bigint;case"symbol":return et.symbol;case"object":return Array.isArray(r)?et.array:r===null?et.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?et.promise:typeof Map<"u"&&r instanceof Map?et.map:typeof Set<"u"&&r instanceof Set?et.set:typeof Date<"u"&&r instanceof Date?et.date:et.object;default:return et.unknown}},$e=dr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Kl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},i={_errors:[]},a=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)i._errors.push(n(s));else{let l=i,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(s))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),i}static assert(e){if(!(e instanceof Kl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const a of this.issues)if(a.path.length>0){const o=a.path[0];n[o]=n[o]||[],n[o].push(e(a))}else i.push(e(a));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Kl.create=r=>new Kl(r);const r_=(r,e)=>{let n;switch(r.code){case $e.invalid_type:r.received===et.undefined?n="Required":n=`Expected ${r.expected}, received ${r.received}`;break;case $e.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(r.expected,dr.jsonStringifyReplacer)}`;break;case $e.unrecognized_keys:n=`Unrecognized key(s) in object: ${dr.joinValues(r.keys,", ")}`;break;case $e.invalid_union:n="Invalid input";break;case $e.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${dr.joinValues(r.options)}`;break;case $e.invalid_enum_value:n=`Invalid enum value. Expected ${dr.joinValues(r.options)}, received '${r.received}'`;break;case $e.invalid_arguments:n="Invalid function arguments";break;case $e.invalid_return_type:n="Invalid function return type";break;case $e.invalid_date:n="Invalid date";break;case $e.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(n=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?n=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?n=`Invalid input: must end with "${r.validation.endsWith}"`:dr.assertNever(r.validation):r.validation!=="regex"?n=`Invalid ${r.validation}`:n="Invalid";break;case $e.too_small:r.type==="array"?n=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?n=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?n=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="bigint"?n=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?n=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:n="Invalid input";break;case $e.too_big:r.type==="array"?n=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?n=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?n=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?n=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?n=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:n="Invalid input";break;case $e.custom:n="Invalid input";break;case $e.invalid_intersection_types:n="Intersection results could not be merged";break;case $e.not_multiple_of:n=`Number must be a multiple of ${r.multipleOf}`;break;case $e.not_finite:n="Number must be finite";break;default:n=e.defaultError,dr.assertNever(r)}return{message:n}};let bge=r_;function xge(){return bge}const _ge=r=>{const{data:e,path:n,errorMaps:i,issueData:a}=r,o=[...n,...a.path||[]],s={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let l="";const c=i.filter(u=>!!u).slice().reverse();for(const u of c)l=u(s,{data:e,defaultError:l}).message;return{...a,path:o,message:l}};function qe(r,e){const n=xge(),i=_ge({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,n,n===r_?void 0:r_].filter(a=>!!a)});r.common.issues.push(i)}class so{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const a of n){if(a.status==="aborted")return Lt;a.status==="dirty"&&e.dirty(),i.push(a.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const a of n){const o=await a.key,s=await a.value;i.push({key:o,value:s})}return so.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const a of n){const{key:o,value:s}=a;if(o.status==="aborted"||s.status==="aborted")return Lt;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(i[o.value]=s.value)}return{status:e.value,value:i}}}const Lt=Object.freeze({status:"aborted"}),Rp=r=>({status:"dirty",value:r}),$o=r=>({status:"valid",value:r}),FI=r=>r.status==="aborted",BI=r=>r.status==="dirty",mh=r=>r.status==="valid",M0=r=>typeof Promise<"u"&&r instanceof Promise;var st;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(st||(st={}));class mu{constructor(e,n,i,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const UI=(r,e)=>{if(mh(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Kl(r.common.issues);return this._error=n,this._error}}};function Vt(r){if(!r)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:a}=r;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(s,l)=>{const{message:c}=r;return s.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??i??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:a}}class sr{get description(){return this._def.description}_getType(e){return Tc(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Tc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new so,ctx:{common:e.parent.common,data:e.data,parsedType:Tc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(M0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tc(e)},a=this._parseSync({data:e,path:i.path,parent:i});return UI(i,a)}"~validate"(e){var i,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tc(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return mh(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(a=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>mh(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tc(e)},a=this._parse({data:e,path:i.path,parent:i}),o=await(M0(a)?a:Promise.resolve(a));return UI(i,o)}refine(e,n){const i=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,o)=>{const s=e(a),l=()=>o.addIssue({code:$e.custom,...i(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(e,n){return this._refinement((i,a)=>e(i)?!0:(a.addIssue(typeof n=="function"?n(i,a):n),!1))}_refinement(e){return new vh({schema:this,typeName:Dt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return nu.create(this,this._def)}nullable(){return yh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gs.create(this)}promise(){return $0.create(this,this._def)}or(e){return B0.create([this,e],this._def)}and(e){return U0.create(this,e,this._def)}transform(e){return new vh({...Vt(this._def),schema:this,typeName:Dt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new i_({...Vt(this._def),innerType:this,defaultValue:n,typeName:Dt.ZodDefault})}brand(){return new Wge({typeName:Dt.ZodBranded,type:this,...Vt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new a_({...Vt(this._def),innerType:this,catchValue:n,typeName:Dt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return uk.create(this,e)}readonly(){return o_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Age=/^c[^\s-]{8,}$/i,Sge=/^[0-9a-z]+$/,Ege=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kge=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pge=/^[a-z0-9_-]{21}$/i,Nge=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Tge=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Cge=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ige="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Sb;const jge=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Oge=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Lge=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Dge=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Rge=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Mge=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Fge=new RegExp(`^${fB}$`);function hB(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);const n=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Bge(r){return new RegExp(`^${hB(r)}$`)}function Uge(r){let e=`${fB}T${hB(r)}`;const n=[];return n.push(r.local?"Z?":"Z"),r.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function $ge(r,e){return!!((e==="v4"||!e)&&jge.test(r)||(e==="v6"||!e)&&Lge.test(r))}function zge(r,e){if(!Nge.test(r))return!1;try{const[n]=r.split(".");if(!n)return!1;const i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(i));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function Vge(r,e){return!!((e==="v4"||!e)&&Oge.test(r)||(e==="v6"||!e)&&Dge.test(r))}class Bc extends sr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==et.string){const o=this._getOrReturnCtx(e);return qe(o,{code:$e.invalid_type,expected:et.string,received:o.parsedType}),Lt}const i=new so;let a;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,l=e.data.length<o.value;(s||l)&&(a=this._getOrReturnCtx(e,a),s?qe(a,{code:$e.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&qe(a,{code:$e.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")Cge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"email",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")Sb||(Sb=new RegExp(Ige,"u")),Sb.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"emoji",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")kge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"uuid",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")Pge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"nanoid",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")Age.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"cuid",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")Sge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"cuid2",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")Ege.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"ulid",code:$e.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),qe(a,{validation:"url",code:$e.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"regex",code:$e.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?Uge(o).test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?Fge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?Bge(o).test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?Tge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"duration",code:$e.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?$ge(e.data,o.version)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"ip",code:$e.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?zge(e.data,o.alg)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"jwt",code:$e.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?Vge(e.data,o.version)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"cidr",code:$e.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?Rge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"base64",code:$e.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?Mge.test(e.data)||(a=this._getOrReturnCtx(e,a),qe(a,{validation:"base64url",code:$e.invalid_string,message:o.message}),i.dirty()):dr.assertNever(o);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(a=>e.test(a),{validation:n,code:$e.invalid_string,...st.errToObj(i)})}_addCheck(e){return new Bc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...st.errToObj(e)})}url(e){return this._addCheck({kind:"url",...st.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...st.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...st.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...st.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...st.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...st.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...st.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...st.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...st.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...st.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...st.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...st.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...st.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...st.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...st.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...st.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...st.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...st.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...st.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...st.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...st.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...st.errToObj(n)})}nonempty(e){return this.min(1,st.errToObj(e))}trim(){return new Bc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Bc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Bc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Bc.create=r=>new Bc({checks:[],typeName:Dt.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...Vt(r)});function qge(r,e){const n=(r.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,a=n>i?n:i,o=Number.parseInt(r.toFixed(a).replace(".","")),s=Number.parseInt(e.toFixed(a).replace(".",""));return o%s/10**a}class Gm extends sr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==et.number){const o=this._getOrReturnCtx(e);return qe(o,{code:$e.invalid_type,expected:et.number,received:o.parsedType}),Lt}let i;const a=new so;for(const o of this._def.checks)o.kind==="int"?dr.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?qge(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.not_finite,message:o.message}),a.dirty()):dr.assertNever(o);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,st.toString(n))}gt(e,n){return this.setLimit("min",e,!1,st.toString(n))}lte(e,n){return this.setLimit("max",e,!0,st.toString(n))}lt(e,n){return this.setLimit("max",e,!1,st.toString(n))}setLimit(e,n,i,a){return new Gm({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:st.toString(a)}]})}_addCheck(e){return new Gm({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:st.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:st.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:st.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:st.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:st.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&dr.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Gm.create=r=>new Gm({checks:[],typeName:Dt.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Vt(r)});class Ym extends sr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==et.bigint)return this._getInvalidInput(e);let i;const a=new so;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),qe(i,{code:$e.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):dr.assertNever(o);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return qe(n,{code:$e.invalid_type,expected:et.bigint,received:n.parsedType}),Lt}gte(e,n){return this.setLimit("min",e,!0,st.toString(n))}gt(e,n){return this.setLimit("min",e,!1,st.toString(n))}lte(e,n){return this.setLimit("max",e,!0,st.toString(n))}lt(e,n){return this.setLimit("max",e,!1,st.toString(n))}setLimit(e,n,i,a){return new Ym({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:st.toString(a)}]})}_addCheck(e){return new Ym({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:st.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ym.create=r=>new Ym({checks:[],typeName:Dt.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...Vt(r)});class $I extends sr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==et.boolean){const i=this._getOrReturnCtx(e);return qe(i,{code:$e.invalid_type,expected:et.boolean,received:i.parsedType}),Lt}return $o(e.data)}}$I.create=r=>new $I({typeName:Dt.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Vt(r)});class F0 extends sr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==et.date){const o=this._getOrReturnCtx(e);return qe(o,{code:$e.invalid_type,expected:et.date,received:o.parsedType}),Lt}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return qe(o,{code:$e.invalid_date}),Lt}const i=new so;let a;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(a=this._getOrReturnCtx(e,a),qe(a,{code:$e.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):dr.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new F0({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:st.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:st.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}F0.create=r=>new F0({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:Dt.ZodDate,...Vt(r)});class zI extends sr{_parse(e){if(this._getType(e)!==et.symbol){const i=this._getOrReturnCtx(e);return qe(i,{code:$e.invalid_type,expected:et.symbol,received:i.parsedType}),Lt}return $o(e.data)}}zI.create=r=>new zI({typeName:Dt.ZodSymbol,...Vt(r)});class VI extends sr{_parse(e){if(this._getType(e)!==et.undefined){const i=this._getOrReturnCtx(e);return qe(i,{code:$e.invalid_type,expected:et.undefined,received:i.parsedType}),Lt}return $o(e.data)}}VI.create=r=>new VI({typeName:Dt.ZodUndefined,...Vt(r)});class qI extends sr{_parse(e){if(this._getType(e)!==et.null){const i=this._getOrReturnCtx(e);return qe(i,{code:$e.invalid_type,expected:et.null,received:i.parsedType}),Lt}return $o(e.data)}}qI.create=r=>new qI({typeName:Dt.ZodNull,...Vt(r)});class WI extends sr{constructor(){super(...arguments),this._any=!0}_parse(e){return $o(e.data)}}WI.create=r=>new WI({typeName:Dt.ZodAny,...Vt(r)});class HI extends sr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return $o(e.data)}}HI.create=r=>new HI({typeName:Dt.ZodUnknown,...Vt(r)});class gu extends sr{_parse(e){const n=this._getOrReturnCtx(e);return qe(n,{code:$e.invalid_type,expected:et.never,received:n.parsedType}),Lt}}gu.create=r=>new gu({typeName:Dt.ZodNever,...Vt(r)});class KI extends sr{_parse(e){if(this._getType(e)!==et.undefined){const i=this._getOrReturnCtx(e);return qe(i,{code:$e.invalid_type,expected:et.void,received:i.parsedType}),Lt}return $o(e.data)}}KI.create=r=>new KI({typeName:Dt.ZodVoid,...Vt(r)});class Gs extends sr{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),a=this._def;if(n.parsedType!==et.array)return qe(n,{code:$e.invalid_type,expected:et.array,received:n.parsedType}),Lt;if(a.exactLength!==null){const s=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(s||l)&&(qe(n,{code:s?$e.too_big:$e.too_small,minimum:l?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),i.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(qe(n,{code:$e.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),i.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(qe(n,{code:$e.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((s,l)=>a.type._parseAsync(new mu(n,s,n.path,l)))).then(s=>so.mergeArray(i,s));const o=[...n.data].map((s,l)=>a.type._parseSync(new mu(n,s,n.path,l)));return so.mergeArray(i,o)}get element(){return this._def.type}min(e,n){return new Gs({...this._def,minLength:{value:e,message:st.toString(n)}})}max(e,n){return new Gs({...this._def,maxLength:{value:e,message:st.toString(n)}})}length(e,n){return new Gs({...this._def,exactLength:{value:e,message:st.toString(n)}})}nonempty(e){return this.min(1,e)}}Gs.create=(r,e)=>new Gs({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Dt.ZodArray,...Vt(e)});function ff(r){if(r instanceof Fn){const e={};for(const n in r.shape){const i=r.shape[n];e[n]=nu.create(ff(i))}return new Fn({...r._def,shape:()=>e})}else return r instanceof Gs?new Gs({...r._def,type:ff(r.element)}):r instanceof nu?nu.create(ff(r.unwrap())):r instanceof yh?yh.create(ff(r.unwrap())):r instanceof Ld?Ld.create(r.items.map(e=>ff(e))):r}class Fn extends sr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=dr.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==et.object){const u=this._getOrReturnCtx(e);return qe(u,{code:$e.invalid_type,expected:et.object,received:u.parsedType}),Lt}const{status:i,ctx:a}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof gu&&this._def.unknownKeys==="strip"))for(const u in a.data)s.includes(u)||l.push(u);const c=[];for(const u of s){const d=o[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new mu(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof gu){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(qe(a,{code:$e.unrecognized_keys,keys:l}),i.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new mu(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>so.mergeObjectSync(i,u)):so.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return st.errToObj,new Fn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var o,s;const a=((s=(o=this._def).errorMap)==null?void 0:s.call(o,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:st.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Fn({...this._def,unknownKeys:"strip"})}passthrough(){return new Fn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Fn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Fn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Dt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Fn({...this._def,catchall:e})}pick(e){const n={};for(const i of dr.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new Fn({...this._def,shape:()=>n})}omit(e){const n={};for(const i of dr.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new Fn({...this._def,shape:()=>n})}deepPartial(){return ff(this)}partial(e){const n={};for(const i of dr.objectKeys(this.shape)){const a=this.shape[i];e&&!e[i]?n[i]=a:n[i]=a.optional()}return new Fn({...this._def,shape:()=>n})}required(e){const n={};for(const i of dr.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof nu;)o=o._def.innerType;n[i]=o}return new Fn({...this._def,shape:()=>n})}keyof(){return pB(dr.objectKeys(this.shape))}}Fn.create=(r,e)=>new Fn({shape:()=>r,unknownKeys:"strip",catchall:gu.create(),typeName:Dt.ZodObject,...Vt(e)});Fn.strictCreate=(r,e)=>new Fn({shape:()=>r,unknownKeys:"strict",catchall:gu.create(),typeName:Dt.ZodObject,...Vt(e)});Fn.lazycreate=(r,e)=>new Fn({shape:r,unknownKeys:"strip",catchall:gu.create(),typeName:Dt.ZodObject,...Vt(e)});class B0 extends sr{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function a(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const s=o.map(l=>new Kl(l.ctx.common.issues));return qe(n,{code:$e.invalid_union,unionErrors:s}),Lt}if(n.common.async)return Promise.all(i.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(a);{let o;const s=[];for(const c of i){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const l=s.map(c=>new Kl(c));return qe(n,{code:$e.invalid_union,unionErrors:l}),Lt}}get options(){return this._def.options}}B0.create=(r,e)=>new B0({options:r,typeName:Dt.ZodUnion,...Vt(e)});function n_(r,e){const n=Tc(r),i=Tc(e);if(r===e)return{valid:!0,data:r};if(n===et.object&&i===et.object){const a=dr.objectKeys(e),o=dr.objectKeys(r).filter(l=>a.indexOf(l)!==-1),s={...r,...e};for(const l of o){const c=n_(r[l],e[l]);if(!c.valid)return{valid:!1};s[l]=c.data}return{valid:!0,data:s}}else if(n===et.array&&i===et.array){if(r.length!==e.length)return{valid:!1};const a=[];for(let o=0;o<r.length;o++){const s=r[o],l=e[o],c=n_(s,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===et.date&&i===et.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class U0 extends sr{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),a=(o,s)=>{if(FI(o)||FI(s))return Lt;const l=n_(o.value,s.value);return l.valid?((BI(o)||BI(s))&&n.dirty(),{status:n.value,value:l.data}):(qe(i,{code:$e.invalid_intersection_types}),Lt)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,s])=>a(o,s)):a(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}U0.create=(r,e,n)=>new U0({left:r,right:e,typeName:Dt.ZodIntersection,...Vt(n)});class Ld extends sr{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==et.array)return qe(i,{code:$e.invalid_type,expected:et.array,received:i.parsedType}),Lt;if(i.data.length<this._def.items.length)return qe(i,{code:$e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Lt;!this._def.rest&&i.data.length>this._def.items.length&&(qe(i,{code:$e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...i.data].map((s,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new mu(i,s,i.path,l)):null}).filter(s=>!!s);return i.common.async?Promise.all(o).then(s=>so.mergeArray(n,s)):so.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Ld({...this._def,rest:e})}}Ld.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ld({items:r,typeName:Dt.ZodTuple,rest:null,...Vt(e)})};class GI extends sr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==et.map)return qe(i,{code:$e.invalid_type,expected:et.map,received:i.parsedType}),Lt;const a=this._def.keyType,o=this._def.valueType,s=[...i.data.entries()].map(([l,c],u)=>({key:a._parse(new mu(i,l,i.path,[u,"key"])),value:o._parse(new mu(i,c,i.path,[u,"value"]))}));if(i.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Lt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Lt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}GI.create=(r,e,n)=>new GI({valueType:e,keyType:r,typeName:Dt.ZodMap,...Vt(n)});class Qm extends sr{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==et.set)return qe(i,{code:$e.invalid_type,expected:et.set,received:i.parsedType}),Lt;const a=this._def;a.minSize!==null&&i.data.size<a.minSize.value&&(qe(i,{code:$e.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&i.data.size>a.maxSize.value&&(qe(i,{code:$e.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const o=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Lt;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...i.data.values()].map((c,u)=>o._parse(new mu(i,c,i.path,u)));return i.common.async?Promise.all(l).then(c=>s(c)):s(l)}min(e,n){return new Qm({...this._def,minSize:{value:e,message:st.toString(n)}})}max(e,n){return new Qm({...this._def,maxSize:{value:e,message:st.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Qm.create=(r,e)=>new Qm({valueType:r,minSize:null,maxSize:null,typeName:Dt.ZodSet,...Vt(e)});class YI extends sr{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}YI.create=(r,e)=>new YI({getter:r,typeName:Dt.ZodLazy,...Vt(e)});class QI extends sr{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return qe(n,{received:n.data,code:$e.invalid_literal,expected:this._def.value}),Lt}return{status:"valid",value:e.data}}get value(){return this._def.value}}QI.create=(r,e)=>new QI({value:r,typeName:Dt.ZodLiteral,...Vt(e)});function pB(r,e){return new gh({values:r,typeName:Dt.ZodEnum,...Vt(e)})}class gh extends sr{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return qe(n,{expected:dr.joinValues(i),received:n.parsedType,code:$e.invalid_type}),Lt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return qe(n,{received:n.data,code:$e.invalid_enum_value,options:i}),Lt}return $o(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return gh.create(e,{...this._def,...n})}exclude(e,n=this._def){return gh.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}gh.create=pB;class XI extends sr{_parse(e){const n=dr.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==et.string&&i.parsedType!==et.number){const a=dr.objectValues(n);return qe(i,{expected:dr.joinValues(a),received:i.parsedType,code:$e.invalid_type}),Lt}if(this._cache||(this._cache=new Set(dr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=dr.objectValues(n);return qe(i,{received:i.data,code:$e.invalid_enum_value,options:a}),Lt}return $o(e.data)}get enum(){return this._def.values}}XI.create=(r,e)=>new XI({values:r,typeName:Dt.ZodNativeEnum,...Vt(e)});class $0 extends sr{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==et.promise&&n.common.async===!1)return qe(n,{code:$e.invalid_type,expected:et.promise,received:n.parsedType}),Lt;const i=n.parsedType===et.promise?n.data:Promise.resolve(n.data);return $o(i.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}$0.create=(r,e)=>new $0({type:r,typeName:Dt.ZodPromise,...Vt(e)});class vh extends sr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Dt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),a=this._def.effect||null,o={addIssue:s=>{qe(i,s),s.fatal?n.abort():n.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const s=a.transform(i.data,o);if(i.common.async)return Promise.resolve(s).then(async l=>{if(n.value==="aborted")return Lt;const c=await this._def.schema._parseAsync({data:l,path:i.path,parent:i});return c.status==="aborted"?Lt:c.status==="dirty"||n.value==="dirty"?Rp(c.value):c});{if(n.value==="aborted")return Lt;const l=this._def.schema._parseSync({data:s,path:i.path,parent:i});return l.status==="aborted"?Lt:l.status==="dirty"||n.value==="dirty"?Rp(l.value):l}}if(a.type==="refinement"){const s=l=>{const c=a.refinement(l,o);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?Lt:(l.status==="dirty"&&n.dirty(),s(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>l.status==="aborted"?Lt:(l.status==="dirty"&&n.dirty(),s(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(i.common.async===!1){const s=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!mh(s))return Lt;const l=a.transform(s.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(s=>mh(s)?Promise.resolve(a.transform(s.value,o)).then(l=>({status:n.value,value:l})):Lt);dr.assertNever(a)}}vh.create=(r,e,n)=>new vh({schema:r,typeName:Dt.ZodEffects,effect:e,...Vt(n)});vh.createWithPreprocess=(r,e,n)=>new vh({schema:e,effect:{type:"preprocess",transform:r},typeName:Dt.ZodEffects,...Vt(n)});class nu extends sr{_parse(e){return this._getType(e)===et.undefined?$o(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nu.create=(r,e)=>new nu({innerType:r,typeName:Dt.ZodOptional,...Vt(e)});class yh extends sr{_parse(e){return this._getType(e)===et.null?$o(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yh.create=(r,e)=>new yh({innerType:r,typeName:Dt.ZodNullable,...Vt(e)});class i_ extends sr{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===et.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}i_.create=(r,e)=>new i_({innerType:r,typeName:Dt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Vt(e)});class a_ extends sr{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return M0(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Kl(i.common.issues)},input:i.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Kl(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}a_.create=(r,e)=>new a_({innerType:r,typeName:Dt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Vt(e)});class ZI extends sr{_parse(e){if(this._getType(e)!==et.nan){const i=this._getOrReturnCtx(e);return qe(i,{code:$e.invalid_type,expected:et.nan,received:i.parsedType}),Lt}return{status:"valid",value:e.data}}}ZI.create=r=>new ZI({typeName:Dt.ZodNaN,...Vt(r)});class Wge extends sr{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class uk extends sr{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Lt:o.status==="dirty"?(n.dirty(),Rp(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const a=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Lt:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:i.path,parent:i})}}static create(e,n){return new uk({in:e,out:n,typeName:Dt.ZodPipeline})}}class o_ extends sr{_parse(e){const n=this._def.innerType._parse(e),i=a=>(mh(a)&&(a.value=Object.freeze(a.value)),a);return M0(n)?n.then(a=>i(a)):i(n)}unwrap(){return this._def.innerType}}o_.create=(r,e)=>new o_({innerType:r,typeName:Dt.ZodReadonly,...Vt(e)});var Dt;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Dt||(Dt={}));const Nf=Bc.create;gu.create;Gs.create;const mB=Fn.create;B0.create;U0.create;Ld.create;gh.create;$0.create;nu.create;yh.create;const Hge=r=>mB({email:Nf().email(r.emailError),password:Nf().nonempty(r.passwordError)}),Kge="/assets/logo-CFLHzZDJ.png";function Gge(){const[r,e]=P.useState({email:"",password:""}),[n,i]=P.useState({}),[a,o]=P.useState(!1),{translations:s}=Fo(),{login:l}=Mo(),c=bu(),u=P.useMemo(()=>Hge(s),[s]),d=async f=>{var p,y;if(f.preventDefault(),a)return;const h=u.safeParse(r);if(!h.success){const w=h.error.format();i({email:(p=w.email)==null?void 0:p._errors[0],password:(y=w.password)==null?void 0:y._errors[0]});return}i({}),o(!0);try{await l(r.email,r.password),console.log("Usuario logado com sucesso"),c("/home")}catch(w){console.error("Erro ao logar:",w);const x=w instanceof Error?w.message:"Erro ao fazer login. Verifique suas credenciais.";alert(x)}finally{o(!1)}};return m.jsxs("div",{className:"login-form-container",children:[m.jsx("h1",{className:"welcome-title",children:s.welcomeTo}),m.jsx("div",{className:"logo-container",children:m.jsx("img",{src:Kge,alt:"Sea Logistics Logo",className:"logo-image"})}),m.jsxs("form",{onSubmit:d,className:"login-form",noValidate:!0,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:s.email}),m.jsx("input",{id:"email",value:r.email,onChange:f=>e({...r,email:f.target.value}),placeholder:s.emailPlaceholder,required:!0,disabled:a}),n.email&&m.jsx("p",{className:"error-text",children:n.email})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"password",children:s.password}),m.jsx("input",{type:"password",id:"password",value:r.password,onChange:f=>e({...r,password:f.target.value}),placeholder:s.passwordPlaceholder,required:!0,disabled:a}),n.password&&m.jsx("p",{className:"error-text",children:n.password})]}),m.jsx("button",{type:"submit",className:"login-button",disabled:a,children:a?"Entrando...":s.loginButton})]}),m.jsxs("div",{className:"register-link",children:[s.dontHaveAccount,m.jsxs("a",{className:"register-link-button",onClick:()=>!a&&c("/register"),children:[" ",s.registerLink]})]})]})}const Yge=()=>m.jsx("main",{className:"login-container",children:m.jsxs("div",{className:"login-card",children:[m.jsx(Gge,{}),m.jsx(dB,{})]})}),Qge=()=>{const r=bu(),{addShipment:e}=Nh(),{isAdmin:n}=Mo(),{isCollapsed:i}=P.useContext(ug),{translations:a}=Fo();P.useEffect(()=>{n()||(alert("Acesso negado. Apenas administradores podem criar novos shipments."),r("/home"))},[n,r]);const[o,s]=P.useState({clienteId:"",operador:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",quantBox:1,status:"agendado",numeroBl:"",armador:"",booking:"",invoice:"",tipo:"",shipper:""}),[l,c]=P.useState([]),[u,d]=P.useState([]),[f,h]=P.useState(!1),[p,y]=P.useState(!1),[w,x]=P.useState(!1);P.useEffect(()=>{o.tipo&&s($=>({...$,pol:"",pod:""}))},[o.tipo]),P.useEffect(()=>{(async()=>{h(!0);try{const D=Ed(Ea(Jt,"users"),Zc("role","!=","admin")),O=(await qs(D)).docs.map(U=>{const T=U.data();return{id:U.id,nome:T.displayName||T.name||"Usurio",empresa:T.companyName||"-",email:T.email||"-",companyId:T.companyId||void 0}});c(O)}catch(D){console.error("Erro ao buscar clientes:",D),c([])}finally{h(!1)}})()},[]),P.useEffect(()=>{(async()=>{y(!0);try{const D=Ed(Ea(Jt,"users"),Zc("role","==","admin"),Zc("isActive","==",!0)),O=(await qs(D)).docs.map(U=>{const T=U.data();return{id:U.id,nome:T.displayName||T.name||"Admin",email:T.email||""}});d(O)}catch(D){console.error("Erro ao buscar operadores:",D),d([])}finally{y(!1)}})()},[]);const b=["Santos, Brasil","Itaja, Brasil","Paranagu, Brasil","Rio Grande, Brasil","Suape, Brasil","Rotterdam, Holanda","Hamburgo, Alemanha","Barcelona, Espanha","Xangai, China","Singapura","Los Angeles, EUA","Nova York, EUA"],S=["Guarulhos (GRU), So Paulo, Brasil","Galeo (GIG), Rio de Janeiro, Brasil","Braslia (BSB), Brasil","Miami (MIA), EUA","JFK (JFK), Nova York, EUA","Heathrow (LHR), Londres, Reino Unido","Charles de Gaulle (CDG), Paris, Frana","Frankfurt (FRA), Alemanha","Dubai (DXB), Emirados rabes","Hong Kong (HKG), China","Narita (NRT), Tquio, Japo"],A=["So Paulo, Brasil","Rio de Janeiro, Brasil","Braslia, Brasil","Curitiba, Brasil","Porto Alegre, Brasil","Belo Horizonte, Brasil","Salvador, Brasil","Recife, Brasil","Fortaleza, Brasil","Manaus, Brasil","Miami, EUA","Nova York, EUA","Los Angeles, EUA","Londres, Reino Unido","Paris, Frana","Berlim, Alemanha","Madri, Espanha","Roma, Itlia","Amsterd, Holanda","Bruxelas, Blgica"],I=$=>{const{name:D,value:j}=$.target;s(O=>({...O,[D]:D==="quantBox"?Number.parseInt(j):j}))},B=async $=>{if($.preventDefault(),!n()){alert("Erro: Voc no tem permisso para criar shipments.");return}x(!0);try{const D=l.find(O=>O.id===o.clienteId);if(!D){alert(a.pleaseSelectValidClient),x(!1);return}const j={cliente:D.empresa,operador:o.operador,pol:o.pol,pod:o.pod,etdOrigem:o.etdOrigem,etaDestino:o.etaDestino,currentLocation:o.pol,quantBox:o.quantBox,status:o.status,numeroBl:o.numeroBl,armador:o.armador,booking:o.booking,companyId:D.companyId,invoice:o.invoice,shipper:"",tipo:o.tipo};await e(j),alert("Envio registrado com sucesso!"),s({clienteId:"",operador:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",quantBox:1,status:"agendado",numeroBl:"",armador:"",booking:"",invoice:"",tipo:"",shipper:""}),r("/home")}catch(D){console.error("Erro ao criar shipment:",D),alert("Erro ao criar shipment. Tente novamente.")}finally{x(!1)}};return l.find($=>$.id===o.clienteId),n()?m.jsxs("main",{className:"novo-envio-container",children:[m.jsx(Zs,{}),m.jsxs("div",{className:`novo-envio-content ${i?"navbar-collapsed":""}`,children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{children:a.newShipmentTitle}),m.jsx("p",{children:"Preencha as informaes para criar um novo envio"})]}),m.jsxs("div",{className:"form-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx(Hs,{size:20}),m.jsx("h2",{children:"Tipo de Envio"})]}),m.jsx("div",{className:"form-row",children:m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:"tipo",children:[m.jsx(Hs,{size:16,style:{marginRight:"8px",verticalAlign:"middle"}}),"Tipo de Transporte *"]}),m.jsxs("select",{id:"tipo",name:"tipo",value:o.tipo,onChange:I,required:!0,children:[m.jsx("option",{value:"",children:"Selecione o tipo de transporte"}),m.jsx("option",{value:"Martimo",children:"Martimo"}),m.jsx("option",{value:"Areo",children:"Areo"}),m.jsx("option",{value:"Terrestre",children:"Terrestre"})]})]})})]}),m.jsx("div",{className:"form-container",children:m.jsxs("form",{onSubmit:B,className:"novo-envio-form",children:[m.jsxs("div",{className:"form-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx(GA,{size:20}),m.jsx("h2",{children:"Cliente e Operador"})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"clienteId",children:"Cliente *"}),m.jsxs("select",{id:"clienteId",name:"clienteId",value:o.clienteId,onChange:I,required:!0,disabled:f,children:[m.jsx("option",{value:"",children:f?a.loading:a.selectClient}),l.map($=>m.jsxs("option",{value:$.id,children:[$.nome," - ",$.empresa]},$.id))]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"operador",children:"Operador *"}),m.jsxs("select",{id:"operador",name:"operador",value:o.operador,onChange:I,required:!0,disabled:p,children:[m.jsx("option",{value:"",children:p?a.loading:a.selectOperator}),u.map($=>m.jsx("option",{value:$.id,children:$.nome},$.id))]})]})]})]}),m.jsxs("div",{className:"form-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx(HA,{size:20}),m.jsx("h2",{children:"Rota"})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:"pol",children:[o.tipo==="Areo"?"Aeroporto de Origem":o.tipo==="Terrestre"?"Local de Origem":"Porto de Origem"," (POL) *"]}),m.jsxs("select",{id:"pol",name:"pol",value:o.pol,onChange:I,required:!0,children:[m.jsx("option",{value:"",children:o.tipo==="Areo"?"Selecione o aeroporto de origem":o.tipo==="Terrestre"?"Selecione o local de origem":"Selecione o porto de origem"}),o.tipo==="Areo"?S.map($=>m.jsx("option",{value:$,children:$},$)):o.tipo==="Terrestre"?A.map($=>m.jsx("option",{value:$,children:$},$)):b.map($=>m.jsx("option",{value:$,children:$},$))]})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:"pod",children:[o.tipo==="Areo"?"Aeroporto de Destino":o.tipo==="Terrestre"?"Local de Destino":"Porto de Destino"," (POD) *"]}),m.jsxs("select",{id:"pod",name:"pod",value:o.pod,onChange:I,required:!0,children:[m.jsx("option",{value:"",children:o.tipo==="Areo"?"Selecione o aeroporto de destino":o.tipo==="Terrestre"?"Selecione o local de destino":"Selecione o porto de destino"}),o.tipo==="Areo"?S.map($=>m.jsx("option",{value:$,children:$},$)):o.tipo==="Terrestre"?A.map($=>m.jsx("option",{value:$,children:$},$)):b.map($=>m.jsx("option",{value:$,children:$},$))]})]})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"etdOrigem",children:"Data de Partida (ETD) *"}),m.jsx("input",{type:"date",id:"etdOrigem",name:"etdOrigem",value:o.etdOrigem,onChange:I,required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"etaDestino",children:"Data Prevista Chegada (ETA) *"}),m.jsx("input",{type:"date",id:"etaDestino",name:"etaDestino",value:o.etaDestino,onChange:I,required:!0})]})]})]}),m.jsxs("div",{className:"form-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx(Ws,{size:20}),m.jsx("h2",{children:"Documentao"})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"numeroBl",children:"Nmero do BL *"}),m.jsx("input",{type:"text",id:"numeroBl",name:"numeroBl",value:o.numeroBl,onChange:I,placeholder:"Ex: BL123456789",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"booking",children:"Nmero do Booking *"}),m.jsx("input",{type:"text",id:"booking",name:"booking",value:o.booking,onChange:I,placeholder:"Ex: BK987654321",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"invoice",children:"Nmero do Invoice *"}),m.jsx("input",{type:"text",id:"invoice",name:"invoice",value:o.invoice,onChange:I,placeholder:"Ex: INV123456789",required:!0})]})]})]}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>window.history.back(),children:a.cancel}),m.jsx("button",{type:"submit",className:"btn-submit",disabled:w,children:w?"Registrando...":a.newShipmentTitle})]})]})})]})]}):m.jsxs("main",{className:"novo-envio-main",children:[m.jsx(Zs,{}),m.jsx("div",{className:`novo-envio-content ${i?"navbar-collapsed":""}`,children:m.jsx("div",{className:"novo-envio-container",children:m.jsxs("div",{className:"access-denied",children:[m.jsx("h2",{children:"Acesso Negado"}),m.jsx("p",{children:"Apenas administradores podem criar novos shipments."})]})})})]})},Xge=r=>mB({name:Nf().nonempty(r.nameError),email:Nf().email(r.emailError),password:Nf().min(6,r.passwordError),confirmPassword:Nf().min(6,r.confirmPasswordError)}).refine(e=>e.password===e.confirmPassword,{message:r.passwordsDontMatch,path:["confirmPassword"]});function Zge(){const[r,e]=P.useState({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:gr.COMPANY_USER}),[n,i]=P.useState({}),[a,o]=P.useState(!1),{translations:s}=Fo(),l=bu(),c=P.useMemo(()=>Xge(s),[s]),u=async(f,h)=>{try{const p=Ed(Ea(Jt,"companies"),Zc("code","==",h)),y=await qs(p);if(y.empty){const w=`company_${Date.now()}`;return await jm(yn(Jt,"companies",w),{id:w,name:f,code:h,contactEmail:r.email,isActive:!0,createdAt:new Date}),w}else return y.docs[0].id}catch(p){throw console.error("Error finding/creating company:",p),p}},d=async f=>{var I,B,$,D;f.preventDefault();const{name:h,email:p,password:y,confirmPassword:w,companyName:x,companyCode:b,role:S}=r;if(console.log(r),y!==w){alert("As senhas no coincidem.");return}if(S===gr.COMPANY_USER&&(!x||!b)){alert("Nome da empresa e cdigo so obrigatrios para usurios de empresa.");return}const A=c.safeParse(r);if(!A.success){const j=A.error.format();i({name:(I=j.name)==null?void 0:I._errors[0],email:(B=j.email)==null?void 0:B._errors[0],password:($=j.password)==null?void 0:$._errors[0],confirmPassword:(D=j.confirmPassword)==null?void 0:D._errors[0]});return}i({});try{const j=`user_${Date.now()}`;let O;S===gr.COMPANY_USER&&x&&b&&(O=await u(x,b));const U={uid:j,displayName:h??"",email:p,role:S,isActive:!0,createdAt:new Date},T=S===gr.COMPANY_USER?{...U,companyId:O,companyName:x}:U;await jm(yn(Jt,"users",j),T),localStorage.setItem("currentUser",JSON.stringify({email:p,name:h??"Usurio",id:j,role:S})),console.log("Usurio cadastrado com sucesso"),l("/home")}catch(j){console.error("Erro ao cadastrar:",j),alert("Erro ao cadastrar. Verifique os dados e tente novamente.")}};return m.jsxs("div",{className:"split-card",children:[m.jsx("div",{className:"split-branding",children:m.jsxs("div",{className:"split-branding-content",children:[m.jsx("h1",{className:"split-welcome-title",children:s.welcomeTo}),m.jsx("div",{className:"split-logo",children:m.jsx("img",{src:JF,alt:"Sea Logistics Logo",className:"split-logo-image"})}),m.jsx("p",{className:"split-description",children:s.registerText})]})}),m.jsxs("div",{className:"split-form-container",children:[m.jsx("h2",{className:"split-title",children:s.createAccount}),m.jsxs("div",{className:"split-form-group",children:[m.jsx("label",{children:"Tipo de Usurio"}),m.jsxs("div",{className:"user-type-selector",children:[m.jsxs("label",{className:"radio-option",children:[m.jsx("input",{type:"radio",name:"userType",checked:!a,onChange:()=>{o(!1),e({...r,role:gr.COMPANY_USER})}}),"Usurio de Empresa"]}),m.jsxs("label",{className:"radio-option",children:[m.jsx("input",{type:"radio",name:"userType",checked:a,onChange:()=>{o(!0),e({...r,role:gr.ADMIN})}}),"Administrador"]})]})]}),m.jsxs("form",{onSubmit:d,className:"split-form",noValidate:!0,children:[m.jsxs("div",{className:"split-form-group",children:[m.jsx("label",{htmlFor:"name",children:s.name}),m.jsx("input",{id:"name",value:r.name,onChange:f=>e({...r,name:f.target.value}),placeholder:s.namePlaceholder,required:!0}),n.name&&m.jsx("p",{className:"error-text",children:n.name})]}),m.jsxs("div",{className:"split-form-group",children:[m.jsx("label",{htmlFor:"email",children:s.email}),m.jsx("input",{id:"email",type:"email",value:r.email,onChange:f=>e({...r,email:f.target.value}),placeholder:s.emailPlaceholder,required:!0}),n.email&&m.jsx("p",{className:"error-text",children:n.email})]}),!a&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"split-form-group",children:[m.jsx("label",{htmlFor:"companyName",children:"Nome da Empresa"}),m.jsx("input",{id:"companyName",value:r.companyName,onChange:f=>e({...r,companyName:f.target.value}),placeholder:"Digite o nome da sua empresa",required:!a}),n.companyName&&m.jsx("p",{className:"error-text",children:n.companyName})]}),m.jsxs("div",{className:"split-form-group",children:[m.jsx("label",{htmlFor:"companyCode",children:"Cdigo da Empresa"}),m.jsx("input",{id:"companyCode",value:r.companyCode,onChange:f=>e({...r,companyCode:f.target.value.toUpperCase()}),placeholder:"Ex: LOG001",required:!a}),m.jsx("small",{children:"Cdigo nico para identificar sua empresa"}),n.companyCode&&m.jsx("p",{className:"error-text",children:n.companyCode})]})]}),m.jsxs("div",{className:"split-password-grid",children:[m.jsxs("div",{className:"split-form-group",children:[m.jsx("label",{htmlFor:"password",children:s.password}),m.jsx("input",{id:"password",type:"password",value:r.password,onChange:f=>e({...r,password:f.target.value}),placeholder:s.passwordPlaceholder,required:!0}),n.password&&m.jsx("p",{className:"error-text",children:n.password})]}),m.jsxs("div",{className:"split-form-group",children:[m.jsx("label",{htmlFor:"confirm-password",children:s.confirmPassword}),m.jsx("input",{id:"confirm-password",type:"password",value:r.confirmPassword,onChange:f=>e({...r,confirmPassword:f.target.value}),placeholder:s.confirmPasswordPlaceholder,required:!0}),n.confirmPassword&&m.jsx("p",{className:"error-text",children:n.confirmPassword})]})]}),m.jsx("button",{type:"submit",className:"split-button",children:s.registerButton})]}),m.jsxs("div",{className:"split-login-link",children:[s.alreadyHaveAccount," ",m.jsx("a",{onClick:()=>l("/"),className:"split-link",children:s.loginLink})]}),m.jsx(dB,{})]})]})}const Jge=()=>m.jsx("main",{className:"login-container",children:m.jsx(Zge,{})}),eve=()=>{const{isCollapsed:r}=P.useContext(ug),n=(()=>{const y=localStorage.getItem("currentUser");return y?JSON.parse(y):{id:"demo-user-123",email:"demo@sealogistics.com",name:"Usurio Demo"}})(),i=n.id,[a,o]=P.useState({name:"",email:"",phone:"",company:"",position:"",notifications:{email:!0,push:!0,statusUpdates:!0,newShipments:!0},preferences:{language:"pt",timezone:"America/Sao_Paulo",dateFormat:"DD/MM/YYYY",theme:"light"}}),[s,l]=P.useState(!1),[c,u]=P.useState(!1);P.useEffect(()=>{d()},[]);const d=async()=>{l(!0);try{const y=await Jc(yn(Jt,"users",i));if(y.exists()){const w=y.data();o({name:w.name||n.name||"",email:w.email||n.email||"",phone:w.phone||"",company:w.company||"",position:w.position||"",notifications:w.notifications||a.notifications,preferences:w.preferences||a.preferences})}else{const w={name:n.name||"Usurio Demo",email:n.email||"demo@sealogistics.com",phone:"",company:"",position:"",notifications:a.notifications,preferences:a.preferences,createdAt:new Date};await eu(yn(Jt,"users",i),w),o(x=>({...x,...w}))}}catch(y){console.error("Erro ao carregar configuraes:",y);try{const w={name:n.name||"Usurio Demo",email:n.email||"demo@sealogistics.com",phone:"",company:"",position:"",notifications:a.notifications,preferences:a.preferences,createdAt:new Date};await eu(yn(Jt,"users",i),w),o(x=>({...x,...w}))}catch(w){console.error("Erro ao criar documento do usurio:",w)}}finally{l(!1)}},f=(y,w)=>{o(x=>({...x,[y]:w}))},h=(y,w,x)=>{o(b=>({...b,[y]:{...b[y],[w]:x}}))},p=async()=>{u(!0);try{await eu(yn(Jt,"users",i),{name:a.name,email:a.email,phone:a.phone,company:a.company,position:a.position,notifications:a.notifications,preferences:a.preferences,updatedAt:new Date}),alert("Configuraes salvas com sucesso!")}catch(y){console.error("Erro ao salvar configuraes:",y),alert("Erro ao salvar configuraes. Tente novamente.")}finally{u(!1)}};return s?m.jsx(qx,{children:m.jsxs("main",{className:"settings-container",children:[m.jsx(Zs,{}),m.jsx("div",{className:`settings-content ${r?"navbar-collapsed":""}`,children:m.jsx("div",{className:"loading-message",children:"Carregando configuraes..."})}),m.jsx(cu,{})]})}):m.jsx(qx,{children:m.jsxs("main",{className:"settings-container",children:[m.jsx(Zs,{}),m.jsx("div",{className:`settings-content ${r?"navbar-collapsed":""}`,children:m.jsxs("div",{className:"settings-wrapper",children:[m.jsxs("div",{className:"settings-header",children:[m.jsx("h1",{children:"Configuraes da conta"}),m.jsx("p",{children:"Gerencie suas informaes pessoais e preferncias"})]}),m.jsxs("div",{className:"settings-sections",children:[m.jsxs("div",{className:"settings-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx(GA,{size:20}),m.jsx("h2",{children:"Informaes Pessoais"})]}),m.jsxs("div",{className:"form-grid",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"name",children:"Nome Completo"}),m.jsx("input",{type:"text",id:"name",value:a.name,onChange:y=>f("name",y.target.value),placeholder:"Digite seu nome completo"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"E-mail"}),m.jsx("input",{type:"email",id:"email",value:a.email,onChange:y=>f("email",y.target.value),placeholder:"seu@email.com"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"phone",children:"Telefone"}),m.jsx("input",{type:"tel",id:"phone",value:a.phone,onChange:y=>f("phone",y.target.value),placeholder:"(11) 99999-9999"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"company",children:"Empresa"}),m.jsx("input",{type:"text",id:"company",value:a.company,onChange:y=>f("company",y.target.value),placeholder:"Nome da empresa"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"position",children:"Cargo"}),m.jsx("input",{type:"text",id:"position",value:a.position,onChange:y=>f("position",y.target.value),placeholder:"Seu cargo na empresa"})]})]})]}),m.jsxs("div",{className:"settings-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx(_Y,{size:20}),m.jsx("h2",{children:"Notificaes"})]}),m.jsxs("div",{className:"notification-settings",children:[m.jsxs("div",{className:"notification-item",children:[m.jsxs("div",{className:"notification-info",children:[m.jsx("h3",{children:"Notificaes por E-mail"}),m.jsx("p",{children:"Receba atualizaes importantes por e-mail"})]}),m.jsxs("label",{className:"switch",children:[m.jsx("input",{type:"checkbox",checked:a.notifications.email,onChange:y=>h("notifications","email",y.target.checked)}),m.jsx("span",{className:"slider"})]})]}),m.jsxs("div",{className:"notification-item",children:[m.jsxs("div",{className:"notification-info",children:[m.jsx("h3",{children:"Notificaes Push"}),m.jsx("p",{children:"Receba notificaes em tempo real no navegador"})]}),m.jsxs("label",{className:"switch",children:[m.jsx("input",{type:"checkbox",checked:a.notifications.push,onChange:y=>h("notifications","push",y.target.checked)}),m.jsx("span",{className:"slider"})]})]}),m.jsxs("div",{className:"notification-item",children:[m.jsxs("div",{className:"notification-info",children:[m.jsx("h3",{children:"Atualizaes de Status"}),m.jsx("p",{children:"Seja notificado quando o status dos envios mudar"})]}),m.jsxs("label",{className:"switch",children:[m.jsx("input",{type:"checkbox",checked:a.notifications.statusUpdates,onChange:y=>h("notifications","statusUpdates",y.target.checked)}),m.jsx("span",{className:"slider"})]})]}),m.jsxs("div",{className:"notification-item",children:[m.jsxs("div",{className:"notification-info",children:[m.jsx("h3",{children:"Novos Envios"}),m.jsx("p",{children:"Receba notificaes sobre novos envios criados"})]}),m.jsxs("label",{className:"switch",children:[m.jsx("input",{type:"checkbox",checked:a.notifications.newShipments,onChange:y=>h("notifications","newShipments",y.target.checked)}),m.jsx("span",{className:"slider"})]})]})]})]}),m.jsxs("div",{className:"settings-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx(CY,{size:20}),m.jsx("h2",{children:"Preferncias"})]}),m.jsxs("div",{className:"form-grid",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"language",children:"Idioma"}),m.jsxs("select",{id:"language",value:a.preferences.language,onChange:y=>h("preferences","language",y.target.value),children:[m.jsx("option",{value:"pt",children:"Portugus"}),m.jsx("option",{value:"en",children:"English"}),m.jsx("option",{value:"es",children:"Espaol"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"timezone",children:"Fuso Horrio"}),m.jsxs("select",{id:"timezone",value:a.preferences.timezone,onChange:y=>h("preferences","timezone",y.target.value),children:[m.jsx("option",{value:"America/Sao_Paulo",children:"So Paulo (UTC-3)"}),m.jsx("option",{value:"America/New_York",children:"Nova York (UTC-5)"}),m.jsx("option",{value:"Europe/London",children:"Londres (UTC+0)"}),m.jsx("option",{value:"Asia/Shanghai",children:"Xangai (UTC+8)"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"dateFormat",children:"Formato de Data"}),m.jsxs("select",{id:"dateFormat",value:a.preferences.dateFormat,onChange:y=>h("preferences","dateFormat",y.target.value),children:[m.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/AAAA"}),m.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/AAAA"}),m.jsx("option",{value:"YYYY-MM-DD",children:"AAAA-MM-DD"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"theme",children:"Tema"}),m.jsxs("select",{id:"theme",value:a.preferences.theme,onChange:y=>h("preferences","theme",y.target.value),children:[m.jsx("option",{value:"light",children:"Claro"}),m.jsx("option",{value:"dark",children:"Escuro"}),m.jsx("option",{value:"auto",children:"Automtico"})]})]})]})]})]}),m.jsx("div",{className:"settings-actions",children:m.jsxs("button",{className:"btn-save",onClick:p,disabled:c,children:[m.jsx(DD,{size:16}),c?"Salvando...":"Salvar Configuraes"]})})]})}),m.jsx(cu,{})]})})},tve=()=>m.jsx(qx,{children:m.jsx(mY,{children:m.jsx(yY,{children:m.jsx(pY,{children:m.jsx(_V,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:m.jsxs("div",{className:"app-container",children:[m.jsxs(yV,{children:[m.jsx(Va,{path:"/",element:m.jsx(Yge,{})}),m.jsx(Va,{path:"/register",element:m.jsx(Jge,{})}),m.jsx(Va,{path:"/home",element:m.jsx(wge,{})}),m.jsx(Va,{path:"/dashboard",element:m.jsx(r9,{})}),m.jsx(Va,{path:"/admin-dashboard",element:m.jsx(t9,{})}),m.jsx(Va,{path:"/envios",element:m.jsx(gge,{})}),m.jsx(Va,{path:"/novo-envio",element:m.jsx(Qge,{})}),m.jsx(Va,{path:"/settings",element:m.jsx(eve,{})}),m.jsx(Va,{path:"/excel-integration",element:m.jsx(yge,{})}),m.jsx(Va,{path:"/excel-test",element:m.jsx(uY,{})}),m.jsx(Va,{path:"/auth/callback",element:m.jsx(xT,{})}),m.jsx(Va,{path:"/excel-auth-callback",element:m.jsx(xT,{})})]}),m.jsx(hY,{theme:"light"})]})})})})})});h6(document.getElementById("root")).render(m.jsx(P.StrictMode,{children:m.jsx(tve,{})}));export{Ar as _,np as c,Js as g};
