(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var em={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function Cb(){if(Xv)return Dl;Xv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=e,Dl.jsx=n,Dl.jsxs=n,Dl}var Jv;function Nb(){return Jv||(Jv=1,em.exports=Cb()),em.exports}var T=Nb(),tm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function Db(){if(Wv)return Ie;Wv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,F={};function B(V,ne,le){this.props=V,this.context=ne,this.refs=F,this.updater=le||C}B.prototype.isReactComponent={},B.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},B.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=B.prototype;function re(V,ne,le){this.props=V,this.context=ne,this.refs=F,this.updater=le||C}var te=re.prototype=new $;te.constructor=re,I(te,B.prototype),te.isPureReactComponent=!0;var ye=Array.isArray,pe={H:null,A:null,T:null,S:null,V:null},Oe=Object.prototype.hasOwnProperty;function j(V,ne,le,ae,Ee,je){return le=je.ref,{$$typeof:i,type:V,key:ne,ref:le!==void 0?le:null,props:je}}function x(V,ne){return j(V.type,ne,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function M(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return ne[le]})}var P=/\/+/g;function O(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):ne.toString(36)}function N(){}function ft(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(N,N):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function at(V,ne,le,ae,Ee){var je=typeof V;(je==="undefined"||je==="boolean")&&(V=null);var Re=!1;if(V===null)Re=!0;else switch(je){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(V.$$typeof){case i:case e:Re=!0;break;case E:return Re=V._init,at(Re(V._payload),ne,le,ae,Ee)}}if(Re)return Ee=Ee(V),Re=ae===""?"."+O(V,0):ae,ye(Ee)?(le="",Re!=null&&(le=Re.replace(P,"$&/")+"/"),at(Ee,ne,le,"",function(er){return er})):Ee!=null&&(R(Ee)&&(Ee=x(Ee,le+(Ee.key==null||V&&V.key===Ee.key?"":(""+Ee.key).replace(P,"$&/")+"/")+Re)),ne.push(Ee)),1;Re=0;var Lt=ae===""?".":ae+":";if(ye(V))for(var ot=0;ot<V.length;ot++)ae=V[ot],je=Lt+O(ae,ot),Re+=at(ae,ne,le,je,Ee);else if(ot=w(V),typeof ot=="function")for(V=ot.call(V),ot=0;!(ae=V.next()).done;)ae=ae.value,je=Lt+O(ae,ot++),Re+=at(ae,ne,le,je,Ee);else if(je==="object"){if(typeof V.then=="function")return at(ft(V),ne,le,ae,Ee);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Z(V,ne,le){if(V==null)return V;var ae=[],Ee=0;return at(V,ae,"","",function(je){return ne.call(le,je,Ee++)}),ae}function oe(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var de=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ye(){}return Ie.Children={map:Z,forEach:function(V,ne,le){Z(V,function(){ne.apply(this,arguments)},le)},count:function(V){var ne=0;return Z(V,function(){ne++}),ne},toArray:function(V){return Z(V,function(ne){return ne})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ie.Component=B,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=re,Ie.StrictMode=a,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pe,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(V){return pe.H.useMemoCache(V)}},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cloneElement=function(V,ne,le){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=I({},V.props),Ee=V.key,je=void 0;if(ne!=null)for(Re in ne.ref!==void 0&&(je=void 0),ne.key!==void 0&&(Ee=""+ne.key),ne)!Oe.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(ae[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)ae.children=le;else if(1<Re){for(var Lt=Array(Re),ot=0;ot<Re;ot++)Lt[ot]=arguments[ot+2];ae.children=Lt}return j(V.type,Ee,void 0,void 0,je,ae)},Ie.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ie.createElement=function(V,ne,le){var ae,Ee={},je=null;if(ne!=null)for(ae in ne.key!==void 0&&(je=""+ne.key),ne)Oe.call(ne,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Ee[ae]=ne[ae]);var Re=arguments.length-2;if(Re===1)Ee.children=le;else if(1<Re){for(var Lt=Array(Re),ot=0;ot<Re;ot++)Lt[ot]=arguments[ot+2];Ee.children=Lt}if(V&&V.defaultProps)for(ae in Re=V.defaultProps,Re)Ee[ae]===void 0&&(Ee[ae]=Re[ae]);return j(V,je,void 0,void 0,null,Ee)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:m,render:V}},Ie.isValidElement=R,Ie.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:oe}},Ie.memo=function(V,ne){return{$$typeof:g,type:V,compare:ne===void 0?null:ne}},Ie.startTransition=function(V){var ne=pe.T,le={};pe.T=le;try{var ae=V(),Ee=pe.S;Ee!==null&&Ee(le,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ye,de)}catch(je){de(je)}finally{pe.T=ne}},Ie.unstable_useCacheRefresh=function(){return pe.H.useCacheRefresh()},Ie.use=function(V){return pe.H.use(V)},Ie.useActionState=function(V,ne,le){return pe.H.useActionState(V,ne,le)},Ie.useCallback=function(V,ne){return pe.H.useCallback(V,ne)},Ie.useContext=function(V){return pe.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,ne){return pe.H.useDeferredValue(V,ne)},Ie.useEffect=function(V,ne,le){var ae=pe.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(V,ne)},Ie.useId=function(){return pe.H.useId()},Ie.useImperativeHandle=function(V,ne,le){return pe.H.useImperativeHandle(V,ne,le)},Ie.useInsertionEffect=function(V,ne){return pe.H.useInsertionEffect(V,ne)},Ie.useLayoutEffect=function(V,ne){return pe.H.useLayoutEffect(V,ne)},Ie.useMemo=function(V,ne){return pe.H.useMemo(V,ne)},Ie.useOptimistic=function(V,ne){return pe.H.useOptimistic(V,ne)},Ie.useReducer=function(V,ne,le){return pe.H.useReducer(V,ne,le)},Ie.useRef=function(V){return pe.H.useRef(V)},Ie.useState=function(V){return pe.H.useState(V)},Ie.useSyncExternalStore=function(V,ne,le){return pe.H.useSyncExternalStore(V,ne,le)},Ie.useTransition=function(){return pe.H.useTransition()},Ie.version="19.1.0",Ie}var e_;function $m(){return e_||(e_=1,tm.exports=Db()),tm.exports}var H=$m(),nm={exports:{}},Il={},rm={exports:{}},im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function Ib(){return t_||(t_=1,function(i){function e(Z,oe){var de=Z.length;Z.push(oe);e:for(;0<de;){var Ye=de-1>>>1,V=Z[Ye];if(0<o(V,oe))Z[Ye]=oe,Z[de]=V,de=Ye;else break e}}function n(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var oe=Z[0],de=Z.pop();if(de!==oe){Z[0]=de;e:for(var Ye=0,V=Z.length,ne=V>>>1;Ye<ne;){var le=2*(Ye+1)-1,ae=Z[le],Ee=le+1,je=Z[Ee];if(0>o(ae,de))Ee<V&&0>o(je,ae)?(Z[Ye]=je,Z[Ee]=de,Ye=Ee):(Z[Ye]=ae,Z[le]=de,Ye=le);else if(Ee<V&&0>o(je,de))Z[Ye]=je,Z[Ee]=de,Ye=Ee;else break e}}return oe}function o(Z,oe){var de=Z.sortIndex-oe.sortIndex;return de!==0?de:Z.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,S=null,w=3,C=!1,I=!1,F=!1,B=!1,$=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ye(Z){for(var oe=n(g);oe!==null;){if(oe.callback===null)a(g);else if(oe.startTime<=Z)a(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function pe(Z){if(F=!1,ye(Z),!I)if(n(p)!==null)I=!0,Oe||(Oe=!0,O());else{var oe=n(g);oe!==null&&at(pe,oe.startTime-Z)}}var Oe=!1,j=-1,x=5,R=-1;function M(){return B?!0:!(i.unstable_now()-R<x)}function P(){if(B=!1,Oe){var Z=i.unstable_now();R=Z;var oe=!0;try{e:{I=!1,F&&(F=!1,re(j),j=-1),C=!0;var de=w;try{t:{for(ye(Z),S=n(p);S!==null&&!(S.expirationTime>Z&&M());){var Ye=S.callback;if(typeof Ye=="function"){S.callback=null,w=S.priorityLevel;var V=Ye(S.expirationTime<=Z);if(Z=i.unstable_now(),typeof V=="function"){S.callback=V,ye(Z),oe=!0;break t}S===n(p)&&a(p),ye(Z)}else a(p);S=n(p)}if(S!==null)oe=!0;else{var ne=n(g);ne!==null&&at(pe,ne.startTime-Z),oe=!1}}break e}finally{S=null,w=de,C=!1}oe=void 0}}finally{oe?O():Oe=!1}}}var O;if(typeof te=="function")O=function(){te(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ft=N.port2;N.port1.onmessage=P,O=function(){ft.postMessage(null)}}else O=function(){$(P,0)};function at(Z,oe){j=$(function(){Z(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var de=w;w=oe;try{return Z()}finally{w=de}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=w;w=Z;try{return oe()}finally{w=de}},i.unstable_scheduleCallback=function(Z,oe,de){var Ye=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ye+de:Ye):de=Ye,Z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=de+V,Z={id:E++,callback:oe,priorityLevel:Z,startTime:de,expirationTime:V,sortIndex:-1},de>Ye?(Z.sortIndex=de,e(g,Z),n(p)===null&&Z===n(g)&&(F?(re(j),j=-1):F=!0,at(pe,de-Ye))):(Z.sortIndex=V,e(p,Z),I||C||(I=!0,Oe||(Oe=!0,O()))),Z},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(Z){var oe=w;return function(){var de=w;w=oe;try{return Z.apply(this,arguments)}finally{w=de}}}}(im)),im}var n_;function Ob(){return n_||(n_=1,rm.exports=Ib()),rm.exports}var am={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function Vb(){if(r_)return tn;r_=1;var i=$m();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},tn.flushSync=function(p){var g=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=g,a.p=E,a.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:C}):E==="script"&&a.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);a.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},tn.requestFormReset=function(p){a.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},tn.useFormStatus=function(){return f.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var i_;function Mb(){if(i_)return am.exports;i_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),am.exports=Vb(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function kb(){if(a_)return Il;a_=1;var i=Ob(),e=$m(),n=Mb();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===s){_=!0,s=h,l=d;break}if(b===l){_=!0,l=h,s=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===s){_=!0,s=d,l=h;break}if(b===l){_=!0,l=d,s=h;break}b=b.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ft(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case B:return"Profiler";case F:return"StrictMode";case pe:return"Suspense";case Oe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case te:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case ye:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return r=t.displayName||null,r!==null?r:ft(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return ft(t(r))}catch{}}return null}var at=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ye=[],V=-1;function ne(t){return{current:t}}function le(t){0>V||(t.current=Ye[V],Ye[V]=null,V--)}function ae(t,r){V++,Ye[V]=t.current,t.current=r}var Ee=ne(null),je=ne(null),Re=ne(null),Lt=ne(null);function ot(t,r){switch(ae(Re,r),ae(je,t),ae(Ee,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?wv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=wv(r),t=xv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(Ee),ae(Ee,t)}function er(){le(Ee),le(je),le(Re)}function li(t){t.memoizedState!==null&&ae(Lt,t);var r=Ee.current,s=xv(r,t.type);r!==s&&(ae(je,t),ae(Ee,s))}function Rr(t){je.current===t&&(le(Ee),le(je)),Lt.current===t&&(le(Lt),wl._currentValue=de)}var ia=Object.prototype.hasOwnProperty,aa=i.unstable_scheduleCallback,sa=i.unstable_cancelCallback,bo=i.unstable_shouldYield,Au=i.unstable_requestPaint,Nn=i.unstable_now,Wh=i.unstable_getCurrentPriorityLevel,Ao=i.unstable_ImmediatePriority,es=i.unstable_UserBlockingPriority,oa=i.unstable_NormalPriority,ef=i.unstable_LowPriority,ts=i.unstable_IdlePriority,So=i.log,Su=i.unstable_setDisableYieldValue,yt=null,Je=null;function vn(t){if(typeof So=="function"&&Su(t),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(yt,t)}catch{}}var Wt=Math.clz32?Math.clz32:la,wu=Math.log,tf=Math.LN2;function la(t){return t>>>=0,t===0?32:31-(wu(t)/tf|0)|0}var ua=256,ca=4194304;function qn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ns(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=qn(l):(_&=b,_!==0?h=qn(_):s||(s=b&~t,s!==0&&(h=qn(s))))):(b=l&~d,b!==0?h=qn(b):_!==0?h=qn(_):s||(s=l&~t,s!==0&&(h=qn(s)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:h}function ha(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function wo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var t=ua;return ua<<=1,(ua&4194048)===0&&(ua=256),t}function Ro(){var t=ca;return ca<<=1,(ca&62914560)===0&&(ca=4194304),t}function Cr(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Nr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Co(t,r,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(s=_&~s;0<s;){var K=31-Wt(s),J=1<<K;b[K]=0,D[K]=-1;var G=q[K];if(G!==null)for(q[K]=null,K=0;K<G.length;K++){var Q=G[K];Q!==null&&(Q.lane&=-536870913)}s&=~J}l!==0&&tr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function tr(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Wt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function No(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-Wt(s),h=1<<l;h&r|t[l]&r&&(t[l]|=r),s&=~h}}function ui(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ci(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Gv(t.type))}function xu(t,r){var s=oe.p;try{return oe.p=t,r()}finally{oe.p=s}}var ct=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ct,St="__reactProps$"+ct,Dn="__reactContainer$"+ct,Do="__reactEvents$"+ct,nf="__reactListeners$"+ct,hi="__reactHandles$"+ct,Ru="__reactResources$"+ct,fa="__reactMarker$"+ct;function fi(t){delete t[Dt],delete t[St],delete t[Do],delete t[nf],delete t[hi]}function Dr(t){var r=t[Dt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Dn]||s[Dt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Dv(t);t!==null;){if(s=t[Dt])return s;t=Dv(t)}return r}t=s,s=t.parentNode}return null}function nr(t){if(t=t[Dt]||t[Dn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function rr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function ln(t){var r=t[Ru];return r||(r=t[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Et(t){t[fa]=!0}var Io=new Set,is={};function Hn(t,r){Ir(t,r),Ir(t+"Capture",r)}function Ir(t,r){for(is[t]=r,t=0;t<r.length;t++)Io.add(r[t])}var Cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nu={},da={};function Du(t){return ia.call(da,t)?!0:ia.call(Nu,t)?!1:Cu.test(t)?da[t]=!0:(Nu[t]=!0,!1)}function di(t,r,s){if(Du(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function ir(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Gt(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}var ma,Iu;function Or(t){if(ma===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);ma=r&&r[1]||"",Iu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ma+t+Iu}var as=!1;function ss(t,r){if(!t||as)return"";as=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var G=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){G=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){G=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var D=_.split(`
`),q=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===q.length)for(l=D.length-1,h=q.length-1;1<=l&&0<=h&&D[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==q[h]){var K=`
`+D[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{as=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Or(s):""}function Oo(t){switch(t.tag){case 26:case 27:case 5:return Or(t.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 15:return ss(t.type,!1);case 11:return ss(t.type.render,!1);case 1:return ss(t.type,!0);case 31:return Or("Activity");default:return""}}function os(t){try{var r="";do r+=Oo(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function un(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function rf(t){var r=Vo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ls(t){t._valueTracker||(t._valueTracker=rf(t))}function Mo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=Vo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var af=/[\n"\\]/g;function wt(t){return t.replace(af,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _n(t,r,s,l,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+un(r)):t.value!==""+un(r)&&(t.value=""+un(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?mi(t,_,un(r)):s!=null?mi(t,_,un(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+un(b):t.removeAttribute("name")}function ga(t,r,s,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+un(s):"",r=r!=null?""+un(r):s,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function mi(t,r,s){r==="number"&&pa(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Vr(t,r,s,l){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+un(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function tt(t,r,s){if(r!=null&&(r=""+un(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+un(s):""}function ya(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(at(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=un(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function In(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ou(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||va.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function ko(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&Ou(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Ou(t,d,r[d])}function jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function us(t){return of.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Mr=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kr=null,jr=null;function Po(t){var r=nr(t);if(r&&(t=r.stateNode)){var s=t[St]||null;e:switch(t=r.stateNode,r.type){case"input":if(_n(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var h=l[St]||null;if(!h)throw Error(a(90));_n(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Mo(l)}break e;case"textarea":tt(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Vr(t,!!s.multiple,r,!1)}}}var ar=!1;function Vu(t,r,s){if(ar)return t(r,s);ar=!0;try{var l=t(r);return l}finally{if(ar=!1,(kr!==null||jr!==null)&&(xc(),kr&&(r=kr,t=jr,jr=kr=null,Po(r),t)))for(r=0;r<t.length;r++)Po(t[r])}}function _a(t,r){var s=t.stateNode;if(s===null)return null;var l=s[St]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if(Fn)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{Vn=!1}var sr=null,pi=null,Pr=null;function Lo(){if(Pr)return Pr;var t,r=pi,s=r.length,l,h="value"in sr?sr.value:sr.textContent,d=h.length;for(t=0;t<s&&r[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&r[s-l]===h[d-l];l++);return Pr=h.slice(t,1<l?1-l:void 0)}function or(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function lr(){return!0}function Uo(){return!1}function Ut(t){function r(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?lr:Uo,this.isPropagationStopped=Uo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Ut(Ke),Ta=E({},Ke,{view:0,detail:0}),Mu=Ut(Ta),hs,fs,ur,ba=E({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ur&&(ur&&t.type==="mousemove"?(hs=t.screenX-ur.screenX,fs=t.screenY-ur.screenY):fs=hs=0,ur=t),hs)},movementY:function(t){return"movementY"in t?t.movementY:fs}}),Mn=Ut(ba),ku=E({},ba,{dataTransfer:0}),lf=Ut(ku),Aa=E({},Ta,{relatedTarget:0}),ds=Ut(Aa),zo=E({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),ms=Ut(zo),ju=E({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ps=Ut(ju),uf=E({},Ke,{data:0}),Bo=Ut(uf),Sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Lu[t])?!!r[t]:!1}function wa(){return qo}var Uu=E({},Ta,{key:function(t){if(t.key){var r=Sa[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(t){return t.type==="keypress"?or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gs=Ut(Uu),zu=E({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Ut(zu),Lr=E({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),Bu=Ut(Lr),qu=E({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hu=Ut(qu),Fu=E({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ys=Ut(Fu),cn=E({},Ke,{newState:0,oldState:0}),Gu=Ut(cn),Qu=[9,13,27,32],cr=Fn&&"CompositionEvent"in window,c=null;Fn&&"documentMode"in document&&(c=document.documentMode);var y=Fn&&"TextEvent"in window&&!c,v=Fn&&(!cr||c&&8<c&&11>=c),A=" ",U=!1;function Y(t,r){switch(t){case"keyup":return Qu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Be=!1;function It(t,r){switch(t){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(U=!0,A);case"textInput":return t=r.data,t===A&&U?null:t;default:return null}}function qe(t,r){if(Be)return t==="compositionend"||!cr&&Y(t,r)?(t=Lo(),Pr=pi=sr=null,Be=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!zt[t.type]:r==="textarea"}function Ur(t,r,s,l){kr?jr?jr.push(l):jr=[l]:kr=l,r=Oc(r,"onChange"),0<r.length&&(s=new cs("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var Qt=null,hr=null;function Fo(t){Ev(t,0)}function Yu(t){var r=rr(t);if(Mo(r))return t}function Bp(t,r){if(t==="change")return r}var qp=!1;if(Fn){var cf;if(Fn){var hf="oninput"in document;if(!hf){var Hp=document.createElement("div");Hp.setAttribute("oninput","return;"),hf=typeof Hp.oninput=="function"}cf=hf}else cf=!1;qp=cf&&(!document.documentMode||9<document.documentMode)}function Fp(){Qt&&(Qt.detachEvent("onpropertychange",Gp),hr=Qt=null)}function Gp(t){if(t.propertyName==="value"&&Yu(hr)){var r=[];Ur(r,hr,t,On(t)),Vu(Fo,r)}}function i1(t,r,s){t==="focusin"?(Fp(),Qt=r,hr=s,Qt.attachEvent("onpropertychange",Gp)):t==="focusout"&&Fp()}function a1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(hr)}function s1(t,r){if(t==="click")return Yu(r)}function o1(t,r){if(t==="input"||t==="change")return Yu(r)}function l1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var En=typeof Object.is=="function"?Object.is:l1;function Go(t,r){if(En(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ia.call(r,h)||!En(t[h],r[h]))return!1}return!0}function Qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yp(t,r){var s=Qp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Qp(s)}}function $p(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?$p(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=pa(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=pa(t.document)}return r}function ff(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var u1=Fn&&"documentMode"in document&&11>=document.documentMode,vs=null,df=null,Qo=null,mf=!1;function Kp(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;mf||vs==null||vs!==pa(l)||(l=vs,"selectionStart"in l&&ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Go(Qo,l)||(Qo=l,l=Oc(df,"onSelect"),0<l.length&&(r=new cs("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=vs)))}function xa(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var _s={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},pf={},Xp={};Fn&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Ra(t){if(pf[t])return pf[t];if(!_s[t])return t;var r=_s[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Xp)return pf[t]=r[s];return t}var Jp=Ra("animationend"),Wp=Ra("animationiteration"),eg=Ra("animationstart"),c1=Ra("transitionrun"),h1=Ra("transitionstart"),f1=Ra("transitioncancel"),tg=Ra("transitionend"),ng=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function Gn(t,r){ng.set(t,r),Hn(r,[t])}var rg=new WeakMap;function kn(t,r){if(typeof t=="object"&&t!==null){var s=rg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:os(r)},rg.set(t,r),r)}return{value:t,source:r,stack:os(r)}}var jn=[],Es=0,yf=0;function $u(){for(var t=Es,r=yf=Es=0;r<t;){var s=jn[r];jn[r++]=null;var l=jn[r];jn[r++]=null;var h=jn[r];jn[r++]=null;var d=jn[r];if(jn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&ig(s,h,d)}}function Zu(t,r,s,l){jn[Es++]=t,jn[Es++]=r,jn[Es++]=s,jn[Es++]=l,yf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,r,s,l){return Zu(t,r,s,l),Ku(t)}function Ts(t,r){return Zu(t,null,null,r),Ku(t)}function ig(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Wt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=s|536870912),d):null}function Ku(t){if(50<yl)throw yl=0,Sd=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var bs={};function d1(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,r,s,l){return new d1(t,r,s,l)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zr(t,r){var s=t.alternate;return s===null?(s=Tn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ag(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Xu(t,r,s,l,h,d){var _=0;if(l=t,typeof t=="function")_f(t)&&(_=1);else if(typeof t=="string")_=pb(t,s,Ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Tn(31,s,r,h),t.elementType=R,t.lanes=d,t;case I:return Ca(s.children,h,d,r);case F:_=8,h|=24;break;case B:return t=Tn(12,s,r,h|2),t.elementType=B,t.lanes=d,t;case pe:return t=Tn(13,s,r,h),t.elementType=pe,t.lanes=d,t;case Oe:return t=Tn(19,s,r,h),t.elementType=Oe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case te:_=10;break e;case re:_=9;break e;case ye:_=11;break e;case j:_=14;break e;case x:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=Tn(_,s,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ca(t,r,s,l){return t=Tn(7,t,l,r),t.lanes=s,t}function Ef(t,r,s){return t=Tn(6,t,null,r),t.lanes=s,t}function Tf(t,r,s){return r=Tn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var As=[],Ss=0,Ju=null,Wu=0,Pn=[],Ln=0,Na=null,Br=1,qr="";function Da(t,r){As[Ss++]=Wu,As[Ss++]=Ju,Ju=t,Wu=r}function sg(t,r,s){Pn[Ln++]=Br,Pn[Ln++]=qr,Pn[Ln++]=Na,Na=t;var l=Br;t=qr;var h=32-Wt(l)-1;l&=~(1<<h),s+=1;var d=32-Wt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Br=1<<32-Wt(r)+h|s<<h|l,qr=d+t}else Br=1<<d|s<<h|l,qr=t}function bf(t){t.return!==null&&(Da(t,1),sg(t,1,0))}function Af(t){for(;t===Ju;)Ju=As[--Ss],As[Ss]=null,Wu=As[--Ss],As[Ss]=null;for(;t===Na;)Na=Pn[--Ln],Pn[Ln]=null,qr=Pn[--Ln],Pn[Ln]=null,Br=Pn[--Ln],Pn[Ln]=null}var hn=null,vt=null,Ze=!1,Ia=null,fr=!1,Sf=Error(a(519));function Oa(t){var r=Error(a(418,""));throw Zo(kn(r,t)),Sf}function og(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[Dt]=t,r[St]=l,s){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<_l.length;s++)Ue(_l[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),ga(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ls(r);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),ya(r,l.value,l.defaultValue,l.children),ls(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||Sv(r.textContent,s)?(l.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),l.onScroll!=null&&Ue("scroll",r),l.onScrollEnd!=null&&Ue("scrollend",r),l.onClick!=null&&(r.onclick=Vc),r=!0):r=!1,r||Oa(t)}function lg(t){for(hn=t.return;hn;)switch(hn.tag){case 5:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:hn=hn.return}}function Yo(t){if(t!==hn)return!1;if(!Ze)return lg(t),Ze=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||zd(t.type,t.memoizedProps)),s=!s),s&&vt&&Oa(t),lg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){vt=Yn(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}vt=null}}else r===27?(r=vt,Ii(t.type)?(t=Fd,Fd=null,vt=t):vt=r):vt=hn?Yn(t.stateNode.nextSibling):null;return!0}function $o(){vt=hn=null,Ze=!1}function ug(){var t=Ia;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ia=null),t}function Zo(t){Ia===null?Ia=[t]:Ia.push(t)}var wf=ne(null),Va=null,Hr=null;function gi(t,r,s){ae(wf,r._currentValue),r._currentValue=s}function Fr(t){t._currentValue=wf.current,le(wf)}function xf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Rf(t,r,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var D=0;D<r.length;D++)if(b.context===r[D]){d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),xf(d.return,s,t),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),xf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ko(t,r,s,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var b=h.type;En(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===Lt.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}h=h.return}t!==null&&Rf(r,t,s,l),r.flags|=262144}function ec(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ma(t){Va=t,Hr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return cg(Va,t)}function tc(t,r){return Va===null&&Ma(t),cg(t,r)}function cg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Hr===null){if(t===null)throw Error(a(308));Hr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Hr=Hr.next=r;return s}var m1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},p1=i.unstable_scheduleCallback,g1=i.unstable_NormalPriority,Vt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new m1,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&p1(g1,function(){t.controller.abort()})}var Jo=null,Nf=0,ws=0,xs=null;function y1(t,r){if(Jo===null){var s=Jo=[];Nf=0,ws=Id(),xs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Nf++,r.then(hg,hg),r}function hg(){if(--Nf===0&&Jo!==null){xs!==null&&(xs.status="fulfilled");var t=Jo;Jo=null,ws=0,xs=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function v1(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var fg=Z.S;Z.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&y1(t,r),fg!==null&&fg(t,r)};var ka=ne(null);function Df(){var t=ka.current;return t!==null?t:lt.pooledCache}function nc(t,r){r===null?ae(ka,ka.current):ae(ka,r.pool)}function dg(){var t=Df();return t===null?null:{parent:Vt._currentValue,pool:t}}var Wo=Error(a(460)),mg=Error(a(474)),rc=Error(a(542)),If={then:function(){}};function pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ic(){}function gg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(ic,ic),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,vg(t),t;default:if(typeof r.status=="string")r.then(ic,ic);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,vg(t),t}throw el=r,Wo}}var el=null;function yg(){if(el===null)throw Error(a(459));var t=el;return el=null,t}function vg(t){if(t===Wo||t===rc)throw Error(a(483))}var yi=!1;function Of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _i(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Ku(t),ig(t,null,s),r}return Zu(t,l,r,s),Ku(t)}function tl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,No(t,s)}}function Mf(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var kf=!1;function nl(){if(kf){var t=xs;if(t!==null)throw t}}function rl(t,r,s,l){kf=!1;var h=t.updateQueue;yi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,q=D.next;D.next=null,_===null?d=q:_.next=q,_=D;var K=t.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==_&&(b===null?K.firstBaseUpdate=q:b.next=q,K.lastBaseUpdate=D))}if(d!==null){var J=h.baseState;_=0,K=q=D=null,b=d;do{var G=b.lane&-536870913,Q=G!==b.lane;if(Q?(He&G)===G:(l&G)===G){G!==0&&G===ws&&(kf=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var we=t,Te=b;G=r;var it=s;switch(Te.tag){case 1:if(we=Te.payload,typeof we=="function"){J=we.call(it,J,G);break e}J=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Te.payload,G=typeof we=="function"?we.call(it,J,G):we,G==null)break e;J=E({},J,G);break e;case 2:yi=!0}}G=b.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(q=K=Q,D=J):K=K.next=Q,_|=G;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);K===null&&(D=J),h.baseState=D,h.firstBaseUpdate=q,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Ri|=_,t.lanes=_,t.memoizedState=J}}function _g(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function Eg(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)_g(s[t],r)}var Rs=ne(null),ac=ne(0);function Tg(t,r){t=Xr,ae(ac,t),ae(Rs,r),Xr=t|r.baseLanes}function jf(){ae(ac,Xr),ae(Rs,Rs.current)}function Pf(){Xr=ac.current,le(Rs),le(ac)}var Ei=0,Me=null,nt=null,xt=null,sc=!1,Cs=!1,ja=!1,oc=0,il=0,Ns=null,_1=0;function Tt(){throw Error(a(321))}function Lf(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!En(t[s],r[s]))return!1;return!0}function Uf(t,r,s,l,h,d){return Ei=d,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=t===null||t.memoizedState===null?iy:ay,ja=!1,d=s(l,h),ja=!1,Cs&&(d=Ag(r,s,l,h)),bg(t),d}function bg(t){Z.H=dc;var r=nt!==null&&nt.next!==null;if(Ei=0,xt=nt=Me=null,sc=!1,il=0,Ns=null,r)throw Error(a(300));t===null||Bt||(t=t.dependencies,t!==null&&ec(t)&&(Bt=!0))}function Ag(t,r,s,l){Me=t;var h=0;do{if(Cs&&(Ns=null),il=0,Cs=!1,25<=h)throw Error(a(301));if(h+=1,xt=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Z.H=x1,d=r(s,l)}while(Cs);return d}function E1(){var t=Z.H,r=t.useState()[0];return r=typeof r.then=="function"?al(r):r,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Me.flags|=1024),r}function zf(){var t=oc!==0;return oc=0,t}function Bf(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function qf(t){if(sc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}sc=!1}Ei=0,xt=nt=Me=null,Cs=!1,il=oc=0,Ns=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Me.memoizedState=xt=t:xt=xt.next=t,xt}function Rt(){if(nt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var r=xt===null?Me.memoizedState:xt.next;if(r!==null)xt=r,nt=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},xt===null?Me.memoizedState=xt=t:xt=xt.next=t}return xt}function Hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var r=il;return il+=1,Ns===null&&(Ns=[]),t=gg(Ns,t,r),r=Me,(xt===null?r.memoizedState:xt.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?iy:ay),t}function lc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===te)return en(t)}throw Error(a(438,String(t)))}function Ff(t){var r=null,s=Me.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Hf(),Me.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=M;return r.index++,s}function Gr(t,r){return typeof r=="function"?r(t):r}function uc(t){var r=Rt();return Gf(r,nt,t)}function Gf(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var b=_=null,D=null,q=r,K=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(He&J)===J:(Ei&J)===J){var G=q.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===ws&&(K=!0);else if((Ei&G)===G){q=q.next,G===ws&&(K=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(b=D=J,_=d):D=D.next=J,Me.lanes|=G,Ri|=G;J=q.action,ja&&s(d,J),d=q.hasEagerState?q.eagerState:s(d,J)}else G={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(b=D=G,_=d):D=D.next=G,Me.lanes|=J,Ri|=J;q=q.next}while(q!==null&&q!==r);if(D===null?_=d:D.next=b,!En(d,t.memoizedState)&&(Bt=!0,K&&(s=xs,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var r=Rt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);En(d,r.memoizedState)||(Bt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function Sg(t,r,s){var l=Me,h=Rt(),d=Ze;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!En((nt||h).memoizedState,s);_&&(h.memoizedState=s,Bt=!0),h=h.queue;var b=Rg.bind(null,l,h,t);if(sl(2048,8,b,[t]),h.getSnapshot!==r||_||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Ds(9,cc(),xg.bind(null,l,h,s,r),null),lt===null)throw Error(a(349));d||(Ei&124)!==0||wg(l,r,s)}return s}function wg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Me.updateQueue,r===null?(r=Hf(),Me.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function xg(t,r,s,l){r.value=s,r.getSnapshot=l,Cg(r)&&Ng(t)}function Rg(t,r,s){return s(function(){Cg(r)&&Ng(t)})}function Cg(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!En(t,s)}catch{return!0}}function Ng(t){var r=Ts(t,2);r!==null&&xn(r,t,2)}function Yf(t){var r=dn();if(typeof t=="function"){var s=t;if(t=s(),ja){vn(!0);try{s()}finally{vn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:t},r}function Dg(t,r,s,l){return t.baseState=s,Gf(t,nt,typeof l=="function"?l:Gr)}function T1(t,r,s,l,h){if(fc(t))throw Error(a(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Z.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,Ig(r,d)):(d.next=s.next,r.pending=s.next=d)}}function Ig(t,r){var s=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Z.T,_={};Z.T=_;try{var b=s(h,l),D=Z.S;D!==null&&D(_,b),Og(t,r,b)}catch(q){$f(t,r,q)}finally{Z.T=d}}else try{d=s(h,l),Og(t,r,d)}catch(q){$f(t,r,q)}}function Og(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Vg(t,r,l)},function(l){return $f(t,r,l)}):Vg(t,r,s)}function Vg(t,r,s){r.status="fulfilled",r.value=s,Mg(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Ig(t,s)))}function $f(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Mg(r),r=r.next;while(r!==l)}t.action=null}function Mg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function kg(t,r){return r}function jg(t,r){if(Ze){var s=lt.formState;if(s!==null){e:{var l=Me;if(Ze){if(vt){t:{for(var h=vt,d=fr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){vt=Yn(h.nextSibling),l=h.data==="F!";break e}}Oa(l)}l=!1}l&&(r=s[0])}}return s=dn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:r},s.queue=l,s=ty.bind(null,Me,l),l.dispatch=s,l=Yf(!1),d=Wf.bind(null,Me,!1,l.queue),l=dn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,s=T1.bind(null,Me,h,d,s),h.dispatch=s,l.memoizedState=t,[r,s,!1]}function Pg(t){var r=Rt();return Lg(r,nt,t)}function Lg(t,r,s){if(r=Gf(t,r,kg)[0],t=uc(Gr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=al(r)}catch(_){throw _===Wo?rc:_}else l=r;r=Rt();var h=r.queue,d=h.dispatch;return s!==r.memoizedState&&(Me.flags|=2048,Ds(9,cc(),b1.bind(null,h,s),null)),[l,d,t]}function b1(t,r){t.action=r}function Ug(t){var r=Rt(),s=nt;if(s!==null)return Lg(r,s,t);Rt(),r=r.memoizedState,s=Rt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function Ds(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Me.updateQueue,r===null&&(r=Hf(),Me.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function cc(){return{destroy:void 0,resource:void 0}}function zg(){return Rt().memoizedState}function hc(t,r,s,l){var h=dn();l=l===void 0?null:l,Me.flags|=t,h.memoizedState=Ds(1|r,cc(),s,l)}function sl(t,r,s,l){var h=Rt();l=l===void 0?null:l;var d=h.memoizedState.inst;nt!==null&&l!==null&&Lf(l,nt.memoizedState.deps)?h.memoizedState=Ds(r,d,s,l):(Me.flags|=t,h.memoizedState=Ds(1|r,d,s,l))}function Bg(t,r){hc(8390656,8,t,r)}function qg(t,r){sl(2048,8,t,r)}function Hg(t,r){return sl(4,2,t,r)}function Fg(t,r){return sl(4,4,t,r)}function Gg(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Qg(t,r,s){s=s!=null?s.concat([t]):null,sl(4,4,Gg.bind(null,r,t),s)}function Zf(){}function Yg(t,r){var s=Rt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Lf(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function $g(t,r){var s=Rt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Lf(r,l[1]))return l[0];if(l=t(),ja){vn(!0);try{t()}finally{vn(!1)}}return s.memoizedState=[l,r],l}function Kf(t,r,s){return s===void 0||(Ei&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=Xy(),Me.lanes|=t,Ri|=t,s)}function Zg(t,r,s,l){return En(s,r)?s:Rs.current!==null?(t=Kf(t,s,l),En(t,r)||(Bt=!0),t):(Ei&42)===0?(Bt=!0,t.memoizedState=s):(t=Xy(),Me.lanes|=t,Ri|=t,r)}function Kg(t,r,s,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=Z.T,b={};Z.T=b,Wf(t,!1,r,s);try{var D=h(),q=Z.S;if(q!==null&&q(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=v1(D,l);ol(t,r,K,wn(t))}else ol(t,r,l,wn(t))}catch(J){ol(t,r,{then:function(){},status:"rejected",reason:J},wn())}finally{oe.p=d,Z.T=_}}function A1(){}function Xf(t,r,s,l){if(t.tag!==5)throw Error(a(476));var h=Xg(t).queue;Kg(t,h,r,de,s===null?A1:function(){return Jg(t),s(l)})}function Xg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:de},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Jg(t){var r=Xg(t).next.queue;ol(t,r,{},wn())}function Jf(){return en(wl)}function Wg(){return Rt().memoizedState}function ey(){return Rt().memoizedState}function S1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=wn();t=vi(s);var l=_i(r,t,s);l!==null&&(xn(l,r,s),tl(l,r,s)),r={cache:Cf()},t.payload=r;return}r=r.return}}function w1(t,r,s){var l=wn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},fc(t)?ny(r,s):(s=vf(t,r,s,l),s!==null&&(xn(s,t,l),ry(s,r,l)))}function ty(t,r,s){var l=wn();ol(t,r,s,l)}function ol(t,r,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(fc(t))ny(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,s);if(h.hasEagerState=!0,h.eagerState=b,En(b,_))return Zu(t,r,h,0),lt===null&&$u(),!1}catch{}finally{}if(s=vf(t,r,h,l),s!==null)return xn(s,t,l),ry(s,r,l),!0}return!1}function Wf(t,r,s,l){if(l={lane:2,revertLane:Id(),action:l,hasEagerState:!1,eagerState:null,next:null},fc(t)){if(r)throw Error(a(479))}else r=vf(t,s,l,2),r!==null&&xn(r,t,2)}function fc(t){var r=t.alternate;return t===Me||r!==null&&r===Me}function ny(t,r){Cs=sc=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function ry(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,No(t,s)}}var dc={readContext:en,use:lc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},iy={readContext:en,use:lc,useCallback:function(t,r){return dn().memoizedState=[t,r===void 0?null:r],t},useContext:en,useEffect:Bg,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,hc(4194308,4,Gg.bind(null,r,t),s)},useLayoutEffect:function(t,r){return hc(4194308,4,t,r)},useInsertionEffect:function(t,r){hc(4,2,t,r)},useMemo:function(t,r){var s=dn();r=r===void 0?null:r;var l=t();if(ja){vn(!0);try{t()}finally{vn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=dn();if(s!==void 0){var h=s(r);if(ja){vn(!0);try{s(r)}finally{vn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=w1.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var r=dn();return t={current:t},r.memoizedState=t},useState:function(t){t=Yf(t);var r=t.queue,s=ty.bind(null,Me,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Zf,useDeferredValue:function(t,r){var s=dn();return Kf(s,t,r)},useTransition:function(){var t=Yf(!1);return t=Kg.bind(null,Me,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Me,h=dn();if(Ze){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),lt===null)throw Error(a(349));(He&124)!==0||wg(l,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,Bg(Rg.bind(null,l,d,t),[t]),l.flags|=2048,Ds(9,cc(),xg.bind(null,l,d,s,r),null),s},useId:function(){var t=dn(),r=lt.identifierPrefix;if(Ze){var s=qr,l=Br;s=(l&~(1<<32-Wt(l)-1)).toString(32)+s,r="«"+r+"R"+s,s=oc++,0<s&&(r+="H"+s.toString(32)),r+="»"}else s=_1++,r="«"+r+"r"+s.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Jf,useFormState:jg,useActionState:jg,useOptimistic:function(t){var r=dn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Wf.bind(null,Me,!0,s),s.dispatch=r,[t,r]},useMemoCache:Ff,useCacheRefresh:function(){return dn().memoizedState=S1.bind(null,Me)}},ay={readContext:en,use:lc,useCallback:Yg,useContext:en,useEffect:qg,useImperativeHandle:Qg,useInsertionEffect:Hg,useLayoutEffect:Fg,useMemo:$g,useReducer:uc,useRef:zg,useState:function(){return uc(Gr)},useDebugValue:Zf,useDeferredValue:function(t,r){var s=Rt();return Zg(s,nt.memoizedState,t,r)},useTransition:function(){var t=uc(Gr)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:al(t),r]},useSyncExternalStore:Sg,useId:Wg,useHostTransitionStatus:Jf,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,r){var s=Rt();return Dg(s,nt,t,r)},useMemoCache:Ff,useCacheRefresh:ey},x1={readContext:en,use:lc,useCallback:Yg,useContext:en,useEffect:qg,useImperativeHandle:Qg,useInsertionEffect:Hg,useLayoutEffect:Fg,useMemo:$g,useReducer:Qf,useRef:zg,useState:function(){return Qf(Gr)},useDebugValue:Zf,useDeferredValue:function(t,r){var s=Rt();return nt===null?Kf(s,t,r):Zg(s,nt.memoizedState,t,r)},useTransition:function(){var t=Qf(Gr)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:al(t),r]},useSyncExternalStore:Sg,useId:Wg,useHostTransitionStatus:Jf,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,r){var s=Rt();return nt!==null?Dg(s,nt,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:ey},Is=null,ll=0;function mc(t){var r=ll;return ll+=1,Is===null&&(Is=[]),gg(Is,t,r)}function ul(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function pc(t,r){throw r.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function sy(t){var r=t._init;return r(t._payload)}function oy(t){function r(L,k){if(t){var z=L.deletions;z===null?(L.deletions=[k],L.flags|=16):z.push(k)}}function s(L,k){if(!t)return null;for(;k!==null;)r(L,k),k=k.sibling;return null}function l(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function h(L,k){return L=zr(L,k),L.index=0,L.sibling=null,L}function d(L,k,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<k?(L.flags|=67108866,k):z):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,k,z,X){return k===null||k.tag!==6?(k=Ef(z,L.mode,X),k.return=L,k):(k=h(k,z),k.return=L,k)}function D(L,k,z,X){var me=z.type;return me===I?K(L,k,z.props.children,X,z.key):k!==null&&(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&sy(me)===k.type)?(k=h(k,z.props),ul(k,z),k.return=L,k):(k=Xu(z.type,z.key,z.props,null,L.mode,X),ul(k,z),k.return=L,k)}function q(L,k,z,X){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=Tf(z,L.mode,X),k.return=L,k):(k=h(k,z.children||[]),k.return=L,k)}function K(L,k,z,X,me){return k===null||k.tag!==7?(k=Ca(z,L.mode,X,me),k.return=L,k):(k=h(k,z),k.return=L,k)}function J(L,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Ef(""+k,L.mode,z),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return z=Xu(k.type,k.key,k.props,null,L.mode,z),ul(z,k),z.return=L,z;case C:return k=Tf(k,L.mode,z),k.return=L,k;case x:var X=k._init;return k=X(k._payload),J(L,k,z)}if(at(k)||O(k))return k=Ca(k,L.mode,z,null),k.return=L,k;if(typeof k.then=="function")return J(L,mc(k),z);if(k.$$typeof===te)return J(L,tc(L,k),z);pc(L,k)}return null}function G(L,k,z,X){var me=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:b(L,k,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===me?D(L,k,z,X):null;case C:return z.key===me?q(L,k,z,X):null;case x:return me=z._init,z=me(z._payload),G(L,k,z,X)}if(at(z)||O(z))return me!==null?null:K(L,k,z,X,null);if(typeof z.then=="function")return G(L,k,mc(z),X);if(z.$$typeof===te)return G(L,k,tc(L,z),X);pc(L,z)}return null}function Q(L,k,z,X,me){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(z)||null,b(k,L,""+X,me);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return L=L.get(X.key===null?z:X.key)||null,D(k,L,X,me);case C:return L=L.get(X.key===null?z:X.key)||null,q(k,L,X,me);case x:var Pe=X._init;return X=Pe(X._payload),Q(L,k,z,X,me)}if(at(X)||O(X))return L=L.get(z)||null,K(k,L,X,me,null);if(typeof X.then=="function")return Q(L,k,z,mc(X),me);if(X.$$typeof===te)return Q(L,k,z,tc(k,X),me);pc(k,X)}return null}function we(L,k,z,X){for(var me=null,Pe=null,ve=k,be=k=0,Ht=null;ve!==null&&be<z.length;be++){ve.index>be?(Ht=ve,ve=null):Ht=ve.sibling;var $e=G(L,ve,z[be],X);if($e===null){ve===null&&(ve=Ht);break}t&&ve&&$e.alternate===null&&r(L,ve),k=d($e,k,be),Pe===null?me=$e:Pe.sibling=$e,Pe=$e,ve=Ht}if(be===z.length)return s(L,ve),Ze&&Da(L,be),me;if(ve===null){for(;be<z.length;be++)ve=J(L,z[be],X),ve!==null&&(k=d(ve,k,be),Pe===null?me=ve:Pe.sibling=ve,Pe=ve);return Ze&&Da(L,be),me}for(ve=l(ve);be<z.length;be++)Ht=Q(ve,L,be,z[be],X),Ht!==null&&(t&&Ht.alternate!==null&&ve.delete(Ht.key===null?be:Ht.key),k=d(Ht,k,be),Pe===null?me=Ht:Pe.sibling=Ht,Pe=Ht);return t&&ve.forEach(function(ji){return r(L,ji)}),Ze&&Da(L,be),me}function Te(L,k,z,X){if(z==null)throw Error(a(151));for(var me=null,Pe=null,ve=k,be=k=0,Ht=null,$e=z.next();ve!==null&&!$e.done;be++,$e=z.next()){ve.index>be?(Ht=ve,ve=null):Ht=ve.sibling;var ji=G(L,ve,$e.value,X);if(ji===null){ve===null&&(ve=Ht);break}t&&ve&&ji.alternate===null&&r(L,ve),k=d(ji,k,be),Pe===null?me=ji:Pe.sibling=ji,Pe=ji,ve=Ht}if($e.done)return s(L,ve),Ze&&Da(L,be),me;if(ve===null){for(;!$e.done;be++,$e=z.next())$e=J(L,$e.value,X),$e!==null&&(k=d($e,k,be),Pe===null?me=$e:Pe.sibling=$e,Pe=$e);return Ze&&Da(L,be),me}for(ve=l(ve);!$e.done;be++,$e=z.next())$e=Q(ve,L,be,$e.value,X),$e!==null&&(t&&$e.alternate!==null&&ve.delete($e.key===null?be:$e.key),k=d($e,k,be),Pe===null?me=$e:Pe.sibling=$e,Pe=$e);return t&&ve.forEach(function(Rb){return r(L,Rb)}),Ze&&Da(L,be),me}function it(L,k,z,X){if(typeof z=="object"&&z!==null&&z.type===I&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var me=z.key;k!==null;){if(k.key===me){if(me=z.type,me===I){if(k.tag===7){s(L,k.sibling),X=h(k,z.props.children),X.return=L,L=X;break e}}else if(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&sy(me)===k.type){s(L,k.sibling),X=h(k,z.props),ul(X,z),X.return=L,L=X;break e}s(L,k);break}else r(L,k);k=k.sibling}z.type===I?(X=Ca(z.props.children,L.mode,X,z.key),X.return=L,L=X):(X=Xu(z.type,z.key,z.props,null,L.mode,X),ul(X,z),X.return=L,L=X)}return _(L);case C:e:{for(me=z.key;k!==null;){if(k.key===me)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){s(L,k.sibling),X=h(k,z.children||[]),X.return=L,L=X;break e}else{s(L,k);break}else r(L,k);k=k.sibling}X=Tf(z,L.mode,X),X.return=L,L=X}return _(L);case x:return me=z._init,z=me(z._payload),it(L,k,z,X)}if(at(z))return we(L,k,z,X);if(O(z)){if(me=O(z),typeof me!="function")throw Error(a(150));return z=me.call(z),Te(L,k,z,X)}if(typeof z.then=="function")return it(L,k,mc(z),X);if(z.$$typeof===te)return it(L,k,tc(L,z),X);pc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(s(L,k.sibling),X=h(k,z),X.return=L,L=X):(s(L,k),X=Ef(z,L.mode,X),X.return=L,L=X),_(L)):s(L,k)}return function(L,k,z,X){try{ll=0;var me=it(L,k,z,X);return Is=null,me}catch(ve){if(ve===Wo||ve===rc)throw ve;var Pe=Tn(29,ve,null,L.mode);return Pe.lanes=X,Pe.return=L,Pe}finally{}}}var Os=oy(!0),ly=oy(!1),Un=ne(null),dr=null;function Ti(t){var r=t.alternate;ae(Mt,Mt.current&1),ae(Un,t),dr===null&&(r===null||Rs.current!==null||r.memoizedState!==null)&&(dr=t)}function uy(t){if(t.tag===22){if(ae(Mt,Mt.current),ae(Un,t),dr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(dr=t)}}else bi()}function bi(){ae(Mt,Mt.current),ae(Un,Un.current)}function Qr(t){le(Un),dr===t&&(dr=null),le(Mt)}var Mt=ne(0);function gc(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Hd(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function ed(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:E({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var td={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=wn(),h=vi(l);h.payload=r,s!=null&&(h.callback=s),r=_i(t,h,l),r!==null&&(xn(r,t,l),tl(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=wn(),h=vi(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=_i(t,h,l),r!==null&&(xn(r,t,l),tl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=wn(),l=vi(s);l.tag=2,r!=null&&(l.callback=r),r=_i(t,l,s),r!==null&&(xn(r,t,s),tl(r,t,s))}};function cy(t,r,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Go(s,l)||!Go(h,d):!0}function hy(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&td.enqueueReplaceState(r,r.state,null)}function Pa(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var yc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function fy(t){yc(t)}function dy(t){console.error(t)}function my(t){yc(t)}function vc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function py(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nd(t,r,s){return s=vi(s),s.tag=3,s.payload={element:null},s.callback=function(){vc(t,r)},s}function gy(t){return t=vi(t),t.tag=3,t}function yy(t,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){py(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){py(r,s,l),typeof h!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function R1(t,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&Ko(r,s,h,!0),s=Un.current,s!==null){switch(s.tag){case 13:return dr===null?xd():s.alternate===null&&_t===0&&(_t=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===If?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Cd(t,l,h)),!1;case 22:return s.flags|=65536,l===If?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Cd(t,l,h)),!1}throw Error(a(435,s.tag))}return Cd(t,l,h),xd(),!1}if(Ze)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Sf&&(t=Error(a(422),{cause:l}),Zo(kn(t,s)))):(l!==Sf&&(r=Error(a(423),{cause:l}),Zo(kn(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,s),h=nd(t.stateNode,l,h),Mf(t,h),_t!==4&&(_t=2)),!1;var d=Error(a(520),{cause:l});if(d=kn(d,s),gl===null?gl=[d]:gl.push(d),_t!==4&&(_t=2),r===null)return!0;l=kn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=nd(s.stateNode,l,t),Mf(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ci===null||!Ci.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=gy(h),yy(h,t,s,l),Mf(s,h),!1}s=s.return}while(s!==null);return!1}var vy=Error(a(461)),Bt=!1;function Yt(t,r,s,l){r.child=t===null?ly(r,null,s,l):Os(r,t.child,s,l)}function _y(t,r,s,l,h){s=s.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Ma(r),l=Uf(t,r,s,_,d,h),b=zf(),t!==null&&!Bt?(Bf(t,r,h),Yr(t,r,h)):(Ze&&b&&bf(r),r.flags|=1,Yt(t,r,l,h),r.child)}function Ey(t,r,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!_f(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,Ty(t,r,d,l,h)):(t=Xu(s.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!cd(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Go,s(_,l)&&t.ref===r.ref)return Yr(t,r,h)}return r.flags|=1,t=zr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Ty(t,r,s,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===r.ref)if(Bt=!1,r.pendingProps=l=d,cd(t,h))(t.flags&131072)!==0&&(Bt=!0);else return r.lanes=t.lanes,Yr(t,r,h)}return rd(t,r,s,l,h)}function by(t,r,s){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Ay(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&nc(r,d!==null?d.cachePool:null),d!==null?Tg(r,d):jf(),uy(r);else return r.lanes=r.childLanes=536870912,Ay(t,r,d!==null?d.baseLanes|s:s,s)}else d!==null?(nc(r,d.cachePool),Tg(r,d),bi(),r.memoizedState=null):(t!==null&&nc(r,null),jf(),bi());return Yt(t,r,h,s),r.child}function Ay(t,r,s,l){var h=Df();return h=h===null?null:{parent:Vt._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},t!==null&&nc(r,null),jf(),uy(r),t!==null&&Ko(t,r,l,!0),null}function _c(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function rd(t,r,s,l,h){return Ma(r),s=Uf(t,r,s,l,void 0,h),l=zf(),t!==null&&!Bt?(Bf(t,r,h),Yr(t,r,h)):(Ze&&l&&bf(r),r.flags|=1,Yt(t,r,s,h),r.child)}function Sy(t,r,s,l,h,d){return Ma(r),r.updateQueue=null,s=Ag(r,l,s,h),bg(t),l=zf(),t!==null&&!Bt?(Bf(t,r,d),Yr(t,r,d)):(Ze&&l&&bf(r),r.flags|=1,Yt(t,r,s,d),r.child)}function wy(t,r,s,l,h){if(Ma(r),r.stateNode===null){var d=bs,_=s.contextType;typeof _=="object"&&_!==null&&(d=en(_)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=td,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Of(r),_=s.contextType,d.context=typeof _=="object"&&_!==null?en(_):bs,d.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(ed(r,s,_,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&td.enqueueReplaceState(d,d.state,null),rl(r,l,d,h),nl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,D=Pa(s,b);d.props=D;var q=d.context,K=s.contextType;_=bs,typeof K=="object"&&K!==null&&(_=en(K));var J=s.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==_)&&hy(r,d,l,_),yi=!1;var G=r.memoizedState;d.state=G,rl(r,l,d,h),nl(),q=r.memoizedState,b||G!==q||yi?(typeof J=="function"&&(ed(r,s,J,l),q=r.memoizedState),(D=yi||cy(r,s,D,l,G,q,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Vf(t,r),_=r.memoizedProps,K=Pa(s,_),d.props=K,J=r.pendingProps,G=d.context,q=s.contextType,D=bs,typeof q=="object"&&q!==null&&(D=en(q)),b=s.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||G!==D)&&hy(r,d,l,D),yi=!1,G=r.memoizedState,d.state=G,rl(r,l,d,h),nl();var Q=r.memoizedState;_!==J||G!==Q||yi||t!==null&&t.dependencies!==null&&ec(t.dependencies)?(typeof b=="function"&&(ed(r,s,b,l),Q=r.memoizedState),(K=yi||cy(r,s,K,l,G,Q,D)||t!==null&&t.dependencies!==null&&ec(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,_c(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Os(r,t.child,null,h),r.child=Os(r,null,s,h)):Yt(t,r,s,h),r.memoizedState=d.state,t=r.child):t=Yr(t,r,h),t}function xy(t,r,s,l){return $o(),r.flags|=256,Yt(t,r,s,l),r.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(t){return{baseLanes:t,cachePool:dg()}}function sd(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=zn),t}function Ry(t,r,s){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ze){if(h?Ti(r):bi(),Ze){var b=vt,D;if(D=b){e:{for(D=b,b=fr;D.nodeType!==8;){if(!b){b=null;break e}if(D=Yn(D.nextSibling),D===null){b=null;break e}}b=D}b!==null?(r.memoizedState={dehydrated:b,treeContext:Na!==null?{id:Br,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},D=Tn(18,null,null,0),D.stateNode=b,D.return=r,r.child=D,hn=r,vt=null,D=!0):D=!1}D||Oa(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Hd(b)?r.lanes=32:r.lanes=536870912,null;Qr(r)}return b=l.children,l=l.fallback,h?(bi(),h=r.mode,b=Ec({mode:"hidden",children:b},h),l=Ca(l,h,s,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=ad(s),h.childLanes=sd(t,_,s),r.memoizedState=id,l):(Ti(r),od(r,b))}if(D=t.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(d)r.flags&256?(Ti(r),r.flags&=-257,r=ld(t,r,s)):r.memoizedState!==null?(bi(),r.child=t.child,r.flags|=128,r=null):(bi(),h=l.fallback,b=r.mode,l=Ec({mode:"visible",children:l.children},b),h=Ca(h,b,s,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Os(r,t.child,null,s),l=r.child,l.memoizedState=ad(s),l.childLanes=sd(t,_,s),r.memoizedState=id,r=h);else if(Ti(r),Hd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(a(419)),l.stack="",l.digest=_,Zo({value:l,source:null,stack:null}),r=ld(t,r,s)}else if(Bt||Ko(t,r,s,!1),_=(s&t.childLanes)!==0,Bt||_){if(_=lt,_!==null&&(l=s&-s,l=(l&42)!==0?1:ui(l),l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Ts(t,l),xn(_,t,l),vy;b.data==="$?"||xd(),r=ld(t,r,s)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,vt=Yn(b.nextSibling),hn=r,Ze=!0,Ia=null,fr=!1,t!==null&&(Pn[Ln++]=Br,Pn[Ln++]=qr,Pn[Ln++]=Na,Br=t.id,qr=t.overflow,Na=r),r=od(r,l.children),r.flags|=4096);return r}return h?(bi(),h=l.fallback,b=r.mode,D=t.child,q=D.sibling,l=zr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?h=zr(q,h):(h=Ca(h,b,s,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=ad(s):(D=b.cachePool,D!==null?(q=Vt._currentValue,D=D.parent!==q?{parent:q,pool:q}:D):D=dg(),b={baseLanes:b.baseLanes|s,cachePool:D}),h.memoizedState=b,h.childLanes=sd(t,_,s),r.memoizedState=id,l):(Ti(r),s=t.child,t=s.sibling,s=zr(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function od(t,r){return r=Ec({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Ec(t,r){return t=Tn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ld(t,r,s){return Os(r,t.child,null,s),t=od(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Cy(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),xf(t.return,r,s)}function ud(t,r,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function Ny(t,r,s){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Yt(t,r,l.children,s),l=Mt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cy(t,s,r);else if(t.tag===19)Cy(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ae(Mt,l),h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&gc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),ud(r,!1,h,s,d);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&gc(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}ud(r,!0,s,null,d);break;case"together":ud(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Ri|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(Ko(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=zr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=zr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function cd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ec(t)))}function C1(t,r,s){switch(r.tag){case 3:ot(r,r.stateNode.containerInfo),gi(r,Vt,t.memoizedState.cache),$o();break;case 27:case 5:li(r);break;case 4:ot(r,r.stateNode.containerInfo);break;case 10:gi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ti(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Ry(t,r,s):(Ti(r),t=Yr(t,r,s),t!==null?t.sibling:null);Ti(r);break;case 19:var h=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(Ko(t,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return Ny(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Mt,Mt.current),l)break;return null;case 22:case 23:return r.lanes=0,by(t,r,s);case 24:gi(r,Vt,t.memoizedState.cache)}return Yr(t,r,s)}function Dy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Bt=!0;else{if(!cd(t,s)&&(r.flags&128)===0)return Bt=!1,C1(t,r,s);Bt=(t.flags&131072)!==0}else Bt=!1,Ze&&(r.flags&1048576)!==0&&sg(r,Wu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")_f(l)?(t=Pa(l,t),r.tag=1,r=wy(null,r,l,t,s)):(r.tag=0,r=rd(null,r,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===ye){r.tag=11,r=_y(null,r,l,t,s);break e}else if(h===j){r.tag=14,r=Ey(null,r,l,t,s);break e}}throw r=ft(l)||l,Error(a(306,r,""))}}return r;case 0:return rd(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=Pa(l,r.pendingProps),wy(t,r,l,h,s);case 3:e:{if(ot(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Vf(t,r),rl(r,l,null,s);var _=r.memoizedState;if(l=_.cache,gi(r,Vt,l),l!==d.cache&&Rf(r,[Vt],s,!0),nl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=xy(t,r,l,s);break e}else if(l!==h){h=kn(Error(a(424)),r),Zo(h),r=xy(t,r,l,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(vt=Yn(t.firstChild),hn=r,Ze=!0,Ia=null,fr=!0,s=ly(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if($o(),l===h){r=Yr(t,r,s);break e}Yt(t,r,l,s)}r=r.child}return r;case 26:return _c(t,r),t===null?(s=Mv(r.type,null,r.pendingProps,null))?r.memoizedState=s:Ze||(s=r.type,t=r.pendingProps,l=Mc(Re.current).createElement(s),l[Dt]=r,l[St]=t,Zt(l,s,t),Et(l),r.stateNode=l):r.memoizedState=Mv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return li(r),t===null&&Ze&&(l=r.stateNode=Iv(r.type,r.pendingProps,Re.current),hn=r,fr=!0,h=vt,Ii(r.type)?(Fd=h,vt=Yn(l.firstChild)):vt=h),Yt(t,r,r.pendingProps.children,s),_c(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ze&&((h=l=vt)&&(l=nb(l,r.type,r.pendingProps,fr),l!==null?(r.stateNode=l,hn=r,vt=Yn(l.firstChild),fr=!1,h=!0):h=!1),h||Oa(r)),li(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,zd(h,d)?l=null:_!==null&&zd(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Uf(t,r,E1,null,null,s),wl._currentValue=h),_c(t,r),Yt(t,r,l,s),r.child;case 6:return t===null&&Ze&&((t=s=vt)&&(s=rb(s,r.pendingProps,fr),s!==null?(r.stateNode=s,hn=r,vt=null,t=!0):t=!1),t||Oa(r)),null;case 13:return Ry(t,r,s);case 4:return ot(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Os(r,null,l,s):Yt(t,r,l,s),r.child;case 11:return _y(t,r,r.type,r.pendingProps,s);case 7:return Yt(t,r,r.pendingProps,s),r.child;case 8:return Yt(t,r,r.pendingProps.children,s),r.child;case 12:return Yt(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,gi(r,r.type,l.value),Yt(t,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ma(r),h=en(h),l=l(h),r.flags|=1,Yt(t,r,l,s),r.child;case 14:return Ey(t,r,r.type,r.pendingProps,s);case 15:return Ty(t,r,r.type,r.pendingProps,s);case 19:return Ny(t,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},t===null?(s=Ec(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=zr(t.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return by(t,r,s);case 24:return Ma(r),l=en(Vt),t===null?(h=Df(),h===null&&(h=lt,d=Cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:l,cache:h},Of(r),gi(r,Vt,h)):((t.lanes&s)!==0&&(Vf(t,r),rl(r,null,null,s),nl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),gi(r,Vt,l)):(l=d.cache,gi(r,Vt,l),l!==h.cache&&Rf(r,[Vt],s,!0))),Yt(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function $r(t){t.flags|=4}function Iy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Uv(r)){if(r=Un.current,r!==null&&((He&4194048)===He?dr!==null:(He&62914560)!==He&&(He&536870912)===0||r!==dr))throw el=If,mg;t.flags|=8192}}function Tc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ro():536870912,t.lanes|=r,js|=r)}function cl(t,r){if(!Ze)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function N1(t,r,s){var l=r.pendingProps;switch(Af(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(r),null;case 1:return dt(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Fr(Vt),er(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Yo(r)?$r(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ug())),dt(r),null;case 26:return s=r.memoizedState,t===null?($r(r),s!==null?(dt(r),Iy(r,s)):(dt(r),r.flags&=-16777217)):s?s!==t.memoizedState?($r(r),dt(r),Iy(r,s)):(dt(r),r.flags&=-16777217):(t.memoizedProps!==l&&$r(r),dt(r),r.flags&=-16777217),null;case 27:Rr(r),s=Re.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&$r(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return dt(r),null}t=Ee.current,Yo(r)?og(r):(t=Iv(h,l,s),r.stateNode=t,$r(r))}return dt(r),null;case 5:if(Rr(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&$r(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return dt(r),null}if(t=Ee.current,Yo(r))og(r);else{switch(h=Mc(Re.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[Dt]=r,t[St]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Zt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$r(r)}}return dt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&$r(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=Re.current,Yo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,h=hn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Dt]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Sv(t.nodeValue,s)),t||Oa(r)}else t=Mc(t).createTextNode(l),t[Dt]=r,r.stateNode=t}return dt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Yo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Dt]=r}else $o(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dt(r),h=!1}else h=ug(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Qr(r),r):(Qr(r),null)}if(Qr(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),Tc(r,r.updateQueue),dt(r),null;case 4:return er(),t===null&&kd(r.stateNode.containerInfo),dt(r),null;case 10:return Fr(r.type),dt(r),null;case 19:if(le(Mt),h=r.memoizedState,h===null)return dt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)cl(h,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=gc(t),d!==null){for(r.flags|=128,cl(h,!1),t=d.updateQueue,r.updateQueue=t,Tc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)ag(s,t),s=s.sibling;return ae(Mt,Mt.current&1|2),r.child}t=t.sibling}h.tail!==null&&Nn()>Sc&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304)}else{if(!l)if(t=gc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Tc(r,t),cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ze)return dt(r),null}else 2*Nn()-h.renderingStartTime>Sc&&s!==536870912&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Nn(),r.sibling=null,t=Mt.current,ae(Mt,l?t&1|2:t&1),r):(dt(r),null);case 22:case 23:return Qr(r),Pf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(dt(r),r.subtreeFlags&6&&(r.flags|=8192)):dt(r),s=r.updateQueue,s!==null&&Tc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&le(ka),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Fr(Vt),dt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function D1(t,r){switch(Af(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Fr(Vt),er(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Rr(r),null;case 13:if(Qr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));$o()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(Mt),null;case 4:return er(),null;case 10:return Fr(r.type),null;case 22:case 23:return Qr(r),Pf(),t!==null&&le(ka),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Fr(Vt),null;case 25:return null;default:return null}}function Oy(t,r){switch(Af(r),r.tag){case 3:Fr(Vt),er();break;case 26:case 27:case 5:Rr(r);break;case 4:er();break;case 13:Qr(r);break;case 19:le(Mt);break;case 10:Fr(r.type);break;case 22:case 23:Qr(r),Pf(),t!==null&&le(ka);break;case 24:Fr(Vt)}}function hl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(b){st(r,r.return,b)}}function Ai(t,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=r;var D=s,q=b;try{q()}catch(K){st(h,D,K)}}}l=l.next}while(l!==d)}}catch(K){st(r,r.return,K)}}function Vy(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{Eg(r,s)}catch(l){st(t,t.return,l)}}}function My(t,r,s){s.props=Pa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){st(t,r,l)}}function fl(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){st(t,r,h)}}function mr(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){st(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){st(t,r,h)}else s.current=null}function ky(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){st(t,t.return,h)}}function hd(t,r,s){try{var l=t.stateNode;X1(l,t.type,s,r),l[St]=r}catch(h){st(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ii(t.type)||t.tag===4}function fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ii(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dd(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Vc));else if(l!==4&&(l===27&&Ii(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(dd(t,r,s),t=t.sibling;t!==null;)dd(t,r,s),t=t.sibling}function bc(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&Ii(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(bc(t,r,s),t=t.sibling;t!==null;)bc(t,r,s),t=t.sibling}function Py(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Zt(r,l,s),r[Dt]=t,r[St]=s}catch(d){st(t,t.return,d)}}var Zr=!1,bt=!1,md=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,qt=null;function I1(t,r){if(t=t.containerInfo,Ld=zc,t=Zp(t),ff(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,b=-1,D=-1,q=0,K=0,J=t,G=null;t:for(;;){for(var Q;J!==s||h!==0&&J.nodeType!==3||(b=_+h),J!==d||l!==0&&J.nodeType!==3||(D=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(Q=J.firstChild)!==null;)G=J,J=Q;for(;;){if(J===t)break t;if(G===s&&++q===h&&(b=_),G===d&&++K===l&&(D=_),(Q=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=Q}s=b===-1||D===-1?null:{start:b,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ud={focusedElem:t,selectionRange:s},zc=!1,qt=r;qt!==null;)if(r=qt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,qt=t;else for(;qt!==null;){switch(r=qt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var we=Pa(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){st(s,s.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)qd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,qt=t;break}qt=r.return}}function Uy(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Si(t,s),l&4&&hl(5,s);break;case 1:if(Si(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){st(s,s.return,_)}else{var h=Pa(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){st(s,s.return,_)}}l&64&&Vy(s),l&512&&fl(s,s.return);break;case 3:if(Si(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Eg(t,r)}catch(_){st(s,s.return,_)}}break;case 27:r===null&&l&4&&Py(s);case 26:case 5:Si(t,s),r===null&&l&4&&ky(s),l&512&&fl(s,s.return);break;case 12:Si(t,s);break;case 13:Si(t,s),l&4&&qy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=z1.bind(null,s),ib(t,s))));break;case 22:if(l=s.memoizedState!==null||Zr,!l){r=r!==null&&r.memoizedState!==null||bt,h=Zr;var d=bt;Zr=l,(bt=r)&&!d?wi(t,s,(s.subtreeFlags&8772)!==0):Si(t,s),Zr=h,bt=d}break;case 30:break;default:Si(t,s)}}function zy(t){var r=t.alternate;r!==null&&(t.alternate=null,zy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&fi(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,mn=!1;function Kr(t,r,s){for(s=s.child;s!==null;)By(t,r,s),s=s.sibling}function By(t,r,s){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(yt,s)}catch{}switch(s.tag){case 26:bt||mr(s,r),Kr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:bt||mr(s,r);var l=ht,h=mn;Ii(s.type)&&(ht=s.stateNode,mn=!1),Kr(t,r,s),Tl(s.stateNode),ht=l,mn=h;break;case 5:bt||mr(s,r);case 6:if(l=ht,h=mn,ht=null,Kr(t,r,s),ht=l,mn=h,ht!==null)if(mn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(s.stateNode)}catch(d){st(s,r,d)}else try{ht.removeChild(s.stateNode)}catch(d){st(s,r,d)}break;case 18:ht!==null&&(mn?(t=ht,Nv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Nl(t)):Nv(ht,s.stateNode));break;case 4:l=ht,h=mn,ht=s.stateNode.containerInfo,mn=!0,Kr(t,r,s),ht=l,mn=h;break;case 0:case 11:case 14:case 15:bt||Ai(2,s,r),bt||Ai(4,s,r),Kr(t,r,s);break;case 1:bt||(mr(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&My(s,r,l)),Kr(t,r,s);break;case 21:Kr(t,r,s);break;case 22:bt=(l=bt)||s.memoizedState!==null,Kr(t,r,s),bt=l;break;default:Kr(t,r,s)}}function qy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(s){st(r,r.return,s)}}function O1(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ly),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ly),r;default:throw Error(a(435,t.tag))}}function pd(t,r){var s=O1(t);r.forEach(function(l){var h=B1.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function bn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Ii(b.type)){ht=b.stateNode,mn=!1;break e}break;case 5:ht=b.stateNode,mn=!1;break e;case 3:case 4:ht=b.stateNode.containerInfo,mn=!0;break e}b=b.return}if(ht===null)throw Error(a(160));By(d,_,h),ht=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Hy(r,t),r=r.sibling}var Qn=null;function Hy(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(r,t),An(t),l&4&&(Ai(3,t,t.return),hl(3,t),Ai(5,t,t.return));break;case 1:bn(r,t),An(t),l&512&&(bt||s===null||mr(s,s.return)),l&64&&Zr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Qn;if(bn(r,t),An(t),l&512&&(bt||s===null||mr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fa]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Zt(d,l,s),d[Dt]=t,Et(d),l=d;break e;case"link":var _=Pv("link","href",h).get(l+(s.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),Zt(d,l,s),h.head.appendChild(d);break;case"meta":if(_=Pv("meta","content",h).get(l+(s.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(b,1);break t}}d=h.createElement(l),Zt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Dt]=t,Et(d),l=d}t.stateNode=l}else Lv(h,t.type,t.stateNode);else t.stateNode=jv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Lv(h,t.type,t.stateNode):jv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&hd(t,t.memoizedProps,s.memoizedProps)}break;case 27:bn(r,t),An(t),l&512&&(bt||s===null||mr(s,s.return)),s!==null&&l&4&&hd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(bn(r,t),An(t),l&512&&(bt||s===null||mr(s,s.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(Q){st(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,hd(t,h,s!==null?s.memoizedProps:h)),l&1024&&(md=!0);break;case 6:if(bn(r,t),An(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Q){st(t,t.return,Q)}}break;case 3:if(Pc=null,h=Qn,Qn=kc(r.containerInfo),bn(r,t),Qn=h,An(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Nl(r.containerInfo)}catch(Q){st(t,t.return,Q)}md&&(md=!1,Fy(t));break;case 4:l=Qn,Qn=kc(t.stateNode.containerInfo),bn(r,t),An(t),Qn=l;break;case 12:bn(r,t),An(t);break;case 13:bn(r,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Td=Nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 22:h=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,q=Zr,K=bt;if(Zr=q||h,bt=K||D,bn(r,t),bt=K,Zr=q,An(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||D||Zr||bt||La(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){D=s=r;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=D.stateNode;var J=D.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){st(D,D.return,Q)}}}else if(r.tag===6){if(s===null){D=r;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(Q){st(D,D.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,pd(t,s))));break;case 19:bn(r,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 30:break;case 21:break;default:bn(r,t),An(t)}}function An(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(jy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=fd(t);bc(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(In(_,""),s.flags&=-33);var b=fd(t);bc(t,b,_);break;case 3:case 4:var D=s.stateNode.containerInfo,q=fd(t);dd(t,q,D);break;default:throw Error(a(161))}}catch(K){st(t,t.return,K)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Fy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Fy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Si(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Uy(t,r.alternate,r),r=r.sibling}function La(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ai(4,r,r.return),La(r);break;case 1:mr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&My(r,r.return,s),La(r);break;case 27:Tl(r.stateNode);case 26:case 5:mr(r,r.return),La(r);break;case 22:r.memoizedState===null&&La(r);break;case 30:La(r);break;default:La(r)}t=t.sibling}}function wi(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:wi(h,d,s),hl(4,d);break;case 1:if(wi(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){st(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)_g(D[h],b)}catch(q){st(l,l.return,q)}}s&&_&64&&Vy(d),fl(d,d.return);break;case 27:Py(d);case 26:case 5:wi(h,d,s),s&&l===null&&_&4&&ky(d),fl(d,d.return);break;case 12:wi(h,d,s);break;case 13:wi(h,d,s),s&&_&4&&qy(h,d);break;case 22:d.memoizedState===null&&wi(h,d,s),fl(d,d.return);break;case 30:break;default:wi(h,d,s)}r=r.sibling}}function gd(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Xo(s))}function yd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Xo(t))}function pr(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Gy(t,r,s,l),r=r.sibling}function Gy(t,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:pr(t,r,s,l),h&2048&&hl(9,r);break;case 1:pr(t,r,s,l);break;case 3:pr(t,r,s,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){pr(t,r,s,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){st(r,r.return,D)}}else pr(t,r,s,l);break;case 13:pr(t,r,s,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?pr(t,r,s,l):dl(t,r):d._visibility&2?pr(t,r,s,l):(d._visibility|=2,Vs(t,r,s,l,(r.subtreeFlags&10256)!==0)),h&2048&&gd(_,r);break;case 24:pr(t,r,s,l),h&2048&&yd(r.alternate,r);break;default:pr(t,r,s,l)}}function Vs(t,r,s,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,b=s,D=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Vs(d,_,b,D,h),hl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Vs(d,_,b,D,h):dl(d,_):(K._visibility|=2,Vs(d,_,b,D,h)),h&&q&2048&&gd(_.alternate,_);break;case 24:Vs(d,_,b,D,h),h&&q&2048&&yd(_.alternate,_);break;default:Vs(d,_,b,D,h)}r=r.sibling}}function dl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,h=l.flags;switch(l.tag){case 22:dl(s,l),h&2048&&gd(l.alternate,l);break;case 24:dl(s,l),h&2048&&yd(l.alternate,l);break;default:dl(s,l)}r=r.sibling}}var ml=8192;function Ms(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Qy(t),t=t.sibling}function Qy(t){switch(t.tag){case 26:Ms(t),t.flags&ml&&t.memoizedState!==null&&yb(Qn,t.memoizedState,t.memoizedProps);break;case 5:Ms(t);break;case 3:case 4:var r=Qn;Qn=kc(t.stateNode.containerInfo),Ms(t),Qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ml,ml=16777216,Ms(t),ml=r):Ms(t));break;default:Ms(t)}}function Yy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function pl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];qt=l,Zy(l,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$y(t),t=t.sibling}function $y(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Ai(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ac(t)):pl(t);break;default:pl(t)}}function Ac(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];qt=l,Zy(l,t)}Yy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ai(8,r,r.return),Ac(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Ac(r));break;default:Ac(r)}t=t.sibling}}function Zy(t,r){for(;qt!==null;){var s=qt;switch(s.tag){case 0:case 11:case 15:Ai(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,qt=l;else e:for(s=t;qt!==null;){l=qt;var h=l.sibling,d=l.return;if(zy(l),l===s){qt=null;break e}if(h!==null){h.return=d,qt=h;break e}qt=d}}}var V1={getCacheForType:function(t){var r=en(Vt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},M1=typeof WeakMap=="function"?WeakMap:Map,We=0,lt=null,Le=null,He=0,et=0,Sn=null,xi=!1,ks=!1,vd=!1,Xr=0,_t=0,Ri=0,Ua=0,_d=0,zn=0,js=0,gl=null,pn=null,Ed=!1,Td=0,Sc=1/0,wc=null,Ci=null,$t=0,Ni=null,Ps=null,Ls=0,bd=0,Ad=null,Ky=null,yl=0,Sd=null;function wn(){if((We&2)!==0&&He!==0)return He&-He;if(Z.T!==null){var t=ws;return t!==0?t:Id()}return ci()}function Xy(){zn===0&&(zn=(He&536870912)===0||Ze?xo():536870912);var t=Un.current;return t!==null&&(t.flags|=32),zn}function xn(t,r,s){(t===lt&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Us(t,0),Di(t,He,zn,!1)),Nr(t,s),((We&2)===0||t!==lt)&&(t===lt&&((We&2)===0&&(Ua|=s),_t===4&&Di(t,He,zn,!1)),gr(t))}function Jy(t,r,s){if((We&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&t.expiredLanes)===0||ha(t,r),h=l?P1(t,r):Rd(t,r,!0),d=l;do{if(h===0){ks&&!l&&Di(t,r,0,!1);break}else{if(s=t.current.alternate,d&&!k1(s)){h=Rd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=t;h=gl;var D=b.current.memoizedState.isDehydrated;if(D&&(Us(b,_).flags|=256),_=Rd(b,_,!1),_!==2){if(vd&&!D){b.errorRecoveryDisabledLanes|=d,Ua|=d,h=4;break e}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Us(t,0),Di(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Di(l,r,zn,!xi);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=Td+300-Nn(),10<h)){if(Di(l,r,zn,!xi),ns(l,0,!0)!==0)break e;l.timeoutHandle=Rv(Wy.bind(null,l,s,pn,wc,Ed,r,zn,Ua,js,xi,d,2,-0,0),h);break e}Wy(l,s,pn,wc,Ed,r,zn,Ua,js,xi,d,0,-0,0)}}break}while(!0);gr(t)}function Wy(t,r,s,l,h,d,_,b,D,q,K,J,G,Q){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:gb},Qy(r),J=vb(),J!==null)){t.cancelPendingCommit=J(sv.bind(null,t,r,d,s,l,h,_,b,D,K,1,G,Q)),Di(t,d,_,!q);return}sv(t,r,d,s,l,h,_,b,D)}function k1(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Di(t,r,s,l){r&=~_d,r&=~Ua,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Wt(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&tr(t,s,r)}function xc(){return(We&6)===0?(vl(0),!1):!0}function wd(){if(Le!==null){if(et===0)var t=Le.return;else t=Le,Hr=Va=null,qf(t),Is=null,ll=0,t=Le;for(;t!==null;)Oy(t.alternate,t),t=t.return;Le=null}}function Us(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,W1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),wd(),lt=t,Le=s=zr(t.current,null),He=r,et=0,Sn=null,xi=!1,ks=ha(t,r),vd=!1,js=zn=_d=Ua=Ri=_t=0,pn=gl=null,Ed=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Wt(l),d=1<<h;r|=t[h],l&=~d}return Xr=r,$u(),s}function ev(t,r){Me=null,Z.H=dc,r===Wo||r===rc?(r=yg(),et=3):r===mg?(r=yg(),et=4):et=r===vy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,Le===null&&(_t=1,vc(t,kn(r,t.current)))}function tv(){var t=Z.H;return Z.H=dc,t===null?dc:t}function nv(){var t=Z.A;return Z.A=V1,t}function xd(){_t=4,xi||(He&4194048)!==He&&Un.current!==null||(ks=!0),(Ri&134217727)===0&&(Ua&134217727)===0||lt===null||Di(lt,He,zn,!1)}function Rd(t,r,s){var l=We;We|=2;var h=tv(),d=nv();(lt!==t||He!==r)&&(wc=null,Us(t,r)),r=!1;var _=_t;e:do try{if(et!==0&&Le!==null){var b=Le,D=Sn;switch(et){case 8:wd(),_=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var q=et;if(et=0,Sn=null,zs(t,b,D,q),s&&ks){_=0;break e}break;default:q=et,et=0,Sn=null,zs(t,b,D,q)}}j1(),_=_t;break}catch(K){ev(t,K)}while(!0);return r&&t.shellSuspendCounter++,Hr=Va=null,We=l,Z.H=h,Z.A=d,Le===null&&(lt=null,He=0,$u()),_}function j1(){for(;Le!==null;)rv(Le)}function P1(t,r){var s=We;We|=2;var l=tv(),h=nv();lt!==t||He!==r?(wc=null,Sc=Nn()+500,Us(t,r)):ks=ha(t,r);e:do try{if(et!==0&&Le!==null){r=Le;var d=Sn;t:switch(et){case 1:et=0,Sn=null,zs(t,r,d,1);break;case 2:case 9:if(pg(d)){et=0,Sn=null,iv(r);break}r=function(){et!==2&&et!==9||lt!==t||(et=7),gr(t)},d.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:pg(d)?(et=0,Sn=null,iv(r)):(et=0,Sn=null,zs(t,r,d,7));break;case 5:var _=null;switch(Le.tag){case 26:_=Le.memoizedState;case 5:case 27:var b=Le;if(!_||Uv(_)){et=0,Sn=null;var D=b.sibling;if(D!==null)Le=D;else{var q=b.return;q!==null?(Le=q,Rc(q)):Le=null}break t}}et=0,Sn=null,zs(t,r,d,5);break;case 6:et=0,Sn=null,zs(t,r,d,6);break;case 8:wd(),_t=6;break e;default:throw Error(a(462))}}L1();break}catch(K){ev(t,K)}while(!0);return Hr=Va=null,Z.H=l,Z.A=h,We=s,Le!==null?0:(lt=null,He=0,$u(),_t)}function L1(){for(;Le!==null&&!bo();)rv(Le)}function rv(t){var r=Dy(t.alternate,t,Xr);t.memoizedProps=t.pendingProps,r===null?Rc(t):Le=r}function iv(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Sy(s,r,r.pendingProps,r.type,void 0,He);break;case 11:r=Sy(s,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:qf(r);default:Oy(s,r),r=Le=ag(r,Xr),r=Dy(s,r,Xr)}t.memoizedProps=t.pendingProps,r===null?Rc(t):Le=r}function zs(t,r,s,l){Hr=Va=null,qf(r),Is=null,ll=0;var h=r.return;try{if(R1(t,h,r,s,He)){_t=1,vc(t,kn(s,t.current)),Le=null;return}}catch(d){if(h!==null)throw Le=h,d;_t=1,vc(t,kn(s,t.current)),Le=null;return}r.flags&32768?(Ze||l===1?t=!0:ks||(He&536870912)!==0?t=!1:(xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),av(r,t)):Rc(r)}function Rc(t){var r=t;do{if((r.flags&32768)!==0){av(r,xi);return}t=r.return;var s=N1(r.alternate,r,Xr);if(s!==null){Le=s;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=t}while(r!==null);_t===0&&(_t=5)}function av(t,r){do{var s=D1(t.alternate,t);if(s!==null){s.flags&=32767,Le=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Le=t;return}Le=t=s}while(t!==null);_t=6,Le=null}function sv(t,r,s,l,h,d,_,b,D){t.cancelPendingCommit=null;do Cc();while($t!==0);if((We&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(d=r.lanes|r.childLanes,d|=yf,Co(t,s,d,_,b,D),t===lt&&(Le=lt=null,He=0),Ps=r,Ni=t,Ls=s,bd=d,Ad=h,Ky=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,q1(oa,function(){return hv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,h=oe.p,oe.p=2,_=We,We|=4;try{I1(t,r,s)}finally{We=_,oe.p=h,Z.T=l}}$t=1,ov(),lv(),uv()}}function ov(){if($t===1){$t=0;var t=Ni,r=Ps,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=Z.T,Z.T=null;var l=oe.p;oe.p=2;var h=We;We|=4;try{Hy(r,t);var d=Ud,_=Zp(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&$p(b.ownerDocument.documentElement,b)){if(D!==null&&ff(b)){var q=D.start,K=D.end;if(K===void 0&&(K=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(K,b.value.length);else{var J=b.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var Q=G.getSelection(),we=b.textContent.length,Te=Math.min(D.start,we),it=D.end===void 0?Te:Math.min(D.end,we);!Q.extend&&Te>it&&(_=it,it=Te,Te=_);var L=Yp(b,Te),k=Yp(b,it);if(L&&k&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var z=J.createRange();z.setStart(L.node,L.offset),Q.removeAllRanges(),Te>it?(Q.addRange(z),Q.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),Q.addRange(z))}}}}for(J=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&J.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var X=J[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}zc=!!Ld,Ud=Ld=null}finally{We=h,oe.p=l,Z.T=s}}t.current=r,$t=2}}function lv(){if($t===2){$t=0;var t=Ni,r=Ps,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=Z.T,Z.T=null;var l=oe.p;oe.p=2;var h=We;We|=4;try{Uy(t,r.alternate,r)}finally{We=h,oe.p=l,Z.T=s}}$t=3}}function uv(){if($t===4||$t===3){$t=0,Au();var t=Ni,r=Ps,s=Ls,l=Ky;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,Ps=Ni=null,cv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ci=null),rs(s),r=r.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(yt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Z.T,h=oe.p,oe.p=2,Z.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Z.T=r,oe.p=h}}(Ls&3)!==0&&Cc(),gr(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Sd?yl++:(yl=0,Sd=t):yl=0,vl(0)}}function cv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Xo(r)))}function Cc(t){return ov(),lv(),uv(),hv()}function hv(){if($t!==5)return!1;var t=Ni,r=bd;bd=0;var s=rs(Ls),l=Z.T,h=oe.p;try{oe.p=32>s?32:s,Z.T=null,s=Ad,Ad=null;var d=Ni,_=Ls;if($t=0,Ps=Ni=null,Ls=0,(We&6)!==0)throw Error(a(331));var b=We;if(We|=4,$y(d.current),Gy(d,d.current,_,s),We=b,vl(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(yt,d)}catch{}return!0}finally{oe.p=h,Z.T=l,cv(t,r)}}function fv(t,r,s){r=kn(s,r),r=nd(t.stateNode,r,2),t=_i(t,r,2),t!==null&&(Nr(t,2),gr(t))}function st(t,r,s){if(t.tag===3)fv(t,t,s);else for(;r!==null;){if(r.tag===3){fv(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))){t=kn(s,t),s=gy(2),l=_i(r,s,2),l!==null&&(yy(s,l,r,t),Nr(l,2),gr(l));break}}r=r.return}}function Cd(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new M1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(vd=!0,h.add(s),t=U1.bind(null,t,r,s),r.then(t,t))}function U1(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,lt===t&&(He&s)===s&&(_t===4||_t===3&&(He&62914560)===He&&300>Nn()-Td?(We&2)===0&&Us(t,0):_d|=s,js===He&&(js=0)),gr(t)}function dv(t,r){r===0&&(r=Ro()),t=Ts(t,r),t!==null&&(Nr(t,r),gr(t))}function z1(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),dv(t,s)}function B1(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),dv(t,s)}function q1(t,r){return aa(t,r)}var Nc=null,Bs=null,Nd=!1,Dc=!1,Dd=!1,za=0;function gr(t){t!==Bs&&t.next===null&&(Bs===null?Nc=Bs=t:Bs=Bs.next=t),Dc=!0,Nd||(Nd=!0,F1())}function vl(t,r){if(!Dd&&Dc){Dd=!0;do for(var s=!1,l=Nc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,yv(l,d))}else d=He,d=ns(l,l===lt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ha(l,d)||(s=!0,yv(l,d));l=l.next}while(s);Dd=!1}}function H1(){mv()}function mv(){Dc=Nd=!1;var t=0;za!==0&&(J1()&&(t=za),za=0);for(var r=Nn(),s=null,l=Nc;l!==null;){var h=l.next,d=pv(l,r);d===0?(l.next=null,s===null?Nc=h:s.next=h,h===null&&(Bs=s)):(s=l,(t!==0||(d&3)!==0)&&(Dc=!0)),l=h}vl(t)}function pv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Wt(d),b=1<<_,D=h[_];D===-1?((b&s)===0||(b&l)!==0)&&(h[_]=wo(b,r)):D<=r&&(t.expiredLanes|=b),d&=~b}if(r=lt,s=He,s=ns(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&sa(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ha(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&sa(l),rs(s)){case 2:case 8:s=es;break;case 32:s=oa;break;case 268435456:s=ts;break;default:s=oa}return l=gv.bind(null,t),s=aa(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&sa(l),t.callbackPriority=2,t.callbackNode=null,2}function gv(t,r){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Cc()&&t.callbackNode!==s)return null;var l=He;return l=ns(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Jy(t,l,r),pv(t,Nn()),t.callbackNode!=null&&t.callbackNode===s?gv.bind(null,t):null)}function yv(t,r){if(Cc())return null;Jy(t,r,!0)}function F1(){eb(function(){(We&6)!==0?aa(Ao,H1):mv()})}function Id(){return za===0&&(za=xo()),za}function vv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:us(""+t)}function _v(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function G1(t,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var d=vv((h[St]||null).action),_=l.submitter;_&&(r=(r=_[St]||null)?vv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new cs("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(za!==0){var D=_?_v(h,_):new FormData(h);Xf(s,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=_?_v(h,_):new FormData(h),Xf(s,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Od=0;Od<gf.length;Od++){var Vd=gf[Od],Q1=Vd.toLowerCase(),Y1=Vd[0].toUpperCase()+Vd.slice(1);Gn(Q1,"on"+Y1)}Gn(Jp,"onAnimationEnd"),Gn(Wp,"onAnimationIteration"),Gn(eg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(c1,"onTransitionRun"),Gn(h1,"onTransitionStart"),Gn(f1,"onTransitionCancel"),Gn(tg,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function Ev(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],D=b.instance,q=b.currentTarget;if(b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(K){yc(K)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(b=l[_],D=b.instance,q=b.currentTarget,b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(K){yc(K)}h.currentTarget=null,d=D}}}}function Ue(t,r){var s=r[Do];s===void 0&&(s=r[Do]=new Set);var l=t+"__bubble";s.has(l)||(Tv(r,t,2,!1),s.add(l))}function Md(t,r,s){var l=0;r&&(l|=4),Tv(s,t,l,r)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[Ic]){t[Ic]=!0,Io.forEach(function(s){s!=="selectionchange"&&($1.has(s)||Md(s,!1,t),Md(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ic]||(r[Ic]=!0,Md("selectionchange",!1,r))}}function Tv(t,r,s,l){switch(Gv(r)){case 2:var h=Tb;break;case 8:h=bb;break;default:h=Zd}s=h.bind(null,r,s,t),h=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function jd(t,r,s,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=Dr(b),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Vu(function(){var q=d,K=On(s),J=[];e:{var G=ng.get(t);if(G!==void 0){var Q=cs,we=t;switch(t){case"keypress":if(or(s)===0)break e;case"keydown":case"keyup":Q=gs;break;case"focusin":we="focus",Q=ds;break;case"focusout":we="blur",Q=ds;break;case"beforeblur":case"afterblur":Q=ds;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Bu;break;case Jp:case Wp:case eg:Q=ms;break;case tg:Q=Hu;break;case"scroll":case"scrollend":Q=Mu;break;case"wheel":Q=ys;break;case"copy":case"cut":case"paste":Q=ps;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ho;break;case"toggle":case"beforetoggle":Q=Gu}var Te=(r&4)!==0,it=!Te&&(t==="scroll"||t==="scrollend"),L=Te?G!==null?G+"Capture":null:G;Te=[];for(var k=q,z;k!==null;){var X=k;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||L===null||(X=_a(k,L),X!=null&&Te.push(El(k,X,z))),it)break;k=k.return}0<Te.length&&(G=new Q(G,we,null,s,K),J.push({event:G,listeners:Te}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&s!==Mr&&(we=s.relatedTarget||s.fromElement)&&(Dr(we)||we[Dn]))break e;if((Q||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(we=s.relatedTarget||s.toElement,Q=q,we=we?Dr(we):null,we!==null&&(it=u(we),Te=we.tag,we!==it||Te!==5&&Te!==27&&Te!==6)&&(we=null)):(Q=null,we=q),Q!==we)){if(Te=Mn,X="onMouseLeave",L="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Ho,X="onPointerLeave",L="onPointerEnter",k="pointer"),it=Q==null?G:rr(Q),z=we==null?G:rr(we),G=new Te(X,k+"leave",Q,s,K),G.target=it,G.relatedTarget=z,X=null,Dr(K)===q&&(Te=new Te(L,k+"enter",we,s,K),Te.target=z,Te.relatedTarget=it,X=Te),it=X,Q&&we)t:{for(Te=Q,L=we,k=0,z=Te;z;z=qs(z))k++;for(z=0,X=L;X;X=qs(X))z++;for(;0<k-z;)Te=qs(Te),k--;for(;0<z-k;)L=qs(L),z--;for(;k--;){if(Te===L||L!==null&&Te===L.alternate)break t;Te=qs(Te),L=qs(L)}Te=null}else Te=null;Q!==null&&bv(J,G,Q,Te,!1),we!==null&&it!==null&&bv(J,it,we,Te,!0)}}e:{if(G=q?rr(q):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var me=Bp;else if(Ot(G))if(qp)me=o1;else{me=a1;var Pe=i1}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&jo(q.elementType)&&(me=Bp):me=s1;if(me&&(me=me(t,q))){Ur(J,me,s,K);break e}Pe&&Pe(t,G,q),t==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&mi(G,"number",G.value)}switch(Pe=q?rr(q):window,t){case"focusin":(Ot(Pe)||Pe.contentEditable==="true")&&(vs=Pe,df=q,Qo=null);break;case"focusout":Qo=df=vs=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,Kp(J,s,K);break;case"selectionchange":if(u1)break;case"keydown":case"keyup":Kp(J,s,K)}var ve;if(cr)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Be?Y(t,s)&&(be="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(be="onCompositionStart");be&&(v&&s.locale!=="ko"&&(Be||be!=="onCompositionStart"?be==="onCompositionEnd"&&Be&&(ve=Lo()):(sr=K,pi="value"in sr?sr.value:sr.textContent,Be=!0)),Pe=Oc(q,be),0<Pe.length&&(be=new Bo(be,t,null,s,K),J.push({event:be,listeners:Pe}),ve?be.data=ve:(ve=se(s),ve!==null&&(be.data=ve)))),(ve=y?It(t,s):qe(t,s))&&(be=Oc(q,"onBeforeInput"),0<be.length&&(Pe=new Bo("onBeforeInput","beforeinput",null,s,K),J.push({event:Pe,listeners:be}),Pe.data=ve)),G1(J,t,q,s,K)}Ev(J,r)})}function El(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Oc(t,r){for(var s=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=_a(t,s),h!=null&&l.unshift(El(t,h,d)),h=_a(t,r),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bv(t,r,s,l,h){for(var d=r._reactName,_=[];s!==null&&s!==l;){var b=s,D=b.alternate,q=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||q===null||(D=q,h?(q=_a(s,d),q!=null&&_.unshift(El(s,q,D))):h||(q=_a(s,d),q!=null&&_.push(El(s,q,D)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var Z1=/\r\n?/g,K1=/\u0000|\uFFFD/g;function Av(t){return(typeof t=="string"?t:""+t).replace(Z1,`
`).replace(K1,"")}function Sv(t,r){return r=Av(r),Av(t)===r}function Vc(){}function rt(t,r,s,l,h,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(t,""+l);break;case"className":ir(t,"class",l);break;case"tabIndex":ir(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(t,s,l);break;case"style":ko(t,l,d);break;case"data":if(r!=="object"){ir(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=us(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&rt(t,r,"name",h.name,h,null),rt(t,r,"formEncType",h.formEncType,h,null),rt(t,r,"formMethod",h.formMethod,h,null),rt(t,r,"formTarget",h.formTarget,h,null)):(rt(t,r,"encType",h.encType,h,null),rt(t,r,"method",h.method,h,null),rt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=us(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Vc);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=us(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),di(t,"popover",l);break;case"xlinkActuate":Gt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":di(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=sf.get(s)||s,di(t,s,l))}}function Pd(t,r,s,l,h,d){switch(s){case"style":ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!is.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=t[St]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):di(t,s,l)}}}function Zt(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:rt(t,r,d,_,s,null)}}h&&rt(t,r,"srcSet",s.srcSet,s,null),l&&rt(t,r,"src",s.src,s,null);return;case"input":Ue("invalid",t);var b=d=_=h=null,D=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var K=s[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":D=K;break;case"defaultChecked":q=K;break;case"value":d=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,r));break;default:rt(t,r,l,K,s,null)}}ga(t,d,b,D,q,_,h,!1),ls(t);return;case"select":Ue("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(b=s[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:rt(t,r,h,b,s,null)}r=d,s=_,t.multiple=!!l,r!=null?Vr(t,!!l,r,!1):s!=null&&Vr(t,!!l,s,!0);return;case"textarea":Ue("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(b=s[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:rt(t,r,_,b,s,null)}ya(t,l,h,d),ls(t);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,r,D,l,s,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)Ue(_l[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:rt(t,r,q,l,s,null)}return;default:if(jo(r)){for(K in s)s.hasOwnProperty(K)&&(l=s[K],l!==void 0&&Pd(t,r,K,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&rt(t,r,b,l,s,null))}function X1(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,D=null,q=null,K=null;for(Q in s){var J=s[Q];if(s.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(Q)||rt(t,r,Q,null,l,J)}}for(var G in l){var Q=l[G];if(J=s[G],l.hasOwnProperty(G)&&(Q!=null||J!=null))switch(G){case"type":d=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":K=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:Q!==J&&rt(t,r,G,Q,l,J)}}_n(t,_,b,D,q,K,d,h);return;case"select":Q=_=b=G=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||rt(t,r,d,null,l,D)}for(h in l)if(d=l[h],D=s[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==D&&rt(t,r,h,d,l,D)}r=b,s=_,l=Q,G!=null?Vr(t,!!s,G,!1):!!l!=!!s&&(r!=null?Vr(t,!!s,r,!0):Vr(t,!!s,s?[]:"",!1));return;case"textarea":Q=G=null;for(b in s)if(h=s[b],s.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:rt(t,r,b,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&rt(t,r,_,h,l,d)}tt(t,G,Q);return;case"option":for(var we in s)if(G=s[we],s.hasOwnProperty(we)&&G!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:rt(t,r,we,null,l,G)}for(D in l)if(G=l[D],Q=s[D],l.hasOwnProperty(D)&&G!==Q&&(G!=null||Q!=null))switch(D){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:rt(t,r,D,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in s)G=s[Te],s.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te)&&rt(t,r,Te,null,l,G);for(q in l)if(G=l[q],Q=s[q],l.hasOwnProperty(q)&&G!==Q&&(G!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,r));break;default:rt(t,r,q,G,l,Q)}return;default:if(jo(r)){for(var it in s)G=s[it],s.hasOwnProperty(it)&&G!==void 0&&!l.hasOwnProperty(it)&&Pd(t,r,it,void 0,l,G);for(K in l)G=l[K],Q=s[K],!l.hasOwnProperty(K)||G===Q||G===void 0&&Q===void 0||Pd(t,r,K,G,l,Q);return}}for(var L in s)G=s[L],s.hasOwnProperty(L)&&G!=null&&!l.hasOwnProperty(L)&&rt(t,r,L,null,l,G);for(J in l)G=l[J],Q=s[J],!l.hasOwnProperty(J)||G===Q||G==null&&Q==null||rt(t,r,J,G,l,Q)}var Ld=null,Ud=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function wv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function zd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bd=null;function J1(){var t=window.event;return t&&t.type==="popstate"?t===Bd?!1:(Bd=t,!0):(Bd=null,!1)}var Rv=typeof setTimeout=="function"?setTimeout:void 0,W1=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,eb=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(t){return Cv.resolve(null).then(t).catch(tb)}:Rv;function tb(t){setTimeout(function(){throw t})}function Ii(t){return t==="head"}function Nv(t,r){var s=r,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var _=t.ownerDocument;if(s&1&&Tl(_.documentElement),s&2&&Tl(_.body),s&4)for(s=_.head,Tl(s),_=s.firstChild;_;){var b=_.nextSibling,D=_.nodeName;_[fa]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=b}}if(h===0){t.removeChild(d),Nl(r);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Nl(r)}function qd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":qd(s),fi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function nb(t,r,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fa])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function rb(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Yn(t.nextSibling),t===null))return null;return t}function Hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ib(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Fd=null;function Dv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function Iv(t,r,s){switch(r=Mc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Tl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);fi(t)}var Bn=new Map,Ov=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Jr=oe.d;oe.d={f:ab,r:sb,D:ob,C:lb,L:ub,m:cb,X:fb,S:hb,M:db};function ab(){var t=Jr.f(),r=xc();return t||r}function sb(t){var r=nr(t);r!==null&&r.tag===5&&r.type==="form"?Jg(r):Jr.r(t)}var Hs=typeof document>"u"?null:document;function Vv(t,r,s){var l=Hs;if(l&&typeof r=="string"&&r){var h=wt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Ov.has(h)||(Ov.add(h),t={rel:t,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Zt(r,"link",t),Et(r),l.head.appendChild(r)))}}function ob(t){Jr.D(t),Vv("dns-prefetch",t,null)}function lb(t,r){Jr.C(t,r),Vv("preconnect",t,r)}function ub(t,r,s){Jr.L(t,r,s);var l=Hs;if(l&&t&&r){var h='link[rel="preload"][as="'+wt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+wt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+wt(s.imageSizes)+'"]')):h+='[href="'+wt(t)+'"]';var d=h;switch(r){case"style":d=Fs(t);break;case"script":d=Gs(t)}Bn.has(d)||(t=E({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),Bn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(bl(d))||r==="script"&&l.querySelector(Al(d))||(r=l.createElement("link"),Zt(r,"link",t),Et(r),l.head.appendChild(r)))}}function cb(t,r){Jr.m(t,r);var s=Hs;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+wt(l)+'"][href="'+wt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Gs(t)}if(!Bn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Bn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Al(d)))return}l=s.createElement("link"),Zt(l,"link",t),Et(l),s.head.appendChild(l)}}}function hb(t,r,s){Jr.S(t,r,s);var l=Hs;if(l&&t){var h=ln(l).hoistableStyles,d=Fs(t);r=r||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(bl(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},s),(s=Bn.get(d))&&Gd(t,s);var D=_=l.createElement("link");Et(D),Zt(D,"link",t),D._p=new Promise(function(q,K){D.onload=q,D.onerror=K}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,jc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function fb(t,r){Jr.X(t,r);var s=Hs;if(s&&t){var l=ln(s).hoistableScripts,h=Gs(t),d=l.get(h);d||(d=s.querySelector(Al(h)),d||(t=E({src:t,async:!0},r),(r=Bn.get(h))&&Qd(t,r),d=s.createElement("script"),Et(d),Zt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function db(t,r){Jr.M(t,r);var s=Hs;if(s&&t){var l=ln(s).hoistableScripts,h=Gs(t),d=l.get(h);d||(d=s.querySelector(Al(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Bn.get(h))&&Qd(t,r),d=s.createElement("script"),Et(d),Zt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Mv(t,r,s,l){var h=(h=Re.current)?kc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Fs(s.href),s=ln(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Fs(s.href);var d=ln(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(bl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Bn.set(t,s),d||mb(h,t,s,_.state))),r&&l===null)throw Error(a(528,""));return _}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Gs(s),s=ln(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Fs(t){return'href="'+wt(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function kv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function mb(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Zt(r,"link",s),Et(r),t.head.appendChild(r))}function Gs(t){return'[src="'+wt(t)+'"]'}function Al(t){return"script[async]"+t}function jv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+wt(s.href)+'"]');if(l)return r.instance=l,Et(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Zt(l,"style",h),jc(l,s.precedence,t),r.instance=l;case"stylesheet":h=Fs(s.href);var d=t.querySelector(bl(h));if(d)return r.state.loading|=4,r.instance=d,Et(d),d;l=kv(s),(h=Bn.get(h))&&Gd(l,h),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Zt(d,"link",l),r.state.loading|=4,jc(d,s.precedence,t),r.instance=d;case"script":return d=Gs(s.src),(h=t.querySelector(Al(d)))?(r.instance=h,Et(h),h):(l=s,(h=Bn.get(d))&&(l=E({},s),Qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Zt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,jc(l,s.precedence,t));return r.instance}function jc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Gd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Qd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Pc=null;function Pv(t,r,s){if(Pc===null){var l=new Map,h=Pc=new Map;h.set(s,l)}else h=Pc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[fa]||d[Dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Lv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function pb(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Sl=null;function gb(){}function yb(t,r,s){if(Sl===null)throw Error(a(475));var l=Sl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Fs(s.href),d=t.querySelector(bl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Lc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,Et(d);return}d=t.ownerDocument||t,s=kv(s),(h=Bn.get(h))&&Gd(s,h),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Zt(d,"link",s),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Lc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function vb(){if(Sl===null)throw Error(a(475));var t=Sl;return t.stylesheets&&t.count===0&&Yd(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&Yd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Lc(){if(this.count--,this.count===0){if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function Yd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,r.forEach(_b,t),Uc=null,Lc.call(t))}function _b(t,r){if(!(r.state.loading&4)){var s=Uc.get(t);if(s)var l=s.get(null);else{s=new Map,Uc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=Lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var wl={$$typeof:te,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Eb(t,r,s,l,h,d,_,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function zv(t,r,s,l,h,d,_,b,D,q,K,J){return t=new Eb(t,r,s,_,b,D,q,J),r=1,d===!0&&(r|=24),d=Tn(3,null,null,r),t.current=d,d.stateNode=t,r=Cf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},Of(d),t}function Bv(t){return t?(t=bs,t):bs}function qv(t,r,s,l,h,d){h=Bv(h),l.context===null?l.context=h:l.pendingContext=h,l=vi(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=_i(t,l,r),s!==null&&(xn(s,t,r),tl(s,t,r))}function Hv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function $d(t,r){Hv(t,r),(t=t.alternate)&&Hv(t,r)}function Fv(t){if(t.tag===13){var r=Ts(t,67108864);r!==null&&xn(r,t,67108864),$d(t,67108864)}}var zc=!0;function Tb(t,r,s,l){var h=Z.T;Z.T=null;var d=oe.p;try{oe.p=2,Zd(t,r,s,l)}finally{oe.p=d,Z.T=h}}function bb(t,r,s,l){var h=Z.T;Z.T=null;var d=oe.p;try{oe.p=8,Zd(t,r,s,l)}finally{oe.p=d,Z.T=h}}function Zd(t,r,s,l){if(zc){var h=Kd(l);if(h===null)jd(t,r,l,Bc,s),Qv(t,l);else if(Sb(h,t,r,s,l))l.stopPropagation();else if(Qv(t,l),r&4&&-1<Ab.indexOf(t)){for(;h!==null;){var d=nr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=qn(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var D=1<<31-Wt(_);b.entanglements[1]|=D,_&=~D}gr(d),(We&6)===0&&(Sc=Nn()+500,vl(0))}}break;case 13:b=Ts(d,2),b!==null&&xn(b,d,2),xc(),$d(d,2)}if(d=Kd(l),d===null&&jd(t,r,l,Bc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(t,r,l,null,s)}}function Kd(t){return t=On(t),Xd(t)}var Bc=null;function Xd(t){if(Bc=null,t=Dr(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=f(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Bc=t,null}function Gv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wh()){case Ao:return 2;case es:return 8;case oa:case ef:return 32;case ts:return 268435456;default:return 32}default:return 32}}var Jd=!1,Oi=null,Vi=null,Mi=null,xl=new Map,Rl=new Map,ki=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qv(t,r){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(r.pointerId)}}function Cl(t,r,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=nr(r),r!==null&&Fv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Sb(t,r,s,l,h){switch(r){case"focusin":return Oi=Cl(Oi,t,r,s,l,h),!0;case"dragenter":return Vi=Cl(Vi,t,r,s,l,h),!0;case"mouseover":return Mi=Cl(Mi,t,r,s,l,h),!0;case"pointerover":var d=h.pointerId;return xl.set(d,Cl(xl.get(d)||null,t,r,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Cl(Rl.get(d)||null,t,r,s,l,h)),!0}return!1}function Yv(t){var r=Dr(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){t.blockedOn=r,xu(t.priority,function(){if(s.tag===13){var l=wn();l=ui(l);var h=Ts(s,l);h!==null&&xn(h,s,l),$d(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Kd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Mr=l,s.target.dispatchEvent(l),Mr=null}else return r=nr(s),r!==null&&Fv(r),t.blockedOn=s,!1;r.shift()}return!0}function $v(t,r,s){qc(t)&&s.delete(r)}function wb(){Jd=!1,Oi!==null&&qc(Oi)&&(Oi=null),Vi!==null&&qc(Vi)&&(Vi=null),Mi!==null&&qc(Mi)&&(Mi=null),xl.forEach($v),Rl.forEach($v)}function Hc(t,r){t.blockedOn===r&&(t.blockedOn=null,Jd||(Jd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wb)))}var Fc=null;function Zv(t){Fc!==t&&(Fc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Xd(l||s)===null)continue;break}var d=nr(s);d!==null&&(t.splice(r,3),r-=3,Xf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Nl(t){function r(D){return Hc(D,t)}Oi!==null&&Hc(Oi,t),Vi!==null&&Hc(Vi,t),Mi!==null&&Hc(Mi,t),xl.forEach(r),Rl.forEach(r);for(var s=0;s<ki.length;s++){var l=ki[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ki.length&&(s=ki[0],s.blockedOn===null);)Yv(s),s.blockedOn===null&&ki.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[St]||null;if(typeof d=="function")_||Zv(s);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[St]||null)b=_.formAction;else if(Xd(h)!==null)continue}else b=_.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),Zv(s)}}}function Wd(t){this._internalRoot=t}Gc.prototype.render=Wd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=wn();qv(s,l,t,r,null,null)},Gc.prototype.unmount=Wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;qv(t.current,2,null,t,null,null),xc(),r[Dn]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ci();t={blockedOn:null,target:t,priority:r};for(var s=0;s<ki.length&&r!==0&&r<ki[s].priority;s++);ki.splice(s,0,t),s===0&&Yv(t)}};var Kv=e.version;if(Kv!=="19.1.0")throw Error(a(527,Kv,"19.1.0"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var xb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{yt=Qc.inject(xb),Je=Qc}catch{}}return Il.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",h=fy,d=dy,_=my,b=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=zv(t,1,!1,null,null,s,l,h,d,_,b,null),t[Dn]=r.current,kd(t),new Wd(r)},Il.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=fy,_=dy,b=my,D=null,q=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(q=s.formState)),r=zv(t,1,!0,r,s??null,l,h,d,_,b,D,q),r.context=Bv(null),s=r.current,l=wn(),l=ui(l),h=vi(l),h.callback=null,_i(s,h,l),s=l,r.current.lanes=s,Nr(r,s),gr(r),t[Dn]=r.current,kd(t),new Gc(r)},Il.version="19.1.0",Il}var s_;function jb(){if(s_)return nm.exports;s_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),nm.exports=kb(),nm.exports}var Pb=jb(),Ol={},o_;function Lb(){if(o_)return Ol;o_=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.parse=f,Ol.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,C){const I=new u,F=w.length;if(F<2)return I;const B=(C==null?void 0:C.decode)||E;let $=0;do{const re=w.indexOf("=",$);if(re===-1)break;const te=w.indexOf(";",$),ye=te===-1?F:te;if(re>ye){$=w.lastIndexOf(";",re-1)+1;continue}const pe=m(w,$,re),Oe=p(w,re,pe),j=w.slice(pe,Oe);if(I[j]===void 0){let x=m(w,re+1,ye),R=p(w,ye,x);const M=B(w.slice(x,R));I[j]=M}$=ye+1}while($<F);return I}function m(w,C,I){do{const F=w.charCodeAt(C);if(F!==32&&F!==9)return C}while(++C<I);return I}function p(w,C,I){for(;C>I;){const F=w.charCodeAt(--C);if(F!==32&&F!==9)return C+1}return I}function g(w,C,I){const F=(I==null?void 0:I.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const B=F(C);if(!e.test(B))throw new TypeError(`argument val is invalid: ${C}`);let $=w+"="+B;if(!I)return $;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);$+="; Max-Age="+I.maxAge}if(I.domain){if(!n.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);$+="; Domain="+I.domain}if(I.path){if(!a.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);$+="; Path="+I.path}if(I.expires){if(!S(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);$+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&($+="; HttpOnly"),I.secure&&($+="; Secure"),I.partitioned&&($+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return $}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function S(w){return o.call(w)==="[object Date]"}return Ol}Lb();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l_="popstate";function Ub(i={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return ym("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Fl(o)}return Bb(e,n,null,i)}function pt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Tr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zb(){return Math.random().toString(36).substring(2,10)}function u_(i,e){return{usr:i.state,key:i.key,idx:e}}function ym(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:n,key:e&&e.key||a||zb()}}function Fl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function mo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function Bb(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let B=E(),$=B==null?null:B-g;g=B,p&&p({action:m,location:F.location,delta:$})}function w(B,$){m="PUSH";let re=ym(F.location,B,$);g=E()+1;let te=u_(re,g),ye=F.createHref(re);try{f.pushState(te,"",ye)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(ye)}u&&p&&p({action:m,location:F.location,delta:1})}function C(B,$){m="REPLACE";let re=ym(F.location,B,$);g=E();let te=u_(re,g),ye=F.createHref(re);f.replaceState(te,"",ye),u&&p&&p({action:m,location:F.location,delta:0})}function I(B){let $=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof B=="string"?B:Fl(B);return re=re.replace(/ $/,"%20"),pt($,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,$)}let F={get action(){return m},get location(){return i(o,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(l_,S),p=B,()=>{o.removeEventListener(l_,S),p=null}},createHref(B){return e(o,B)},createURL:I,encodeLocation(B){let $=I(B);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:C,go(B){return f.go(B)}};return F}function N0(i,e,n="/"){return qb(i,e,n,!1)}function qb(i,e,n,a){let o=typeof e=="string"?mo(e):e,u=ni(o.pathname||"/",n);if(u==null)return null;let f=D0(i);Hb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=eA(u);m=Jb(f[p],g,a)}return m}function D0(i,e=[],n=[],a=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(pt(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=ti([a,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(pt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),D0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Kb(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of I0(u.path))o(u,f,p)}),e}function I0(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=I0(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Hb(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Xb(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Fb=/^:[\w-]+$/,Gb=3,Qb=2,Yb=1,$b=10,Zb=-2,c_=i=>i==="*";function Kb(i,e){let n=i.split("/"),a=n.length;return n.some(c_)&&(a+=Zb),e&&(a+=Qb),n.filter(o=>!c_(o)).reduce((o,u)=>o+(Fb.test(u)?Gb:u===""?Yb:$b),a)}function Xb(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function Jb(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!S&&g&&n&&!a[a.length-1].route.index&&(S=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:ti([u,S.pathname]),pathnameBase:iA(ti([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=ti([u,S.pathnameBase]))}return f}function uh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=Wb(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:E,isOptional:S},w)=>{if(E==="*"){let I=m[w]||"";f=u.slice(0,u.length-I.length).replace(/(.)\/+$/,"$1")}const C=m[w];return S&&!C?g[E]=void 0:g[E]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function Wb(i,e=!1,n=!0){Tr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function eA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ni(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function tA(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?mo(i):i;return{pathname:n?n.startsWith("/")?n:nA(n,e):e,search:aA(a),hash:sA(o)}}function nA(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function sm(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function O0(i){let e=rA(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function V0(i,e,n,a=!1){let o;typeof i=="string"?o=mo(i):(o={...i},pt(!o.pathname||!o.pathname.includes("?"),sm("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),sm("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),sm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!a&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let p=tA(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ti=i=>i.join("/").replace(/\/\/+/g,"/"),iA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),aA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,sA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function oA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var M0=["POST","PUT","PATCH","DELETE"];new Set(M0);var lA=["GET",...M0];new Set(lA);var po=H.createContext(null);po.displayName="DataRouter";var Vh=H.createContext(null);Vh.displayName="DataRouterState";var k0=H.createContext({isTransitioning:!1});k0.displayName="ViewTransition";var uA=H.createContext(new Map);uA.displayName="Fetchers";var cA=H.createContext(null);cA.displayName="Await";var xr=H.createContext(null);xr.displayName="Navigation";var du=H.createContext(null);du.displayName="Location";var oi=H.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var Zm=H.createContext(null);Zm.displayName="RouteError";function hA(i,{relative:e}={}){pt(mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=H.useContext(xr),{hash:o,pathname:u,search:f}=gu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ti([n,u])),a.createHref({pathname:m,search:f,hash:o})}function mu(){return H.useContext(du)!=null}function ta(){return pt(mu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(du).location}var j0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P0(i){H.useContext(xr).static||H.useLayoutEffect(i)}function pu(){let{isDataRoute:i}=H.useContext(oi);return i?SA():fA()}function fA(){pt(mu(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(po),{basename:e,navigator:n}=H.useContext(xr),{matches:a}=H.useContext(oi),{pathname:o}=ta(),u=JSON.stringify(O0(a)),f=H.useRef(!1);return P0(()=>{f.current=!0}),H.useCallback((p,g={})=>{if(Tr(f.current,j0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=V0(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ti([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}H.createContext(null);function gu(i,{relative:e}={}){let{matches:n}=H.useContext(oi),{pathname:a}=ta(),o=JSON.stringify(O0(n));return H.useMemo(()=>V0(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function dA(i,e){return L0(i,e)}function L0(i,e,n,a){var re;pt(mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(xr),{matches:f}=H.useContext(oi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let te=S&&S.path||"";U0(g,!S||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let w=ta(),C;if(e){let te=typeof e=="string"?mo(e):e;pt(E==="/"||((re=te.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),C=te}else C=w;let I=C.pathname||"/",F=I;if(E!=="/"){let te=E.replace(/^\//,"").split("/");F="/"+I.replace(/^\//,"").split("/").slice(te.length).join("/")}let B=!u&&n&&n.matches&&n.matches.length>0?n.matches:N0(i,{pathname:F});Tr(S||B!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Tr(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=vA(B&&B.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:ti([E,o.encodeLocation?o.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:ti([E,o.encodeLocation?o.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),f,n,a);return e&&$?H.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},$):$}function mA(){let i=AA(),e=oA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,f)}var pA=H.createElement(mA,null),gA=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(oi.Provider,{value:this.props.routeContext},H.createElement(Zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yA({routeContext:i,match:e,children:n}){let a=H.useContext(po);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(oi.Provider,{value:i},n)}function vA(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);pt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:S}=n,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||w){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let S,w=!1,C=null,I=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,C=g.route.errorElement||pA,f&&(m<0&&E===0?(U0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):m===E&&(w=!0,I=g.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,E+1)),B=()=>{let $;return S?$=C:w?$=I:g.route.Component?$=H.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,H.createElement(yA,{match:g,routeContext:{outlet:p,matches:F,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?H.createElement(gA,{location:n.location,revalidation:n.revalidation,component:C,error:S,children:B(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):B()},null)}function Km(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _A(i){let e=H.useContext(po);return pt(e,Km(i)),e}function EA(i){let e=H.useContext(Vh);return pt(e,Km(i)),e}function TA(i){let e=H.useContext(oi);return pt(e,Km(i)),e}function Xm(i){let e=TA(i),n=e.matches[e.matches.length-1];return pt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function bA(){return Xm("useRouteId")}function AA(){var a;let i=H.useContext(Zm),e=EA("useRouteError"),n=Xm("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[n]}function SA(){let{router:i}=_A("useNavigate"),e=Xm("useNavigate"),n=H.useRef(!1);return P0(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{Tr(n.current,j0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var h_={};function U0(i,e,n){!e&&!h_[i]&&(h_[i]=!0,Tr(!1,n))}H.memo(wA);function wA({routes:i,future:e,state:n}){return L0(i,void 0,n,e)}function Qs(i){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xA({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){pt(!mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=mo(n));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:w="default"}=n,C=H.useMemo(()=>{let I=ni(p,f);return I==null?null:{location:{pathname:I,search:g,hash:E,state:S,key:w},navigationType:a}},[f,p,g,E,S,w,a]);return Tr(C!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:H.createElement(xr.Provider,{value:m},H.createElement(du.Provider,{children:e,value:C}))}function RA({children:i,location:e}){return dA(vm(i),e)}function vm(i,e=[]){let n=[];return H.Children.forEach(i,(a,o)=>{if(!H.isValidElement(a))return;let u=[...e,o];if(a.type===H.Fragment){n.push.apply(n,vm(a.props.children,u));return}pt(a.type===Qs,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=vm(a.props.children,u)),n.push(f)}),n}var eh="get",th="application/x-www-form-urlencoded";function Mh(i){return i!=null&&typeof i.tagName=="string"}function CA(i){return Mh(i)&&i.tagName.toLowerCase()==="button"}function NA(i){return Mh(i)&&i.tagName.toLowerCase()==="form"}function DA(i){return Mh(i)&&i.tagName.toLowerCase()==="input"}function IA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function OA(i,e){return i.button===0&&(!e||e==="_self")&&!IA(i)}var Yc=null;function VA(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var MA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function om(i){return i!=null&&!MA.has(i)?(Tr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):i}function kA(i,e){let n,a,o,u,f;if(NA(i)){let m=i.getAttribute("action");a=m?ni(m,e):null,n=i.getAttribute("method")||eh,o=om(i.getAttribute("enctype"))||th,u=new FormData(i)}else if(CA(i)||DA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(a=p?ni(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||eh,o=om(i.getAttribute("formenctype"))||om(m.getAttribute("enctype"))||th,u=new FormData(m,i),!VA()){let{name:g,type:E,value:S}=i;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,S)}}else{if(Mh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eh,a=null,o=th,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Jm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function jA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function LA(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await jA(u,n);return f.links?f.links():[]}return[]}));return qA(a.flat(1).filter(PA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function f_(i,e,n,a,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var S;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function UA(i,e,{includeHydrateFallback:n}={}){return zA(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function zA(i){return[...new Set(i)]}function BA(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function qA(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(BA(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}var HA=new Set([100,101,204,205]);function FA(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&ni(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function z0(){let i=H.useContext(po);return Jm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function GA(){let i=H.useContext(Vh);return Jm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Wm=H.createContext(void 0);Wm.displayName="FrameworkContext";function B0(){let i=H.useContext(Wm);return Jm(i,"You must render this element inside a <HydratedRouter> element"),i}function QA(i,e){let n=H.useContext(Wm),[a,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,w=H.useRef(null);H.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let F=$=>{$.forEach(re=>{f(re.isIntersecting)})},B=new IntersectionObserver(F,{threshold:.5});return w.current&&B.observe(w.current),()=>{B.disconnect()}}},[i]),H.useEffect(()=>{if(a){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[a]);let C=()=>{o(!0)},I=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Vl(m,C),onBlur:Vl(p,I),onMouseEnter:Vl(g,C),onMouseLeave:Vl(E,I),onTouchStart:Vl(S,C)}]:[!1,w,{}]}function Vl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function YA({page:i,...e}){let{router:n}=z0(),a=H.useMemo(()=>N0(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?H.createElement(ZA,{page:i,matches:a,...e}):null}function $A(i){let{manifest:e,routeModules:n}=B0(),[a,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return LA(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),a}function ZA({page:i,matches:e,...n}){let a=ta(),{manifest:o,routeModules:u}=B0(),{basename:f}=z0(),{loaderData:m,matches:p}=GA(),g=H.useMemo(()=>f_(i,e,p,o,a,"data"),[i,e,p,o,a]),E=H.useMemo(()=>f_(i,e,p,o,a,"assets"),[i,e,p,o,a]),S=H.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let I=new Set,F=!1;if(e.forEach($=>{var te;let re=o.routes[$.route.id];!re||!re.hasLoader||(!g.some(ye=>ye.route.id===$.route.id)&&$.route.id in m&&((te=u[$.route.id])!=null&&te.shouldRevalidate)||re.hasClientLoader?F=!0:I.add($.route.id))}),I.size===0)return[];let B=FA(i,f);return F&&I.size>0&&B.searchParams.set("_routes",e.filter($=>I.has($.route.id)).map($=>$.route.id).join(",")),[B.pathname+B.search]},[f,m,a,o,g,e,i,u]),w=H.useMemo(()=>UA(E,o),[E,o]),C=$A(E);return H.createElement(H.Fragment,null,S.map(I=>H.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),w.map(I=>H.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),C.map(({key:I,link:F})=>H.createElement("link",{key:I,...F})))}function KA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q0&&(window.__reactRouterVersion="7.5.1")}catch{}function XA({basename:i,children:e,window:n}){let a=H.useRef();a.current==null&&(a.current=Ub({window:n,v5Compat:!0}));let o=a.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>f(p))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(xA,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var H0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F0=H.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...w},C){let{basename:I}=H.useContext(xr),F=typeof g=="string"&&H0.test(g),B,$=!1;if(typeof g=="string"&&F&&(B=g,q0))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=ni(M.pathname,I);M.origin===R.origin&&P!=null?g=P+M.search+M.hash:$=!0}catch{Tr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=hA(g,{relative:o}),[te,ye,pe]=QA(a,w),Oe=tS(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function j(R){e&&e(R),R.defaultPrevented||Oe(R)}let x=H.createElement("a",{...w,...pe,href:B||re,onClick:$||u?e:j,ref:KA(C,ye),target:p,"data-discover":!F&&n==="render"?"true":void 0});return te&&!F?H.createElement(H.Fragment,null,x,H.createElement(YA,{page:re})):x});F0.displayName="Link";var JA=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let S=gu(f,{relative:g.relative}),w=ta(),C=H.useContext(Vh),{navigator:I,basename:F}=H.useContext(xr),B=C!=null&&sS(S)&&m===!0,$=I.encodeLocation?I.encodeLocation(S).pathname:S.pathname,re=w.pathname,te=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(re=re.toLowerCase(),te=te?te.toLowerCase():null,$=$.toLowerCase()),te&&F&&(te=ni(te,F)||te);const ye=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let pe=re===$||!o&&re.startsWith($)&&re.charAt(ye)==="/",Oe=te!=null&&(te===$||!o&&te.startsWith($)&&te.charAt($.length)==="/"),j={isActive:pe,isPending:Oe,isTransitioning:B},x=pe?e:void 0,R;typeof a=="function"?R=a(j):R=[a,pe?"active":null,Oe?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(j):u;return H.createElement(F0,{...g,"aria-current":x,className:R,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(j):p)});JA.displayName="NavLink";var WA=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=eh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...w},C)=>{let I=iS(),F=aS(m,{relative:g}),B=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&H0.test(m),re=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let ye=te.nativeEvent.submitter,pe=(ye==null?void 0:ye.getAttribute("formmethod"))||f;I(ye||te.currentTarget,{fetcherKey:e,method:pe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return H.createElement("form",{ref:C,method:B,action:F,onSubmit:a?p:re,...w,"data-discover":!$&&i==="render"?"true":void 0})});WA.displayName="Form";function eS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G0(i){let e=H.useContext(po);return pt(e,eS(i)),e}function tS(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=pu(),p=ta(),g=gu(i,{relative:u});return H.useCallback(E=>{if(OA(E,e)){E.preventDefault();let S=n!==void 0?n:Fl(p)===Fl(g);m(i,{replace:S,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,a,e,i,o,u,f])}var nS=0,rS=()=>`__${String(++nS)}__`;function iS(){let{router:i}=G0("useSubmit"),{basename:e}=H.useContext(xr),n=bA();return H.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=kA(a,e);if(o.navigate===!1){let E=o.fetcherKey||rS();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function aS(i,{relative:e}={}){let{basename:n}=H.useContext(xr),a=H.useContext(oi);pt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...gu(i||".",{relative:e})},f=ta();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ti([n,u.pathname])),Fl(u)}function sS(i,e={}){let n=H.useContext(k0);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=G0("useViewTransitionState"),o=gu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ni(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=ni(n.nextLocation.pathname,a)||n.nextLocation.pathname;return uh(o.pathname,f)!=null||uh(o.pathname,u)!=null}new TextEncoder;[...HA];/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),d_=i=>{const e=lS(i);return e.charAt(0).toUpperCase()+e.slice(1)},Q0=(...i)=>i.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),uS=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=H.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:f,...m},p)=>H.createElement("svg",{ref:p,...cS,width:e,height:e,stroke:i,strokeWidth:a?Number(n)*24/Number(e):n,className:Q0("lucide",o),...!u&&!uS(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>H.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(i,e)=>{const n=H.forwardRef(({className:a,...o},u)=>H.createElement(hS,{ref:u,iconNode:e,className:Q0(`lucide-${oS(d_(i))}`,`lucide-${i}`,a),...o}));return n.displayName=d_(i),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],dS=Pt("bell",fS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],pS=Pt("bot",mS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yS=Pt("check",gS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_S=Pt("chevron-down",vS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],TS=Pt("circle-alert",ES);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],AS=Pt("file-text",bS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wS=Pt("globe",SS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],RS=Pt("house",xS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],NS=Pt("map-pin",CS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],IS=Pt("menu",DS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],VS=Pt("message-square",OS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kS=Pt("package",MS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],PS=Pt("plus",jS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],US=Pt("save",LS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],BS=Pt("send",zS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HS=Pt("settings",qS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],Y0=Pt("ship",FS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$0=Pt("user",GS);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ep=Pt("x",QS),_m=()=>{const[i,e]=H.useState(!1),[n,a]=H.useState([]),[o,u]=H.useState(""),[f,m]=H.useState(!1),p=H.useRef(null),g=()=>{e(!i),!i&&n.length===0&&setTimeout(()=>{a([{id:Date.now(),text:"Olá! Sou o assistente virtual da SeaLogistics. Como posso ajudar você hoje?",sender:"bot"}])},500)},E=F=>{u(F.target.value)},S=()=>{var F;(F=p.current)==null||F.scrollIntoView({behavior:"smooth"})};H.useEffect(()=>{S()},[n]);const w=()=>{const F=["Entendi! Vou verificar essa informação para você.","Obrigado pela sua mensagem. Posso ajudar com mais alguma coisa?","A SeaLogistics oferece diversos serviços de logística marítima. Gostaria de saber mais sobre algum serviço específico?","Estou processando sua solicitação. Em breve teremos uma resposta para você.","Isso é interessante! Vamos analisar as melhores opções para sua necessidade."],B=F[Math.floor(Math.random()*F.length)];m(!0),setTimeout(()=>{a($=>[...$,{id:Date.now(),text:B,sender:"bot"}]),m(!1)},1500)},C=()=>{if(o.trim()==="")return;const F={id:Date.now(),text:o,sender:"user"};a(B=>[...B,F]),u(""),w()},I=F=>{F.key==="Enter"&&C()};return T.jsx("div",{className:"chat-assistant-container",children:i?T.jsxs("div",{className:"chat-window",children:[T.jsxs("div",{className:"chat-header",children:[T.jsxs("div",{className:"chat-title",children:[T.jsx(pS,{size:20}),T.jsx("span",{children:"Assistente SeaLogistics"})]}),T.jsx("button",{className:"close-button",onClick:g,"aria-label":"Fechar chat",children:T.jsx(ep,{size:20})})]}),T.jsxs("div",{className:"messages-container",children:[n.map(F=>T.jsx("div",{className:`message ${F.sender}`,children:F.text},F.id)),f&&T.jsx("div",{className:"message bot typing",children:T.jsxs("span",{className:"typing-indicator",children:[T.jsx("span",{className:"dot"}),T.jsx("span",{className:"dot"}),T.jsx("span",{className:"dot"})]})}),T.jsx("div",{ref:p})]}),T.jsxs("div",{className:"input-container",children:[T.jsx("input",{type:"text",value:o,onChange:E,onKeyPress:I,placeholder:"Digite sua mensagem...","aria-label":"Mensagem"}),T.jsx("button",{className:"send-button",onClick:C,disabled:o.trim()==="","aria-label":"Enviar mensagem",children:T.jsx(BS,{size:18})})]})]}):T.jsx("button",{className:"chat-button",onClick:g,"aria-label":"Abrir chat",children:T.jsx(VS,{size:24})})})},ch=()=>{const[i,e]=H.useState(!0),n=pu(),a=ta();H.useEffect(()=>{e(!1)},[a.pathname]);const u=a.pathname.includes("settings")?"settings":a.pathname.includes("novo-envio")?"novo-envio":"home";return T.jsxs("div",{className:`navbar ${i?"expanded":"collapsed"}`,children:[T.jsxs("div",{className:"navbar-header",children:[T.jsx("button",{className:"toggle-btn",onClick:()=>e(!i),"aria-label":i?"Collapse menu":"Expand menu",children:i?T.jsx(ep,{size:20}):T.jsx(IS,{size:20})}),T.jsx("div",{className:"company-logo",children:T.jsx("div",{className:`company-name ${i?"visible":"hidden"}`,children:T.jsx("span",{className:"company-name-text",children:"SeaLogistics"})})})]}),T.jsxs("nav",{className:"nav-items",children:[T.jsxs("div",{className:`nav-item ${u==="home"?"active":""}`,onClick:()=>n("/home"),role:"button",tabIndex:0,onKeyDown:f=>f.key==="Enter"&&n("/home"),children:[T.jsx("div",{className:"icon-container",children:T.jsx(RS,{size:20})}),T.jsx("span",{className:`nav-text ${i?"visible":"hidden"}`,children:"Home"})]}),T.jsxs("div",{className:`nav-item ${u==="novo-envio"?"active":""}`,onClick:()=>n("/novo-envio"),role:"button",tabIndex:0,onKeyDown:f=>f.key==="Enter"&&n("/novo-envio"),children:[T.jsx("div",{className:"icon-container",children:T.jsx(PS,{size:20})}),T.jsx("span",{className:`nav-text ${i?"visible":"hidden"}`,children:"Novo Envio"})]}),T.jsxs("div",{className:`nav-item ${u==="settings"?"active":""}`,onClick:()=>n("/settings"),role:"button",tabIndex:0,onKeyDown:f=>f.key==="Enter"&&n("/settings"),children:[T.jsx("div",{className:"icon-container",children:T.jsx(HS,{size:20})}),T.jsx("span",{className:`nav-text ${i?"visible":"hidden"}`,children:"Configurações"})]})]}),i&&T.jsx("div",{className:"navbar-footer",children:T.jsx("span",{children:"SeaLogistics © 2024"})})]})},Z0=H.createContext(void 0),YS=()=>{const i=H.useContext(Z0);if(!i)throw new Error("useDropdown must be used within a DropdownProvider");return i},$S=({children:i})=>{const[e,n]=H.useState(null),a=H.useCallback(m=>e===m,[e]),o=H.useCallback(m=>{n(m)},[e]),u=H.useCallback(m=>{e===m&&n(null)},[e]),f=H.useCallback(()=>{n(null)},[e]);return T.jsx(Z0.Provider,{value:{openDropdownId:e,setOpenDropdownId:n,isDropdownOpen:a,openDropdown:o,closeDropdown:u,closeAllDropdowns:f},children:i})},$c=[{value:"Em trânsito",label:"Em trânsito",color:"#8b5a00",bgColor:"#ffd166"},{value:"Agendado",label:"Agendado",color:"white",bgColor:"#118ab2"},{value:"Documentação",label:"Documentação",color:"white",bgColor:"#073b4c"},{value:"Concluído",label:"Concluído",color:"#0d5d3e",bgColor:"#06d6a0"}],ZS=({currentStatus:i,onStatusChange:e,disabled:n=!1,instanceId:a})=>{const o=H.useRef(null),u=H.useRef(null),{isDropdownOpen:f,openDropdown:m,closeDropdown:p,closeAllDropdowns:g}=YS(),[E,S]=H.useState("bottom"),[w,C]=H.useState(!1),[I,F]=H.useState(""),[B,$]=H.useState(!1),re=f(a),te=$c.find(O=>O.value===i)||$c[0],ye=$c.find(O=>O.value===I),pe=()=>{if(u.current&&o.current){const O=u.current.getBoundingClientRect(),N=window.innerHeight,ft=120,at=20,Z=N-O.bottom-at,oe=O.top-at,de=o.current.querySelector(".status-dropdown");if(de){const Ye=O.left,V=O.width;de.style.left=`${Ye}px`,de.style.width=`${V}px`,Z>=ft?(S("bottom"),de.style.top=`${O.bottom+4}px`,de.style.bottom="auto"):oe>=ft?(S("top"),de.style.bottom=`${N-O.top+4}px`,de.style.top="auto"):(S("top"),de.style.bottom=`${N-O.top+4}px`,de.style.top="auto")}}},Oe=async()=>{if(I){$(!0);try{await e(I),C(!1),F("")}catch(O){console.error("Erro ao confirmar mudança de status:",O)}finally{$(!1)}}},j=()=>{C(!1),F("")};H.useEffect(()=>{const O=at=>{at.key==="Escape"&&(w?j():re&&g())},N=()=>{re&&pe()},ft=()=>{re&&pe()};if(re||w)return document.addEventListener("keydown",O),re&&(window.addEventListener("scroll",N,!0),window.addEventListener("resize",ft),setTimeout(()=>{pe()},10)),()=>{document.removeEventListener("keydown",O),window.removeEventListener("scroll",N,!0),window.removeEventListener("resize",ft)}},[re,w,g]);const x=(O,N)=>{N.preventDefault(),N.stopPropagation(),O!==i&&(F(O),C(!0)),p(a)},R=O=>{O.preventDefault(),O.stopPropagation(),!n&&(re?p(a):(m(a),setTimeout(()=>{pe()},0)))},M=O=>{(O.key==="Enter"||O.key===" ")&&(O.preventDefault(),O.stopPropagation(),re?p(a):m(a))},P=O=>{O.preventDefault(),O.stopPropagation(),g()};return T.jsxs(T.Fragment,{children:[re&&T.jsx("div",{className:"dropdown-overlay",onClick:P}),w&&T.jsx("div",{className:"confirmation-overlay",onClick:j}),T.jsxs("div",{className:"status-selector",ref:o,children:[T.jsxs("button",{ref:u,className:`status-selector-trigger ${n?"disabled":""} ${re?"open":""}`,onClick:R,onKeyDown:M,disabled:n,"aria-expanded":re,"aria-haspopup":"listbox",style:{backgroundColor:te.bgColor,color:te.color},type:"button",children:[T.jsx("span",{className:"status-label",children:te.label}),!n&&T.jsx(_S,{size:14,className:`chevron ${re?"rotated":""}`})]}),re&&!n&&T.jsx("div",{className:`status-dropdown ${E==="top"?"dropdown-up":"dropdown-down"}`,role:"listbox",children:$c.filter(O=>O.value!==i).map(O=>T.jsx("button",{className:"status-option",onClick:N=>x(O.value,N),style:{backgroundColor:O.bgColor,color:O.color},role:"option","aria-selected":!1,type:"button",children:T.jsx("span",{className:"status-option-label",children:O.label})},O.value))})]}),w&&ye&&T.jsx("div",{className:"status-confirmation-modal",children:T.jsxs("div",{className:"confirmation-content",children:[T.jsxs("div",{className:"confirmation-header",children:[T.jsx(TS,{size:24,className:"confirmation-icon"}),T.jsx("h3",{children:"Confirmar alteração de status"})]}),T.jsxs("div",{className:"confirmation-body",children:[T.jsx("p",{children:"Deseja realmente alterar o status de:"}),T.jsxs("div",{className:"status-change-preview",children:[T.jsx("div",{className:"status-from",children:T.jsx("span",{className:"status-badge",style:{backgroundColor:te.bgColor,color:te.color},children:te.label})}),T.jsx("span",{className:"arrow",children:"→"}),T.jsx("div",{className:"status-to",children:T.jsx("span",{className:"status-badge",style:{backgroundColor:ye.bgColor,color:ye.color},children:ye.label})})]})]}),T.jsxs("div",{className:"confirmation-actions",children:[T.jsxs("button",{className:"btn-cancel",onClick:j,type:"button",children:[T.jsx(ep,{size:16}),"Cancelar"]}),T.jsxs("button",{className:"btn-confirm",onClick:Oe,disabled:B,type:"button",children:[T.jsx(yS,{size:16}),B?"Salvando...":"Confirmar"]})]})]})})]})},KS=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},XS=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,C=g&63;p||(C=64,f||(w=64)),a.push(n[E],n[S],n[w],n[C])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(K0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):XS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new JS;const w=u<<2|m>>4;if(a.push(w),g!==64){const C=m<<4&240|g>>2;if(a.push(C),S!==64){const I=g<<6&192|S;a.push(I)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class JS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WS=function(i){const e=K0(i);return X0.encodeByteArray(e,!0)},hh=function(i){return WS(i).replace(/\./g,"")},ew=function(i){try{return X0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=()=>tw().__FIREBASE_DEFAULTS__,rw=()=>{if(typeof process>"u"||typeof m_>"u")return;const i=m_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},iw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ew(i[1]);return e&&JSON.parse(e)},tp=()=>{try{return KS()||nw()||rw()||iw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},aw=i=>{var e,n;return(n=(e=tp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},sw=i=>{const e=aw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},J0=()=>{var i;return(i=tp())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[hh(JSON.stringify(n)),hh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cw(){var i;const e=(i=tp())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hw(){return!cw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fw(){try{return typeof indexedDB=="object"}catch{return!1}}function dw(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="FirebaseError";class go extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=mw,Object.setPrototypeOf(this,go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W0.prototype.create)}}class W0{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?pw(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new go(o,m,a)}}function pw(i,e){return i.replace(gw,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const gw=/\{\$([^}]+)}/g;function fh(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],f=e[o];if(p_(u)&&p_(f)){if(!fh(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function p_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(i){return i&&i._delegate?i._delegate:i}class Gl{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new ow;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_w(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vw(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vw(i){return i===Ba?void 0:i}function _w(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ge||(Ge={}));const Tw={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},bw=Ge.INFO,Aw={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},Sw=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=Aw[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eE{constructor(e){this.name=e,this._logLevel=bw,this._logHandler=Sw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const ww=(i,e)=>e.some(n=>i instanceof n);let g_,y_;function xw(){return g_||(g_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rw(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tE=new WeakMap,Em=new WeakMap,nE=new WeakMap,lm=new WeakMap,np=new WeakMap;function Cw(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(zi(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&tE.set(n,i)}).catch(()=>{}),np.set(e,i),e}function Nw(i){if(Em.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Em.set(i,e)}let Tm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Em.get(i);if(e==="objectStoreNames")return i.objectStoreNames||nE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Dw(i){Tm=i(Tm)}function Iw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(um(this),e,...n);return nE.set(a,e.sort?e.sort():[e]),zi(a)}:Rw().includes(i)?function(...e){return i.apply(um(this),e),zi(tE.get(this))}:function(...e){return zi(i.apply(um(this),e))}}function Ow(i){return typeof i=="function"?Iw(i):(i instanceof IDBTransaction&&Nw(i),ww(i,xw())?new Proxy(i,Tm):i)}function zi(i){if(i instanceof IDBRequest)return Cw(i);if(lm.has(i))return lm.get(i);const e=Ow(i);return e!==i&&(lm.set(i,e),np.set(e,i)),e}const um=i=>np.get(i);function Vw(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=zi(f);return a&&f.addEventListener("upgradeneeded",p=>{a(zi(f.result),p.oldVersion,p.newVersion,zi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Mw=["get","getKey","getAll","getAllKeys","count"],kw=["put","add","delete","clear"],cm=new Map;function v_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(cm.get(e))return cm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=kw.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Mw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return cm.set(e,u),u}Dw(i=>({...i,get:(e,n,a)=>v_(e,n)||i.get(e,n,a),has:(e,n)=>!!v_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pw(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Pw(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bm="@firebase/app",__="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new eE("@firebase/app"),Lw="@firebase/app-compat",Uw="@firebase/analytics-compat",zw="@firebase/analytics",Bw="@firebase/app-check-compat",qw="@firebase/app-check",Hw="@firebase/auth",Fw="@firebase/auth-compat",Gw="@firebase/database",Qw="@firebase/data-connect",Yw="@firebase/database-compat",$w="@firebase/functions",Zw="@firebase/functions-compat",Kw="@firebase/installations",Xw="@firebase/installations-compat",Jw="@firebase/messaging",Ww="@firebase/messaging-compat",e2="@firebase/performance",t2="@firebase/performance-compat",n2="@firebase/remote-config",r2="@firebase/remote-config-compat",i2="@firebase/storage",a2="@firebase/storage-compat",s2="@firebase/firestore",o2="@firebase/vertexai",l2="@firebase/firestore-compat",u2="firebase",c2="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",h2={[bm]:"fire-core",[Lw]:"fire-core-compat",[zw]:"fire-analytics",[Uw]:"fire-analytics-compat",[qw]:"fire-app-check",[Bw]:"fire-app-check-compat",[Hw]:"fire-auth",[Fw]:"fire-auth-compat",[Gw]:"fire-rtdb",[Qw]:"fire-data-connect",[Yw]:"fire-rtdb-compat",[$w]:"fire-fn",[Zw]:"fire-fn-compat",[Kw]:"fire-iid",[Xw]:"fire-iid-compat",[Jw]:"fire-fcm",[Ww]:"fire-fcm-compat",[e2]:"fire-perf",[t2]:"fire-perf-compat",[n2]:"fire-rc",[r2]:"fire-rc-compat",[i2]:"fire-gcs",[a2]:"fire-gcs-compat",[s2]:"fire-fst",[l2]:"fire-fst-compat",[o2]:"fire-vertex","fire-js":"fire-js",[u2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,f2=new Map,Sm=new Map;function E_(i,e){try{i.container.addComponent(e)}catch(n){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function mh(i){const e=i.name;if(Sm.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,i);for(const n of dh.values())E_(n,i);for(const n of f2.values())E_(n,i);return!0}function d2(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function m2(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new W0("app","Firebase",p2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=c2;function rE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Am,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Bi.create("bad-app-name",{appName:String(o)});if(n||(n=J0()),!n)throw Bi.create("no-options");const u=dh.get(o);if(u){if(fh(n,u.options)&&fh(a,u.config))return u;throw Bi.create("duplicate-app",{appName:o})}const f=new Ew(o);for(const p of Sm.values())f.addComponent(p);const m=new g2(n,a,f);return dh.set(o,m),m}function v2(i=Am){const e=dh.get(i);if(!e&&i===Am&&J0())return rE();if(!e)throw Bi.create("no-app",{appName:i});return e}function Ws(i,e,n){var a;let o=(a=h2[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(m.join(" "));return}mh(new Gl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firebase-heartbeat-database",E2=1,Ql="firebase-heartbeat-store";let hm=null;function iE(){return hm||(hm=Vw(_2,E2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(i=>{throw Bi.create("idb-open",{originalErrorMessage:i.message})})),hm}async function T2(i){try{const n=(await iE()).transaction(Ql),a=await n.objectStore(Ql).get(aE(i));return await n.done,a}catch(e){if(e instanceof go)ri.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ri.warn(n.message)}}}async function T_(i,e){try{const a=(await iE()).transaction(Ql,"readwrite");await a.objectStore(Ql).put(e,aE(i)),await a.done}catch(n){if(n instanceof go)ri.warn(n.message);else{const a=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ri.warn(a.message)}}}function aE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=1024,A2=30;class S2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new x2(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=b_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>A2){const f=R2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ri.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b_(),{heartbeatsToSend:a,unsentEntries:o}=w2(this._heartbeatsCache.heartbeats),u=hh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ri.warn(n),""}}}function b_(){return new Date().toISOString().substring(0,10)}function w2(i,e=b2){const n=[];let a=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),A_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),A_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class x2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fw()?dw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return T_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return T_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function A_(i){return hh(JSON.stringify({version:2,heartbeats:i})).length}function R2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(i){mh(new Gl("platform-logger",e=>new jw(e),"PRIVATE")),mh(new Gl("heartbeat",e=>new S2(e),"PRIVATE")),Ws(bm,__,i),Ws(bm,__,"esm2017"),Ws("fire-js","")}C2("");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,sE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,x){function R(){}R.prototype=x.prototype,j.D=x.prototype,j.prototype=new R,j.prototype.constructor=j,j.C=function(M,P,O){for(var N=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)N[ft-2]=arguments[ft];return x.prototype[P].apply(M,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,x,R){R||(R=0);var M=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)M[P]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(P=0;16>P;++P)M[P]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=j.g[0],R=j.g[1],P=j.g[2];var O=j.g[3],N=x+(O^R&(P^O))+M[0]+3614090360&4294967295;x=R+(N<<7&4294967295|N>>>25),N=O+(P^x&(R^P))+M[1]+3905402710&4294967295,O=x+(N<<12&4294967295|N>>>20),N=P+(R^O&(x^R))+M[2]+606105819&4294967295,P=O+(N<<17&4294967295|N>>>15),N=R+(x^P&(O^x))+M[3]+3250441966&4294967295,R=P+(N<<22&4294967295|N>>>10),N=x+(O^R&(P^O))+M[4]+4118548399&4294967295,x=R+(N<<7&4294967295|N>>>25),N=O+(P^x&(R^P))+M[5]+1200080426&4294967295,O=x+(N<<12&4294967295|N>>>20),N=P+(R^O&(x^R))+M[6]+2821735955&4294967295,P=O+(N<<17&4294967295|N>>>15),N=R+(x^P&(O^x))+M[7]+4249261313&4294967295,R=P+(N<<22&4294967295|N>>>10),N=x+(O^R&(P^O))+M[8]+1770035416&4294967295,x=R+(N<<7&4294967295|N>>>25),N=O+(P^x&(R^P))+M[9]+2336552879&4294967295,O=x+(N<<12&4294967295|N>>>20),N=P+(R^O&(x^R))+M[10]+4294925233&4294967295,P=O+(N<<17&4294967295|N>>>15),N=R+(x^P&(O^x))+M[11]+2304563134&4294967295,R=P+(N<<22&4294967295|N>>>10),N=x+(O^R&(P^O))+M[12]+1804603682&4294967295,x=R+(N<<7&4294967295|N>>>25),N=O+(P^x&(R^P))+M[13]+4254626195&4294967295,O=x+(N<<12&4294967295|N>>>20),N=P+(R^O&(x^R))+M[14]+2792965006&4294967295,P=O+(N<<17&4294967295|N>>>15),N=R+(x^P&(O^x))+M[15]+1236535329&4294967295,R=P+(N<<22&4294967295|N>>>10),N=x+(P^O&(R^P))+M[1]+4129170786&4294967295,x=R+(N<<5&4294967295|N>>>27),N=O+(R^P&(x^R))+M[6]+3225465664&4294967295,O=x+(N<<9&4294967295|N>>>23),N=P+(x^R&(O^x))+M[11]+643717713&4294967295,P=O+(N<<14&4294967295|N>>>18),N=R+(O^x&(P^O))+M[0]+3921069994&4294967295,R=P+(N<<20&4294967295|N>>>12),N=x+(P^O&(R^P))+M[5]+3593408605&4294967295,x=R+(N<<5&4294967295|N>>>27),N=O+(R^P&(x^R))+M[10]+38016083&4294967295,O=x+(N<<9&4294967295|N>>>23),N=P+(x^R&(O^x))+M[15]+3634488961&4294967295,P=O+(N<<14&4294967295|N>>>18),N=R+(O^x&(P^O))+M[4]+3889429448&4294967295,R=P+(N<<20&4294967295|N>>>12),N=x+(P^O&(R^P))+M[9]+568446438&4294967295,x=R+(N<<5&4294967295|N>>>27),N=O+(R^P&(x^R))+M[14]+3275163606&4294967295,O=x+(N<<9&4294967295|N>>>23),N=P+(x^R&(O^x))+M[3]+4107603335&4294967295,P=O+(N<<14&4294967295|N>>>18),N=R+(O^x&(P^O))+M[8]+1163531501&4294967295,R=P+(N<<20&4294967295|N>>>12),N=x+(P^O&(R^P))+M[13]+2850285829&4294967295,x=R+(N<<5&4294967295|N>>>27),N=O+(R^P&(x^R))+M[2]+4243563512&4294967295,O=x+(N<<9&4294967295|N>>>23),N=P+(x^R&(O^x))+M[7]+1735328473&4294967295,P=O+(N<<14&4294967295|N>>>18),N=R+(O^x&(P^O))+M[12]+2368359562&4294967295,R=P+(N<<20&4294967295|N>>>12),N=x+(R^P^O)+M[5]+4294588738&4294967295,x=R+(N<<4&4294967295|N>>>28),N=O+(x^R^P)+M[8]+2272392833&4294967295,O=x+(N<<11&4294967295|N>>>21),N=P+(O^x^R)+M[11]+1839030562&4294967295,P=O+(N<<16&4294967295|N>>>16),N=R+(P^O^x)+M[14]+4259657740&4294967295,R=P+(N<<23&4294967295|N>>>9),N=x+(R^P^O)+M[1]+2763975236&4294967295,x=R+(N<<4&4294967295|N>>>28),N=O+(x^R^P)+M[4]+1272893353&4294967295,O=x+(N<<11&4294967295|N>>>21),N=P+(O^x^R)+M[7]+4139469664&4294967295,P=O+(N<<16&4294967295|N>>>16),N=R+(P^O^x)+M[10]+3200236656&4294967295,R=P+(N<<23&4294967295|N>>>9),N=x+(R^P^O)+M[13]+681279174&4294967295,x=R+(N<<4&4294967295|N>>>28),N=O+(x^R^P)+M[0]+3936430074&4294967295,O=x+(N<<11&4294967295|N>>>21),N=P+(O^x^R)+M[3]+3572445317&4294967295,P=O+(N<<16&4294967295|N>>>16),N=R+(P^O^x)+M[6]+76029189&4294967295,R=P+(N<<23&4294967295|N>>>9),N=x+(R^P^O)+M[9]+3654602809&4294967295,x=R+(N<<4&4294967295|N>>>28),N=O+(x^R^P)+M[12]+3873151461&4294967295,O=x+(N<<11&4294967295|N>>>21),N=P+(O^x^R)+M[15]+530742520&4294967295,P=O+(N<<16&4294967295|N>>>16),N=R+(P^O^x)+M[2]+3299628645&4294967295,R=P+(N<<23&4294967295|N>>>9),N=x+(P^(R|~O))+M[0]+4096336452&4294967295,x=R+(N<<6&4294967295|N>>>26),N=O+(R^(x|~P))+M[7]+1126891415&4294967295,O=x+(N<<10&4294967295|N>>>22),N=P+(x^(O|~R))+M[14]+2878612391&4294967295,P=O+(N<<15&4294967295|N>>>17),N=R+(O^(P|~x))+M[5]+4237533241&4294967295,R=P+(N<<21&4294967295|N>>>11),N=x+(P^(R|~O))+M[12]+1700485571&4294967295,x=R+(N<<6&4294967295|N>>>26),N=O+(R^(x|~P))+M[3]+2399980690&4294967295,O=x+(N<<10&4294967295|N>>>22),N=P+(x^(O|~R))+M[10]+4293915773&4294967295,P=O+(N<<15&4294967295|N>>>17),N=R+(O^(P|~x))+M[1]+2240044497&4294967295,R=P+(N<<21&4294967295|N>>>11),N=x+(P^(R|~O))+M[8]+1873313359&4294967295,x=R+(N<<6&4294967295|N>>>26),N=O+(R^(x|~P))+M[15]+4264355552&4294967295,O=x+(N<<10&4294967295|N>>>22),N=P+(x^(O|~R))+M[6]+2734768916&4294967295,P=O+(N<<15&4294967295|N>>>17),N=R+(O^(P|~x))+M[13]+1309151649&4294967295,R=P+(N<<21&4294967295|N>>>11),N=x+(P^(R|~O))+M[4]+4149444226&4294967295,x=R+(N<<6&4294967295|N>>>26),N=O+(R^(x|~P))+M[11]+3174756917&4294967295,O=x+(N<<10&4294967295|N>>>22),N=P+(x^(O|~R))+M[2]+718787259&4294967295,P=O+(N<<15&4294967295|N>>>17),N=R+(O^(P|~x))+M[9]+3951481745&4294967295,j.g[0]=j.g[0]+x&4294967295,j.g[1]=j.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,j.g[2]=j.g[2]+P&4294967295,j.g[3]=j.g[3]+O&4294967295}a.prototype.u=function(j,x){x===void 0&&(x=j.length);for(var R=x-this.blockSize,M=this.B,P=this.h,O=0;O<x;){if(P==0)for(;O<=R;)o(this,j,O),O+=this.blockSize;if(typeof j=="string"){for(;O<x;)if(M[P++]=j.charCodeAt(O++),P==this.blockSize){o(this,M),P=0;break}}else for(;O<x;)if(M[P++]=j[O++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=x},a.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var x=1;x<j.length-8;++x)j[x]=0;var R=8*this.o;for(x=j.length-8;x<j.length;++x)j[x]=R&255,R/=256;for(this.u(j),j=Array(16),x=R=0;4>x;++x)for(var M=0;32>M;M+=8)j[R++]=this.g[x]>>>M&255;return j};function u(j,x){var R=m;return Object.prototype.hasOwnProperty.call(R,j)?R[j]:R[j]=x(j)}function f(j,x){this.h=x;for(var R=[],M=!0,P=j.length-1;0<=P;P--){var O=j[P]|0;M&&O==x||(R[P]=O,M=!1)}this.g=R}var m={};function p(j){return-128<=j&&128>j?u(j,function(x){return new f([x|0],0>x?-1:0)}):new f([j|0],0>j?-1:0)}function g(j){if(isNaN(j)||!isFinite(j))return S;if(0>j)return B(g(-j));for(var x=[],R=1,M=0;j>=R;M++)x[M]=j/R|0,R*=4294967296;return new f(x,0)}function E(j,x){if(j.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(j.charAt(0)=="-")return B(E(j.substring(1),x));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(x,8)),M=S,P=0;P<j.length;P+=8){var O=Math.min(8,j.length-P),N=parseInt(j.substring(P,P+O),x);8>O?(O=g(Math.pow(x,O)),M=M.j(O).add(g(N))):(M=M.j(R),M=M.add(g(N)))}return M}var S=p(0),w=p(1),C=p(16777216);i=f.prototype,i.m=function(){if(F(this))return-B(this).m();for(var j=0,x=1,R=0;R<this.g.length;R++){var M=this.i(R);j+=(0<=M?M:4294967296+M)*x,x*=4294967296}return j},i.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(I(this))return"0";if(F(this))return"-"+B(this).toString(j);for(var x=g(Math.pow(j,6)),R=this,M="";;){var P=ye(R,x).g;R=$(R,P.j(x));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(j);if(R=P,I(R))return O+M;for(;6>O.length;)O="0"+O;M=O+M}},i.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function I(j){if(j.h!=0)return!1;for(var x=0;x<j.g.length;x++)if(j.g[x]!=0)return!1;return!0}function F(j){return j.h==-1}i.l=function(j){return j=$(this,j),F(j)?-1:I(j)?0:1};function B(j){for(var x=j.g.length,R=[],M=0;M<x;M++)R[M]=~j.g[M];return new f(R,~j.h).add(w)}i.abs=function(){return F(this)?B(this):this},i.add=function(j){for(var x=Math.max(this.g.length,j.g.length),R=[],M=0,P=0;P<=x;P++){var O=M+(this.i(P)&65535)+(j.i(P)&65535),N=(O>>>16)+(this.i(P)>>>16)+(j.i(P)>>>16);M=N>>>16,O&=65535,N&=65535,R[P]=N<<16|O}return new f(R,R[R.length-1]&-2147483648?-1:0)};function $(j,x){return j.add(B(x))}i.j=function(j){if(I(this)||I(j))return S;if(F(this))return F(j)?B(this).j(B(j)):B(B(this).j(j));if(F(j))return B(this.j(B(j)));if(0>this.l(C)&&0>j.l(C))return g(this.m()*j.m());for(var x=this.g.length+j.g.length,R=[],M=0;M<2*x;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<j.g.length;P++){var O=this.i(M)>>>16,N=this.i(M)&65535,ft=j.i(P)>>>16,at=j.i(P)&65535;R[2*M+2*P]+=N*at,re(R,2*M+2*P),R[2*M+2*P+1]+=O*at,re(R,2*M+2*P+1),R[2*M+2*P+1]+=N*ft,re(R,2*M+2*P+1),R[2*M+2*P+2]+=O*ft,re(R,2*M+2*P+2)}for(M=0;M<x;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=x;M<2*x;M++)R[M]=0;return new f(R,0)};function re(j,x){for(;(j[x]&65535)!=j[x];)j[x+1]+=j[x]>>>16,j[x]&=65535,x++}function te(j,x){this.g=j,this.h=x}function ye(j,x){if(I(x))throw Error("division by zero");if(I(j))return new te(S,S);if(F(j))return x=ye(B(j),x),new te(B(x.g),B(x.h));if(F(x))return x=ye(j,B(x)),new te(B(x.g),x.h);if(30<j.g.length){if(F(j)||F(x))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=x;0>=M.l(j);)R=pe(R),M=pe(M);var P=Oe(R,1),O=Oe(M,1);for(M=Oe(M,2),R=Oe(R,2);!I(M);){var N=O.add(M);0>=N.l(j)&&(P=P.add(R),O=N),M=Oe(M,1),R=Oe(R,1)}return x=$(j,P.j(x)),new te(P,x)}for(P=S;0<=j.l(x);){for(R=Math.max(1,Math.floor(j.m()/x.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),O=g(R),N=O.j(x);F(N)||0<N.l(j);)R-=M,O=g(R),N=O.j(x);I(O)&&(O=w),P=P.add(O),j=$(j,N)}return new te(P,j)}i.A=function(j){return ye(this,j).h},i.and=function(j){for(var x=Math.max(this.g.length,j.g.length),R=[],M=0;M<x;M++)R[M]=this.i(M)&j.i(M);return new f(R,this.h&j.h)},i.or=function(j){for(var x=Math.max(this.g.length,j.g.length),R=[],M=0;M<x;M++)R[M]=this.i(M)|j.i(M);return new f(R,this.h|j.h)},i.xor=function(j){for(var x=Math.max(this.g.length,j.g.length),R=[],M=0;M<x;M++)R[M]=this.i(M)^j.i(M);return new f(R,this.h^j.h)};function pe(j){for(var x=j.g.length+1,R=[],M=0;M<x;M++)R[M]=j.i(M)<<1|j.i(M-1)>>>31;return new f(R,j.h)}function Oe(j,x){var R=x>>5;x%=32;for(var M=j.g.length-R,P=[],O=0;O<M;O++)P[O]=0<x?j.i(O+R)>>>x|j.i(O+R+1)<<32-x:j.i(O+R);return new f(P,j.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,sE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,qi=f}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oE,Ml,lE,nh,wm,uE,cE,hE;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break e;v=v[U]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,U={next:function(){if(!A&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function S(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,w.apply(null,arguments)}function C(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function I(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,U,Y){for(var se=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)se[Be-2]=arguments[Be];return y.prototype[U].apply(A,se)}}function F(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function B(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const U=c.length||0,Y=A.length||0;c.length=U+Y;for(let se=0;se<Y;se++)c[U+se]=A[se]}else c.push(A)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ye(c){return ye[" "](c),c}ye[" "]=function(){};var pe=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function Oe(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function j(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function x(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let Y=0;Y<R.length;Y++)v=R[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function O(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Ye;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ft{constructor(){this.h=this.g=null}add(y,v){const A=at.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var at=new $(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,de=!1,Ye=new ft,V=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){O(v)}var y=at;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function je(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(pe){e:{try{ye(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&je.aa.h.call(this)}}I(je,ae);var Re={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),ot=0;function er(c,y,v,A,U){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=U,this.key=++ot,this.da=this.fa=!1}function li(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Rr(c){this.src=c,this.g={},this.h=0}Rr.prototype.add=function(c,y,v,A,U){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var se=aa(c,y,A,U);return-1<se?(y=c[se],v||(y.fa=!1)):(y=new er(y,this.src,Y,!!A,U),y.fa=v,c.push(y)),y};function ia(c,y){var v=y.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=U)&&Array.prototype.splice.call(A,U,1),Y&&(li(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function aa(c,y,v,A){for(var U=0;U<c.length;++U){var Y=c[U];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==A)return U}return-1}var sa="closure_lm_"+(1e6*Math.random()|0),bo={};function Au(c,y,v,A,U){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Au(c,y[Y],v,A,U);return null}return v=Su(v),c&&c[Lt]?c.K(y,v,g(A)?!!A.capture:!1,U):Nn(c,y,v,!1,A,U)}function Nn(c,y,v,A,U,Y){if(!y)throw Error("Invalid event type");var se=g(U)?!!U.capture:!!U,Be=ts(c);if(Be||(c[sa]=Be=new Rr(c)),v=Be.add(y,v,A,se,Y),v.proxy)return v;if(A=Wh(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)Ee||(U=se),U===void 0&&(U=!1),c.addEventListener(y.toString(),A,U);else if(c.attachEvent)c.attachEvent(oa(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Wh(){function c(v){return y.call(c.src,c.listener,v)}const y=ef;return c}function Ao(c,y,v,A,U){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Ao(c,y[Y],v,A,U);else A=g(A)?!!A.capture:!!A,v=Su(v),c&&c[Lt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=aa(Y,v,A,U),-1<v&&(li(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=ts(c))&&(y=c.g[y.toString()],c=-1,y&&(c=aa(y,v,A,U)),(v=-1<c?y[c]:null)&&es(v))}function es(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Lt])ia(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(oa(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ts(y))?(ia(v,c),v.h==0&&(v.src=null,y[sa]=null)):li(c)}}}function oa(c){return c in bo?bo[c]:bo[c]="on"+c}function ef(c,y){if(c.da)c=!0;else{y=new je(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&es(c),c=v.call(A,y)}return c}function ts(c){return c=c[sa],c instanceof Rr?c:null}var So="__closure_events_fn_"+(1e9*Math.random()>>>0);function Su(c){return typeof c=="function"?c:(c[So]||(c[So]=function(y){return c.handleEvent(y)}),c[So])}function yt(){le.call(this),this.i=new Rr(this),this.M=this,this.F=null}I(yt,le),yt.prototype[Lt]=!0,yt.prototype.removeEventListener=function(c,y,v,A){Ao(this,c,y,v,A)};function Je(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var U=y;y=new ae(A,c),M(y,U)}if(U=!0,v)for(var Y=v.length-1;0<=Y;Y--){var se=y.g=v[Y];U=vn(se,A,!0,y)&&U}if(se=y.g=c,U=vn(se,A,!0,y)&&U,U=vn(se,A,!1,y)&&U,v)for(Y=0;Y<v.length;Y++)se=y.g=v[Y],U=vn(se,A,!1,y)&&U}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)li(v[A]);delete c.g[y],c.h--}}this.F=null},yt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},yt.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function vn(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,Y=0;Y<y.length;++Y){var se=y[Y];if(se&&!se.da&&se.capture==v){var Be=se.listener,It=se.ha||se.src;se.fa&&ia(c.i,se),U=Be.call(It,A)!==!1&&U}}return U&&!A.defaultPrevented}function Wt(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function wu(c){c.g=Wt(()=>{c.g=null,c.i&&(c.i=!1,wu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tf extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(c){le.call(this),this.h=c,this.g={}}I(la,le);var ua=[];function ca(c){Oe(c.g,function(y,v){this.g.hasOwnProperty(v)&&es(y)},c),c.g={}}la.prototype.N=function(){la.aa.N.call(this),ca(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=m.JSON.stringify,ns=m.JSON.parse,ha=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function wo(){}wo.prototype.h=null;function xo(c){return c.h||(c.h=c.i())}function Ro(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){ae.call(this,"d")}I(Nr,ae);function Co(){ae.call(this,"c")}I(Co,ae);var tr={},No=null;function ui(){return No=No||new yt}tr.La="serverreachability";function rs(c){ae.call(this,tr.La,c)}I(rs,ae);function ci(c){const y=ui();Je(y,new rs(y))}tr.STAT_EVENT="statevent";function xu(c,y){ae.call(this,tr.STAT_EVENT,c),this.stat=y}I(xu,ae);function ct(c){const y=ui();Je(y,new xu(y,c))}tr.Ma="timingevent";function Dt(c,y){ae.call(this,tr.Ma,c),this.size=y}I(Dt,ae);function St(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function Do(c,y,v,A,U,Y){c.info(function(){if(c.g)if(Y)for(var se="",Be=Y.split("&"),It=0;It<Be.length;It++){var qe=Be[It].split("=");if(1<qe.length){var zt=qe[0];qe=qe[1];var Ot=zt.split("_");se=2<=Ot.length&&Ot[1]=="type"?se+(zt+"="+qe+"&"):se+(zt+"=redacted&")}}else se=null;else se=Y;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+y+`
`+v+`
`+se})}function nf(c,y,v,A,U,Y,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+y+`
`+v+`
`+Y+" "+se})}function hi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+fa(c,v)+(A?" "+A:"")})}function Ru(c,y){c.info(function(){return"TIMEOUT: "+y})}Dn.prototype.info=function(){};function fa(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var Y=U[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var se=1;se<U.length;se++)U[se]=""}}}}return qn(v)}catch{return y}}var fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nr;function rr(){}I(rr,wo),rr.prototype.g=function(){return new XMLHttpRequest},rr.prototype.i=function(){return{}},nr=new rr;function ln(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new la(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}var Io={},is={};function Hn(c,y,v){c.L=1,c.v=ya(_n(y)),c.m=v,c.P=!0,Ir(c,null)}function Ir(c,y){c.F=Date.now(),da(c),c.A=_n(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Po(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Et,c.g=Hu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new tf(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(ua[0]=U.toString()),U=ua);for(var Y=0;Y<U.length;Y++){var se=Au(v,U[Y],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ci(),Do(c.i,c.u,c.A,c.l,c.R,c.m)}ln.prototype.ca=function(c){c=c.target;const y=this.M;y&&Mn(c)==3?y.j():this.Y(c)},ln.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=Mn(this.g);var y=this.g.Ba();const Ur=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||ku(this.g)))){this.J||Ot!=4||y==7||(y==8||0>=Ur?ci(3):ci(2)),di(this);var v=this.g.Z();this.X=v;t:if(Cu(this)){var A=ku(this.g);c="";var U=A.length,Y=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),ir(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==U-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,nf(this.i,this.u,this.A,this.l,this.R,Ot,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,It=this.g;if((Be=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Be)){var qe=Be;break t}}qe=null}if(v=qe)hi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ma(this,v);else{this.o=!1,this.s=3,ct(12),Gt(this),ir(this);break e}}if(this.P){v=!0;let Qt;for(;!this.J&&this.C<se.length;)if(Qt=Nu(this,se),Qt==is){Ot==4&&(this.s=4,ct(14),v=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Io){this.s=4,ct(15),hi(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else hi(this.i,this.l,Qt,null),ma(this,Qt);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||se.length!=0||this.h.h||(this.s=1,ct(16),v=!1),this.o=this.o&&v,!v)hi(this.i,this.l,se,"[Invalid Chunked Response]"),Gt(this),ir(this);else if(0<se.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),wa(zt),zt.M=!0,ct(11))}}else hi(this.i,this.l,se,null),ma(this,se);Ot==4&&Gt(this),this.o&&!this.J&&(Ot==4?zu(this.j,this):(this.o=!1,da(this)))}else lf(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Gt(this),ir(this)}}}catch{}finally{}};function Cu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Nu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?is:(v=Number(y.substring(v,A)),isNaN(v)?Io:(A+=1,A+v>y.length?is:(y=y.slice(A,A+v),c.C=A+v,y)))}ln.prototype.cancel=function(){this.J=!0,Gt(this)};function da(c){c.S=Date.now()+c.I,Du(c,c.I)}function Du(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=St(w(c.ba,c),y)}function di(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ln.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ru(this.i,this.A),this.L!=2&&(ci(),ct(17)),Gt(this),this.s=2,ir(this)):Du(this,this.S-c)};function ir(c){c.j.G==0||c.J||zu(c.j,c)}function Gt(c){di(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ca(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ma(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Oo(v.h,c))){if(!c.K&&Oo(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)gs(v),ms(v);else break e;qo(v),ct(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=St(w(v.Za,v),6e3));if(1>=ss(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Lr(v,11)}else if((c.K||v.g==c)&&gs(v),!re(y))for(U=v.Da.g.parse(y),y=0;y<U.length;y++){let qe=U[y];if(v.T=qe[0],qe=qe[1],v.G==2)if(qe[0]=="c"){v.K=qe[1],v.ia=qe[2];const zt=qe[3];zt!=null&&(v.la=zt,v.j.info("VER="+v.la));const Ot=qe[4];Ot!=null&&(v.Aa=Ot,v.j.info("SVER="+v.Aa));const Ur=qe[5];Ur!=null&&typeof Ur=="number"&&0<Ur&&(A=1.5*Ur,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qt=c.g;if(Qt){const hr=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hr){var Y=A.h;Y.g||hr.indexOf("spdy")==-1&&hr.indexOf("quic")==-1&&hr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(os(Y,Y.h),Y.h=null))}if(A.D){const Fo=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(A.ya=Fo,tt(A.I,A.D,Fo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var se=c;if(A.qa=qu(A,A.J?A.ia:null,A.W),se.K){un(A.h,se);var Be=se,It=A.L;It&&(Be.I=It),Be.B&&(di(Be),da(Be)),A.g=se}else Lu(A);0<v.i.length&&ps(v)}else qe[0]!="stop"&&qe[0]!="close"||Lr(v,7);else v.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Lr(v,7):zo(v):qe[0]!="noop"&&v.l&&v.l.ta(qe),v.v=0)}}ci(4)}catch{}}var Iu=class{constructor(c,y){this.g=c,this.map=y}};function Or(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function as(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ss(c){return c.h?1:c.g?c.g.size:0}function Oo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function os(c,y){c.g?c.g.add(y):c.h=y}function un(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Or.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return F(c.i)}function rf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function ls(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function Mo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ls(c),A=rf(c),U=A.length,Y=0;Y<U;Y++)y.call(void 0,A[Y],v&&v[Y],c)}var pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function af(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),U=null;if(0<=A){var Y=c[v].substring(0,A);U=c[v].substring(A+1)}else Y=c[v];y(Y,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function wt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wt){this.h=c.h,ga(this,c.j),this.o=c.o,this.g=c.g,mi(this,c.s),this.l=c.l;var y=c.i,v=new Mr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Vr(this,v),this.m=c.m}else c&&(y=String(c).match(pa))?(this.h=!1,ga(this,y[1]||"",!0),this.o=In(y[2]||""),this.g=In(y[3]||"",!0),mi(this,y[4]),this.l=In(y[5]||"",!0),Vr(this,y[6]||"",!0),this.m=In(y[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}wt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(va(y,ko,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(va(y,ko,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(va(v,v.charAt(0)=="/"?sf:jo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",va(v,us)),c.join("")};function _n(c){return new wt(c)}function ga(c,y,v){c.j=v?In(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function mi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Vr(c,y,v){y instanceof Mr?(c.i=y,Vu(c.i,c.h)):(v||(y=va(y,of)),c.i=new Mr(y,c.h))}function tt(c,y,v){c.i.set(y,v)}function ya(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function va(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Ou),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ou(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ko=/[#\/\?@]/g,jo=/[#\?:]/g,sf=/[#\?]/g,of=/[#\?@]/g,us=/#/g;function Mr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function On(c){c.g||(c.g=new Map,c.h=0,c.i&&af(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Mr.prototype,i.add=function(c,y){On(this),this.i=null,c=ar(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function kr(c,y){On(c),y=ar(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function jr(c,y){return On(c),y=ar(c,y),c.g.has(y)}i.forEach=function(c,y){On(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(y,U,A,this)},this)},this)},i.na=function(){On(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const U=c[A];for(let Y=0;Y<U.length;Y++)v.push(y[A])}return v},i.V=function(c){On(this);let y=[];if(typeof c=="string")jr(this,c)&&(y=y.concat(this.g.get(ar(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return On(this),this.i=null,c=ar(this,c),jr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Po(c,y,v){kr(c,y),0<v.length&&(c.i=null,c.g.set(ar(c,y),F(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Y=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var U=Y;se[A]!==""&&(U+="="+encodeURIComponent(String(se[A]))),c.push(U)}}return this.i=c.join("&")};function ar(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Vu(c,y){y&&!c.j&&(On(c),c.i=null,c.g.forEach(function(v,A){var U=A.toLowerCase();A!=U&&(kr(this,A),Po(this,U,v))},c)),c.j=y}function _a(c,y){const v=new Dn;if(m.Image){const A=new Image;A.onload=C(Vn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=C(Vn,v,"TestLoadImage: error",!1,y,A),A.onabort=C(Vn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=C(Vn,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Fn(c,y){const v=new Dn,A=new AbortController,U=setTimeout(()=>{A.abort(),Vn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(U),Y.ok?Vn(v,"TestPingServer: ok",!0,y):Vn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Vn(v,"TestPingServer: error",!1,y)})}function Vn(c,y,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Ea(){this.g=new ha}function sr(c,y,v){const A=v||"";try{Mo(c,function(U,Y){let se=U;g(U)&&(se=qn(U)),y.push(A+Y+"="+encodeURIComponent(se))})}catch(U){throw y.push(A+"type="+encodeURIComponent("_badmap")),U}}function pi(c){this.l=c.Ub||null,this.j=c.eb||!1}I(pi,wo),pi.prototype.g=function(){return new Pr(this.l,this.j)},pi.prototype.i=function(c){return function(){return c}}({});function Pr(c,y){yt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Pr,yt),i=Pr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,lr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?or(this):lr(this),this.readyState==3&&Lo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,or(this))},i.Qa=function(c){this.g&&(this.response=c,or(this))},i.ga=function(){this.g&&or(this)};function or(c){c.readyState=4,c.l=null,c.j=null,c.v=null,lr(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function lr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Uo(c){let y="";return Oe(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ut(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Uo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):tt(c,y,v))}function Ke(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ke,yt);var cs=/^https?$/i,Ta=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nr.g(),this.v=this.o?xo(this.o):xo(nr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Mu(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ta,y,void 0))||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of v)this.g.setRequestHeader(Y,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ba(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Mu(this,Y)}};function Mu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,hs(c),ur(c)}function hs(c){c.A||(c.A=!0,Je(c,"complete"),Je(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Je(this,"complete"),Je(this,"abort"),ur(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?fs(this):this.bb())},i.bb=function(){fs(this)};function fs(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)Wt(c.Ea,0,c);else if(Je(c,"readystatechange"),Mn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=se===0){var U=String(c.D).match(pa)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),A=!cs.test(U?U.toLowerCase():"")}v=A}if(v)Je(c,"complete"),Je(c,"success");else{c.m=6;try{var Y=2<Mn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",hs(c)}}finally{ur(c)}}}}function ur(c,y){if(c.g){ba(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Je(c,"ready");try{v.onreadystatechange=A}catch{}}}function ba(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ns(y)}};function ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lf(c){const y={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(re(c[A]))continue;var v=P(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[U]||[];y[U]=Y,Y.push(v)}j(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ds(c){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,c),this.cb=Aa("retryDelaySeedMs",1e4,c),this.Wa=Aa("forwardChannelMaxRetries",2,c),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Or(c&&c.concurrentRequestLimit),this.Da=new Ea,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ds.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,A){ct(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=qu(this,null,this.W),ps(this)};function zo(c){if(ju(c),c.G==3){var y=c.U++,v=_n(c.I);if(tt(v,"SID",c.K),tt(v,"RID",y),tt(v,"TYPE","terminate"),Sa(c,v),y=new ln(c,c.j,y),y.L=2,y.v=ya(_n(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Hu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),da(y)}Bu(c)}function ms(c){c.g&&(wa(c),c.g.cancel(),c.g=null)}function ju(c){ms(c),c.u&&(m.clearTimeout(c.u),c.u=null),gs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ps(c){if(!as(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||V(),de||(oe(),de=!0),Ye.add(y,c),c.B=0}}function uf(c,y){return ss(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=St(w(c.Ga,c,y),Ho(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new ln(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=x(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(U.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Pu(this,U,y),v=_n(this.I),tt(v,"RID",c),tt(v,"CVER",22),this.D&&tt(v,"X-HTTP-Session-Id",this.D),Sa(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(Uo(Y)))+"&"+y:this.m&&Ut(v,this.m,Y)),os(this.h,U),this.Ua&&tt(v,"TYPE","init"),this.P?(tt(v,"$req",y),tt(v,"SID","null"),U.T=!0,Hn(U,v,null)):Hn(U,v,y),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||as(this.h)||Bo(this))};function Bo(c,y){var v;y?v=y.l:v=c.U++;const A=_n(c.I);tt(A,"SID",c.K),tt(A,"RID",v),tt(A,"AID",c.T),Sa(c,A),c.m&&c.o&&Ut(A,c.m,c.o),v=new ln(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Pu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),os(c.h,v),Hn(v,A,y)}function Sa(c,y){c.H&&Oe(c.H,function(v,A){tt(y,A,v)}),c.l&&Mo({},function(v,A){tt(y,A,v)})}function Pu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?w(c.l.Na,c.l,c):null;e:{var U=c.i;let Y=-1;for(;;){const se=["count="+v];Y==-1?0<v?(Y=U[0].g,se.push("ofs="+Y)):Y=0:se.push("ofs="+Y);let Be=!0;for(let It=0;It<v;It++){let qe=U[It].g;const zt=U[It].map;if(qe-=Y,0>qe)Y=Math.max(0,U[It].g-100),Be=!1;else try{sr(zt,se,"req"+qe+"_")}catch{A&&A(zt)}}if(Be){A=se.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function Lu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||V(),de||(oe(),de=!0),Ye.add(y,c),c.v=0}}function qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=St(w(c.Fa,c),Ho(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=St(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),ms(this),Uu(this))};function wa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Uu(c){c.g=new ln(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);tt(y,"RID","rpc"),tt(y,"SID",c.K),tt(y,"AID",c.T),tt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(y,"TO",c.ja),tt(y,"TYPE","xmlhttp"),Sa(c,y),c.m&&c.o&&Ut(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ya(_n(y)),v.m=null,v.P=!0,Ir(v,c)}i.Za=function(){this.C!=null&&(this.C=null,ms(this),qo(this),ct(19))};function gs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function zu(c,y){var v=null;if(c.g==y){gs(c),wa(c),c.g=null;var A=2}else if(Oo(c.h,y))v=y.D,un(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;A=ui(),Je(A,new Dt(A,v)),ps(c)}else Lu(c);else if(U=y.s,U==3||U==0&&0<y.X||!(A==1&&uf(c,y)||A==2&&qo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),U){case 1:Lr(c,5);break;case 4:Lr(c,10);break;case 3:Lr(c,6);break;default:Lr(c,2)}}}function Ho(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Lr(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),A=c.Xa;const U=!A;A=new wt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ga(A,"https"),ya(A),U?_a(A.toString(),v):Fn(A.toString(),v)}else ct(2);c.G=0,c.l&&c.l.sa(y),Bu(c),ju(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Bu(c){if(c.G=0,c.ka=[],c.l){const y=Vo(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function qu(c,y,v){var A=v instanceof wt?_n(v):new wt(v);if(A.g!="")y&&(A.g=y+"."+A.g),mi(A,A.s);else{var U=m.location;A=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var Y=new wt(null);A&&ga(Y,A),y&&(Y.g=y),U&&mi(Y,U),v&&(Y.l=v),A=Y}return v=c.D,y=c.ya,v&&y&&tt(A,v,y),tt(A,"VER",c.la),Sa(c,A),A}function Hu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ke(new pi({eb:v})):new Ke(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}i=Fu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ys(){}ys.prototype.g=function(c,y){return new cn(c,y)};function cn(c,y){yt.call(this),this.g=new ds(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new cr(this)}I(cn,yt),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){zo(this.g)},cn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=qn(c),c=v);y.i.push(new Iu(y.Ya++,c)),y.G==3&&ps(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,cn.aa.N.call(this)};function Gu(c){Nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}I(Gu,Nr);function Qu(){Co.call(this),this.status=1}I(Qu,Co);function cr(c){this.g=c}I(cr,Fu),cr.prototype.ua=function(){Je(this.g,"a")},cr.prototype.ta=function(c){Je(this.g,new Gu(c))},cr.prototype.sa=function(c){Je(this.g,new Qu)},cr.prototype.ra=function(){Je(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,hE=function(){return new ys},cE=function(){return ui()},uE=tr,wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,nh=fi,Dr.COMPLETE="complete",lE=Dr,Ro.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Ml=Ro,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,oE=Ke}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const w_="@firebase/firestore",x_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new eE("@firebase/firestore");function Ys(){return Ga.logLevel}function he(i,...e){if(Ga.logLevel<=Ge.DEBUG){const n=e.map(rp);Ga.debug(`Firestore (${yo}): ${i}`,...n)}}function ii(i,...e){if(Ga.logLevel<=Ge.ERROR){const n=e.map(rp);Ga.error(`Firestore (${yo}): ${i}`,...n)}}function no(i,...e){if(Ga.logLevel<=Ge.WARN){const n=e.map(rp);Ga.warn(`Firestore (${yo}): ${i}`,...n)}}function rp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,fE(i,a,n)}function fE(i,e,n){let a=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ii(a),new Error(a)}function Xe(i,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,i||fE(e,o,a)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends go{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class D2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I2{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xe(typeof a.accessToken=="string",31837,{l:a}),new dE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class O2{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V2{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new O2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,m2(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const a=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=k2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function ke(i,e){return i<e?-1:i>e?1:0}function xm(i,e){let n=0;for(;n<i.length&&n<e.length;){const a=i.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return ke(a,o);{const u=mE(),f=j2(u.encode(C_(i,n)),u.encode(C_(e,n)));return f!==0?f:ke(a,o)}}n+=a>65535?2:1}return ke(i.length,e.length)}function C_(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function j2(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return ke(i[n],e[n]);return ke(i.length,e.length)}function ro(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=-62135596800,D_=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*D_);return new kt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<N_)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-N_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new kt(0,0))}static max(){return new Ce(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="__name__";class yr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ae(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=yr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const a=yr.isNumericId(e),o=yr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?yr.extractNumericId(e).compare(yr.extractNumericId(n)):xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class ut extends yr{construct(e,n,a){return new ut(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const P2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends yr{construct(e,n,a){return new Xt(e,n,a)}static isValidIdentifier(e){return P2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new Xt([I_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new fe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new fe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ut.fromString(e))}static fromName(e){return new _e(ut.fromString(e).popFirst(5))}static empty(){return new _e(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function L2(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(a===1e9?new kt(n+1,0):new kt(n,a));return new Gi(o,_e.empty(),e)}function U2(i){return new Gi(i.readTime,i.key,Yl)}class Gi{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Gi(Ce.min(),_e.empty(),Yl)}static max(){return new Gi(Ce.max(),_e.empty(),Yl)}}function z2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==B2)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,a)=>{n(e)})}static reject(e){return new ee((n,a)=>{a(e)})}static waitFor(e){return new ee((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>a(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const a of e)n=n.next(o=>o?ee.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ee((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(e,n){return new ee((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function H2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}kh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=-1;function jh(i){return i==null}function ph(i){return i===0&&1/i==-1/0}function F2(i){return typeof i=="number"&&Number.isInteger(i)&&!ph(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="";function G2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=O_(e)),e=Q2(i.get(n),e);return O_(e)}function Q2(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case gE:n+="";break;default:n+=u}}return n}function O_(i){return i+gE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function na(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function yE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Kt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new M_(this.data.getIterator())}getIteratorFrom(e){return new M_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class M_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new jt(Xt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vE("Invalid base64 string: "+u):u}}(e);return new Jt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const Y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=Y2.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:At(i.seconds),nanos:At(i.nanos)}}function At(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Yi(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="server_timestamp",EE="__type__",TE="__previous_value__",bE="__local_write_time__";function ap(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[EE])===null||n===void 0?void 0:n.stringValue)===_E}function Ph(i){const e=i.mapValue.fields[TE];return ap(e)?Ph(e):e}function $l(i){const e=Qi(i.mapValue.fields[bE].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,a,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const gh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||gh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="__type__",Z2="__max__",Xc={mapValue:{}},SE="__vector__",yh="value";function $i(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ap(i)?4:X2(i)?9007199254740991:K2(i)?10:11:Ae(28295,{value:i})}function Ar(i,e){if(i===e)return!0;const n=$i(i);if(n!==$i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $l(i).isEqual($l(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Qi(o.timestampValue),m=Qi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Yi(o.bytesValue).isEqual(Yi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return At(o.geoPointValue.latitude)===At(u.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return At(o.integerValue)===At(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=At(o.doubleValue),m=At(u.doubleValue);return f===m?ph(f)===ph(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return ro(i.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(V_(f)!==V_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ar(f[p],m[p])))return!1;return!0}(i,e);default:return Ae(52216,{left:i})}}function Kl(i,e){return(i.values||[]).find(n=>Ar(n,e))!==void 0}function io(i,e){if(i===e)return 0;const n=$i(i),a=$i(e);if(n!==a)return ke(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=At(u.integerValue||u.doubleValue),p=At(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return k_(i.timestampValue,e.timestampValue);case 4:return k_($l(i),$l(e));case 5:return xm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Yi(u),p=Yi(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ke(m[g],p[g]);if(E!==0)return E}return ke(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=ke(At(u.latitude),At(f.latitude));return m!==0?m:ke(At(u.longitude),At(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return j_(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const S=u.fields||{},w=f.fields||{},C=(m=S[yh])===null||m===void 0?void 0:m.arrayValue,I=(p=w[yh])===null||p===void 0?void 0:p.arrayValue,F=ke(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((E=I==null?void 0:I.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:j_(C,I)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Xc.mapValue&&f===Xc.mapValue)return 0;if(u===Xc.mapValue)return 1;if(f===Xc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const w=xm(p[S],E[S]);if(w!==0)return w;const C=io(m[p[S]],g[E[S]]);if(C!==0)return C}return ke(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ae(23264,{Pe:n})}}function k_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=Qi(i),a=Qi(e),o=ke(n.seconds,a.seconds);return o!==0?o:ke(n.nanos,a.nanos)}function j_(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=io(n[o],a[o]);if(u)return u}return ke(n.length,a.length)}function ao(i){return Rm(i)}function Rm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=Qi(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Yi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return _e.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Rm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Rm(n.fields[f])}`;return o+"}"}(i.mapValue):Ae(61005,{value:i})}function rh(i){switch($i(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(i);return e?16+rh(e):16;case 5:return 2*i.stringValue.length;case 6:return Yi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+rh(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return na(a.fields,(u,f)=>{o+=u.length+rh(f)}),o}(i.mapValue);default:throw Ae(13486,{value:i})}}function P_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Cm(i){return!!i&&"integerValue"in i}function sp(i){return!!i&&"arrayValue"in i}function L_(i){return!!i&&"nullValue"in i}function U_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ih(i){return!!i&&"mapValue"in i}function K2(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[AE])===null||n===void 0?void 0:n.stringValue)===SE}function zl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return na(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=zl(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function X2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Z2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=Xt.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=zl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){na(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new yn(zl(this.value))}}function wE(i){const e=[];return na(i.fields,(n,a)=>{const o=new Xt([n]);if(ih(a)){const u=wE(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Ce.min(),Ce.min(),Ce.min(),yn.empty(),0)}static newFoundDocument(e,n,a,o){return new an(e,1,n,Ce.min(),a,o,0)}static newNoDocument(e,n){return new an(e,2,n,Ce.min(),Ce.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Ce.min(),Ce.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.position=e,this.inclusive=n}}function z_(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?a=_e.comparator(_e.fromName(f.referenceValue),n.key):a=io(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function B_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ar(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n="asc"){this.field=e,this.dir=n}}function J2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{}class Nt extends xE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new ex(e,n,a):n==="array-contains"?new rx(e,a):n==="in"?new ix(e,a):n==="not-in"?new ax(e,a):n==="array-contains-any"?new sx(e,a):new Nt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new tx(e,a):new nx(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(io(n,this.value)):n!==null&&$i(this.value)===$i(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends xE{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Jn(e,n)}matches(e){return RE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function RE(i){return i.op==="and"}function CE(i){return W2(i)&&RE(i)}function W2(i){for(const e of i.filters)if(e instanceof Jn)return!1;return!0}function Nm(i){if(i instanceof Nt)return i.field.canonicalString()+i.op.toString()+ao(i.value);if(CE(i))return i.filters.map(e=>Nm(e)).join(",");{const e=i.filters.map(n=>Nm(n)).join(",");return`${i.op}(${e})`}}function NE(i,e){return i instanceof Nt?function(a,o){return o instanceof Nt&&a.op===o.op&&a.field.isEqual(o.field)&&Ar(a.value,o.value)}(i,e):i instanceof Jn?function(a,o){return o instanceof Jn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&NE(f,o.filters[m]),!0):!1}(i,e):void Ae(19439)}function DE(i){return i instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`}(i):i instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(DE).join(" ,")+"}"}(i):"Filter"}class ex extends Nt{constructor(e,n,a){super(e,n,a),this.key=_e.fromName(a.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class tx extends Nt{constructor(e,n){super(e,"in",n),this.keys=IE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nx extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=IE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IE(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>_e.fromName(a.referenceValue))}class rx extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sp(n)&&Kl(n.arrayValue,this.value)}}class ix extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class ax extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kl(this.value.arrayValue,n)}}class sx extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Kl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function q_(i,e=null,n=[],a=[],o=null,u=null,f=null){return new ox(i,e,n,a,o,u,f)}function op(i){const e=Ne(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Nm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>ao(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>ao(a)).join(",")),e.Ie=n}return e.Ie}function lp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!J2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!NE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!B_(i.startAt,e.startAt)&&B_(i.endAt,e.endAt)}function Dm(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function lx(i,e,n,a,o,u,f,m){return new Eo(i,e,n,a,o,u,f,m)}function Lh(i){return new Eo(i)}function H_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function OE(i){return i.collectionGroup!==null}function Bl(i){const e=Ne(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new jt(Xt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Xl(u,a))}),n.has(Xt.keyField().canonicalString())||e.Ee.push(new Xl(Xt.keyField(),a))}return e.Ee}function vr(i){const e=Ne(i);return e.de||(e.de=ux(e,Bl(i))),e.de}function ux(i,e){if(i.limitType==="F")return q_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Xl(o.field,u)});const n=i.endAt?new vh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new vh(i.startAt.position,i.startAt.inclusive):null;return q_(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function Im(i,e){const n=i.filters.concat([e]);return new Eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Om(i,e,n){return new Eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Uh(i,e){return lp(vr(i),vr(e))&&i.limitType===e.limitType}function VE(i){return`${op(vr(i))}|lt:${i.limitType}`}function $s(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>DE(o)).join(", ")}]`),jh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>ao(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>ao(o)).join(",")),`Target(${a})`}(vr(i))}; limitType=${i.limitType})`}function zh(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):_e.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of Bl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(f,m,p){const g=z_(f,m,p);return f.inclusive?g<=0:g<0}(a.startAt,Bl(a),o)||a.endAt&&!function(f,m,p){const g=z_(f,m,p);return f.inclusive?g>=0:g>0}(a.endAt,Bl(a),o))}(i,e)}function cx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ME(i){return(e,n)=>{let a=!1;for(const o of Bl(i)){const u=hx(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function hx(i,e,n){const a=i.field.isKeyField()?_e.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?io(p,g):Ae(42886)}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Ae(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new gt(_e.comparator);function ai(){return fx}const kE=new gt(_e.comparator);function kl(...i){let e=kE;for(const n of i)e=e.insert(n.key,n);return e}function jE(i){let e=kE;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function qa(){return ql()}function PE(){return ql()}function ql(){return new Xa(i=>i.toString(),(i,e)=>i.isEqual(e))}const dx=new gt(_e.comparator),mx=new jt(_e.comparator);function ze(...i){let e=mx;for(const n of i)e=e.add(n);return e}const px=new jt(ke);function gx(){return px}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function LE(i){return{integerValue:""+i}}function yx(i,e){return F2(e)?LE(e):up(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function vx(i,e,n){return i instanceof _h?function(o,u){const f={fields:{[EE]:{stringValue:_E},[bE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ap(u)&&(u=Ph(u)),u&&(f.fields[TE]=u),{mapValue:f}}(n,e):i instanceof Jl?zE(i,e):i instanceof Wl?BE(i,e):function(o,u){const f=UE(o,u),m=F_(f)+F_(o.Re);return Cm(f)&&Cm(o.Re)?LE(m):up(o.serializer,m)}(i,e)}function _x(i,e,n){return i instanceof Jl?zE(i,e):i instanceof Wl?BE(i,e):n}function UE(i,e){return i instanceof Eh?function(a){return Cm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class _h extends Bh{}class Jl extends Bh{constructor(e){super(),this.elements=e}}function zE(i,e){const n=qE(e);for(const a of i.elements)n.some(o=>Ar(o,a))||n.push(a);return{arrayValue:{values:n}}}class Wl extends Bh{constructor(e){super(),this.elements=e}}function BE(i,e){let n=qE(e);for(const a of i.elements)n=n.filter(o=>!Ar(o,a));return{arrayValue:{values:n}}}class Eh extends Bh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function F_(i){return At(i.integerValue||i.doubleValue)}function qE(i){return sp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Ex(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof Jl&&o instanceof Jl||a instanceof Wl&&o instanceof Wl?ro(a.elements,o.elements,Ar):a instanceof Eh&&o instanceof Eh?Ar(a.Re,o.Re):a instanceof _h&&o instanceof _h}(i.transform,e.transform)}class Tx{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class qh{}function HE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new GE(i.key,Zn.none()):new yu(i.key,i.data,Zn.none());{const n=i.data,a=yn.empty();let o=new jt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new ra(i.key,a,new Rn(o.toArray()),Zn.none())}}function bx(i,e,n){i instanceof yu?function(o,u,f){const m=o.value.clone(),p=Q_(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ra?function(o,u,f){if(!ah(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Q_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(FE(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Hl(i,e,n,a){return i instanceof yu?function(u,f,m,p){if(!ah(u.precondition,f))return m;const g=u.value.clone(),E=Y_(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,a):i instanceof ra?function(u,f,m,p){if(!ah(u.precondition,f))return m;const g=Y_(u.fieldTransforms,p,f),E=f.data;return E.setAll(FE(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,a):function(u,f,m){return ah(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function Ax(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=UE(a.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(a.field,u))}return n||null}function G_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ro(a,o,(u,f)=>Ex(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class yu extends qh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends qh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function FE(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function Q_(i,e,n){const a=new Map;Xe(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,_x(f,m,n[o]))}return a}function Y_(i,e,n){const a=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);a.set(o.field,vx(u,f,e))}return a}class GE extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sx extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&bx(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Hl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Hl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=PE();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=HE(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ce.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(n,a)=>G_(n,a))&&ro(this.baseMutations,e.baseMutations,(n,a)=>G_(n,a))}}class cp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Xe(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return dx}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new cp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Fe;function Cx(i){switch(i){case W.OK:return Ae(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function QE(i){if(i===void 0)return ii("GRPC error has no .code"),W.UNKNOWN;switch(i){case Ct.OK:return W.OK;case Ct.CANCELLED:return W.CANCELLED;case Ct.UNKNOWN:return W.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return W.INTERNAL;case Ct.UNAVAILABLE:return W.UNAVAILABLE;case Ct.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ct.NOT_FOUND:return W.NOT_FOUND;case Ct.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ct.ABORTED:return W.ABORTED;case Ct.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ct.DATA_LOSS:return W.DATA_LOSS;default:return Ae(39323,{code:i})}}(Fe=Ct||(Ct={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=new qi([4294967295,4294967295],0);function $_(i){const e=mE().encode(i),n=new sE;return n.update(e),new Uint8Array(n.digest())}function Z_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qi([n,a],0),new qi([o,u],0)]}class hp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(a<0)throw new jl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=qi.fromNumber(this.pe)}we(e,n,a){let o=e.add(n.multiply(qi.fromNumber(a)));return o.compare(Nx)===1&&(o=new qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=$_(e),[a,o]=Z_(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);if(!this.be(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new hp(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=$_(e),[a,o]=Z_(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Hh(Ce.min(),o,new gt(ke),ai(),ze())}}class vu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new vu(a,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,a,o){this.De=e,this.removedTargetIds=n,this.key=a,this.ve=o}}class YE{constructor(e,n){this.targetId=e,this.Ce=n}}class $E{constructor(e,n,a=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class K_{constructor(){this.Fe=0,this.Me=X_(),this.xe=Jt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),n=ze(),a=ze();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ae(38017,{changeType:u})}}),new vu(this.xe,this.Oe,e,n,a)}Qe(){this.Ne=!1,this.Me=X_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Dx{constructor(e){this.ze=e,this.je=new Map,this.He=ai(),this.Je=Jc(),this.Ye=Jc(),this.Ze=new gt(ke)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const a=this.rt(n);switch(e.state){case 0:this.it(n)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((a,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,a=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Dm(u))if(a===0){const f=new _e(u.path);this.tt(n,f,an.newNoDocument(f,Ce.min()))}else Xe(a===1,20013,{expectedCount:a});else{const f=this.ut(n);if(f!==a){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Yi(a).toUint8Array()}catch(p){if(p instanceof vE)return no("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new hp(f,o,u)}catch(p){return no(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,a){return n.Ce.count===a-this.Tt(e,n.targetId)?0:2}Tt(e,n){const a=this.ze.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Dm(m.target)){const p=new _e(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,an.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let a=ze();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Hh(e,n,this.Ze,this.He,a);return this.He=ai(),this.Je=Jc(),this.Ye=Jc(),this.Ze=new gt(ke),o}et(e,n){if(!this.it(e))return;const a=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),a&&(this.He=this.He.insert(n,a))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new K_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new jt(ke),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new jt(ke),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new K_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Jc(){return new gt(_e.comparator)}function X_(){return new gt(_e.comparator)}const Ix={asc:"ASCENDING",desc:"DESCENDING"},Ox={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vx={and:"AND",or:"OR"};class Mx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vm(i,e){return i.useProto3Json||jh(e)?e:{value:e}}function Th(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function kx(i,e){return Th(i,e.toTimestamp())}function _r(i){return Xe(!!i,49232),Ce.fromTimestamp(function(n){const a=Qi(n);return new kt(a.seconds,a.nanos)}(i))}function fp(i,e){return Mm(i,e).canonicalString()}function Mm(i,e){const n=function(o){return new ut(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function KE(i){const e=ut.fromString(i);return Xe(tT(e),10190,{key:e.toString()}),e}function km(i,e){return fp(i.databaseId,e.path)}function fm(i,e){const n=KE(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(JE(n))}function XE(i,e){return fp(i.databaseId,e)}function jx(i){const e=KE(i);return e.length===4?ut.emptyPath():JE(e)}function jm(i){return new ut(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function JE(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function J_(i,e,n){return{name:km(i,e),fields:n.value.mapValue.fields}}function Px(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string",58123),Jt.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Jt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?W.UNKNOWN:QE(g.code);return new fe(E,g.message||"")}(f);n=new $E(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=fm(i,a.document.name),u=_r(a.document.updateTime),f=a.document.createTime?_r(a.document.createTime):Ce.min(),m=new yn({mapValue:{fields:a.document.fields}}),p=an.newFoundDocument(o,u,f,m),g=a.targetIds||[],E=a.removedTargetIds||[];n=new sh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=fm(i,a.document),u=a.readTime?_r(a.readTime):Ce.min(),f=an.newNoDocument(o,u),m=a.removedTargetIds||[];n=new sh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=fm(i,a.document),u=a.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new Rx(o,u),m=a.targetId;n=new YE(m,f)}}return n}function Lx(i,e){let n;if(e instanceof yu)n={update:J_(i,e.key,e.value)};else if(e instanceof GE)n={delete:km(i,e.key)};else if(e instanceof ra)n={update:J_(i,e.key,e.data),updateMask:Yx(e.fieldMask)};else{if(!(e instanceof Sx))return Ae(16599,{ft:e.type});n={verify:km(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof _h)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Eh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ae(20930,{transform:f.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:kx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)}(i,e.precondition)),n}function Ux(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?_r(o.updateTime):_r(u);return f.isEqual(Ce.min())&&(f=_r(u)),new Tx(f,o.transformResults||[])}(n,e))):[]}function zx(i,e){return{documents:[XE(i,e.path)]}}function Bx(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=XE(i,o);const u=function(g){if(g.length!==0)return eT(Jn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:Zs(w.field),direction:Fx(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Vm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function qx(i){let e=jx(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Xe(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const w=WE(S);return w instanceof Jn&&CE(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(w=>function(I){return new Xl(Ks(I.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(S){let w;return w=typeof S=="object"?S.value:S,jh(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(S){const w=!!S.before,C=S.values||[];return new vh(C,w)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const w=!S.before,C=S.values||[];return new vh(C,w)}(n.endAt)),lx(e,o,f,u,m,"F",p,g)}function Hx(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WE(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Ks(n.unaryFilter.field);return Nt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ks(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ks(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ks(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(i):i.fieldFilter!==void 0?function(n){return Nt.create(Ks(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(a=>WE(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(i):Ae(30097,{filter:i})}function Fx(i){return Ix[i]}function Gx(i){return Ox[i]}function Qx(i){return Vx[i]}function Zs(i){return{fieldPath:i.canonicalString()}}function Ks(i){return Xt.fromServerFormat(i.fieldPath)}function eT(i){return i instanceof Nt?function(n){if(n.op==="=="){if(U_(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NAN"}};if(L_(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U_(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NAN"}};if(L_(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(n.field),op:Gx(n.op),value:n.value}}}(i):i instanceof Jn?function(n){const a=n.getFilters().map(o=>eT(o));return a.length===1?a[0]:{compositeFilter:{op:Qx(n.op),filters:a}}}(i):Ae(54877,{filter:i})}function Yx(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,a,o,u=Ce.min(),f=Ce.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.wt=e}}function Zx(i){const e=qx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.yn=new Xx}addToCollectionParentIndex(e,n){return this.yn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Gi.min())}updateCollectionGroup(e,n,a){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class Xx{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new jt(ut.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new jt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nT=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(nT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new so(0)}static ir(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="LruGarbageCollector",Jx=1048576;function t0([i,e],[n,a]){const o=ke(i,n);return o===0?ke(e,a):o}class Wx{constructor(e){this.cr=e,this.buffer=new jt(t0),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();t0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eR{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){he(e0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?he(e0,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Ir(3e5)})}}class tR{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(kh.le);const a=new Wx(n);return this.Er.forEachTarget(e,o=>a.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>a.Pr(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.Er.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(W_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let a,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(a=S,m=Date.now(),this.removeTargets(e,a,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(S=>(g=Date.now(),Ys()<=Ge.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function nR(i,e){return new tR(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.changes=new Xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ee.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Hl(a.mutation,o,Rn.empty(),kt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,ze()).next(()=>a))}getLocalViewOfDocuments(e,n,a=ze()){const o=qa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=kl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=qa();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,ze()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=ai();const f=ql(),m=function(){return ql()}();return n.forEach((p,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ra)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Hl(E.mutation,g,E.mutation.getFieldMask(),kt.now())):f.set(g.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var S;return m.set(g,new iR(E,(S=f.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const a=ql();let o=new gt((f,m)=>f-m),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=a.get(p)||Rn.empty();E=m.applyToLocalView(g,E),a.set(p,E);const S=(o.get(m.batchId)||ze()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=PE();E.forEach(w=>{if(!u.has(w)){const C=HE(n.get(w),a.get(w));C!==null&&S.set(w,C),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ee.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ee.resolve(qa());let m=Yl,p=u;return f.next(g=>ee.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ze())).next(E=>({batchId:m,changes:jE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(a=>{let o=kl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(S,w){return new Eo(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(E=>{E.forEach((S,w)=>{f=f.insert(S,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,an.newInvalidDocument(E)))});let m=kl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Hl(E.mutation,g,Rn.empty(),kt.now()),zh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:Zx(o.bundledQuery),readTime:_r(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.overlays=new gt(_e.comparator),this.Or=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const a=qa();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.St(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Or.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(a)),ee.resolve()}getOverlaysForCollection(e,n,a){const o=qa(),u=n.length+1,f=new _e(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new gt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let E=u.get(g.largestBatchId);E===null&&(E=qa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=qa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(a.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new xx(n,a));let u=this.Or.get(n);u===void 0&&(u=ze(),this.Or.set(n,u)),this.Or.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(){this.Nr=new jt(Ft.Br),this.Lr=new jt(Ft.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const a=new Ft(e,n);this.Nr=this.Nr.add(a),this.Lr=this.Lr.add(a)}qr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Qr(new Ft(e,n))}$r(e,n){e.forEach(a=>this.removeReference(a,n))}Ur(e){const n=new _e(new ut([])),a=new Ft(n,e),o=new Ft(n,e+1),u=[];return this.Lr.forEachInRange([a,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new _e(new ut([])),a=new Ft(n,e),o=new Ft(n,e+1);let u=ze();return this.Lr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ft(e,0),a=this.Nr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return _e.comparator(e.key,n.key)||ke(e.Gr,n.Gr)}static kr(e,n){return ke(e.Gr,n.Gr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new jt(Ft.Br)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new wx(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new Ft(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Hr(a),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?ip:this.Jn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([a,o],f=>{const m=this.jr(f.Gr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new jt(ke);return n.forEach(o=>{const u=new Ft(o,0),f=new Ft(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{a=a.add(m.Gr)})}),ee.resolve(this.Jr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;_e.isDocumentKey(u)||(u=u.child(""));const f=new Ft(new _e(u),0);let m=new jt(ke);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Gr)),!0)},f),ee.resolve(this.Jr(m))}Jr(e){const n=[];return e.forEach(a=>{const o=this.jr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Xe(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.zr;return ee.forEach(n.mutations,o=>{const u=new Ft(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=a})}Xn(e){}containsKey(e,n){const a=new Ft(n,0),o=this.zr.firstAfterOrEqual(a);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.Zr=e,this.docs=function(){return new gt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ee.resolve(a?a.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let a=ai();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))}),ee.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=ai();const f=n.path,m=new _e(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||z2(U2(E),a)<=0||(o.has(E.key)||zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ae(9500)}Xr(e,n){return ee.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new hR(this)}getSize(e){return ee.resolve(this.size)}}class hR extends rR{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(a)}),ee.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.persistence=e,this.ei=new Xa(n=>op(n),lp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ti=0,this.ni=new dp,this.targetCount=0,this.ri=so.rr()}forEachTarget(e,n){return this.ei.forEach((a,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ti&&(this.ti=n),ee.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new so(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.ar(n),ee.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const a=this.ei.get(n)||null;return ee.resolve(a)}addMatchingKeys(e,n,a){return this.ni.qr(n,a),ee.resolve()}removeMatchingKeys(e,n,a){this.ni.$r(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const a=this.ni.Wr(n);return ee.resolve(a)}containsKey(e,n){return ee.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.ii={},this.overlays={},this.si=new kh(0),this.oi=!1,this.oi=!0,this._i=new lR,this.referenceDelegate=e(this),this.ai=new fR(this),this.indexManager=new Kx,this.remoteDocumentCache=function(o){return new cR(o)}(a=>this.referenceDelegate.ui(a)),this.serializer=new $x(n),this.ci=new sR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ii[e.toKey()];return a||(a=new uR(n,this.referenceDelegate),this.ii[e.toKey()]=a),a}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,a){he("MemoryPersistence","Starting transaction:",e);const o=new dR(this.si.next());return this.referenceDelegate.li(),a(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,n){return ee.or(Object.values(this.ii).map(a=>()=>a.containsKey(e,n)))}}class dR extends q2{constructor(e){super(),this.currentSequenceNumber=e}}class mp{constructor(e){this.persistence=e,this.Ti=new dp,this.Ii=null}static Ei(e){return new mp(e)}get di(){if(this.Ii)return this.Ii;throw Ae(60996)}addReference(e,n,a){return this.Ti.addReference(a,n),this.di.delete(a.toString()),ee.resolve()}removeReference(e,n,a){return this.Ti.removeReference(a,n),this.di.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,a=>{const o=_e.fromPath(a);return this.Ai(e,o).next(u=>{u||n.removeEntry(o,Ce.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return ee.or([()=>ee.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.Ri=new Xa(a=>G2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=nR(this,n)}static Ei(e,n){return new bh(e,n)}li(){}hi(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}Vr(e){let n=0;return this.Ar(e,a=>{n++}).next(()=>n)}Ar(e,n){return ee.forEach(this.Ri,(a,o)=>this.gr(e,a,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(m=>{m||(a++,u.removeEntry(f,Ce.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.Ri.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,a){return this.Ri.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),ee.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}gr(e,n,a){return ee.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return ee.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.ls=a,this.hs=o}static Ps(e,n){let a=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new pp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return hw()?8:H2(uw())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.Rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new mR;return this.fs(e,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(e,n,f,m.size)})}).next(()=>u.result)}gs(e,n,a,o){return a.documentReadCount<this.Es?(Ys()<=Ge.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",$s(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ee.resolve()):(Ys()<=Ge.DEBUG&&he("QueryEngine","Query:",$s(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Ys()<=Ge.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",$s(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):ee.resolve())}Rs(e,n){if(H_(n))return ee.resolve(null);let a=vr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Om(n,null,"F"),a=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=ze(...u);return this.As.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.ps(n,m);return this.ys(n,g,f,p.readTime)?this.Rs(e,Om(n,null,"F")):this.ws(e,g,n,p)}))})))}Vs(e,n,a,o){return H_(n)||o.isEqual(Ce.min())?ee.resolve(null):this.As.getDocuments(e,a).next(u=>{const f=this.ps(n,u);return this.ys(n,f,a,o)?ee.resolve(null):(Ys()<=Ge.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$s(n)),this.ws(e,f,n,L2(o,Yl)).next(m=>m))})}ps(e,n){let a=new jt(ME(e));return n.forEach((o,u)=>{zh(e,u)&&(a=a.add(u))}),a}ys(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,n,a){return Ys()<=Ge.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",$s(n)),this.As.getDocumentsMatchingQuery(e,n,Gi.min(),a)}ws(e,n,a,o){return this.As.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="LocalStore",gR=3e8;class yR{constructor(e,n,a,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new gt(ke),this.Ds=new Xa(u=>op(u),lp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(a)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aR(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function vR(i,e,n,a){return new yR(i,e,n,a)}async function iT(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Fs(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let p=ze();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:m}))})})}function _R(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,w=S.keys();let C=ee.resolve();return w.forEach(I=>{C=C.next(()=>E.getEntry(p,I)).next(F=>{const B=g.docVersions.get(I);Xe(B!==null,48541),F.version.compareTo(B)<0&&(S.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),E.addEntry(F)))})}),C.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function aT(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function ER(i,e){const n=Ne(i),a=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];e.targetChanges.forEach((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.ai.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,S)));let C=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?C=C.withResumeToken(Jt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,a)),o=o.insert(S,C),function(F,B,$){return F.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=gR?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(w,C,E)&&m.push(n.ai.updateTargetData(u,C))});let p=ai(),g=ze();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(TR(u,f,e.documentUpdates).next(E=>{p=E.xs,g=E.Os})),!a.isEqual(Ce.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(S=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ss=o,u))}function TR(i,e,n){let a=ze(),o=ze();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let f=ai();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(gp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function bR(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=ip),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function AR(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.ai.getTargetData(a,e).next(u=>u?(o=u,ee.resolve(o)):n.ai.allocateTargetId(a).next(f=>(o=new Li(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.ai.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ss.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(a.targetId,a),n.Ds.set(e,a.targetId)),a})}async function Pm(i,e,n){const a=Ne(i),o=a.Ss.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!_o(f))throw f;he(gp,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ss=a.Ss.remove(e),a.Ds.delete(o.target)}function n0(i,e,n){const a=Ne(i);let o=Ce.min(),u=ze();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const S=Ne(p),w=S.Ds.get(E);return w!==void 0?ee.resolve(S.Ss.get(w)):S.ai.getTargetData(g,E)}(a,f,vr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.ai.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>a.bs.getDocumentsMatchingQuery(f,e,n?o:Ce.min(),n?u:ze())).next(m=>(SR(a,cx(e),m),{documents:m,Ns:u})))}function SR(i,e,n){let a=i.vs.get(e)||Ce.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.vs.set(e,a)}class r0{constructor(){this.activeTargetIds=gx()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wR{constructor(){this.So=new r0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,a){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new r0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="ConnectivityMonitor";class a0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){he(i0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){he(i0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Lm(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="RestConnection",RR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CR{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${a}/databases/${o}`,this.qo=this.databaseId.database===gh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Qo(e,n,a,o,u){const f=Lm(),m=this.$o(e,n.toUriEncodedString());he(dm,`Sending RPC '${e}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(e,m,p,a).then(g=>(he(dm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw no(dm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",a),g})}Wo(e,n,a,o,u,f){return this.Qo(e,n,a,o,u)}Uo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}$o(e,n){const a=RR[e];return`${this.Lo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class DR extends CR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,a,o){const u=Lm();return new Promise((f,m)=>{const p=new oE;p.setWithCredentials(!0),p.listenOnce(lE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case nh.NO_ERROR:const E=p.getResponseJson();he(nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case nh.TIMEOUT:he(nn,`RPC '${e}' ${u} timed out`),m(new fe(W.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const S=p.getStatus();if(he(nn,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w==null?void 0:w.error;if(C&&C.status&&C.message){const I=function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf($)>=0?$:W.UNKNOWN}(C.status);m(new fe(I,C.message))}else m(new fe(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(W.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{he(nn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(nn,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,a,15)})}a_(e,n,a){const o=Lm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=hE(),m=cE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");he(nn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let w=!1,C=!1;const I=new NR({Go:B=>{C?he(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(w||(he(nn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),he(nn,`RPC '${e}' stream ${o} sending:`,B),S.send(B))},zo:()=>S.close()}),F=(B,$,re)=>{B.listen($,te=>{try{re(te)}catch(ye){setTimeout(()=>{throw ye},0)}})};return F(S,Ml.EventType.OPEN,()=>{C||(he(nn,`RPC '${e}' stream ${o} transport opened.`),I.t_())}),F(S,Ml.EventType.CLOSE,()=>{C||(C=!0,he(nn,`RPC '${e}' stream ${o} transport closed`),I.r_())}),F(S,Ml.EventType.ERROR,B=>{C||(C=!0,no(nn,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),I.r_(new fe(W.UNAVAILABLE,"The operation could not be completed")))}),F(S,Ml.EventType.MESSAGE,B=>{var $;if(!C){const re=B.data[0];Xe(!!re,16349);const te=re,ye=(te==null?void 0:te.error)||(($=te[0])===null||$===void 0?void 0:$.error);if(ye){he(nn,`RPC '${e}' stream ${o} received error:`,ye);const pe=ye.status;let Oe=function(R){const M=Ct[R];if(M!==void 0)return QE(M)}(pe),j=ye.message;Oe===void 0&&(Oe=W.INTERNAL,j="Unknown error status: "+pe+" with message "+ye.message),C=!0,I.r_(new fe(Oe,j)),S.close()}else he(nn,`RPC '${e}' stream ${o} received:`,re),I.i_(re)}}),F(m,uE.STAT_EVENT,B=>{B.stat===wm.PROXY?he(nn,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===wm.NOPROXY&&he(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.n_()},0),I}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(i){return new Mx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=a,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),a=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-a);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="PersistentStream";class oT{constructor(e,n,a,o,u,f,m,p){this.bi=e,this.R_=a,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new sT(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.m_===n&&this.B_(a,o)},a=>{e(()=>{const o=new fe(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.L_(o)})})}B_(e,n){const a=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{a(()=>this.listener.jo())}),this.stream.Jo(()=>{a(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{a(()=>this.L_(o))}),this.stream.onMessage(o=>{a(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return he(s0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(he(s0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IR extends oT{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=Px(this.serializer,e),a=function(u){if(!("targetChange"in u))return Ce.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ce.min():f.readTime?_r(f.readTime):Ce.min()}(e);return this.listener.Q_(n,a)}U_(e){const n={};n.database=jm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Dm(p)?{documents:zx(u,p)}:{query:Bx(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ZE(u,f.resumeToken);const g=Vm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Th(u,f.snapshotVersion.toTimestamp());const g=Vm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=Hx(this.serializer,e);a&&(n.labels=a),this.F_(n)}K_(e){const n={};n.database=jm(this.serializer),n.removeTarget=e,this.F_(n)}}class OR extends oT{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=Ux(e.writeResults,e.commitTime),a=_r(e.commitTime);return this.listener.j_(a,n)}H_(){const e={};e.database=jm(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>Lx(this.serializer,a))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{}class MR extends VR{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,Mm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(W.UNKNOWN,u.toString())})}Wo(e,n,a,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(e,Mm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(W.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class kR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ii(n),this.ea=!1):he("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="RemoteStore";class jR{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{a.enqueueAndForget(async()=>{Ja(this)&&(he(Qa,"Restarting streams for network reachability change."),await async function(p){const g=Ne(p);g.aa.add(4),await _u(g),g.la.set("Unknown"),g.aa.delete(4),await Gh(g)}(this))})}),this.la=new kR(a,o)}}async function Gh(i){if(Ja(i))for(const e of i.ua)await e(!0)}async function _u(i){for(const e of i.ua)await e(!1)}function lT(i,e){const n=Ne(i);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Ep(n)?_p(n):To(n).b_()&&vp(n,e))}function yp(i,e){const n=Ne(i),a=To(n);n._a.delete(e),a.b_()&&uT(n,e),n._a.size===0&&(a.b_()?a.v_():Ja(n)&&n.la.set("Unknown"))}function vp(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(i).U_(e)}function uT(i,e){i.ha.Ke(e),To(i).K_(e)}function _p(i){i.ha=new Dx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),To(i).start(),i.la.ta()}function Ep(i){return Ja(i)&&!To(i).w_()&&i._a.size>0}function Ja(i){return Ne(i).aa.size===0}function cT(i){i.ha=void 0}async function PR(i){i.la.set("Online")}async function LR(i){i._a.forEach((e,n)=>{vp(i,e)})}async function UR(i,e){cT(i),Ep(i)?(i.la.ia(e),_p(i)):i.la.set("Unknown")}async function zR(i,e,n){if(i.la.set("Online"),e instanceof $E&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(i,e)}catch(a){he(Qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Ah(i,a)}else if(e instanceof sh?i.ha.Xe(e):e instanceof YE?i.ha.ot(e):i.ha.nt(e),!n.isEqual(Ce.min()))try{const a=await aT(i.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(g);E&&u._a.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(Jt.EMPTY_BYTE_STRING,E.snapshotVersion)),uT(u,p);const S=new Li(E.target,p,g,E.sequenceNumber);vp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(a){he(Qa,"Failed to raise snapshot:",a),await Ah(i,a)}}async function Ah(i,e,n){if(!_o(e))throw e;i.aa.add(1),await _u(i),i.la.set("Offline"),n||(n=()=>aT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(Qa,"Retrying IndexedDB access"),await n(),i.aa.delete(1),await Gh(i)})}function hT(i,e){return e().catch(n=>Ah(i,n,e))}async function Qh(i){const e=Ne(i),n=Zi(e);let a=e.oa.length>0?e.oa[e.oa.length-1].batchId:ip;for(;BR(e);)try{const o=await bR(e.localStore,a);if(o===null){e.oa.length===0&&n.v_();break}a=o.batchId,qR(e,o)}catch(o){await Ah(e,o)}fT(e)&&dT(e)}function BR(i){return Ja(i)&&i.oa.length<10}function qR(i,e){i.oa.push(e);const n=Zi(i);n.b_()&&n.W_&&n.G_(e.mutations)}function fT(i){return Ja(i)&&!Zi(i).w_()&&i.oa.length>0}function dT(i){Zi(i).start()}async function HR(i){Zi(i).H_()}async function FR(i){const e=Zi(i);for(const n of i.oa)e.G_(n.mutations)}async function GR(i,e,n){const a=i.oa.shift(),o=cp.from(a,e,n);await hT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Qh(i)}async function QR(i,e){e&&Zi(i).W_&&await async function(a,o){if(function(f){return Cx(f)&&f!==W.ABORTED}(o.code)){const u=a.oa.shift();Zi(a).D_(),await hT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Qh(a)}}(i,e),fT(i)&&dT(i)}async function o0(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),he(Qa,"RemoteStore received new credentials");const a=Ja(n);n.aa.add(3),await _u(n),a&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Gh(n)}async function YR(i,e){const n=Ne(i);e?(n.aa.delete(2),await Gh(n)):e||(n.aa.add(2),await _u(n),n.la.set("Unknown"))}function To(i){return i.Pa||(i.Pa=function(n,a,o){const u=Ne(n);return u.Y_(),new IR(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:PR.bind(null,i),Jo:LR.bind(null,i),Zo:UR.bind(null,i),Q_:zR.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),Ep(i)?_p(i):i.la.set("Unknown")):(await i.Pa.stop(),cT(i))})),i.Pa}function Zi(i){return i.Ta||(i.Ta=function(n,a,o){const u=Ne(n);return u.Y_(),new OR(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:HR.bind(null,i),Zo:QR.bind(null,i),z_:FR.bind(null,i),j_:GR.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await Qh(i)):(await i.Ta.stop(),i.oa.length>0&&(he(Qa,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new Tp(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bp(i,e){if(ii("AsyncQueue",`${e}: ${i}`),_o(i))return new fe(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||_e.comparator(n.key,a.key):(n,a)=>_e.comparator(n.key,a.key),this.keyedMap=kl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new eo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.Ia=new gt(_e.comparator)}track(e){const n=e.doc.key,a=this.Ia.get(n);a?e.type!==0&&a.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&a.type!==1?this.Ia=this.Ia.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Ia=this.Ia.remove(n):e.type===1&&a.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,Ea:a}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,a)=>{e.push(a)}),e}}class oo{constructor(e,n,a,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new oo(e,n,eo.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class ZR{constructor(){this.queries=u0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,a){const o=Ne(n),u=o.queries;o.queries=u0(),u.forEach((f,m)=>{for(const p of m.Ra)p.onError(a)})})(this,new fe(W.ABORTED,"Firestore shutting down"))}}function u0(){return new Xa(i=>VE(i),Uh)}async function mT(i,e){const n=Ne(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Va()&&e.ma()&&(a=2):(u=new $R,a=e.ma()?0:1);try{switch(a){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=bp(f,`Initialization of query '${$s(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Ra.push(e),e.ga(n.onlineState),u.Aa&&e.pa(u.Aa)&&Ap(n)}async function pT(i,e){const n=Ne(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function KR(i,e){const n=Ne(i);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(a=!0);f.Aa=o}}a&&Ap(n)}function XR(i,e,n){const a=Ne(i),o=a.queries.get(e);if(o)for(const u of o.Ra)u.onError(n);a.queries.delete(e)}function Ap(i){i.fa.forEach(e=>{e.next()})}var Um,c0;(c0=Um||(Um={})).ya="default",c0.Cache="cache";class gT{constructor(e,n,a){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=a||{}}pa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new oo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const a=n!=="Offline";return(!this.options.Fa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.key=e}}class vT{constructor(e){this.key=e}}class JR{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ze(),this.mutatedKeys=ze(),this.Ua=ME(e),this.Ka=new eo(this.Ua)}get Wa(){return this.qa}Ga(e,n){const a=n?n.za:new l0,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const w=o.get(E),C=zh(this.query,S)?S:null,I=!!w&&this.mutatedKeys.has(w.key),F=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let B=!1;w&&C?w.data.isEqual(C.data)?I!==F&&(a.track({type:3,doc:C}),B=!0):this.ja(w,C)||(a.track({type:2,doc:C}),B=!0,(p&&this.Ua(C,p)>0||g&&this.Ua(C,g)<0)&&(m=!0)):!w&&C?(a.track({type:0,doc:C}),B=!0):w&&!C&&(a.track({type:1,doc:w}),B=!0,(p||g)&&(m=!0)),B&&(C?(f=f.add(C),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{Ka:f,za:a,ys:m,mutatedKeys:u}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,S)=>function(C,I){const F=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:B})}};return F(C)-F(I)}(E.type,S.type)||this.Ua(E.doc,S.doc)),this.Ha(a),o=o!=null&&o;const m=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new oo(this.query,e.Ka,u,f,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new l0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ze(),this.Ka.forEach(a=>{this.Za(a.key)&&(this.$a=this.$a.add(a.key))});const n=[];return e.forEach(a=>{this.$a.has(a)||n.push(new vT(a))}),this.$a.forEach(a=>{e.has(a)||n.push(new yT(a))}),n}Xa(e){this.qa=e.Ns,this.$a=ze();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return oo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Sp="SyncEngine";class WR{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class eC{constructor(e){this.key=e,this.tu=!1}}class tC{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Xa(m=>VE(m),Uh),this.iu=new Map,this.su=new Set,this.ou=new gt(_e.comparator),this._u=new Map,this.au=new dp,this.uu={},this.cu=new Map,this.lu=so.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function nC(i,e,n=!0){const a=ST(i);let o;const u=a.ru.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await _T(a,e,n,!0),o}async function rC(i,e){const n=ST(i);await _T(n,e,!0,!1)}async function _T(i,e,n,a){const o=await AR(i.localStore,vr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await iC(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&lT(i.remoteStore,o),m}async function iC(i,e,n,a,o){i.Pu=(S,w,C)=>async function(F,B,$,re){let te=B.view.Ga($);te.ys&&(te=await n0(F.localStore,B.query,!1).then(({documents:j})=>B.view.Ga(j,te)));const ye=re&&re.targetChanges.get(B.targetId),pe=re&&re.targetMismatches.get(B.targetId)!=null,Oe=B.view.applyChanges(te,F.isPrimaryClient,ye,pe);return f0(F,B.targetId,Oe.Ya),Oe.snapshot}(i,S,w,C);const u=await n0(i.localStore,e,!0),f=new JR(e,u.Ns),m=f.Ga(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);f0(i,n,g.Ya);const E=new WR(e,n,f);return i.ru.set(e,E),i.iu.has(n)?i.iu.get(n).push(e):i.iu.set(n,[e]),g.snapshot}async function aC(i,e,n){const a=Ne(i),o=a.ru.get(e),u=a.iu.get(o.targetId);if(u.length>1)return a.iu.set(o.targetId,u.filter(f=>!Uh(f,e))),void a.ru.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&yp(a.remoteStore,o.targetId),zm(a,o.targetId)}).catch(vo)):(zm(a,o.targetId),await Pm(a.localStore,o.targetId,!0))}async function sC(i,e){const n=Ne(i),a=n.ru.get(e),o=n.iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),yp(n.remoteStore,a.targetId))}async function oC(i,e,n){const a=mC(i);try{const o=await function(f,m){const p=Ne(f),g=kt.now(),E=m.reduce((C,I)=>C.add(I.key),ze());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let I=ai(),F=ze();return p.Cs.getEntries(C,E).next(B=>{I=B,I.forEach(($,re)=>{re.isValidDocument()||(F=F.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,I)).next(B=>{S=B;const $=[];for(const re of m){const te=Ax(re,S.get(re.key).overlayedDocument);te!=null&&$.push(new ra(re.key,te,wE(te.value.mapValue),Zn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,$,m)}).next(B=>{w=B;const $=B.applyToLocalDocumentSet(S,F);return p.documentOverlayCache.saveOverlays(C,B.batchId,$)})}).then(()=>({batchId:w.batchId,changes:jE(S)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.uu[f.currentUser.toKey()];g||(g=new gt(ke)),g=g.insert(m,p),f.uu[f.currentUser.toKey()]=g}(a,o.batchId,n),await Eu(a,o.changes),await Qh(a.remoteStore)}catch(o){const u=bp(o,"Failed to persist write");n.reject(u)}}async function ET(i,e){const n=Ne(i);try{const a=await ER(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?Xe(f.tu,14607):o.removedDocuments.size>0&&(Xe(f.tu,42227),f.tu=!1))}),await Eu(n,a,e)}catch(a){await vo(a)}}function h0(i,e,n){const a=Ne(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ru.forEach((u,f)=>{const m=f.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ne(f);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const w of S.Ra)w.ga(m)&&(g=!0)}),g&&Ap(p)}(a.eventManager,e),o.length&&a.nu.Q_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function lC(i,e,n){const a=Ne(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a._u.get(e),u=o&&o.key;if(u){let f=new gt(_e.comparator);f=f.insert(u,an.newNoDocument(u,Ce.min()));const m=ze().add(u),p=new Hh(Ce.min(),new Map,new gt(ke),f,m);await ET(a,p),a.ou=a.ou.remove(u),a._u.delete(e),wp(a)}else await Pm(a.localStore,e,!1).then(()=>zm(a,e,n)).catch(vo)}async function uC(i,e){const n=Ne(i),a=e.batch.batchId;try{const o=await _R(n.localStore,e);bT(n,a,null),TT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Eu(n,o)}catch(o){await vo(o)}}async function cC(i,e,n){const a=Ne(i);try{const o=await function(f,m){const p=Ne(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(Xe(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(a.localStore,e);bT(a,e,n),TT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Eu(a,o)}catch(o){await vo(o)}}function TT(i,e){(i.cu.get(e)||[]).forEach(n=>{n.resolve()}),i.cu.delete(e)}function bT(i,e,n){const a=Ne(i);let o=a.uu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.uu[a.currentUser.toKey()]=o}}function zm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.iu.get(e))i.ru.delete(a),n&&i.nu.Tu(a,n);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(a=>{i.au.containsKey(a)||AT(i,a)})}function AT(i,e){i.su.delete(e.path.canonicalString());const n=i.ou.get(e);n!==null&&(yp(i.remoteStore,n),i.ou=i.ou.remove(e),i._u.delete(n),wp(i))}function f0(i,e,n){for(const a of n)a instanceof yT?(i.au.addReference(a.key,e),hC(i,a)):a instanceof vT?(he(Sp,"Document no longer in limbo: "+a.key),i.au.removeReference(a.key,e),i.au.containsKey(a.key)||AT(i,a.key)):Ae(19791,{Iu:a})}function hC(i,e){const n=e.key,a=n.path.canonicalString();i.ou.get(n)||i.su.has(a)||(he(Sp,"New document in limbo: "+n),i.su.add(a),wp(i))}function wp(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const n=new _e(ut.fromString(e)),a=i.lu.next();i._u.set(a,new eC(n)),i.ou=i.ou.insert(n,a),lT(i.remoteStore,new Li(vr(Lh(n.path)),a,"TargetPurposeLimboResolution",kh.le))}}async function Eu(i,e,n){const a=Ne(i),o=[],u=[],f=[];a.ru.isEmpty()||(a.ru.forEach((m,p)=>{f.push(a.Pu(p,e,n).then(g=>{var E;if((g||n)&&a.isPrimaryClient){const S=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=pp.Ps(p.targetId,g);u.push(S)}}))}),await Promise.all(f),a.nu.Q_(o),await async function(p,g){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ee.forEach(g,w=>ee.forEach(w.ls,C=>E.persistence.referenceDelegate.addReference(S,w.targetId,C)).next(()=>ee.forEach(w.hs,C=>E.persistence.referenceDelegate.removeReference(S,w.targetId,C)))))}catch(S){if(!_o(S))throw S;he(gp,"Failed to update sequence numbers: "+S)}for(const S of g){const w=S.targetId;if(!S.fromCache){const C=E.Ss.get(w),I=C.snapshotVersion,F=C.withLastLimboFreeSnapshotVersion(I);E.Ss=E.Ss.insert(w,F)}}}(a.localStore,u))}async function fC(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){he(Sp,"User change. New user:",e.toKey());const a=await iT(n.localStore,e);n.currentUser=e,function(u,f){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new fe(W.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Eu(n,a.Ms)}}function dC(i,e){const n=Ne(i),a=n._u.get(e);if(a&&a.tu)return ze().add(a.key);{let o=ze();const u=n.iu.get(e);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function ST(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ET.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lC.bind(null,e),e.nu.Q_=KR.bind(null,e.eventManager),e.nu.Tu=XR.bind(null,e.eventManager),e}function mC(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cC.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return vR(this.persistence,new pR,e.initialUser,this.serializer)}Ru(e){return new rT(mp.Ei,this.serializer)}Au(e){return new wR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class pC extends Sh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Xe(this.persistence.referenceDelegate instanceof bh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new eR(a,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new rT(a=>bh.Ei(a,n),this.serializer)}}class Bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>h0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=fC.bind(null,this.syncEngine),await YR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZR}()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),a=function(u){return new DR(u)}(e.databaseInfo);return function(u,f,m,p){return new MR(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new jR(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>h0(this.syncEngine,n,0),function(){return a0.C()?new a0:new xR}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const S=new tC(o,u,f,m,p,g);return E&&(S.hu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ne(o);he(Qa,"RemoteStore shutting down."),u.aa.add(5),await _u(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bm.provider={build:()=>new Bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="FirestoreClient";class gC{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=pE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{he(Ki,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(he(Ki,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=bp(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function pm(i,e){i.asyncQueue.verifyOperationInProgress(),he(Ki,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await iT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function d0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await yC(i);he(Ki,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>o0(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>o0(e.remoteStore,o)),i._onlineComponents=e}async function yC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Ki,"Using user provided OfflineComponentProvider");try{await pm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await pm(i,new Sh)}}else he(Ki,"Using default OfflineComponentProvider"),await pm(i,new pC(void 0));return i._offlineComponents}async function xT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Ki,"Using user provided OnlineComponentProvider"),await d0(i,i._uninitializedComponentsProvider._online)):(he(Ki,"Using default OnlineComponentProvider"),await d0(i,new Bm))),i._onlineComponents}function vC(i){return xT(i).then(e=>e.syncEngine)}async function qm(i){const e=await xT(i),n=e.eventManager;return n.onListen=nC.bind(null,e.syncEngine),n.onUnlisten=aC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sC.bind(null,e.syncEngine),n}function _C(i,e,n={}){const a=new Hi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new wT({next:w=>{E.yu(),f.enqueueAndForget(()=>pT(u,S));const C=w.docs.has(m);!C&&w.fromCache?g.reject(new fe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?g.reject(new fe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new gT(Lh(m.path),E,{includeMetadataChanges:!0,Fa:!0});return mT(u,S)}(await qm(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(i,e,n){if(!n)throw new fe(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function EC(i,e,n,a){if(e===!0&&a===!0)throw new fe(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function p0(i){if(!_e.isDocumentKey(i))throw new fe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function g0(i){if(_e.isDocumentKey(i))throw new fe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Yh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function Kn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(i);throw new fe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firestore.googleapis.com",y0=!0;class v0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NT,this.ssl=y0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:y0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jx)throw new fe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new N2;switch(a.type){case"firstParty":return new V2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=m0.get(n);a&&(he("ComponentProvider","Removing Datastore"),m0.delete(n),a.terminate())}(this),Promise.resolve()}}function TC(i,e,n,a={}){var o;const u=(i=Kn(i,$h))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==NT&&u.host!==m&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:a});if(!fh(p,f)&&(i._setSettings(p),a.mockUserToken)){let g,E;if(typeof a.mockUserToken=="string")g=a.mockUserToken,E=rn.MOCK_USER;else{g=lw(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new fe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(S)}i._authCredentials=new D2(new dE(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Wa(this.firestore,e,this._query)}}class sn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class Fi extends Wa{constructor(e,n,a){super(e,n,Lh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new _e(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function _0(i,e,...n){if(i=br(i),CT("collection","path",e),i instanceof $h){const a=ut.fromString(e,...n);return g0(a),new Fi(i,null,a)}{if(!(i instanceof sn||i instanceof Fi))throw new fe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ut.fromString(e,...n));return g0(a),new Fi(i.firestore,null,a)}}function Ha(i,e,...n){if(i=br(i),arguments.length===1&&(e=pE.newId()),CT("doc","path",e),i instanceof $h){const a=ut.fromString(e,...n);return p0(a),new sn(i,null,new _e(a))}{if(!(i instanceof sn||i instanceof Fi))throw new fe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ut.fromString(e,...n));return p0(a),new sn(i.firestore,i instanceof Fi?i.converter:null,new _e(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="AsyncQueue";class T0{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new sT(this,"async_queue_retry"),this.ju=()=>{const a=mm();a&&he(E0,"Visibility state changed to "+a.visibilityState),this.y_.A_()},this.Hu=e;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Hi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!_o(e))throw e;he(E0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(a=>{throw this.Ku=a,this.Wu=!1,ii("INTERNAL UNHANDLED ERROR: ",b0(a)),a}).then(a=>(this.Wu=!1,a))));return this.Hu=n,n}enqueueAfterDelay(e,n,a){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=Tp.createAndSchedule(this,e,n,a,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Ae(47125,{ec:b0(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function b0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(i){return function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Ya extends $h{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new T0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T0(e),this._firestoreClient=void 0,await e}}}function bC(i,e){const n=typeof i=="object"?i:v2(),a=typeof i=="string"?i:gh,o=d2(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=sw("firestore");u&&TC(o,...u)}return o}function xp(i){if(i._terminated)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||AC(i),i._firestoreClient}function AC(i){var e,n,a;const o=i._freezeSettings(),u=function(m,p,g,E){return new $2(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,RT(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new gC(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lo(Jt.fromBase64String(e))}catch(n){throw new fe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lo(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=/^__.*__$/;class wC{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class DT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{oc:i})}}class Dp{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Dp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:a,cc:!1});return o.lc(e),o}hc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:a,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return wh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(IT(this.oc)&&SC.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class xC{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Fh(e)}dc(e,n,a,o=!1){return new Dp({oc:e,methodName:n,Ec:a,path:Xt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kh(i){const e=i._freezeSettings(),n=Fh(i._databaseId);return new xC(i._databaseId,!!e.ignoreUndefinedProperties,n)}function OT(i,e,n,a,o,u={}){const f=i.dc(u.merge||u.mergeFields?2:0,e,n,o);Ip("Data must be an object, but it was:",f,a);const m=VT(a,f);let p,g;if(u.merge)p=new Rn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=Hm(e,S,n);if(!f.contains(w))throw new fe(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);kT(E,w)||E.push(w)}p=new Rn(E),g=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=f.fieldTransforms;return new wC(new yn(m),p,g)}class Xh extends Rp{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function RC(i,e,n,a){const o=i.dc(1,e,n);Ip("Data must be an object, but it was:",o,a);const u=[],f=yn.empty();na(a,(p,g)=>{const E=Op(e,p,n);g=br(g);const S=o.hc(E);if(g instanceof Xh)u.push(E);else{const w=Tu(g,S);w!=null&&(u.push(E),f.set(E,w))}});const m=new Rn(u);return new DT(f,m,o.fieldTransforms)}function CC(i,e,n,a,o,u){const f=i.dc(1,e,n),m=[Hm(e,a,n)],p=[o];if(u.length%2!=0)throw new fe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Hm(e,u[w])),p.push(u[w+1]);const g=[],E=yn.empty();for(let w=m.length-1;w>=0;--w)if(!kT(g,m[w])){const C=m[w];let I=p[w];I=br(I);const F=f.hc(C);if(I instanceof Xh)g.push(C);else{const B=Tu(I,F);B!=null&&(g.push(C),E.set(C,B))}}const S=new Rn(g);return new DT(E,S,f.fieldTransforms)}function NC(i,e,n,a=!1){return Tu(n,i.dc(a?4:3,e))}function Tu(i,e){if(MT(i=br(i)))return Ip("Unsupported field value:",e,i),VT(i,e);if(i instanceof Rp)return function(a,o){if(!IT(o.oc))throw o.Tc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let p=Tu(m,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(a,o){if((a=br(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return yx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=kt.fromDate(a);return{timestampValue:Th(o.serializer,u)}}if(a instanceof kt){const u=new kt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Th(o.serializer,u)}}if(a instanceof Cp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof lo)return{bytesValue:ZE(o.serializer,a._byteString)};if(a instanceof sn){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:fp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Np)return function(f,m){return{mapValue:{fields:{[AE]:{stringValue:SE},[yh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Tc("VectorValues must only contain numeric values.");return up(m.serializer,g)})}}}}}}(a,o);throw o.Tc(`Unsupported field value: ${Yh(a)}`)}(i,e)}function VT(i,e){const n={};return yE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(i,(a,o)=>{const u=Tu(o,e.uc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function MT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof kt||i instanceof Cp||i instanceof lo||i instanceof sn||i instanceof Rp||i instanceof Np)}function Ip(i,e,n){if(!MT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=Yh(n);throw a==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+a)}}function Hm(i,e,n){if((e=br(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return Op(i,e);throw wh("Field path arguments must be of type string or ",i,!1,void 0,n)}const DC=new RegExp("[~\\*/\\[\\]]");function Op(i,e,n){if(e.search(DC)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function wh(i,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new fe(W.INVALID_ARGUMENT,m+i+p)}function kT(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IC extends jT{data(){return super.data()}}function Vp(i,e){return typeof e=="string"?Op(i,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mp{}class PT extends Mp{}function VC(i,e,...n){let a=[];e instanceof Mp&&a.push(e),a=a.concat(n),function(u){const f=u.filter(p=>p instanceof jp).length,m=u.filter(p=>p instanceof kp).length;if(f>1||f>0&&m>0)throw new fe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)i=o._apply(i);return i}class kp extends PT{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new kp(e,n,a)}_apply(e){const n=this._parse(e);return LT(e._query,n),new Wa(e.firestore,e.converter,Im(e._query,n))}_parse(e){const n=Kh(e.firestore);return function(u,f,m,p,g,E,S){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){w0(S,E);const I=[];for(const F of S)I.push(S0(p,u,F));w={arrayValue:{values:I}}}else w=S0(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||w0(S,E),w=NC(m,f,S,E==="in"||E==="not-in");return Nt.create(g,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class jp extends Mp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jp(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)LT(f,p),f=Im(f,p)}(e._query,n),new Wa(e.firestore,e.converter,Im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pp extends PT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pp(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new fe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xl(u,f)}(e._query,this._field,this._direction);return new Wa(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Eo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function MC(i,e="asc"){const n=e,a=Vp("orderBy",i);return Pp._create(a,n)}function S0(i,e,n){if(typeof(n=br(n))=="string"){if(n==="")throw new fe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OE(e)&&n.indexOf("/")!==-1)throw new fe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(ut.fromString(n));if(!_e.isDocumentKey(a))throw new fe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return P_(i,new _e(a))}if(n instanceof sn)return P_(i,n._key);throw new fe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function w0(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LT(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kC{convertValue(e,n="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return na(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[yh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>At(f.doubleValue));return new Np(u)}convertGeoPoint(e){return new Cp(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Ph(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ut.fromString(e);Xe(tT(a),9688,{name:e});const o=new Zl(a.get(1),a.get(3)),u=new _e(a.popFirst(5));return o.isEqual(n)||ii(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(i,e,n){let a;return a=i?i.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zT extends jT{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Vp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class oh extends zT{data(e={}){return super.data(e)}}class jC{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new oh(this._firestore,this._userDataWriter,a.key,a,new Pl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:PC(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(i){i=Kn(i,sn);const e=Kn(i.firestore,Ya);return _C(xp(e),i._key).then(n=>qT(e,i,n))}class BT extends kC{constructor(e){super(),this.firestore=e}convertBytes(e){return new lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function UC(i,e,n){i=Kn(i,sn);const a=Kn(i.firestore,Ya),o=UT(i.converter,e);return Lp(a,[OT(Kh(a),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Zn.none())])}function lh(i,e,n,...a){i=Kn(i,sn);const o=Kn(i.firestore,Ya),u=Kh(o);let f;return f=typeof(e=br(e))=="string"||e instanceof Zh?CC(u,"updateDoc",i._key,e,n,a):RC(u,"updateDoc",i._key,e),Lp(o,[f.toMutation(i._key,Zn.exists(!0))])}function zC(i,e){const n=Kn(i.firestore,Ya),a=Ha(i),o=UT(i.converter,e);return Lp(n,[OT(Kh(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,Zn.exists(!1))]).then(()=>a)}function BC(i,...e){var n,a,o;i=br(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||A0(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(A0(e[f])){const S=e[f];e[f]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[f+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),e[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,g,E;if(i instanceof sn)g=Kn(i.firestore,Ya),E=Lh(i._key.path),p={next:S=>{e[f]&&e[f](qT(g,i,S))},error:e[f+1],complete:e[f+2]};else{const S=Kn(i,Wa);g=Kn(S.firestore,Ya),E=S._query;const w=new BT(g);p={next:C=>{e[f]&&e[f](new jC(g,w,S,C))},error:e[f+1],complete:e[f+2]},OC(i._query)}return function(w,C,I,F){const B=new wT(F),$=new gT(C,B,I);return w.asyncQueue.enqueueAndForget(async()=>mT(await qm(w),$)),()=>{B.yu(),w.asyncQueue.enqueueAndForget(async()=>pT(await qm(w),$))}}(xp(g),E,m,p)}function Lp(i,e){return function(a,o){const u=new Hi;return a.asyncQueue.enqueueAndForget(async()=>oC(await vC(a),o,u)),u.promise}(xp(i),e)}function qT(i,e,n){const a=n.docs.get(e._key),o=new BT(i);return new zT(i,o,e._key,a,new Pl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){yo=o})(y2),mh(new Gl("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new Ya(new I2(a.getProvider("auth-internal")),new M2(f,a.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ws(w_,x_,e),Ws(w_,x_,"esm2017")})();var qC="firebase",HC="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(qC,HC,"app");const FC={apiKey:"AIzaSyA32ur8WlKhwwvxevvB-P0M0sHK95DBeFw",authDomain:"sealogistics-4f899.firebaseapp.com",projectId:"sealogistics-4f899",storageBucket:"sealogistics-4f899.appspot.com",messagingSenderId:"813384700244",appId:"1:813384700244:web:d400348141dbcadacb78c1"},GC=rE(FC),Ui=bC(GC),HT=H.createContext(void 0),FT=()=>{const i=H.useContext(HT);if(i===void 0)throw new Error("useShipments must be used within a ShipmentsProvider");return i},QC=({children:i})=>{const[e,n]=H.useState([]),[a,o]=H.useState(!0);H.useEffect(()=>{const p=VC(_0(Ui,"shipments"),MC("createdAt","desc")),g=BC(p,E=>{const S=[];E.forEach(w=>{S.push({id:w.id,...w.data()})}),n(S),o(!1)},E=>{console.error("Error fetching shipments:",E),o(!1)});return()=>g()},[]);const m={shipments:e,addShipment:async p=>{try{const g=await zC(_0(Ui,"shipments"),{...p,createdAt:new Date});console.log("Shipment added with ID: ",g.id)}catch(g){throw console.error("Error adding shipment: ",g),g}},updateShipment:async p=>{try{if(!p.id)throw new Error("Shipment ID is required for updates");const g=Ha(Ui,"shipments",p.id);await lh(g,{cliente:p.cliente,operador:p.operador,pol:p.pol,pod:p.pod,etdOrigem:p.etdOrigem,etaDestino:p.etaDestino,quantBox:p.quantBox,status:p.status,numeroBl:p.numeroBl,armador:p.armador,booking:p.booking,updatedAt:new Date}),console.log("Shipment updated successfully:",p.id)}catch(g){throw console.error("Error updating shipment: ",g),g}},loading:a};return T.jsx(HT.Provider,{value:m,children:i})},YC=({shipments:i,onShipmentUpdate:e})=>{const{shipments:n,updateShipment:a,loading:o}=FT(),u=i||n,f=async(m,p)=>{const g=u.find(E=>E.id===m);if(g)try{const E={...g,status:p};await a(E),e&&e(E),console.log(`Status do envio ${m} alterado para: ${p}`)}catch(E){console.error("Erro ao atualizar status:",E),alert("Erro ao atualizar o status. Tente novamente.")}};return o?T.jsxs("div",{className:"shipping-table-container",children:[T.jsx("h2",{className:"shipping-table-title",children:"Tabela de Envios"}),T.jsx("div",{className:"shipping-table-empty",children:"Carregando envios..."})]}):u.length===0?T.jsxs("div",{className:"shipping-table-container",children:[T.jsx("h2",{className:"shipping-table-title",children:"Tabela de Envios"}),T.jsx("div",{className:"shipping-table-empty",children:"Nenhum envio encontrado. Que tal criar o primeiro?"})]}):T.jsx($S,{children:T.jsxs("div",{className:"shipping-table-container",children:[T.jsx("h2",{className:"shipping-table-title",children:"Tabela de Envios"}),T.jsx("div",{className:"table-wrapper",children:T.jsxs("table",{className:"shipping-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Cliente"}),T.jsx("th",{children:"Operador"}),T.jsx("th",{children:"POL"}),T.jsx("th",{children:"POD"}),T.jsx("th",{children:"ETD Origem"}),T.jsx("th",{children:"ETA Destino"}),T.jsx("th",{children:"Quant Box"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"N° BL"}),T.jsx("th",{children:"Armador"}),T.jsx("th",{children:"Booking"})]})}),T.jsx("tbody",{children:u.map(m=>T.jsxs("tr",{children:[T.jsx("td",{children:m.cliente}),T.jsx("td",{children:m.operador}),T.jsx("td",{children:m.pol}),T.jsx("td",{children:m.pod}),T.jsx("td",{children:m.etdOrigem}),T.jsx("td",{children:m.etaDestino}),T.jsx("td",{children:m.quantBox}),T.jsx("td",{children:T.jsx(ZS,{currentStatus:m.status,onStatusChange:p=>{if(m.id)return f(m.id,p)},instanceId:`shipment-${m.id}`})}),T.jsx("td",{children:m.numeroBl}),T.jsx("td",{children:m.armador}),T.jsx("td",{children:m.booking})]},m.id))})]})})]})})},$C={en:{welcomeMessage:"Welcome to Sea Logistics",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",loginButton:"Login",selectLanguage:"Select language",forgotPassword:"Forgot password?",nameError:"Name is required",emailError:"Invalid email",passwordError:"Password is required",confirmPasswordError:"Password is required",passwordsDontMatch:"Passwords don't match",dontHaveAccount:"Don't have an account?",registerLink:"Register",createAccount:"Create an Account",name:"Name",namePlaceholder:"Enter your full name",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm your password",registerButton:"Register",alreadyHaveAccount:"Already have an account?",loginLink:"Login",registerText:"Connecting the world through the oceans. Register to access our platform."},pt:{welcomeMessage:"Bem-vindo à Sea Logistics",email:"Email",emailPlaceholder:"Digite seu email",password:"Senha",passwordPlaceholder:"Digite sua senha",loginButton:"Entrar",selectLanguage:"Selecionar idioma",forgotPassword:"Esqueceu a senha?",nameError:"O nome é obrigatório",emailError:"Email inválido",passwordError:"A senha é obrigatória",confirmPasswordError:"A senha é obrigatória",passwordsDontMatch:"As senhas não coincidem",dontHaveAccount:"Não tem uma conta?",registerLink:"Registrar",createAccount:"Criar uma Conta",name:"Nome",namePlaceholder:"Digite seu nome completo",confirmPassword:"Confirmar Senha",confirmPasswordPlaceholder:"Confirme sua senha",registerButton:"Registrar",alreadyHaveAccount:"Já tem uma conta?",loginLink:"Entrar",registerText:"Conectando o mundo através dos oceanos. Registre-se para acessar nossa plataforma."},es:{welcomeMessage:"Bienvenido a Sea Logistics",email:"Correo electrónico",emailPlaceholder:"Ingrese su correo electrónico",password:"Contraseña",passwordPlaceholder:"Ingrese su contraseña",loginButton:"Iniciar sesión",selectLanguage:"Seleccionar idioma",forgotPassword:"¿Olvidó su contraseña?",nameError:"El nombre es obligatorio",emailError:"Correo electrónico inválidoo",passwordError:"La contraseña es obligatoria",confirmPasswordError:"La contraseña es obligatoria",passwordsDontMatch:"Las contraseña no coinciden",dontHaveAccount:"¿No tiene una cuenta?",registerLink:"Registrarse",createAccount:"Crear una Cuenta",name:"Nombre",namePlaceholder:"Ingrese su nombre completo",confirmPassword:"Confirmar Contraseña",confirmPasswordPlaceholder:"Confirme su contraseña",registerButton:"Registrarse",alreadyHaveAccount:"¿Ya tiene una cuenta?",loginLink:"Iniciar sesión",registerText:"Conectando el mundo a través de los océanos. Regístrate para acceder a nuestra plataforma."}},GT=H.createContext(void 0);function uo({children:i}){const[e,n]=H.useState("en");H.useEffect(()=>{const u=localStorage.getItem("language");u&&["en","pt","es"].includes(u)&&n(u)},[]);const o={language:e,setLanguage:u=>{n(u),localStorage.setItem("language",u)},translations:$C[e]};return T.jsx(GT.Provider,{value:o,children:i})}function Up(){const i=H.useContext(GT);if(i===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return i}const ZC=()=>{const i=e=>{console.log("Envio atualizado na home:",e)};return T.jsx(uo,{children:T.jsxs("main",{className:"home-container",children:[T.jsx(ch,{}),T.jsx("div",{className:"home-content",children:T.jsx(YC,{onShipmentUpdate:i})}),T.jsx(_m,{})]})})};function QT(){const{language:i,setLanguage:e,translations:n}=Up();return T.jsxs("div",{className:"language-switcher",children:[T.jsxs("p",{children:[n.selectLanguage,":"]}),T.jsxs("div",{className:"language-buttons",children:[T.jsx("button",{onClick:()=>e("pt"),className:i==="pt"?"active":"",children:"PT"}),T.jsx("button",{onClick:()=>e("en"),className:i==="en"?"active":"",children:"EN"}),T.jsx("button",{onClick:()=>e("es"),className:i==="es"?"active":"",children:"ES"})]})]})}var Qe;(function(i){i.assertEqual=o=>o;function e(o){}i.assertIs=e;function n(o){throw new Error}i.assertNever=n,i.arrayToEnum=o=>{const u={};for(const f of o)u[f]=f;return u},i.getValidEnumValues=o=>{const u=i.objectKeys(o).filter(m=>typeof o[o[m]]!="number"),f={};for(const m of u)f[m]=o[m];return i.objectValues(f)},i.objectValues=o=>i.objectKeys(o).map(function(u){return o[u]}),i.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const u=[];for(const f in o)Object.prototype.hasOwnProperty.call(o,f)&&u.push(f);return u},i.find=(o,u)=>{for(const f of o)if(u(f))return f},i.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function a(o,u=" | "){return o.map(f=>typeof f=="string"?`'${f}'`:f).join(u)}i.joinValues=a,i.jsonStringifyReplacer=(o,u)=>typeof u=="bigint"?u.toString():u})(Qe||(Qe={}));var Fm;(function(i){i.mergeShapes=(e,n)=>({...e,...n})})(Fm||(Fm={}));const ce=Qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ei=i=>{switch(typeof i){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return isNaN(i)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(i)?ce.array:i===null?ce.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?ce.promise:typeof Map<"u"&&i instanceof Map?ce.map:typeof Set<"u"&&i instanceof Set?ce.set:typeof Date<"u"&&i instanceof Date?ce.date:ce.object;default:return ce.unknown}},ie=Qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),KC=i=>JSON.stringify(i,null,2).replace(/"([^"]+)":/g,"$1:");class Cn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(u){return u.message},a={_errors:[]},o=u=>{for(const f of u.issues)if(f.code==="invalid_union")f.unionErrors.map(o);else if(f.code==="invalid_return_type")o(f.returnTypeError);else if(f.code==="invalid_arguments")o(f.argumentsError);else if(f.path.length===0)a._errors.push(n(f));else{let m=a,p=0;for(;p<f.path.length;){const g=f.path[p];p===f.path.length-1?(m[g]=m[g]||{_errors:[]},m[g]._errors.push(n(f))):m[g]=m[g]||{_errors:[]},m=m[g],p++}}};return o(this),a}static assert(e){if(!(e instanceof Cn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},a=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):a.push(e(o));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}}Cn.create=i=>new Cn(i);const co=(i,e)=>{let n;switch(i.code){case ie.invalid_type:i.received===ce.undefined?n="Required":n=`Expected ${i.expected}, received ${i.received}`;break;case ie.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(i.expected,Qe.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:n=`Unrecognized key(s) in object: ${Qe.joinValues(i.keys,", ")}`;break;case ie.invalid_union:n="Invalid input";break;case ie.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Qe.joinValues(i.options)}`;break;case ie.invalid_enum_value:n=`Invalid enum value. Expected ${Qe.joinValues(i.options)}, received '${i.received}'`;break;case ie.invalid_arguments:n="Invalid function arguments";break;case ie.invalid_return_type:n="Invalid function return type";break;case ie.invalid_date:n="Invalid date";break;case ie.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(n=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?n=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?n=`Invalid input: must end with "${i.validation.endsWith}"`:Qe.assertNever(i.validation):i.validation!=="regex"?n=`Invalid ${i.validation}`:n="Invalid";break;case ie.too_small:i.type==="array"?n=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?n=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?n=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?n=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:n="Invalid input";break;case ie.too_big:i.type==="array"?n=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?n=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?n=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?n=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?n=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:n="Invalid input";break;case ie.custom:n="Invalid input";break;case ie.invalid_intersection_types:n="Intersection results could not be merged";break;case ie.not_multiple_of:n=`Number must be a multiple of ${i.multipleOf}`;break;case ie.not_finite:n="Number must be finite";break;default:n=e.defaultError,Qe.assertNever(i)}return{message:n}};let YT=co;function XC(i){YT=i}function xh(){return YT}const Rh=i=>{const{data:e,path:n,errorMaps:a,issueData:o}=i,u=[...n,...o.path||[]],f={...o,path:u};if(o.message!==void 0)return{...o,path:u,message:o.message};let m="";const p=a.filter(g=>!!g).slice().reverse();for(const g of p)m=g(f,{data:e,defaultError:m}).message;return{...o,path:u,message:m}},JC=[];function ue(i,e){const n=xh(),a=Rh({issueData:e,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,n,n===co?void 0:co].filter(o=>!!o)});i.common.issues.push(a)}class on{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const a=[];for(const o of n){if(o.status==="aborted")return xe;o.status==="dirty"&&e.dirty(),a.push(o.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,n){const a=[];for(const o of n){const u=await o.key,f=await o.value;a.push({key:u,value:f})}return on.mergeObjectSync(e,a)}static mergeObjectSync(e,n){const a={};for(const o of n){const{key:u,value:f}=o;if(u.status==="aborted"||f.status==="aborted")return xe;u.status==="dirty"&&e.dirty(),f.status==="dirty"&&e.dirty(),u.value!=="__proto__"&&(typeof f.value<"u"||o.alwaysSet)&&(a[u.value]=f.value)}return{status:e.value,value:a}}}const xe=Object.freeze({status:"aborted"}),Js=i=>({status:"dirty",value:i}),fn=i=>({status:"valid",value:i}),Gm=i=>i.status==="aborted",Qm=i=>i.status==="dirty",$a=i=>i.status==="valid",eu=i=>typeof Promise<"u"&&i instanceof Promise;function Ch(i,e,n,a){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(i)}function $T(i,e,n,a,o){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(i,n),n}var ge;(function(i){i.errToObj=e=>typeof e=="string"?{message:e}:e||{},i.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ge||(ge={}));var Ll,Ul;class Sr{constructor(e,n,a,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=a,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const x0=(i,e)=>{if($a(e))return{success:!0,data:e.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Cn(i.common.issues);return this._error=n,this._error}}};function De(i){if(!i)return{};const{errorMap:e,invalid_type_error:n,required_error:a,description:o}=i;if(e&&(n||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(f,m)=>{var p,g;const{message:E}=i;return f.code==="invalid_enum_value"?{message:E??m.defaultError}:typeof m.data>"u"?{message:(p=E??a)!==null&&p!==void 0?p:m.defaultError}:f.code!=="invalid_type"?{message:m.defaultError}:{message:(g=E??n)!==null&&g!==void 0?g:m.defaultError}},description:o}}class Ve{get description(){return this._def.description}_getType(e){return ei(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ei(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new on,ctx:{common:e.parent.common,data:e.data,parsedType:ei(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(eu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const a=this.safeParse(e,n);if(a.success)return a.data;throw a.error}safeParse(e,n){var a;const o={common:{issues:[],async:(a=n==null?void 0:n.async)!==null&&a!==void 0?a:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ei(e)},u=this._parseSync({data:e,path:o.path,parent:o});return x0(o,u)}"~validate"(e){var n,a;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ei(e)};if(!this["~standard"].async)try{const u=this._parseSync({data:e,path:[],parent:o});return $a(u)?{value:u.value}:{issues:o.common.issues}}catch(u){!((a=(n=u==null?void 0:u.message)===null||n===void 0?void 0:n.toLowerCase())===null||a===void 0)&&a.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(u=>$a(u)?{value:u.value}:{issues:o.common.issues})}async parseAsync(e,n){const a=await this.safeParseAsync(e,n);if(a.success)return a.data;throw a.error}async safeParseAsync(e,n){const a={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ei(e)},o=this._parse({data:e,path:a.path,parent:a}),u=await(eu(o)?o:Promise.resolve(o));return x0(a,u)}refine(e,n){const a=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,u)=>{const f=e(o),m=()=>u.addIssue({code:ie.custom,...a(o)});return typeof Promise<"u"&&f instanceof Promise?f.then(p=>p?!0:(m(),!1)):f?!0:(m(),!1)})}refinement(e,n){return this._refinement((a,o)=>e(a)?!0:(o.addIssue(typeof n=="function"?n(a,o):n),!1))}_refinement(e){return new Wn({schema:this,typeName:Se.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Er.create(this,this._def)}nullable(){return ea.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xn.create(this)}promise(){return fo.create(this,this._def)}or(e){return iu.create([this,e],this._def)}and(e){return au.create(this,e,this._def)}transform(e){return new Wn({...De(this._def),schema:this,typeName:Se.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new cu({...De(this._def),innerType:this,defaultValue:n,typeName:Se.ZodDefault})}brand(){return new zp({typeName:Se.ZodBranded,type:this,...De(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new hu({...De(this._def),innerType:this,catchValue:n,typeName:Se.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return bu.create(this,e)}readonly(){return fu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const WC=/^c[^\s-]{8,}$/i,eN=/^[0-9a-z]+$/,tN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,nN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rN=/^[a-z0-9_-]{21}$/i,iN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,aN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let gm;const lN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,hN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fN=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dN=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ZT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mN=new RegExp(`^${ZT}$`);function KT(i){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return i.precision?e=`${e}\\.\\d{${i.precision}}`:i.precision==null&&(e=`${e}(\\.\\d+)?`),e}function pN(i){return new RegExp(`^${KT(i)}$`)}function XT(i){let e=`${ZT}T${KT(i)}`;const n=[];return n.push(i.local?"Z?":"Z"),i.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function gN(i,e){return!!((e==="v4"||!e)&&lN.test(i)||(e==="v6"||!e)&&cN.test(i))}function yN(i,e){if(!iN.test(i))return!1;try{const[n]=i.split("."),a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(a));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function vN(i,e){return!!((e==="v4"||!e)&&uN.test(i)||(e==="v6"||!e)&&hN.test(i))}class $n extends Ve{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ce.string){const u=this._getOrReturnCtx(e);return ue(u,{code:ie.invalid_type,expected:ce.string,received:u.parsedType}),xe}const a=new on;let o;for(const u of this._def.checks)if(u.kind==="min")e.data.length<u.value&&(o=this._getOrReturnCtx(e,o),ue(o,{code:ie.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),a.dirty());else if(u.kind==="max")e.data.length>u.value&&(o=this._getOrReturnCtx(e,o),ue(o,{code:ie.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),a.dirty());else if(u.kind==="length"){const f=e.data.length>u.value,m=e.data.length<u.value;(f||m)&&(o=this._getOrReturnCtx(e,o),f?ue(o,{code:ie.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):m&&ue(o,{code:ie.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),a.dirty())}else if(u.kind==="email")sN.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"email",code:ie.invalid_string,message:u.message}),a.dirty());else if(u.kind==="emoji")gm||(gm=new RegExp(oN,"u")),gm.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"emoji",code:ie.invalid_string,message:u.message}),a.dirty());else if(u.kind==="uuid")nN.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"uuid",code:ie.invalid_string,message:u.message}),a.dirty());else if(u.kind==="nanoid")rN.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"nanoid",code:ie.invalid_string,message:u.message}),a.dirty());else if(u.kind==="cuid")WC.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"cuid",code:ie.invalid_string,message:u.message}),a.dirty());else if(u.kind==="cuid2")eN.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"cuid2",code:ie.invalid_string,message:u.message}),a.dirty());else if(u.kind==="ulid")tN.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"ulid",code:ie.invalid_string,message:u.message}),a.dirty());else if(u.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),ue(o,{validation:"url",code:ie.invalid_string,message:u.message}),a.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"regex",code:ie.invalid_string,message:u.message}),a.dirty())):u.kind==="trim"?e.data=e.data.trim():u.kind==="includes"?e.data.includes(u.value,u.position)||(o=this._getOrReturnCtx(e,o),ue(o,{code:ie.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),a.dirty()):u.kind==="toLowerCase"?e.data=e.data.toLowerCase():u.kind==="toUpperCase"?e.data=e.data.toUpperCase():u.kind==="startsWith"?e.data.startsWith(u.value)||(o=this._getOrReturnCtx(e,o),ue(o,{code:ie.invalid_string,validation:{startsWith:u.value},message:u.message}),a.dirty()):u.kind==="endsWith"?e.data.endsWith(u.value)||(o=this._getOrReturnCtx(e,o),ue(o,{code:ie.invalid_string,validation:{endsWith:u.value},message:u.message}),a.dirty()):u.kind==="datetime"?XT(u).test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{code:ie.invalid_string,validation:"datetime",message:u.message}),a.dirty()):u.kind==="date"?mN.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{code:ie.invalid_string,validation:"date",message:u.message}),a.dirty()):u.kind==="time"?pN(u).test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{code:ie.invalid_string,validation:"time",message:u.message}),a.dirty()):u.kind==="duration"?aN.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"duration",code:ie.invalid_string,message:u.message}),a.dirty()):u.kind==="ip"?gN(e.data,u.version)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"ip",code:ie.invalid_string,message:u.message}),a.dirty()):u.kind==="jwt"?yN(e.data,u.alg)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"jwt",code:ie.invalid_string,message:u.message}),a.dirty()):u.kind==="cidr"?vN(e.data,u.version)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"cidr",code:ie.invalid_string,message:u.message}),a.dirty()):u.kind==="base64"?fN.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"base64",code:ie.invalid_string,message:u.message}),a.dirty()):u.kind==="base64url"?dN.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"base64url",code:ie.invalid_string,message:u.message}),a.dirty()):Qe.assertNever(u);return{status:a.value,value:e.data}}_regex(e,n,a){return this.refinement(o=>e.test(o),{validation:n,code:ie.invalid_string,...ge.errToObj(a)})}_addCheck(e){return new $n({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ge.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ge.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ge.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ge.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ge.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ge.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ge.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ge.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ge.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ge.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ge.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ge.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ge.errToObj(e)})}datetime(e){var n,a;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(a=e==null?void 0:e.local)!==null&&a!==void 0?a:!1,...ge.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ge.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ge.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ge.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ge.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ge.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ge.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ge.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ge.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ge.errToObj(n)})}nonempty(e){return this.min(1,ge.errToObj(e))}trim(){return new $n({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $n({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $n({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}$n.create=i=>{var e;return new $n({checks:[],typeName:Se.ZodString,coerce:(e=i==null?void 0:i.coerce)!==null&&e!==void 0?e:!1,...De(i)})};function _N(i,e){const n=(i.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,o=n>a?n:a,u=parseInt(i.toFixed(o).replace(".","")),f=parseInt(e.toFixed(o).replace(".",""));return u%f/Math.pow(10,o)}class Xi extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ce.number){const u=this._getOrReturnCtx(e);return ue(u,{code:ie.invalid_type,expected:ce.number,received:u.parsedType}),xe}let a;const o=new on;for(const u of this._def.checks)u.kind==="int"?Qe.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),ue(a,{code:ie.invalid_type,expected:"integer",received:"float",message:u.message}),o.dirty()):u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(a=this._getOrReturnCtx(e,a),ue(a,{code:ie.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(a=this._getOrReturnCtx(e,a),ue(a,{code:ie.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="multipleOf"?_N(e.data,u.value)!==0&&(a=this._getOrReturnCtx(e,a),ue(a,{code:ie.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):u.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),ue(a,{code:ie.not_finite,message:u.message}),o.dirty()):Qe.assertNever(u);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ge.toString(n))}setLimit(e,n,a,o){return new Xi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:a,message:ge.toString(o)}]})}_addCheck(e){return new Xi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ge.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ge.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ge.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ge.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Qe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(n===null||a.value>n)&&(n=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Xi.create=i=>new Xi({checks:[],typeName:Se.ZodNumber,coerce:(i==null?void 0:i.coerce)||!1,...De(i)});class Ji extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ce.bigint)return this._getInvalidInput(e);let a;const o=new on;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(a=this._getOrReturnCtx(e,a),ue(a,{code:ie.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(a=this._getOrReturnCtx(e,a),ue(a,{code:ie.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="multipleOf"?e.data%u.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),ue(a,{code:ie.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):Qe.assertNever(u);return{status:o.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ue(n,{code:ie.invalid_type,expected:ce.bigint,received:n.parsedType}),xe}gte(e,n){return this.setLimit("min",e,!0,ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ge.toString(n))}setLimit(e,n,a,o){return new Ji({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:a,message:ge.toString(o)}]})}_addCheck(e){return new Ji({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ji.create=i=>{var e;return new Ji({checks:[],typeName:Se.ZodBigInt,coerce:(e=i==null?void 0:i.coerce)!==null&&e!==void 0?e:!1,...De(i)})};class tu extends Ve{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ce.boolean){const a=this._getOrReturnCtx(e);return ue(a,{code:ie.invalid_type,expected:ce.boolean,received:a.parsedType}),xe}return fn(e.data)}}tu.create=i=>new tu({typeName:Se.ZodBoolean,coerce:(i==null?void 0:i.coerce)||!1,...De(i)});class Za extends Ve{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ce.date){const u=this._getOrReturnCtx(e);return ue(u,{code:ie.invalid_type,expected:ce.date,received:u.parsedType}),xe}if(isNaN(e.data.getTime())){const u=this._getOrReturnCtx(e);return ue(u,{code:ie.invalid_date}),xe}const a=new on;let o;for(const u of this._def.checks)u.kind==="min"?e.data.getTime()<u.value&&(o=this._getOrReturnCtx(e,o),ue(o,{code:ie.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),a.dirty()):u.kind==="max"?e.data.getTime()>u.value&&(o=this._getOrReturnCtx(e,o),ue(o,{code:ie.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),a.dirty()):Qe.assertNever(u);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Za({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ge.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ge.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Za.create=i=>new Za({checks:[],coerce:(i==null?void 0:i.coerce)||!1,typeName:Se.ZodDate,...De(i)});class Nh extends Ve{_parse(e){if(this._getType(e)!==ce.symbol){const a=this._getOrReturnCtx(e);return ue(a,{code:ie.invalid_type,expected:ce.symbol,received:a.parsedType}),xe}return fn(e.data)}}Nh.create=i=>new Nh({typeName:Se.ZodSymbol,...De(i)});class nu extends Ve{_parse(e){if(this._getType(e)!==ce.undefined){const a=this._getOrReturnCtx(e);return ue(a,{code:ie.invalid_type,expected:ce.undefined,received:a.parsedType}),xe}return fn(e.data)}}nu.create=i=>new nu({typeName:Se.ZodUndefined,...De(i)});class ru extends Ve{_parse(e){if(this._getType(e)!==ce.null){const a=this._getOrReturnCtx(e);return ue(a,{code:ie.invalid_type,expected:ce.null,received:a.parsedType}),xe}return fn(e.data)}}ru.create=i=>new ru({typeName:Se.ZodNull,...De(i)});class ho extends Ve{constructor(){super(...arguments),this._any=!0}_parse(e){return fn(e.data)}}ho.create=i=>new ho({typeName:Se.ZodAny,...De(i)});class Fa extends Ve{constructor(){super(...arguments),this._unknown=!0}_parse(e){return fn(e.data)}}Fa.create=i=>new Fa({typeName:Se.ZodUnknown,...De(i)});class si extends Ve{_parse(e){const n=this._getOrReturnCtx(e);return ue(n,{code:ie.invalid_type,expected:ce.never,received:n.parsedType}),xe}}si.create=i=>new si({typeName:Se.ZodNever,...De(i)});class Dh extends Ve{_parse(e){if(this._getType(e)!==ce.undefined){const a=this._getOrReturnCtx(e);return ue(a,{code:ie.invalid_type,expected:ce.void,received:a.parsedType}),xe}return fn(e.data)}}Dh.create=i=>new Dh({typeName:Se.ZodVoid,...De(i)});class Xn extends Ve{_parse(e){const{ctx:n,status:a}=this._processInputParams(e),o=this._def;if(n.parsedType!==ce.array)return ue(n,{code:ie.invalid_type,expected:ce.array,received:n.parsedType}),xe;if(o.exactLength!==null){const f=n.data.length>o.exactLength.value,m=n.data.length<o.exactLength.value;(f||m)&&(ue(n,{code:f?ie.too_big:ie.too_small,minimum:m?o.exactLength.value:void 0,maximum:f?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),a.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(ue(n,{code:ie.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),a.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(ue(n,{code:ie.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),a.dirty()),n.common.async)return Promise.all([...n.data].map((f,m)=>o.type._parseAsync(new Sr(n,f,n.path,m)))).then(f=>on.mergeArray(a,f));const u=[...n.data].map((f,m)=>o.type._parseSync(new Sr(n,f,n.path,m)));return on.mergeArray(a,u)}get element(){return this._def.type}min(e,n){return new Xn({...this._def,minLength:{value:e,message:ge.toString(n)}})}max(e,n){return new Xn({...this._def,maxLength:{value:e,message:ge.toString(n)}})}length(e,n){return new Xn({...this._def,exactLength:{value:e,message:ge.toString(n)}})}nonempty(e){return this.min(1,e)}}Xn.create=(i,e)=>new Xn({type:i,minLength:null,maxLength:null,exactLength:null,typeName:Se.ZodArray,...De(e)});function Xs(i){if(i instanceof mt){const e={};for(const n in i.shape){const a=i.shape[n];e[n]=Er.create(Xs(a))}return new mt({...i._def,shape:()=>e})}else return i instanceof Xn?new Xn({...i._def,type:Xs(i.element)}):i instanceof Er?Er.create(Xs(i.unwrap())):i instanceof ea?ea.create(Xs(i.unwrap())):i instanceof wr?wr.create(i.items.map(e=>Xs(e))):i}class mt extends Ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Qe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ce.object){const g=this._getOrReturnCtx(e);return ue(g,{code:ie.invalid_type,expected:ce.object,received:g.parsedType}),xe}const{status:a,ctx:o}=this._processInputParams(e),{shape:u,keys:f}=this._getCached(),m=[];if(!(this._def.catchall instanceof si&&this._def.unknownKeys==="strip"))for(const g in o.data)f.includes(g)||m.push(g);const p=[];for(const g of f){const E=u[g],S=o.data[g];p.push({key:{status:"valid",value:g},value:E._parse(new Sr(o,S,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof si){const g=this._def.unknownKeys;if(g==="passthrough")for(const E of m)p.push({key:{status:"valid",value:E},value:{status:"valid",value:o.data[E]}});else if(g==="strict")m.length>0&&(ue(o,{code:ie.unrecognized_keys,keys:m}),a.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const E of m){const S=o.data[E];p.push({key:{status:"valid",value:E},value:g._parse(new Sr(o,S,o.path,E)),alwaysSet:E in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const g=[];for(const E of p){const S=await E.key,w=await E.value;g.push({key:S,value:w,alwaysSet:E.alwaysSet})}return g}).then(g=>on.mergeObjectSync(a,g)):on.mergeObjectSync(a,p)}get shape(){return this._def.shape()}strict(e){return ge.errToObj,new mt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,a)=>{var o,u,f,m;const p=(f=(u=(o=this._def).errorMap)===null||u===void 0?void 0:u.call(o,n,a).message)!==null&&f!==void 0?f:a.defaultError;return n.code==="unrecognized_keys"?{message:(m=ge.errToObj(e).message)!==null&&m!==void 0?m:p}:{message:p}}}:{}})}strip(){return new mt({...this._def,unknownKeys:"strip"})}passthrough(){return new mt({...this._def,unknownKeys:"passthrough"})}extend(e){return new mt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new mt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Se.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new mt({...this._def,catchall:e})}pick(e){const n={};return Qe.objectKeys(e).forEach(a=>{e[a]&&this.shape[a]&&(n[a]=this.shape[a])}),new mt({...this._def,shape:()=>n})}omit(e){const n={};return Qe.objectKeys(this.shape).forEach(a=>{e[a]||(n[a]=this.shape[a])}),new mt({...this._def,shape:()=>n})}deepPartial(){return Xs(this)}partial(e){const n={};return Qe.objectKeys(this.shape).forEach(a=>{const o=this.shape[a];e&&!e[a]?n[a]=o:n[a]=o.optional()}),new mt({...this._def,shape:()=>n})}required(e){const n={};return Qe.objectKeys(this.shape).forEach(a=>{if(e&&!e[a])n[a]=this.shape[a];else{let u=this.shape[a];for(;u instanceof Er;)u=u._def.innerType;n[a]=u}}),new mt({...this._def,shape:()=>n})}keyof(){return JT(Qe.objectKeys(this.shape))}}mt.create=(i,e)=>new mt({shape:()=>i,unknownKeys:"strip",catchall:si.create(),typeName:Se.ZodObject,...De(e)});mt.strictCreate=(i,e)=>new mt({shape:()=>i,unknownKeys:"strict",catchall:si.create(),typeName:Se.ZodObject,...De(e)});mt.lazycreate=(i,e)=>new mt({shape:i,unknownKeys:"strip",catchall:si.create(),typeName:Se.ZodObject,...De(e)});class iu extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),a=this._def.options;function o(u){for(const m of u)if(m.result.status==="valid")return m.result;for(const m of u)if(m.result.status==="dirty")return n.common.issues.push(...m.ctx.common.issues),m.result;const f=u.map(m=>new Cn(m.ctx.common.issues));return ue(n,{code:ie.invalid_union,unionErrors:f}),xe}if(n.common.async)return Promise.all(a.map(async u=>{const f={...n,common:{...n.common,issues:[]},parent:null};return{result:await u._parseAsync({data:n.data,path:n.path,parent:f}),ctx:f}})).then(o);{let u;const f=[];for(const p of a){const g={...n,common:{...n.common,issues:[]},parent:null},E=p._parseSync({data:n.data,path:n.path,parent:g});if(E.status==="valid")return E;E.status==="dirty"&&!u&&(u={result:E,ctx:g}),g.common.issues.length&&f.push(g.common.issues)}if(u)return n.common.issues.push(...u.ctx.common.issues),u.result;const m=f.map(p=>new Cn(p));return ue(n,{code:ie.invalid_union,unionErrors:m}),xe}}get options(){return this._def.options}}iu.create=(i,e)=>new iu({options:i,typeName:Se.ZodUnion,...De(e)});const Wr=i=>i instanceof ou?Wr(i.schema):i instanceof Wn?Wr(i.innerType()):i instanceof lu?[i.value]:i instanceof Wi?i.options:i instanceof uu?Qe.objectValues(i.enum):i instanceof cu?Wr(i._def.innerType):i instanceof nu?[void 0]:i instanceof ru?[null]:i instanceof Er?[void 0,...Wr(i.unwrap())]:i instanceof ea?[null,...Wr(i.unwrap())]:i instanceof zp||i instanceof fu?Wr(i.unwrap()):i instanceof hu?Wr(i._def.innerType):[];class Jh extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.object)return ue(n,{code:ie.invalid_type,expected:ce.object,received:n.parsedType}),xe;const a=this.discriminator,o=n.data[a],u=this.optionsMap.get(o);return u?n.common.async?u._parseAsync({data:n.data,path:n.path,parent:n}):u._parseSync({data:n.data,path:n.path,parent:n}):(ue(n,{code:ie.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),xe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,a){const o=new Map;for(const u of n){const f=Wr(u.shape[e]);if(!f.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const m of f){if(o.has(m))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(m)}`);o.set(m,u)}}return new Jh({typeName:Se.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:o,...De(a)})}}function Ym(i,e){const n=ei(i),a=ei(e);if(i===e)return{valid:!0,data:i};if(n===ce.object&&a===ce.object){const o=Qe.objectKeys(e),u=Qe.objectKeys(i).filter(m=>o.indexOf(m)!==-1),f={...i,...e};for(const m of u){const p=Ym(i[m],e[m]);if(!p.valid)return{valid:!1};f[m]=p.data}return{valid:!0,data:f}}else if(n===ce.array&&a===ce.array){if(i.length!==e.length)return{valid:!1};const o=[];for(let u=0;u<i.length;u++){const f=i[u],m=e[u],p=Ym(f,m);if(!p.valid)return{valid:!1};o.push(p.data)}return{valid:!0,data:o}}else return n===ce.date&&a===ce.date&&+i==+e?{valid:!0,data:i}:{valid:!1}}class au extends Ve{_parse(e){const{status:n,ctx:a}=this._processInputParams(e),o=(u,f)=>{if(Gm(u)||Gm(f))return xe;const m=Ym(u.value,f.value);return m.valid?((Qm(u)||Qm(f))&&n.dirty(),{status:n.value,value:m.data}):(ue(a,{code:ie.invalid_intersection_types}),xe)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([u,f])=>o(u,f)):o(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}au.create=(i,e,n)=>new au({left:i,right:e,typeName:Se.ZodIntersection,...De(n)});class wr extends Ve{_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==ce.array)return ue(a,{code:ie.invalid_type,expected:ce.array,received:a.parsedType}),xe;if(a.data.length<this._def.items.length)return ue(a,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xe;!this._def.rest&&a.data.length>this._def.items.length&&(ue(a,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const u=[...a.data].map((f,m)=>{const p=this._def.items[m]||this._def.rest;return p?p._parse(new Sr(a,f,a.path,m)):null}).filter(f=>!!f);return a.common.async?Promise.all(u).then(f=>on.mergeArray(n,f)):on.mergeArray(n,u)}get items(){return this._def.items}rest(e){return new wr({...this._def,rest:e})}}wr.create=(i,e)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wr({items:i,typeName:Se.ZodTuple,rest:null,...De(e)})};class su extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==ce.object)return ue(a,{code:ie.invalid_type,expected:ce.object,received:a.parsedType}),xe;const o=[],u=this._def.keyType,f=this._def.valueType;for(const m in a.data)o.push({key:u._parse(new Sr(a,m,a.path,m)),value:f._parse(new Sr(a,a.data[m],a.path,m)),alwaysSet:m in a.data});return a.common.async?on.mergeObjectAsync(n,o):on.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,a){return n instanceof Ve?new su({keyType:e,valueType:n,typeName:Se.ZodRecord,...De(a)}):new su({keyType:$n.create(),valueType:e,typeName:Se.ZodRecord,...De(n)})}}class Ih extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==ce.map)return ue(a,{code:ie.invalid_type,expected:ce.map,received:a.parsedType}),xe;const o=this._def.keyType,u=this._def.valueType,f=[...a.data.entries()].map(([m,p],g)=>({key:o._parse(new Sr(a,m,a.path,[g,"key"])),value:u._parse(new Sr(a,p,a.path,[g,"value"]))}));if(a.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const p of f){const g=await p.key,E=await p.value;if(g.status==="aborted"||E.status==="aborted")return xe;(g.status==="dirty"||E.status==="dirty")&&n.dirty(),m.set(g.value,E.value)}return{status:n.value,value:m}})}else{const m=new Map;for(const p of f){const g=p.key,E=p.value;if(g.status==="aborted"||E.status==="aborted")return xe;(g.status==="dirty"||E.status==="dirty")&&n.dirty(),m.set(g.value,E.value)}return{status:n.value,value:m}}}}Ih.create=(i,e,n)=>new Ih({valueType:e,keyType:i,typeName:Se.ZodMap,...De(n)});class Ka extends Ve{_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==ce.set)return ue(a,{code:ie.invalid_type,expected:ce.set,received:a.parsedType}),xe;const o=this._def;o.minSize!==null&&a.data.size<o.minSize.value&&(ue(a,{code:ie.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&a.data.size>o.maxSize.value&&(ue(a,{code:ie.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const u=this._def.valueType;function f(p){const g=new Set;for(const E of p){if(E.status==="aborted")return xe;E.status==="dirty"&&n.dirty(),g.add(E.value)}return{status:n.value,value:g}}const m=[...a.data.values()].map((p,g)=>u._parse(new Sr(a,p,a.path,g)));return a.common.async?Promise.all(m).then(p=>f(p)):f(m)}min(e,n){return new Ka({...this._def,minSize:{value:e,message:ge.toString(n)}})}max(e,n){return new Ka({...this._def,maxSize:{value:e,message:ge.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ka.create=(i,e)=>new Ka({valueType:i,minSize:null,maxSize:null,typeName:Se.ZodSet,...De(e)});class to extends Ve{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.function)return ue(n,{code:ie.invalid_type,expected:ce.function,received:n.parsedType}),xe;function a(m,p){return Rh({data:m,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,xh(),co].filter(g=>!!g),issueData:{code:ie.invalid_arguments,argumentsError:p}})}function o(m,p){return Rh({data:m,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,xh(),co].filter(g=>!!g),issueData:{code:ie.invalid_return_type,returnTypeError:p}})}const u={errorMap:n.common.contextualErrorMap},f=n.data;if(this._def.returns instanceof fo){const m=this;return fn(async function(...p){const g=new Cn([]),E=await m._def.args.parseAsync(p,u).catch(C=>{throw g.addIssue(a(p,C)),g}),S=await Reflect.apply(f,this,E);return await m._def.returns._def.type.parseAsync(S,u).catch(C=>{throw g.addIssue(o(S,C)),g})})}else{const m=this;return fn(function(...p){const g=m._def.args.safeParse(p,u);if(!g.success)throw new Cn([a(p,g.error)]);const E=Reflect.apply(f,this,g.data),S=m._def.returns.safeParse(E,u);if(!S.success)throw new Cn([o(E,S.error)]);return S.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new to({...this._def,args:wr.create(e).rest(Fa.create())})}returns(e){return new to({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,a){return new to({args:e||wr.create([]).rest(Fa.create()),returns:n||Fa.create(),typeName:Se.ZodFunction,...De(a)})}}class ou extends Ve{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ou.create=(i,e)=>new ou({getter:i,typeName:Se.ZodLazy,...De(e)});class lu extends Ve{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ue(n,{received:n.data,code:ie.invalid_literal,expected:this._def.value}),xe}return{status:"valid",value:e.data}}get value(){return this._def.value}}lu.create=(i,e)=>new lu({value:i,typeName:Se.ZodLiteral,...De(e)});function JT(i,e){return new Wi({values:i,typeName:Se.ZodEnum,...De(e)})}class Wi extends Ve{constructor(){super(...arguments),Ll.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),a=this._def.values;return ue(n,{expected:Qe.joinValues(a),received:n.parsedType,code:ie.invalid_type}),xe}if(Ch(this,Ll)||$T(this,Ll,new Set(this._def.values)),!Ch(this,Ll).has(e.data)){const n=this._getOrReturnCtx(e),a=this._def.values;return ue(n,{received:n.data,code:ie.invalid_enum_value,options:a}),xe}return fn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Wi.create(e,{...this._def,...n})}exclude(e,n=this._def){return Wi.create(this.options.filter(a=>!e.includes(a)),{...this._def,...n})}}Ll=new WeakMap;Wi.create=JT;class uu extends Ve{constructor(){super(...arguments),Ul.set(this,void 0)}_parse(e){const n=Qe.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==ce.string&&a.parsedType!==ce.number){const o=Qe.objectValues(n);return ue(a,{expected:Qe.joinValues(o),received:a.parsedType,code:ie.invalid_type}),xe}if(Ch(this,Ul)||$T(this,Ul,new Set(Qe.getValidEnumValues(this._def.values))),!Ch(this,Ul).has(e.data)){const o=Qe.objectValues(n);return ue(a,{received:a.data,code:ie.invalid_enum_value,options:o}),xe}return fn(e.data)}get enum(){return this._def.values}}Ul=new WeakMap;uu.create=(i,e)=>new uu({values:i,typeName:Se.ZodNativeEnum,...De(e)});class fo extends Ve{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.promise&&n.common.async===!1)return ue(n,{code:ie.invalid_type,expected:ce.promise,received:n.parsedType}),xe;const a=n.parsedType===ce.promise?n.data:Promise.resolve(n.data);return fn(a.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}fo.create=(i,e)=>new fo({type:i,typeName:Se.ZodPromise,...De(e)});class Wn extends Ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:a}=this._processInputParams(e),o=this._def.effect||null,u={addIssue:f=>{ue(a,f),f.fatal?n.abort():n.dirty()},get path(){return a.path}};if(u.addIssue=u.addIssue.bind(u),o.type==="preprocess"){const f=o.transform(a.data,u);if(a.common.async)return Promise.resolve(f).then(async m=>{if(n.value==="aborted")return xe;const p=await this._def.schema._parseAsync({data:m,path:a.path,parent:a});return p.status==="aborted"?xe:p.status==="dirty"||n.value==="dirty"?Js(p.value):p});{if(n.value==="aborted")return xe;const m=this._def.schema._parseSync({data:f,path:a.path,parent:a});return m.status==="aborted"?xe:m.status==="dirty"||n.value==="dirty"?Js(m.value):m}}if(o.type==="refinement"){const f=m=>{const p=o.refinement(m,u);if(a.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(a.common.async===!1){const m=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return m.status==="aborted"?xe:(m.status==="dirty"&&n.dirty(),f(m.value),{status:n.value,value:m.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(m=>m.status==="aborted"?xe:(m.status==="dirty"&&n.dirty(),f(m.value).then(()=>({status:n.value,value:m.value}))))}if(o.type==="transform")if(a.common.async===!1){const f=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!$a(f))return f;const m=o.transform(f.value,u);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:m}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(f=>$a(f)?Promise.resolve(o.transform(f.value,u)).then(m=>({status:n.value,value:m})):f);Qe.assertNever(o)}}Wn.create=(i,e,n)=>new Wn({schema:i,typeName:Se.ZodEffects,effect:e,...De(n)});Wn.createWithPreprocess=(i,e,n)=>new Wn({schema:e,effect:{type:"preprocess",transform:i},typeName:Se.ZodEffects,...De(n)});class Er extends Ve{_parse(e){return this._getType(e)===ce.undefined?fn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Er.create=(i,e)=>new Er({innerType:i,typeName:Se.ZodOptional,...De(e)});class ea extends Ve{_parse(e){return this._getType(e)===ce.null?fn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ea.create=(i,e)=>new ea({innerType:i,typeName:Se.ZodNullable,...De(e)});class cu extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e);let a=n.data;return n.parsedType===ce.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}cu.create=(i,e)=>new cu({innerType:i,typeName:Se.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...De(e)});class hu extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),a={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return eu(o)?o.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Cn(a.common.issues)},input:a.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Cn(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}hu.create=(i,e)=>new hu({innerType:i,typeName:Se.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...De(e)});class Oh extends Ve{_parse(e){if(this._getType(e)!==ce.nan){const a=this._getOrReturnCtx(e);return ue(a,{code:ie.invalid_type,expected:ce.nan,received:a.parsedType}),xe}return{status:"valid",value:e.data}}}Oh.create=i=>new Oh({typeName:Se.ZodNaN,...De(i)});const EN=Symbol("zod_brand");class zp extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),a=n.data;return this._def.type._parse({data:a,path:n.path,parent:n})}unwrap(){return this._def.type}}class bu extends Ve{_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return u.status==="aborted"?xe:u.status==="dirty"?(n.dirty(),Js(u.value)):this._def.out._parseAsync({data:u.value,path:a.path,parent:a})})();{const o=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?xe:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:a.path,parent:a})}}static create(e,n){return new bu({in:e,out:n,typeName:Se.ZodPipeline})}}class fu extends Ve{_parse(e){const n=this._def.innerType._parse(e),a=o=>($a(o)&&(o.value=Object.freeze(o.value)),o);return eu(n)?n.then(o=>a(o)):a(n)}unwrap(){return this._def.innerType}}fu.create=(i,e)=>new fu({innerType:i,typeName:Se.ZodReadonly,...De(e)});function R0(i,e){const n=typeof i=="function"?i(e):typeof i=="string"?{message:i}:i;return typeof n=="string"?{message:n}:n}function WT(i,e={},n){return i?ho.create().superRefine((a,o)=>{var u,f;const m=i(a);if(m instanceof Promise)return m.then(p=>{var g,E;if(!p){const S=R0(e,a),w=(E=(g=S.fatal)!==null&&g!==void 0?g:n)!==null&&E!==void 0?E:!0;o.addIssue({code:"custom",...S,fatal:w})}});if(!m){const p=R0(e,a),g=(f=(u=p.fatal)!==null&&u!==void 0?u:n)!==null&&f!==void 0?f:!0;o.addIssue({code:"custom",...p,fatal:g})}}):ho.create()}const TN={object:mt.lazycreate};var Se;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(Se||(Se={}));const bN=(i,e={message:`Input not instance of ${i.name}`})=>WT(n=>n instanceof i,e),e1=$n.create,t1=Xi.create,AN=Oh.create,SN=Ji.create,n1=tu.create,wN=Za.create,xN=Nh.create,RN=nu.create,CN=ru.create,NN=ho.create,DN=Fa.create,IN=si.create,ON=Dh.create,VN=Xn.create,MN=mt.create,kN=mt.strictCreate,jN=iu.create,PN=Jh.create,LN=au.create,UN=wr.create,zN=su.create,BN=Ih.create,qN=Ka.create,HN=to.create,FN=ou.create,GN=lu.create,QN=Wi.create,YN=uu.create,$N=fo.create,C0=Wn.create,ZN=Er.create,KN=ea.create,XN=Wn.createWithPreprocess,JN=bu.create,WN=()=>e1().optional(),eD=()=>t1().optional(),tD=()=>n1().optional(),nD={string:i=>$n.create({...i,coerce:!0}),number:i=>Xi.create({...i,coerce:!0}),boolean:i=>tu.create({...i,coerce:!0}),bigint:i=>Ji.create({...i,coerce:!0}),date:i=>Za.create({...i,coerce:!0})},rD=xe;var Pi=Object.freeze({__proto__:null,defaultErrorMap:co,setErrorMap:XC,getErrorMap:xh,makeIssue:Rh,EMPTY_PATH:JC,addIssueToContext:ue,ParseStatus:on,INVALID:xe,DIRTY:Js,OK:fn,isAborted:Gm,isDirty:Qm,isValid:$a,isAsync:eu,get util(){return Qe},get objectUtil(){return Fm},ZodParsedType:ce,getParsedType:ei,ZodType:Ve,datetimeRegex:XT,ZodString:$n,ZodNumber:Xi,ZodBigInt:Ji,ZodBoolean:tu,ZodDate:Za,ZodSymbol:Nh,ZodUndefined:nu,ZodNull:ru,ZodAny:ho,ZodUnknown:Fa,ZodNever:si,ZodVoid:Dh,ZodArray:Xn,ZodObject:mt,ZodUnion:iu,ZodDiscriminatedUnion:Jh,ZodIntersection:au,ZodTuple:wr,ZodRecord:su,ZodMap:Ih,ZodSet:Ka,ZodFunction:to,ZodLazy:ou,ZodLiteral:lu,ZodEnum:Wi,ZodNativeEnum:uu,ZodPromise:fo,ZodEffects:Wn,ZodTransformer:Wn,ZodOptional:Er,ZodNullable:ea,ZodDefault:cu,ZodCatch:hu,ZodNaN:Oh,BRAND:EN,ZodBranded:zp,ZodPipeline:bu,ZodReadonly:fu,custom:WT,Schema:Ve,ZodSchema:Ve,late:TN,get ZodFirstPartyTypeKind(){return Se},coerce:nD,any:NN,array:VN,bigint:SN,boolean:n1,date:wN,discriminatedUnion:PN,effect:C0,enum:QN,function:HN,instanceof:bN,intersection:LN,lazy:FN,literal:GN,map:BN,nan:AN,nativeEnum:YN,never:IN,null:CN,nullable:KN,number:t1,object:MN,oboolean:tD,onumber:eD,optional:ZN,ostring:WN,pipeline:JN,preprocess:XN,promise:$N,record:zN,set:qN,strictObject:kN,string:e1,symbol:xN,transformer:C0,tuple:UN,undefined:RN,union:jN,unknown:DN,void:ON,NEVER:rD,ZodIssueCode:ie,quotelessJson:KC,ZodError:Cn});const iD=i=>Pi.object({email:Pi.string().email(i.emailError),password:Pi.string().nonempty(i.passwordError)});function r1(){return T.jsx("div",{className:"ship-icon",children:T.jsx(Y0,{color:"white",size:24})})}function aD(){const[i,e]=H.useState({email:"",password:""}),[n,a]=H.useState({}),{translations:o}=Up(),u=pu(),f=H.useMemo(()=>iD(o),[o]),m=async p=>{var E,S;p.preventDefault();const g=f.safeParse(i);if(!g.success){const w=g.error.format();a({email:(E=w.email)==null?void 0:E._errors[0],password:(S=w.password)==null?void 0:S._errors[0]});return}a({});try{console.log("Login attempt with:",g.data),await new Promise(w=>setTimeout(w,1e3)),localStorage.setItem("currentUser",JSON.stringify({email:i.email,name:"Usuário Demo",id:"demo-user-123"})),console.log("Usuario logado com sucesso"),u("/home")}catch(w){console.log("Erro ao logar:",w)}console.log("Login attempt with:",g.data)};return T.jsxs("div",{className:"login-form-container",children:[T.jsxs("div",{className:"logo-container",children:[T.jsx(r1,{}),T.jsx("h1",{children:"Sea Logistics"})]}),T.jsx("h2",{children:o.welcomeMessage}),T.jsxs("form",{onSubmit:m,className:"login-form",noValidate:!0,children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"email",children:o.email}),T.jsx("input",{id:"email",value:i.email,onChange:p=>e({...i,email:p.target.value}),placeholder:o.emailPlaceholder,required:!0}),n.email&&T.jsx("p",{className:"error-text",children:n.email})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"password",children:o.password}),T.jsx("input",{type:"password",id:"password",value:i.password,onChange:p=>e({...i,password:p.target.value}),placeholder:o.passwordPlaceholder,required:!0}),n.password&&T.jsx("p",{className:"error-text",children:n.password})]}),T.jsx("button",{type:"submit",className:"login-button",children:o.loginButton})]}),T.jsxs("div",{className:"register-link",children:[o.dontHaveAccount,T.jsxs("a",{className:"register-link-button",onClick:()=>u("/register"),children:[" ",o.registerLink]})]})]})}const sD=()=>T.jsx(uo,{children:T.jsx("main",{className:"login-container",children:T.jsxs("div",{className:"login-card",children:[T.jsx(aD,{}),T.jsx(QT,{})]})})}),oD=i=>Pi.object({name:Pi.string().nonempty(i.nameError),email:Pi.string().email(i.emailError),password:Pi.string().min(6,i.passwordError),confirmPassword:Pi.string().min(6,i.confirmPasswordError)}).refine(e=>e.password===e.confirmPassword,{message:i.passwordsDontMatch,path:["confirmPassword"]});function lD(){const[i,e]=H.useState({name:"",email:"",password:"",confirmPassword:""}),[n,a]=H.useState({}),{translations:o}=Up(),u=pu(),f=H.useMemo(()=>oD(o),[o]),m=async p=>{var I,F,B,$;p.preventDefault();const{name:g,email:E,password:S,confirmPassword:w}=i;if(console.log(i),S!==w){alert("As senhas não coincidem.");return}const C=f.safeParse(i);if(!C.success){const re=C.error.format();a({name:(I=re.name)==null?void 0:I._errors[0],email:(F=re.email)==null?void 0:F._errors[0],password:(B=re.password)==null?void 0:B._errors[0],confirmPassword:($=re.confirmPassword)==null?void 0:$._errors[0]});return}a({});try{console.log("Dados do usuário:",{name:g,email:E}),await new Promise(te=>setTimeout(te,1e3));const re=`user_${Date.now()}`;await UC(Ha(Ui,"users",re),{name:g??"",email:E,createdAt:new Date}),localStorage.setItem("currentUser",JSON.stringify({email:E,name:g??"Usuário",id:re})),console.log("Usuário cadastrado com sucesso"),u("/home")}catch(re){console.error("Erro ao cadastrar:",re),alert("Erro ao cadastrar. Verifique os dados e tente novamente.")}};return T.jsxs("div",{className:"split-card",children:[T.jsx("div",{className:"split-branding",children:T.jsxs("div",{className:"split-branding-content",children:[T.jsx("div",{className:"split-logo",children:T.jsx(r1,{})}),T.jsx("h1",{className:"split-logo-text",children:"Sea Logistics"}),T.jsx("p",{className:"split-description",children:o.registerText})]})}),T.jsxs("div",{className:"split-form-container",children:[T.jsx("h2",{className:"split-title",children:o.createAccount}),T.jsxs("form",{onSubmit:m,className:"split-form",noValidate:!0,children:[T.jsxs("div",{className:"split-form-group",children:[T.jsx("label",{htmlFor:"name",children:o.name}),T.jsx("input",{id:"name",value:i.name,onChange:p=>e({...i,name:p.target.value}),placeholder:o.namePlaceholder,required:!0}),n.name&&T.jsx("p",{className:"error-text",children:n.name})]}),T.jsxs("div",{className:"split-form-group",children:[T.jsx("label",{htmlFor:"email",children:o.email}),T.jsx("input",{id:"email",type:"email",value:i.email,onChange:p=>e({...i,email:p.target.value}),placeholder:o.emailPlaceholder,required:!0}),n.email&&T.jsx("p",{className:"error-text",children:n.email})]}),T.jsxs("div",{className:"split-password-grid",children:[T.jsxs("div",{className:"split-form-group",children:[T.jsx("label",{htmlFor:"password",children:o.password}),T.jsx("input",{id:"password",type:"password",value:i.password,onChange:p=>e({...i,password:p.target.value}),placeholder:o.passwordPlaceholder,required:!0}),n.password&&T.jsx("p",{className:"error-text",children:n.password})]}),T.jsxs("div",{className:"split-form-group",children:[T.jsx("label",{htmlFor:"confirm-password",children:o.confirmPassword}),T.jsx("input",{id:"confirm-password",type:"password",value:i.confirmPassword,onChange:p=>e({...i,confirmPassword:p.target.value}),placeholder:o.confirmPasswordPlaceholder,required:!0}),n.confirmPassword&&T.jsx("p",{className:"error-text",children:n.confirmPassword})]})]}),T.jsx("button",{type:"submit",className:"split-button",children:o.registerButton})]}),T.jsxs("div",{className:"split-login-link",children:[o.alreadyHaveAccount," ",T.jsx("a",{onClick:()=>u("/"),className:"split-link",children:o.loginLink})]}),T.jsx(QT,{})]})]})}const uD=()=>T.jsx(uo,{children:T.jsx("main",{className:"login-container",children:T.jsx(lD,{})})}),cD=()=>{const e=(()=>{const C=localStorage.getItem("currentUser");return C?JSON.parse(C):{id:"demo-user-123",email:"demo@sealogistics.com",name:"Usuário Demo"}})(),n=e.id,[a,o]=H.useState({name:"",email:"",phone:"",company:"",position:"",notifications:{email:!0,push:!0,statusUpdates:!0,newShipments:!0},preferences:{language:"pt",timezone:"America/Sao_Paulo",dateFormat:"DD/MM/YYYY",theme:"light"}}),[u,f]=H.useState(!1),[m,p]=H.useState(!1);H.useEffect(()=>{g()},[]);const g=async()=>{f(!0);try{const C=await LC(Ha(Ui,"users",n));if(C.exists()){const I=C.data();o({name:I.name||e.name||"",email:I.email||e.email||"",phone:I.phone||"",company:I.company||"",position:I.position||"",notifications:I.notifications||a.notifications,preferences:I.preferences||a.preferences})}else{const I={name:e.name||"Usuário Demo",email:e.email||"demo@sealogistics.com",phone:"",company:"",position:"",notifications:a.notifications,preferences:a.preferences,createdAt:new Date};await lh(Ha(Ui,"users",n),I),o(F=>({...F,...I}))}}catch(C){console.error("Erro ao carregar configurações:",C);try{const I={name:e.name||"Usuário Demo",email:e.email||"demo@sealogistics.com",phone:"",company:"",position:"",notifications:a.notifications,preferences:a.preferences,createdAt:new Date};await lh(Ha(Ui,"users",n),I),o(F=>({...F,...I}))}catch(I){console.error("Erro ao criar documento do usuário:",I)}}finally{f(!1)}},E=(C,I)=>{o(F=>({...F,[C]:I}))},S=(C,I,F)=>{o(B=>({...B,[C]:{...B[C],[I]:F}}))},w=async()=>{p(!0);try{await lh(Ha(Ui,"users",n),{name:a.name,email:a.email,phone:a.phone,company:a.company,position:a.position,notifications:a.notifications,preferences:a.preferences,updatedAt:new Date}),alert("Configurações salvas com sucesso!")}catch(C){console.error("Erro ao salvar configurações:",C),alert("Erro ao salvar configurações. Tente novamente.")}finally{p(!1)}};return u?T.jsx(uo,{children:T.jsxs("main",{className:"settings-container",children:[T.jsx(ch,{}),T.jsx("div",{className:"settings-content",children:T.jsx("div",{className:"loading-message",children:"Carregando configurações..."})}),T.jsx(_m,{})]})}):T.jsx(uo,{children:T.jsxs("main",{className:"settings-container",children:[T.jsx(ch,{}),T.jsx("div",{className:"settings-content",children:T.jsxs("div",{className:"settings-wrapper",children:[T.jsxs("div",{className:"settings-header",children:[T.jsx("h1",{children:"Configurações da conta"}),T.jsx("p",{children:"Gerencie suas informações pessoais e preferências"})]}),T.jsxs("div",{className:"settings-sections",children:[T.jsxs("div",{className:"settings-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsx($0,{size:20}),T.jsx("h2",{children:"Informações Pessoais"})]}),T.jsxs("div",{className:"form-grid",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"name",children:"Nome Completo"}),T.jsx("input",{type:"text",id:"name",value:a.name,onChange:C=>E("name",C.target.value),placeholder:"Digite seu nome completo"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"email",children:"E-mail"}),T.jsx("input",{type:"email",id:"email",value:a.email,onChange:C=>E("email",C.target.value),placeholder:"seu@email.com"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"phone",children:"Telefone"}),T.jsx("input",{type:"tel",id:"phone",value:a.phone,onChange:C=>E("phone",C.target.value),placeholder:"(11) 99999-9999"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"company",children:"Empresa"}),T.jsx("input",{type:"text",id:"company",value:a.company,onChange:C=>E("company",C.target.value),placeholder:"Nome da empresa"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"position",children:"Cargo"}),T.jsx("input",{type:"text",id:"position",value:a.position,onChange:C=>E("position",C.target.value),placeholder:"Seu cargo na empresa"})]})]})]}),T.jsxs("div",{className:"settings-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsx(dS,{size:20}),T.jsx("h2",{children:"Notificações"})]}),T.jsxs("div",{className:"notification-settings",children:[T.jsxs("div",{className:"notification-item",children:[T.jsxs("div",{className:"notification-info",children:[T.jsx("h3",{children:"Notificações por E-mail"}),T.jsx("p",{children:"Receba atualizações importantes por e-mail"})]}),T.jsxs("label",{className:"switch",children:[T.jsx("input",{type:"checkbox",checked:a.notifications.email,onChange:C=>S("notifications","email",C.target.checked)}),T.jsx("span",{className:"slider"})]})]}),T.jsxs("div",{className:"notification-item",children:[T.jsxs("div",{className:"notification-info",children:[T.jsx("h3",{children:"Notificações Push"}),T.jsx("p",{children:"Receba notificações em tempo real no navegador"})]}),T.jsxs("label",{className:"switch",children:[T.jsx("input",{type:"checkbox",checked:a.notifications.push,onChange:C=>S("notifications","push",C.target.checked)}),T.jsx("span",{className:"slider"})]})]}),T.jsxs("div",{className:"notification-item",children:[T.jsxs("div",{className:"notification-info",children:[T.jsx("h3",{children:"Atualizações de Status"}),T.jsx("p",{children:"Seja notificado quando o status dos envios mudar"})]}),T.jsxs("label",{className:"switch",children:[T.jsx("input",{type:"checkbox",checked:a.notifications.statusUpdates,onChange:C=>S("notifications","statusUpdates",C.target.checked)}),T.jsx("span",{className:"slider"})]})]}),T.jsxs("div",{className:"notification-item",children:[T.jsxs("div",{className:"notification-info",children:[T.jsx("h3",{children:"Novos Envios"}),T.jsx("p",{children:"Receba notificações sobre novos envios criados"})]}),T.jsxs("label",{className:"switch",children:[T.jsx("input",{type:"checkbox",checked:a.notifications.newShipments,onChange:C=>S("notifications","newShipments",C.target.checked)}),T.jsx("span",{className:"slider"})]})]})]})]}),T.jsxs("div",{className:"settings-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsx(wS,{size:20}),T.jsx("h2",{children:"Preferências"})]}),T.jsxs("div",{className:"form-grid",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"language",children:"Idioma"}),T.jsxs("select",{id:"language",value:a.preferences.language,onChange:C=>S("preferences","language",C.target.value),children:[T.jsx("option",{value:"pt",children:"Português"}),T.jsx("option",{value:"en",children:"English"}),T.jsx("option",{value:"es",children:"Español"})]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"timezone",children:"Fuso Horário"}),T.jsxs("select",{id:"timezone",value:a.preferences.timezone,onChange:C=>S("preferences","timezone",C.target.value),children:[T.jsx("option",{value:"America/Sao_Paulo",children:"São Paulo (UTC-3)"}),T.jsx("option",{value:"America/New_York",children:"Nova York (UTC-5)"}),T.jsx("option",{value:"Europe/London",children:"Londres (UTC+0)"}),T.jsx("option",{value:"Asia/Shanghai",children:"Xangai (UTC+8)"})]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"dateFormat",children:"Formato de Data"}),T.jsxs("select",{id:"dateFormat",value:a.preferences.dateFormat,onChange:C=>S("preferences","dateFormat",C.target.value),children:[T.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/AAAA"}),T.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/AAAA"}),T.jsx("option",{value:"YYYY-MM-DD",children:"AAAA-MM-DD"})]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"theme",children:"Tema"}),T.jsxs("select",{id:"theme",value:a.preferences.theme,onChange:C=>S("preferences","theme",C.target.value),children:[T.jsx("option",{value:"light",children:"Claro"}),T.jsx("option",{value:"dark",children:"Escuro"}),T.jsx("option",{value:"auto",children:"Automático"})]})]})]})]})]}),T.jsx("div",{className:"settings-actions",children:T.jsxs("button",{className:"btn-save",onClick:w,disabled:m,children:[T.jsx(US,{size:16}),m?"Salvando...":"Salvar Configurações"]})})]})}),T.jsx(_m,{})]})})},hD=()=>{const i=pu(),{addShipment:e}=FT(),[n,a]=H.useState({clienteId:0,operador:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",quantBox:1,status:"Agendado",numeroBl:"",armador:"",booking:""}),[o,u]=H.useState(!1),f=[{id:1,nome:"João Silva",empresa:"Empresa ABC",email:"joao@empresa-abc.com"},{id:2,nome:"Maria Oliveira",empresa:"Indústria XYZ",email:"maria@industria-xyz.com"},{id:3,nome:"Carlos Mendes",empresa:"Comércio Global",email:"carlos@comercio-global.com"},{id:4,nome:"Ana Pereira",empresa:"Exportadora Sul",email:"ana@exportadora-sul.com"},{id:5,nome:"Roberto Costa",empresa:"Importações Norte",email:"roberto@imp-norte.com"}],m=["João Silva","Maria Oliveira","Carlos Mendes","Ana Pereira","Roberto Santos","Fernanda Lima"],p=["MSC","Maersk","CMA CGM","Hapag-Lloyd","COSCO","Evergreen"],g=["Santos, Brasil","Itajaí, Brasil","Paranaguá, Brasil","Rio Grande, Brasil","Suape, Brasil","Rotterdam, Holanda","Hamburgo, Alemanha","Barcelona, Espanha","Xangai, China","Singapura","Los Angeles, EUA","Nova York, EUA"],E=["Agendado","Em trânsito","Documentação","Concluído"],S=I=>{const{name:F,value:B}=I.target;a($=>({...$,[F]:F==="clienteId"||F==="quantBox"?parseInt(B):B}))},w=async I=>{I.preventDefault(),u(!0);try{const F=f.find($=>$.id===n.clienteId);if(!F){alert("Por favor, selecione um cliente válido.");return}const B={cliente:F.empresa,operador:n.operador,pol:n.pol,pod:n.pod,etdOrigem:n.etdOrigem,etaDestino:n.etaDestino,quantBox:n.quantBox,status:n.status,numeroBl:n.numeroBl,armador:n.armador,booking:n.booking};await e(B),alert("Envio registrado com sucesso!"),a({clienteId:0,operador:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",quantBox:1,status:"Agendado",numeroBl:"",armador:"",booking:""}),i("/home")}catch(F){console.error("Erro ao criar envio:",F),alert("Erro ao registrar envio. Tente novamente.")}finally{u(!1)}},C=f.find(I=>I.id===n.clienteId);return T.jsx(uo,{children:T.jsxs("main",{className:"novo-envio-main",children:[T.jsx(ch,{}),T.jsx("div",{className:"novo-envio-content",children:T.jsxs("div",{className:"novo-envio-container",children:[T.jsxs("div",{className:"novo-envio-header",children:[T.jsx("div",{className:"header-icon",children:T.jsx(Y0,{size:32})}),T.jsxs("div",{className:"header-content",children:[T.jsx("h1",{children:"Novo Envio"}),T.jsx("p",{children:"Registre um novo envio marítimo no sistema"})]})]}),T.jsxs("form",{onSubmit:w,className:"novo-envio-form",children:[T.jsxs("div",{className:"form-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsx($0,{size:20}),T.jsx("h2",{children:"Informações do Cliente"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"clienteId",children:"Cliente *"}),T.jsxs("select",{id:"clienteId",name:"clienteId",value:n.clienteId,onChange:S,required:!0,children:[T.jsx("option",{value:0,children:"Selecione um cliente"}),f.map(I=>T.jsxs("option",{value:I.id,children:[I.empresa," - ",I.nome]},I.id))]})]}),C&&T.jsx("div",{className:"cliente-info",children:T.jsxs("div",{className:"cliente-card",children:[T.jsx("h3",{children:C.empresa}),T.jsxs("p",{children:[T.jsx("strong",{children:"Contato:"})," ",C.nome]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Email:"})," ",C.email]})]})})]}),T.jsxs("div",{className:"form-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsx(kS,{size:20}),T.jsx("h2",{children:"Informações Operacionais"})]}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"operador",children:"Operador Responsável *"}),T.jsxs("select",{id:"operador",name:"operador",value:n.operador,onChange:S,required:!0,children:[T.jsx("option",{value:"",children:"Selecione um operador"}),m.map(I=>T.jsx("option",{value:I,children:I},I))]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"status",children:"Status Inicial"}),T.jsx("select",{id:"status",name:"status",value:n.status,onChange:S,children:E.map(I=>T.jsx("option",{value:I,children:I},I))})]})]}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"armador",children:"Armador *"}),T.jsxs("select",{id:"armador",name:"armador",value:n.armador,onChange:S,required:!0,children:[T.jsx("option",{value:"",children:"Selecione um armador"}),p.map(I=>T.jsx("option",{value:I,children:I},I))]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"quantBox",children:"Quantidade de Containers *"}),T.jsx("input",{type:"number",id:"quantBox",name:"quantBox",value:n.quantBox,onChange:S,min:"1",max:"100",required:!0})]})]})]}),T.jsxs("div",{className:"form-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsx(NS,{size:20}),T.jsx("h2",{children:"Portos e Cronograma"})]}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"pol",children:"Porto de Origem (POL) *"}),T.jsxs("select",{id:"pol",name:"pol",value:n.pol,onChange:S,required:!0,children:[T.jsx("option",{value:"",children:"Selecione o porto de origem"}),g.map(I=>T.jsx("option",{value:I,children:I},I))]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"pod",children:"Porto de Destino (POD) *"}),T.jsxs("select",{id:"pod",name:"pod",value:n.pod,onChange:S,required:!0,children:[T.jsx("option",{value:"",children:"Selecione o porto de destino"}),g.map(I=>T.jsx("option",{value:I,children:I},I))]})]})]}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"etdOrigem",children:"Data de Partida (ETD) *"}),T.jsx("input",{type:"date",id:"etdOrigem",name:"etdOrigem",value:n.etdOrigem,onChange:S,required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"etaDestino",children:"Data Prevista Chegada (ETA) *"}),T.jsx("input",{type:"date",id:"etaDestino",name:"etaDestino",value:n.etaDestino,onChange:S,required:!0})]})]})]}),T.jsxs("div",{className:"form-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsx(AS,{size:20}),T.jsx("h2",{children:"Documentação"})]}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"numeroBl",children:"Número do BL *"}),T.jsx("input",{type:"text",id:"numeroBl",name:"numeroBl",value:n.numeroBl,onChange:S,placeholder:"Ex: BL123456789",required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"booking",children:"Número do Booking *"}),T.jsx("input",{type:"text",id:"booking",name:"booking",value:n.booking,onChange:S,placeholder:"Ex: BK987654321",required:!0})]})]})]}),T.jsxs("div",{className:"form-actions",children:[T.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>window.history.back(),children:"Cancelar"}),T.jsx("button",{type:"submit",className:"btn-submit",disabled:o,children:o?"Registrando...":"Registrar Envio"})]})]})]})})]})})},fD=()=>T.jsx(QC,{children:T.jsx(XA,{children:T.jsxs(RA,{children:[T.jsx(Qs,{path:"/",element:T.jsx(sD,{})}),T.jsx(Qs,{path:"/register",element:T.jsx(uD,{})}),T.jsx(Qs,{path:"/home",element:T.jsx(ZC,{})}),T.jsx(Qs,{path:"/novo-envio",element:T.jsx(hD,{})}),T.jsx(Qs,{path:"/settings",element:T.jsx(cD,{})})]})})});Pb.createRoot(document.getElementById("root")).render(T.jsx(H.StrictMode,{children:T.jsx(fD,{})}));
