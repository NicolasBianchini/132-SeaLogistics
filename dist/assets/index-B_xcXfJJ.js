function lC(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var q3={exports:{}},im={},H3={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=Symbol.for("react.element"),cC=Symbol.for("react.portal"),fC=Symbol.for("react.fragment"),hC=Symbol.for("react.strict_mode"),dC=Symbol.for("react.profiler"),pC=Symbol.for("react.provider"),mC=Symbol.for("react.context"),gC=Symbol.for("react.forward_ref"),vC=Symbol.for("react.suspense"),yC=Symbol.for("react.memo"),xC=Symbol.for("react.lazy"),X5=Symbol.iterator;function _C(t){return t===null||typeof t!="object"?null:(t=X5&&t[X5]||t["@@iterator"],typeof t=="function"?t:null)}var W3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$3=Object.assign,G3={};function Jf(t,e,r){this.props=t,this.context=e,this.refs=G3,this.updater=r||W3}Jf.prototype.isReactComponent={};Jf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function K3(){}K3.prototype=Jf.prototype;function py(t,e,r){this.props=t,this.context=e,this.refs=G3,this.updater=r||W3}var my=py.prototype=new K3;my.constructor=py;$3(my,Jf.prototype);my.isPureReactComponent=!0;var Q5=Array.isArray,Y3=Object.prototype.hasOwnProperty,gy={current:null},X3={key:!0,ref:!0,__self:!0,__source:!0};function Q3(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Y3.call(e,n)&&!X3.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:o0,type:t,key:s,ref:a,props:i,_owner:gy.current}}function wC(t,e){return{$$typeof:o0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vy(t){return typeof t=="object"&&t!==null&&t.$$typeof===o0}function EC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var J5=/\/+/g;function _g(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EC(""+t.key):e.toString(36)}function Ip(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case o0:case cC:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+_g(a,0):n,Q5(i)?(r="",t!=null&&(r=t.replace(J5,"$&/")+"/"),Ip(i,e,r,"",function(u){return u})):i!=null&&(vy(i)&&(i=wC(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(J5,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Q5(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+_g(s,o);a+=Ip(s,e,r,l,i)}else if(l=_C(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+_g(s,o++),a+=Ip(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function X0(t,e,r){if(t==null)return t;var n=[],i=0;return Ip(t,n,"","",function(s){return e.call(r,s,i++)}),n}function SC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wi={current:null},Pp={transition:null},AC={ReactCurrentDispatcher:Wi,ReactCurrentBatchConfig:Pp,ReactCurrentOwner:gy};function J3(){throw Error("act(...) is not supported in production builds of React.")}er.Children={map:X0,forEach:function(t,e,r){X0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return X0(t,function(){e++}),e},toArray:function(t){return X0(t,function(e){return e})||[]},only:function(t){if(!vy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};er.Component=Jf;er.Fragment=fC;er.Profiler=dC;er.PureComponent=py;er.StrictMode=hC;er.Suspense=vC;er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC;er.act=J3;er.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=$3({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=gy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Y3.call(e,l)&&!X3.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:o0,type:t.type,key:i,ref:s,props:n,_owner:a}};er.createContext=function(t){return t={$$typeof:mC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pC,_context:t},t.Consumer=t};er.createElement=Q3;er.createFactory=function(t){var e=Q3.bind(null,t);return e.type=t,e};er.createRef=function(){return{current:null}};er.forwardRef=function(t){return{$$typeof:gC,render:t}};er.isValidElement=vy;er.lazy=function(t){return{$$typeof:xC,_payload:{_status:-1,_result:t},_init:SC}};er.memo=function(t,e){return{$$typeof:yC,type:t,compare:e===void 0?null:e}};er.startTransition=function(t){var e=Pp.transition;Pp.transition={};try{t()}finally{Pp.transition=e}};er.unstable_act=J3;er.useCallback=function(t,e){return Wi.current.useCallback(t,e)};er.useContext=function(t){return Wi.current.useContext(t)};er.useDebugValue=function(){};er.useDeferredValue=function(t){return Wi.current.useDeferredValue(t)};er.useEffect=function(t,e){return Wi.current.useEffect(t,e)};er.useId=function(){return Wi.current.useId()};er.useImperativeHandle=function(t,e,r){return Wi.current.useImperativeHandle(t,e,r)};er.useInsertionEffect=function(t,e){return Wi.current.useInsertionEffect(t,e)};er.useLayoutEffect=function(t,e){return Wi.current.useLayoutEffect(t,e)};er.useMemo=function(t,e){return Wi.current.useMemo(t,e)};er.useReducer=function(t,e,r){return Wi.current.useReducer(t,e,r)};er.useRef=function(t){return Wi.current.useRef(t)};er.useState=function(t){return Wi.current.useState(t)};er.useSyncExternalStore=function(t,e,r){return Wi.current.useSyncExternalStore(t,e,r)};er.useTransition=function(){return Wi.current.useTransition()};er.version="18.3.1";H3.exports=er;var be=H3.exports;const TC=uC(be),NC=lC({__proto__:null,default:TC},[be]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC=be,CC=Symbol.for("react.element"),kC=Symbol.for("react.fragment"),IC=Object.prototype.hasOwnProperty,PC=bC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LC={key:!0,ref:!0,__self:!0,__source:!0};function Z3(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)IC.call(e,n)&&!LC.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:CC,type:t,key:s,ref:a,props:i,_owner:PC.current}}im.Fragment=kC;im.jsx=Z3;im.jsxs=Z3;q3.exports=im;var y=q3.exports,eE={exports:{}},Rs={},tE={exports:{}},rE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,ce){var me=te.length;te.push(ce);e:for(;0<me;){var Be=me-1>>>1,I=te[Be];if(0<i(I,ce))te[Be]=ce,te[me]=I,me=Be;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var ce=te[0],me=te.pop();if(me!==ce){te[0]=me;e:for(var Be=0,I=te.length,M=I>>>1;Be<M;){var B=2*(Be+1)-1,z=te[B],ee=B+1,fe=te[ee];if(0>i(z,me))ee<I&&0>i(fe,z)?(te[Be]=fe,te[ee]=me,Be=ee):(te[Be]=z,te[B]=me,Be=B);else if(ee<I&&0>i(fe,me))te[Be]=fe,te[ee]=me,Be=ee;else break e}}return ce}function i(te,ce){var me=te.sortIndex-ce.sortIndex;return me!==0?me:te.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,h=null,p=3,m=!1,x=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(te){for(var ce=r(u);ce!==null;){if(ce.callback===null)n(u);else if(ce.startTime<=te)n(u),ce.sortIndex=ce.expirationTime,e(l,ce);else break;ce=r(u)}}function j(te){if(g=!1,T(te),!x)if(r(l)!==null)x=!0,he(X);else{var ce=r(u);ce!==null&&ge(j,ce.startTime-te)}}function X(te,ce){x=!1,g&&(g=!1,w(C),C=-1),m=!0;var me=p;try{for(T(ce),h=r(l);h!==null&&(!(h.expirationTime>ce)||te&&!k());){var Be=h.callback;if(typeof Be=="function"){h.callback=null,p=h.priorityLevel;var I=Be(h.expirationTime<=ce);ce=t.unstable_now(),typeof I=="function"?h.callback=I:h===r(l)&&n(l),T(ce)}else n(l);h=r(l)}if(h!==null)var M=!0;else{var B=r(u);B!==null&&ge(j,B.startTime-ce),M=!1}return M}finally{h=null,p=me,m=!1}}var J=!1,P=null,C=-1,R=5,O=-1;function k(){return!(t.unstable_now()-O<R)}function N(){if(P!==null){var te=t.unstable_now();O=te;var ce=!0;try{ce=P(!0,te)}finally{ce?F():(J=!1,P=null)}}else J=!1}var F;if(typeof E=="function")F=function(){E(N)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,re=ne.port2;ne.port1.onmessage=N,F=function(){re.postMessage(null)}}else F=function(){S(N,0)};function he(te){P=te,J||(J=!0,F())}function ge(te,ce){C=S(function(){te(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,he(X))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(te){switch(p){case 1:case 2:case 3:var ce=3;break;default:ce=p}var me=p;p=ce;try{return te()}finally{p=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var me=p;p=te;try{return ce()}finally{p=me}},t.unstable_scheduleCallback=function(te,ce,me){var Be=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,te){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=me+I,te={id:c++,callback:ce,priorityLevel:te,startTime:me,expirationTime:I,sortIndex:-1},me>Be?(te.sortIndex=me,e(u,te),r(l)===null&&te===r(u)&&(g?(w(C),C=-1):g=!0,ge(j,me-Be))):(te.sortIndex=I,e(l,te),x||m||(x=!0,he(X))),te},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(te){var ce=p;return function(){var me=p;p=ce;try{return te.apply(this,arguments)}finally{p=me}}}})(rE);tE.exports=rE;var RC=tE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC=be,Is=RC;function tt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nE=new Set,_d={};function sc(t,e){If(t,e),If(t+"Capture",e)}function If(t,e){for(_d[t]=e,t=0;t<e.length;t++)nE.add(e[t])}var ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A2=Object.prototype.hasOwnProperty,DC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z5={},e_={};function OC(t){return A2.call(e_,t)?!0:A2.call(Z5,t)?!1:DC.test(t)?e_[t]=!0:(Z5[t]=!0,!1)}function jC(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MC(t,e,r,n){if(e===null||typeof e>"u"||jC(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $i(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var di={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){di[t]=new $i(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];di[e]=new $i(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){di[t]=new $i(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){di[t]=new $i(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){di[t]=new $i(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){di[t]=new $i(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){di[t]=new $i(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){di[t]=new $i(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){di[t]=new $i(t,5,!1,t.toLowerCase(),null,!1,!1)});var yy=/[\-:]([a-z])/g;function xy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yy,xy);di[e]=new $i(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yy,xy);di[e]=new $i(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yy,xy);di[e]=new $i(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){di[t]=new $i(t,1,!1,t.toLowerCase(),null,!1,!1)});di.xlinkHref=new $i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){di[t]=new $i(t,1,!1,t.toLowerCase(),null,!0,!0)});function _y(t,e,r,n){var i=di.hasOwnProperty(e)?di[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MC(e,r,i,n)&&(r=null),n||i===null?OC(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var zo=FC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q0=Symbol.for("react.element"),Xc=Symbol.for("react.portal"),Qc=Symbol.for("react.fragment"),wy=Symbol.for("react.strict_mode"),T2=Symbol.for("react.profiler"),iE=Symbol.for("react.provider"),sE=Symbol.for("react.context"),Ey=Symbol.for("react.forward_ref"),N2=Symbol.for("react.suspense"),b2=Symbol.for("react.suspense_list"),Sy=Symbol.for("react.memo"),wl=Symbol.for("react.lazy"),aE=Symbol.for("react.offscreen"),t_=Symbol.iterator;function Ph(t){return t===null||typeof t!="object"?null:(t=t_&&t[t_]||t["@@iterator"],typeof t=="function"?t:null)}var sn=Object.assign,wg;function qh(t){if(wg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);wg=e&&e[1]||""}return`
`+wg+t}var Eg=!1;function Sg(t,e){if(!t||Eg)return"";Eg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Eg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?qh(t):""}function BC(t){switch(t.tag){case 5:return qh(t.type);case 16:return qh("Lazy");case 13:return qh("Suspense");case 19:return qh("SuspenseList");case 0:case 2:case 15:return t=Sg(t.type,!1),t;case 11:return t=Sg(t.type.render,!1),t;case 1:return t=Sg(t.type,!0),t;default:return""}}function C2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qc:return"Fragment";case Xc:return"Portal";case T2:return"Profiler";case wy:return"StrictMode";case N2:return"Suspense";case b2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sE:return(t.displayName||"Context")+".Consumer";case iE:return(t._context.displayName||"Context")+".Provider";case Ey:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sy:return e=t.displayName||null,e!==null?e:C2(t.type)||"Memo";case wl:e=t._payload,t=t._init;try{return C2(t(e))}catch{}}return null}function VC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C2(e);case 8:return e===wy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UC(t){var e=oE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function J0(t){t._valueTracker||(t._valueTracker=UC(t))}function lE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=oE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Qp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function k2(t,e){var r=e.checked;return sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function r_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Gl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uE(t,e){e=e.checked,e!=null&&_y(t,"checked",e,!1)}function I2(t,e){uE(t,e);var r=Gl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?P2(t,e.type,r):e.hasOwnProperty("defaultValue")&&P2(t,e.type,Gl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function P2(t,e,r){(e!=="number"||Qp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Hh=Array.isArray;function hf(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Gl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function L2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(tt(91));return sn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function i_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(tt(92));if(Hh(r)){if(1<r.length)throw Error(tt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Gl(r)}}function cE(t,e){var r=Gl(e.value),n=Gl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function s_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Z0,hE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Z0=Z0||document.createElement("div"),Z0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Z0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Zh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zC=["Webkit","ms","Moz","O"];Object.keys(Zh).forEach(function(t){zC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zh[e]=Zh[t]})});function dE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Zh.hasOwnProperty(t)&&Zh[t]?(""+e).trim():e+"px"}function pE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=dE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var qC=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function F2(t,e){if(e){if(qC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(tt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(tt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(tt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(tt(62))}}function D2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O2=null;function Ay(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var j2=null,df=null,pf=null;function a_(t){if(t=c0(t)){if(typeof j2!="function")throw Error(tt(280));var e=t.stateNode;e&&(e=um(e),j2(t.stateNode,t.type,e))}}function mE(t){df?pf?pf.push(t):pf=[t]:df=t}function gE(){if(df){var t=df,e=pf;if(pf=df=null,a_(t),e)for(t=0;t<e.length;t++)a_(e[t])}}function vE(t,e){return t(e)}function yE(){}var Ag=!1;function xE(t,e,r){if(Ag)return t(e,r);Ag=!0;try{return vE(t,e,r)}finally{Ag=!1,(df!==null||pf!==null)&&(yE(),gE())}}function Ed(t,e){var r=t.stateNode;if(r===null)return null;var n=um(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(tt(231,e,typeof r));return r}var M2=!1;if(ko)try{var Lh={};Object.defineProperty(Lh,"passive",{get:function(){M2=!0}}),window.addEventListener("test",Lh,Lh),window.removeEventListener("test",Lh,Lh)}catch{M2=!1}function HC(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var ed=!1,Jp=null,Zp=!1,B2=null,WC={onError:function(t){ed=!0,Jp=t}};function $C(t,e,r,n,i,s,a,o,l){ed=!1,Jp=null,HC.apply(WC,arguments)}function GC(t,e,r,n,i,s,a,o,l){if($C.apply(this,arguments),ed){if(ed){var u=Jp;ed=!1,Jp=null}else throw Error(tt(198));Zp||(Zp=!0,B2=u)}}function ac(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function _E(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o_(t){if(ac(t)!==t)throw Error(tt(188))}function KC(t){var e=t.alternate;if(!e){if(e=ac(t),e===null)throw Error(tt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return o_(i),t;if(s===n)return o_(i),e;s=s.sibling}throw Error(tt(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(tt(189))}}if(r.alternate!==n)throw Error(tt(190))}if(r.tag!==3)throw Error(tt(188));return r.stateNode.current===r?t:e}function wE(t){return t=KC(t),t!==null?EE(t):null}function EE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EE(t);if(e!==null)return e;t=t.sibling}return null}var SE=Is.unstable_scheduleCallback,l_=Is.unstable_cancelCallback,YC=Is.unstable_shouldYield,XC=Is.unstable_requestPaint,yn=Is.unstable_now,QC=Is.unstable_getCurrentPriorityLevel,Ty=Is.unstable_ImmediatePriority,AE=Is.unstable_UserBlockingPriority,e1=Is.unstable_NormalPriority,JC=Is.unstable_LowPriority,TE=Is.unstable_IdlePriority,sm=null,Ha=null;function ZC(t){if(Ha&&typeof Ha.onCommitFiberRoot=="function")try{Ha.onCommitFiberRoot(sm,t,void 0,(t.current.flags&128)===128)}catch{}}var Ea=Math.clz32?Math.clz32:rk,ek=Math.log,tk=Math.LN2;function rk(t){return t>>>=0,t===0?32:31-(ek(t)/tk|0)|0}var ep=64,tp=4194304;function Wh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function t1(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Wh(o):(s&=a,s!==0&&(n=Wh(s)))}else a=r&~i,a!==0?n=Wh(a):s!==0&&(n=Wh(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ea(e),i=1<<r,n|=t[r],e&=~i;return n}function nk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ik(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ea(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=nk(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function V2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NE(){var t=ep;return ep<<=1,!(ep&4194240)&&(ep=64),t}function Tg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function l0(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ea(e),t[e]=r}function sk(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ea(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Ny(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ea(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Pr=0;function bE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CE,by,kE,IE,PE,U2=!1,rp=[],Fl=null,Dl=null,Ol=null,Sd=new Map,Ad=new Map,Al=[],ak="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u_(t,e){switch(t){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":Dl=null;break;case"mouseover":case"mouseout":Ol=null;break;case"pointerover":case"pointerout":Sd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ad.delete(e.pointerId)}}function Rh(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=c0(e),e!==null&&by(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ok(t,e,r,n,i){switch(e){case"focusin":return Fl=Rh(Fl,t,e,r,n,i),!0;case"dragenter":return Dl=Rh(Dl,t,e,r,n,i),!0;case"mouseover":return Ol=Rh(Ol,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Sd.set(s,Rh(Sd.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ad.set(s,Rh(Ad.get(s)||null,t,e,r,n,i)),!0}return!1}function LE(t){var e=Du(t.target);if(e!==null){var r=ac(e);if(r!==null){if(e=r.tag,e===13){if(e=_E(r),e!==null){t.blockedOn=e,PE(t.priority,function(){kE(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=z2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);O2=n,r.target.dispatchEvent(n),O2=null}else return e=c0(r),e!==null&&by(e),t.blockedOn=r,!1;e.shift()}return!0}function c_(t,e,r){Lp(t)&&r.delete(e)}function lk(){U2=!1,Fl!==null&&Lp(Fl)&&(Fl=null),Dl!==null&&Lp(Dl)&&(Dl=null),Ol!==null&&Lp(Ol)&&(Ol=null),Sd.forEach(c_),Ad.forEach(c_)}function Fh(t,e){t.blockedOn===e&&(t.blockedOn=null,U2||(U2=!0,Is.unstable_scheduleCallback(Is.unstable_NormalPriority,lk)))}function Td(t){function e(i){return Fh(i,t)}if(0<rp.length){Fh(rp[0],t);for(var r=1;r<rp.length;r++){var n=rp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fl!==null&&Fh(Fl,t),Dl!==null&&Fh(Dl,t),Ol!==null&&Fh(Ol,t),Sd.forEach(e),Ad.forEach(e),r=0;r<Al.length;r++)n=Al[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Al.length&&(r=Al[0],r.blockedOn===null);)LE(r),r.blockedOn===null&&Al.shift()}var mf=zo.ReactCurrentBatchConfig,r1=!0;function uk(t,e,r,n){var i=Pr,s=mf.transition;mf.transition=null;try{Pr=1,Cy(t,e,r,n)}finally{Pr=i,mf.transition=s}}function ck(t,e,r,n){var i=Pr,s=mf.transition;mf.transition=null;try{Pr=4,Cy(t,e,r,n)}finally{Pr=i,mf.transition=s}}function Cy(t,e,r,n){if(r1){var i=z2(t,e,r,n);if(i===null)Dg(t,e,n,n1,r),u_(t,n);else if(ok(i,t,e,r,n))n.stopPropagation();else if(u_(t,n),e&4&&-1<ak.indexOf(t)){for(;i!==null;){var s=c0(i);if(s!==null&&CE(s),s=z2(t,e,r,n),s===null&&Dg(t,e,n,n1,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Dg(t,e,n,null,r)}}var n1=null;function z2(t,e,r,n){if(n1=null,t=Ay(n),t=Du(t),t!==null)if(e=ac(t),e===null)t=null;else if(r=e.tag,r===13){if(t=_E(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return n1=t,null}function RE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QC()){case Ty:return 1;case AE:return 4;case e1:case JC:return 16;case TE:return 536870912;default:return 16}default:return 16}}var Nl=null,ky=null,Rp=null;function FE(){if(Rp)return Rp;var t,e=ky,r=e.length,n,i="value"in Nl?Nl.value:Nl.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Rp=i.slice(t,1<n?1-n:void 0)}function Fp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function np(){return!0}function f_(){return!1}function Fs(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?np:f_,this.isPropagationStopped=f_,this}return sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=np)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=np)},persist:function(){},isPersistent:np}),e}var Zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iy=Fs(Zf),u0=sn({},Zf,{view:0,detail:0}),fk=Fs(u0),Ng,bg,Dh,am=sn({},u0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Py,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dh&&(Dh&&t.type==="mousemove"?(Ng=t.screenX-Dh.screenX,bg=t.screenY-Dh.screenY):bg=Ng=0,Dh=t),Ng)},movementY:function(t){return"movementY"in t?t.movementY:bg}}),h_=Fs(am),hk=sn({},am,{dataTransfer:0}),dk=Fs(hk),pk=sn({},u0,{relatedTarget:0}),Cg=Fs(pk),mk=sn({},Zf,{animationName:0,elapsedTime:0,pseudoElement:0}),gk=Fs(mk),vk=sn({},Zf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yk=Fs(vk),xk=sn({},Zf,{data:0}),d_=Fs(xk),_k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ek={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ek[t])?!!e[t]:!1}function Py(){return Sk}var Ak=sn({},u0,{key:function(t){if(t.key){var e=_k[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Py,charCode:function(t){return t.type==="keypress"?Fp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tk=Fs(Ak),Nk=sn({},am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p_=Fs(Nk),bk=sn({},u0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Py}),Ck=Fs(bk),kk=sn({},Zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ik=Fs(kk),Pk=sn({},am,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lk=Fs(Pk),Rk=[9,13,27,32],Ly=ko&&"CompositionEvent"in window,td=null;ko&&"documentMode"in document&&(td=document.documentMode);var Fk=ko&&"TextEvent"in window&&!td,DE=ko&&(!Ly||td&&8<td&&11>=td),m_=" ",g_=!1;function OE(t,e){switch(t){case"keyup":return Rk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jc=!1;function Dk(t,e){switch(t){case"compositionend":return jE(e);case"keypress":return e.which!==32?null:(g_=!0,m_);case"textInput":return t=e.data,t===m_&&g_?null:t;default:return null}}function Ok(t,e){if(Jc)return t==="compositionend"||!Ly&&OE(t,e)?(t=FE(),Rp=ky=Nl=null,Jc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DE&&e.locale!=="ko"?null:e.data;default:return null}}var jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jk[t.type]:e==="textarea"}function ME(t,e,r,n){mE(n),e=i1(e,"onChange"),0<e.length&&(r=new Iy("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var rd=null,Nd=null;function Mk(t){YE(t,0)}function om(t){var e=tf(t);if(lE(e))return t}function Bk(t,e){if(t==="change")return e}var BE=!1;if(ko){var kg;if(ko){var Ig="oninput"in document;if(!Ig){var y_=document.createElement("div");y_.setAttribute("oninput","return;"),Ig=typeof y_.oninput=="function"}kg=Ig}else kg=!1;BE=kg&&(!document.documentMode||9<document.documentMode)}function x_(){rd&&(rd.detachEvent("onpropertychange",VE),Nd=rd=null)}function VE(t){if(t.propertyName==="value"&&om(Nd)){var e=[];ME(e,Nd,t,Ay(t)),xE(Mk,e)}}function Vk(t,e,r){t==="focusin"?(x_(),rd=e,Nd=r,rd.attachEvent("onpropertychange",VE)):t==="focusout"&&x_()}function Uk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return om(Nd)}function zk(t,e){if(t==="click")return om(e)}function qk(t,e){if(t==="input"||t==="change")return om(e)}function Hk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ta=typeof Object.is=="function"?Object.is:Hk;function bd(t,e){if(Ta(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!A2.call(e,i)||!Ta(t[i],e[i]))return!1}return!0}function __(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w_(t,e){var r=__(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=__(r)}}function UE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?UE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zE(){for(var t=window,e=Qp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Qp(t.document)}return e}function Ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Wk(t){var e=zE(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&UE(r.ownerDocument.documentElement,r)){if(n!==null&&Ry(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=w_(r,s);var a=w_(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $k=ko&&"documentMode"in document&&11>=document.documentMode,Zc=null,q2=null,nd=null,H2=!1;function E_(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;H2||Zc==null||Zc!==Qp(n)||(n=Zc,"selectionStart"in n&&Ry(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nd&&bd(nd,n)||(nd=n,n=i1(q2,"onSelect"),0<n.length&&(e=new Iy("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Zc)))}function ip(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ef={animationend:ip("Animation","AnimationEnd"),animationiteration:ip("Animation","AnimationIteration"),animationstart:ip("Animation","AnimationStart"),transitionend:ip("Transition","TransitionEnd")},Pg={},qE={};ko&&(qE=document.createElement("div").style,"AnimationEvent"in window||(delete ef.animationend.animation,delete ef.animationiteration.animation,delete ef.animationstart.animation),"TransitionEvent"in window||delete ef.transitionend.transition);function lm(t){if(Pg[t])return Pg[t];if(!ef[t])return t;var e=ef[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in qE)return Pg[t]=e[r];return t}var HE=lm("animationend"),WE=lm("animationiteration"),$E=lm("animationstart"),GE=lm("transitionend"),KE=new Map,S_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function su(t,e){KE.set(t,e),sc(e,[t])}for(var Lg=0;Lg<S_.length;Lg++){var Rg=S_[Lg],Gk=Rg.toLowerCase(),Kk=Rg[0].toUpperCase()+Rg.slice(1);su(Gk,"on"+Kk)}su(HE,"onAnimationEnd");su(WE,"onAnimationIteration");su($E,"onAnimationStart");su("dblclick","onDoubleClick");su("focusin","onFocus");su("focusout","onBlur");su(GE,"onTransitionEnd");If("onMouseEnter",["mouseout","mouseover"]);If("onMouseLeave",["mouseout","mouseover"]);If("onPointerEnter",["pointerout","pointerover"]);If("onPointerLeave",["pointerout","pointerover"]);sc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sc("onBeforeInput",["compositionend","keypress","textInput","paste"]);sc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yk=new Set("cancel close invalid load scroll toggle".split(" ").concat($h));function A_(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,GC(n,e,void 0,t),t.currentTarget=null}function YE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;A_(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;A_(i,o,u),s=l}}}if(Zp)throw t=B2,Zp=!1,B2=null,t}function Kr(t,e){var r=e[Y2];r===void 0&&(r=e[Y2]=new Set);var n=t+"__bubble";r.has(n)||(XE(e,t,2,!1),r.add(n))}function Fg(t,e,r){var n=0;e&&(n|=4),XE(r,t,n,e)}var sp="_reactListening"+Math.random().toString(36).slice(2);function Cd(t){if(!t[sp]){t[sp]=!0,nE.forEach(function(r){r!=="selectionchange"&&(Yk.has(r)||Fg(r,!1,t),Fg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sp]||(e[sp]=!0,Fg("selectionchange",!1,e))}}function XE(t,e,r,n){switch(RE(e)){case 1:var i=uk;break;case 4:i=ck;break;default:i=Cy}r=i.bind(null,e,r,t),i=void 0,!M2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Dg(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Du(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}xE(function(){var u=s,c=Ay(r),h=[];e:{var p=KE.get(t);if(p!==void 0){var m=Iy,x=t;switch(t){case"keypress":if(Fp(r)===0)break e;case"keydown":case"keyup":m=Tk;break;case"focusin":x="focus",m=Cg;break;case"focusout":x="blur",m=Cg;break;case"beforeblur":case"afterblur":m=Cg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=h_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Ck;break;case HE:case WE:case $E:m=gk;break;case GE:m=Ik;break;case"scroll":m=fk;break;case"wheel":m=Lk;break;case"copy":case"cut":case"paste":m=yk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=p_}var g=(e&4)!==0,S=!g&&t==="scroll",w=g?p!==null?p+"Capture":null:p;g=[];for(var E=u,T;E!==null;){T=E;var j=T.stateNode;if(T.tag===5&&j!==null&&(T=j,w!==null&&(j=Ed(E,w),j!=null&&g.push(kd(E,j,T)))),S)break;E=E.return}0<g.length&&(p=new m(p,x,null,r,c),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&r!==O2&&(x=r.relatedTarget||r.fromElement)&&(Du(x)||x[Io]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?Du(x):null,x!==null&&(S=ac(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(g=h_,j="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(g=p_,j="onPointerLeave",w="onPointerEnter",E="pointer"),S=m==null?p:tf(m),T=x==null?p:tf(x),p=new g(j,E+"leave",m,r,c),p.target=S,p.relatedTarget=T,j=null,Du(c)===u&&(g=new g(w,E+"enter",x,r,c),g.target=T,g.relatedTarget=S,j=g),S=j,m&&x)t:{for(g=m,w=x,E=0,T=g;T;T=jc(T))E++;for(T=0,j=w;j;j=jc(j))T++;for(;0<E-T;)g=jc(g),E--;for(;0<T-E;)w=jc(w),T--;for(;E--;){if(g===w||w!==null&&g===w.alternate)break t;g=jc(g),w=jc(w)}g=null}else g=null;m!==null&&T_(h,p,m,g,!1),x!==null&&S!==null&&T_(h,S,x,g,!0)}}e:{if(p=u?tf(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var X=Bk;else if(v_(p))if(BE)X=qk;else{X=Uk;var J=Vk}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(X=zk);if(X&&(X=X(t,u))){ME(h,X,r,c);break e}J&&J(t,p,u),t==="focusout"&&(J=p._wrapperState)&&J.controlled&&p.type==="number"&&P2(p,"number",p.value)}switch(J=u?tf(u):window,t){case"focusin":(v_(J)||J.contentEditable==="true")&&(Zc=J,q2=u,nd=null);break;case"focusout":nd=q2=Zc=null;break;case"mousedown":H2=!0;break;case"contextmenu":case"mouseup":case"dragend":H2=!1,E_(h,r,c);break;case"selectionchange":if($k)break;case"keydown":case"keyup":E_(h,r,c)}var P;if(Ly)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Jc?OE(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(DE&&r.locale!=="ko"&&(Jc||C!=="onCompositionStart"?C==="onCompositionEnd"&&Jc&&(P=FE()):(Nl=c,ky="value"in Nl?Nl.value:Nl.textContent,Jc=!0)),J=i1(u,C),0<J.length&&(C=new d_(C,t,null,r,c),h.push({event:C,listeners:J}),P?C.data=P:(P=jE(r),P!==null&&(C.data=P)))),(P=Fk?Dk(t,r):Ok(t,r))&&(u=i1(u,"onBeforeInput"),0<u.length&&(c=new d_("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=P))}YE(h,e)})}function kd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function i1(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ed(t,r),s!=null&&n.unshift(kd(t,s,i)),s=Ed(t,e),s!=null&&n.push(kd(t,s,i))),t=t.return}return n}function jc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function T_(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Ed(r,s),l!=null&&a.unshift(kd(r,l,o))):i||(l=Ed(r,s),l!=null&&a.push(kd(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Xk=/\r\n?/g,Qk=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(Xk,`
`).replace(Qk,"")}function ap(t,e,r){if(e=N_(e),N_(t)!==e&&r)throw Error(tt(425))}function s1(){}var W2=null,$2=null;function G2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var K2=typeof setTimeout=="function"?setTimeout:void 0,Jk=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,Zk=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(t){return b_.resolve(null).then(t).catch(eI)}:K2;function eI(t){setTimeout(function(){throw t})}function Og(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Td(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Td(e)}function jl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var eh=Math.random().toString(36).slice(2),za="__reactFiber$"+eh,Id="__reactProps$"+eh,Io="__reactContainer$"+eh,Y2="__reactEvents$"+eh,tI="__reactListeners$"+eh,rI="__reactHandles$"+eh;function Du(t){var e=t[za];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Io]||r[za]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=C_(t);t!==null;){if(r=t[za])return r;t=C_(t)}return e}t=r,r=t.parentNode}return null}function c0(t){return t=t[za]||t[Io],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(tt(33))}function um(t){return t[Id]||null}var X2=[],rf=-1;function au(t){return{current:t}}function Qr(t){0>rf||(t.current=X2[rf],X2[rf]=null,rf--)}function Hr(t,e){rf++,X2[rf]=t.current,t.current=e}var Kl={},Li=au(Kl),is=au(!1),$u=Kl;function Pf(t,e){var r=t.type.contextTypes;if(!r)return Kl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ss(t){return t=t.childContextTypes,t!=null}function a1(){Qr(is),Qr(Li)}function k_(t,e,r){if(Li.current!==Kl)throw Error(tt(168));Hr(Li,e),Hr(is,r)}function QE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(tt(108,VC(t)||"Unknown",i));return sn({},r,n)}function o1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kl,$u=Li.current,Hr(Li,t),Hr(is,is.current),!0}function I_(t,e,r){var n=t.stateNode;if(!n)throw Error(tt(169));r?(t=QE(t,e,$u),n.__reactInternalMemoizedMergedChildContext=t,Qr(is),Qr(Li),Hr(Li,t)):Qr(is),Hr(is,r)}var xo=null,cm=!1,jg=!1;function JE(t){xo===null?xo=[t]:xo.push(t)}function nI(t){cm=!0,JE(t)}function ou(){if(!jg&&xo!==null){jg=!0;var t=0,e=Pr;try{var r=xo;for(Pr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}xo=null,cm=!1}catch(i){throw xo!==null&&(xo=xo.slice(t+1)),SE(Ty,ou),i}finally{Pr=e,jg=!1}}return null}var nf=[],sf=0,l1=null,u1=0,Ws=[],$s=0,Gu=null,_o=1,wo="";function ku(t,e){nf[sf++]=u1,nf[sf++]=l1,l1=t,u1=e}function ZE(t,e,r){Ws[$s++]=_o,Ws[$s++]=wo,Ws[$s++]=Gu,Gu=t;var n=_o;t=wo;var i=32-Ea(n)-1;n&=~(1<<i),r+=1;var s=32-Ea(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,_o=1<<32-Ea(e)+i|r<<i|n,wo=s+t}else _o=1<<s|r<<i|n,wo=t}function Fy(t){t.return!==null&&(ku(t,1),ZE(t,1,0))}function Dy(t){for(;t===l1;)l1=nf[--sf],nf[sf]=null,u1=nf[--sf],nf[sf]=null;for(;t===Gu;)Gu=Ws[--$s],Ws[$s]=null,wo=Ws[--$s],Ws[$s]=null,_o=Ws[--$s],Ws[$s]=null}var ks=null,Ns=null,en=!1,xa=null;function eS(t,e){var r=Gs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function P_(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ks=t,Ns=jl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ks=t,Ns=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Gu!==null?{id:_o,overflow:wo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Gs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ks=t,Ns=null,!0):!1;default:return!1}}function Q2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function J2(t){if(en){var e=Ns;if(e){var r=e;if(!P_(t,e)){if(Q2(t))throw Error(tt(418));e=jl(r.nextSibling);var n=ks;e&&P_(t,e)?eS(n,r):(t.flags=t.flags&-4097|2,en=!1,ks=t)}}else{if(Q2(t))throw Error(tt(418));t.flags=t.flags&-4097|2,en=!1,ks=t}}}function L_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ks=t}function op(t){if(t!==ks)return!1;if(!en)return L_(t),en=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!G2(t.type,t.memoizedProps)),e&&(e=Ns)){if(Q2(t))throw tS(),Error(tt(418));for(;e;)eS(t,e),e=jl(e.nextSibling)}if(L_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(tt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ns=jl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ns=null}}else Ns=ks?jl(t.stateNode.nextSibling):null;return!0}function tS(){for(var t=Ns;t;)t=jl(t.nextSibling)}function Lf(){Ns=ks=null,en=!1}function Oy(t){xa===null?xa=[t]:xa.push(t)}var iI=zo.ReactCurrentBatchConfig;function Oh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(tt(309));var n=r.stateNode}if(!n)throw Error(tt(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(tt(284));if(!r._owner)throw Error(tt(290,t))}return t}function lp(t,e){throw t=Object.prototype.toString.call(e),Error(tt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function R_(t){var e=t._init;return e(t._payload)}function rS(t){function e(w,E){if(t){var T=w.deletions;T===null?(w.deletions=[E],w.flags|=16):T.push(E)}}function r(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function n(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=Ul(w,E),w.index=0,w.sibling=null,w}function s(w,E,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<E?(w.flags|=2,E):T):(w.flags|=2,E)):(w.flags|=1048576,E)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,E,T,j){return E===null||E.tag!==6?(E=Hg(T,w.mode,j),E.return=w,E):(E=i(E,T),E.return=w,E)}function l(w,E,T,j){var X=T.type;return X===Qc?c(w,E,T.props.children,j,T.key):E!==null&&(E.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===wl&&R_(X)===E.type)?(j=i(E,T.props),j.ref=Oh(w,E,T),j.return=w,j):(j=Up(T.type,T.key,T.props,null,w.mode,j),j.ref=Oh(w,E,T),j.return=w,j)}function u(w,E,T,j){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=Wg(T,w.mode,j),E.return=w,E):(E=i(E,T.children||[]),E.return=w,E)}function c(w,E,T,j,X){return E===null||E.tag!==7?(E=Vu(T,w.mode,j,X),E.return=w,E):(E=i(E,T),E.return=w,E)}function h(w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Hg(""+E,w.mode,T),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Q0:return T=Up(E.type,E.key,E.props,null,w.mode,T),T.ref=Oh(w,null,E),T.return=w,T;case Xc:return E=Wg(E,w.mode,T),E.return=w,E;case wl:var j=E._init;return h(w,j(E._payload),T)}if(Hh(E)||Ph(E))return E=Vu(E,w.mode,T,null),E.return=w,E;lp(w,E)}return null}function p(w,E,T,j){var X=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return X!==null?null:o(w,E,""+T,j);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Q0:return T.key===X?l(w,E,T,j):null;case Xc:return T.key===X?u(w,E,T,j):null;case wl:return X=T._init,p(w,E,X(T._payload),j)}if(Hh(T)||Ph(T))return X!==null?null:c(w,E,T,j,null);lp(w,T)}return null}function m(w,E,T,j,X){if(typeof j=="string"&&j!==""||typeof j=="number")return w=w.get(T)||null,o(E,w,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Q0:return w=w.get(j.key===null?T:j.key)||null,l(E,w,j,X);case Xc:return w=w.get(j.key===null?T:j.key)||null,u(E,w,j,X);case wl:var J=j._init;return m(w,E,T,J(j._payload),X)}if(Hh(j)||Ph(j))return w=w.get(T)||null,c(E,w,j,X,null);lp(E,j)}return null}function x(w,E,T,j){for(var X=null,J=null,P=E,C=E=0,R=null;P!==null&&C<T.length;C++){P.index>C?(R=P,P=null):R=P.sibling;var O=p(w,P,T[C],j);if(O===null){P===null&&(P=R);break}t&&P&&O.alternate===null&&e(w,P),E=s(O,E,C),J===null?X=O:J.sibling=O,J=O,P=R}if(C===T.length)return r(w,P),en&&ku(w,C),X;if(P===null){for(;C<T.length;C++)P=h(w,T[C],j),P!==null&&(E=s(P,E,C),J===null?X=P:J.sibling=P,J=P);return en&&ku(w,C),X}for(P=n(w,P);C<T.length;C++)R=m(P,w,C,T[C],j),R!==null&&(t&&R.alternate!==null&&P.delete(R.key===null?C:R.key),E=s(R,E,C),J===null?X=R:J.sibling=R,J=R);return t&&P.forEach(function(k){return e(w,k)}),en&&ku(w,C),X}function g(w,E,T,j){var X=Ph(T);if(typeof X!="function")throw Error(tt(150));if(T=X.call(T),T==null)throw Error(tt(151));for(var J=X=null,P=E,C=E=0,R=null,O=T.next();P!==null&&!O.done;C++,O=T.next()){P.index>C?(R=P,P=null):R=P.sibling;var k=p(w,P,O.value,j);if(k===null){P===null&&(P=R);break}t&&P&&k.alternate===null&&e(w,P),E=s(k,E,C),J===null?X=k:J.sibling=k,J=k,P=R}if(O.done)return r(w,P),en&&ku(w,C),X;if(P===null){for(;!O.done;C++,O=T.next())O=h(w,O.value,j),O!==null&&(E=s(O,E,C),J===null?X=O:J.sibling=O,J=O);return en&&ku(w,C),X}for(P=n(w,P);!O.done;C++,O=T.next())O=m(P,w,C,O.value,j),O!==null&&(t&&O.alternate!==null&&P.delete(O.key===null?C:O.key),E=s(O,E,C),J===null?X=O:J.sibling=O,J=O);return t&&P.forEach(function(N){return e(w,N)}),en&&ku(w,C),X}function S(w,E,T,j){if(typeof T=="object"&&T!==null&&T.type===Qc&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Q0:e:{for(var X=T.key,J=E;J!==null;){if(J.key===X){if(X=T.type,X===Qc){if(J.tag===7){r(w,J.sibling),E=i(J,T.props.children),E.return=w,w=E;break e}}else if(J.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===wl&&R_(X)===J.type){r(w,J.sibling),E=i(J,T.props),E.ref=Oh(w,J,T),E.return=w,w=E;break e}r(w,J);break}else e(w,J);J=J.sibling}T.type===Qc?(E=Vu(T.props.children,w.mode,j,T.key),E.return=w,w=E):(j=Up(T.type,T.key,T.props,null,w.mode,j),j.ref=Oh(w,E,T),j.return=w,w=j)}return a(w);case Xc:e:{for(J=T.key;E!==null;){if(E.key===J)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){r(w,E.sibling),E=i(E,T.children||[]),E.return=w,w=E;break e}else{r(w,E);break}else e(w,E);E=E.sibling}E=Wg(T,w.mode,j),E.return=w,w=E}return a(w);case wl:return J=T._init,S(w,E,J(T._payload),j)}if(Hh(T))return x(w,E,T,j);if(Ph(T))return g(w,E,T,j);lp(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(r(w,E.sibling),E=i(E,T),E.return=w,w=E):(r(w,E),E=Hg(T,w.mode,j),E.return=w,w=E),a(w)):r(w,E)}return S}var Rf=rS(!0),nS=rS(!1),c1=au(null),f1=null,af=null,jy=null;function My(){jy=af=f1=null}function By(t){var e=c1.current;Qr(c1),t._currentValue=e}function Z2(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function gf(t,e){f1=t,jy=af=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ns=!0),t.firstContext=null)}function Qs(t){var e=t._currentValue;if(jy!==t)if(t={context:t,memoizedValue:e,next:null},af===null){if(f1===null)throw Error(tt(308));af=t,f1.dependencies={lanes:0,firstContext:t}}else af=af.next=t;return e}var Ou=null;function Vy(t){Ou===null?Ou=[t]:Ou.push(t)}function iS(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Vy(e)):(r.next=i.next,i.next=r),e.interleaved=r,Po(t,n)}function Po(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var El=!1;function Uy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function So(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ml(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,fr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Po(t,r)}return i=n.interleaved,i===null?(e.next=e,Vy(n)):(e.next=i.next,i.next=e),n.interleaved=e,Po(t,r)}function Dp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ny(t,r)}}function F_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function h1(t,e,r,n){var i=t.updateQueue;El=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,c=u=l=null,o=s;do{var p=o.lane,m=o.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,g=o;switch(p=e,m=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){h=x.call(m,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,p=typeof x=="function"?x.call(m,h,p):x,p==null)break e;h=sn({},h,p);break e;case 2:El=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Yu|=a,t.lanes=a,t.memoizedState=h}}function D_(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(tt(191,i));i.call(n)}}}var f0={},Wa=au(f0),Pd=au(f0),Ld=au(f0);function ju(t){if(t===f0)throw Error(tt(174));return t}function zy(t,e){switch(Hr(Ld,e),Hr(Pd,t),Hr(Wa,f0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:R2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=R2(e,t)}Qr(Wa),Hr(Wa,e)}function Ff(){Qr(Wa),Qr(Pd),Qr(Ld)}function aS(t){ju(Ld.current);var e=ju(Wa.current),r=R2(e,t.type);e!==r&&(Hr(Pd,t),Hr(Wa,r))}function qy(t){Pd.current===t&&(Qr(Wa),Qr(Pd))}var rn=au(0);function d1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mg=[];function Hy(){for(var t=0;t<Mg.length;t++)Mg[t]._workInProgressVersionPrimary=null;Mg.length=0}var Op=zo.ReactCurrentDispatcher,Bg=zo.ReactCurrentBatchConfig,Ku=0,nn=null,jn=null,Wn=null,p1=!1,id=!1,Rd=0,sI=0;function yi(){throw Error(tt(321))}function Wy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ta(t[r],e[r]))return!1;return!0}function $y(t,e,r,n,i,s){if(Ku=s,nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Op.current=t===null||t.memoizedState===null?uI:cI,t=r(n,i),id){s=0;do{if(id=!1,Rd=0,25<=s)throw Error(tt(301));s+=1,Wn=jn=null,e.updateQueue=null,Op.current=fI,t=r(n,i)}while(id)}if(Op.current=m1,e=jn!==null&&jn.next!==null,Ku=0,Wn=jn=nn=null,p1=!1,e)throw Error(tt(300));return t}function Gy(){var t=Rd!==0;return Rd=0,t}function Ua(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?nn.memoizedState=Wn=t:Wn=Wn.next=t,Wn}function Js(){if(jn===null){var t=nn.alternate;t=t!==null?t.memoizedState:null}else t=jn.next;var e=Wn===null?nn.memoizedState:Wn.next;if(e!==null)Wn=e,jn=t;else{if(t===null)throw Error(tt(310));jn=t,t={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},Wn===null?nn.memoizedState=Wn=t:Wn=Wn.next=t}return Wn}function Fd(t,e){return typeof e=="function"?e(t):e}function Vg(t){var e=Js(),r=e.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=t;var n=jn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Ku&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,nn.lanes|=c,Yu|=c}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,Ta(n,e.memoizedState)||(ns=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,nn.lanes|=s,Yu|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ug(t){var e=Js(),r=e.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ta(s,e.memoizedState)||(ns=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function oS(){}function lS(t,e){var r=nn,n=Js(),i=e(),s=!Ta(n.memoizedState,i);if(s&&(n.memoizedState=i,ns=!0),n=n.queue,Ky(fS.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Wn!==null&&Wn.memoizedState.tag&1){if(r.flags|=2048,Dd(9,cS.bind(null,r,n,i,e),void 0,null),Xn===null)throw Error(tt(349));Ku&30||uS(r,e,i)}return i}function uS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function cS(t,e,r,n){e.value=r,e.getSnapshot=n,hS(e)&&dS(t)}function fS(t,e,r){return r(function(){hS(e)&&dS(t)})}function hS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ta(t,r)}catch{return!0}}function dS(t){var e=Po(t,1);e!==null&&Sa(e,t,1,-1)}function O_(t){var e=Ua();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fd,lastRenderedState:t},e.queue=t,t=t.dispatch=lI.bind(null,nn,t),[e.memoizedState,t]}function Dd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function pS(){return Js().memoizedState}function jp(t,e,r,n){var i=Ua();nn.flags|=t,i.memoizedState=Dd(1|e,r,void 0,n===void 0?null:n)}function fm(t,e,r,n){var i=Js();n=n===void 0?null:n;var s=void 0;if(jn!==null){var a=jn.memoizedState;if(s=a.destroy,n!==null&&Wy(n,a.deps)){i.memoizedState=Dd(e,r,s,n);return}}nn.flags|=t,i.memoizedState=Dd(1|e,r,s,n)}function j_(t,e){return jp(8390656,8,t,e)}function Ky(t,e){return fm(2048,8,t,e)}function mS(t,e){return fm(4,2,t,e)}function gS(t,e){return fm(4,4,t,e)}function vS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yS(t,e,r){return r=r!=null?r.concat([t]):null,fm(4,4,vS.bind(null,e,t),r)}function Yy(){}function xS(t,e){var r=Js();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Wy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function _S(t,e){var r=Js();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Wy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function wS(t,e,r){return Ku&21?(Ta(r,e)||(r=NE(),nn.lanes|=r,Yu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ns=!0),t.memoizedState=r)}function aI(t,e){var r=Pr;Pr=r!==0&&4>r?r:4,t(!0);var n=Bg.transition;Bg.transition={};try{t(!1),e()}finally{Pr=r,Bg.transition=n}}function ES(){return Js().memoizedState}function oI(t,e,r){var n=Vl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},SS(t))AS(e,r);else if(r=iS(t,e,r,n),r!==null){var i=qi();Sa(r,t,n,i),TS(r,e,n)}}function lI(t,e,r){var n=Vl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(SS(t))AS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Ta(o,a)){var l=e.interleaved;l===null?(i.next=i,Vy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=iS(t,e,i,n),r!==null&&(i=qi(),Sa(r,t,n,i),TS(r,e,n))}}function SS(t){var e=t.alternate;return t===nn||e!==null&&e===nn}function AS(t,e){id=p1=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function TS(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ny(t,r)}}var m1={readContext:Qs,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},uI={readContext:Qs,useCallback:function(t,e){return Ua().memoizedState=[t,e===void 0?null:e],t},useContext:Qs,useEffect:j_,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,jp(4194308,4,vS.bind(null,e,t),r)},useLayoutEffect:function(t,e){return jp(4194308,4,t,e)},useInsertionEffect:function(t,e){return jp(4,2,t,e)},useMemo:function(t,e){var r=Ua();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ua();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=oI.bind(null,nn,t),[n.memoizedState,t]},useRef:function(t){var e=Ua();return t={current:t},e.memoizedState=t},useState:O_,useDebugValue:Yy,useDeferredValue:function(t){return Ua().memoizedState=t},useTransition:function(){var t=O_(!1),e=t[0];return t=aI.bind(null,t[1]),Ua().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=nn,i=Ua();if(en){if(r===void 0)throw Error(tt(407));r=r()}else{if(r=e(),Xn===null)throw Error(tt(349));Ku&30||uS(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,j_(fS.bind(null,n,s,t),[t]),n.flags|=2048,Dd(9,cS.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ua(),e=Xn.identifierPrefix;if(en){var r=wo,n=_o;r=(n&~(1<<32-Ea(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Rd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=sI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cI={readContext:Qs,useCallback:xS,useContext:Qs,useEffect:Ky,useImperativeHandle:yS,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:_S,useReducer:Vg,useRef:pS,useState:function(){return Vg(Fd)},useDebugValue:Yy,useDeferredValue:function(t){var e=Js();return wS(e,jn.memoizedState,t)},useTransition:function(){var t=Vg(Fd)[0],e=Js().memoizedState;return[t,e]},useMutableSource:oS,useSyncExternalStore:lS,useId:ES,unstable_isNewReconciler:!1},fI={readContext:Qs,useCallback:xS,useContext:Qs,useEffect:Ky,useImperativeHandle:yS,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:_S,useReducer:Ug,useRef:pS,useState:function(){return Ug(Fd)},useDebugValue:Yy,useDeferredValue:function(t){var e=Js();return jn===null?e.memoizedState=t:wS(e,jn.memoizedState,t)},useTransition:function(){var t=Ug(Fd)[0],e=Js().memoizedState;return[t,e]},useMutableSource:oS,useSyncExternalStore:lS,useId:ES,unstable_isNewReconciler:!1};function ga(t,e){if(t&&t.defaultProps){e=sn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ev(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:sn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hm={isMounted:function(t){return(t=t._reactInternals)?ac(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=qi(),i=Vl(t),s=So(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ml(t,s,i),e!==null&&(Sa(e,t,i,n),Dp(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=qi(),i=Vl(t),s=So(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ml(t,s,i),e!==null&&(Sa(e,t,i,n),Dp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=qi(),n=Vl(t),i=So(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ml(t,i,n),e!==null&&(Sa(e,t,n,r),Dp(e,t,n))}};function M_(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!bd(r,n)||!bd(i,s):!0}function NS(t,e,r){var n=!1,i=Kl,s=e.contextType;return typeof s=="object"&&s!==null?s=Qs(s):(i=ss(e)?$u:Li.current,n=e.contextTypes,s=(n=n!=null)?Pf(t,i):Kl),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function B_(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&hm.enqueueReplaceState(e,e.state,null)}function tv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Uy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qs(s):(s=ss(e)?$u:Li.current,i.context=Pf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ev(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hm.enqueueReplaceState(i,i.state,null),h1(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Df(t,e){try{var r="",n=e;do r+=BC(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function rv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var hI=typeof WeakMap=="function"?WeakMap:Map;function bS(t,e,r){r=So(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){v1||(v1=!0,hv=n),rv(t,e)},r}function CS(t,e,r){r=So(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){rv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){rv(t,e),typeof n!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function V_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new hI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=NI.bind(null,t,e,r),e.then(t,t))}function U_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z_(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=So(-1,1),e.tag=2,Ml(r,e,1))),r.lanes|=1),t)}var dI=zo.ReactCurrentOwner,ns=!1;function Vi(t,e,r,n){e.child=t===null?nS(e,null,r,n):Rf(e,t.child,r,n)}function q_(t,e,r,n,i){r=r.render;var s=e.ref;return gf(e,i),n=$y(t,e,r,n,s,i),r=Gy(),t!==null&&!ns?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lo(t,e,i)):(en&&r&&Fy(e),e.flags|=1,Vi(t,e,n,i),e.child)}function H_(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!nx(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,kS(t,e,s,n,i)):(t=Up(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:bd,r(a,n)&&t.ref===e.ref)return Lo(t,e,i)}return e.flags|=1,t=Ul(s,n),t.ref=e.ref,t.return=e,e.child=t}function kS(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(bd(s,n)&&t.ref===e.ref)if(ns=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ns=!0);else return e.lanes=t.lanes,Lo(t,e,i)}return nv(t,e,r,n,i)}function IS(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hr(lf,Es),Es|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Hr(lf,Es),Es|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Hr(lf,Es),Es|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Hr(lf,Es),Es|=n;return Vi(t,e,i,r),e.child}function PS(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function nv(t,e,r,n,i){var s=ss(r)?$u:Li.current;return s=Pf(e,s),gf(e,i),r=$y(t,e,r,n,s,i),n=Gy(),t!==null&&!ns?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lo(t,e,i)):(en&&n&&Fy(e),e.flags|=1,Vi(t,e,r,i),e.child)}function W_(t,e,r,n,i){if(ss(r)){var s=!0;o1(e)}else s=!1;if(gf(e,i),e.stateNode===null)Mp(t,e),NS(e,r,n),tv(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qs(u):(u=ss(r)?$u:Li.current,u=Pf(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&B_(e,a,n,u),El=!1;var p=e.memoizedState;a.state=p,h1(e,n,a,i),l=e.memoizedState,o!==n||p!==l||is.current||El?(typeof c=="function"&&(ev(e,r,c,n),l=e.memoizedState),(o=El||M_(e,r,o,n,p,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,sS(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ga(e.type,o),a.props=u,h=e.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Qs(l):(l=ss(r)?$u:Li.current,l=Pf(e,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||p!==l)&&B_(e,a,n,l),El=!1,p=e.memoizedState,a.state=p,h1(e,n,a,i);var x=e.memoizedState;o!==h||p!==x||is.current||El?(typeof m=="function"&&(ev(e,r,m,n),x=e.memoizedState),(u=El||M_(e,r,u,n,p,x,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),a.props=n,a.state=x,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return iv(t,e,r,n,s,i)}function iv(t,e,r,n,i,s){PS(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&I_(e,r,!1),Lo(t,e,s);n=e.stateNode,dI.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Rf(e,t.child,null,s),e.child=Rf(e,null,o,s)):Vi(t,e,o,s),e.memoizedState=n.state,i&&I_(e,r,!0),e.child}function LS(t){var e=t.stateNode;e.pendingContext?k_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&k_(t,e.context,!1),zy(t,e.containerInfo)}function $_(t,e,r,n,i){return Lf(),Oy(i),e.flags|=256,Vi(t,e,r,n),e.child}var sv={dehydrated:null,treeContext:null,retryLane:0};function av(t){return{baseLanes:t,cachePool:null,transitions:null}}function RS(t,e,r){var n=e.pendingProps,i=rn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Hr(rn,i&1),t===null)return J2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=mm(a,n,0,null),t=Vu(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=av(r),e.memoizedState=sv,t):Xy(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return pI(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ul(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ul(o,s):(s=Vu(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?av(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=sv,n}return s=t.child,t=s.sibling,n=Ul(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Xy(t,e){return e=mm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function up(t,e,r,n){return n!==null&&Oy(n),Rf(e,t.child,null,r),t=Xy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pI(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=zg(Error(tt(422))),up(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=mm({mode:"visible",children:n.children},i,0,null),s=Vu(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Rf(e,t.child,null,a),e.child.memoizedState=av(a),e.memoizedState=sv,s);if(!(e.mode&1))return up(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(tt(419)),n=zg(s,n,void 0),up(t,e,a,n)}if(o=(a&t.childLanes)!==0,ns||o){if(n=Xn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Po(t,i),Sa(n,t,i,-1))}return rx(),n=zg(Error(tt(421))),up(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ns=jl(i.nextSibling),ks=e,en=!0,xa=null,t!==null&&(Ws[$s++]=_o,Ws[$s++]=wo,Ws[$s++]=Gu,_o=t.id,wo=t.overflow,Gu=e),e=Xy(e,n.children),e.flags|=4096,e)}function G_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Z2(t.return,e,r)}function qg(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function FS(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Vi(t,e,n.children,r),n=rn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G_(t,r,e);else if(t.tag===19)G_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Hr(rn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&d1(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),qg(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&d1(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}qg(e,!0,r,null,s);break;case"together":qg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Yu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(tt(153));if(e.child!==null){for(t=e.child,r=Ul(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ul(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function mI(t,e,r){switch(e.tag){case 3:LS(e),Lf();break;case 5:aS(e);break;case 1:ss(e.type)&&o1(e);break;case 4:zy(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Hr(c1,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Hr(rn,rn.current&1),e.flags|=128,null):r&e.child.childLanes?RS(t,e,r):(Hr(rn,rn.current&1),t=Lo(t,e,r),t!==null?t.sibling:null);Hr(rn,rn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return FS(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Hr(rn,rn.current),n)break;return null;case 22:case 23:return e.lanes=0,IS(t,e,r)}return Lo(t,e,r)}var DS,ov,OS,jS;DS=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ov=function(){};OS=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ju(Wa.current);var s=null;switch(r){case"input":i=k2(t,i),n=k2(t,n),s=[];break;case"select":i=sn({},i,{value:void 0}),n=sn({},n,{value:void 0}),s=[];break;case"textarea":i=L2(t,i),n=L2(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=s1)}F2(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_d.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_d.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Kr("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};jS=function(t,e,r,n){r!==n&&(e.flags|=4)};function jh(t,e){if(!en)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function xi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function gI(t,e,r){var n=e.pendingProps;switch(Dy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(e),null;case 1:return ss(e.type)&&a1(),xi(e),null;case 3:return n=e.stateNode,Ff(),Qr(is),Qr(Li),Hy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(op(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xa!==null&&(mv(xa),xa=null))),ov(t,e),xi(e),null;case 5:qy(e);var i=ju(Ld.current);if(r=e.type,t!==null&&e.stateNode!=null)OS(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(tt(166));return xi(e),null}if(t=ju(Wa.current),op(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[za]=e,n[Id]=s,t=(e.mode&1)!==0,r){case"dialog":Kr("cancel",n),Kr("close",n);break;case"iframe":case"object":case"embed":Kr("load",n);break;case"video":case"audio":for(i=0;i<$h.length;i++)Kr($h[i],n);break;case"source":Kr("error",n);break;case"img":case"image":case"link":Kr("error",n),Kr("load",n);break;case"details":Kr("toggle",n);break;case"input":r_(n,s),Kr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Kr("invalid",n);break;case"textarea":i_(n,s),Kr("invalid",n)}F2(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&ap(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ap(n.textContent,o,t),i=["children",""+o]):_d.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Kr("scroll",n)}switch(r){case"input":J0(n),n_(n,s,!0);break;case"textarea":J0(n),s_(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=s1)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[za]=e,t[Id]=n,DS(t,e,!1,!1),e.stateNode=t;e:{switch(a=D2(r,n),r){case"dialog":Kr("cancel",t),Kr("close",t),i=n;break;case"iframe":case"object":case"embed":Kr("load",t),i=n;break;case"video":case"audio":for(i=0;i<$h.length;i++)Kr($h[i],t);i=n;break;case"source":Kr("error",t),i=n;break;case"img":case"image":case"link":Kr("error",t),Kr("load",t),i=n;break;case"details":Kr("toggle",t),i=n;break;case"input":r_(t,n),i=k2(t,n),Kr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=sn({},n,{value:void 0}),Kr("invalid",t);break;case"textarea":i_(t,n),i=L2(t,n),Kr("invalid",t);break;default:i=n}F2(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?pE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hE(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&wd(t,l):typeof l=="number"&&wd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_d.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kr("scroll",t):l!=null&&_y(t,s,l,a))}switch(r){case"input":J0(t),n_(t,n,!1);break;case"textarea":J0(t),s_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Gl(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?hf(t,!!n.multiple,s,!1):n.defaultValue!=null&&hf(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=s1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xi(e),null;case 6:if(t&&e.stateNode!=null)jS(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(tt(166));if(r=ju(Ld.current),ju(Wa.current),op(e)){if(n=e.stateNode,r=e.memoizedProps,n[za]=e,(s=n.nodeValue!==r)&&(t=ks,t!==null))switch(t.tag){case 3:ap(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ap(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[za]=e,e.stateNode=n}return xi(e),null;case 13:if(Qr(rn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(en&&Ns!==null&&e.mode&1&&!(e.flags&128))tS(),Lf(),e.flags|=98560,s=!1;else if(s=op(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(tt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(tt(317));s[za]=e}else Lf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xi(e),s=!1}else xa!==null&&(mv(xa),xa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||rn.current&1?Mn===0&&(Mn=3):rx())),e.updateQueue!==null&&(e.flags|=4),xi(e),null);case 4:return Ff(),ov(t,e),t===null&&Cd(e.stateNode.containerInfo),xi(e),null;case 10:return By(e.type._context),xi(e),null;case 17:return ss(e.type)&&a1(),xi(e),null;case 19:if(Qr(rn),s=e.memoizedState,s===null)return xi(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)jh(s,!1);else{if(Mn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=d1(t),a!==null){for(e.flags|=128,jh(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Hr(rn,rn.current&1|2),e.child}t=t.sibling}s.tail!==null&&yn()>Of&&(e.flags|=128,n=!0,jh(s,!1),e.lanes=4194304)}else{if(!n)if(t=d1(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),jh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!en)return xi(e),null}else 2*yn()-s.renderingStartTime>Of&&r!==1073741824&&(e.flags|=128,n=!0,jh(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yn(),e.sibling=null,r=rn.current,Hr(rn,n?r&1|2:r&1),e):(xi(e),null);case 22:case 23:return tx(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Es&1073741824&&(xi(e),e.subtreeFlags&6&&(e.flags|=8192)):xi(e),null;case 24:return null;case 25:return null}throw Error(tt(156,e.tag))}function vI(t,e){switch(Dy(e),e.tag){case 1:return ss(e.type)&&a1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ff(),Qr(is),Qr(Li),Hy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qy(e),null;case 13:if(Qr(rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(tt(340));Lf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qr(rn),null;case 4:return Ff(),null;case 10:return By(e.type._context),null;case 22:case 23:return tx(),null;case 24:return null;default:return null}}var cp=!1,Ni=!1,yI=typeof WeakSet=="function"?WeakSet:Set,wt=null;function of(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){hn(t,e,n)}else r.current=null}function lv(t,e,r){try{r()}catch(n){hn(t,e,n)}}var K_=!1;function xI(t,e){if(W2=r1,t=zE(),Ry(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,h=t,p=null;t:for(;;){for(var m;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===r&&++u===i&&(o=a),p===s&&++c===n&&(l=a),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for($2={focusedElem:t,selectionRange:r},r1=!1,wt=e;wt!==null;)if(e=wt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,wt=t;else for(;wt!==null;){e=wt;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,S=x.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:ga(e.type,g),S);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(j){hn(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,wt=t;break}wt=e.return}return x=K_,K_=!1,x}function sd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&lv(e,r,s)}i=i.next}while(i!==n)}}function dm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function uv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function MS(t){var e=t.alternate;e!==null&&(t.alternate=null,MS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[za],delete e[Id],delete e[Y2],delete e[tI],delete e[rI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BS(t){return t.tag===5||t.tag===3||t.tag===4}function Y_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=s1));else if(n!==4&&(t=t.child,t!==null))for(cv(t,e,r),t=t.sibling;t!==null;)cv(t,e,r),t=t.sibling}function fv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(fv(t,e,r),t=t.sibling;t!==null;)fv(t,e,r),t=t.sibling}var ii=null,ya=!1;function vl(t,e,r){for(r=r.child;r!==null;)VS(t,e,r),r=r.sibling}function VS(t,e,r){if(Ha&&typeof Ha.onCommitFiberUnmount=="function")try{Ha.onCommitFiberUnmount(sm,r)}catch{}switch(r.tag){case 5:Ni||of(r,e);case 6:var n=ii,i=ya;ii=null,vl(t,e,r),ii=n,ya=i,ii!==null&&(ya?(t=ii,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ii.removeChild(r.stateNode));break;case 18:ii!==null&&(ya?(t=ii,r=r.stateNode,t.nodeType===8?Og(t.parentNode,r):t.nodeType===1&&Og(t,r),Td(t)):Og(ii,r.stateNode));break;case 4:n=ii,i=ya,ii=r.stateNode.containerInfo,ya=!0,vl(t,e,r),ii=n,ya=i;break;case 0:case 11:case 14:case 15:if(!Ni&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&lv(r,e,a),i=i.next}while(i!==n)}vl(t,e,r);break;case 1:if(!Ni&&(of(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){hn(r,e,o)}vl(t,e,r);break;case 21:vl(t,e,r);break;case 22:r.mode&1?(Ni=(n=Ni)||r.memoizedState!==null,vl(t,e,r),Ni=n):vl(t,e,r);break;default:vl(t,e,r)}}function X_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new yI),e.forEach(function(n){var i=CI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function fa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ii=o.stateNode,ya=!1;break e;case 3:ii=o.stateNode.containerInfo,ya=!0;break e;case 4:ii=o.stateNode.containerInfo,ya=!0;break e}o=o.return}if(ii===null)throw Error(tt(160));VS(s,a,i),ii=null,ya=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){hn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)US(e,t),e=e.sibling}function US(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fa(e,t),ja(t),n&4){try{sd(3,t,t.return),dm(3,t)}catch(g){hn(t,t.return,g)}try{sd(5,t,t.return)}catch(g){hn(t,t.return,g)}}break;case 1:fa(e,t),ja(t),n&512&&r!==null&&of(r,r.return);break;case 5:if(fa(e,t),ja(t),n&512&&r!==null&&of(r,r.return),t.flags&32){var i=t.stateNode;try{wd(i,"")}catch(g){hn(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&uE(i,s),D2(o,a);var u=D2(o,s);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?pE(i,h):c==="dangerouslySetInnerHTML"?hE(i,h):c==="children"?wd(i,h):_y(i,c,h,u)}switch(o){case"input":I2(i,s);break;case"textarea":cE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?hf(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?hf(i,!!s.multiple,s.defaultValue,!0):hf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Id]=s}catch(g){hn(t,t.return,g)}}break;case 6:if(fa(e,t),ja(t),n&4){if(t.stateNode===null)throw Error(tt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){hn(t,t.return,g)}}break;case 3:if(fa(e,t),ja(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Td(e.containerInfo)}catch(g){hn(t,t.return,g)}break;case 4:fa(e,t),ja(t);break;case 13:fa(e,t),ja(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zy=yn())),n&4&&X_(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Ni=(u=Ni)||c,fa(e,t),Ni=u):fa(e,t),ja(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(wt=t,c=t.child;c!==null;){for(h=wt=c;wt!==null;){switch(p=wt,m=p.child,p.tag){case 0:case 11:case 14:case 15:sd(4,p,p.return);break;case 1:of(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(g){hn(n,r,g)}}break;case 5:of(p,p.return);break;case 22:if(p.memoizedState!==null){J_(h);continue}}m!==null?(m.return=p,wt=m):J_(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=dE("display",a))}catch(g){hn(t,t.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){hn(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fa(e,t),ja(t),n&4&&X_(t);break;case 21:break;default:fa(e,t),ja(t)}}function ja(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(BS(r)){var n=r;break e}r=r.return}throw Error(tt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wd(i,""),n.flags&=-33);var s=Y_(t);fv(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Y_(t);cv(t,o,a);break;default:throw Error(tt(161))}}catch(l){hn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _I(t,e,r){wt=t,zS(t)}function zS(t,e,r){for(var n=(t.mode&1)!==0;wt!==null;){var i=wt,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||cp;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ni;o=cp;var u=Ni;if(cp=a,(Ni=l)&&!u)for(wt=i;wt!==null;)a=wt,l=a.child,a.tag===22&&a.memoizedState!==null?Z_(i):l!==null?(l.return=a,wt=l):Z_(i);for(;s!==null;)wt=s,zS(s),s=s.sibling;wt=i,cp=o,Ni=u}Q_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,wt=s):Q_(t)}}function Q_(t){for(;wt!==null;){var e=wt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ni||dm(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ni)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ga(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&D_(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}D_(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Td(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}Ni||e.flags&512&&uv(e)}catch(p){hn(e,e.return,p)}}if(e===t){wt=null;break}if(r=e.sibling,r!==null){r.return=e.return,wt=r;break}wt=e.return}}function J_(t){for(;wt!==null;){var e=wt;if(e===t){wt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,wt=r;break}wt=e.return}}function Z_(t){for(;wt!==null;){var e=wt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{dm(4,e)}catch(l){hn(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){hn(e,i,l)}}var s=e.return;try{uv(e)}catch(l){hn(e,s,l)}break;case 5:var a=e.return;try{uv(e)}catch(l){hn(e,a,l)}}}catch(l){hn(e,e.return,l)}if(e===t){wt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,wt=o;break}wt=e.return}}var wI=Math.ceil,g1=zo.ReactCurrentDispatcher,Qy=zo.ReactCurrentOwner,Ks=zo.ReactCurrentBatchConfig,fr=0,Xn=null,kn=null,ci=0,Es=0,lf=au(0),Mn=0,Od=null,Yu=0,pm=0,Jy=0,ad=null,ts=null,Zy=0,Of=1/0,yo=null,v1=!1,hv=null,Bl=null,fp=!1,bl=null,y1=0,od=0,dv=null,Bp=-1,Vp=0;function qi(){return fr&6?yn():Bp!==-1?Bp:Bp=yn()}function Vl(t){return t.mode&1?fr&2&&ci!==0?ci&-ci:iI.transition!==null?(Vp===0&&(Vp=NE()),Vp):(t=Pr,t!==0||(t=window.event,t=t===void 0?16:RE(t.type)),t):1}function Sa(t,e,r,n){if(50<od)throw od=0,dv=null,Error(tt(185));l0(t,r,n),(!(fr&2)||t!==Xn)&&(t===Xn&&(!(fr&2)&&(pm|=r),Mn===4&&Tl(t,ci)),as(t,n),r===1&&fr===0&&!(e.mode&1)&&(Of=yn()+500,cm&&ou()))}function as(t,e){var r=t.callbackNode;ik(t,e);var n=t1(t,t===Xn?ci:0);if(n===0)r!==null&&l_(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&l_(r),e===1)t.tag===0?nI(ew.bind(null,t)):JE(ew.bind(null,t)),Zk(function(){!(fr&6)&&ou()}),r=null;else{switch(bE(n)){case 1:r=Ty;break;case 4:r=AE;break;case 16:r=e1;break;case 536870912:r=TE;break;default:r=e1}r=XS(r,qS.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function qS(t,e){if(Bp=-1,Vp=0,fr&6)throw Error(tt(327));var r=t.callbackNode;if(vf()&&t.callbackNode!==r)return null;var n=t1(t,t===Xn?ci:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=x1(t,n);else{e=n;var i=fr;fr|=2;var s=WS();(Xn!==t||ci!==e)&&(yo=null,Of=yn()+500,Bu(t,e));do try{AI();break}catch(o){HS(t,o)}while(!0);My(),g1.current=s,fr=i,kn!==null?e=0:(Xn=null,ci=0,e=Mn)}if(e!==0){if(e===2&&(i=V2(t),i!==0&&(n=i,e=pv(t,i))),e===1)throw r=Od,Bu(t,0),Tl(t,n),as(t,yn()),r;if(e===6)Tl(t,n);else{if(i=t.current.alternate,!(n&30)&&!EI(i)&&(e=x1(t,n),e===2&&(s=V2(t),s!==0&&(n=s,e=pv(t,s))),e===1))throw r=Od,Bu(t,0),Tl(t,n),as(t,yn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(tt(345));case 2:Iu(t,ts,yo);break;case 3:if(Tl(t,n),(n&130023424)===n&&(e=Zy+500-yn(),10<e)){if(t1(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){qi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=K2(Iu.bind(null,t,ts,yo),e);break}Iu(t,ts,yo);break;case 4:if(Tl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Ea(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=yn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wI(n/1960))-n,10<n){t.timeoutHandle=K2(Iu.bind(null,t,ts,yo),n);break}Iu(t,ts,yo);break;case 5:Iu(t,ts,yo);break;default:throw Error(tt(329))}}}return as(t,yn()),t.callbackNode===r?qS.bind(null,t):null}function pv(t,e){var r=ad;return t.current.memoizedState.isDehydrated&&(Bu(t,e).flags|=256),t=x1(t,e),t!==2&&(e=ts,ts=r,e!==null&&mv(e)),t}function mv(t){ts===null?ts=t:ts.push.apply(ts,t)}function EI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ta(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tl(t,e){for(e&=~Jy,e&=~pm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ea(e),n=1<<r;t[r]=-1,e&=~n}}function ew(t){if(fr&6)throw Error(tt(327));vf();var e=t1(t,0);if(!(e&1))return as(t,yn()),null;var r=x1(t,e);if(t.tag!==0&&r===2){var n=V2(t);n!==0&&(e=n,r=pv(t,n))}if(r===1)throw r=Od,Bu(t,0),Tl(t,e),as(t,yn()),r;if(r===6)throw Error(tt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Iu(t,ts,yo),as(t,yn()),null}function ex(t,e){var r=fr;fr|=1;try{return t(e)}finally{fr=r,fr===0&&(Of=yn()+500,cm&&ou())}}function Xu(t){bl!==null&&bl.tag===0&&!(fr&6)&&vf();var e=fr;fr|=1;var r=Ks.transition,n=Pr;try{if(Ks.transition=null,Pr=1,t)return t()}finally{Pr=n,Ks.transition=r,fr=e,!(fr&6)&&ou()}}function tx(){Es=lf.current,Qr(lf)}function Bu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Jk(r)),kn!==null)for(r=kn.return;r!==null;){var n=r;switch(Dy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&a1();break;case 3:Ff(),Qr(is),Qr(Li),Hy();break;case 5:qy(n);break;case 4:Ff();break;case 13:Qr(rn);break;case 19:Qr(rn);break;case 10:By(n.type._context);break;case 22:case 23:tx()}r=r.return}if(Xn=t,kn=t=Ul(t.current,null),ci=Es=e,Mn=0,Od=null,Jy=pm=Yu=0,ts=ad=null,Ou!==null){for(e=0;e<Ou.length;e++)if(r=Ou[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ou=null}return t}function HS(t,e){do{var r=kn;try{if(My(),Op.current=m1,p1){for(var n=nn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}p1=!1}if(Ku=0,Wn=jn=nn=null,id=!1,Rd=0,Qy.current=null,r===null||r.return===null){Mn=1,Od=e,kn=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=ci,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=U_(a);if(m!==null){m.flags&=-257,z_(m,a,o,s,e),m.mode&1&&V_(s,u,e),e=m,l=u;var x=e.updateQueue;if(x===null){var g=new Set;g.add(l),e.updateQueue=g}else x.add(l);break e}else{if(!(e&1)){V_(s,u,e),rx();break e}l=Error(tt(426))}}else if(en&&o.mode&1){var S=U_(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),z_(S,a,o,s,e),Oy(Df(l,o));break e}}s=l=Df(l,o),Mn!==4&&(Mn=2),ad===null?ad=[s]:ad.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=bS(s,l,e);F_(s,w);break e;case 1:o=l;var E=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Bl===null||!Bl.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=CS(s,o,e);F_(s,j);break e}}s=s.return}while(s!==null)}GS(r)}catch(X){e=X,kn===r&&r!==null&&(kn=r=r.return);continue}break}while(!0)}function WS(){var t=g1.current;return g1.current=m1,t===null?m1:t}function rx(){(Mn===0||Mn===3||Mn===2)&&(Mn=4),Xn===null||!(Yu&268435455)&&!(pm&268435455)||Tl(Xn,ci)}function x1(t,e){var r=fr;fr|=2;var n=WS();(Xn!==t||ci!==e)&&(yo=null,Bu(t,e));do try{SI();break}catch(i){HS(t,i)}while(!0);if(My(),fr=r,g1.current=n,kn!==null)throw Error(tt(261));return Xn=null,ci=0,Mn}function SI(){for(;kn!==null;)$S(kn)}function AI(){for(;kn!==null&&!YC();)$S(kn)}function $S(t){var e=YS(t.alternate,t,Es);t.memoizedProps=t.pendingProps,e===null?GS(t):kn=e,Qy.current=null}function GS(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=vI(r,e),r!==null){r.flags&=32767,kn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mn=6,kn=null;return}}else if(r=gI(r,e,Es),r!==null){kn=r;return}if(e=e.sibling,e!==null){kn=e;return}kn=e=t}while(e!==null);Mn===0&&(Mn=5)}function Iu(t,e,r){var n=Pr,i=Ks.transition;try{Ks.transition=null,Pr=1,TI(t,e,r,n)}finally{Ks.transition=i,Pr=n}return null}function TI(t,e,r,n){do vf();while(bl!==null);if(fr&6)throw Error(tt(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(tt(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(sk(t,s),t===Xn&&(kn=Xn=null,ci=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fp||(fp=!0,XS(e1,function(){return vf(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ks.transition,Ks.transition=null;var a=Pr;Pr=1;var o=fr;fr|=4,Qy.current=null,xI(t,r),US(r,t),Wk($2),r1=!!W2,$2=W2=null,t.current=r,_I(r),XC(),fr=o,Pr=a,Ks.transition=s}else t.current=r;if(fp&&(fp=!1,bl=t,y1=i),s=t.pendingLanes,s===0&&(Bl=null),ZC(r.stateNode),as(t,yn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(v1)throw v1=!1,t=hv,hv=null,t;return y1&1&&t.tag!==0&&vf(),s=t.pendingLanes,s&1?t===dv?od++:(od=0,dv=t):od=0,ou(),null}function vf(){if(bl!==null){var t=bE(y1),e=Ks.transition,r=Pr;try{if(Ks.transition=null,Pr=16>t?16:t,bl===null)var n=!1;else{if(t=bl,bl=null,y1=0,fr&6)throw Error(tt(331));var i=fr;for(fr|=4,wt=t.current;wt!==null;){var s=wt,a=s.child;if(wt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(wt=u;wt!==null;){var c=wt;switch(c.tag){case 0:case 11:case 15:sd(8,c,s)}var h=c.child;if(h!==null)h.return=c,wt=h;else for(;wt!==null;){c=wt;var p=c.sibling,m=c.return;if(MS(c),c===u){wt=null;break}if(p!==null){p.return=m,wt=p;break}wt=m}}}var x=s.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}wt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,wt=a;else e:for(;wt!==null;){if(s=wt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sd(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,wt=w;break e}wt=s.return}}var E=t.current;for(wt=E;wt!==null;){a=wt;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,wt=T;else e:for(a=E;wt!==null;){if(o=wt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:dm(9,o)}}catch(X){hn(o,o.return,X)}if(o===a){wt=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,wt=j;break e}wt=o.return}}if(fr=i,ou(),Ha&&typeof Ha.onPostCommitFiberRoot=="function")try{Ha.onPostCommitFiberRoot(sm,t)}catch{}n=!0}return n}finally{Pr=r,Ks.transition=e}}return!1}function tw(t,e,r){e=Df(r,e),e=bS(t,e,1),t=Ml(t,e,1),e=qi(),t!==null&&(l0(t,1,e),as(t,e))}function hn(t,e,r){if(t.tag===3)tw(t,t,r);else for(;e!==null;){if(e.tag===3){tw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bl===null||!Bl.has(n))){t=Df(r,t),t=CS(e,t,1),e=Ml(e,t,1),t=qi(),e!==null&&(l0(e,1,t),as(e,t));break}}e=e.return}}function NI(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=qi(),t.pingedLanes|=t.suspendedLanes&r,Xn===t&&(ci&r)===r&&(Mn===4||Mn===3&&(ci&130023424)===ci&&500>yn()-Zy?Bu(t,0):Jy|=r),as(t,e)}function KS(t,e){e===0&&(t.mode&1?(e=tp,tp<<=1,!(tp&130023424)&&(tp=4194304)):e=1);var r=qi();t=Po(t,e),t!==null&&(l0(t,e,r),as(t,r))}function bI(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),KS(t,r)}function CI(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(tt(314))}n!==null&&n.delete(e),KS(t,r)}var YS;YS=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||is.current)ns=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ns=!1,mI(t,e,r);ns=!!(t.flags&131072)}else ns=!1,en&&e.flags&1048576&&ZE(e,u1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Mp(t,e),t=e.pendingProps;var i=Pf(e,Li.current);gf(e,r),i=$y(null,e,n,t,i,r);var s=Gy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ss(n)?(s=!0,o1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uy(e),i.updater=hm,e.stateNode=i,i._reactInternals=e,tv(e,n,t,r),e=iv(null,e,n,!0,s,r)):(e.tag=0,en&&s&&Fy(e),Vi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Mp(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=II(n),t=ga(n,t),i){case 0:e=nv(null,e,n,t,r);break e;case 1:e=W_(null,e,n,t,r);break e;case 11:e=q_(null,e,n,t,r);break e;case 14:e=H_(null,e,n,ga(n.type,t),r);break e}throw Error(tt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ga(n,i),nv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ga(n,i),W_(t,e,n,i,r);case 3:e:{if(LS(e),t===null)throw Error(tt(387));n=e.pendingProps,s=e.memoizedState,i=s.element,sS(t,e),h1(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Df(Error(tt(423)),e),e=$_(t,e,n,r,i);break e}else if(n!==i){i=Df(Error(tt(424)),e),e=$_(t,e,n,r,i);break e}else for(Ns=jl(e.stateNode.containerInfo.firstChild),ks=e,en=!0,xa=null,r=nS(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lf(),n===i){e=Lo(t,e,r);break e}Vi(t,e,n,r)}e=e.child}return e;case 5:return aS(e),t===null&&J2(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,G2(n,i)?a=null:s!==null&&G2(n,s)&&(e.flags|=32),PS(t,e),Vi(t,e,a,r),e.child;case 6:return t===null&&J2(e),null;case 13:return RS(t,e,r);case 4:return zy(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Rf(e,null,n,r):Vi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ga(n,i),q_(t,e,n,i,r);case 7:return Vi(t,e,e.pendingProps,r),e.child;case 8:return Vi(t,e,e.pendingProps.children,r),e.child;case 12:return Vi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Hr(c1,n._currentValue),n._currentValue=a,s!==null)if(Ta(s.value,a)){if(s.children===i.children&&!is.current){e=Lo(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=So(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Z2(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(tt(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Z2(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,gf(e,r),i=Qs(i),n=n(i),e.flags|=1,Vi(t,e,n,r),e.child;case 14:return n=e.type,i=ga(n,e.pendingProps),i=ga(n.type,i),H_(t,e,n,i,r);case 15:return kS(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ga(n,i),Mp(t,e),e.tag=1,ss(n)?(t=!0,o1(e)):t=!1,gf(e,r),NS(e,n,i),tv(e,n,i,r),iv(null,e,n,!0,t,r);case 19:return FS(t,e,r);case 22:return IS(t,e,r)}throw Error(tt(156,e.tag))};function XS(t,e){return SE(t,e)}function kI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(t,e,r,n){return new kI(t,e,r,n)}function nx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function II(t){if(typeof t=="function")return nx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ey)return 11;if(t===Sy)return 14}return 2}function Ul(t,e){var r=t.alternate;return r===null?(r=Gs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Up(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")nx(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Qc:return Vu(r.children,i,s,e);case wy:a=8,i|=8;break;case T2:return t=Gs(12,r,e,i|2),t.elementType=T2,t.lanes=s,t;case N2:return t=Gs(13,r,e,i),t.elementType=N2,t.lanes=s,t;case b2:return t=Gs(19,r,e,i),t.elementType=b2,t.lanes=s,t;case aE:return mm(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iE:a=10;break e;case sE:a=9;break e;case Ey:a=11;break e;case Sy:a=14;break e;case wl:a=16,n=null;break e}throw Error(tt(130,t==null?t:typeof t,""))}return e=Gs(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Vu(t,e,r,n){return t=Gs(7,t,n,e),t.lanes=r,t}function mm(t,e,r,n){return t=Gs(22,t,n,e),t.elementType=aE,t.lanes=r,t.stateNode={isHidden:!1},t}function Hg(t,e,r){return t=Gs(6,t,null,e),t.lanes=r,t}function Wg(t,e,r){return e=Gs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PI(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tg(0),this.expirationTimes=Tg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ix(t,e,r,n,i,s,a,o,l){return t=new PI(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uy(s),t}function LI(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function QS(t){if(!t)return Kl;t=t._reactInternals;e:{if(ac(t)!==t||t.tag!==1)throw Error(tt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ss(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(tt(171))}if(t.tag===1){var r=t.type;if(ss(r))return QE(t,r,e)}return e}function JS(t,e,r,n,i,s,a,o,l){return t=ix(r,n,!0,t,i,s,a,o,l),t.context=QS(null),r=t.current,n=qi(),i=Vl(r),s=So(n,i),s.callback=e??null,Ml(r,s,i),t.current.lanes=i,l0(t,i,n),as(t,n),t}function gm(t,e,r,n){var i=e.current,s=qi(),a=Vl(i);return r=QS(r),e.context===null?e.context=r:e.pendingContext=r,e=So(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ml(i,e,a),t!==null&&(Sa(t,i,a,s),Dp(t,i,a)),a}function _1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function sx(t,e){rw(t,e),(t=t.alternate)&&rw(t,e)}function RI(){return null}var ZS=typeof reportError=="function"?reportError:function(t){console.error(t)};function ax(t){this._internalRoot=t}vm.prototype.render=ax.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(tt(409));gm(t,e,null,null)};vm.prototype.unmount=ax.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xu(function(){gm(null,t,null,null)}),e[Io]=null}};function vm(t){this._internalRoot=t}vm.prototype.unstable_scheduleHydration=function(t){if(t){var e=IE();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Al.length&&e!==0&&e<Al[r].priority;r++);Al.splice(r,0,t),r===0&&LE(t)}};function ox(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nw(){}function FI(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=_1(a);s.call(u)}}var a=JS(e,n,t,0,null,!1,!1,"",nw);return t._reactRootContainer=a,t[Io]=a.current,Cd(t.nodeType===8?t.parentNode:t),Xu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=_1(l);o.call(u)}}var l=ix(t,0,!1,null,null,!1,!1,"",nw);return t._reactRootContainer=l,t[Io]=l.current,Cd(t.nodeType===8?t.parentNode:t),Xu(function(){gm(e,l,r,n)}),l}function xm(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=_1(a);o.call(l)}}gm(e,a,t,i)}else a=FI(r,e,t,i,n);return _1(a)}CE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Wh(e.pendingLanes);r!==0&&(Ny(e,r|1),as(e,yn()),!(fr&6)&&(Of=yn()+500,ou()))}break;case 13:Xu(function(){var n=Po(t,1);if(n!==null){var i=qi();Sa(n,t,1,i)}}),sx(t,1)}};by=function(t){if(t.tag===13){var e=Po(t,134217728);if(e!==null){var r=qi();Sa(e,t,134217728,r)}sx(t,134217728)}};kE=function(t){if(t.tag===13){var e=Vl(t),r=Po(t,e);if(r!==null){var n=qi();Sa(r,t,e,n)}sx(t,e)}};IE=function(){return Pr};PE=function(t,e){var r=Pr;try{return Pr=t,e()}finally{Pr=r}};j2=function(t,e,r){switch(e){case"input":if(I2(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=um(n);if(!i)throw Error(tt(90));lE(n),I2(n,i)}}}break;case"textarea":cE(t,r);break;case"select":e=r.value,e!=null&&hf(t,!!r.multiple,e,!1)}};vE=ex;yE=Xu;var DI={usingClientEntryPoint:!1,Events:[c0,tf,um,mE,gE,ex]},Mh={findFiberByHostInstance:Du,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OI={bundleType:Mh.bundleType,version:Mh.version,rendererPackageName:Mh.rendererPackageName,rendererConfig:Mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wE(t),t===null?null:t.stateNode},findFiberByHostInstance:Mh.findFiberByHostInstance||RI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hp.isDisabled&&hp.supportsFiber)try{sm=hp.inject(OI),Ha=hp}catch{}}Rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DI;Rs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ox(e))throw Error(tt(200));return LI(t,e,null,r)};Rs.createRoot=function(t,e){if(!ox(t))throw Error(tt(299));var r=!1,n="",i=ZS;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ix(t,1,!1,null,null,r,!1,n,i),t[Io]=e.current,Cd(t.nodeType===8?t.parentNode:t),new ax(e)};Rs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(tt(188)):(t=Object.keys(t).join(","),Error(tt(268,t)));return t=wE(e),t=t===null?null:t.stateNode,t};Rs.flushSync=function(t){return Xu(t)};Rs.hydrate=function(t,e,r){if(!ym(e))throw Error(tt(200));return xm(null,t,e,!0,r)};Rs.hydrateRoot=function(t,e,r){if(!ox(t))throw Error(tt(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=ZS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=JS(e,null,t,1,r??null,i,!1,s,a),t[Io]=e.current,Cd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new vm(e)};Rs.render=function(t,e,r){if(!ym(e))throw Error(tt(200));return xm(null,t,e,!1,r)};Rs.unmountComponentAtNode=function(t){if(!ym(t))throw Error(tt(40));return t._reactRootContainer?(Xu(function(){xm(null,null,t,!1,function(){t._reactRootContainer=null,t[Io]=null})}),!0):!1};Rs.unstable_batchedUpdates=ex;Rs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ym(r))throw Error(tt(200));if(t==null||t._reactInternals===void 0)throw Error(tt(38));return xm(t,e,r,!1,n)};Rs.version="18.3.1-next-f1338f8080-20240426";function eA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eA)}catch(t){console.error(t)}}eA(),eE.exports=Rs;var jI=eE.exports,tA,iw=jI;tA=iw.createRoot,iw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jd.apply(this,arguments)}var Cl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cl||(Cl={}));const sw="popstate";function MI(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return gv("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:nA(i)}return VI(e,r,null,t)}function Bn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BI(){return Math.random().toString(36).substr(2,8)}function aw(t,e){return{usr:t.state,key:t.key,idx:e}}function gv(t,e,r,n){return r===void 0&&(r=null),jd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?th(e):e,{state:r,key:e&&e.key||n||BI()})}function nA(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function th(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function VI(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Cl.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(jd({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function h(){o=Cl.Pop;let S=c(),w=S==null?null:S-u;u=S,l&&l({action:o,location:g.location,delta:w})}function p(S,w){o=Cl.Push;let E=gv(g.location,S,w);u=c()+1;let T=aw(E,u),j=g.createHref(E);try{a.pushState(T,"",j)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(j)}s&&l&&l({action:o,location:g.location,delta:1})}function m(S,w){o=Cl.Replace;let E=gv(g.location,S,w);u=c();let T=aw(E,u),j=g.createHref(E);a.replaceState(T,"",j),s&&l&&l({action:o,location:g.location,delta:0})}function x(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof S=="string"?S:nA(S);return E=E.replace(/ $/,"%20"),Bn(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let g={get action(){return o},get location(){return t(i,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(sw,h),l=S,()=>{i.removeEventListener(sw,h),l=null}},createHref(S){return e(i,S)},createURL:x,encodeLocation(S){let w=x(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(S){return a.go(S)}};return g}var ow;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ow||(ow={}));function UI(t,e,r){return r===void 0&&(r="/"),zI(t,e,r)}function zI(t,e,r,n){let i=typeof e=="string"?th(e):e,s=aA(i.pathname||"/",r);if(s==null)return null;let a=iA(t);qI(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=t8(s);o=JI(a[l],u)}return o}function iA(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Bn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Uu([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(Bn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iA(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:XI(u,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of sA(s.path))i(s,a,l)}),e}function sA(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=sA(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function qI(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:QI(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const HI=/^:[\w-]+$/,WI=3,$I=2,GI=1,KI=10,YI=-2,lw=t=>t==="*";function XI(t,e){let r=t.split("/"),n=r.length;return r.some(lw)&&(n+=YI),e&&(n+=$I),r.filter(i=>!lw(i)).reduce((i,s)=>i+(HI.test(s)?WI:s===""?GI:KI),n)}function QI(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function JI(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=ZI({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Uu([s,h.pathname]),pathnameBase:o8(Uu([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Uu([s,h.pathnameBase]))}return a}function ZI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=e8(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let g=o[h]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const x=o[h];return m&&!x?u[p]=void 0:u[p]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function e8(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),rA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function t8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function aA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function r8(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?th(t):t;return{pathname:r?r.startsWith("/")?r:n8(r,e):e,search:l8(n),hash:u8(i)}}function n8(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function $g(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i8(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function s8(t,e){let r=i8(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function a8(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=th(t):(i=jd({},t),Bn(!i.pathname||!i.pathname.includes("?"),$g("?","pathname","search",i)),Bn(!i.pathname||!i.pathname.includes("#"),$g("#","pathname","hash",i)),Bn(!i.search||!i.search.includes("#"),$g("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=r8(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Uu=t=>t.join("/").replace(/\/\/+/g,"/"),o8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),l8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,u8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function c8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oA=["post","put","patch","delete"];new Set(oA);const f8=["get",...oA];new Set(f8);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Md.apply(this,arguments)}const lx=be.createContext(null),h8=be.createContext(null),_m=be.createContext(null),wm=be.createContext(null),rh=be.createContext({outlet:null,matches:[],isDataRoute:!1}),lA=be.createContext(null);function Em(){return be.useContext(wm)!=null}function Sm(){return Em()||Bn(!1),be.useContext(wm).location}function uA(t){be.useContext(_m).static||be.useLayoutEffect(t)}function oc(){let{isDataRoute:t}=be.useContext(rh);return t?T8():d8()}function d8(){Em()||Bn(!1);let t=be.useContext(lx),{basename:e,future:r,navigator:n}=be.useContext(_m),{matches:i}=be.useContext(rh),{pathname:s}=Sm(),a=JSON.stringify(s8(i,r.v7_relativeSplatPath)),o=be.useRef(!1);return uA(()=>{o.current=!0}),be.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=a8(u,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Uu([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,a,s,t])}function p8(t,e){return m8(t,e)}function m8(t,e,r,n){Em()||Bn(!1);let{navigator:i}=be.useContext(_m),{matches:s}=be.useContext(rh),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Sm(),c;if(e){var h;let S=typeof e=="string"?th(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||Bn(!1),c=S}else c=u;let p=c.pathname||"/",m=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=UI(t,{pathname:m}),g=_8(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:Uu([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Uu([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,r,n);return e&&g?be.createElement(wm.Provider,{value:{location:Md({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Cl.Pop}},g):g}function g8(){let t=A8(),e=c8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return be.createElement(be.Fragment,null,be.createElement("h2",null,"Unexpected Application Error!"),be.createElement("h3",{style:{fontStyle:"italic"}},e),r?be.createElement("pre",{style:i},r):null,null)}const v8=be.createElement(g8,null);class y8 extends be.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?be.createElement(rh.Provider,{value:this.props.routeContext},be.createElement(lA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x8(t){let{routeContext:e,match:r,children:n}=t,i=be.useContext(lx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),be.createElement(rh.Provider,{value:e},n)}function _8(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);c>=0||Bn(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let h=a[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:p,errors:m}=r,x=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,h,p)=>{let m,x=!1,g=null,S=null;r&&(m=o&&h.route.id?o[h.route.id]:void 0,g=h.route.errorElement||v8,l&&(u<0&&p===0?(N8("route-fallback"),x=!0,S=null):u===p&&(x=!0,S=h.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,p+1)),E=()=>{let T;return m?T=g:x?T=S:h.route.Component?T=be.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=c,be.createElement(x8,{match:h,routeContext:{outlet:c,matches:w,isDataRoute:r!=null},children:T})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?be.createElement(y8,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var cA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cA||{}),fA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fA||{});function w8(t){let e=be.useContext(lx);return e||Bn(!1),e}function E8(t){let e=be.useContext(h8);return e||Bn(!1),e}function S8(t){let e=be.useContext(rh);return e||Bn(!1),e}function hA(t){let e=S8(),r=e.matches[e.matches.length-1];return r.route.id||Bn(!1),r.route.id}function A8(){var t;let e=be.useContext(lA),r=E8(),n=hA();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function T8(){let{router:t}=w8(cA.UseNavigateStable),e=hA(fA.UseNavigateStable),r=be.useRef(!1);return uA(()=>{r.current=!0}),be.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Md({fromRouteId:e},s)))},[t,e])}const uw={};function N8(t,e,r){uw[t]||(uw[t]=!0)}function b8(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vo(t){Bn(!1)}function C8(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Cl.Pop,navigator:s,static:a=!1,future:o}=t;Em()&&Bn(!1);let l=e.replace(/^\/*/,"/"),u=be.useMemo(()=>({basename:l,navigator:s,static:a,future:Md({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=th(n));let{pathname:c="/",search:h="",hash:p="",state:m=null,key:x="default"}=n,g=be.useMemo(()=>{let S=aA(c,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:m,key:x},navigationType:i}},[l,c,h,p,m,x,i]);return g==null?null:be.createElement(_m.Provider,{value:u},be.createElement(wm.Provider,{children:r,value:g}))}function k8(t){let{children:e,location:r}=t;return p8(vv(e),r)}new Promise(()=>{});function vv(t,e){e===void 0&&(e=[]);let r=[];return be.Children.forEach(t,(n,i)=>{if(!be.isValidElement(n))return;let s=[...e,i];if(n.type===be.Fragment){r.push.apply(r,vv(n.props.children,s));return}n.type!==vo&&Bn(!1),!n.props.index||!n.props.children||Bn(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=vv(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function I8(t,e){let r=yv(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const P8="6";try{window.__reactRouterVersion=P8}catch{}const L8="startTransition",cw=NC[L8];function R8(t){let{basename:e,children:r,future:n,window:i}=t,s=be.useRef();s.current==null&&(s.current=MI({window:i,v5Compat:!0}));let a=s.current,[o,l]=be.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},c=be.useCallback(h=>{u&&cw?cw(()=>l(h)):l(h)},[l,u]);return be.useLayoutEffect(()=>a.listen(c),[a,c]),be.useEffect(()=>b8(n),[n]),be.createElement(C8,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}var fw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fw||(fw={}));var hw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hw||(hw={}));function F8(t){let e=be.useRef(yv(t)),r=be.useRef(!1),n=Sm(),i=be.useMemo(()=>I8(n.search,r.current?null:e.current),[n.search]),s=oc(),a=be.useCallback((o,l)=>{const u=yv(typeof o=="function"?o(i):o);r.current=!0,s("?"+u,l)},[s,i]);return[i,a]}const h0=be.createContext({isCollapsed:!1,setIsCollapsed:()=>{}}),D8=({children:t})=>{const[e,r]=be.useState(!1);return y.jsx(h0.Provider,{value:{isCollapsed:e,setIsCollapsed:r},children:t})};var xr=(t=>(t.ADMIN="admin",t.COMPANY_USER="company_user",t))(xr||{}),dw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},O8=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},pA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|o>>4;let p=(o&15)<<2|u>>6,m=u&63;l||(m=64,a||(p=64)),n.push(r[c],r[h],r[p],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):O8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||h==null)throw new j8;const p=s<<2|o>>4;if(n.push(p),u!==64){const m=o<<4&240|u>>2;if(n.push(m),h!==64){const x=u<<6&192|h;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M8=function(t){const e=dA(t);return pA.encodeByteArray(e,!0)},w1=function(t){return M8(t).replace(/\./g,"")},B8=function(t){try{return pA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=()=>V8().__FIREBASE_DEFAULTS__,z8=()=>{if(typeof process>"u"||typeof dw>"u")return;const t=dw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&B8(t[1]);return e&&JSON.parse(e)},ux=()=>{try{return U8()||z8()||q8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},H8=t=>{var e,r;return(r=(e=ux())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},W8=t=>{const e=H8(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},mA=()=>{var t;return(t=ux())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[w1(JSON.stringify(r)),w1(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y8(){var t;const e=(t=ux())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X8(){return!Y8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q8(){try{return typeof indexedDB=="object"}catch{return!1}}function J8(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="FirebaseError";class nh extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Z8,Object.setPrototypeOf(this,nh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gA.prototype.create)}}class gA{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?eP(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new nh(i,o,n)}}function eP(t,e){return t.replace(tP,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const tP=/\{\$([^}]+)}/g;function xv(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(pw(s)&&pw(a)){if(!xv(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function pw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){return t&&t._delegate?t._delegate:t}class Bd{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new $8;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iP(e))try{this.getOrInitializeService({instanceIdentifier:Pu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Pu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pu){return this.instances.has(e)}getOptions(e=Pu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:nP(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Pu){return this.component?this.component.multipleInstances?e:Pu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nP(t){return t===Pu?void 0:t}function iP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new rP(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(cr||(cr={}));const aP={debug:cr.DEBUG,verbose:cr.VERBOSE,info:cr.INFO,warn:cr.WARN,error:cr.ERROR,silent:cr.SILENT},oP=cr.INFO,lP={[cr.DEBUG]:"log",[cr.VERBOSE]:"log",[cr.INFO]:"info",[cr.WARN]:"warn",[cr.ERROR]:"error"},uP=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=lP[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vA{constructor(e){this.name=e,this._logLevel=oP,this._logHandler=uP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in cr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,cr.DEBUG,...e),this._logHandler(this,cr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,cr.VERBOSE,...e),this._logHandler(this,cr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,cr.INFO,...e),this._logHandler(this,cr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,cr.WARN,...e),this._logHandler(this,cr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,cr.ERROR,...e),this._logHandler(this,cr.ERROR,...e)}}const cP=(t,e)=>e.some(r=>t instanceof r);let mw,gw;function fP(){return mw||(mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hP(){return gw||(gw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yA=new WeakMap,_v=new WeakMap,xA=new WeakMap,Gg=new WeakMap,cx=new WeakMap;function dP(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(zl(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&yA.set(r,t)}).catch(()=>{}),cx.set(e,t),e}function pP(t){if(_v.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});_v.set(t,e)}let wv={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return _v.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xA.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return zl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mP(t){wv=t(wv)}function gP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Kg(this),e,...r);return xA.set(n,e.sort?e.sort():[e]),zl(n)}:hP().includes(t)?function(...e){return t.apply(Kg(this),e),zl(yA.get(this))}:function(...e){return zl(t.apply(Kg(this),e))}}function vP(t){return typeof t=="function"?gP(t):(t instanceof IDBTransaction&&pP(t),cP(t,fP())?new Proxy(t,wv):t)}function zl(t){if(t instanceof IDBRequest)return dP(t);if(Gg.has(t))return Gg.get(t);const e=vP(t);return e!==t&&(Gg.set(t,e),cx.set(e,t)),e}const Kg=t=>cx.get(t);function yP(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=zl(a);return n&&a.addEventListener("upgradeneeded",l=>{n(zl(a.result),l.oldVersion,l.newVersion,zl(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const xP=["get","getKey","getAll","getAllKeys","count"],_P=["put","add","delete","clear"],Yg=new Map;function vw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=_P.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||xP.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return Yg.set(e,s),s}mP(t=>({...t,get:(e,r,n)=>vw(e,r)||t.get(e,r,n),has:(e,r)=>!!vw(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(EP(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function EP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ev="@firebase/app",yw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new vA("@firebase/app"),SP="@firebase/app-compat",AP="@firebase/analytics-compat",TP="@firebase/analytics",NP="@firebase/app-check-compat",bP="@firebase/app-check",CP="@firebase/auth",kP="@firebase/auth-compat",IP="@firebase/database",PP="@firebase/data-connect",LP="@firebase/database-compat",RP="@firebase/functions",FP="@firebase/functions-compat",DP="@firebase/installations",OP="@firebase/installations-compat",jP="@firebase/messaging",MP="@firebase/messaging-compat",BP="@firebase/performance",VP="@firebase/performance-compat",UP="@firebase/remote-config",zP="@firebase/remote-config-compat",qP="@firebase/storage",HP="@firebase/storage-compat",WP="@firebase/firestore",$P="@firebase/vertexai-preview",GP="@firebase/firestore-compat",KP="firebase",YP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="[DEFAULT]",XP={[Ev]:"fire-core",[SP]:"fire-core-compat",[TP]:"fire-analytics",[AP]:"fire-analytics-compat",[bP]:"fire-app-check",[NP]:"fire-app-check-compat",[CP]:"fire-auth",[kP]:"fire-auth-compat",[IP]:"fire-rtdb",[PP]:"fire-data-connect",[LP]:"fire-rtdb-compat",[RP]:"fire-fn",[FP]:"fire-fn-compat",[DP]:"fire-iid",[OP]:"fire-iid-compat",[jP]:"fire-fcm",[MP]:"fire-fcm-compat",[BP]:"fire-perf",[VP]:"fire-perf-compat",[UP]:"fire-rc",[zP]:"fire-rc-compat",[qP]:"fire-gcs",[HP]:"fire-gcs-compat",[WP]:"fire-fst",[GP]:"fire-fst-compat",[$P]:"fire-vertex","fire-js":"fire-js",[KP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new Map,QP=new Map,Av=new Map;function xw(t,e){try{t.container.addComponent(e)}catch(r){Ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function S1(t){const e=t.name;if(Av.has(e))return Ro.debug(`There were multiple attempts to register component ${e}.`),!1;Av.set(e,t);for(const r of E1.values())xw(r,t);for(const r of QP.values())xw(r,t);return!0}function JP(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ql=new gA("app","Firebase",ZP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Bd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ql.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=YP;function _A(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Sv,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ql.create("bad-app-name",{appName:String(i)});if(r||(r=mA()),!r)throw ql.create("no-options");const s=E1.get(i);if(s){if(xv(r,s.options)&&xv(n,s.config))return s;throw ql.create("duplicate-app",{appName:i})}const a=new sP(i);for(const l of Av.values())a.addComponent(l);const o=new eL(r,n,a);return E1.set(i,o),o}function rL(t=Sv){const e=E1.get(t);if(!e&&t===Sv&&mA())return _A();if(!e)throw ql.create("no-app",{appName:t});return e}function yf(t,e,r){var n;let i=(n=XP[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ro.warn(o.join(" "));return}S1(new Bd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="firebase-heartbeat-database",iL=1,Vd="firebase-heartbeat-store";let Xg=null;function wA(){return Xg||(Xg=yP(nL,iL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vd)}catch(r){console.warn(r)}}}}).catch(t=>{throw ql.create("idb-open",{originalErrorMessage:t.message})})),Xg}async function sL(t){try{const r=(await wA()).transaction(Vd),n=await r.objectStore(Vd).get(EA(t));return await r.done,n}catch(e){if(e instanceof nh)Ro.warn(e.message);else{const r=ql.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ro.warn(r.message)}}}async function _w(t,e){try{const n=(await wA()).transaction(Vd,"readwrite");await n.objectStore(Vd).put(e,EA(t)),await n.done}catch(r){if(r instanceof nh)Ro.warn(r.message);else{const n=ql.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ro.warn(n.message)}}}function EA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=1024,oL=30*24*60*60*1e3;class lL{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new cL(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ww();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=oL}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ro.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ww(),{heartbeatsToSend:n,unsentEntries:i}=uL(this._heartbeatsCache.heartbeats),s=w1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Ro.warn(r),""}}}function ww(){return new Date().toISOString().substring(0,10)}function uL(t,e=aL){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Ew(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Ew(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class cL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q8()?J8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await sL(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _w(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _w(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ew(t){return w1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t){S1(new Bd("platform-logger",e=>new wP(e),"PRIVATE")),S1(new Bd("heartbeat",e=>new lL(e),"PRIVATE")),yf(Ev,yw,t),yf(Ev,yw,"esm2017"),yf("fire-js","")}fL("");var hL="firebase",dL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yf(hL,dL,"app");var Sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zu,SA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function R(){}R.prototype=C.prototype,P.D=C.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(O,k,N){for(var F=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)F[ne-2]=arguments[ne];return C.prototype[k].apply(O,F)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,C,R){R||(R=0);var O=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)O[k]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(k=0;16>k;++k)O[k]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=P.g[0],R=P.g[1],k=P.g[2];var N=P.g[3],F=C+(N^R&(k^N))+O[0]+3614090360&4294967295;C=R+(F<<7&4294967295|F>>>25),F=N+(k^C&(R^k))+O[1]+3905402710&4294967295,N=C+(F<<12&4294967295|F>>>20),F=k+(R^N&(C^R))+O[2]+606105819&4294967295,k=N+(F<<17&4294967295|F>>>15),F=R+(C^k&(N^C))+O[3]+3250441966&4294967295,R=k+(F<<22&4294967295|F>>>10),F=C+(N^R&(k^N))+O[4]+4118548399&4294967295,C=R+(F<<7&4294967295|F>>>25),F=N+(k^C&(R^k))+O[5]+1200080426&4294967295,N=C+(F<<12&4294967295|F>>>20),F=k+(R^N&(C^R))+O[6]+2821735955&4294967295,k=N+(F<<17&4294967295|F>>>15),F=R+(C^k&(N^C))+O[7]+4249261313&4294967295,R=k+(F<<22&4294967295|F>>>10),F=C+(N^R&(k^N))+O[8]+1770035416&4294967295,C=R+(F<<7&4294967295|F>>>25),F=N+(k^C&(R^k))+O[9]+2336552879&4294967295,N=C+(F<<12&4294967295|F>>>20),F=k+(R^N&(C^R))+O[10]+4294925233&4294967295,k=N+(F<<17&4294967295|F>>>15),F=R+(C^k&(N^C))+O[11]+2304563134&4294967295,R=k+(F<<22&4294967295|F>>>10),F=C+(N^R&(k^N))+O[12]+1804603682&4294967295,C=R+(F<<7&4294967295|F>>>25),F=N+(k^C&(R^k))+O[13]+4254626195&4294967295,N=C+(F<<12&4294967295|F>>>20),F=k+(R^N&(C^R))+O[14]+2792965006&4294967295,k=N+(F<<17&4294967295|F>>>15),F=R+(C^k&(N^C))+O[15]+1236535329&4294967295,R=k+(F<<22&4294967295|F>>>10),F=C+(k^N&(R^k))+O[1]+4129170786&4294967295,C=R+(F<<5&4294967295|F>>>27),F=N+(R^k&(C^R))+O[6]+3225465664&4294967295,N=C+(F<<9&4294967295|F>>>23),F=k+(C^R&(N^C))+O[11]+643717713&4294967295,k=N+(F<<14&4294967295|F>>>18),F=R+(N^C&(k^N))+O[0]+3921069994&4294967295,R=k+(F<<20&4294967295|F>>>12),F=C+(k^N&(R^k))+O[5]+3593408605&4294967295,C=R+(F<<5&4294967295|F>>>27),F=N+(R^k&(C^R))+O[10]+38016083&4294967295,N=C+(F<<9&4294967295|F>>>23),F=k+(C^R&(N^C))+O[15]+3634488961&4294967295,k=N+(F<<14&4294967295|F>>>18),F=R+(N^C&(k^N))+O[4]+3889429448&4294967295,R=k+(F<<20&4294967295|F>>>12),F=C+(k^N&(R^k))+O[9]+568446438&4294967295,C=R+(F<<5&4294967295|F>>>27),F=N+(R^k&(C^R))+O[14]+3275163606&4294967295,N=C+(F<<9&4294967295|F>>>23),F=k+(C^R&(N^C))+O[3]+4107603335&4294967295,k=N+(F<<14&4294967295|F>>>18),F=R+(N^C&(k^N))+O[8]+1163531501&4294967295,R=k+(F<<20&4294967295|F>>>12),F=C+(k^N&(R^k))+O[13]+2850285829&4294967295,C=R+(F<<5&4294967295|F>>>27),F=N+(R^k&(C^R))+O[2]+4243563512&4294967295,N=C+(F<<9&4294967295|F>>>23),F=k+(C^R&(N^C))+O[7]+1735328473&4294967295,k=N+(F<<14&4294967295|F>>>18),F=R+(N^C&(k^N))+O[12]+2368359562&4294967295,R=k+(F<<20&4294967295|F>>>12),F=C+(R^k^N)+O[5]+4294588738&4294967295,C=R+(F<<4&4294967295|F>>>28),F=N+(C^R^k)+O[8]+2272392833&4294967295,N=C+(F<<11&4294967295|F>>>21),F=k+(N^C^R)+O[11]+1839030562&4294967295,k=N+(F<<16&4294967295|F>>>16),F=R+(k^N^C)+O[14]+4259657740&4294967295,R=k+(F<<23&4294967295|F>>>9),F=C+(R^k^N)+O[1]+2763975236&4294967295,C=R+(F<<4&4294967295|F>>>28),F=N+(C^R^k)+O[4]+1272893353&4294967295,N=C+(F<<11&4294967295|F>>>21),F=k+(N^C^R)+O[7]+4139469664&4294967295,k=N+(F<<16&4294967295|F>>>16),F=R+(k^N^C)+O[10]+3200236656&4294967295,R=k+(F<<23&4294967295|F>>>9),F=C+(R^k^N)+O[13]+681279174&4294967295,C=R+(F<<4&4294967295|F>>>28),F=N+(C^R^k)+O[0]+3936430074&4294967295,N=C+(F<<11&4294967295|F>>>21),F=k+(N^C^R)+O[3]+3572445317&4294967295,k=N+(F<<16&4294967295|F>>>16),F=R+(k^N^C)+O[6]+76029189&4294967295,R=k+(F<<23&4294967295|F>>>9),F=C+(R^k^N)+O[9]+3654602809&4294967295,C=R+(F<<4&4294967295|F>>>28),F=N+(C^R^k)+O[12]+3873151461&4294967295,N=C+(F<<11&4294967295|F>>>21),F=k+(N^C^R)+O[15]+530742520&4294967295,k=N+(F<<16&4294967295|F>>>16),F=R+(k^N^C)+O[2]+3299628645&4294967295,R=k+(F<<23&4294967295|F>>>9),F=C+(k^(R|~N))+O[0]+4096336452&4294967295,C=R+(F<<6&4294967295|F>>>26),F=N+(R^(C|~k))+O[7]+1126891415&4294967295,N=C+(F<<10&4294967295|F>>>22),F=k+(C^(N|~R))+O[14]+2878612391&4294967295,k=N+(F<<15&4294967295|F>>>17),F=R+(N^(k|~C))+O[5]+4237533241&4294967295,R=k+(F<<21&4294967295|F>>>11),F=C+(k^(R|~N))+O[12]+1700485571&4294967295,C=R+(F<<6&4294967295|F>>>26),F=N+(R^(C|~k))+O[3]+2399980690&4294967295,N=C+(F<<10&4294967295|F>>>22),F=k+(C^(N|~R))+O[10]+4293915773&4294967295,k=N+(F<<15&4294967295|F>>>17),F=R+(N^(k|~C))+O[1]+2240044497&4294967295,R=k+(F<<21&4294967295|F>>>11),F=C+(k^(R|~N))+O[8]+1873313359&4294967295,C=R+(F<<6&4294967295|F>>>26),F=N+(R^(C|~k))+O[15]+4264355552&4294967295,N=C+(F<<10&4294967295|F>>>22),F=k+(C^(N|~R))+O[6]+2734768916&4294967295,k=N+(F<<15&4294967295|F>>>17),F=R+(N^(k|~C))+O[13]+1309151649&4294967295,R=k+(F<<21&4294967295|F>>>11),F=C+(k^(R|~N))+O[4]+4149444226&4294967295,C=R+(F<<6&4294967295|F>>>26),F=N+(R^(C|~k))+O[11]+3174756917&4294967295,N=C+(F<<10&4294967295|F>>>22),F=k+(C^(N|~R))+O[2]+718787259&4294967295,k=N+(F<<15&4294967295|F>>>17),F=R+(N^(k|~C))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(k+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+k&4294967295,P.g[3]=P.g[3]+N&4294967295}n.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var R=C-this.blockSize,O=this.B,k=this.h,N=0;N<C;){if(k==0)for(;N<=R;)i(this,P,N),N+=this.blockSize;if(typeof P=="string"){for(;N<C;)if(O[k++]=P.charCodeAt(N++),k==this.blockSize){i(this,O),k=0;break}}else for(;N<C;)if(O[k++]=P[N++],k==this.blockSize){i(this,O),k=0;break}}this.h=k,this.o+=C},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var R=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=R&255,R/=256;for(this.u(P),P=Array(16),C=R=0;4>C;++C)for(var O=0;32>O;O+=8)P[R++]=this.g[C]>>>O&255;return P};function s(P,C){var R=o;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=C(P)}function a(P,C){this.h=C;for(var R=[],O=!0,k=P.length-1;0<=k;k--){var N=P[k]|0;O&&N==C||(R[k]=N,O=!1)}this.g=R}var o={};function l(P){return-128<=P&&128>P?s(P,function(C){return new a([C|0],0>C?-1:0)}):new a([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return h;if(0>P)return S(u(-P));for(var C=[],R=1,O=0;P>=R;O++)C[O]=P/R|0,R*=4294967296;return new a(C,0)}function c(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return S(c(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(C,8)),O=h,k=0;k<P.length;k+=8){var N=Math.min(8,P.length-k),F=parseInt(P.substring(k,k+N),C);8>N?(N=u(Math.pow(C,N)),O=O.j(N).add(u(F))):(O=O.j(R),O=O.add(u(F)))}return O}var h=l(0),p=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-S(this).m();for(var P=0,C=1,R=0;R<this.g.length;R++){var O=this.i(R);P+=(0<=O?O:4294967296+O)*C,C*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x(this))return"0";if(g(this))return"-"+S(this).toString(P);for(var C=u(Math.pow(P,6)),R=this,O="";;){var k=j(R,C).g;R=w(R,k.j(C));var N=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=k,x(R))return N+O;for(;6>N.length;)N="0"+N;O=N+O}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function x(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function g(P){return P.h==-1}t.l=function(P){return P=w(this,P),g(P)?-1:x(P)?0:1};function S(P){for(var C=P.g.length,R=[],O=0;O<C;O++)R[O]=~P.g[O];return new a(R,~P.h).add(p)}t.abs=function(){return g(this)?S(this):this},t.add=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],O=0,k=0;k<=C;k++){var N=O+(this.i(k)&65535)+(P.i(k)&65535),F=(N>>>16)+(this.i(k)>>>16)+(P.i(k)>>>16);O=F>>>16,N&=65535,F&=65535,R[k]=F<<16|N}return new a(R,R[R.length-1]&-2147483648?-1:0)};function w(P,C){return P.add(S(C))}t.j=function(P){if(x(this)||x(P))return h;if(g(this))return g(P)?S(this).j(S(P)):S(S(this).j(P));if(g(P))return S(this.j(S(P)));if(0>this.l(m)&&0>P.l(m))return u(this.m()*P.m());for(var C=this.g.length+P.g.length,R=[],O=0;O<2*C;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<P.g.length;k++){var N=this.i(O)>>>16,F=this.i(O)&65535,ne=P.i(k)>>>16,re=P.i(k)&65535;R[2*O+2*k]+=F*re,E(R,2*O+2*k),R[2*O+2*k+1]+=N*re,E(R,2*O+2*k+1),R[2*O+2*k+1]+=F*ne,E(R,2*O+2*k+1),R[2*O+2*k+2]+=N*ne,E(R,2*O+2*k+2)}for(O=0;O<C;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=C;O<2*C;O++)R[O]=0;return new a(R,0)};function E(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function T(P,C){this.g=P,this.h=C}function j(P,C){if(x(C))throw Error("division by zero");if(x(P))return new T(h,h);if(g(P))return C=j(S(P),C),new T(S(C.g),S(C.h));if(g(C))return C=j(P,S(C)),new T(S(C.g),C.h);if(30<P.g.length){if(g(P)||g(C))throw Error("slowDivide_ only works with positive integers.");for(var R=p,O=C;0>=O.l(P);)R=X(R),O=X(O);var k=J(R,1),N=J(O,1);for(O=J(O,2),R=J(R,2);!x(O);){var F=N.add(O);0>=F.l(P)&&(k=k.add(R),N=F),O=J(O,1),R=J(R,1)}return C=w(P,k.j(C)),new T(k,C)}for(k=h;0<=P.l(C);){for(R=Math.max(1,Math.floor(P.m()/C.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),N=u(R),F=N.j(C);g(F)||0<F.l(P);)R-=O,N=u(R),F=N.j(C);x(N)&&(N=p),k=k.add(N),P=w(P,F)}return new T(k,P)}t.A=function(P){return j(this,P).h},t.and=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)&P.i(O);return new a(R,this.h&P.h)},t.or=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)|P.i(O);return new a(R,this.h|P.h)},t.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)^P.i(O);return new a(R,this.h^P.h)};function X(P){for(var C=P.g.length+1,R=[],O=0;O<C;O++)R[O]=P.i(O)<<1|P.i(O-1)>>>31;return new a(R,P.h)}function J(P,C){var R=C>>5;C%=32;for(var O=P.g.length-R,k=[],N=0;N<O;N++)k[N]=0<C?P.i(N+R)>>>C|P.i(N+R+1)<<32-C:P.i(N+R);return new a(k,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,SA=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,zu=a}).apply(typeof Sw<"u"?Sw:typeof self<"u"?self:typeof window<"u"?window:{});var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AA,Gh,TA,zp,Tv,NA,bA,CA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,b,D){return d==Array.prototype||d==Object.prototype||(d[b]=D.value),d};function r(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof dp=="object"&&dp];for(var b=0;b<d.length;++b){var D=d[b];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var n=r(this);function i(d,b){if(b)e:{var D=n;d=d.split(".");for(var G=0;G<d.length-1;G++){var we=d[G];if(!(we in D))break e;D=D[we]}d=d[d.length-1],G=D[d],b=b(G),b!=G&&b!=null&&e(D,d,{configurable:!0,writable:!0,value:b})}}function s(d,b){d instanceof String&&(d+="");var D=0,G=!1,we={next:function(){if(!G&&D<d.length){var Pe=D++;return{value:b(Pe,d[Pe]),done:!1}}return G=!0,{done:!0,value:void 0}}};return we[Symbol.iterator]=function(){return we},we}i("Array.prototype.values",function(d){return d||function(){return s(this,function(b,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(d){var b=typeof d;return b=b!="object"?b:d?Array.isArray(d)?"array":b:"null",b=="array"||b=="object"&&typeof d.length=="number"}function u(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function c(d,b,D){return d.call.apply(d.bind,arguments)}function h(d,b,D){if(!d)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var we=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(we,G),d.apply(b,we)}}return function(){return d.apply(b,arguments)}}function p(d,b,D){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,p.apply(null,arguments)}function m(d,b){var D=Array.prototype.slice.call(arguments,1);return function(){var G=D.slice();return G.push.apply(G,arguments),d.apply(this,G)}}function x(d,b){function D(){}D.prototype=b.prototype,d.aa=b.prototype,d.prototype=new D,d.prototype.constructor=d,d.Qb=function(G,we,Pe){for(var Qe=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)Qe[Vt-2]=arguments[Vt];return b.prototype[we].apply(G,Qe)}}function g(d){const b=d.length;if(0<b){const D=Array(b);for(let G=0;G<b;G++)D[G]=d[G];return D}return[]}function S(d,b){for(let D=1;D<arguments.length;D++){const G=arguments[D];if(l(G)){const we=d.length||0,Pe=G.length||0;d.length=we+Pe;for(let Qe=0;Qe<Pe;Qe++)d[we+Qe]=G[Qe]}else d.push(G)}}class w{constructor(b,D){this.i=b,this.j=D,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function E(d){return/^[\s\xa0]*$/.test(d)}function T(){var d=o.navigator;return d&&(d=d.userAgent)?d:""}function j(d){return j[" "](d),d}j[" "]=function(){};var X=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function J(d,b,D){for(const G in d)b.call(D,d[G],G,d)}function P(d,b){for(const D in d)b.call(void 0,d[D],D,d)}function C(d){const b={};for(const D in d)b[D]=d[D];return b}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,b){let D,G;for(let we=1;we<arguments.length;we++){G=arguments[we];for(D in G)d[D]=G[D];for(let Pe=0;Pe<R.length;Pe++)D=R[Pe],Object.prototype.hasOwnProperty.call(G,D)&&(d[D]=G[D])}}function k(d){var b=1;d=d.split(":");const D=[];for(;0<b&&d.length;)D.push(d.shift()),b--;return d.length&&D.push(d.join(":")),D}function N(d){o.setTimeout(()=>{throw d},0)}function F(){var d=ce;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class ne{constructor(){this.h=this.g=null}add(b,D){const G=re.get();G.set(b,D),this.h?this.h.next=G:this.g=G,this.h=G}}var re=new w(()=>new he,d=>d.reset());class he{constructor(){this.next=this.g=this.h=null}set(b,D){this.h=b,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,te=!1,ce=new ne,me=()=>{const d=o.Promise.resolve(void 0);ge=()=>{d.then(Be)}};var Be=()=>{for(var d;d=F();){try{d.h.call(d.g)}catch(D){N(D)}var b=re;b.j(d),100>b.h&&(b.h++,d.next=b.g,b.g=d)}te=!1};function I(){this.s=this.s,this.C=this.C}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const D=()=>{};o.addEventListener("test",D,b),o.removeEventListener("test",D,b)}catch{}return d}();function z(d,b){if(M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var D=this.type=d.type,G=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget){if(X){e:{try{j(b.nodeName);var we=!0;break e}catch{}we=!1}we||(b=null)}}else D=="mouseover"?b=d.fromElement:D=="mouseout"&&(b=d.toElement);this.relatedTarget=b,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ee[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&z.aa.h.call(this)}}x(z,M);var ee={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),ve=0;function pe(d,b,D,G,we){this.listener=d,this.proxy=null,this.src=b,this.type=D,this.capture=!!G,this.ha=we,this.key=++ve,this.da=this.fa=!1}function Ne(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Me(d){this.src=d,this.g={},this.h=0}Me.prototype.add=function(d,b,D,G,we){var Pe=d.toString();d=this.g[Pe],d||(d=this.g[Pe]=[],this.h++);var Qe=Ze(d,b,G,we);return-1<Qe?(b=d[Qe],D||(b.fa=!1)):(b=new pe(b,this.src,Pe,!!G,we),b.fa=D,d.push(b)),b};function qe(d,b){var D=b.type;if(D in d.g){var G=d.g[D],we=Array.prototype.indexOf.call(G,b,void 0),Pe;(Pe=0<=we)&&Array.prototype.splice.call(G,we,1),Pe&&(Ne(b),d.g[D].length==0&&(delete d.g[D],d.h--))}}function Ze(d,b,D,G){for(var we=0;we<d.length;++we){var Pe=d[we];if(!Pe.da&&Pe.listener==b&&Pe.capture==!!D&&Pe.ha==G)return we}return-1}var at="closure_lm_"+(1e6*Math.random()|0),Fe={};function ue(d,b,D,G,we){if(Array.isArray(b)){for(var Pe=0;Pe<b.length;Pe++)ue(d,b[Pe],D,G,we);return null}return D=Dt(D),d&&d[fe]?d.K(b,D,u(G)?!!G.capture:!1,we):We(d,b,D,!1,G,we)}function We(d,b,D,G,we,Pe){if(!b)throw Error("Invalid event type");var Qe=u(we)?!!we.capture:!!we,Vt=St(d);if(Vt||(d[at]=Vt=new Me(d)),D=Vt.add(b,D,G,Qe,Pe),D.proxy)return D;if(G=gt(),D.proxy=G,G.src=d,G.listener=D,d.addEventListener)B||(we=Qe),we===void 0&&(we=!1),d.addEventListener(b.toString(),G,we);else if(d.attachEvent)d.attachEvent(lt(b.toString()),G);else if(d.addListener&&d.removeListener)d.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return D}function gt(){function d(D){return b.call(d.src,d.listener,D)}const b=ut;return d}function Ge(d,b,D,G,we){if(Array.isArray(b))for(var Pe=0;Pe<b.length;Pe++)Ge(d,b[Pe],D,G,we);else G=u(G)?!!G.capture:!!G,D=Dt(D),d&&d[fe]?(d=d.i,b=String(b).toString(),b in d.g&&(Pe=d.g[b],D=Ze(Pe,D,G,we),-1<D&&(Ne(Pe[D]),Array.prototype.splice.call(Pe,D,1),Pe.length==0&&(delete d.g[b],d.h--)))):d&&(d=St(d))&&(b=d.g[b.toString()],d=-1,b&&(d=Ze(b,D,G,we)),(D=-1<d?b[d]:null)&&rt(D))}function rt(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[fe])qe(b.i,d);else{var D=d.type,G=d.proxy;b.removeEventListener?b.removeEventListener(D,G,d.capture):b.detachEvent?b.detachEvent(lt(D),G):b.addListener&&b.removeListener&&b.removeListener(G),(D=St(b))?(qe(D,d),D.h==0&&(D.src=null,b[at]=null)):Ne(d)}}}function lt(d){return d in Fe?Fe[d]:Fe[d]="on"+d}function ut(d,b){if(d.da)d=!0;else{b=new z(b,this);var D=d.listener,G=d.ha||d.src;d.fa&&rt(d),d=D.call(G,b)}return d}function St(d){return d=d[at],d instanceof Me?d:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dt(d){return typeof d=="function"?d:(d[bt]||(d[bt]=function(b){return d.handleEvent(b)}),d[bt])}function Ct(){I.call(this),this.i=new Me(this),this.M=this,this.F=null}x(Ct,I),Ct.prototype[fe]=!0,Ct.prototype.removeEventListener=function(d,b,D,G){Ge(this,d,b,D,G)};function Pt(d,b){var D,G=d.F;if(G)for(D=[];G;G=G.F)D.push(G);if(d=d.M,G=b.type||b,typeof b=="string")b=new M(b,d);else if(b instanceof M)b.target=b.target||d;else{var we=b;b=new M(G,d),O(b,we)}if(we=!0,D)for(var Pe=D.length-1;0<=Pe;Pe--){var Qe=b.g=D[Pe];we=Yt(Qe,G,!0,b)&&we}if(Qe=b.g=d,we=Yt(Qe,G,!0,b)&&we,we=Yt(Qe,G,!1,b)&&we,D)for(Pe=0;Pe<D.length;Pe++)Qe=b.g=D[Pe],we=Yt(Qe,G,!1,b)&&we}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var d=this.i,b;for(b in d.g){for(var D=d.g[b],G=0;G<D.length;G++)Ne(D[G]);delete d.g[b],d.h--}}this.F=null},Ct.prototype.K=function(d,b,D,G){return this.i.add(String(d),b,!1,D,G)},Ct.prototype.L=function(d,b,D,G){return this.i.add(String(d),b,!0,D,G)};function Yt(d,b,D,G){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();for(var we=!0,Pe=0;Pe<b.length;++Pe){var Qe=b[Pe];if(Qe&&!Qe.da&&Qe.capture==D){var Vt=Qe.listener,tr=Qe.ha||Qe.src;Qe.fa&&qe(d.i,Qe),we=Vt.call(tr,G)!==!1&&we}}return we&&!G.defaultPrevented}function Lt(d,b,D){if(typeof d=="function")D&&(d=p(d,D));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:o.setTimeout(d,b||0)}function Gt(d){d.g=Lt(()=>{d.g=null,d.i&&(d.i=!1,Gt(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class dt extends I{constructor(b,D){super(),this.m=b,this.l=D,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Gt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(d){I.call(this),this.h=d,this.g={}}x(Wr,I);var Qt=[];function Qn(d){J(d.g,function(b,D){this.g.hasOwnProperty(D)&&rt(b)},d),d.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),Qn(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=o.JSON.stringify,Fr=o.JSON.parse,Gi=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function Zt(){}Zt.prototype.h=null;function hs(d){return d.h||(d.h=d.i())}function Dr(){}var Rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){M.call(this,"d")}x(Ri,M);function vr(){M.call(this,"c")}x(vr,M);var kt={},ir=null;function Ki(){return ir=ir||new Ct}kt.La="serverreachability";function on(d){M.call(this,kt.La,d)}x(on,M);function Un(d){const b=Ki();Pt(b,new on(b))}kt.STAT_EVENT="statevent";function Fi(d,b){M.call(this,kt.STAT_EVENT,d),this.stat=b}x(Fi,M);function xt(d){const b=Ki();Pt(b,new Fi(b,d))}kt.Ma="timingevent";function gi(d,b){M.call(this,kt.Ma,d),this.size=b}x(gi,M);function Sn(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},b)}function ln(){this.g=!0}ln.prototype.xa=function(){this.g=!1};function tn(d,b,D,G,we,Pe){d.info(function(){if(d.g)if(Pe)for(var Qe="",Vt=Pe.split("&"),tr=0;tr<Vt.length;tr++){var Ut=Vt[tr].split("=");if(1<Ut.length){var Sr=Ut[0];Ut=Ut[1];var Br=Sr.split("_");Qe=2<=Br.length&&Br[1]=="type"?Qe+(Sr+"="+Ut+"&"):Qe+(Sr+"=redacted&")}}else Qe=null;else Qe=Pe;return"XMLHTTP REQ ("+G+") [attempt "+we+"]: "+b+`
`+D+`
`+Qe})}function Zr(d,b,D,G,we,Pe,Qe){d.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+we+"]: "+b+`
`+D+`
`+Pe+" "+Qe})}function q(d,b,D,G){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Q(d,D)+(G?" "+G:"")})}function ae(d,b){d.info(function(){return"TIMEOUT: "+b})}ln.prototype.info=function(){};function Q(d,b){if(!d.g)return b;if(!b)return null;try{var D=JSON.parse(b);if(D){for(d=0;d<D.length;d++)if(Array.isArray(D[d])){var G=D[d];if(!(2>G.length)){var we=G[1];if(Array.isArray(we)&&!(1>we.length)){var Pe=we[0];if(Pe!="noop"&&Pe!="stop"&&Pe!="close")for(var Qe=1;Qe<we.length;Qe++)we[Qe]=""}}}}return sr(D)}catch{return b}}var Z={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},se={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oe;function Ae(){}x(Ae,Zt),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},oe=new Ae;function Re(d,b,D,G){this.j=d,this.i=b,this.l=D,this.R=G||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var Ce={},Le={};function Ye(d,b,D){d.L=1,d.v=ro(Oi(b)),d.m=D,d.P=!0,nt(d,null)}function nt(d,b){d.F=Date.now(),ct(d),d.A=Oi(d.v);var D=d.A,G=d.R;Array.isArray(G)||(G=[String(G)]),Mt(D.i,"t",G),d.C=0,D=d.j.J,d.h=new Te,d.g=V(d.j,D?b:null,!d.m),0<d.O&&(d.M=new dt(p(d.Y,d,d.g),d.O)),b=d.U,D=d.g,G=d.ca;var we="readystatechange";Array.isArray(we)||(we&&(Qt[0]=we.toString()),we=Qt);for(var Pe=0;Pe<we.length;Pe++){var Qe=ue(D,we[Pe],G||b.handleEvent,!1,b.h||b);if(!Qe)break;b.g[Qe.key]=Qe}b=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,b)):(d.u="GET",d.g.ea(d.A,d.u,null,b)),Un(),tn(d.i,d.u,d.A,d.l,d.R,d.m)}Re.prototype.ca=function(d){d=d.target;const b=this.M;b&&Fn(d)==3?b.j():this.Y(d)},Re.prototype.Y=function(d){try{if(d==this.g)e:{const Br=Fn(this.g);var b=this.g.Ba();const la=this.g.Z();if(!(3>Br)&&(Br!=3||this.g&&(this.h.h||this.g.oa()||Ec(this.g)))){this.J||Br!=4||b==7||(b==8||0>=la?Un(3):Un(2)),ar(this);var D=this.g.Z();this.X=D;t:if(pt(this)){var G=Ec(this.g);d="";var we=G.length,Pe=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),or(this);var Qe="";break t}this.h.i=new o.TextDecoder}for(b=0;b<we;b++)this.h.h=!0,d+=this.h.i.decode(G[b],{stream:!(Pe&&b==we-1)});G.length=0,this.h.g+=d,this.C=0,Qe=this.h.g}else Qe=this.g.oa();if(this.o=D==200,Zr(this.i,this.u,this.A,this.l,this.R,Br,D),this.o){if(this.T&&!this.K){t:{if(this.g){var Vt,tr=this.g;if((Vt=tr.g?tr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Vt)){var Ut=Vt;break t}}Ut=null}if(D=Ut)q(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Di(this,D);else{this.o=!1,this.s=3,xt(12),Or(this),or(this);break e}}if(this.P){D=!0;let ei;for(;!this.J&&this.C<Qe.length;)if(ei=et(this,Qe),ei==Le){Br==4&&(this.s=4,xt(14),D=!1),q(this.i,this.l,null,"[Incomplete Response]");break}else if(ei==Ce){this.s=4,xt(15),q(this.i,this.l,Qe,"[Invalid Chunk]"),D=!1;break}else q(this.i,this.l,ei,null),Di(this,ei);if(pt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Br!=4||Qe.length!=0||this.h.h||(this.s=1,xt(16),D=!1),this.o=this.o&&D,!D)q(this.i,this.l,Qe,"[Invalid Chunked Response]"),Or(this),or(this);else if(0<Qe.length&&!this.W){this.W=!0;var Sr=this.j;Sr.g==this&&Sr.ba&&!Sr.M&&(Sr.j.info("Great, no buffering proxy detected. Bytes received: "+Qe.length),nl(Sr),Sr.M=!0,xt(11))}}else q(this.i,this.l,Qe,null),Di(this,Qe);Br==4&&Or(this),this.o&&!this.J&&(Br==4?Ra(this.j,this):(this.o=!1,ct(this)))}else Pa(this.g),D==400&&0<Qe.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Or(this),or(this)}}}catch{}finally{}};function pt(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function et(d,b){var D=d.C,G=b.indexOf(`
`,D);return G==-1?Le:(D=Number(b.substring(D,G)),isNaN(D)?Ce:(G+=1,G+D>b.length?Le:(b=b.slice(G,G+D),d.C=G+D,b)))}Re.prototype.cancel=function(){this.J=!0,Or(this)};function ct(d){d.S=Date.now()+d.I,Ft(d,d.I)}function Ft(d,b){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Sn(p(d.ba,d),b)}function ar(d){d.B&&(o.clearTimeout(d.B),d.B=null)}Re.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ae(this.i,this.A),this.L!=2&&(Un(),xt(17)),Or(this),this.s=2,or(this)):Ft(this,this.S-d)};function or(d){d.j.G==0||d.J||Ra(d.j,d)}function Or(d){ar(d);var b=d.M;b&&typeof b.ma=="function"&&b.ma(),d.M=null,Qn(d.U),d.g&&(b=d.g,d.g=null,b.abort(),b.ma())}function Di(d,b){try{var D=d.j;if(D.G!=0&&(D.g==d||Jn(D.h,d))){if(!d.K&&Jn(D.h,d)&&D.G==3){try{var G=D.Da.g.parse(b)}catch{G=null}if(Array.isArray(G)&&G.length==3){var we=G;if(we[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<d.F)oa(D),Zo(D);else break e;oo(D),xt(18)}}else D.za=we[1],0<D.za-D.T&&37500>we[2]&&D.F&&D.v==0&&!D.C&&(D.C=Sn(p(D.Za,D),6e3));if(1>=ps(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else vi(D,11)}else if((d.K||D.g==d)&&oa(D),!E(b))for(we=D.Da.g.parse(b),b=0;b<we.length;b++){let Ut=we[b];if(D.T=Ut[0],Ut=Ut[1],D.G==2)if(Ut[0]=="c"){D.K=Ut[1],D.ia=Ut[2];const Sr=Ut[3];Sr!=null&&(D.la=Sr,D.j.info("VER="+D.la));const Br=Ut[4];Br!=null&&(D.Aa=Br,D.j.info("SVER="+D.Aa));const la=Ut[5];la!=null&&typeof la=="number"&&0<la&&(G=1.5*la,D.L=G,D.j.info("backChannelRequestTimeoutMs_="+G)),G=D;const ei=d.g;if(ei){const Fa=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fa){var Pe=G.h;Pe.g||Fa.indexOf("spdy")==-1&&Fa.indexOf("quic")==-1&&Fa.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&($r(Pe,Pe.h),Pe.h=null))}if(G.D){const Da=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(G.ya=Da,Ar(G.I,G.D,Da))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-d.F,D.j.info("Handshake RTT: "+D.R+"ms")),G=D;var Qe=d;if(G.qa=_(G,G.J?G.ia:null,G.W),Qe.K){fu(G.h,Qe);var Vt=Qe,tr=G.L;tr&&(Vt.I=tr),Vt.B&&(ar(Vt),ct(Vt)),G.g=Qe}else rl(G);0<D.i.length&&el(D)}else Ut[0]!="stop"&&Ut[0]!="close"||vi(D,7);else D.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?vi(D,7):aa(D):Ut[0]!="noop"&&D.l&&D.l.ta(Ut),D.v=0)}}Un(4)}catch{}}var ta=class{constructor(d,b){this.g=d,this.map=b}};function ds(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yi(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ps(d){return d.h?1:d.g?d.g.size:0}function Jn(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function $r(d,b){d.g?d.g.add(b):d.h=b}function fu(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}ds.prototype.cancel=function(){if(this.i=hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function hu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const D of d.g.values())b=b.concat(D.D);return b}return g(d.i)}function gc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var b=[],D=d.length,G=0;G<D;G++)b.push(d[G]);return b}b=[],D=0;for(G in d)b[D++]=d[G];return b}function du(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var b=[];d=d.length;for(var D=0;D<d;D++)b.push(D);return b}b=[],D=0;for(const G in d)b[D++]=G;return b}}}function vc(d,b){if(d.forEach&&typeof d.forEach=="function")d.forEach(b,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,b,void 0);else for(var D=du(d),G=gc(d),we=G.length,Pe=0;Pe<we;Pe++)b.call(void 0,G[Pe],D&&D[Pe],d)}var Xi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ho(d,b){if(d){d=d.split("&");for(var D=0;D<d.length;D++){var G=d[D].indexOf("="),we=null;if(0<=G){var Pe=d[D].substring(0,G);we=d[D].substring(G+1)}else Pe=d[D];b(Pe,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function un(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof un){this.h=d.h,to(this,d.j),this.o=d.o,this.g=d.g,Wo(this,d.s),this.l=d.l;var b=d.i,D=new ka;D.i=b.i,b.g&&(D.g=new Map(b.g),D.h=b.h),pu(this,D),this.m=d.m}else d&&(b=String(d).match(Xi))?(this.h=!1,to(this,b[1]||"",!0),this.o=no(b[2]||""),this.g=no(b[3]||"",!0),Wo(this,b[4]),this.l=no(b[5]||"",!0),pu(this,b[6]||"",!0),this.m=no(b[7]||"")):(this.h=!1,this.i=new ka(null,this.h))}un.prototype.toString=function(){var d=[],b=this.j;b&&d.push(ra(b,yc,!0),":");var D=this.g;return(D||b=="file")&&(d.push("//"),(b=this.o)&&d.push(ra(b,yc,!0),"@"),d.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&d.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&d.push("/"),d.push(ra(D,D.charAt(0)=="/"?na:ph,!0))),(D=this.i.toString())&&d.push("?",D),(D=this.m)&&d.push("#",ra(D,Go)),d.join("")};function Oi(d){return new un(d)}function to(d,b,D){d.j=D?no(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function Wo(d,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);d.s=b}else d.s=null}function pu(d,b,D){b instanceof ka?(d.i=b,mh(d.i,d.h)):(D||(b=ra(b,$o)),d.i=new ka(b,d.h))}function Ar(d,b,D){d.i.set(b,D)}function ro(d){return Ar(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function no(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ra(d,b,D){return typeof d=="string"?(d=encodeURI(d).replace(b,dh),D&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function dh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var yc=/[#\/\?@]/g,ph=/[#\?:]/g,na=/[#\?]/g,$o=/[#\?@]/g,Go=/#/g;function ka(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function Gr(d){d.g||(d.g=new Map,d.h=0,d.i&&Ho(d.i,function(b,D){d.add(decodeURIComponent(b.replace(/\+/g," ")),D)}))}t=ka.prototype,t.add=function(d,b){Gr(this),this.i=null,d=Ia(this,d);var D=this.g.get(d);return D||this.g.set(d,D=[]),D.push(b),this.h+=1,this};function xc(d,b){Gr(d),b=Ia(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function mu(d,b){return Gr(d),b=Ia(d,b),d.g.has(b)}t.forEach=function(d,b){Gr(this),this.g.forEach(function(D,G){D.forEach(function(we){d.call(b,we,G,this)},this)},this)},t.na=function(){Gr(this);const d=Array.from(this.g.values()),b=Array.from(this.g.keys()),D=[];for(let G=0;G<b.length;G++){const we=d[G];for(let Pe=0;Pe<we.length;Pe++)D.push(b[G])}return D},t.V=function(d){Gr(this);let b=[];if(typeof d=="string")mu(this,d)&&(b=b.concat(this.g.get(Ia(this,d))));else{d=Array.from(this.g.values());for(let D=0;D<d.length;D++)b=b.concat(d[D])}return b},t.set=function(d,b){return Gr(this),this.i=null,d=Ia(this,d),mu(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},t.get=function(d,b){return d?(d=this.V(d),0<d.length?String(d[0]):b):b};function Mt(d,b,D){xc(d,b),0<D.length&&(d.i=null,d.g.set(Ia(d,b),g(D)),d.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(var D=0;D<b.length;D++){var G=b[D];const Pe=encodeURIComponent(String(G)),Qe=this.V(G);for(G=0;G<Qe.length;G++){var we=Pe;Qe[G]!==""&&(we+="="+encodeURIComponent(String(Qe[G]))),d.push(we)}}return this.i=d.join("&")};function Ia(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function mh(d,b){b&&!d.j&&(Gr(d),d.i=null,d.g.forEach(function(D,G){var we=G.toLowerCase();G!=we&&(xc(this,G),Mt(this,we,D))},d)),d.j=b}function Ds(d,b){const D=new ln;if(o.Image){const G=new Image;G.onload=m(ms,D,"TestLoadImage: loaded",!0,b,G),G.onerror=m(ms,D,"TestLoadImage: error",!1,b,G),G.onabort=m(ms,D,"TestLoadImage: abort",!1,b,G),G.ontimeout=m(ms,D,"TestLoadImage: timeout",!1,b,G),o.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=d}else b(!1)}function _c(d,b){const D=new ln,G=new AbortController,we=setTimeout(()=>{G.abort(),ms(D,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:G.signal}).then(Pe=>{clearTimeout(we),Pe.ok?ms(D,"TestPingServer: ok",!0,b):ms(D,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(we),ms(D,"TestPingServer: error",!1,b)})}function ms(d,b,D,G,we){try{we&&(we.onload=null,we.onerror=null,we.onabort=null,we.ontimeout=null),G(D)}catch{}}function Ko(){this.g=new Gi}function gu(d,b,D){const G=D||"";try{vc(d,function(we,Pe){let Qe=we;u(we)&&(Qe=sr(we)),b.push(G+Pe+"="+encodeURIComponent(Qe))})}catch(we){throw b.push(G+"type="+encodeURIComponent("_badmap")),we}}function Yo(d){this.l=d.Ub||null,this.j=d.eb||!1}x(Yo,Zt),Yo.prototype.g=function(){return new Xo(this.l,this.j)},Yo.prototype.i=function(d){return function(){return d}}({});function Xo(d,b){Ct.call(this),this.D=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Xo,Ct),t=Xo.prototype,t.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=b,this.readyState=1,gs(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(b.body=d),(this.D||o).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function wc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?ia(this):gs(this),this.readyState==3&&wc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,ia(this))},t.Qa=function(d){this.g&&(this.response=d,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(d){d.readyState=4,d.l=null,d.j=null,d.v=null,gs(d)}t.setRequestHeader=function(d,b){this.u.append(d,b)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var D=b.next();!D.done;)D=D.value,d.push(D[0]+": "+D[1]),D=b.next();return d.join(`\r
`)};function gs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function sa(d){let b="";return J(d,function(D,G){b+=G,b+=":",b+=D,b+=`\r
`}),b}function vu(d,b,D){e:{for(G in D){var G=!1;break e}G=!0}G||(D=sa(D),typeof d=="string"?D!=null&&encodeURIComponent(String(D)):Ar(d,b,D))}function Er(d){Ct.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Er,Ct);var yu=/^https?$/i,Qo=["POST","PUT"];t=Er.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,b,D,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oe.g(),this.v=this.o?hs(this.o):hs(oe),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(Pe){xu(this,Pe);return}if(d=D||"",D=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var we in G)D.set(we,G[we]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const Pe of G.keys())D.set(Pe,G.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(D.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),we=o.FormData&&d instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Qo,b,void 0))||G||we||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,Qe]of D)this.g.setRequestHeader(Pe,Qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vs(this),this.u=!0,this.g.send(d),this.u=!1}catch(Pe){xu(this,Pe)}};function xu(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.m=5,_u(d),io(d)}function _u(d){d.A||(d.A=!0,Pt(d,"complete"),Pt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Pt(this,"complete"),Pt(this,"abort"),io(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),io(this,!0)),Er.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wu(this):this.bb())},t.bb=function(){wu(this)};function wu(d){if(d.h&&typeof a<"u"&&(!d.v[1]||Fn(d)!=4||d.Z()!=2)){if(d.u&&Fn(d)==4)Lt(d.Ea,0,d);else if(Pt(d,"readystatechange"),Fn(d)==4){d.h=!1;try{const Qe=d.Z();e:switch(Qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var D;if(!(D=b)){var G;if(G=Qe===0){var we=String(d.D).match(Xi)[1]||null;!we&&o.self&&o.self.location&&(we=o.self.location.protocol.slice(0,-1)),G=!yu.test(we?we.toLowerCase():"")}D=G}if(D)Pt(d,"complete"),Pt(d,"success");else{d.m=6;try{var Pe=2<Fn(d)?d.g.statusText:""}catch{Pe=""}d.l=Pe+" ["+d.Z()+"]",_u(d)}}finally{io(d)}}}}function io(d,b){if(d.g){vs(d);const D=d.g,G=d.v[0]?()=>{}:null;d.g=null,d.v=null,b||Pt(d,"ready");try{D.onreadystatechange=G}catch{}}}function vs(d){d.I&&(o.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Fn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Fr(b)}};function Ec(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Pa(d){const b={};d=(d.g&&2<=Fn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<d.length;G++){if(E(d[G]))continue;var D=k(d[G]);const we=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const Pe=b[we]||[];b[we]=Pe,Pe.push(D)}P(b,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(d,b,D){return D&&D.internalChannelParams&&D.internalChannelParams[d]||b}function Jo(d){this.Aa=0,this.i=[],this.j=new ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zn("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zn("baseRetryDelayMs",5e3,d),this.cb=Zn("retryDelaySeedMs",1e4,d),this.Wa=Zn("forwardChannelMaxRetries",2,d),this.wa=Zn("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ds(d&&d.concurrentRequestLimit),this.Da=new Ko,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jo.prototype,t.la=8,t.G=1,t.connect=function(d,b,D,G){xt(0),this.W=d,this.H=b||{},D&&G!==void 0&&(this.H.OSID=D,this.H.OAID=G),this.F=this.X,this.I=_(this,null,this.W),el(this)};function aa(d){if(so(d),d.G==3){var b=d.U++,D=Oi(d.I);if(Ar(D,"SID",d.K),Ar(D,"RID",b),Ar(D,"TYPE","terminate"),La(d,D),b=new Re(d,d.j,b),b.L=2,b.v=ro(Oi(D)),D=!1,o.navigator&&o.navigator.sendBeacon)try{D=o.navigator.sendBeacon(b.v.toString(),"")}catch{}!D&&o.Image&&(new Image().src=b.v,D=!0),D||(b.g=V(b.j,null),b.g.ea(b.v)),b.F=Date.now(),ct(b)}sl(d)}function Zo(d){d.g&&(nl(d),d.g.cancel(),d.g=null)}function so(d){Zo(d),d.u&&(o.clearTimeout(d.u),d.u=null),oa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&o.clearTimeout(d.s),d.s=null)}function el(d){if(!Yi(d.h)&&!d.s){d.s=!0;var b=d.Ga;ge||me(),te||(ge(),te=!0),ce.add(b,d),d.B=0}}function Eu(d,b){return ps(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=b.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Sn(p(d.Ga,d,b),il(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const we=new Re(this,this.j,d);let Pe=this.o;if(this.S&&(Pe?(Pe=C(Pe),O(Pe,this.S)):Pe=this.S),this.m!==null||this.O||(we.H=Pe,Pe=null),this.P)e:{for(var b=0,D=0;D<this.i.length;D++){t:{var G=this.i[D];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(b+=G,4096<b){b=D;break e}if(b===4096||D===this.i.length-1){b=D+1;break e}}b=1e3}else b=1e3;b=ao(this,we,b),D=Oi(this.I),Ar(D,"RID",d),Ar(D,"CVER",22),this.D&&Ar(D,"X-HTTP-Session-Id",this.D),La(this,D),Pe&&(this.O?b="headers="+encodeURIComponent(String(sa(Pe)))+"&"+b:this.m&&vu(D,this.m,Pe)),$r(this.h,we),this.Ua&&Ar(D,"TYPE","init"),this.P?(Ar(D,"$req",b),Ar(D,"SID","null"),we.T=!0,Ye(we,D,null)):Ye(we,D,b),this.G=2}}else this.G==3&&(d?tl(this,d):this.i.length==0||Yi(this.h)||tl(this))};function tl(d,b){var D;b?D=b.l:D=d.U++;const G=Oi(d.I);Ar(G,"SID",d.K),Ar(G,"RID",D),Ar(G,"AID",d.T),La(d,G),d.m&&d.o&&vu(G,d.m,d.o),D=new Re(d,d.j,D,d.B+1),d.m===null&&(D.H=d.o),b&&(d.i=b.D.concat(d.i)),b=ao(d,D,1e3),D.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),$r(d.h,D),Ye(D,G,b)}function La(d,b){d.H&&J(d.H,function(D,G){Ar(b,G,D)}),d.l&&vc({},function(D,G){Ar(b,G,D)})}function ao(d,b,D){D=Math.min(d.i.length,D);var G=d.l?p(d.l.Na,d.l,d):null;e:{var we=d.i;let Pe=-1;for(;;){const Qe=["count="+D];Pe==-1?0<D?(Pe=we[0].g,Qe.push("ofs="+Pe)):Pe=0:Qe.push("ofs="+Pe);let Vt=!0;for(let tr=0;tr<D;tr++){let Ut=we[tr].g;const Sr=we[tr].map;if(Ut-=Pe,0>Ut)Pe=Math.max(0,we[tr].g-100),Vt=!1;else try{gu(Sr,Qe,"req"+Ut+"_")}catch{G&&G(Sr)}}if(Vt){G=Qe.join("&");break e}}}return d=d.i.splice(0,D),b.D=d,G}function rl(d){if(!d.g&&!d.u){d.Y=1;var b=d.Fa;ge||me(),te||(ge(),te=!0),ce.add(b,d),d.v=0}}function oo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Sn(p(d.Fa,d),il(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Sn(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Zo(this),Sc(this))};function nl(d){d.A!=null&&(o.clearTimeout(d.A),d.A=null)}function Sc(d){d.g=new Re(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var b=Oi(d.qa);Ar(b,"RID","rpc"),Ar(b,"SID",d.K),Ar(b,"AID",d.T),Ar(b,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ar(b,"TO",d.ja),Ar(b,"TYPE","xmlhttp"),La(d,b),d.m&&d.o&&vu(b,d.m,d.o),d.L&&(d.g.I=d.L);var D=d.g;d=d.ia,D.L=1,D.v=ro(Oi(b)),D.m=null,D.P=!0,nt(D,d)}t.Za=function(){this.C!=null&&(this.C=null,Zo(this),oo(this),xt(19))};function oa(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function Ra(d,b){var D=null;if(d.g==b){oa(d),nl(d),d.g=null;var G=2}else if(Jn(d.h,b))D=b.D,fu(d.h,b),G=1;else return;if(d.G!=0){if(b.o)if(G==1){D=b.m?b.m.length:0,b=Date.now()-b.F;var we=d.B;G=Ki(),Pt(G,new gi(G,D)),el(d)}else rl(d);else if(we=b.s,we==3||we==0&&0<b.X||!(G==1&&Eu(d,b)||G==2&&oo(d)))switch(D&&0<D.length&&(b=d.h,b.i=b.i.concat(D)),we){case 1:vi(d,5);break;case 4:vi(d,10);break;case 3:vi(d,6);break;default:vi(d,2)}}}function il(d,b){let D=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(D*=2),D*b}function vi(d,b){if(d.j.info("Error code "+b),b==2){var D=p(d.fb,d),G=d.Xa;const we=!G;G=new un(G||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||to(G,"https"),ro(G),we?Ds(G.toString(),D):_c(G.toString(),D)}else xt(2);d.G=0,d.l&&d.l.sa(b),sl(d),so(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function sl(d){if(d.G=0,d.ka=[],d.l){const b=hu(d.h);(b.length!=0||d.i.length!=0)&&(S(d.ka,b),S(d.ka,d.i),d.h.i.length=0,g(d.i),d.i.length=0),d.l.ra()}}function _(d,b,D){var G=D instanceof un?Oi(D):new un(D);if(G.g!="")b&&(G.g=b+"."+G.g),Wo(G,G.s);else{var we=o.location;G=we.protocol,b=b?b+"."+we.hostname:we.hostname,we=+we.port;var Pe=new un(null);G&&to(Pe,G),b&&(Pe.g=b),we&&Wo(Pe,we),D&&(Pe.l=D),G=Pe}return D=d.D,b=d.ya,D&&b&&Ar(G,D,b),Ar(G,"VER",d.la),La(d,G),G}function V(d,b,D){if(b&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Ca&&!d.pa?new Er(new Yo({eb:D})):new Er(d.pa),b.Ha(d.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function le(){}t=le.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function de(){}de.prototype.g=function(d,b){return new Ee(d,b)};function Ee(d,b){Ct.call(this),this.g=new Jo(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(d?d["X-WebChannel-Client-Profile"]=b.va:d={"X-WebChannel-Client-Profile":b.va}),this.g.S=d,(d=b&&b.Sb)&&!E(d)&&(this.g.m=d),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!E(b)&&(this.g.D=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new ht(this)}x(Ee,Ct),Ee.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ee.prototype.close=function(){aa(this.g)},Ee.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var D={};D.__data__=d,d=D}else this.u&&(D={},D.__data__=sr(d),d=D);b.i.push(new ta(b.Ya++,d)),b.G==3&&el(b)},Ee.prototype.N=function(){this.g.l=null,delete this.j,aa(this.g),delete this.g,Ee.aa.N.call(this)};function Oe(d){Ri.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const D in b){d=D;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}x(Oe,Ri);function Xe(){vr.call(this),this.status=1}x(Xe,vr);function ht(d){this.g=d}x(ht,le),ht.prototype.ua=function(){Pt(this.g,"a")},ht.prototype.ta=function(d){Pt(this.g,new Oe(d))},ht.prototype.sa=function(d){Pt(this.g,new Xe)},ht.prototype.ra=function(){Pt(this.g,"b")},de.prototype.createWebChannel=de.prototype.g,Ee.prototype.send=Ee.prototype.o,Ee.prototype.open=Ee.prototype.m,Ee.prototype.close=Ee.prototype.close,CA=function(){return new de},bA=function(){return Ki()},NA=kt,Tv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Z.NO_ERROR=0,Z.TIMEOUT=8,Z.HTTP_ERROR=6,zp=Z,se.COMPLETE="complete",TA=se,Dr.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Gh=Dr,Er.prototype.listenOnce=Er.prototype.L,Er.prototype.getLastError=Er.prototype.Ka,Er.prototype.getLastErrorCode=Er.prototype.Ba,Er.prototype.getStatus=Er.prototype.Z,Er.prototype.getResponseJson=Er.prototype.Oa,Er.prototype.getResponseText=Er.prototype.oa,Er.prototype.send=Er.prototype.ea,Er.prototype.setWithCredentials=Er.prototype.Ha,AA=Er}).apply(typeof dp<"u"?dp:typeof self<"u"?self:typeof window<"u"?window:{});const Aw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ti=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new vA("@firebase/firestore");function Bh(){return Qu.logLevel}function At(t,...e){if(Qu.logLevel<=cr.DEBUG){const r=e.map(fx);Qu.debug(`Firestore (${ih}): ${t}`,...r)}}function Fo(t,...e){if(Qu.logLevel<=cr.ERROR){const r=e.map(fx);Qu.error(`Firestore (${ih}): ${t}`,...r)}}function jf(t,...e){if(Qu.logLevel<=cr.WARN){const r=e.map(fx);Qu.warn(`Firestore (${ih}): ${t}`,...r)}}function fx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t="Unexpected state"){const e=`FIRESTORE (${ih}) INTERNAL ASSERTION FAILED: `+t;throw Fo(e),new Error(e)}function Lr(t,e){t||Bt()}function $t(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends nh{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ti.UNAUTHENTICATED))}shutdown(){}}class mL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class gL{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Lr(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new Ao;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ao,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ao)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Lr(typeof n.accessToken=="string"),new kA(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lr(e===null||typeof e=="string"),new Ti(e)}}class vL{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yL{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new vL(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _L{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Lr(this.o===void 0);const n=s=>{s.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,At("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Lr(typeof r.token=="string"),this.R=r.token,new xL(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=wL(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function pr(t,e){return t<e?-1:t>e?1:0}function Mf(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new _t(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new _t(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new _t(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _t(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Vn(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pr(this.nanoseconds,e.nanoseconds):pr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new qt(e)}static min(){return new qt(new Vn(0,0))}static max(){return new qt(new Vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,r,n){r===void 0?r=0:r>e.length&&Bt(),n===void 0?n=e.length-r:n>e.length-r&&Bt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ud.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ud?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Yr extends Ud{construct(e,r,n){return new Yr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new _t(He.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Yr(r)}static emptyPath(){return new Yr([])}}const EL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oi extends Ud{construct(e,r,n){return new oi(e,r,n)}static isValidIdentifier(e){return EL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new oi(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new _t(He.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new _t(He.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new _t(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new _t(He.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oi(r)}static emptyPath(){return new oi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.path=e}static fromPath(e){return new It(Yr.fromString(e))}static fromName(e){return new It(Yr.fromString(e).popFirst(5))}static empty(){return new It(Yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Yr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new It(new Yr(e.slice()))}}function SL(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=qt.fromTimestamp(n===1e9?new Vn(r+1,0):new Vn(r,n));return new Yl(i,It.empty(),e)}function AL(t){return new Yl(t.readTime,t.key,-1)}class Yl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Yl(qt.min(),It.empty(),-1)}static max(){return new Yl(qt.max(),It.empty(),-1)}}function TL(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=It.comparator(t.documentKey,e.documentKey),r!==0?r:pr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(t){if(t.code!==He.FAILED_PRECONDITION||t.message!==NL)throw t;At("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Je((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Je?r:Je.resolve(r)}catch(r){return Je.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Je.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Je.reject(r)}static resolve(e){return new Je((r,n)=>{r(e)})}static reject(e){return new Je((r,n)=>{n(e)})}static waitFor(e){return new Je((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=Je.resolve(!1);for(const n of e)r=r.next(i=>i?Je.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new Je((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next(c=>{a[u]=c,++o,o===s&&n(a)},c=>i(c))}})}static doWhile(e,r){return new Je((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function CL(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function p0(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hx.oe=-1;function Am(t){return t==null}function A1(t){return t===0&&1/t==-1/0}function kL(t){return typeof t=="number"&&Number.isInteger(t)&&!A1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function lc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function PA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,r){this.comparator=e,this.root=r||ai.EMPTY}insert(e,r){return new an(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pp(this.root,e,this.comparator,!1)}getReverseIterator(){return new pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pp(this.root,e,this.comparator,!0)}}class pp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ai{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??ai.RED,this.left=i??ai.EMPTY,this.right=s??ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new ai(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ai.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const e=this.left.check();if(e!==this.right.check())throw Bt();return e+(this.isRed()?0:1)}}ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1;ai.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(e,r,n,i,s){return this}insert(e,r,n){return new ai(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Nw(this.data.getIterator())}getIteratorFrom(e){return new Nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof fi)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new fi(this.comparator);return r.data=e,r}}class Nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.fields=e,e.sort(oi.comparator)}static empty(){return new bs([])}unionWith(e){let r=new fi(oi.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new bs(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Mf(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LA("Invalid base64 string: "+s):s}}(e);return new pi(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new pi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pi.EMPTY_BYTE_STRING=new pi("");const IL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xl(t){if(Lr(!!t),typeof t=="string"){let e=0;const r=IL.exec(t);if(Lr(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:vn(t.seconds),nanos:vn(t.nanos)}}function vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ju(t){return typeof t=="string"?pi.fromBase64String(t):pi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function px(t){const e=t.mapValue.fields.__previous_value__;return dx(e)?px(e):e}function zd(t){const e=Xl(t.mapValue.fields.__local_write_time__.timestampValue);return new Vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,r,n,i,s,a,o,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class qd{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new qd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp={mapValue:{}};function Zu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dx(t)?4:RL(t)?9007199254740991:LL(t)?10:11:Bt()}function Qa(t,e){if(t===e)return!0;const r=Zu(t);if(r!==Zu(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zd(t).isEqual(zd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Xl(i.timestampValue),o=Xl(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ju(i.bytesValue).isEqual(Ju(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return vn(i.geoPointValue.latitude)===vn(s.geoPointValue.latitude)&&vn(i.geoPointValue.longitude)===vn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return vn(i.integerValue)===vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=vn(i.doubleValue),o=vn(s.doubleValue);return a===o?A1(a)===A1(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Mf(t.arrayValue.values||[],e.arrayValue.values||[],Qa);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Tw(a)!==Tw(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Qa(a[l],o[l])))return!1;return!0}(t,e);default:return Bt()}}function Hd(t,e){return(t.values||[]).find(r=>Qa(r,e))!==void 0}function Bf(t,e){if(t===e)return 0;const r=Zu(t),n=Zu(e);if(r!==n)return pr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return pr(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=vn(s.integerValue||s.doubleValue),l=vn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return bw(t.timestampValue,e.timestampValue);case 4:return bw(zd(t),zd(e));case 5:return pr(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Ju(s),l=Ju(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=pr(o[u],l[u]);if(c!==0)return c}return pr(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=pr(vn(s.latitude),vn(a.latitude));return o!==0?o:pr(vn(s.longitude),vn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Cw(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,u,c;const h=s.fields||{},p=a.fields||{},m=(o=h.value)===null||o===void 0?void 0:o.arrayValue,x=(l=p.value)===null||l===void 0?void 0:l.arrayValue,g=pr(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=x==null?void 0:x.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:Cw(m,x)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===mp.mapValue&&a===mp.mapValue)return 0;if(s===mp.mapValue)return 1;if(a===mp.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const p=pr(l[h],c[h]);if(p!==0)return p;const m=Bf(o[l[h]],u[c[h]]);if(m!==0)return m}return pr(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Bt()}}function bw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pr(t,e);const r=Xl(t),n=Xl(e),i=pr(r.seconds,n.seconds);return i!==0?i:pr(r.nanos,n.nanos)}function Cw(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Bf(r[i],n[i]);if(s)return s}return pr(r.length,n.length)}function Vf(t){return Nv(t)}function Nv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Xl(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ju(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return It.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=Nv(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Nv(r.fields[a])}`;return i+"}"}(t.mapValue):Bt()}function kw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bv(t){return!!t&&"integerValue"in t}function mx(t){return!!t&&"arrayValue"in t}function Iw(t){return!!t&&"nullValue"in t}function Pw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qp(t){return!!t&&"mapValue"in t}function LL(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function ld(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lc(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=ld(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ld(t.arrayValue.values[r]);return e}return Object.assign({},t)}function RL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.value=e}static empty(){return new rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!qp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ld(r)}setAll(e){let r=oi.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=ld(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());qp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Qa(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];qp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){lc(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new rs(ld(this.value))}}function RA(t){const e=[];return lc(t.fields,(r,n)=>{const i=new oi([r]);if(qp(n)){const s=RA(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new bs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new bi(e,0,qt.min(),qt.min(),qt.min(),rs.empty(),0)}static newFoundDocument(e,r,n,i){return new bi(e,1,r,qt.min(),n,i,0)}static newNoDocument(e,r){return new bi(e,2,r,qt.min(),qt.min(),rs.empty(),0)}static newUnknownDocument(e,r){return new bi(e,3,r,qt.min(),qt.min(),rs.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,r){this.position=e,this.inclusive=r}}function Lw(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=It.comparator(It.fromName(a.referenceValue),r.key):n=Bf(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Rw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Qa(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,r="asc"){this.field=e,this.dir=r}}function FL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FA=class{};class In extends FA{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new OL(e,r,n):r==="array-contains"?new BL(e,n):r==="in"?new VL(e,n):r==="not-in"?new UL(e,n):r==="array-contains-any"?new zL(e,n):new In(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new jL(e,n):new ML(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Bf(r,this.value)):r!==null&&Zu(this.value)===Zu(r)&&this.matchesComparison(Bf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Na extends FA{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Na(e,r)}matches(e){return DA(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function DA(t){return t.op==="and"}function OA(t){return DL(t)&&DA(t)}function DL(t){for(const e of t.filters)if(e instanceof Na)return!1;return!0}function Cv(t){if(t instanceof In)return t.field.canonicalString()+t.op.toString()+Vf(t.value);if(OA(t))return t.filters.map(e=>Cv(e)).join(",");{const e=t.filters.map(r=>Cv(r)).join(",");return`${t.op}(${e})`}}function jA(t,e){return t instanceof In?function(n,i){return i instanceof In&&n.op===i.op&&n.field.isEqual(i.field)&&Qa(n.value,i.value)}(t,e):t instanceof Na?function(n,i){return i instanceof Na&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&jA(a,i.filters[o]),!0):!1}(t,e):void Bt()}function MA(t){return t instanceof In?function(r){return`${r.field.canonicalString()} ${r.op} ${Vf(r.value)}`}(t):t instanceof Na?function(r){return r.op.toString()+" {"+r.getFilters().map(MA).join(" ,")+"}"}(t):"Filter"}class OL extends In{constructor(e,r,n){super(e,r,n),this.key=It.fromName(n.referenceValue)}matches(e){const r=It.comparator(e.key,this.key);return this.matchesComparison(r)}}class jL extends In{constructor(e,r){super(e,"in",r),this.keys=BA("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ML extends In{constructor(e,r){super(e,"not-in",r),this.keys=BA("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function BA(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>It.fromName(n.referenceValue))}class BL extends In{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return mx(r)&&Hd(r.arrayValue,this.value)}}class VL extends In{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Hd(this.value.arrayValue,r)}}class UL extends In{constructor(e,r){super(e,"not-in",r)}matches(e){if(Hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Hd(this.value.arrayValue,r)}}class zL extends In{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!mx(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Hd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function Fw(t,e=null,r=[],n=[],i=null,s=null,a=null){return new qL(t,e,r,n,i,s,a)}function gx(t){const e=$t(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Cv(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Am(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Vf(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Vf(n)).join(",")),e.ue=r}return e.ue}function vx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!FL(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!jA(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rw(t.startAt,e.startAt)&&Rw(t.endAt,e.endAt)}function kv(t){return It.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HL(t,e,r,n,i,s,a,o){return new sh(t,e,r,n,i,s,a,o)}function Tm(t){return new sh(t)}function Dw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VA(t){return t.collectionGroup!==null}function ud(t){const e=$t(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new fi(oi.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wd(s,n))}),r.has(oi.keyField().canonicalString())||e.ce.push(new Wd(oi.keyField(),n))}return e.ce}function $a(t){const e=$t(t);return e.le||(e.le=WL(e,ud(t))),e.le}function WL(t,e){if(t.limitType==="F")return Fw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wd(i.field,s)});const r=t.endAt?new T1(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new T1(t.startAt.position,t.startAt.inclusive):null;return Fw(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Iv(t,e){const r=t.filters.concat([e]);return new sh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Pv(t,e,r){return new sh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Nm(t,e){return vx($a(t),$a(e))&&t.limitType===e.limitType}function UA(t){return`${gx($a(t))}|lt:${t.limitType}`}function qc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>MA(i)).join(", ")}]`),Am(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Vf(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Vf(i)).join(",")),`Target(${n})`}($a(t))}; limitType=${t.limitType})`}function bm(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):It.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of ud(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const u=Lw(a,o,l);return a.inclusive?u<=0:u<0}(n.startAt,ud(n),i)||n.endAt&&!function(a,o,l){const u=Lw(a,o,l);return a.inclusive?u>=0:u>0}(n.endAt,ud(n),i))}(t,e)}function $L(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zA(t){return(e,r)=>{let n=!1;for(const i of ud(t)){const s=GL(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function GL(t,e,r){const n=t.field.isKeyField()?It.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?Bf(l,u):Bt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lc(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return PA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new an(It.comparator);function Do(){return KL}const qA=new an(It.comparator);function Kh(...t){let e=qA;for(const r of t)e=e.insert(r.key,r);return e}function HA(t){let e=qA;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Mu(){return cd()}function WA(){return cd()}function cd(){return new ah(t=>t.toString(),(t,e)=>t.isEqual(e))}const YL=new an(It.comparator),XL=new fi(It.comparator);function nr(...t){let e=XL;for(const r of t)e=e.add(r);return e}const QL=new fi(pr);function JL(){return QL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:A1(e)?"-0":e}}function $A(t){return{integerValue:""+t}}function ZL(t,e){return kL(e)?$A(e):yx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this._=void 0}}function eR(t,e,r){return t instanceof N1?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&dx(s)&&(s=px(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof $d?KA(t,e):t instanceof Gd?YA(t,e):function(i,s){const a=GA(i,s),o=Ow(a)+Ow(i.Pe);return bv(a)&&bv(i.Pe)?$A(o):yx(i.serializer,o)}(t,e)}function tR(t,e,r){return t instanceof $d?KA(t,e):t instanceof Gd?YA(t,e):r}function GA(t,e){return t instanceof b1?function(n){return bv(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class N1 extends Cm{}class $d extends Cm{constructor(e){super(),this.elements=e}}function KA(t,e){const r=XA(e);for(const n of t.elements)r.some(i=>Qa(i,n))||r.push(n);return{arrayValue:{values:r}}}class Gd extends Cm{constructor(e){super(),this.elements=e}}function YA(t,e){let r=XA(e);for(const n of t.elements)r=r.filter(i=>!Qa(i,n));return{arrayValue:{values:r}}}class b1 extends Cm{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Ow(t){return vn(t.integerValue||t.doubleValue)}function XA(t){return mx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rR(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof $d&&i instanceof $d||n instanceof Gd&&i instanceof Gd?Mf(n.elements,i.elements,Qa):n instanceof b1&&i instanceof b1?Qa(n.Pe,i.Pe):n instanceof N1&&i instanceof N1}(t.transform,e.transform)}class nR{constructor(e,r){this.version=e,this.transformResults=r}}class Ys{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ys}static exists(e){return new Ys(void 0,e)}static updateTime(e){return new Ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class km{}function QA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xx(t.key,Ys.none()):new m0(t.key,t.data,Ys.none());{const r=t.data,n=rs.empty();let i=new fi(oi.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new lu(t.key,n,new bs(i.toArray()),Ys.none())}}function iR(t,e,r){t instanceof m0?function(i,s,a){const o=i.value.clone(),l=Mw(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof lu?function(i,s,a){if(!Hp(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=Mw(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(JA(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function fd(t,e,r,n){return t instanceof m0?function(s,a,o,l){if(!Hp(s.precondition,a))return o;const u=s.value.clone(),c=Bw(s.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof lu?function(s,a,o,l){if(!Hp(s.precondition,a))return o;const u=Bw(s.fieldTransforms,l,a),c=a.data;return c.setAll(JA(s)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(s,a,o){return Hp(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function sR(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=GA(n.transform,i||null);s!=null&&(r===null&&(r=rs.empty()),r.set(n.field,s))}return r||null}function jw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Mf(n,i,(s,a)=>rR(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class m0 extends km{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class lu extends km{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JA(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Mw(t,e,r){const n=new Map;Lr(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,tR(a,o,r[i]))}return n}function Bw(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,eR(s,a,e))}return n}class xx extends km{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aR extends km{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&iR(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=fd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=fd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=WA();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=QA(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(qt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),nr())}isEqual(e){return this.batchId===e.batchId&&Mf(this.mutations,e.mutations,(r,n)=>jw(r,n))&&Mf(this.baseMutations,e.baseMutations,(r,n)=>jw(r,n))}}class _x{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Lr(e.mutations.length===n.length);let i=function(){return YL}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new _x(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,lr;function cR(t){switch(t){default:return Bt();case He.CANCELLED:case He.UNKNOWN:case He.DEADLINE_EXCEEDED:case He.RESOURCE_EXHAUSTED:case He.INTERNAL:case He.UNAVAILABLE:case He.UNAUTHENTICATED:return!1;case He.INVALID_ARGUMENT:case He.NOT_FOUND:case He.ALREADY_EXISTS:case He.PERMISSION_DENIED:case He.FAILED_PRECONDITION:case He.ABORTED:case He.OUT_OF_RANGE:case He.UNIMPLEMENTED:case He.DATA_LOSS:return!0}}function ZA(t){if(t===void 0)return Fo("GRPC error has no .code"),He.UNKNOWN;switch(t){case bn.OK:return He.OK;case bn.CANCELLED:return He.CANCELLED;case bn.UNKNOWN:return He.UNKNOWN;case bn.DEADLINE_EXCEEDED:return He.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return He.RESOURCE_EXHAUSTED;case bn.INTERNAL:return He.INTERNAL;case bn.UNAVAILABLE:return He.UNAVAILABLE;case bn.UNAUTHENTICATED:return He.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return He.INVALID_ARGUMENT;case bn.NOT_FOUND:return He.NOT_FOUND;case bn.ALREADY_EXISTS:return He.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return He.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return He.FAILED_PRECONDITION;case bn.ABORTED:return He.ABORTED;case bn.OUT_OF_RANGE:return He.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return He.UNIMPLEMENTED;case bn.DATA_LOSS:return He.DATA_LOSS;default:return Bt()}}(lr=bn||(bn={}))[lr.OK=0]="OK",lr[lr.CANCELLED=1]="CANCELLED",lr[lr.UNKNOWN=2]="UNKNOWN",lr[lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lr[lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lr[lr.NOT_FOUND=5]="NOT_FOUND",lr[lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",lr[lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",lr[lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",lr[lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lr[lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lr[lr.ABORTED=10]="ABORTED",lr[lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",lr[lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",lr[lr.INTERNAL=13]="INTERNAL",lr[lr.UNAVAILABLE=14]="UNAVAILABLE",lr[lr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new zu([4294967295,4294967295],0);function Vw(t){const e=fR().encode(t),r=new SA;return r.update(e),new Uint8Array(r.digest())}function Uw(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zu([r,n],0),new zu([i,s],0)]}class wx{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Yh(`Invalid padding: ${r}`);if(n<0)throw new Yh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Yh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Yh(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=zu.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(zu.fromNumber(n)));return i.compare(hR)===1&&(i=new zu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=Vw(e),[n,i]=Uw(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new wx(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=Vw(e),[n,i]=Uw(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Yh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,g0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Im(qt.min(),i,new an(pr),Do(),nr())}}class g0{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new g0(n,r,nr(),nr(),nr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class eT{constructor(e,r){this.targetId=e,this.me=r}}class tT{constructor(e,r,n=pi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class zw{constructor(){this.fe=0,this.ge=Hw(),this.pe=pi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=nr(),r=nr(),n=nr();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Bt()}}),new g0(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=Hw()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Lr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Do(),this.qe=qw(),this.Qe=new an(pr)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Bt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(kv(s))if(n===0){const a=new It(s.path);this.Ue(r,a,bi.newNoDocument(a,qt.min()))}else Lr(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Ju(n).toUint8Array()}catch(l){if(l instanceof LA)return jf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new wx(a,i,s)}catch(l){return jf(l instanceof Yh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&kv(o.target)){const l=new It(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,bi.newNoDocument(l,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=nr();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Im(e,r,this.Qe,this.ke,n);return this.ke=Do(),this.qe=qw(),this.Qe=new an(pr),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new zw,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new fi(pr),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||At("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zw),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function qw(){return new an(It.comparator)}function Hw(){return new an(It.comparator)}const pR={asc:"ASCENDING",desc:"DESCENDING"},mR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gR={and:"AND",or:"OR"};class vR{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Lv(t,e){return t.useProto3Json||Am(e)?e:{value:e}}function C1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yR(t,e){return C1(t,e.toTimestamp())}function Ga(t){return Lr(!!t),qt.fromTimestamp(function(r){const n=Xl(r);return new Vn(n.seconds,n.nanos)}(t))}function Ex(t,e){return Rv(t,e).canonicalString()}function Rv(t,e){const r=function(i){return new Yr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function nT(t){const e=Yr.fromString(t);return Lr(lT(e)),e}function Fv(t,e){return Ex(t.databaseId,e.path)}function Qg(t,e){const r=nT(e);if(r.get(1)!==t.databaseId.projectId)throw new _t(He.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new _t(He.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new It(sT(r))}function iT(t,e){return Ex(t.databaseId,e)}function xR(t){const e=nT(t);return e.length===4?Yr.emptyPath():sT(e)}function Dv(t){return new Yr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sT(t){return Lr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ww(t,e,r){return{name:Fv(t,e),fields:r.value.mapValue.fields}}function _R(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Bt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Lr(c===void 0||typeof c=="string"),pi.fromBase64String(c||"")):(Lr(c===void 0||c instanceof Buffer||c instanceof Uint8Array),pi.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const c=u.code===void 0?He.UNKNOWN:ZA(u.code);return new _t(c,u.message||"")}(a);r=new tT(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Qg(t,n.document.name),s=Ga(n.document.updateTime),a=n.document.createTime?Ga(n.document.createTime):qt.min(),o=new rs({mapValue:{fields:n.document.fields}}),l=bi.newFoundDocument(i,s,a,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new Wp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Qg(t,n.document),s=n.readTime?Ga(n.readTime):qt.min(),a=bi.newNoDocument(i,s),o=n.removedTargetIds||[];r=new Wp([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Qg(t,n.document),s=n.removedTargetIds||[];r=new Wp([],s,i,null)}else{if(!("filter"in e))return Bt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new uR(i,s),o=n.targetId;r=new eT(o,a)}}return r}function wR(t,e){let r;if(e instanceof m0)r={update:Ww(t,e.key,e.value)};else if(e instanceof xx)r={delete:Fv(t,e.key)};else if(e instanceof lu)r={update:Ww(t,e.key,e.data),updateMask:IR(e.fieldMask)};else{if(!(e instanceof aR))return Bt();r={verify:Fv(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof N1)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof $d)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Gd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof b1)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw Bt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:yR(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Bt()}(t,e.precondition)),r}function ER(t,e){return t&&t.length>0?(Lr(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?Ga(i.updateTime):Ga(s);return a.isEqual(qt.min())&&(a=Ga(s)),new nR(a,i.transformResults||[])}(r,e))):[]}function SR(t,e){return{documents:[iT(t,e.path)]}}function AR(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=iT(t,i);const s=function(u){if(u.length!==0)return oT(Na.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Hc(p.field),direction:bR(p.dir)}}(c))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=Lv(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function TR(t){let e=xR(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Lr(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];r.where&&(s=function(h){const p=aT(h);return p instanceof Na&&OA(p)?p.getFilters():[p]}(r.where));let a=[];r.orderBy&&(a=function(h){return h.map(p=>function(x){return new Wd(Wc(x.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(h){let p;return p=typeof h=="object"?h.value:h,Am(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new T1(m,p)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const p=!h.before,m=h.values||[];return new T1(m,p)}(r.endAt)),HL(e,i,a,s,o,"F",l,u)}function NR(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function aT(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Wc(r.unaryFilter.field);return In.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Wc(r.unaryFilter.field);return In.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wc(r.unaryFilter.field);return In.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Wc(r.unaryFilter.field);return In.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}(t):t.fieldFilter!==void 0?function(r){return In.create(Wc(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Na.create(r.compositeFilter.filters.map(n=>aT(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Bt()}}(r.compositeFilter.op))}(t):Bt()}function bR(t){return pR[t]}function CR(t){return mR[t]}function kR(t){return gR[t]}function Hc(t){return{fieldPath:t.canonicalString()}}function Wc(t){return oi.fromServerFormat(t.fieldPath)}function oT(t){return t instanceof In?function(r){if(r.op==="=="){if(Pw(r.value))return{unaryFilter:{field:Hc(r.field),op:"IS_NAN"}};if(Iw(r.value))return{unaryFilter:{field:Hc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Pw(r.value))return{unaryFilter:{field:Hc(r.field),op:"IS_NOT_NAN"}};if(Iw(r.value))return{unaryFilter:{field:Hc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hc(r.field),op:CR(r.op),value:r.value}}}(t):t instanceof Na?function(r){const n=r.getFilters().map(i=>oT(i));return n.length===1?n[0]:{compositeFilter:{op:kR(r.op),filters:n}}}(t):Bt()}function IR(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function lT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,r,n,i,s=qt.min(),a=qt.min(),o=pi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.ct=e}}function LR(t){const e=TR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.un=new FR}addToCollectionParentIndex(e,r){return this.un.add(r),Je.resolve()}getCollectionParents(e,r){return Je.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Je.resolve()}deleteFieldIndex(e,r){return Je.resolve()}deleteAllFieldIndexes(e){return Je.resolve()}createTargetIndexes(e,r){return Je.resolve()}getDocumentsMatchingTarget(e,r){return Je.resolve(null)}getIndexType(e,r){return Je.resolve(0)}getFieldIndexes(e,r){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,r){return Je.resolve(Yl.min())}getMinOffsetFromCollectionGroup(e,r){return Je.resolve(Yl.min())}updateCollectionGroup(e,r,n){return Je.resolve()}updateIndexEntries(e,r){return Je.resolve()}}class FR{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new fi(Yr.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new fi(Yr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Uf(0)}static kn(){return new Uf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.changes=new ah(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,bi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Je.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&fd(n.mutation,i,bs.empty(),Vn.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,nr()).next(()=>n))}getLocalViewOfDocuments(e,r,n=nr()){const i=Mu();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=Kh();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=Mu();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,nr()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=Do();const a=cd(),o=function(){return cd()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof lu)?s=s.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),fd(c.mutation,u,c.mutation.getFieldMask(),Vn.now())):a.set(u.key,bs.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>a.set(u,c)),r.forEach((u,c)=>{var h;return o.set(u,new OR(c,(h=a.get(u))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,r){const n=cd();let i=new an((a,o)=>a-o),s=nr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||bs.empty();c=o.applyToLocalView(u,c),n.set(l,c);const h=(i.get(o.batchId)||nr()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,h=WA();c.forEach(p=>{if(!s.has(p)){const m=QA(r.get(p),n.get(p));m!==null&&h.set(p,m),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Je.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return It.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):VA(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):Je.resolve(Mu());let o=-1,l=s;return a.next(u=>Je.forEach(u,(c,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(c)?Je.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,nr())).next(c=>({batchId:o,changes:HA(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new It(r)).next(n=>{let i=Kh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Kh();return this.indexManager.getCollectionParents(e,s).next(o=>Je.forEach(o,l=>{const u=function(h,p){return new sh(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((h,p)=>{a=a.insert(h,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,bi.newInvalidDocument(c)))});let o=Kh();return a.forEach((l,u)=>{const c=s.get(l);c!==void 0&&fd(c.mutation,u,bs.empty(),Vn.now()),bm(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Je.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ga(i.createTime)}}(r)),Je.resolve()}getNamedQuery(e,r){return Je.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:LR(i.bundledQuery),readTime:Ga(i.readTime)}}(r)),Je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.overlays=new an(It.comparator),this.Ir=new Map}getOverlay(e,r){return Je.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Mu();return Je.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),Je.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),Je.resolve()}getOverlaysForCollection(e,r,n){const i=Mu(),s=r.length+1,a=new It(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new an((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=s.get(u.largestBatchId);c===null&&(c=Mu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Mu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return Je.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new lR(r,n));let s=this.Ir.get(r);s===void 0&&(s=nr(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.sessionToken=pi.EMPTY_BYTE_STRING}getSessionToken(e){return Je.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.Tr=new fi(Hn.Er),this.dr=new fi(Hn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Hn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Hn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new It(new Yr([])),n=new Hn(r,e),i=new Hn(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new It(new Yr([])),n=new Hn(r,e),i=new Hn(r,e+1);let s=nr();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Hn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Hn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return It.comparator(e.key,r.key)||pr(e.wr,r.wr)}static Ar(e,r){return pr(e.wr,r.wr)||It.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new fi(Hn.Er)}checkEmpty(e){return Je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new oR(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new Hn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Je.resolve(a)}lookupMutationBatch(e,r){return Je.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return Je.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Hn(r,0),i=new Hn(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),Je.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new fi(pr);return r.forEach(i=>{const s=new Hn(i,0),a=new Hn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),Je.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;It.isDocumentKey(s)||(s=s.child(""));const a=new Hn(new It(s),0);let o=new fi(pr);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},a),Je.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Lr(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Je.forEach(r.mutations,i=>{const s=new Hn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Hn(r,0),i=this.br.firstAfterOrEqual(n);return Je.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Je.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.Mr=e,this.docs=function(){return new an(It.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Je.resolve(n?n.document.mutableCopy():bi.newInvalidDocument(r))}getEntries(e,r){let n=Do();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():bi.newInvalidDocument(i))}),Je.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Do();const a=r.path,o=new It(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||TL(AL(c),n)<=0||(i.has(c.key)||bm(r,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Je.resolve(s)}getAllFromCollectionGroup(e,r,n,i){Bt()}Or(e,r){return Je.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new qR(this)}getSize(e){return Je.resolve(this.size)}}class qR extends DR{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),Je.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.persistence=e,this.Nr=new ah(r=>gx(r),vx),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sx,this.targetCount=0,this.kr=Uf.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Je.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Uf(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Je.resolve()}updateTargetData(e,r){return this.Kn(r),Je.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Je.waitFor(s).next(()=>i)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Je.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Je.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Je.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Je.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Je.resolve(n)}containsKey(e,r){return Je.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,r){this.qr={},this.overlays={},this.Qr=new hx(0),this.Kr=!1,this.Kr=!0,this.$r=new VR,this.referenceDelegate=e(this),this.Ur=new HR(this),this.indexManager=new RR,this.remoteDocumentCache=function(i){return new zR(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new PR(r),this.Gr=new MR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new BR,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new UR(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){At("MemoryPersistence","Starting transaction:",e);const i=new $R(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return Je.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class $R extends bL{constructor(e){super(),this.currentSequenceNumber=e}}class Ax{constructor(e){this.persistence=e,this.Jr=new Sx,this.Yr=null}static Zr(e){return new Ax(e)}get Xr(){if(this.Yr)return this.Yr;throw Bt()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Je.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Je.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Je.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Xr,n=>{const i=It.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,qt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Je.or([()=>Je.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=nr(),i=nr();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Tx(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return X8()?8:CL(K8())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new GR;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Bh()<=cr.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",qc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Je.resolve()):(Bh()<=cr.DEBUG&&At("QueryEngine","Query:",qc(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Bh()<=cr.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",qc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$a(r))):Je.resolve())}Yi(e,r){if(Dw(r))return Je.resolve(null);let n=$a(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Pv(r,null,"F"),n=$a(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=nr(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(r,o);return this.ns(r,u,a,l.readTime)?this.Yi(e,Pv(r,null,"F")):this.rs(e,u,r,l)}))})))}Zi(e,r,n,i){return Dw(r)||i.isEqual(qt.min())?Je.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?Je.resolve(null):(Bh()<=cr.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qc(r)),this.rs(e,a,r,SL(i,-1)).next(o=>o))})}ts(e,r){let n=new fi(zA(e));return r.forEach((i,s)=>{bm(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return Bh()<=cr.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",qc(r)),this.Ji.getDocumentsMatchingQuery(e,r,Yl.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new an(pr),this._s=new ah(s=>gx(s),vx),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function XR(t,e,r,n){return new YR(t,e,r,n)}async function uT(t,e){const r=$t(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=nr();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:o}))})})}function QR(t,e){const r=$t(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const h=u.batch,p=h.keys();let m=Je.resolve();return p.forEach(x=>{m=m.next(()=>c.getEntry(l,x)).next(g=>{const S=u.docVersions.get(x);Lr(S!==null),g.version.compareTo(S)<0&&(h.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=nr();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function cT(t){const e=$t(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function JR(t,e){const r=$t(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((c,h)=>{const p=i.get(h);if(!p)return;o.push(r.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>r.Ur.addMatchingKeys(s,c.addedDocuments,h)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(pi.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),i=i.insert(h,m),function(g,S,w){return g.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,c)&&o.push(r.Ur.updateTargetData(s,m))});let l=Do(),u=nr();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,c))}),o.push(ZR(s,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(qt.min())){const c=r.Ur.getLastRemoteSnapshotVersion(s).next(h=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(c)}return Je.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(r.os=i,s))}function ZR(t,e,r){let n=nr(),i=nr();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=Do();return r.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(qt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):At("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function eF(t,e){const r=$t(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function tF(t,e){const r=$t(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,Je.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new kl(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Ov(t,e,r){const n=$t(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!p0(a))throw a;At("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function $w(t,e,r){const n=$t(t);let i=qt.min(),s=nr();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const h=$t(l),p=h._s.get(c);return p!==void 0?Je.resolve(h.os.get(p)):h.Ur.getTargetData(u,c)}(n,a,$a(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:qt.min(),r?s:nr())).next(o=>(rF(n,$L(e),o),{documents:o,Ts:s})))}function rF(t,e,r){let n=t.us.get(e)||qt.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class Gw{constructor(){this.activeTargetIds=JL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nF{constructor(){this.so=new Gw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Gw,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){At("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){At("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp=null;function Jg(){return gp===null?gp=function(){return 268435456+Math.round(2147483648*Math.random())}():gp++,"0x"+gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="WebChannelConnection";class oF extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=Jg(),l=this.xo(r,n.toUriEncodedString());At("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,a),this.No(r,l,u,i).then(c=>(At("RestConnection",`Received RPC '${r}' ${o}: `,c),c),c=>{throw jf("RestConnection",`RPC '${r}' ${o} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ih}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=sF[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=Jg();return new Promise((a,o)=>{const l=new AA;l.setWithCredentials(!0),l.listenOnce(TA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zp.NO_ERROR:const c=l.getResponseJson();At(_i,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),a(c);break;case zp.TIMEOUT:At(_i,`RPC '${e}' ${s} timed out`),o(new _t(He.DEADLINE_EXCEEDED,"Request time out"));break;case zp.HTTP_ERROR:const h=l.getStatus();if(At(_i,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const x=function(S){const w=S.toLowerCase().replace(/_/g,"-");return Object.values(He).indexOf(w)>=0?w:He.UNKNOWN}(m.status);o(new _t(x,m.message))}else o(new _t(He.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new _t(He.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{At(_i,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);At(_i,`RPC '${e}' ${s} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=Jg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=CA(),o=bA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=s.join("");At(_i,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=a.createWebChannel(c,l);let p=!1,m=!1;const x=new aF({Io:S=>{m?At(_i,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(At(_i,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),At(_i,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},To:()=>h.close()}),g=(S,w,E)=>{S.listen(w,T=>{try{E(T)}catch(j){setTimeout(()=>{throw j},0)}})};return g(h,Gh.EventType.OPEN,()=>{m||(At(_i,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),g(h,Gh.EventType.CLOSE,()=>{m||(m=!0,At(_i,`RPC '${e}' stream ${i} transport closed`),x.So())}),g(h,Gh.EventType.ERROR,S=>{m||(m=!0,jf(_i,`RPC '${e}' stream ${i} transport errored:`,S),x.So(new _t(He.UNAVAILABLE,"The operation could not be completed")))}),g(h,Gh.EventType.MESSAGE,S=>{var w;if(!m){const E=S.data[0];Lr(!!E);const T=E,j=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if(j){At(_i,`RPC '${e}' stream ${i} received error:`,j);const X=j.status;let J=function(R){const O=bn[R];if(O!==void 0)return ZA(O)}(X),P=j.message;J===void 0&&(J=He.INTERNAL,P="Unknown error status: "+X+" with message "+j.message),m=!0,x.So(new _t(J,P)),h.close()}else At(_i,`RPC '${e}' stream ${i} received:`,E),x.bo(E)}}),g(o,NA.STAT_EVENT,S=>{S.stat===Tv.PROXY?At(_i,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Tv.NOPROXY&&At(_i,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t){return new vR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&At("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,r,n,i,s,a,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new fT(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===He.RESOURCE_EXHAUSTED?(Fo(r.toString()),Fo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===He.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new _t(He.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return At("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(At("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lF extends hT{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=_R(this.serializer,e),n=function(s){if(!("targetChange"in s))return qt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?qt.min():a.readTime?Ga(a.readTime):qt.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Dv(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=kv(l)?{documents:SR(s,l)}:{query:AR(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=rT(s,a.resumeToken);const u=Lv(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(qt.min())>0){o.readTime=C1(s,a.snapshotVersion.toTimestamp());const u=Lv(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=NR(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Dv(this.serializer),r.removeTarget=e,this.a_(r)}}class uF extends hT{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Lr(!!e.streamToken),this.lastStreamToken=e.streamToken,Lr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Lr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=ER(e.writeResults,e.commitTime),n=Ga(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Dv(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>wR(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new _t(He.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Rv(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _t(He.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Rv(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _t(He.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class fF{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fo(r),this.D_=!1):At("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{uc(this)&&(At("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=$t(l);u.L_.add(4),await v0(u),u.q_.set("Unknown"),u.L_.delete(4),await Lm(u)}(this))})}),this.q_=new fF(n,i)}}async function Lm(t){if(uc(t))for(const e of t.B_)await e(!0)}async function v0(t){for(const e of t.B_)await e(!1)}function dT(t,e){const r=$t(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),kx(r)?Cx(r):oh(r).r_()&&bx(r,e))}function Nx(t,e){const r=$t(t),n=oh(r);r.N_.delete(e),n.r_()&&pT(r,e),r.N_.size===0&&(n.r_()?n.o_():uc(r)&&r.q_.set("Unknown"))}function bx(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}oh(t).A_(e)}function pT(t,e){t.Q_.xe(e),oh(t).R_(e)}function Cx(t){t.Q_=new dR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),oh(t).start(),t.q_.v_()}function kx(t){return uc(t)&&!oh(t).n_()&&t.N_.size>0}function uc(t){return $t(t).L_.size===0}function mT(t){t.Q_=void 0}async function dF(t){t.q_.set("Online")}async function pF(t){t.N_.forEach((e,r)=>{bx(t,e)})}async function mF(t,e){mT(t),kx(t)?(t.q_.M_(e),Cx(t)):t.q_.set("Unknown")}async function gF(t,e,r){if(t.q_.set("Online"),e instanceof tT&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){At("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await k1(t,n)}else if(e instanceof Wp?t.Q_.Ke(e):e instanceof eT?t.Q_.He(e):t.Q_.We(e),!r.isEqual(qt.min()))try{const n=await cT(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(pi.EMPTY_BYTE_STRING,c.snapshotVersion)),pT(s,l);const h=new kl(c.target,l,u,c.sequenceNumber);bx(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){At("RemoteStore","Failed to raise snapshot:",n),await k1(t,n)}}async function k1(t,e,r){if(!p0(e))throw e;t.L_.add(1),await v0(t),t.q_.set("Offline"),r||(r=()=>cT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{At("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Lm(t)})}function gT(t,e){return e().catch(r=>k1(t,r,e))}async function Rm(t){const e=$t(t),r=Ql(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vF(e);)try{const i=await eF(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,yF(e,i)}catch(i){await k1(e,i)}vT(e)&&yT(e)}function vF(t){return uc(t)&&t.O_.length<10}function yF(t,e){t.O_.push(e);const r=Ql(t);r.r_()&&r.V_&&r.m_(e.mutations)}function vT(t){return uc(t)&&!Ql(t).n_()&&t.O_.length>0}function yT(t){Ql(t).start()}async function xF(t){Ql(t).p_()}async function _F(t){const e=Ql(t);for(const r of t.O_)e.m_(r.mutations)}async function wF(t,e,r){const n=t.O_.shift(),i=_x.from(n,e,r);await gT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Rm(t)}async function EF(t,e){e&&Ql(t).V_&&await async function(n,i){if(function(a){return cR(a)&&a!==He.ABORTED}(i.code)){const s=n.O_.shift();Ql(n).s_(),await gT(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Rm(n)}}(t,e),vT(t)&&yT(t)}async function Yw(t,e){const r=$t(t);r.asyncQueue.verifyOperationInProgress(),At("RemoteStore","RemoteStore received new credentials");const n=uc(r);r.L_.add(3),await v0(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Lm(r)}async function SF(t,e){const r=$t(t);e?(r.L_.delete(2),await Lm(r)):e||(r.L_.add(2),await v0(r),r.q_.set("Unknown"))}function oh(t){return t.K_||(t.K_=function(r,n,i){const s=$t(r);return s.w_(),new lF(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:dF.bind(null,t),Ro:pF.bind(null,t),mo:mF.bind(null,t),d_:gF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),kx(t)?Cx(t):t.q_.set("Unknown")):(await t.K_.stop(),mT(t))})),t.K_}function Ql(t){return t.U_||(t.U_=function(r,n,i){const s=$t(r);return s.w_(),new uF(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xF.bind(null,t),mo:EF.bind(null,t),f_:_F.bind(null,t),g_:wF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Rm(t)):(await t.U_.stop(),t.O_.length>0&&(At("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new Ix(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(He.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Px(t,e){if(Fo("AsyncQueue",`${e}: ${t}`),p0(t))return new _t(He.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this.comparator=e?(r,n)=>e(r,n)||It.comparator(r.key,n.key):(r,n)=>It.comparator(r.key,n.key),this.keyedMap=Kh(),this.sortedSet=new an(this.comparator)}static emptySet(e){return new xf(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof xf)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new xf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.W_=new an(It.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Bt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class zf{constructor(e,r,n,i,s,a,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new zf(e,r,xf.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class TF{constructor(){this.queries=Qw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=$t(r),s=i.queries;i.queries=Qw(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(n)})})(this,new _t(He.ABORTED,"Firestore shutting down"))}}function Qw(){return new ah(t=>UA(t),Nm)}async function Lx(t,e){const r=$t(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new AF,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=Px(a,`Initialization of query '${qc(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&Fx(r)}async function Rx(t,e){const r=$t(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function NF(t,e){const r=$t(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&Fx(r)}function bF(t,e,r){const n=$t(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function Fx(t){t.Y_.forEach(e=>{e.next()})}var jv,Jw;(Jw=jv||(jv={})).ea="default",Jw.Cache="cache";class Dx{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new zf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=zf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==jv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.key=e}}class _T{constructor(e){this.key=e}}class CF{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=nr(),this.mutatedKeys=nr(),this.Aa=zA(e),this.Ra=new xf(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new Xw,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const p=i.get(c),m=bm(this.query,h)?h:null,x=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;p&&m?p.data.isEqual(m.data)?x!==g&&(n.track({type:3,doc:m}),S=!0):this.ga(p,m)||(n.track({type:2,doc:m}),S=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(o=!0)):!p&&m?(n.track({type:0,doc:m}),S=!0):p&&!m&&(n.track({type:1,doc:p}),S=!0,(l||u)&&(o=!0)),S&&(m?(a=a.add(m),s=g?s.add(c):s.delete(c)):(a=a.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,h)=>function(m,x){const g=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return g(m)-g(x)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new zf(this.query,e.Ra,s,a,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=nr(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new _T(n))}),this.da.forEach(n=>{e.has(n)||r.push(new xT(n))}),r}ba(e){this.Ta=e.Ts,this.da=nr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return zf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class kF{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class IF{constructor(e){this.key=e,this.va=!1}}class PF{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ah(o=>UA(o),Nm),this.Ma=new Map,this.xa=new Set,this.Oa=new an(It.comparator),this.Na=new Map,this.La=new Sx,this.Ba={},this.ka=new Map,this.qa=Uf.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function LF(t,e,r=!0){const n=NT(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await wT(n,e,r,!0),i}async function RF(t,e){const r=NT(t);await wT(r,e,!0,!1)}async function wT(t,e,r,n){const i=await tF(t.localStore,$a(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await FF(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&dT(t.remoteStore,i),o}async function FF(t,e,r,n,i){t.Ka=(h,p,m)=>async function(g,S,w,E){let T=S.view.ma(w);T.ns&&(T=await $w(g.localStore,S.query,!1).then(({documents:P})=>S.view.ma(P,T)));const j=E&&E.targetChanges.get(S.targetId),X=E&&E.targetMismatches.get(S.targetId)!=null,J=S.view.applyChanges(T,g.isPrimaryClient,j,X);return e4(g,S.targetId,J.wa),J.snapshot}(t,h,p,m);const s=await $w(t.localStore,e,!0),a=new CF(e,s.Ts),o=a.ma(s.documents),l=g0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);e4(t,r,u.wa);const c=new kF(e,r,a);return t.Fa.set(e,c),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function DF(t,e,r){const n=$t(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!Nm(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ov(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Nx(n.remoteStore,i.targetId),Mv(n,i.targetId)}).catch(d0)):(Mv(n,i.targetId),await Ov(n.localStore,i.targetId,!0))}async function OF(t,e){const r=$t(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Nx(r.remoteStore,n.targetId))}async function jF(t,e,r){const n=HF(t);try{const i=await function(a,o){const l=$t(a),u=Vn.now(),c=o.reduce((m,x)=>m.add(x.key),nr());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=Do(),g=nr();return l.cs.getEntries(m,c).next(S=>{x=S,x.forEach((w,E)=>{E.isValidDocument()||(g=g.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,x)).next(S=>{h=S;const w=[];for(const E of o){const T=sR(E,h.get(E.key).overlayedDocument);T!=null&&w.push(new lu(E.key,T,RA(T.value.mapValue),Ys.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,w,o)}).next(S=>{p=S;const w=S.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(m,S.batchId,w)})}).then(()=>({batchId:p.batchId,changes:HA(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new an(pr)),u=u.insert(o,l),a.Ba[a.currentUser.toKey()]=u}(n,i.batchId,r),await y0(n,i.changes),await Rm(n.remoteStore)}catch(i){const s=Px(i,"Failed to persist write");r.reject(s)}}async function ET(t,e){const r=$t(t);try{const n=await JR(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(Lr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Lr(a.va):i.removedDocuments.size>0&&(Lr(a.va),a.va=!1))}),await y0(r,n,e)}catch(n){await d0(n)}}function Zw(t,e,r){const n=$t(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=$t(a);l.onlineState=o;let u=!1;l.queries.forEach((c,h)=>{for(const p of h.j_)p.Z_(o)&&(u=!0)}),u&&Fx(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function MF(t,e,r){const n=$t(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new an(It.comparator);a=a.insert(s,bi.newNoDocument(s,qt.min()));const o=nr().add(s),l=new Im(qt.min(),new Map,new an(pr),a,o);await ET(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(e),Ox(n)}else await Ov(n.localStore,e,!1).then(()=>Mv(n,e,r)).catch(d0)}async function BF(t,e){const r=$t(t),n=e.batch.batchId;try{const i=await QR(r.localStore,e);AT(r,n,null),ST(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await y0(r,i)}catch(i){await d0(i)}}async function VF(t,e,r){const n=$t(t);try{const i=await function(a,o){const l=$t(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(h=>(Lr(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);AT(n,e,r),ST(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await y0(n,i)}catch(i){await d0(i)}}function ST(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function AT(t,e,r){const n=$t(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Mv(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||TT(t,n)})}function TT(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Nx(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Ox(t))}function e4(t,e,r){for(const n of r)n instanceof xT?(t.La.addReference(n.key,e),UF(t,n)):n instanceof _T?(At("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||TT(t,n.key)):Bt()}function UF(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(At("SyncEngine","New document in limbo: "+r),t.xa.add(n),Ox(t))}function Ox(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new It(Yr.fromString(e)),n=t.qa.next();t.Na.set(n,new IF(r)),t.Oa=t.Oa.insert(r,n),dT(t.remoteStore,new kl($a(Tm(r.path)),n,"TargetPurposeLimboResolution",hx.oe))}}async function y0(t,e,r){const n=$t(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{a.push(n.Ka(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Tx.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(l,u){const c=$t(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Je.forEach(u,p=>Je.forEach(p.$i,m=>c.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>Je.forEach(p.Ui,m=>c.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!p0(h))throw h;At("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const m=c.os.get(p),x=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(x);c.os=c.os.insert(p,g)}}}(n.localStore,s))}async function zF(t,e){const r=$t(t);if(!r.currentUser.isEqual(e)){At("SyncEngine","User change. New user:",e.toKey());const n=await uT(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new _t(He.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await y0(r,n.hs)}}function qF(t,e){const r=$t(t),n=r.Na.get(e);if(n&&n.va)return nr().add(n.key);{let i=nr();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function NT(t){const e=$t(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ET.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MF.bind(null,e),e.Ca.d_=NF.bind(null,e.eventManager),e.Ca.$a=bF.bind(null,e.eventManager),e}function HF(t){const e=$t(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VF.bind(null,e),e}class I1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return XR(this.persistence,new KR,e.initialUser,this.serializer)}Ga(e){return new WR(Ax.Zr,this.serializer)}Wa(e){return new nF}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}I1.provider={build:()=>new I1};class Bv{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Zw(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=zF.bind(null,this.syncEngine),await SF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TF}()}createDatastore(e){const r=Pm(e.databaseInfo.databaseId),n=function(s){return new oF(s)}(e.databaseInfo);return function(s,a,o,l){return new cF(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new hF(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>Zw(this.syncEngine,r,0),function(){return Kw.D()?new Kw:new iF}())}createSyncEngine(e,r){return function(i,s,a,o,l,u,c){const h=new PF(i,s,a,o,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=$t(i);At("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await v0(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Bv.provider={build:()=>new Bv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Fo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Ti.UNAUTHENTICATED,this.clientId=IA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{At("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(At("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Px(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function e2(t,e){t.asyncQueue.verifyOperationInProgress(),At("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await uT(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function t4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await $F(t);At("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Yw(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Yw(e.remoteStore,i)),t._onlineComponents=e}async function $F(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){At("FirestoreClient","Using user provided OfflineComponentProvider");try{await e2(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===He.FAILED_PRECONDITION||i.code===He.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;jf("Error using user provided cache. Falling back to memory cache: "+r),await e2(t,new I1)}}else At("FirestoreClient","Using default OfflineComponentProvider"),await e2(t,new I1);return t._offlineComponents}async function bT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(At("FirestoreClient","Using user provided OnlineComponentProvider"),await t4(t,t._uninitializedComponentsProvider._online)):(At("FirestoreClient","Using default OnlineComponentProvider"),await t4(t,new Bv))),t._onlineComponents}function GF(t){return bT(t).then(e=>e.syncEngine)}async function P1(t){const e=await bT(t),r=e.eventManager;return r.onListen=LF.bind(null,e.syncEngine),r.onUnlisten=DF.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=RF.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=OF.bind(null,e.syncEngine),r}function KF(t,e,r={}){const n=new Ao;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const c=new jx({next:p=>{c.Za(),a.enqueueAndForget(()=>Rx(s,h));const m=p.docs.has(o);!m&&p.fromCache?u.reject(new _t(He.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new _t(He.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new Dx(Tm(o.path),c,{includeMetadataChanges:!0,_a:!0});return Lx(s,h)}(await P1(t),t.asyncQueue,e,r,n)),n.promise}function YF(t,e,r={}){const n=new Ao;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const c=new jx({next:p=>{c.Za(),a.enqueueAndForget(()=>Rx(s,h)),p.fromCache&&l.source==="server"?u.reject(new _t(He.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new Dx(o,c,{includeMetadataChanges:!0,_a:!0});return Lx(s,h)}(await P1(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t,e,r){if(!r)throw new _t(He.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XF(t,e,r,n){if(e===!0&&n===!0)throw new _t(He.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function n4(t){if(!It.isDocumentKey(t))throw new _t(He.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function i4(t){if(It.isDocumentKey(t))throw new _t(He.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Bt()}function os(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _t(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Fm(t);throw new _t(He.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new _t(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _t(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CT((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _t(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _t(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _t(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dm{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s4({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _t(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s4(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new pL;switch(n.type){case"firstParty":return new yL(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new _t(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=r4.get(r);n&&(At("ComponentProvider","Removing Datastore"),r4.delete(r),n.terminate())}(this),Promise.resolve()}}function QF(t,e,r,n={}){var i;const s=(t=os(t,Dm))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&jf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=Ti.MOCK_USER;else{o=G8(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new _t(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ti(u)}t._authCredentials=new mL(new kA(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uu(this.firestore,e,this._query)}}class ki{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ki(this.firestore,e,this._key)}}class Hl extends uu{constructor(e,r,n){super(e,r,Tm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ki(this.firestore,null,new It(e))}withConverter(e){return new Hl(this.firestore,e,this._path)}}function Xs(t,e,...r){if(t=Xa(t),kT("collection","path",e),t instanceof Dm){const n=Yr.fromString(e,...r);return i4(n),new Hl(t,null,n)}{if(!(t instanceof ki||t instanceof Hl))throw new _t(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Yr.fromString(e,...r));return i4(n),new Hl(t.firestore,null,n)}}function xn(t,e,...r){if(t=Xa(t),arguments.length===1&&(e=IA.newId()),kT("doc","path",e),t instanceof Dm){const n=Yr.fromString(e,...r);return n4(n),new ki(t,null,new It(n))}{if(!(t instanceof ki||t instanceof Hl))throw new _t(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Yr.fromString(e,...r));return n4(n),new ki(t.firestore,t instanceof Hl?t.converter:null,new It(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new fT(this,"async_queue_retry"),this.Vu=()=>{const n=Zg();n&&At("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Zg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Zg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ao;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!p0(e))throw e;At("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Fo("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=Ix.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Bt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function o4(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Oo extends Dm{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new a4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a4(e),this._firestoreClient=void 0,await e}}}function JF(t,e){const r=typeof t=="object"?t:rL(),n=typeof t=="string"?t:"(default)",i=JP(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=W8("firestore");s&&QF(i,...s)}return i}function Om(t){if(t._terminated)throw new _t(He.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZF(t),t._firestoreClient}function ZF(t){var e,r,n;const i=t._freezeSettings(),s=function(o,l,u,c){return new PL(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,CT(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new WF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qf(pi.fromBase64String(e))}catch(r){throw new _t(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new qf(pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new _t(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new _t(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new _t(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pr(this._lat,e._lat)||pr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=/^__.*__$/;class t7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new lu(e,this.data,this.fieldMask,r,this.fieldTransforms):new m0(e,this.data,r,this.fieldTransforms)}}class IT{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new lu(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function PT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class Ux{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ux(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return L1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(PT(this.Cu)&&e7.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class r7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Pm(e)}Qu(e,r,n,i=!1){return new Ux({Cu:e,methodName:r,qu:n,path:oi.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mm(t){const e=t._freezeSettings(),r=Pm(t._databaseId);return new r7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function LT(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);zx("Data must be an object, but it was:",a,n);const o=RT(n,a);let l,u;if(s.merge)l=new bs(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const p=Vv(e,h,r);if(!a.contains(p))throw new _t(He.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);DT(c,p)||c.push(p)}l=new bs(c),u=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=a.fieldTransforms;return new t7(new rs(o),l,u)}class Bm extends Mx{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bm}}function n7(t,e,r,n){const i=t.Qu(1,e,r);zx("Data must be an object, but it was:",i,n);const s=[],a=rs.empty();lc(n,(l,u)=>{const c=qx(e,l,r);u=Xa(u);const h=i.Nu(c);if(u instanceof Bm)s.push(c);else{const p=x0(u,h);p!=null&&(s.push(c),a.set(c,p))}});const o=new bs(s);return new IT(a,o,i.fieldTransforms)}function i7(t,e,r,n,i,s){const a=t.Qu(1,e,r),o=[Vv(e,n,r)],l=[i];if(s.length%2!=0)throw new _t(He.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)o.push(Vv(e,s[p])),l.push(s[p+1]);const u=[],c=rs.empty();for(let p=o.length-1;p>=0;--p)if(!DT(u,o[p])){const m=o[p];let x=l[p];x=Xa(x);const g=a.Nu(m);if(x instanceof Bm)u.push(m);else{const S=x0(x,g);S!=null&&(u.push(m),c.set(m,S))}}const h=new bs(u);return new IT(c,h,a.fieldTransforms)}function s7(t,e,r,n=!1){return x0(r,t.Qu(n?4:3,e))}function x0(t,e){if(FT(t=Xa(t)))return zx("Unsupported field value:",e,t),RT(t,e);if(t instanceof Mx)return function(n,i){if(!PT(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=x0(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Xa(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ZL(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Vn.fromDate(n);return{timestampValue:C1(i.serializer,s)}}if(n instanceof Vn){const s=new Vn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:C1(i.serializer,s)}}if(n instanceof Bx)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof qf)return{bytesValue:rT(i.serializer,n._byteString)};if(n instanceof ki){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ex(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Vx)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return yx(o.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Fm(n)}`)}(t,e)}function RT(t,e){const r={};return PA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lc(t,(n,i)=>{const s=x0(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function FT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vn||t instanceof Bx||t instanceof qf||t instanceof ki||t instanceof Mx||t instanceof Vx)}function zx(t,e,r){if(!FT(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Fm(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Vv(t,e,r){if((e=Xa(e))instanceof jm)return e._internalPath;if(typeof e=="string")return qx(t,e);throw L1("Field path arguments must be of type string or ",t,!1,void 0,r)}const a7=new RegExp("[~\\*/\\[\\]]");function qx(t,e,r){if(e.search(a7)>=0)throw L1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new jm(...e.split("."))._internalPath}catch{throw L1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function L1(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new _t(He.INVALID_ARGUMENT,o+t+l)}function DT(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ki(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Vm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class o7 extends OT{data(){return super.data()}}function Vm(t,e){return typeof e=="string"?qx(t,e):e instanceof jm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _t(He.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hx{}class MT extends Hx{}function Hf(t,e,...r){let n=[];e instanceof Hx&&n.push(e),n=n.concat(r),function(s){const a=s.filter(l=>l instanceof Wx).length,o=s.filter(l=>l instanceof Um).length;if(a>1||a>0&&o>0)throw new _t(He.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Um extends MT{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Um(e,r,n)}_apply(e){const r=this._parse(e);return BT(e._query,r),new uu(e.firestore,e.converter,Iv(e._query,r))}_parse(e){const r=Mm(e.firestore);return function(s,a,o,l,u,c,h){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new _t(He.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){c4(h,c);const m=[];for(const x of h)m.push(u4(l,s,x));p={arrayValue:{values:m}}}else p=u4(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||c4(h,c),p=s7(o,a,h,c==="in"||c==="not-in");return In.create(u,c,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function _f(t,e,r){const n=e,i=Vm("where",t);return Um._create(i,n,r)}class Wx extends Hx{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Wx(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Na.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)BT(a,l),a=Iv(a,l)}(e._query,r),new uu(e.firestore,e.converter,Iv(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $x extends MT{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new $x(e,r)}_apply(e){const r=function(i,s,a){if(i.startAt!==null)throw new _t(He.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _t(He.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wd(s,a)}(e._query,this._field,this._direction);return new uu(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new sh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function l4(t,e="asc"){const r=e,n=Vm("orderBy",t);return $x._create(n,r)}function u4(t,e,r){if(typeof(r=Xa(r))=="string"){if(r==="")throw new _t(He.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VA(e)&&r.indexOf("/")!==-1)throw new _t(He.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Yr.fromString(r));if(!It.isDocumentKey(n))throw new _t(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return kw(t,new It(n))}if(r instanceof ki)return kw(t,r._key);throw new _t(He.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fm(r)}.`)}function c4(t,e){if(!Array.isArray(t)||t.length===0)throw new _t(He.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BT(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new _t(He.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _t(He.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class l7{convertValue(e,r="none"){switch(Zu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ju(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Bt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return lc(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>vn(a.doubleValue));return new Vx(s)}convertGeoPoint(e){return new Bx(vn(e.latitude),vn(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=px(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(zd(e));default:return null}}convertTimestamp(e){const r=Xl(e);return new Vn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Yr.fromString(e);Lr(lT(n));const i=new qd(n.get(1),n.get(3)),s=new It(n.popFirst(5));return i.isEqual(r)||Fo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UT extends OT{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new $p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Vm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class $p extends UT{data(e={}){return super.data(e)}}class zT{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Xh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new $p(this._firestore,this._userDataWriter,n.key,n,new Xh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new _t(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new $p(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Xh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new $p(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Xh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:u7(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function u7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){t=os(t,ki);const e=os(t.firestore,Oo);return KF(Om(e),t._key).then(r=>qT(e,t,r))}class Gx extends l7{constructor(e){super(),this.firestore=e}convertBytes(e){return new qf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ki(this.firestore,null,r)}}function To(t){t=os(t,uu);const e=os(t.firestore,Oo),r=Om(e),n=new Gx(e);return jT(t._query),YF(r,t._query).then(i=>new zT(e,n,t,i))}function Kd(t,e,r){t=os(t,ki);const n=os(t.firestore,Oo),i=VT(t.converter,e,r);return zm(n,[LT(Mm(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Ys.none())])}function qu(t,e,r,...n){t=os(t,ki);const i=os(t.firestore,Oo),s=Mm(i);let a;return a=typeof(e=Xa(e))=="string"||e instanceof jm?i7(s,"updateDoc",t._key,e,r,n):n7(s,"updateDoc",t._key,e),zm(i,[a.toMutation(t._key,Ys.exists(!0))])}function c7(t){return zm(os(t.firestore,Oo),[new xx(t._key,Ys.none())])}function f7(t,e){const r=os(t.firestore,Oo),n=xn(t),i=VT(t.converter,e);return zm(r,[LT(Mm(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Ys.exists(!1))]).then(()=>n)}function h7(t,...e){var r,n,i;t=Xa(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||o4(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(o4(e[a])){const h=e[a];e[a]=(r=h.next)===null||r===void 0?void 0:r.bind(h),e[a+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),e[a+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof ki)u=os(t.firestore,Oo),c=Tm(t._key.path),l={next:h=>{e[a]&&e[a](qT(u,t,h))},error:e[a+1],complete:e[a+2]};else{const h=os(t,uu);u=os(h.firestore,Oo),c=h._query;const p=new Gx(u);l={next:m=>{e[a]&&e[a](new zT(u,p,h,m))},error:e[a+1],complete:e[a+2]},jT(t._query)}return function(p,m,x,g){const S=new jx(g),w=new Dx(m,S,x);return p.asyncQueue.enqueueAndForget(async()=>Lx(await P1(p),w)),()=>{S.Za(),p.asyncQueue.enqueueAndForget(async()=>Rx(await P1(p),w))}}(Om(u),c,o,l)}function zm(t,e){return function(n,i){const s=new Ao;return n.asyncQueue.enqueueAndForget(async()=>jF(await GF(n),i,s)),s.promise}(Om(t),e)}function qT(t,e,r){const n=r.docs.get(e._key),i=new Gx(t);return new UT(t,i,e._key,n,new Xh(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){ih=i})(tL),S1(new Bd("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Oo(new gL(n.getProvider("auth-internal")),new _L(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new _t(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qd(u.options.projectId,c)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),yf(Aw,"4.7.3",e),yf(Aw,"4.7.3","esm2017")})();console.log("Variveis de ambiente:",{VITE_FIREBASE_API_KEY:"AIzaSyA32ur8WlKhwwvxevvB-P0M0sHK95DBeFw",VITE_FIREBASE_AUTH_DOMAIN:"sealogistics-4f899.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"sealogistics-4f899",VITE_FIREBASE_STORAGE_BUCKET:"sealogistics-4f899.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"813384700244",VITE_FIREBASE_APP_ID:"1:813384700244:web:d400348141dbcadacb78c1"});const HT={apiKey:"AIzaSyA32ur8WlKhwwvxevvB-P0M0sHK95DBeFw",authDomain:"sealogistics-4f899.firebaseapp.com",projectId:"sealogistics-4f899",storageBucket:"sealogistics-4f899.appspot.com",messagingSenderId:"813384700244",appId:"1:813384700244:web:d400348141dbcadacb78c1"};console.log("Firebase Config:",HT);const d7=_A(HT),mr=JF(d7),WT=be.createContext(void 0),Za=()=>{const t=be.useContext(WT);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},p7=({children:t})=>{const[e,r]=be.useState(null),[n,i]=be.useState(null),[s,a]=be.useState(!0);be.useEffect(()=>{const S=localStorage.getItem("currentUser");if(S)try{const w=JSON.parse(S);console.log("Carregando dados do localStorage:",w),w.id?o(w.id):(console.warn("ID do usurio no encontrado no localStorage"),a(!1))}catch(w){console.error("Error parsing saved user:",w),localStorage.removeItem("currentUser"),a(!1)}else a(!1)},[]);const o=async S=>{try{console.log("Carregando dados do usurio do Firestore:",S);const w=await Wl(xn(mr,"users",S));if(w.exists()){const E={...w.data(),uid:w.id};if(console.log("Dados do usurio carregados:",E),r(E),localStorage.setItem("currentUser",JSON.stringify({email:E.email,name:E.displayName,id:E.uid,role:E.role})),E.role===xr.COMPANY_USER&&E.companyId){const T=await Wl(xn(mr,"companies",E.companyId));if(T.exists()){const j={...T.data(),id:T.id};i(j)}}}else console.warn("Usurio no encontrado no Firestore:",S),localStorage.removeItem("currentUser"),r(null)}catch(w){console.error("Error loading user data:",w),localStorage.removeItem("currentUser"),r(null)}finally{a(!1)}},l=async()=>{e!=null&&e.uid&&(console.log("Atualizando dados do usurio..."),await o(e.uid))},u=async(S,w)=>{try{console.log("Attempting login with password:",w?"***":"no password");const E=Hf(Xs(mr,"users"),_f("email","==",S)),T=await To(E);if(T.empty)throw new Error("Usurio no encontrado");const j=T.docs[0],X={...j.data(),uid:j.id};if(console.log("Usurio encontrado:",X),!X.isActive)throw new Error("Usurio inativo. Contacte o administrador.");if(await Kd(xn(mr,"users",j.id),{...X,lastLogin:new Date},{merge:!0}),r(X),X.role===xr.COMPANY_USER&&X.companyId){const P=await Wl(xn(mr,"companies",X.companyId));if(P.exists()){const C={...P.data(),id:P.id};i(C)}}const J={email:X.email,name:X.displayName,id:j.id,role:X.role};console.log("Salvando no localStorage:",J),localStorage.setItem("currentUser",JSON.stringify(J))}catch(E){throw console.error("Login error:",E),E}},c=()=>{console.log("Fazendo logout..."),r(null),i(null),localStorage.removeItem("currentUser")},h=()=>e?e.role===xr.ADMIN:!1,g={currentUser:e,currentCompany:n,login:u,logout:c,isAdmin:h,isCompanyUser:()=>(e==null?void 0:e.role)===xr.COMPANY_USER,canAccessAdminFeatures:()=>h(),canManageShipments:()=>(e==null?void 0:e.role)===xr.ADMIN||(e==null?void 0:e.role)===xr.COMPANY_USER,loading:s,refreshUserData:l};return y.jsx(WT.Provider,{value:g,children:t})},m7={en:{welcomeTo:"Welcome to",loginTitle:"Sign in to your account",welcomeMessage:"Welcome to Sea Logistics",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",loginButton:"Login",selectLanguage:"Select language",forgotPassword:"Forgot password?",nameError:"Name is required",emailError:"Invalid email",passwordError:"Password is required",confirmPasswordError:"Password is required",passwordsDontMatch:"Passwords don't match",dontHaveAccount:"Don't have an account?",registerLink:"Register",createAccount:"Create an Account",name:"Name",namePlaceholder:"Enter your full name",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm your password",registerButton:"Register",alreadyHaveAccount:"Already have an account?",loginLink:"Login",registerText:"Connecting the world through the oceans. Register to access our platform.",home:"Home",dashboard:"Dashboard",shipments:"Shipments",newShipment:"New Shipment",users:"Users",settings:"Settings",logout:"Logout",profile:"Profile",administrativeDashboard:"Administrative Dashboard",welcomeAdmin:"Welcome, Admin User!",totalShipments:"Total Shipments",inTransit:"In Transit",delivered:"Delivered",pending:"Pending",thisMonth:"This Month",totalUsers:"Total Users",activeCompanies:"Active Companies",manageShipments:"Manage Shipments",clickToSeeAllShipments:"Click to see all shipments",quickActions:"Quick Actions",adminPanel:"Admin Panel",configurations:"Configurations",shipmentsTitle:"Shipments",newShipmentTitle:"New Shipment",editShipment:"Edit Shipment",shipmentDetails:"Shipment Details",shipmentNumber:"Shipment Number",origin:"Origin",destination:"Destination",status:"Status",company:"Company",date:"Date",actions:"Actions",view:"View",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",close:"Close",search:"Search",filter:"Filter",clearFilters:"Clear Filters",noShipments:"No shipments found",loading:"Loading...",error:"Error",statusPending:"Pending",statusInTransit:"In Transit",statusDelivered:"Delivered",statusCancelled:"Cancelled",statusDelayed:"Delayed",required:"Required",optional:"Optional",submit:"Submit",reset:"Reset",back:"Back",next:"Next",previous:"Previous",finish:"Finish",success:"Success",warning:"Warning",info:"Information",confirmDelete:"Are you sure you want to delete this item?",deleteSuccess:"Item deleted successfully",saveSuccess:"Item saved successfully",updateSuccess:"Item updated successfully",yes:"Yes",no:"No",ok:"OK",noData:"No data available",refresh:"Refresh",export:"Export",import:"Import",download:"Download",upload:"Upload"},pt:{welcomeTo:"Bem-vindo ao",loginTitle:"Entre na sua conta",welcomeMessage:"Bem-vindo  Sea Logistics",email:"Email",emailPlaceholder:"Digite seu email",password:"Senha",passwordPlaceholder:"Digite sua senha",loginButton:"Entrar",selectLanguage:"Selecionar idioma",forgotPassword:"Esqueceu a senha?",nameError:"O nome  obrigatrio",emailError:"Email invlido",passwordError:"A senha  obrigatria",confirmPasswordError:"A senha  obrigatria",passwordsDontMatch:"As senhas no coincidem",dontHaveAccount:"No tem uma conta?",registerLink:"Registrar",createAccount:"Criar uma Conta",name:"Nome",namePlaceholder:"Digite seu nome completo",confirmPassword:"Confirmar Senha",confirmPasswordPlaceholder:"Confirme sua senha",registerButton:"Registrar",alreadyHaveAccount:"J tem uma conta?",loginLink:"Entrar",registerText:"Conectando o mundo atravs dos oceanos. Registre-se para acessar nossa plataforma.",home:"Incio",dashboard:"Painel",shipments:"Envios",newShipment:"Novo Envio",users:"Usurios",settings:"Configuraes",logout:"Sair",profile:"Perfil",administrativeDashboard:"Dashboard Administrativo",welcomeAdmin:"Bem-vindo, Usuario Admin!",totalShipments:"Total de Envios",inTransit:"Em Trnsito",delivered:"Entregues",pending:"Pendentes",thisMonth:"Este Ms",totalUsers:"Total de Usurios",activeCompanies:"Empresas Ativas",manageShipments:"Gerenciar Envios",clickToSeeAllShipments:"Clique para ver todos os envios",quickActions:"Aes Rpidas",adminPanel:"Painel Admin",configurations:"Configuraes",shipmentsTitle:"Envios",newShipmentTitle:"Novo Envio",editShipment:"Editar Envio",shipmentDetails:"Detalhes do Envio",shipmentNumber:"Nmero do Envio",origin:"Origem",destination:"Destino",status:"Status",company:"Empresa",date:"Data",actions:"Aes",view:"Visualizar",edit:"Editar",delete:"Excluir",save:"Salvar",cancel:"Cancelar",close:"Fechar",search:"Buscar",filter:"Filtrar",clearFilters:"Limpar Filtros",noShipments:"Nenhum envio encontrado",loading:"Carregando...",error:"Erro",statusPending:"Pendente",statusInTransit:"Em Trnsito",statusDelivered:"Entregue",statusCancelled:"Cancelado",statusDelayed:"Atrasado",required:"Obrigatrio",optional:"Opcional",submit:"Enviar",reset:"Resetar",back:"Voltar",next:"Prximo",previous:"Anterior",finish:"Finalizar",success:"Sucesso",warning:"Aviso",info:"Informao",confirmDelete:"Tem certeza que deseja excluir este item?",deleteSuccess:"Item excludo com sucesso",saveSuccess:"Item salvo com sucesso",updateSuccess:"Item atualizado com sucesso",yes:"Sim",no:"No",ok:"OK",noData:"Nenhum dado disponvel",refresh:"Atualizar",export:"Exportar",import:"Importar",download:"Baixar",upload:"Enviar"},es:{welcomeTo:"Bienvenido a",loginTitle:"Inicia sesin en tu cuenta",welcomeMessage:"Bienvenido a Sea Logistics",email:"Correo electrnico",emailPlaceholder:"Ingrese su correo electrnico",password:"Contrasea",passwordPlaceholder:"Ingrese su contrasea",loginButton:"Iniciar sesin",selectLanguage:"Seleccionar idioma",forgotPassword:"Olvid su contrasea?",nameError:"El nombre es obligatorio",emailError:"Correo electrnico invlido",passwordError:"La contrasea es obligatoria",confirmPasswordError:"La contrasea es obligatoria",passwordsDontMatch:"Las contraseas no coinciden",dontHaveAccount:"No tiene una cuenta?",registerLink:"Registrarse",createAccount:"Crear una Cuenta",name:"Nombre",namePlaceholder:"Ingrese su nombre completo",confirmPassword:"Confirmar Contrasea",confirmPasswordPlaceholder:"Confirme su contrasea",registerButton:"Registrarse",alreadyHaveAccount:"Ya tiene una cuenta?",loginLink:"Iniciar sesin",registerText:"Conectando el mundo a travs de los ocanos. Regstrate para acceder a nuestra plataforma.",home:"Inicio",dashboard:"Panel",shipments:"Envos",newShipment:"Nuevo Envo",users:"Usuarios",settings:"Configuraciones",logout:"Cerrar Sesin",profile:"Perfil",administrativeDashboard:"Panel Administrativo",welcomeAdmin:"Bienvenido, Usuario Admin!",totalShipments:"Total de Envos",inTransit:"En Trnsito",delivered:"Entregados",pending:"Pendientes",thisMonth:"Este Mes",totalUsers:"Total de Usuarios",activeCompanies:"Empresas Activas",manageShipments:"Gestionar Envos",clickToSeeAllShipments:"Haga clic para ver todos los envos",quickActions:"Acciones Rpidas",adminPanel:"Panel Admin",configurations:"Configuraciones",shipmentsTitle:"Envos",newShipmentTitle:"Nuevo Envo",editShipment:"Editar Envo",shipmentDetails:"Detalles del Envo",shipmentNumber:"Nmero de Envo",origin:"Origen",destination:"Destino",status:"Estado",company:"Empresa",date:"Fecha",actions:"Acciones",view:"Ver",edit:"Editar",delete:"Eliminar",save:"Guardar",cancel:"Cancelar",close:"Cerrar",search:"Buscar",filter:"Filtrar",clearFilters:"Limpiar Filtros",noShipments:"No se encontraron envos",loading:"Cargando...",error:"Error",statusPending:"Pendiente",statusInTransit:"En Trnsito",statusDelivered:"Entregado",statusCancelled:"Cancelado",statusDelayed:"Retrasado",required:"Requerido",optional:"Opcional",submit:"Enviar",reset:"Restablecer",back:"Atrs",next:"Siguiente",previous:"Anterior",finish:"Finalizar",success:"xito",warning:"Advertencia",info:"Informacin",confirmDelete:"Est seguro de que desea eliminar este elemento?",deleteSuccess:"Elemento eliminado exitosamente",saveSuccess:"Elemento guardado exitosamente",updateSuccess:"Elemento actualizado exitosamente",yes:"S",no:"No",ok:"OK",noData:"No hay datos disponibles",refresh:"Actualizar",export:"Exportar",import:"Importar",download:"Descargar",upload:"Subir"}},$T=be.createContext(void 0);function Uv({children:t}){const[e,r]=be.useState("en");be.useEffect(()=>{const s=localStorage.getItem("language");s&&["en","pt","es"].includes(s)&&r(s)},[]);const i={language:e,setLanguage:s=>{r(s),localStorage.setItem("language",s)},translations:m7[e]};return y.jsx($T.Provider,{value:i,children:t})}function lh(){const t=be.useContext($T);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}const f4="https://sealogistics-email-server.onrender.com/".replace(/\/+$/,""),zv=async({to:t,subject:e,html:r})=>{try{console.log("=== INICIANDO ENVIO DE EMAIL ==="),console.log("Configurao:",{url:f4,to:t,subject:e});const n=await fetch(`${f4}/send-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:t,subject:e,html:r})});if(!n.ok){const s=await n.json();throw new Error(s.error||`Erro ${n.status}: ${n.statusText}`)}const i=await n.json();if(!i.success)throw new Error(i.error||"Erro ao enviar email");return console.log("=== EMAIL ENVIADO COM SUCESSO ==="),!0}catch(n){return console.error("=== ERRO AO ENVIAR EMAIL ==="),console.error("Detalhes do erro:",n),!1}},GT=be.createContext(void 0),qm=()=>{const t=be.useContext(GT);if(t===void 0)throw new Error("useShipments must be used within a ShipmentsProvider");return t},g7=({children:t})=>{const[e,r]=be.useState([]),[n,i]=be.useState(!0),{currentUser:s,isAdmin:a}=Za();be.useEffect(()=>{if(!s){r([]),i(!1);return}let p;if(a())p=Hf(Xs(mr,"shipments"),l4("createdAt","desc"));else if(s.role===xr.COMPANY_USER&&s.companyId)p=Hf(Xs(mr,"shipments"),_f("companyId","==",s.companyId),l4("createdAt","desc"));else{r([]),i(!1);return}const m=h7(p,x=>{const g=[];x.forEach(S=>{g.push({id:S.id,...S.data()})}),r(g),i(!1)},x=>{console.error("Error fetching shipments:",x),i(!1)});return()=>m()},[s,a]);const o=async p=>{try{if(!s)throw new Error("Usurio no autenticado");if(!a())throw new Error("Apenas administradores podem criar novos shipments");const m={...p,createdAt:new Date,updatedAt:new Date};p.companyId!==void 0?m.companyId=p.companyId:delete m.companyId;const x=await f7(Xs(mr,"shipments"),m);if(console.log("Shipment added with ID: ",x.id),p.companyId)try{console.log("Buscando dados da empresa...");const g=await Wl(xn(mr,"companies",p.companyId));if(g.exists()){const S=g.data();console.log("Dados da empresa:",S),S.contactEmail?(console.log("Preparando para enviar email para:",S.contactEmail),await zv({to:S.contactEmail,subject:`Novo envio criado - ${p.numeroBl}`,html:`
                                    <h2>Novo envio criado</h2>
                                    <p>Um novo envio foi criado com os seguintes detalhes:</p>
                                    <ul>
                                        <li><strong>Nmero BL:</strong> ${p.numeroBl}</li>
                                        <li><strong>Cliente:</strong> ${p.cliente}</li>
                                        <li><strong>Operador:</strong> ${p.operador}</li>
                                        <li><strong>Tipo de Transporte:</strong> ${p.tipo||"No especificado"}</li>
                                        <li><strong>${p.tipo==="Areo"?"Aeroporto":p.tipo==="Terrestre"?"Local":"Porto"} de Origem:</strong> ${p.pol}</li>
                                        <li><strong>${p.tipo==="Areo"?"Aeroporto":p.tipo==="Terrestre"?"Local":"Porto"} de Destino:</strong> ${p.pod}</li>
                                        <li><strong>ETD Origem:</strong> ${p.etdOrigem}</li>
                                        <li><strong>ETA Destino:</strong> ${p.etaDestino}</li>
                                        <li><strong>Localizao Atual:</strong> ${p.currentLocation}</li>
                                        <li><strong>Quantidade de Containers:</strong> ${p.quantBox}</li>
                                        <li><strong>Status:</strong> ${p.status}</li>
                                        <li><strong>Armador:</strong> ${p.armador}</li>
                                        <li><strong>Booking:</strong> ${p.booking}</li>
                                        <li><strong>Invoice:</strong> ${p.invoice}</li>
                                        ${p.observacoes?`<li><strong>Observaes:</strong> ${p.observacoes}</li>`:""}
                                    </ul>
                                `})):console.log("Empresa no tem email de contato cadastrado")}else console.log("Empresa no encontrada no Firestore")}catch(g){console.error("=== ERRO AO ENVIAR EMAIL DE NOTIFICAO ==="),console.error("Detalhes do erro:",g)}}catch(m){throw console.error("Error adding shipment: ",m),m}},l=async p=>{try{if(!p.id)throw new Error("Shipment ID is required for updates");if(!u(p))throw new Error("Sem permisso para editar este shipment");console.log("=== INICIANDO ATUALIZAO DE SHIPMENT ==="),console.log("ID do shipment:",p.id),console.log("Company ID:",p.companyId);const m=xn(mr,"shipments",p.id),x=await Wl(m);if(!x.exists())throw new Error("Shipment no encontrado");const S=x.data().status;if(console.log("Status atual:",S),console.log("Novo status:",p.status),await qu(m,{cliente:p.cliente,operador:p.operador,shipper:p.shipper,pol:p.pol,pod:p.pod,etdOrigem:p.etdOrigem,etaDestino:p.etaDestino,currentLocation:p.currentLocation,quantBox:p.quantBox,status:p.status,numeroBl:p.numeroBl,armador:p.armador,booking:p.booking,invoice:p.invoice,observacoes:p.observacoes||"",updatedAt:new Date}),S!==p.status&&p.companyId)try{console.log("Status alterado, buscando dados da empresa..."),console.log("Company ID para busca:",p.companyId);const w=await Wl(xn(mr,"companies",p.companyId));if(console.log("Documento da empresa encontrado:",w.exists()),w.exists()){const E=w.data();console.log("Dados da empresa:",E),E.contactEmail?(console.log("Preparando para enviar email para:",E.contactEmail),await zv({to:E.contactEmail,subject:`Status do envio atualizado - ${p.numeroBl}`,html:`
                                    <h2>Status do envio atualizado</h2>
                                    <p>O status do seu envio foi atualizado:</p>
                                    <ul>
                                        <li><strong>Nmero BL:</strong> ${p.numeroBl}</li>
                                        <li><strong>Status Anterior:</strong> ${S}</li>
                                        <li><strong>Novo Status:</strong> ${p.status}</li>
                                        <li><strong>Cliente:</strong> ${p.cliente}</li>
                                        <li><strong>Porto de Origem:</strong> ${p.pol}</li>
                                        <li><strong>Porto de Destino:</strong> ${p.pod}</li>
                                        <li><strong>Localizao Atual:</strong> ${p.currentLocation}</li>
                                        <li><strong>Observaes:</strong> ${p.observacoes}</li>

                                    </ul>
                                `})):console.log("Empresa no tem email de contato cadastrado")}else console.log("Empresa no encontrada no Firestore")}catch(w){console.error("=== ERRO AO ENVIAR EMAIL DE NOTIFICAO ==="),console.error("Detalhes do erro:",w)}else console.log("Status no foi alterado ou shipment no tem companyId"),console.log("oldStatus === updatedShipment.status:",S===p.status),console.log("updatedShipment.companyId:",p.companyId);console.log("Shipment updated successfully:",p.id)}catch(m){throw console.error("Error updating shipment: ",m),m}},u=p=>s?a()?!0:s.role===xr.COMPANY_USER?p.companyId===s.companyId:!1:!1,h={shipments:e,addShipment:o,updateShipment:l,canEditShipment:u,canCreateShipment:()=>a(),loading:n};return y.jsx(GT.Provider,{value:h,children:t})},v7=new Date().getFullYear(),y7=({theme:t="light",useGradient:e=!1,gradientColors:r=["#4A00E0","#8E2DE2"],gradientDirection:n="to right",backgroundColor:i=t==="dark"?"#1e1e1e":"#f9f9f9",logoVariant:s=t})=>{const a=t==="dark",o=e?{backgroundImage:`linear-gradient(${n}, ${r[0]}, ${r[1]})`}:{backgroundColor:i},l=a?"#ffffff":"#333333",u=s==="light"?"https://borderlessdevs.netlify.app/static/media/logo-dark.2fa878784899c906a14f.png":"https://borderlessdevs.netlify.app/static/media/logo-light.e753328ab34c0b67df5a.png";return y.jsxs("footer",{style:Object.assign(Object.assign({width:"100%",textAlign:"center",padding:"0.75rem 0.5rem"},o),{color:l}),children:[y.jsx("a",{href:"https://borderlessdevs.netlify.app",target:"_blank",rel:"noopener noreferrer",children:y.jsx("img",{src:u,alt:"Logo Borderless",style:{height:24,marginBottom:6}})}),y.jsxs("p",{style:{margin:0,fontSize:"0.75rem",fontWeight:500},children:["Desenvolvido por Borderless  ",v7]})]})},x7=({theme:t="light"})=>y.jsx("div",{className:"footer-container",children:y.jsx(y7,{theme:t,useGradient:!0,gradientColors:["#315851","#00574f"],gradientDirection:"to right",backgroundColor:"#f8f9fa",logoVariant:t})});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),wr=(t,e)=>{const r=be.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>be.createElement("svg",{ref:c,..._7,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${w7(t)}`,o].join(" "),...u},[...e.map(([h,p])=>be.createElement(h,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=wr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=wr("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=wr("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=wr("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=wr("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=wr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=wr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=wr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=wr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=wr("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=wr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=wr("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=wr("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=wr("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=wr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=wr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=wr("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=wr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=wr("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=wr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=wr("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=wr("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=wr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=wr("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=wr("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=wr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=wr("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=wr("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=wr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=wr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=wr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ec=()=>{const[t,e]=be.useState(!1),[r,n]=be.useState([]),[i,s]=be.useState(""),[a,o]=be.useState(!1),l=be.useRef(null),u=()=>{e(!t),!t&&r.length===0&&setTimeout(()=>{n([{id:Date.now(),text:"Ol! Sou o assistente virtual da SeaLogistics. Como posso ajudar voc hoje?",sender:"bot"}])},500)},c=g=>{s(g.target.value)},h=()=>{var g;(g=l.current)==null||g.scrollIntoView({behavior:"smooth"})};be.useEffect(()=>{h()},[r]);const p=()=>{const g=["Entendi! Vou verificar essa informao para voc.","Obrigado pela sua mensagem. Posso ajudar com mais alguma coisa?","A SeaLogistics oferece diversos servios de logstica martima. Gostaria de saber mais sobre algum servio especfico?","Estou processando sua solicitao. Em breve teremos uma resposta para voc.","Isso  interessante! Vamos analisar as melhores opes para sua necessidade."],S=g[Math.floor(Math.random()*g.length)];o(!0),setTimeout(()=>{n(w=>[...w,{id:Date.now(),text:S,sender:"bot"}]),o(!1)},1500)},m=()=>{if(i.trim()==="")return;const g={id:Date.now(),text:i,sender:"user"};n(S=>[...S,g]),s(""),p()},x=g=>{g.key==="Enter"&&m()};return y.jsx("div",{className:"chat-assistant-container",children:t?y.jsxs("div",{className:"chat-window",children:[y.jsxs("div",{className:"chat-header",children:[y.jsxs("div",{className:"chat-title",children:[y.jsx(S7,{size:20}),y.jsx("span",{children:"Assistente SeaLogistics"})]}),y.jsx("button",{className:"close-button",onClick:u,"aria-label":"Fechar chat",children:y.jsx($f,{size:20})})]}),y.jsxs("div",{className:"messages-container",children:[r.map(g=>y.jsx("div",{className:`message ${g.sender}`,children:g.text},g.id)),a&&y.jsx("div",{className:"message bot typing",children:y.jsxs("span",{className:"typing-indicator",children:[y.jsx("span",{className:"dot"}),y.jsx("span",{className:"dot"}),y.jsx("span",{className:"dot"})]})}),y.jsx("div",{ref:l})]}),y.jsxs("div",{className:"input-container",children:[y.jsx("input",{type:"text",value:i,onChange:c,onKeyPress:x,placeholder:"Digite sua mensagem...","aria-label":"Mensagem"}),y.jsx("button",{className:"send-button",onClick:m,disabled:i.trim()==="","aria-label":"Enviar mensagem",children:y.jsx(P7,{size:18})})]})]}):y.jsx("button",{className:"chat-button",onClick:u,"aria-label":"Abrir chat",children:y.jsx(k7,{size:24})})})},t6="/assets/logo2-zcXtDjh0.png",r6=({onClose:t})=>{const{isAdmin:e}=Za(),[r,n]=be.useState([]),[i,s]=be.useState([]),[a,o]=be.useState([]),[l,u]=be.useState(!0),[c,h]=be.useState("users"),[p,m]=be.useState(!1),[x,g]=be.useState({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:xr.COMPANY_USER}),[S,w]=be.useState(!1),[E,T]=be.useState({});be.useEffect(()=>{e()&&j()},[e]);const j=async()=>{try{u(!0);const F=(await To(Xs(mr,"users"))).docs.map(te=>({...te.data(),uid:te.id}));n(F);const re=(await To(Xs(mr,"companies"))).docs.map(te=>({...te.data(),id:te.id}));s(re);const ge=(await To(Xs(mr,"shipments"))).docs.map(te=>({...te.data(),id:te.id}));o(ge)}catch(N){console.error("Error loading admin data:",N)}finally{u(!1)}},X=async(N,F)=>{try{await qu(xn(mr,"users",N),{isActive:!F,updatedAt:new Date}),n(r.map(ne=>ne.uid===N?{...ne,isActive:!F}:ne))}catch(ne){console.error("Error updating user status:",ne),alert("Erro ao atualizar status do usurio")}},J=async(N,F)=>{try{await qu(xn(mr,"companies",N),{isActive:!F,updatedAt:new Date}),s(i.map(ne=>ne.id===N?{...ne,isActive:!F}:ne))}catch(ne){console.error("Error updating company status:",ne),alert("Erro ao atualizar status da empresa")}},P=async(N,F)=>{try{await qu(xn(mr,"shipments",N),{companyId:F==="unassigned"?null:F,updatedAt:new Date}),o(a.map(ne=>ne.id===N?{...ne,companyId:F==="unassigned"?void 0:F}:ne))}catch(ne){console.error("Error assigning shipment:",ne),alert("Erro ao atribuir shipment  empresa")}},C=async N=>{if(confirm("Tem certeza que deseja excluir este usurio?"))try{await c7(xn(mr,"users",N)),n(r.filter(F=>F.uid!==N))}catch(F){console.error("Error deleting user:",F),alert("Erro ao excluir usurio")}},R=N=>{if(!N)return"No atribudo";const F=i.find(ne=>ne.id===N);return F?F.name:"Empresa no encontrada"},O=async()=>{const N={};if(x.name.trim()||(N.name="Nome  obrigatrio"),x.email.trim()?/\S+@\S+\.\S+/.test(x.email)||(N.email="Email invlido"):N.email="Email  obrigatrio",x.password?x.password.length<6&&(N.password="Senha deve ter pelo menos 6 caracteres"):N.password="Senha  obrigatria",x.password!==x.confirmPassword&&(N.confirmPassword="Senhas no coincidem"),x.role===xr.COMPANY_USER&&(x.companyName.trim()||(N.companyName="Nome da empresa  obrigatrio"),x.companyCode.trim()||(N.companyCode="Cdigo da empresa  obrigatrio")),Object.keys(N).length>0){T(N);return}T({}),w(!0);try{if(r.find(ce=>ce.email===x.email)){alert("Este email j est em uso");return}const ne=`user_${Date.now()}`;let re;if(x.role===xr.COMPANY_USER&&x.companyName&&x.companyCode){const ce=i.find(me=>me.code===x.companyCode.toUpperCase());if(ce)re=ce.id;else{re=`company_${Date.now()}`,await Kd(xn(mr,"companies",re),{id:re,name:x.companyName,code:x.companyCode.toUpperCase(),contactEmail:x.email,isActive:!0,createdAt:new Date});const me={id:re,name:x.companyName,code:x.companyCode.toUpperCase(),contactEmail:x.email,isActive:!0,createdAt:new Date};s([...i,me])}}const he={uid:ne,displayName:x.name,email:x.email,role:x.role,isActive:!0,createdAt:new Date},ge=x.role===xr.COMPANY_USER?{...he,companyId:re,companyName:x.companyName}:he;await Kd(xn(mr,"users",ne),ge);const te=ge;n([...r,te]),g({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:xr.COMPANY_USER}),m(!1),alert("Usurio criado com sucesso!")}catch(F){console.error("Erro ao criar usurio:",F),alert("Erro ao criar usurio. Tente novamente.")}finally{w(!1)}},k=()=>{g({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:xr.COMPANY_USER}),T({}),m(!1)};return e()?l?y.jsx("div",{className:"admin-panel",children:y.jsx("div",{className:"admin-panel-content",children:y.jsx("h2",{children:"Carregando..."})})}):y.jsx("div",{className:"admin-panel",children:y.jsxs("div",{className:"admin-panel-content",children:[y.jsxs("div",{className:"admin-panel-header",children:[y.jsx("h2",{children:"Painel Administrativo"}),y.jsx("button",{onClick:t,className:"close-button",children:""})]}),y.jsxs("div",{className:"admin-tabs",children:[y.jsxs("button",{className:`tab-button ${c==="users"?"active":""}`,onClick:()=>h("users"),children:["Usurios (",r.length,")"]}),y.jsxs("button",{className:`tab-button ${c==="companies"?"active":""}`,onClick:()=>h("companies"),children:["Empresas (",i.length,")"]}),y.jsxs("button",{className:`tab-button ${c==="shipments"?"active":""}`,onClick:()=>h("shipments"),children:["Shipments (",a.length,")"]})]}),c==="users"&&y.jsxs("div",{className:"admin-section",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[y.jsx("h3",{style:{margin:0},children:"Gerenciar Usurios"}),y.jsxs("button",{onClick:()=>m(!0),className:"action-button",style:{display:"flex",alignItems:"center",gap:"0.5rem",backgroundColor:"#789170",marginRight:0,marginBottom:0,color:"white"},children:[y.jsx(F7,{size:16}),"Criar Usurio"]})]}),y.jsx("div",{className:"admin-table",children:y.jsxs("table",{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Nome"}),y.jsx("th",{children:"Email"}),y.jsx("th",{children:"Role"}),y.jsx("th",{children:"Empresa"}),y.jsx("th",{children:"Status"}),y.jsx("th",{children:"Aes"})]})}),y.jsx("tbody",{children:r.map(N=>y.jsxs("tr",{children:[y.jsx("td",{children:N.displayName}),y.jsx("td",{children:N.email}),y.jsx("td",{children:y.jsx("span",{className:`role-badge ${N.role}`,children:N.role===xr.ADMIN?"Admin":"Empresa"})}),y.jsx("td",{children:N.companyName||"-"}),y.jsx("td",{children:y.jsx("span",{className:`status-badge ${N.isActive?"active":"inactive"}`,children:N.isActive?"Ativo":"Inativo"})}),y.jsx("td",{children:y.jsxs("div",{className:"action-buttons",children:[y.jsx("button",{onClick:()=>X(N.uid,N.isActive),className:"action-button",children:N.isActive?"Desativar":"Ativar"}),y.jsx("button",{onClick:()=>C(N.uid),className:"action-button delete",children:"Excluir"})]})})]},N.uid))})]})})]}),c==="companies"&&y.jsxs("div",{className:"admin-section",children:[y.jsx("h3",{children:"Gerenciar Empresas"}),y.jsx("div",{className:"admin-table",children:y.jsxs("table",{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Nome"}),y.jsx("th",{children:"Cdigo"}),y.jsx("th",{children:"Email de Contato"}),y.jsx("th",{children:"Status"}),y.jsx("th",{children:"Aes"})]})}),y.jsx("tbody",{children:i.map(N=>y.jsxs("tr",{children:[y.jsx("td",{children:N.name}),y.jsx("td",{children:N.code}),y.jsx("td",{children:N.contactEmail}),y.jsx("td",{children:y.jsx("span",{className:`status-badge ${N.isActive?"active":"inactive"}`,children:N.isActive?"Ativa":"Inativa"})}),y.jsx("td",{children:y.jsx("button",{onClick:()=>J(N.id,N.isActive),className:"action-button",children:N.isActive?"Desativar":"Ativar"})})]},N.id))})]})})]}),c==="shipments"&&y.jsxs("div",{className:"admin-section",children:[y.jsx("h3",{children:"Gerenciar Shipments"}),y.jsx("div",{className:"admin-note",children:y.jsxs("p",{children:[y.jsx("strong",{children:"Nota:"})," Apenas administradores podem criar shipments. Use esta aba para atribuir shipments s empresas."]})}),y.jsx("div",{className:"admin-table",children:y.jsxs("table",{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"BL"}),y.jsx("th",{children:"Cliente"}),y.jsx("th",{children:"POL  POD"}),y.jsx("th",{children:"Status"}),y.jsx("th",{children:"Empresa Atual"}),y.jsx("th",{children:"Atribuir  Empresa"})]})}),y.jsx("tbody",{children:a.map(N=>y.jsxs("tr",{children:[y.jsx("td",{children:N.numeroBl}),y.jsx("td",{children:N.cliente}),y.jsxs("td",{children:[N.pol,"  ",N.pod]}),y.jsx("td",{children:N.status}),y.jsx("td",{children:R(N.companyId)}),y.jsx("td",{children:y.jsxs("select",{value:N.companyId||"unassigned",onChange:F=>P(N.id,F.target.value),className:"company-selector",children:[y.jsx("option",{value:"unassigned",children:"No atribudo"}),i.filter(F=>F.isActive).map(F=>y.jsxs("option",{value:F.id,children:[F.name," (",F.code,")"]},F.id))]})})]},N.id))})]})})]}),p&&y.jsx("div",{className:"admin-panel",style:{zIndex:1100},children:y.jsxs("div",{className:"admin-panel-content",style:{maxWidth:"600px"},children:[y.jsxs("div",{className:"admin-panel-header",children:[y.jsx("h2",{children:"Criar Novo Usurio"}),y.jsx("button",{onClick:k,className:"close-button",children:""})]}),y.jsxs("div",{className:"admin-section",children:[y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Tipo de Usurio"}),y.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",padding:"0.5rem 1rem",border:"2px solid #e1e5e9",borderRadius:"8px",backgroundColor:x.role===xr.COMPANY_USER?"#e6f3ff":"white",borderColor:x.role===xr.COMPANY_USER?"#0066cc":"#e1e5e9"},children:[y.jsx("input",{type:"radio",name:"userType",checked:x.role===xr.COMPANY_USER,onChange:()=>g({...x,role:xr.COMPANY_USER}),style:{margin:0}}),"Usurio de Empresa"]}),y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",padding:"0.5rem 1rem",border:"2px solid #e1e5e9",borderRadius:"8px",backgroundColor:x.role===xr.ADMIN?"#e6f3ff":"white",borderColor:x.role===xr.ADMIN?"#0066cc":"#e1e5e9"},children:[y.jsx("input",{type:"radio",name:"userType",checked:x.role===xr.ADMIN,onChange:()=>g({...x,role:xr.ADMIN}),style:{margin:0}}),"Administrador"]})]})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Nome Completo *"}),y.jsx("input",{type:"text",value:x.name,onChange:N=>g({...x,name:N.target.value}),placeholder:"Digite o nome completo",style:{width:"100%",padding:"0.75rem",border:`1px solid ${E.name?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),E.name&&y.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:E.name})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Email *"}),y.jsx("input",{type:"email",value:x.email,onChange:N=>g({...x,email:N.target.value}),placeholder:"usuario@email.com",style:{width:"100%",padding:"0.75rem",border:`1px solid ${E.email?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),E.email&&y.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:E.email})]})]}),x.role===xr.COMPANY_USER&&y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Nome da Empresa *"}),y.jsx("input",{type:"text",value:x.companyName,onChange:N=>g({...x,companyName:N.target.value}),placeholder:"Digite o nome da empresa",style:{width:"100%",padding:"0.75rem",border:`1px solid ${E.companyName?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),E.companyName&&y.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:E.companyName})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Cdigo da Empresa *"}),y.jsx("input",{type:"text",value:x.companyCode,onChange:N=>g({...x,companyCode:N.target.value.toUpperCase()}),placeholder:"Ex: LOG001",style:{width:"100%",padding:"0.75rem",border:`1px solid ${E.companyCode?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),E.companyCode&&y.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:E.companyCode}),y.jsx("small",{style:{color:"#6c757d",fontSize:"0.8rem"},children:"Cdigo nico para identificar a empresa"})]})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Senha *"}),y.jsx("input",{type:"password",value:x.password,onChange:N=>g({...x,password:N.target.value}),placeholder:"Mnimo 6 caracteres",style:{width:"100%",padding:"0.75rem",border:`1px solid ${E.password?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),E.password&&y.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:E.password})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Confirmar Senha *"}),y.jsx("input",{type:"password",value:x.confirmPassword,onChange:N=>g({...x,confirmPassword:N.target.value}),placeholder:"Confirme a senha",style:{width:"100%",padding:"0.75rem",border:`1px solid ${E.confirmPassword?"#e74c3c":"#e5e7eb"}`,borderRadius:"6px",fontSize:"0.95rem"}}),E.confirmPassword&&y.jsx("p",{style:{color:"#e74c3c",fontSize:"0.8rem",margin:"0.25rem 0 0 0"},children:E.confirmPassword})]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[y.jsx("button",{onClick:k,className:"action-button",style:{backgroundColor:"#6c757d",color:"white"},disabled:S,children:"Cancelar"}),y.jsx("button",{onClick:O,className:"action-button",style:{backgroundColor:"#789170",color:"white"},disabled:S,children:S?"Criando...":"Criar Usurio"})]})]})]})})]})}):y.jsx("div",{className:"admin-panel",children:y.jsxs("div",{className:"admin-panel-content",children:[y.jsx("h2",{children:"Acesso Negado"}),y.jsx("p",{children:"Voc no tem permisso para acessar o painel administrativo."}),y.jsx("button",{onClick:t,children:"Fechar"})]})})},jo=()=>{const{isCollapsed:t,setIsCollapsed:e}=be.useContext(h0),[r,n]=be.useState(!1),i=oc(),s=Sm(),{isAdmin:a,logout:o}=Za(),u=s.pathname.includes("settings")?"settings":s.pathname.includes("novo-envio")?"novo-envio":s.pathname.includes("envios")?"envios":"home",c=()=>{o(),i("/")};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:`navbar ${t?"collapsed":"expanded"}`,children:[y.jsxs("div",{className:"navbar-header",children:[y.jsx("button",{className:"toggle-btn",onClick:()=>e(!t),"aria-label":t?"Expand menu":"Collapse menu",children:t?y.jsx(C7,{size:20}):y.jsx($f,{size:20})}),y.jsx("div",{className:"company-logo",children:y.jsx("img",{src:t6,alt:"SeaLogistics Logo",className:`company-logo-img ${t?"hidden":"visible"}`})})]}),y.jsxs("nav",{className:"nav-items",children:[y.jsxs("div",{className:`nav-item ${u==="home"?"active":""}`,onClick:()=>i("/home"),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&i("/home"),children:[y.jsx("div",{className:"icon-container",children:y.jsx(b7,{size:20})}),y.jsx("span",{className:`nav-text ${t?"hidden":"visible"}`,children:a()?"Dashboard":"Incio"})]}),y.jsxs("div",{className:`nav-item ${u==="envios"?"active":""}`,onClick:()=>i("/envios"),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&i("/envios"),children:[y.jsx("div",{className:"icon-container",children:y.jsx(Yd,{size:20})}),y.jsx("span",{className:`nav-text ${t?"hidden":"visible"}`,children:"Envios"})]}),a()&&y.jsxs("div",{className:`nav-item ${u==="novo-envio"?"active":""}`,onClick:()=>i("/novo-envio"),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&i("/novo-envio"),children:[y.jsx("div",{className:"icon-container",children:y.jsx(JT,{size:20})}),y.jsx("span",{className:`nav-text ${t?"hidden":"visible"}`,children:"Novo Envio"})]}),y.jsxs("div",{className:`nav-item ${u==="settings"?"active":""}`,onClick:()=>i("/settings"),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&i("/settings"),children:[y.jsx("div",{className:"icon-container",children:y.jsx(Xx,{size:20})}),y.jsx("span",{className:`nav-text ${t?"hidden":"visible"}`,children:"Configuraes"})]}),y.jsxs("div",{className:"nav-item logout",onClick:c,role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&c(),children:[y.jsx("div",{className:"icon-container",children:y.jsx($f,{size:20})}),y.jsx("span",{className:`nav-text ${t?"hidden":"visible"}`,children:"Sair"})]})]})]}),r&&y.jsx(r6,{onClose:()=>n(!1)})]})},n6=()=>{const{currentUser:t}=Za(),{translations:e}=lh(),{shipments:r,loading:n}=qm(),i=oc(),[s,a]=be.useState({totalShipments:0,inTransit:0,delivered:0,pending:0,thisMonth:0,totalUsers:0,totalCompanies:0,activeCompanies:0}),[o,l]=be.useState(!0),[u,c]=be.useState(!1);return be.useEffect(()=>{const h=async()=>{try{l(!0);const m=(await To(Xs(mr,"users"))).size,g=(await To(Xs(mr,"companies"))).docs.map(O=>O.data()),S=g.length,w=g.filter(O=>O.isActive).length,E=new Date,T=E.getMonth(),j=E.getFullYear(),X=r.length,J=r.filter(O=>O.status==="em-trnsito"||O.status==="agendado").length,P=r.filter(O=>O.status==="concludo").length,C=r.filter(O=>O.status==="documentao").length,R=r.filter(O=>{if(O.etdOrigem){const k=new Date(O.etdOrigem);return k.getMonth()===T&&k.getFullYear()===j}return!1}).length;a({totalShipments:X,inTransit:J,delivered:P,pending:C,thisMonth:R,totalUsers:m,totalCompanies:S,activeCompanies:w})}catch(p){console.error("Error loading admin stats:",p)}finally{l(!1)}};r.length>0&&h()},[r]),o||n?y.jsxs("main",{className:"dashboard-container",children:[y.jsx(jo,{}),y.jsx("div",{className:"dashboard-content",children:y.jsx("div",{className:"loading-message",children:"Carregando..."})}),y.jsx(ec,{})]}):y.jsxs("main",{className:"dashboard-container",children:[y.jsx(jo,{}),y.jsxs("div",{className:"dashboard-content",children:[y.jsxs("div",{className:"dashboard-header",children:[y.jsx("h1",{children:e.administrativeDashboard}),y.jsx("p",{children:e.welcomeAdmin})]}),y.jsxs("div",{className:"stats-grid",children:[y.jsxs("div",{className:"stat-card clickable",onClick:()=>i("/envios"),children:[y.jsx("div",{className:"stat-icon",children:y.jsx(Yd,{size:24})}),y.jsxs("div",{className:"stat-info",children:[y.jsx("h3",{children:e.totalShipments}),y.jsx("p",{className:"stat-number",children:s.totalShipments})]})]}),y.jsxs("div",{className:"stat-card clickable",onClick:()=>i("/envios?status=em-trnsito"),children:[y.jsx("div",{className:"stat-icon in-transit",children:y.jsx(Wf,{size:24})}),y.jsxs("div",{className:"stat-info",children:[y.jsx("h3",{children:e.inTransit}),y.jsx("p",{className:"stat-number",children:s.inTransit})]})]}),y.jsxs("div",{className:"stat-card clickable",onClick:()=>i("/envios?status=concludo"),children:[y.jsx("div",{className:"stat-icon delivered",children:y.jsx(KT,{size:24})}),y.jsxs("div",{className:"stat-info",children:[y.jsx("h3",{children:e.delivered}),y.jsx("p",{className:"stat-number",children:s.delivered})]})]}),y.jsxs("div",{className:"stat-card clickable",onClick:()=>i("/envios?status=documentao"),children:[y.jsx("div",{className:"stat-icon pending",children:y.jsx(QT,{size:24})}),y.jsxs("div",{className:"stat-info",children:[y.jsx("h3",{children:e.pending}),y.jsx("p",{className:"stat-number",children:s.pending})]})]}),y.jsxs("div",{className:"stat-card clickable",onClick:()=>i("/envios?filter=this-month"),children:[y.jsx("div",{className:"stat-icon this-month",children:y.jsx(e6,{size:24})}),y.jsxs("div",{className:"stat-info",children:[y.jsx("h3",{children:e.thisMonth}),y.jsx("p",{className:"stat-number",children:s.thisMonth})]})]}),y.jsxs("div",{className:"stat-card clickable",onClick:()=>i("/admin-dashboard"),children:[y.jsx("div",{className:"stat-icon users",children:y.jsx(D7,{size:24})}),y.jsxs("div",{className:"stat-info",children:[y.jsx("h3",{children:e.totalUsers}),y.jsx("p",{className:"stat-number",children:s.totalUsers})]})]}),y.jsxs("div",{className:"stat-card clickable",onClick:()=>i("/admin-dashboard"),children:[y.jsx("div",{className:"stat-icon companies",children:y.jsx(A7,{size:24})}),y.jsxs("div",{className:"stat-info",children:[y.jsx("h3",{children:e.activeCompanies}),y.jsxs("p",{className:"stat-number",children:[s.activeCompanies,"/",s.totalCompanies]})]})]}),y.jsxs("div",{className:"stat-card clickable",onClick:()=>i("/envios"),children:[y.jsx("div",{className:"stat-icon action",children:y.jsx(Kx,{size:24})}),y.jsxs("div",{className:"stat-info",children:[y.jsx("h3",{children:e.manageShipments}),y.jsx("p",{className:"action-text",children:e.clickToSeeAllShipments})]})]})]}),y.jsxs("div",{className:"quick-actions",children:[y.jsx("h2",{children:e.quickActions}),y.jsxs("div",{className:"actions-grid",children:[y.jsxs("button",{className:"action-button",onClick:()=>i("/novo-envio"),children:[y.jsx(JT,{size:20}),y.jsx("span",{children:e.newShipment})]}),y.jsxs("button",{className:"action-button",onClick:()=>c(!0),children:[y.jsx(L7,{size:20}),y.jsx("span",{children:e.adminPanel})]}),y.jsxs("button",{className:"action-button",onClick:()=>i("/settings"),children:[y.jsx(Xx,{size:20}),y.jsx("span",{children:e.configurations})]})]})]})]}),u&&y.jsx(r6,{onClose:()=>c(!1)}),y.jsx(ec,{})]})},i6=()=>{const{currentUser:t,isAdmin:e}=Za(),{shipments:r,loading:n}=qm(),{translations:i}=lh(),s=oc(),[a,o]=be.useState({totalShipments:0,inTransit:0,delivered:0,pending:0,thisMonth:0}),[l,u]=be.useState([]);be.useEffect(()=>{!n&&e()&&s("/envios")},[e,n,s]),be.useEffect(()=>{r.length>0&&(c(r),h(r))},[r]);const c=g=>{const S=new Date,w=S.getMonth(),E=S.getFullYear(),T=g.length,j=g.filter(C=>C.status==="em-trnsito"||C.status==="agendado").length,X=g.filter(C=>C.status==="concludo").length,J=g.filter(C=>C.status==="documentao").length,P=g.filter(C=>{if(C.etdOrigem){const R=new Date(C.etdOrigem);return R.getMonth()===w&&R.getFullYear()===E}return!1}).length;o({totalShipments:T,inTransit:j,delivered:X,pending:J,thisMonth:P})},h=g=>{const S=g.slice(0,5).map(w=>({id:w.id||"",action:p(w.status),shipment:`${w.pol}  ${w.pod}`,date:w.etdOrigem||"",status:w.status}));u(S)},p=g=>{switch(g){case"documentao":return i.statusPending;case"agendado":return i.statusInTransit;case"em-trnsito":return i.statusInTransit;case"concludo":return i.statusDelivered;default:return"Status atualizado"}},m=g=>g?new Date(g).toLocaleDateString("pt-BR"):"",x=g=>{switch(g){case"documentao":return"#073b4c";case"agendado":return"#118ab2";case"em-trnsito":return"#ffd166";case"concludo":return"#06d6a0";default:return"#6c757d"}};return n||e()?y.jsxs("main",{className:"dashboard-container",children:[y.jsx(jo,{}),y.jsx("div",{className:"dashboard-content",children:y.jsx("div",{className:"loading-message",children:n?i.loading:"Redirecionando..."})}),y.jsx(ec,{})]}):y.jsxs("main",{className:"dashboard-container",children:[y.jsx(jo,{}),y.jsxs("div",{className:"dashboard-content",children:[y.jsxs("div",{className:"dashboard-header",children:[y.jsx("h1",{children:i.dashboard}),y.jsxs("p",{children:["Bem-vindo, ",t==null?void 0:t.displayName,"!"]})]}),y.jsxs("div",{className:"stats-grid",children:[y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon",children:y.jsx(Yd,{size:24})}),y.jsxs("div",{className:"stat-info",children:[y.jsx("h3",{children:i.totalShipments}),y.jsx("p",{className:"stat-number",children:a.totalShipments})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon in-transit",children:y.jsx(Wf,{size:24})}),y.jsxs("div",{className:"stat-info",children:[y.jsx("h3",{children:i.inTransit}),y.jsx("p",{className:"stat-number",children:a.inTransit})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon delivered",children:y.jsx(KT,{size:24})}),y.jsxs("div",{className:"stat-info",children:[y.jsx("h3",{children:i.delivered}),y.jsx("p",{className:"stat-number",children:a.delivered})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon pending",children:y.jsx(QT,{size:24})}),y.jsxs("div",{className:"stat-info",children:[y.jsx("h3",{children:i.pending}),y.jsx("p",{className:"stat-number",children:a.pending})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon this-month",children:y.jsx(e6,{size:24})}),y.jsxs("div",{className:"stat-info",children:[y.jsx("h3",{children:i.thisMonth}),y.jsx("p",{className:"stat-number",children:a.thisMonth})]})]})]}),y.jsxs("div",{className:"recent-activity",children:[y.jsx("h2",{children:i.shipmentsTitle}),l.length>0?y.jsx("div",{className:"activity-list",children:l.map(g=>y.jsxs("div",{className:"activity-item",children:[y.jsx("div",{className:"activity-status-dot",style:{backgroundColor:x(g.status)}}),y.jsxs("div",{className:"activity-details",children:[y.jsx("p",{className:"activity-action",children:g.action}),y.jsxs("p",{className:"activity-shipment",children:[y.jsx(Yx,{size:14}),g.shipment]})]}),y.jsxs("div",{className:"activity-date",children:[y.jsx(qv,{size:14}),m(g.date)]})]},g.id))}):y.jsxs("div",{className:"empty-activity",children:[y.jsx(Kx,{size:48}),y.jsx("p",{children:i.noShipments})]})]}),y.jsxs("div",{className:"quick-links",children:[y.jsx("h2",{children:i.quickActions}),y.jsxs("div",{className:"links-grid",children:[y.jsxs("a",{href:"/envios",className:"quick-link-card",children:[y.jsx(Yd,{size:24}),y.jsx("span",{children:i.shipmentsTitle})]}),y.jsxs("a",{href:"/settings",className:"quick-link-card",children:[y.jsx(Xx,{size:24}),y.jsx("span",{children:i.settings})]})]})]})]}),y.jsx(ec,{})]})};var s6={exports:{}};(function(t,e){(function(r,n){n()})(Ih,function(){function r(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,c,h){var p=new XMLHttpRequest;p.open("GET",u),p.responseType="blob",p.onload=function(){l(p.response,c,h)},p.onerror=function(){console.error("could not download file")},p.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ih=="object"&&Ih.global===Ih?Ih:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,c,h){var p=a.URL||a.webkitURL,m=document.createElement("a");c=c||u.name||"download",m.download=c,m.rel="noopener",typeof u=="string"?(m.href=u,m.origin===location.origin?s(m):i(m.href)?n(u,c,h):s(m,m.target="_blank")):(m.href=p.createObjectURL(u),setTimeout(function(){p.revokeObjectURL(m.href)},4e4),setTimeout(function(){s(m)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,h){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,h),c);else if(i(u))n(u,c,h);else{var p=document.createElement("a");p.href=u,p.target="_blank",setTimeout(function(){s(p)})}}:function(u,c,h,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof u=="string")return n(u,c,h);var m=u.type==="application/octet-stream",x=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||m&&x||o)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var T=S.result;T=g?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=T:location=T,p=null},S.readAsDataURL(u)}else{var w=a.URL||a.webkitURL,E=w.createObjectURL(u);p?p.location=E:location.href=E,p=null,setTimeout(function(){w.revokeObjectURL(E)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(s6);var O7=s6.exports;const j7="modulepreload",M7=function(t){return"/"+t},d4={},Hv=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=M7(l),l in d4)return;d4[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":j7,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function kr(t){"@babel/helpers - typeof";return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr(t)}var Ci=Uint8Array,Cs=Uint16Array,Jx=Int32Array,Hm=new Ci([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Wm=new Ci([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Wv=new Ci([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a6=function(t,e){for(var r=new Cs(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Jx(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},o6=a6(Hm,2),l6=o6.b,$v=o6.r;l6[28]=258,$v[258]=28;var u6=a6(Wm,0),B7=u6.b,p4=u6.r,Gv=new Cs(32768);for(var Xr=0;Xr<32768;++Xr){var yl=(Xr&43690)>>1|(Xr&21845)<<1;yl=(yl&52428)>>2|(yl&13107)<<2,yl=(yl&61680)>>4|(yl&3855)<<4,Gv[Xr]=((yl&65280)>>8|(yl&255)<<8)>>1}var Ka=function(t,e,r){for(var n=t.length,i=0,s=new Cs(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Cs(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Cs(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],h=a[t[i]-1]++<<c,p=h|(1<<c)-1;h<=p;++h)o[Gv[h]>>l]=u}else for(o=new Cs(n),i=0;i<n;++i)t[i]&&(o[i]=Gv[a[t[i]-1]++]>>15-t[i]);return o},Jl=new Ci(288);for(var Xr=0;Xr<144;++Xr)Jl[Xr]=8;for(var Xr=144;Xr<256;++Xr)Jl[Xr]=9;for(var Xr=256;Xr<280;++Xr)Jl[Xr]=7;for(var Xr=280;Xr<288;++Xr)Jl[Xr]=8;var Xd=new Ci(32);for(var Xr=0;Xr<32;++Xr)Xd[Xr]=5;var V7=Ka(Jl,9,0),U7=Ka(Jl,9,1),z7=Ka(Xd,5,0),q7=Ka(Xd,5,1),t2=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},ha=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},r2=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Zx=function(t){return(t+7)/8|0},c6=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ci(t.subarray(e,r))},H7=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],va=function(t,e,r){var n=new Error(e||H7[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,va),!r)throw n;return n},W7=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new Ci(0);var a=!r,o=a||e.i!=2,l=e.i;a&&(r=new Ci(i*3));var u=function(Me){var qe=r.length;if(Me>qe){var Ze=new Ci(Math.max(qe*2,Me));Ze.set(r),r=Ze}},c=e.f||0,h=e.p||0,p=e.b||0,m=e.l,x=e.d,g=e.m,S=e.n,w=i*8;do{if(!m){c=ha(t,h,1);var E=ha(t,h+1,3);if(h+=3,E)if(E==1)m=U7,x=q7,g=9,S=5;else if(E==2){var J=ha(t,h,31)+257,P=ha(t,h+10,15)+4,C=J+ha(t,h+5,31)+1;h+=14;for(var R=new Ci(C),O=new Ci(19),k=0;k<P;++k)O[Wv[k]]=ha(t,h+k*3,7);h+=P*3;for(var N=t2(O),F=(1<<N)-1,ne=Ka(O,N,1),k=0;k<C;){var re=ne[ha(t,h,F)];h+=re&15;var T=re>>4;if(T<16)R[k++]=T;else{var he=0,ge=0;for(T==16?(ge=3+ha(t,h,3),h+=2,he=R[k-1]):T==17?(ge=3+ha(t,h,7),h+=3):T==18&&(ge=11+ha(t,h,127),h+=7);ge--;)R[k++]=he}}var te=R.subarray(0,J),ce=R.subarray(J);g=t2(te),S=t2(ce),m=Ka(te,g,1),x=Ka(ce,S,1)}else va(1);else{var T=Zx(h)+4,j=t[T-4]|t[T-3]<<8,X=T+j;if(X>i){l&&va(0);break}o&&u(p+j),r.set(t.subarray(T,X),p),e.b=p+=j,e.p=h=X*8,e.f=c;continue}if(h>w){l&&va(0);break}}o&&u(p+131072);for(var me=(1<<g)-1,Be=(1<<S)-1,I=h;;I=h){var he=m[r2(t,h)&me],M=he>>4;if(h+=he&15,h>w){l&&va(0);break}if(he||va(2),M<256)r[p++]=M;else if(M==256){I=h,m=null;break}else{var B=M-254;if(M>264){var k=M-257,z=Hm[k];B=ha(t,h,(1<<z)-1)+l6[k],h+=z}var ee=x[r2(t,h)&Be],fe=ee>>4;ee||va(3),h+=ee&15;var ce=B7[fe];if(fe>3){var z=Wm[fe];ce+=r2(t,h)&(1<<z)-1,h+=z}if(h>w){l&&va(0);break}o&&u(p+131072);var ve=p+B;if(p<ce){var pe=s-ce,Ne=Math.min(ce,ve);for(pe+p<0&&va(3);p<Ne;++p)r[p]=n[pe+p]}for(;p<ve;++p)r[p]=r[p-ce]}}e.l=m,e.p=I,e.b=p,e.f=c,m&&(c=1,e.m=g,e.d=x,e.n=S)}while(!c);return p!=r.length&&a?c6(r,0,p):r.subarray(0,p)},go=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Vh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},n2=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:h6,l:0};if(i==1){var a=new Ci(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(X,J){return X.f-J.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,c=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=r[r[u].f<r[h].f?u++:h++],l=r[u!=c&&r[u].f<r[h].f?u++:h++],r[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=s[0].s,n=1;n<i;++n)s[n].s>p&&(p=s[n].s);var m=new Cs(p+1),x=Kv(r[c-1],m,0);if(x>e){var n=0,g=0,S=x-e,w=1<<S;for(s.sort(function(J,P){return m[P.s]-m[J.s]||J.f-P.f});n<i;++n){var E=s[n].s;if(m[E]>e)g+=w-(1<<x-m[E]),m[E]=e;else break}for(g>>=S;g>0;){var T=s[n].s;m[T]<e?g-=1<<e-m[T]++-1:++n}for(;n>=0&&g;--n){var j=s[n].s;m[j]==e&&(--m[j],++g)}x=e}return{t:new Ci(m),l:x}},Kv=function(t,e,r){return t.s==-1?Math.max(Kv(t.l,e,r+1),Kv(t.r,e,r+1)):e[t.s]=r},m4=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Cs(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Uh=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},f6=function(t,e,r){var n=r.length,i=Zx(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},g4=function(t,e,r,n,i,s,a,o,l,u,c){go(e,c++,r),++i[256];for(var h=n2(i,15),p=h.t,m=h.l,x=n2(s,15),g=x.t,S=x.l,w=m4(p),E=w.c,T=w.n,j=m4(g),X=j.c,J=j.n,P=new Cs(19),C=0;C<E.length;++C)++P[E[C]&31];for(var C=0;C<X.length;++C)++P[X[C]&31];for(var R=n2(P,7),O=R.t,k=R.l,N=19;N>4&&!O[Wv[N-1]];--N);var F=u+5<<3,ne=Uh(i,Jl)+Uh(s,Xd)+a,re=Uh(i,p)+Uh(s,g)+a+14+3*N+Uh(P,O)+2*P[16]+3*P[17]+7*P[18];if(l>=0&&F<=ne&&F<=re)return f6(e,c,t.subarray(l,l+u));var he,ge,te,ce;if(go(e,c,1+(re<ne)),c+=2,re<ne){he=Ka(p,m,0),ge=p,te=Ka(g,S,0),ce=g;var me=Ka(O,k,0);go(e,c,T-257),go(e,c+5,J-1),go(e,c+10,N-4),c+=14;for(var C=0;C<N;++C)go(e,c+3*C,O[Wv[C]]);c+=3*N;for(var Be=[E,X],I=0;I<2;++I)for(var M=Be[I],C=0;C<M.length;++C){var B=M[C]&31;go(e,c,me[B]),c+=O[B],B>15&&(go(e,c,M[C]>>5&127),c+=M[C]>>12)}}else he=V7,ge=Jl,te=z7,ce=Xd;for(var C=0;C<o;++C){var z=n[C];if(z>255){var B=z>>18&31;Vh(e,c,he[B+257]),c+=ge[B+257],B>7&&(go(e,c,z>>23&31),c+=Hm[B]);var ee=z&31;Vh(e,c,te[ee]),c+=ce[ee],ee>3&&(Vh(e,c,z>>5&8191),c+=Wm[ee])}else Vh(e,c,he[z]),c+=ge[z]}return Vh(e,c,he[256]),c+ge[256]},$7=new Jx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),h6=new Ci(0),G7=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Ci(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var h=$7[e-1],p=h>>13,m=h&8191,x=(1<<r)-1,g=s.p||new Cs(32768),S=s.h||new Cs(x+1),w=Math.ceil(r/3),E=2*w,T=function(at){return(t[at]^t[at+1]<<w^t[at+2]<<E)&x},j=new Jx(25e3),X=new Cs(288),J=new Cs(32),P=0,C=0,R=s.i||0,O=0,k=s.w||0,N=0;R+2<a;++R){var F=T(R),ne=R&32767,re=S[F];if(g[ne]=re,S[F]=ne,k<=R){var he=a-R;if((P>7e3||O>24576)&&(he>423||!u)){c=g4(t,l,0,j,X,J,C,O,N,R-N,c),O=P=C=0,N=R;for(var ge=0;ge<286;++ge)X[ge]=0;for(var ge=0;ge<30;++ge)J[ge]=0}var te=2,ce=0,me=m,Be=ne-re&32767;if(he>2&&F==T(R-Be))for(var I=Math.min(p,he)-1,M=Math.min(32767,R),B=Math.min(258,he);Be<=M&&--me&&ne!=re;){if(t[R+te]==t[R+te-Be]){for(var z=0;z<B&&t[R+z]==t[R+z-Be];++z);if(z>te){if(te=z,ce=Be,z>I)break;for(var ee=Math.min(Be,z-2),fe=0,ge=0;ge<ee;++ge){var ve=R-Be+ge&32767,pe=g[ve],Ne=ve-pe&32767;Ne>fe&&(fe=Ne,re=ve)}}}ne=re,re=g[ne],Be+=ne-re&32767}if(ce){j[O++]=268435456|$v[te]<<18|p4[ce];var Me=$v[te]&31,qe=p4[ce]&31;C+=Hm[Me]+Wm[qe],++X[257+Me],++J[qe],k=R+te,++P}else j[O++]=t[R],++X[t[R]]}}for(R=Math.max(R,k);R<a;++R)j[O++]=t[R],++X[t[R]];c=g4(t,l,u,j,X,J,C,O,N,R-N,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=S,s.p=g,s.i=R,s.w=k)}else{for(var R=s.w||0;R<a+u;R+=65535){var Ze=R+65535;Ze>=a&&(l[c/8|0]=u,Ze=a),c=f6(l,c+1,t.subarray(R,Ze))}s.i=a}return c6(o,0,n+Zx(c)+i)},d6=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},K7=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ci(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return G7(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},p6=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Y7=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=d6();i.p(e.dictionary),p6(t,2,i.d())}},X7=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&va(6,"invalid zlib data"),(t[1]>>5&1)==1&&va(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Yv(t,e){e||(e={});var r=d6();r.p(t);var n=K7(t,e,e.dictionary?6:2,4);return Y7(n,e),p6(n,n.length-4,r.d()),n}function Q7(t,e){return W7(t.subarray(X7(t),-4),{i:2},e,e)}var J7=typeof TextDecoder<"u"&&new TextDecoder,Z7=0;try{J7.decode(h6,{stream:!0}),Z7=1}catch{}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i2(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var Ur={log:i2,warn:function(t){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):i2.call(null,arguments))},error:function(t){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):i2(t))}};function s2(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Lu(n.response,e,r)},n.onerror=function(){Ur.error("could not download file")},n.send()}function v4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function vp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var hd,Xv,Lu=jt.saveAs||((typeof window>"u"?"undefined":kr(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=jt.URL||jt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?v4(i.href)?s2(t,e,r):vp(i,i.target="_blank"):vp(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){vp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(v4(t))s2(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){vp(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:kr(s)!=="object"&&(Ur.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return s2(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(jt.HTMLElement)||jt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":kr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=a?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(t)}else{var l=jt.URL||jt.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function m6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function a2(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=wi(r,n,i,s,e[0],7,-680876936),s=wi(s,r,n,i,e[1],12,-389564586),i=wi(i,s,r,n,e[2],17,606105819),n=wi(n,i,s,r,e[3],22,-1044525330),r=wi(r,n,i,s,e[4],7,-176418897),s=wi(s,r,n,i,e[5],12,1200080426),i=wi(i,s,r,n,e[6],17,-1473231341),n=wi(n,i,s,r,e[7],22,-45705983),r=wi(r,n,i,s,e[8],7,1770035416),s=wi(s,r,n,i,e[9],12,-1958414417),i=wi(i,s,r,n,e[10],17,-42063),n=wi(n,i,s,r,e[11],22,-1990404162),r=wi(r,n,i,s,e[12],7,1804603682),s=wi(s,r,n,i,e[13],12,-40341101),i=wi(i,s,r,n,e[14],17,-1502002290),r=Ei(r,n=wi(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ei(s,r,n,i,e[6],9,-1069501632),i=Ei(i,s,r,n,e[11],14,643717713),n=Ei(n,i,s,r,e[0],20,-373897302),r=Ei(r,n,i,s,e[5],5,-701558691),s=Ei(s,r,n,i,e[10],9,38016083),i=Ei(i,s,r,n,e[15],14,-660478335),n=Ei(n,i,s,r,e[4],20,-405537848),r=Ei(r,n,i,s,e[9],5,568446438),s=Ei(s,r,n,i,e[14],9,-1019803690),i=Ei(i,s,r,n,e[3],14,-187363961),n=Ei(n,i,s,r,e[8],20,1163531501),r=Ei(r,n,i,s,e[13],5,-1444681467),s=Ei(s,r,n,i,e[2],9,-51403784),i=Ei(i,s,r,n,e[7],14,1735328473),r=Si(r,n=Ei(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Si(s,r,n,i,e[8],11,-2022574463),i=Si(i,s,r,n,e[11],16,1839030562),n=Si(n,i,s,r,e[14],23,-35309556),r=Si(r,n,i,s,e[1],4,-1530992060),s=Si(s,r,n,i,e[4],11,1272893353),i=Si(i,s,r,n,e[7],16,-155497632),n=Si(n,i,s,r,e[10],23,-1094730640),r=Si(r,n,i,s,e[13],4,681279174),s=Si(s,r,n,i,e[0],11,-358537222),i=Si(i,s,r,n,e[3],16,-722521979),n=Si(n,i,s,r,e[6],23,76029189),r=Si(r,n,i,s,e[9],4,-640364487),s=Si(s,r,n,i,e[12],11,-421815835),i=Si(i,s,r,n,e[15],16,530742520),r=Ai(r,n=Si(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ai(s,r,n,i,e[7],10,1126891415),i=Ai(i,s,r,n,e[14],15,-1416354905),n=Ai(n,i,s,r,e[5],21,-57434055),r=Ai(r,n,i,s,e[12],6,1700485571),s=Ai(s,r,n,i,e[3],10,-1894986606),i=Ai(i,s,r,n,e[10],15,-1051523),n=Ai(n,i,s,r,e[1],21,-2054922799),r=Ai(r,n,i,s,e[8],6,1873313359),s=Ai(s,r,n,i,e[15],10,-30611744),i=Ai(i,s,r,n,e[6],15,-1560198380),n=Ai(n,i,s,r,e[13],21,1309151649),r=Ai(r,n,i,s,e[4],6,-145523070),s=Ai(s,r,n,i,e[11],10,-1120210379),i=Ai(i,s,r,n,e[2],15,718787259),n=Ai(n,i,s,r,e[9],21,-343485551),t[0]=Il(r,t[0]),t[1]=Il(n,t[1]),t[2]=Il(i,t[2]),t[3]=Il(s,t[3])}function $m(t,e,r,n,i,s){return e=Il(Il(e,t),Il(n,s)),Il(e<<i|e>>>32-i,r)}function wi(t,e,r,n,i,s,a){return $m(e&r|~e&n,t,e,i,s,a)}function Ei(t,e,r,n,i,s,a){return $m(e&n|r&~n,t,e,i,s,a)}function Si(t,e,r,n,i,s,a){return $m(e^r^n,t,e,i,s,a)}function Ai(t,e,r,n,i,s,a){return $m(r^(e|~n),t,e,i,s,a)}function g6(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)a2(n,eD(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(a2(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,a2(n,i),n}function eD(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}hd=jt.atob.bind(jt),Xv=jt.btoa.bind(jt);var y4="0123456789abcdef".split("");function tD(t){for(var e="",r=0;r<4;r++)e+=y4[t>>8*r+4&15]+y4[t>>8*r&15];return e}function rD(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Qv(t){return g6(t).map(rD).join("")}var nD=function(t){for(var e=0;e<t.length;e++)t[e]=tD(t[e]);return t.join("")}(g6("hello"))!="5d41402abc4b2a76b9719d911017c592";function Il(t,e){if(nD){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Jv(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var c=o[l];u=(u+c+a.charCodeAt(l))%256,o[l]=o[u],o[u]=c}r=t,n=o}else o=n;var h=e.length,p=0,m=0,x="";for(l=0;l<h;l++)m=(m+(c=o[p=(p+1)%256]))%256,o[p]=o[m],o[m]=c,a=o[(o[p]+o[m])%256],x+=String.fromCharCode(e.charCodeAt(l)^a);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var x4={print:4,modify:8,copy:16,"annot-forms":32};function $c(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(x4.perm!==void 0)throw new Error("Invalid permission: "+o);i+=x4[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Qv(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Jv(this.encryptionKey,this.padding)}function Gc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function _4(t){if(kr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){jt.console&&Ur.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function F1(t){if(!(this instanceof F1))return new F1(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function v6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ru(t,e,r,n,i){if(!(this instanceof Ru))return new Ru(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,v6.call(this,n,i)}function uf(t,e,r,n,i){if(!(this instanceof uf))return new uf(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,v6.call(this,n,i)}function Ot(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",c=null;kr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=_4;var x="1.3",g=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(_){x=_};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return S};var w=m.__private__.getPageFormat=function(_){return S[_]};i=i||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},T=E.COMPAT;function j(){this.saveGraphicsState(),ue(new xt(dt,0,0,-dt,0,vi()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),u="n",T=E.ADVANCED}function X(){this.restoreGraphicsState(),u="S",T=E.COMPAT}var J=m.__private__.combineFontStyleAndFontWeight=function(_,V){if(_=="bold"&&V=="normal"||_=="bold"&&V==400||_=="normal"&&V=="italic"||_=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(_=V==400||V==="normal"?_==="italic"?"italic":"normal":V!=700&&V!=="bold"||_!=="normal"?(V==700?"bold":V)+""+_:"bold"),_};m.advancedAPI=function(_){var V=T===E.COMPAT;return V&&j.call(this),typeof _!="function"||(_(this),V&&X.call(this)),this},m.compatAPI=function(_){var V=T===E.ADVANCED;return V&&X.call(this),typeof _!="function"||(_(this),V&&j.call(this)),this},m.isAdvancedAPI=function(){return T===E.ADVANCED};var P,C=function(_){if(T!==E.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=m.roundToPrecision=m.__private__.roundToPrecision=function(_,V){var le=e||V;if(isNaN(_)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(le).replace(/0+$/,"")};P=m.hpf=m.__private__.hpf=typeof l=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return R(_,l)}:l==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return R(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return R(_,16)};var O=m.f2=m.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return R(_,2)},k=m.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return R(_,3)},N=m.scale=m.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return T===E.COMPAT?_*dt:T===E.ADVANCED?_:void 0},F=function(_){return T===E.COMPAT?vi()-_:T===E.ADVANCED?_:void 0},ne=function(_){return N(F(_))};m.__private__.setPrecision=m.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var re,he="00000000000000000000000000000000",ge=m.__private__.getFileId=function(){return he},te=m.__private__.setFileId=function(_){return he=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():he.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Gr=new $c(c.userPermissions,c.userPassword,c.ownerPassword,he)),he};m.setFileId=function(_){return te(_),this},m.getFileId=function(){return ge()};var ce=m.__private__.convertDateToPDFDate=function(_){var V=_.getTimezoneOffset(),le=V<0?"+":"-",de=Math.floor(Math.abs(V/60)),Ee=Math.abs(V%60),Oe=[le,B(de),"'",B(Ee),"'"].join("");return["D:",_.getFullYear(),B(_.getMonth()+1),B(_.getDate()),B(_.getHours()),B(_.getMinutes()),B(_.getSeconds()),Oe].join("")},me=m.__private__.convertPDFDateToDate=function(_){var V=parseInt(_.substr(2,4),10),le=parseInt(_.substr(6,2),10)-1,de=parseInt(_.substr(8,2),10),Ee=parseInt(_.substr(10,2),10),Oe=parseInt(_.substr(12,2),10),Xe=parseInt(_.substr(14,2),10);return new Date(V,le,de,Ee,Oe,Xe,0)},Be=m.__private__.setCreationDate=function(_){var V;if(_===void 0&&(_=new Date),_ instanceof Date)V=ce(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=_}return re=V},I=m.__private__.getCreationDate=function(_){var V=re;return _==="jsDate"&&(V=me(re)),V};m.setCreationDate=function(_){return Be(_),this},m.getCreationDate=function(_){return I(_)};var M,B=m.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},z=m.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ee=0,fe=[],ve=[],pe=0,Ne=[],Me=[],qe=!1,Ze=ve,at=function(){ee=0,pe=0,ve=[],fe=[],Ne=[],Q=Zr(),Z=Zr()};m.__private__.setCustomOutputDestination=function(_){qe=!0,Ze=_};var Fe=function(_){qe||(Ze=_)};m.__private__.resetCustomOutputDestination=function(){qe=!1,Ze=ve};var ue=m.__private__.out=function(_){return _=_.toString(),pe+=_.length+1,Ze.push(_),Ze},We=m.__private__.write=function(_){return ue(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},gt=m.__private__.getArrayBuffer=function(_){for(var V=_.length,le=new ArrayBuffer(V),de=new Uint8Array(le);V--;)de[V]=_.charCodeAt(V);return le},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ge};var rt=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(_){return rt=T===E.ADVANCED?_/dt:_,this};var lt,ut=m.__private__.getFontSize=m.getFontSize=function(){return T===E.COMPAT?rt:rt*dt},St=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(_){return St=_,this},m.__private__.getR2L=m.getR2L=function(){return St};var bt,Dt=m.__private__.setZoomMode=function(_){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))lt=_;else if(isNaN(_)){if(V.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');lt=_}else lt=parseInt(_,10)};m.__private__.getZoomMode=function(){return lt};var Ct,Pt=m.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');bt=_};m.__private__.getPageMode=function(){return bt};var Yt=m.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Ct=_};m.__private__.getLayoutMode=function(){return Ct},m.__private__.setDisplayMode=m.setDisplayMode=function(_,V,le){return Dt(_),Yt(V),Pt(le),this};var Lt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(_){if(Object.keys(Lt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Lt[_]},m.__private__.getDocumentProperties=function(){return Lt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(_){for(var V in Lt)Lt.hasOwnProperty(V)&&_[V]&&(Lt[V]=_[V]);return this},m.__private__.setDocumentProperty=function(_,V){if(Object.keys(Lt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Lt[_]=V};var Gt,dt,Wr,Qt,Qn,sr={},Fr={},Gi=[],Zt={},hs={},Dr={},Rn={},Ri=null,vr=0,kt=[],ir=new _4(m),Ki=t.hotfixes||[],on={},Un={},Fi=[],xt=function _(V,le,de,Ee,Oe,Xe){if(!(this instanceof _))return new _(V,le,de,Ee,Oe,Xe);isNaN(V)&&(V=1),isNaN(le)&&(le=0),isNaN(de)&&(de=0),isNaN(Ee)&&(Ee=1),isNaN(Oe)&&(Oe=0),isNaN(Xe)&&(Xe=0),this._matrix=[V,le,de,Ee,Oe,Xe]};Object.defineProperty(xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(_)},xt.prototype.multiply=function(_){var V=_.sx*this.sx+_.shy*this.shx,le=_.sx*this.shy+_.shy*this.sy,de=_.shx*this.sx+_.sy*this.shx,Ee=_.shx*this.shy+_.sy*this.sy,Oe=_.tx*this.sx+_.ty*this.shx+this.tx,Xe=_.tx*this.shy+_.ty*this.sy+this.ty;return new xt(V,le,de,Ee,Oe,Xe)},xt.prototype.decompose=function(){var _=this.sx,V=this.shy,le=this.shx,de=this.sy,Ee=this.tx,Oe=this.ty,Xe=Math.sqrt(_*_+V*V),ht=(_/=Xe)*le+(V/=Xe)*de;le-=_*ht,de-=V*ht;var d=Math.sqrt(le*le+de*de);return ht/=d,_*(de/=d)<V*(le/=d)&&(_=-_,V=-V,ht=-ht,Xe=-Xe),{scale:new xt(Xe,0,0,d,0,0),translate:new xt(1,0,0,1,Ee,Oe),rotate:new xt(_,V,-V,_,0,0),skew:new xt(1,0,ht,1,0,0)}},xt.prototype.toString=function(_){return this.join(" ")},xt.prototype.inversed=function(){var _=this.sx,V=this.shy,le=this.shx,de=this.sy,Ee=this.tx,Oe=this.ty,Xe=1/(_*de-V*le),ht=de*Xe,d=-V*Xe,b=-le*Xe,D=_*Xe;return new xt(ht,d,b,D,-ht*Ee-b*Oe,-d*Ee-D*Oe)},xt.prototype.applyToPoint=function(_){var V=_.x*this.sx+_.y*this.shx+this.tx,le=_.x*this.shy+_.y*this.sy+this.ty;return new ao(V,le)},xt.prototype.applyToRectangle=function(_){var V=this.applyToPoint(_),le=this.applyToPoint(new ao(_.x+_.w,_.y+_.h));return new rl(V.x,V.y,le.x-V.x,le.y-V.y)},xt.prototype.clone=function(){var _=this.sx,V=this.shy,le=this.shx,de=this.sy,Ee=this.tx,Oe=this.ty;return new xt(_,V,le,de,Ee,Oe)},m.Matrix=xt;var gi=m.matrixMult=function(_,V){return V.multiply(_)},Sn=new xt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Sn;var ln=function(_,V){if(!hs[_]){var le=(V instanceof Ru?"Sh":"P")+(Object.keys(Zt).length+1).toString(10);V.id=le,hs[_]=le,Zt[le]=V,ir.publish("addPattern",V)}};m.ShadingPattern=Ru,m.TilingPattern=uf,m.addShadingPattern=function(_,V){return C("addShadingPattern()"),ln(_,V),this},m.beginTilingPattern=function(_){C("beginTilingPattern()"),nl(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},m.endTilingPattern=function(_,V){C("endTilingPattern()"),V.stream=Me[M].join(`
`),ln(_,V),ir.publish("endTilingPattern",V),Fi.pop().restore()};var tn=m.__private__.newObject=function(){var _=Zr();return q(_,!0),_},Zr=m.__private__.newObjectDeferred=function(){return ee++,fe[ee]=function(){return pe},ee},q=function(_,V){return V=typeof V=="boolean"&&V,fe[_]=pe,V&&ue(_+" 0 obj"),_},ae=m.__private__.newAdditionalObject=function(){var _={objId:Zr(),content:""};return Ne.push(_),_},Q=Zr(),Z=Zr(),se=m.__private__.decodeColorString=function(_){var V=_.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var le=parseFloat(V[0]);V=[le,le,le,"r"]}for(var de="#",Ee=0;Ee<3;Ee++)de+=("0"+Math.floor(255*parseFloat(V[Ee])).toString(16)).slice(-2);return de},oe=m.__private__.encodeColorString=function(_){var V;typeof _=="string"&&(_={ch1:_});var le=_.ch1,de=_.ch2,Ee=_.ch3,Oe=_.ch4,Xe=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var ht=new m6(le);if(ht.ok)le=ht.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var d=parseInt(le.substr(1),16);le=d>>16&255,de=d>>8&255,Ee=255&d}if(de===void 0||Oe===void 0&&le===de&&de===Ee)if(typeof le=="string")V=le+" "+Xe[0];else switch(_.precision){case 2:V=O(le/255)+" "+Xe[0];break;case 3:default:V=k(le/255)+" "+Xe[0]}else if(Oe===void 0||kr(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return V=["1.","1.","1.",Xe[1]].join(" ");if(typeof le=="string")V=[le,de,Ee,Xe[1]].join(" ");else switch(_.precision){case 2:V=[O(le/255),O(de/255),O(Ee/255),Xe[1]].join(" ");break;default:case 3:V=[k(le/255),k(de/255),k(Ee/255),Xe[1]].join(" ")}}else if(typeof le=="string")V=[le,de,Ee,Oe,Xe[2]].join(" ");else switch(_.precision){case 2:V=[O(le),O(de),O(Ee),O(Oe),Xe[2]].join(" ");break;case 3:default:V=[k(le),k(de),k(Ee),k(Oe),Xe[2]].join(" ")}return V},Ae=m.__private__.getFilters=function(){return a},Re=m.__private__.putStream=function(_){var V=(_=_||{}).data||"",le=_.filters||Ae(),de=_.alreadyAppliedFilters||[],Ee=_.addLength1||!1,Oe=V.length,Xe=_.objectId,ht=function(Vt){return Vt};if(c!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(ht=Gr.encryptor(Xe,0));var d={};le===!0&&(le=["FlateEncode"]);var b=_.additionalKeyValues||[],D=(d=Ot.API.processDataByFilters!==void 0?Ot.API.processDataByFilters(V,le):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(d.data.length!==0&&(b.push({key:"Length",value:d.data.length}),Ee===!0&&b.push({key:"Length1",value:Oe})),D.length!=0)if(D.split("/").length-1==1)b.push({key:"Filter",value:D});else{b.push({key:"Filter",value:"["+D+"]"});for(var G=0;G<b.length;G+=1)if(b[G].key==="DecodeParms"){for(var we=[],Pe=0;Pe<d.reverseChain.split("/").length-1;Pe+=1)we.push("null");we.push(b[G].value),b[G].value="["+we.join(" ")+"]"}}ue("<<");for(var Qe=0;Qe<b.length;Qe++)ue("/"+b[Qe].key+" "+b[Qe].value);ue(">>"),d.data.length!==0&&(ue("stream"),ue(ht(d.data)),ue("endstream"))},Te=m.__private__.putPage=function(_){var V=_.number,le=_.data,de=_.objId,Ee=_.contentsObjId;q(de,!0),ue("<</Type /Page"),ue("/Parent "+_.rootDictionaryObjId+" 0 R"),ue("/Resources "+_.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(P(_.mediaBox.bottomLeftX))+" "+parseFloat(P(_.mediaBox.bottomLeftY))+" "+P(_.mediaBox.topRightX)+" "+P(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&ue("/CropBox ["+P(_.cropBox.bottomLeftX)+" "+P(_.cropBox.bottomLeftY)+" "+P(_.cropBox.topRightX)+" "+P(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&ue("/BleedBox ["+P(_.bleedBox.bottomLeftX)+" "+P(_.bleedBox.bottomLeftY)+" "+P(_.bleedBox.topRightX)+" "+P(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&ue("/TrimBox ["+P(_.trimBox.bottomLeftX)+" "+P(_.trimBox.bottomLeftY)+" "+P(_.trimBox.topRightX)+" "+P(_.trimBox.topRightY)+"]"),_.artBox!==null&&ue("/ArtBox ["+P(_.artBox.bottomLeftX)+" "+P(_.artBox.bottomLeftY)+" "+P(_.artBox.topRightX)+" "+P(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&ue("/UserUnit "+_.userUnit),ir.publish("putPage",{objId:de,pageContext:kt[V],pageNumber:V,page:le}),ue("/Contents "+Ee+" 0 R"),ue(">>"),ue("endobj");var Oe=le.join(`
`);return T===E.ADVANCED&&(Oe+=`
Q`),q(Ee,!0),Re({data:Oe,filters:Ae(),objectId:Ee}),ue("endobj"),de},Ce=m.__private__.putPages=function(){var _,V,le=[];for(_=1;_<=vr;_++)kt[_].objId=Zr(),kt[_].contentsObjId=Zr();for(_=1;_<=vr;_++)le.push(Te({number:_,data:Me[_],objId:kt[_].objId,contentsObjId:kt[_].contentsObjId,mediaBox:kt[_].mediaBox,cropBox:kt[_].cropBox,bleedBox:kt[_].bleedBox,trimBox:kt[_].trimBox,artBox:kt[_].artBox,userUnit:kt[_].userUnit,rootDictionaryObjId:Q,resourceDictionaryObjId:Z}));q(Q,!0),ue("<</Type /Pages");var de="/Kids [";for(V=0;V<vr;V++)de+=le[V]+" 0 R ";ue(de+"]"),ue("/Count "+vr),ue(">>"),ue("endobj"),ir.publish("postPutPages")},Le=function(_){ir.publish("putFont",{font:_,out:ue,newObject:tn,putStream:Re}),_.isAlreadyPutted!==!0&&(_.objectNumber=tn(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Gc(_.postScriptName)),ue("/Subtype /Type1"),typeof _.encoding=="string"&&ue("/Encoding /"+_.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},Ye=function(){for(var _ in sr)sr.hasOwnProperty(_)&&(h===!1||h===!0&&p.hasOwnProperty(_))&&Le(sr[_])},nt=function(_){_.objectNumber=tn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[P(_.x),P(_.y),P(_.x+_.width),P(_.y+_.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var le=_.pages[1].join(`
`);Re({data:le,additionalKeyValues:V,objectId:_.objectNumber}),ue("endobj")},pt=function(){for(var _ in on)on.hasOwnProperty(_)&&nt(on[_])},et=function(_,V){var le,de=[],Ee=1/(V-1);for(le=0;le<1;le+=Ee)de.push(le);if(de.push(1),_[0].offset!=0){var Oe={offset:0,color:_[0].color};_.unshift(Oe)}if(_[_.length-1].offset!=1){var Xe={offset:1,color:_[_.length-1].color};_.push(Xe)}for(var ht="",d=0,b=0;b<de.length;b++){for(le=de[b];le>_[d+1].offset;)d++;var D=_[d].offset,G=(le-D)/(_[d+1].offset-D),we=_[d].color,Pe=_[d+1].color;ht+=z(Math.round((1-G)*we[0]+G*Pe[0]).toString(16))+z(Math.round((1-G)*we[1]+G*Pe[1]).toString(16))+z(Math.round((1-G)*we[2]+G*Pe[2]).toString(16))}return ht.trim()},ct=function(_,V){V||(V=21);var le=tn(),de=et(_.colors,V),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+V+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re({data:de,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),ue("endobj"),_.objectNumber=tn(),ue("<< /ShadingType "+_.type),ue("/ColorSpace /DeviceRGB");var Oe="/Coords ["+P(parseFloat(_.coords[0]))+" "+P(parseFloat(_.coords[1]))+" ";_.type===2?Oe+=P(parseFloat(_.coords[2]))+" "+P(parseFloat(_.coords[3])):Oe+=P(parseFloat(_.coords[2]))+" "+P(parseFloat(_.coords[3]))+" "+P(parseFloat(_.coords[4]))+" "+P(parseFloat(_.coords[5])),ue(Oe+="]"),_.matrix&&ue("/Matrix ["+_.matrix.toString()+"]"),ue("/Function "+le+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Ft=function(_,V){var le=Zr(),de=tn();V.push({resourcesOid:le,objectOid:de}),_.objectNumber=de;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+_.boundingBox.map(P).join(" ")+"]"}),Ee.push({key:"XStep",value:P(_.xStep)}),Ee.push({key:"YStep",value:P(_.yStep)}),Ee.push({key:"Resources",value:le+" 0 R"}),_.matrix&&Ee.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Re({data:_.stream,additionalKeyValues:Ee,objectId:_.objectNumber}),ue("endobj")},ar=function(_){var V;for(V in Zt)Zt.hasOwnProperty(V)&&(Zt[V]instanceof Ru?ct(Zt[V]):Zt[V]instanceof uf&&Ft(Zt[V],_))},or=function(_){for(var V in _.objectNumber=tn(),ue("<<"),_)switch(V){case"opacity":ue("/ca "+O(_[V]));break;case"stroke-opacity":ue("/CA "+O(_[V]))}ue(">>"),ue("endobj")},Or=function(){var _;for(_ in Dr)Dr.hasOwnProperty(_)&&or(Dr[_])},Di=function(){for(var _ in ue("/XObject <<"),on)on.hasOwnProperty(_)&&on[_].objectNumber>=0&&ue("/"+_+" "+on[_].objectNumber+" 0 R");ir.publish("putXobjectDict"),ue(">>")},ta=function(){Gr.oid=tn(),ue("<<"),ue("/Filter /Standard"),ue("/V "+Gr.v),ue("/R "+Gr.r),ue("/U <"+Gr.toHexString(Gr.U)+">"),ue("/O <"+Gr.toHexString(Gr.O)+">"),ue("/P "+Gr.P),ue(">>"),ue("endobj")},ds=function(){for(var _ in ue("/Font <<"),sr)sr.hasOwnProperty(_)&&(h===!1||h===!0&&p.hasOwnProperty(_))&&ue("/"+_+" "+sr[_].objectNumber+" 0 R");ue(">>")},Yi=function(){if(Object.keys(Zt).length>0){for(var _ in ue("/Shading <<"),Zt)Zt.hasOwnProperty(_)&&Zt[_]instanceof Ru&&Zt[_].objectNumber>=0&&ue("/"+_+" "+Zt[_].objectNumber+" 0 R");ir.publish("putShadingPatternDict"),ue(">>")}},ps=function(_){if(Object.keys(Zt).length>0){for(var V in ue("/Pattern <<"),Zt)Zt.hasOwnProperty(V)&&Zt[V]instanceof m.TilingPattern&&Zt[V].objectNumber>=0&&Zt[V].objectNumber<_&&ue("/"+V+" "+Zt[V].objectNumber+" 0 R");ir.publish("putTilingPatternDict"),ue(">>")}},Jn=function(){if(Object.keys(Dr).length>0){var _;for(_ in ue("/ExtGState <<"),Dr)Dr.hasOwnProperty(_)&&Dr[_].objectNumber>=0&&ue("/"+_+" "+Dr[_].objectNumber+" 0 R");ir.publish("putGStateDict"),ue(">>")}},$r=function(_){q(_.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ds(),Yi(),ps(_.objectOid),Jn(),Di(),ue(">>"),ue("endobj")},fu=function(){var _=[];Ye(),Or(),pt(),ar(_),ir.publish("putResources"),_.forEach($r),$r({resourcesOid:Z,objectOid:Number.MAX_SAFE_INTEGER}),ir.publish("postPutResources")},hu=function(){ir.publish("putAdditionalObjects");for(var _=0;_<Ne.length;_++){var V=Ne[_];q(V.objId,!0),ue(V.content),ue("endobj")}ir.publish("postPutAdditionalObjects")},gc=function(_){Fr[_.fontName]=Fr[_.fontName]||{},Fr[_.fontName][_.fontStyle]=_.id},du=function(_,V,le,de,Ee){var Oe={id:"F"+(Object.keys(sr).length+1).toString(10),postScriptName:_,fontName:V,fontStyle:le,encoding:de,isStandardFont:Ee||!1,metadata:{}};return ir.publish("addFont",{font:Oe,instance:this}),sr[Oe.id]=Oe,gc(Oe),Oe.id},vc=function(_){for(var V=0,le=Ge.length;V<le;V++){var de=du.call(this,_[V][0],_[V][1],_[V][2],Ge[V][3],!0);h===!1&&(p[de]=!0);var Ee=_[V][0].split("-");gc({id:de,fontName:Ee[0],fontStyle:Ee[1]||""})}ir.publish("addFonts",{fonts:sr,dictionary:Fr})},Xi=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(de){var V=de.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var le="Error in function "+V.split(`
`)[0].split("<")[0]+": "+de.message;if(!jt.console)throw new Error(le);jt.console.error(le,de),jt.alert&&alert(le)}},_.foo.bar=_,_.foo},Ho=function(_,V){var le,de,Ee,Oe,Xe,ht,d,b,D;if(Ee=(V=V||{}).sourceEncoding||"Unicode",Xe=V.outputEncoding,(V.autoencode||Xe)&&sr[Gt].metadata&&sr[Gt].metadata[Ee]&&sr[Gt].metadata[Ee].encoding&&(Oe=sr[Gt].metadata[Ee].encoding,!Xe&&sr[Gt].encoding&&(Xe=sr[Gt].encoding),!Xe&&Oe.codePages&&(Xe=Oe.codePages[0]),typeof Xe=="string"&&(Xe=Oe[Xe]),Xe)){for(d=!1,ht=[],le=0,de=_.length;le<de;le++)(b=Xe[_.charCodeAt(le)])?ht.push(String.fromCharCode(b)):ht.push(_[le]),ht[le].charCodeAt(0)>>8&&(d=!0);_=ht.join("")}for(le=_.length;d===void 0&&le!==0;)_.charCodeAt(le-1)>>8&&(d=!0),le--;if(!d)return _;for(ht=V.noBOM?[]:[254,255],le=0,de=_.length;le<de;le++){if((D=(b=_.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ht.push(D),ht.push(b-(D<<8))}return String.fromCharCode.apply(void 0,ht)},un=m.__private__.pdfEscape=m.pdfEscape=function(_,V){return Ho(_,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oi=m.__private__.beginPage=function(_){Me[++vr]=[],kt[vr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},pu(vr),Fe(Me[M])},to=function(_,V){var le,de,Ee;switch(r=V||r,typeof _=="string"&&(le=w(_.toLowerCase()),Array.isArray(le)&&(de=le[0],Ee=le[1])),Array.isArray(_)&&(de=_[0]*dt,Ee=_[1]*dt),isNaN(de)&&(de=i[0],Ee=i[1]),(de>14400||Ee>14400)&&(Ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),Ee=Math.min(14400,Ee)),i=[de,Ee],r.substr(0,1)){case"l":Ee>de&&(i=[Ee,de]);break;case"p":de>Ee&&(i=[Ee,de])}Oi(i),xu(yu),ue(Zn),Eu!==0&&ue(Eu+" J"),tl!==0&&ue(tl+" j"),ir.publish("addPage",{pageNumber:vr})},Wo=function(_){_>0&&_<=vr&&(Me.splice(_,1),kt.splice(_,1),vr--,M>vr&&(M=vr),this.setPage(M))},pu=function(_){_>0&&_<=vr&&(M=_)},Ar=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Me.length-1},ro=function(_,V,le){var de,Ee=void 0;return le=le||{},_=_!==void 0?_:sr[Gt].fontName,V=V!==void 0?V:sr[Gt].fontStyle,de=_.toLowerCase(),Fr[de]!==void 0&&Fr[de][V]!==void 0?Ee=Fr[de][V]:Fr[_]!==void 0&&Fr[_][V]!==void 0?Ee=Fr[_][V]:le.disableWarning===!1&&Ur.warn("Unable to look up font label for font '"+_+"', '"+V+"'. Refer to getFontList() for available fonts."),Ee||le.noFallback||(Ee=Fr.times[V])==null&&(Ee=Fr.times.normal),Ee},no=m.__private__.putInfo=function(){var _=tn(),V=function(de){return de};for(var le in c!==null&&(V=Gr.encryptor(_,0)),ue("<<"),ue("/Producer ("+un(V("jsPDF "+Ot.version))+")"),Lt)Lt.hasOwnProperty(le)&&Lt[le]&&ue("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+un(V(Lt[le]))+")");ue("/CreationDate ("+un(V(re))+")"),ue(">>"),ue("endobj")},ra=m.__private__.putCatalog=function(_){var V=(_=_||{}).rootDictionaryObjId||Q;switch(tn(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+V+" 0 R"),lt||(lt="fullwidth"),lt){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+lt;le.substr(le.length-1)==="%"&&(lt=parseInt(lt)/100),typeof lt=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+O(lt)+"]")}switch(Ct||(Ct="continuous"),Ct){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}bt&&ue("/PageMode /"+bt),ir.publish("putCatalog"),ue(">>"),ue("endobj")},dh=m.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(ee+1)),ue("/Root "+ee+" 0 R"),ue("/Info "+(ee-1)+" 0 R"),c!==null&&ue("/Encrypt "+Gr.oid+" 0 R"),ue("/ID [ <"+he+"> <"+he+"> ]"),ue(">>")},yc=m.__private__.putHeader=function(){ue("%PDF-"+x),ue("%")},ph=m.__private__.putXRef=function(){var _="0000000000";ue("xref"),ue("0 "+(ee+1)),ue("0000000000 65535 f ");for(var V=1;V<=ee;V++)typeof fe[V]=="function"?ue((_+fe[V]()).slice(-10)+" 00000 n "):fe[V]!==void 0?ue((_+fe[V]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},na=m.__private__.buildDocument=function(){at(),Fe(ve),ir.publish("buildDocument"),yc(),Ce(),hu(),fu(),c!==null&&ta(),no(),ra();var _=pe;return ph(),dh(),ue("startxref"),ue(""+_),ue("%%EOF"),Fe(Me[M]),ve.join(`
`)},$o=m.__private__.getBlob=function(_){return new Blob([gt(_)],{type:"application/pdf"})},Go=m.output=m.__private__.output=Xi(function(_,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",_){case void 0:return na();case"save":m.save(V.filename);break;case"arraybuffer":return gt(na());case"blob":return $o(na());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL($o(na()))||void 0;Ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",de=na();try{le=Xv(de)}catch{le=Xv(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+V.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Ee=V.pdfObjectUrl,Oe="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",ht=jt.open();return ht!==null&&ht.document.write(Xe),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',b=jt.open();if(b!==null){b.document.write(d);var D=this;b.document.documentElement.querySelector("#pdfViewer").onload=function(){b.document.title=V.filename,b.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(D.output("bloburl"))}}return b}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var G='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',we=jt.open();if(we!==null&&(we.document.write(G),we.document.title=V.filename),we||typeof safari>"u")return we;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",V);default:return null}}),ka=function(_){return Array.isArray(Ki)===!0&&Ki.indexOf(_)>-1};switch(n){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=ka("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);dt=n}var Gr=null;Be(),te();var xc=function(_){return c!==null?Gr.encryptor(_,0):function(V){return V}},mu=m.__private__.getPageInfo=m.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:kt[_].objId,pageNumber:_,pageContext:kt[_]}},Mt=m.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in kt)if(kt[V].objId===_)break;return mu(V)},Ia=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:kt[M].objId,pageNumber:M,pageContext:kt[M]}};m.addPage=function(){return to.apply(this,arguments),this},m.setPage=function(){return pu.apply(this,arguments),Fe.call(this,Me[M]),this},m.insertPage=function(_){return this.addPage(),this.movePage(M,_),this},m.movePage=function(_,V){var le,de;if(_>V){le=Me[_],de=kt[_];for(var Ee=_;Ee>V;Ee--)Me[Ee]=Me[Ee-1],kt[Ee]=kt[Ee-1];Me[V]=le,kt[V]=de,this.setPage(V)}else if(_<V){le=Me[_],de=kt[_];for(var Oe=_;Oe<V;Oe++)Me[Oe]=Me[Oe+1],kt[Oe]=kt[Oe+1];Me[V]=le,kt[V]=de,this.setPage(V)}return this},m.deletePage=function(){return Wo.apply(this,arguments),this},m.__private__.text=m.text=function(_,V,le,de,Ee){var Oe,Xe,ht,d,b,D,G,we,Pe,Qe=(de=de||{}).scope||this;if(typeof _=="number"&&typeof V=="number"&&(typeof le=="string"||Array.isArray(le))){var Vt=le;le=V,V=_,_=Vt}if(arguments[3]instanceof xt?(C("The transform parameter of text() with a Matrix value"),Pe=Ee):(ht=arguments[4],d=arguments[5],kr(G=arguments[3])==="object"&&G!==null||(typeof ht=="string"&&(d=ht,ht=null),typeof G=="string"&&(d=G,G=null),typeof G=="number"&&(ht=G,G=null),de={flags:G,angle:ht,align:d})),isNaN(V)||isNaN(le)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Qe;var tr="",Ut=!1,Sr=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:Er,Br=Qe.internal.scaleFactor;function la(zr){return zr=zr.split("	").join(Array(de.TabLen||9).join(" ")),un(zr,G)}function ei(zr){for(var qr,gn=zr.concat(),Dn=[],fo=gn.length;fo--;)typeof(qr=gn.shift())=="string"?Dn.push(qr):Array.isArray(zr)&&(qr.length===1||qr[1]===void 0&&qr[2]===void 0)?Dn.push(qr[0]):Dn.push([qr[0],qr[1],qr[2]]);return Dn}function Fa(zr,qr){var gn;if(typeof zr=="string")gn=qr(zr)[0];else if(Array.isArray(zr)){for(var Dn,fo,Sh=zr.concat(),Lc=[],I0=Sh.length;I0--;)typeof(Dn=Sh.shift())=="string"?Lc.push(qr(Dn)[0]):Array.isArray(Dn)&&typeof Dn[0]=="string"&&(fo=qr(Dn[0],Dn[1],Dn[2]),Lc.push([fo[0],fo[1],fo[2]]));gn=Lc}return gn}var Da=!1,gh=!0;if(typeof _=="string")Da=!0;else if(Array.isArray(_)){var vh=_.concat();Xe=[];for(var Ac,ti=vh.length;ti--;)(typeof(Ac=vh.shift())!="string"||Array.isArray(Ac)&&typeof Ac[0]!="string")&&(gh=!1);Da=gh}if(Da===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Tc=rt/Qe.internal.scaleFactor,Nc=Tc*(Sr-1);switch(de.baseline){case"bottom":le-=Nc;break;case"top":le+=Tc-Nc;break;case"hanging":le+=Tc-2*Nc;break;case"middle":le+=Tc/2-Nc}if((D=de.maxWidth||0)>0&&(typeof _=="string"?_=Qe.splitTextToSize(_,D):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(zr,qr){return zr.concat(Qe.splitTextToSize(qr,D))},[]))),Oe={text:_,x:V,y:le,options:de,mutex:{pdfEscape:un,activeFontKey:Gt,fonts:sr,activeFontSize:rt}},ir.publish("preProcessText",Oe),_=Oe.text,ht=(de=Oe.options).angle,!(Pe instanceof xt)&&ht&&typeof ht=="number"){ht*=Math.PI/180,de.rotationDirection===0&&(ht=-ht),T===E.ADVANCED&&(ht=-ht);var bc=Math.cos(ht),yh=Math.sin(ht);Pe=new xt(bc,yh,-yh,bc,0,0)}else ht&&ht instanceof xt&&(Pe=ht);T!==E.ADVANCED||Pe||(Pe=Sn),(b=de.charSpace||so)!==void 0&&(tr+=P(N(b))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(we=de.horizontalScale)!==void 0&&(tr+=P(100*we)+` Tz
`),de.lang;var Qi=-1,rg=de.renderingMode!==void 0?de.renderingMode:de.stroke,xh=Qe.internal.getCurrentPageInfo().pageContext;switch(rg){case 0:case!1:case"fill":Qi=0;break;case 1:case!0:case"stroke":Qi=1;break;case 2:case"fillThenStroke":Qi=2;break;case 3:case"invisible":Qi=3;break;case 4:case"fillAndAddForClipping":Qi=4;break;case 5:case"strokeAndAddPathForClipping":Qi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qi=6;break;case 7:case"addToPathForClipping":Qi=7}var N0=xh.usedRenderingMode!==void 0?xh.usedRenderingMode:-1;Qi!==-1?tr+=Qi+` Tr
`:N0!==-1&&(tr+=`0 Tr
`),Qi!==-1&&(xh.usedRenderingMode=Qi),d=de.align||"left";var Os,Cc=rt*Sr,b0=Qe.internal.pageSize.getWidth(),C0=sr[Gt];b=de.charSpace||so,D=de.maxWidth||0,G=Object.assign({autoencode:!0,noBOM:!0},de.flags);var al=[],Su=function(zr){return Qe.getStringUnitWidth(zr,{font:C0,charSpace:b,fontSize:rt,doKerning:!1})*rt/Br};if(Object.prototype.toString.call(_)==="[object Array]"){var Ji;Xe=ei(_),d!=="left"&&(Os=Xe.map(Su));var ji,ol=0;if(d==="right"){V-=Os[0],_=[],ti=Xe.length;for(var lo=0;lo<ti;lo++)lo===0?(ji=vs(V),Ji=Fn(le)):(ji=N(ol-Os[lo]),Ji=-Cc),_.push([Xe[lo],ji,Ji]),ol=Os[lo]}else if(d==="center"){V-=Os[0]/2,_=[],ti=Xe.length;for(var uo=0;uo<ti;uo++)uo===0?(ji=vs(V),Ji=Fn(le)):(ji=N((ol-Os[uo])/2),Ji=-Cc),_.push([Xe[uo],ji,Ji]),ol=Os[uo]}else if(d==="left"){_=[],ti=Xe.length;for(var kc=0;kc<ti;kc++)_.push(Xe[kc])}else if(d==="justify"&&C0.encoding==="Identity-H"){_=[],ti=Xe.length,D=D!==0?D:b0;for(var co=0,mn=0;mn<ti;mn++)if(Ji=mn===0?Fn(le):-Cc,ji=mn===0?vs(V):co,mn<ti-1){var _h=N((D-Os[mn])/(Xe[mn].split(" ").length-1)),Mi=Xe[mn].split(" ");_.push([Mi[0]+" ",ji,Ji]),co=0;for(var js=1;js<Mi.length;js++){var Ic=(Su(Mi[js-1]+" "+Mi[js])-Su(Mi[js]))*Br+_h;js==Mi.length-1?_.push([Mi[js],Ic,0]):_.push([Mi[js]+" ",Ic,0]),co-=Ic}}else _.push([Xe[mn],ji,Ji]);_.push(["",co,0])}else{if(d!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],ti=Xe.length,D=D!==0?D:b0,mn=0;mn<ti;mn++)Ji=mn===0?Fn(le):-Cc,ji=mn===0?vs(V):0,mn<ti-1?al.push(P(N((D-Os[mn])/(Xe[mn].split(" ").length-1)))):al.push(0),_.push([Xe[mn],ji,Ji])}}var k0=typeof de.R2L=="boolean"?de.R2L:St;k0===!0&&(_=Fa(_,function(zr,qr,gn){return[zr.split("").reverse().join(""),qr,gn]})),Oe={text:_,x:V,y:le,options:de,mutex:{pdfEscape:un,activeFontKey:Gt,fonts:sr,activeFontSize:rt}},ir.publish("postProcessText",Oe),_=Oe.text,Ut=Oe.mutex.isHex||!1;var wh=sr[Gt].encoding;wh!=="WinAnsiEncoding"&&wh!=="StandardEncoding"||(_=Fa(_,function(zr,qr,gn){return[la(zr),qr,gn]})),Xe=ei(_),_=[];for(var Au,Tu,ll,Nu=0,Pc=1,bu=Array.isArray(Xe[0])?Pc:Nu,ul="",Eh=function(zr,qr,gn){var Dn="";return gn instanceof xt?(gn=typeof de.angle=="number"?gi(gn,new xt(1,0,0,1,zr,qr)):gi(new xt(1,0,0,1,zr,qr),gn),T===E.ADVANCED&&(gn=gi(new xt(1,0,0,-1,0,0),gn)),Dn=gn.join(" ")+` Tm
`):Dn=P(zr)+" "+P(qr)+` Td
`,Dn},Ms=0;Ms<Xe.length;Ms++){switch(ul="",bu){case Pc:ll=(Ut?"<":"(")+Xe[Ms][0]+(Ut?">":")"),Au=parseFloat(Xe[Ms][1]),Tu=parseFloat(Xe[Ms][2]);break;case Nu:ll=(Ut?"<":"(")+Xe[Ms]+(Ut?">":")"),Au=vs(V),Tu=Fn(le)}al!==void 0&&al[Ms]!==void 0&&(ul=al[Ms]+` Tw
`),Ms===0?_.push(ul+Eh(Au,Tu,Pe)+ll):bu===Nu?_.push(ul+ll):bu===Pc&&_.push(ul+Eh(Au,Tu,Pe)+ll)}_=bu===Nu?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Bs=`BT
/`;return Bs+=Gt+" "+rt+` Tf
`,Bs+=P(rt*Sr)+` TL
`,Bs+=aa+`
`,Bs+=tr,Bs+=_,ue(Bs+="ET"),p[Gt]=!0,Qe};var mh=m.__private__.clip=m.clip=function(_){return ue(_==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return mh("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ue("n"),this};var Ds=m.__private__.isValidStyle=function(_){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(V=!0),V};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(_){return Ds(_)&&(u=_),this};var _c=m.__private__.getStyle=m.getStyle=function(_){var V=u;switch(_){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=_}return V},ms=m.close=function(){return ue("h"),this};m.stroke=function(){return ue("S"),this},m.fill=function(_){return Ko("f",_),this},m.fillEvenOdd=function(_){return Ko("f*",_),this},m.fillStroke=function(_){return Ko("B",_),this},m.fillStrokeEvenOdd=function(_){return Ko("B*",_),this};var Ko=function(_,V){kr(V)==="object"?Xo(V,_):ue(_)},gu=function(_){_===null||T===E.ADVANCED&&_===void 0||(_=_c(_),ue(_))};function Yo(_,V,le,de,Ee){var Oe=new uf(V||this.boundingBox,le||this.xStep,de||this.yStep,this.gState,Ee||this.matrix);Oe.stream=this.stream;var Xe=_+"$$"+this.cloneIndex+++"$$";return ln(Xe,Oe),Oe}var Xo=function(_,V){var le=hs[_.key],de=Zt[le];if(de instanceof Ru)ue("q"),ue(wc(V)),de.gState&&m.setGState(de.gState),ue(_.matrix.toString()+" cm"),ue("/"+le+" sh"),ue("Q");else if(de instanceof uf){var Ee=new xt(1,0,0,-1,0,vi());_.matrix&&(Ee=Ee.multiply(_.matrix||Sn),le=Yo.call(de,_.key,_.boundingBox,_.xStep,_.yStep,Ee).id),ue("q"),ue("/Pattern cs"),ue("/"+le+" scn"),de.gState&&m.setGState(de.gState),ue(V),ue("Q")}},wc=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ia=m.moveTo=function(_,V){return ue(P(N(_))+" "+P(ne(V))+" m"),this},gs=m.lineTo=function(_,V){return ue(P(N(_))+" "+P(ne(V))+" l"),this},sa=m.curveTo=function(_,V,le,de,Ee,Oe){return ue([P(N(_)),P(ne(V)),P(N(le)),P(ne(de)),P(N(Ee)),P(ne(Oe)),"c"].join(" ")),this};m.__private__.line=m.line=function(_,V,le,de,Ee){if(isNaN(_)||isNaN(V)||isNaN(le)||isNaN(de)||!Ds(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return T===E.COMPAT?this.lines([[le-_,de-V]],_,V,[1,1],Ee||"S"):this.lines([[le-_,de-V]],_,V,[1,1]).stroke()},m.__private__.lines=m.lines=function(_,V,le,de,Ee,Oe){var Xe,ht,d,b,D,G,we,Pe,Qe,Vt,tr,Ut;if(typeof _=="number"&&(Ut=le,le=V,V=_,_=Ut),de=de||[1,1],Oe=Oe||!1,isNaN(V)||isNaN(le)||!Array.isArray(_)||!Array.isArray(de)||!Ds(Ee)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ia(V,le),Xe=de[0],ht=de[1],b=_.length,Vt=V,tr=le,d=0;d<b;d++)(D=_[d]).length===2?(Vt=D[0]*Xe+Vt,tr=D[1]*ht+tr,gs(Vt,tr)):(G=D[0]*Xe+Vt,we=D[1]*ht+tr,Pe=D[2]*Xe+Vt,Qe=D[3]*ht+tr,Vt=D[4]*Xe+Vt,tr=D[5]*ht+tr,sa(G,we,Pe,Qe,Vt,tr));return Oe&&ms(),gu(Ee),this},m.path=function(_){for(var V=0;V<_.length;V++){var le=_[V],de=le.c;switch(le.op){case"m":ia(de[0],de[1]);break;case"l":gs(de[0],de[1]);break;case"c":sa.apply(this,de);break;case"h":ms()}}return this},m.__private__.rect=m.rect=function(_,V,le,de,Ee){if(isNaN(_)||isNaN(V)||isNaN(le)||isNaN(de)||!Ds(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return T===E.COMPAT&&(de=-de),ue([P(N(_)),P(ne(V)),P(N(le)),P(N(de)),"re"].join(" ")),gu(Ee),this},m.__private__.triangle=m.triangle=function(_,V,le,de,Ee,Oe,Xe){if(isNaN(_)||isNaN(V)||isNaN(le)||isNaN(de)||isNaN(Ee)||isNaN(Oe)||!Ds(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-_,de-V],[Ee-le,Oe-de],[_-Ee,V-Oe]],_,V,[1,1],Xe,!0),this},m.__private__.roundedRect=m.roundedRect=function(_,V,le,de,Ee,Oe,Xe){if(isNaN(_)||isNaN(V)||isNaN(le)||isNaN(de)||isNaN(Ee)||isNaN(Oe)||!Ds(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*le),Oe=Math.min(Oe,.5*de),this.lines([[le-2*Ee,0],[Ee*ht,0,Ee,Oe-Oe*ht,Ee,Oe],[0,de-2*Oe],[0,Oe*ht,-Ee*ht,Oe,-Ee,Oe],[2*Ee-le,0],[-Ee*ht,0,-Ee,-Oe*ht,-Ee,-Oe],[0,2*Oe-de],[0,-Oe*ht,Ee*ht,-Oe,Ee,-Oe]],_+Ee,V,[1,1],Xe,!0),this},m.__private__.ellipse=m.ellipse=function(_,V,le,de,Ee){if(isNaN(_)||isNaN(V)||isNaN(le)||isNaN(de)||!Ds(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*le,Xe=4/3*(Math.SQRT2-1)*de;return ia(_+le,V),sa(_+le,V-Xe,_+Oe,V-de,_,V-de),sa(_-Oe,V-de,_-le,V-Xe,_-le,V),sa(_-le,V+Xe,_-Oe,V+de,_,V+de),sa(_+Oe,V+de,_+le,V+Xe,_+le,V),gu(Ee),this},m.__private__.circle=m.circle=function(_,V,le,de){if(isNaN(_)||isNaN(V)||isNaN(le)||!Ds(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,V,le,le,de)},m.setFont=function(_,V,le){return le&&(V=J(V,le)),Gt=ro(_,V,{disableWarning:!1}),this};var vu=m.__private__.getFont=m.getFont=function(){return sr[ro.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var _,V,le={};for(_ in Fr)if(Fr.hasOwnProperty(_))for(V in le[_]=[],Fr[_])Fr[_].hasOwnProperty(V)&&le[_].push(V);return le},m.addFont=function(_,V,le,de,Ee){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(le=J(le,de)),Ee=Ee||"Identity-H",du.call(this,_,V,le,Ee)};var Er,yu=t.lineWidth||.200025,Qo=m.__private__.getLineWidth=m.getLineWidth=function(){return yu},xu=m.__private__.setLineWidth=m.setLineWidth=function(_){return yu=_,ue(P(N(_))+" w"),this};m.__private__.setLineDash=Ot.API.setLineDash=Ot.API.setLineDashPattern=function(_,V){if(_=_||[],V=V||0,isNaN(V)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(le){return P(N(le))}).join(" "),V=P(N(V)),ue("["+_+"] "+V+" d"),this};var _u=m.__private__.getLineHeight=m.getLineHeight=function(){return rt*Er};m.__private__.getLineHeight=m.getLineHeight=function(){return rt*Er};var wu=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(Er=_),this},io=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Er};wu(t.lineHeight);var vs=m.__private__.getHorizontalCoordinate=function(_){return N(_)},Fn=m.__private__.getVerticalCoordinate=function(_){return T===E.ADVANCED?_:kt[M].mediaBox.topRightY-kt[M].mediaBox.bottomLeftY-N(_)},Ec=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(_){return P(vs(_))},Pa=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(_){return P(Fn(_))},Zn=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return se(Zn)},m.__private__.setStrokeColor=m.setDrawColor=function(_,V,le,de){return Zn=oe({ch1:_,ch2:V,ch3:le,ch4:de,pdfColorType:"draw",precision:2}),ue(Zn),this};var Jo=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return se(Jo)},m.__private__.setFillColor=m.setFillColor=function(_,V,le,de){return Jo=oe({ch1:_,ch2:V,ch3:le,ch4:de,pdfColorType:"fill",precision:2}),ue(Jo),this};var aa=t.textColor||"0 g",Zo=m.__private__.getTextColor=m.getTextColor=function(){return se(aa)};m.__private__.setTextColor=m.setTextColor=function(_,V,le,de){return aa=oe({ch1:_,ch2:V,ch3:le,ch4:de,pdfColorType:"text",precision:3}),this};var so=t.charSpace,el=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(so||0)};m.__private__.setCharSpace=m.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return so=_,this};var Eu=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(_){var V=m.CapJoinStyles[_];if(V===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Eu=V,ue(V+" J"),this};var tl=0;m.__private__.setLineJoin=m.setLineJoin=function(_){var V=m.CapJoinStyles[_];if(V===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tl=V,ue(V+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(P(N(_))+" M"),this},m.GState=F1,m.setGState=function(_){(_=typeof _=="string"?Dr[Rn[_]]:La(null,_)).equals(Ri)||(ue("/"+_.id+" gs"),Ri=_)};var La=function(_,V){if(!_||!Rn[_]){var le=!1;for(var de in Dr)if(Dr.hasOwnProperty(de)&&Dr[de].equals(V)){le=!0;break}if(le)V=Dr[de];else{var Ee="GS"+(Object.keys(Dr).length+1).toString(10);Dr[Ee]=V,V.id=Ee}return _&&(Rn[_]=V.id),ir.publish("addGState",V),V}};m.addGState=function(_,V){return La(_,V),this},m.saveGraphicsState=function(){return ue("q"),Gi.push({key:Gt,size:rt,color:aa}),this},m.restoreGraphicsState=function(){ue("Q");var _=Gi.pop();return Gt=_.key,rt=_.size,aa=_.color,Ri=null,this},m.setCurrentTransformationMatrix=function(_){return ue(_.toString()+" cm"),this},m.comment=function(_){return ue("#"+_),this};var ao=function(_,V){var le=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Oe){isNaN(Oe)||(le=parseFloat(Oe))}});var de=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Oe){isNaN(Oe)||(de=parseFloat(Oe))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Oe){Ee=Oe.toString()}}),this},rl=function(_,V,le,de){ao.call(this,_,V),this.type="rect";var Ee=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(Xe){isNaN(Xe)||(Ee=parseFloat(Xe))}});var Oe=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(Xe){isNaN(Xe)||(Oe=parseFloat(Xe))}}),this},oo=function(){this.page=vr,this.currentPage=M,this.pages=Me.slice(0),this.pagesContext=kt.slice(0),this.x=Wr,this.y=Qt,this.matrix=Qn,this.width=Ra(M),this.height=vi(M),this.outputDestination=Ze,this.id="",this.objectNumber=-1};oo.prototype.restore=function(){vr=this.page,M=this.currentPage,kt=this.pagesContext,Me=this.pages,Wr=this.x,Qt=this.y,Qn=this.matrix,il(M,this.width),sl(M,this.height),Ze=this.outputDestination};var nl=function(_,V,le,de,Ee){Fi.push(new oo),vr=M=0,Me=[],Wr=_,Qt=V,Qn=Ee,Oi([le,de])},Sc=function(_){if(Un[_])Fi.pop().restore();else{var V=new oo,le="Xo"+(Object.keys(on).length+1).toString(10);V.id=le,Un[_]=le,on[le]=V,ir.publish("addFormObject",V),Fi.pop().restore()}};for(var oa in m.beginFormObject=function(_,V,le,de,Ee){return nl(_,V,le,de,Ee),this},m.endFormObject=function(_){return Sc(_),this},m.doFormObject=function(_,V){var le=on[Un[_]];return ue("q"),ue(V.toString()+" cm"),ue("/"+le.id+" Do"),ue("Q"),this},m.getFormObject=function(_){var V=on[Un[_]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},m.save=function(_,V){return _=_||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Lu($o(na()),_),typeof Lu.unload=="function"&&jt.setTimeout&&setTimeout(Lu.unload,911),this):new Promise(function(le,de){try{var Ee=Lu($o(na()),_);typeof Lu.unload=="function"&&jt.setTimeout&&setTimeout(Lu.unload,911),le(Ee)}catch(Oe){de(Oe.message)}})},Ot.API)Ot.API.hasOwnProperty(oa)&&(oa==="events"&&Ot.API.events.length?function(_,V){var le,de,Ee;for(Ee=V.length-1;Ee!==-1;Ee--)le=V[Ee][0],de=V[Ee][1],_.subscribe.apply(_,[le].concat(typeof de=="function"?[de]:de))}(ir,Ot.API.events):m[oa]=Ot.API[oa]);var Ra=m.getPageWidth=function(_){return(kt[_=_||M].mediaBox.topRightX-kt[_].mediaBox.bottomLeftX)/dt},il=m.setPageWidth=function(_,V){kt[_].mediaBox.topRightX=V*dt+kt[_].mediaBox.bottomLeftX},vi=m.getPageHeight=function(_){return(kt[_=_||M].mediaBox.topRightY-kt[_].mediaBox.bottomLeftY)/dt},sl=m.setPageHeight=function(_,V){kt[_].mediaBox.topRightY=V*dt+kt[_].mediaBox.bottomLeftY};return m.internal={pdfEscape:un,getStyle:_c,getFont:vu,getFontSize:ut,getCharSpace:el,getTextColor:Zo,getLineHeight:_u,getLineHeightFactor:io,getLineWidth:Qo,write:We,getHorizontalCoordinate:vs,getVerticalCoordinate:Fn,getCoordinateString:Ec,getVerticalCoordinateString:Pa,collections:{},newObject:tn,newAdditionalObject:ae,newObjectDeferred:Zr,newObjectDeferredBegin:q,getFilters:Ae,putStream:Re,events:ir,scaleFactor:dt,pageSize:{getWidth:function(){return Ra(M)},setWidth:function(_){il(M,_)},getHeight:function(){return vi(M)},setHeight:function(_){sl(M,_)}},encryptionOptions:c,encryption:Gr,getEncryptor:xc,output:Go,getNumberOfPages:Ar,pages:Me,out:ue,f2:O,f3:k,getPageInfo:mu,getPageInfoByObjId:Mt,getCurrentPageInfo:Ia,getPDFVersion:g,Point:ao,Rectangle:rl,Matrix:xt,hasHotfix:ka},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ra(M)},set:function(_){il(M,_)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return vi(M)},set:function(_){sl(M,_)},enumerable:!0,configurable:!0}),vc.call(m,Ge),Gt="F1",to(i,r),ir.publish("initialized"),m}$c.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},$c.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},$c.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},$c.prototype.processOwnerPassword=function(t,e){return Jv(Qv(e).substr(0,5),t)},$c.prototype.encryptor=function(t,e){var r=Qv(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Jv(r,n)}},F1.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||kr(t)!==kr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ot.API={events:[]},Ot.version="3.0.1";var fn=Ot.API,e5=1,cc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},zt=function(t){return t.toFixed(2)},xl=function(t){return t.toFixed(5)};fn.__acroform__={};var fs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},w4=function(t){return t*e5},Ma=function(t){var e=new x6,r=Et.internal.getHeight(t)||0,n=Et.internal.getWidth(t)||0;return e.BBox=[0,0,Number(zt(n)),Number(zt(r))],e},iD=fn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},sD=fn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},aD=fn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},_n=fn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return aD(t,e-1)},wn=fn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return iD(t,e-1)},En=fn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sD(t,e-1)},oD=fn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(zt(l.lowerLeft_X)),Number(zt(l.lowerLeft_Y)),Number(zt(l.upperRight_X)),Number(zt(l.upperRight_Y))]},lD=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Zv(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+zt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ma(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Zv=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var s=r,a=Et.internal.getHeight(t)||0;a=a<0?-a:a;var o=Et.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(k,N,F){if(k+1<i.length){var ne=N+" "+i[k+1][0];return yp(ne,t,F).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,h=yp("3",t,s).height,p=t.multiline?a-s:(a-h)/2,m=p+=2,x=0,g=0,S=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+yp(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",E=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var j=!1;if(i[T].length!==1&&S!==i[T].length-1){if((h+2)*(E+2)+2>a)continue e;w+=i[T][S],j=!0,g=T,T--}else{w=(w+=i[T][S]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var X=parseInt(T),J=l(X,w,s),P=T>=i.length-1;if(J&&!P){w+=" ",S=0;continue}if(J||P){if(P)g=X;else if(t.multiline&&(h+2)*(E+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(E+2)+2>a)continue e;g=X}}for(var C="",R=x;R<=g;R++){var O=i[R];if(t.multiline){if(R===g){C+=O[S]+" ",S=(S+1)%O.length;continue}if(R===x){C+=O[O.length-1]+" ";continue}}C+=O[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,c=yp(C,t,s).width,t.textAlign){case"right":u=o-c-2;break;case"center":u=(o-c)/2;break;case"left":default:u=2}e+=zt(u)+" "+zt(m)+` Td
`,e+="("+cc(C)+`) Tj
`,e+=-zt(u)+` 0 Td
`,m=-(s+2),c=0,x=j?g:g+1,E++,w=""}break}return n.text=e,n.fontSize=s,n},yp=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},uD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},cD=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},fD=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),kr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},hD=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ba.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(uD)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");e5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new _6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&cD(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=oD(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Et.createDefaultAppearanceStream(o),kr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=lD(o);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var h="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var m=o.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var x=m[a];typeof x=="function"&&(x=x.call(i,o)),h+="/"+a+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,o)),h+="/"+a+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&fD(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},y6=fn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),kr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+cc(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},o2=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+cc(n(t))+")"},qa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qa.prototype.toString=function(){return this.objId+" 0 R"},qa.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},qa.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:y6(i,this.objId,this.scope)}):i instanceof qa?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var x6=function(){qa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};fs(x6,qa);var _6=function(){qa.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+cc(r(t))+")"}},set:function(r){t=r}})};fs(_6,qa);var ba=function t(){qa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_n(e,3)},set:function(w){w?this.F=wn(e,3):this.F=En(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof D1)return;s="FieldObject"+t.FieldNum++}var w=function(E){return E};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+cc(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/e5:u},set:function(w){u=w}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof D1||this instanceof Hu))return o2(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof $n?p:o2(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof $n?w:w.substr(0,1)==="("?Mc(w.substr(1,w.length-2)):Mc(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $n?Mc(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof $n?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof $n?m:o2(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof $n?w:w.substr(0,1)==="("?Mc(w.substr(1,w.length-2)):Mc(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $n?Mc(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof $n?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(w){w=!!w,g=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(w){x=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,1)},set:function(w){w?this.Ff=wn(this.Ff,1):this.Ff=En(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,2)},set:function(w){w?this.Ff=wn(this.Ff,2):this.Ff=En(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,3)},set:function(w){w?this.Ff=wn(this.Ff,3):this.Ff=En(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');S=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(S){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};fs(ba,qa);var wf=function(){ba.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return y6(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,18)},set:function(r){r?this.Ff=wn(this.Ff,18):this.Ff=En(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=wn(this.Ff,19):this.Ff=En(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,20)},set:function(r){r?(this.Ff=wn(this.Ff,20),e.sort()):this.Ff=En(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,22)},set:function(r){r?this.Ff=wn(this.Ff,22):this.Ff=En(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,23)},set:function(r){r?this.Ff=wn(this.Ff,23):this.Ff=En(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,27)},set:function(r){r?this.Ff=wn(this.Ff,27):this.Ff=En(this.Ff,27)}}),this.hasAppearanceStream=!1};fs(wf,ba);var Ef=function(){wf.call(this),this.fontName="helvetica",this.combo=!1};fs(Ef,wf);var Sf=function(){Ef.call(this),this.combo=!0};fs(Sf,Ef);var Gp=function(){Sf.call(this),this.edit=!0};fs(Gp,Sf);var $n=function(){ba.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,15)},set:function(r){r?this.Ff=wn(this.Ff,15):this.Ff=En(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,16)},set:function(r){r?this.Ff=wn(this.Ff,16):this.Ff=En(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,17)},set:function(r){r?this.Ff=wn(this.Ff,17):this.Ff=En(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,26)},set:function(r){r?this.Ff=wn(this.Ff,26):this.Ff=En(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+cc(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){kr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};fs($n,ba);var Kp=function(){$n.call(this),this.pushButton=!0};fs(Kp,$n);var Af=function(){$n.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};fs(Af,$n);var D1=function(){var t,e;ba.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+cc(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){kr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fs(D1,ba),Af.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Af.prototype.createOption=function(t){var e=new D1;return e.Parent=this,e.optionName=t,this.Kids.push(e),dD.call(this.scope,e),e};var Yp=function(){$n.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Et.CheckBox.createAppearanceStream()};fs(Yp,$n);var Hu=function(){ba.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,13)},set:function(e){e?this.Ff=wn(this.Ff,13):this.Ff=En(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,21)},set:function(e){e?this.Ff=wn(this.Ff,21):this.Ff=En(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,23)},set:function(e){e?this.Ff=wn(this.Ff,23):this.Ff=En(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,24)},set:function(e){e?this.Ff=wn(this.Ff,24):this.Ff=En(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,25)},set:function(e){e?this.Ff=wn(this.Ff,25):this.Ff=En(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,26)},set:function(e){e?this.Ff=wn(this.Ff,26):this.Ff=En(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fs(Hu,ba);var Xp=function(){Hu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,14)},set:function(t){t?this.Ff=wn(this.Ff,14):this.Ff=En(this.Ff,14)}}),this.password=!0};fs(Xp,Hu);var Et={CheckBox:{createAppearanceStream:function(){return{N:{On:Et.CheckBox.YesNormal},D:{On:Et.CheckBox.YesPushDown,Off:Et.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ma(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Zv(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+zt(Et.internal.getWidth(t))+" "+zt(Et.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+zt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ma(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Et.internal.getHeight(t),a=Et.internal.getWidth(t),o=Zv(t,t.caption);return i.push("1 g"),i.push("0 0 "+zt(a)+" "+zt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+zt(a-1)+" "+zt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+zt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ma(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+zt(Et.internal.getWidth(t))+" "+zt(Et.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Et.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Et.RadioButton.Circle.YesNormal,e.D[t]=Et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ma(t);e.scope=t.scope;var r=[],n=Et.internal.getWidth(t)<=Et.internal.getHeight(t)?Et.internal.getWidth(t)/4:Et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Et.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+xl(Et.internal.getWidth(t)/2)+" "+xl(Et.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ma(t);e.scope=t.scope;var r=[],n=Et.internal.getWidth(t)<=Et.internal.getHeight(t)?Et.internal.getWidth(t)/4:Et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Et.internal.Bezier_C).toFixed(5)),a=Number((n*Et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xl(Et.internal.getWidth(t)/2)+" "+xl(Et.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+xl(Et.internal.getWidth(t)/2)+" "+xl(Et.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ma(t);e.scope=t.scope;var r=[],n=Et.internal.getWidth(t)<=Et.internal.getHeight(t)?Et.internal.getWidth(t)/4:Et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xl(Et.internal.getWidth(t)/2)+" "+xl(Et.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Et.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Et.RadioButton.Cross.YesNormal,e.D[t]=Et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ma(t);e.scope=t.scope;var r=[],n=Et.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+zt(Et.internal.getWidth(t)-2)+" "+zt(Et.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(zt(n.x1.x)+" "+zt(n.x1.y)+" m"),r.push(zt(n.x2.x)+" "+zt(n.x2.y)+" l"),r.push(zt(n.x4.x)+" "+zt(n.x4.y)+" m"),r.push(zt(n.x3.x)+" "+zt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ma(t);e.scope=t.scope;var r=Et.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+zt(Et.internal.getWidth(t))+" "+zt(Et.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+zt(Et.internal.getWidth(t)-2)+" "+zt(Et.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(zt(r.x1.x)+" "+zt(r.x1.y)+" m"),n.push(zt(r.x2.x)+" "+zt(r.x2.y)+" l"),n.push(zt(r.x4.x)+" "+zt(r.x4.y)+" m"),n.push(zt(r.x3.x)+" "+zt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ma(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+zt(Et.internal.getWidth(t))+" "+zt(Et.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Et.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Et.internal.getWidth(t),r=Et.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Et.internal.getWidth=function(t){var e=0;return kr(t)==="object"&&(e=w4(t.Rect[2])),e},Et.internal.getHeight=function(t){var e=0;return kr(t)==="object"&&(e=w4(t.Rect[3])),e};var dD=fn.addField=function(t){if(hD(this,t),!(t instanceof ba))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};fn.AcroFormChoiceField=wf,fn.AcroFormListBox=Ef,fn.AcroFormComboBox=Sf,fn.AcroFormEditBox=Gp,fn.AcroFormButton=$n,fn.AcroFormPushButton=Kp,fn.AcroFormRadioButton=Af,fn.AcroFormCheckBox=Yp,fn.AcroFormTextField=Hu,fn.AcroFormPasswordField=Xp,fn.AcroFormAppearance=Et,fn.AcroForm={ChoiceField:wf,ListBox:Ef,ComboBox:Sf,EditBox:Gp,Button:$n,PushButton:Kp,RadioButton:Af,CheckBox:Yp,TextField:Hu,PasswordField:Xp,Appearance:Et},Ot.AcroForm={ChoiceField:wf,ListBox:Ef,ComboBox:Sf,EditBox:Gp,Button:$n,PushButton:Kp,RadioButton:Af,CheckBox:Yp,TextField:Hu,PasswordField:Xp,Appearance:Et};Ot.AcroForm;function w6(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(k,N){var F,ne,re,he,ge,te=e;if((N=N||e)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(J(k))for(ge in r)for(re=r[ge],F=0;F<re.length;F+=1){for(he=!0,ne=0;ne<re[F].length;ne+=1)if(re[F][ne]!==void 0&&re[F][ne]!==k[ne]){he=!1;break}if(he===!0){te=ge;break}}else for(ge in r)for(re=r[ge],F=0;F<re.length;F+=1){for(he=!0,ne=0;ne<re[F].length;ne+=1)if(re[F][ne]!==void 0&&re[F][ne]!==k.charCodeAt(ne)){he=!1;break}if(he===!0){te=ge;break}}return te===e&&N!==e&&(te=N),te},i=function k(N){for(var F=this.internal.write,ne=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var he=[];if(he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Image"}),he.push({key:"Width",value:N.width}),he.push({key:"Height",value:N.height}),N.colorSpace===S.INDEXED?he.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(he.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===S.DEVICE_CMYK&&he.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),he.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&he.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var ge="",te=0,ce=N.transparency.length;te<ce;te++)ge+=N.transparency[te]+" "+N.transparency[te]+" ";he.push({key:"Mask",value:"["+ge+"]"})}N.sMask!==void 0&&he.push({key:"SMask",value:N.objectId+1+" 0 R"});var me=N.filter!==void 0?["/"+N.filter]:void 0;if(ne({data:N.data,additionalKeyValues:he,alreadyAppliedFilters:me,objectId:N.objectId}),F("endobj"),"sMask"in N&&N.sMask!==void 0){var Be="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,I={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:Be,data:N.sMask};"filter"in N&&(I.filter=N.filter),k.call(this,I)}if(N.colorSpace===S.INDEXED){var M=this.internal.newObject();ne({data:C(new Uint8Array(N.palette)),objectId:M}),F("endobj")}},s=function(){var k=this.internal.collections.addImage_images;for(var N in k)i.call(this,k[N])},a=function(){var k,N=this.internal.collections.addImage_images,F=this.internal.write;for(var ne in N)F("/I"+(k=N[ne]).index,k.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var k=this.internal.collections.addImage_images;return o.call(this),k},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(k){return typeof t["process"+k.toUpperCase()]=="function"},h=function(k){return kr(k)==="object"&&k.nodeType===1},p=function(k,N){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var F=""+k.getAttribute("src");if(F.indexOf("data:image/")===0)return hd(unescape(F).split("base64,").pop());var ne=t.loadFile(F,!0);if(ne!==void 0)return ne}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var re;switch(N){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;case"JPEG":case"JPG":default:re="image/jpeg"}return hd(k.toDataURL(re,1).split("base64,").pop())}},m=function(k){var N=this.internal.collections.addImage_images;if(N){for(var F in N)if(k===N[F].alias)return N[F]}},x=function(k,N,F){return k||N||(k=-96,N=-96),k<0&&(k=-1*F.width*72/k/this.internal.scaleFactor),N<0&&(N=-1*F.height*72/N/this.internal.scaleFactor),k===0&&(k=N*F.width/F.height),N===0&&(N=k*F.height/F.width),[k,N]},g=function(k,N,F,ne,re,he){var ge=x.call(this,F,ne,re),te=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,me=l.call(this);if(F=ge[0],ne=ge[1],me[re.index]=re,he){he*=Math.PI/180;var Be=Math.cos(he),I=Math.sin(he),M=function(z){return z.toFixed(4)},B=[M(Be),M(I),M(-1*I),M(Be),0,0,"cm"]}this.internal.write("q"),he?(this.internal.write([1,"0","0",1,te(k),ce(N+ne),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([te(F),"0","0",te(ne),"0","0","cm"].join(" "))):this.internal.write([te(F),"0","0",te(ne),te(k),ce(N+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(k){var N,F,ne=0;if(typeof k=="string")for(F=k.length,N=0;N<F;N++)ne=(ne<<5)-ne+k.charCodeAt(N),ne|=0;else if(J(k))for(F=k.byteLength/2,N=0;N<F;N++)ne=(ne<<5)-ne+k[N],ne|=0;return ne},T=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var N=!0;return k.length===0&&(N=!1),k.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(N=!1),N},j=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var N=k.indexOf(",");return N<0?null:k.substring(0,N).trim().endsWith("base64")?k.substring(N+1):null},X=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(k){return X()&&k instanceof ArrayBuffer};var J=t.__addimage__.isArrayBufferView=function(k){return X()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},P=t.__addimage__.binaryStringToUint8Array=function(k){for(var N=k.length,F=new Uint8Array(N),ne=0;ne<N;ne++)F[ne]=k.charCodeAt(ne);return F},C=t.__addimage__.arrayBufferToBinaryString=function(k){for(var N="",F=J(k)?k:new Uint8Array(k),ne=0;ne<F.length;ne+=8192)N+=String.fromCharCode.apply(null,F.subarray(ne,ne+8192));return N};t.addImage=function(){var k,N,F,ne,re,he,ge,te,ce;if(typeof arguments[1]=="number"?(N=e,F=arguments[1],ne=arguments[2],re=arguments[3],he=arguments[4],ge=arguments[5],te=arguments[6],ce=arguments[7]):(N=arguments[1],F=arguments[2],ne=arguments[3],re=arguments[4],he=arguments[5],ge=arguments[6],te=arguments[7],ce=arguments[8]),kr(k=arguments[0])==="object"&&!h(k)&&"imageData"in k){var me=k;k=me.imageData,N=me.format||N||e,F=me.x||F||0,ne=me.y||ne||0,re=me.w||me.width||re,he=me.h||me.height||he,ge=me.alias||ge,te=me.compression||te,ce=me.rotation||me.angle||ce}var Be=this.internal.getFilters();if(te===void 0&&Be.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(F)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var I=R.call(this,k,N,ge,te);return g.call(this,F,ne,re,he,I,ce),this};var R=function(k,N,F,ne){var re,he,ge;if(typeof k=="string"&&n(k)===e){k=unescape(k);var te=O(k,!1);(te!==""||(te=t.loadFile(k,!0))!==void 0)&&(k=te)}if(h(k)&&(k=p(k,N)),N=n(k,N),!c(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((ge=F)==null||ge.length===0)&&(F=function(ce){return typeof ce=="string"||J(ce)?E(ce):J(ce.data)?E(ce.data):null}(k)),(re=m.call(this,F))||(X()&&(k instanceof Uint8Array||N==="RGBA"||(he=k,k=P(k))),re=this["process"+N.toUpperCase()](k,u.call(this),F,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in t.image_compression?ce:w.NONE}(ne),he)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},O=t.__addimage__.convertBase64ToBinaryString=function(k,N){N=typeof N!="boolean"||N;var F,ne="";if(typeof k=="string"){var re;F=(re=j(k))!==null&&re!==void 0?re:k;try{ne=hd(F)}catch(he){if(N)throw T(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+he.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};t.getImageProperties=function(k){var N,F,ne="";if(h(k)&&(k=p(k)),typeof k=="string"&&n(k)===e&&((ne=O(k,!1))===""&&(ne=t.loadFile(k)||""),k=ne),F=n(k),!c(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!X()||k instanceof Uint8Array||(k=P(k)),!(N=this["process"+F.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=F,N}})(Ot.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ot.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,c=!1,h=0;h<u.length&&!c;h++)switch((n=u[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(g.objId),E=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+m(w(n.contents))+")",s+=" /Popup "+S.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(w(E))+") >>",g.content=s;var T=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(s+=" /Open true"),s+=" >>",S.content=s,this.internal.write(g.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var X=this.annotations._nameMap[n.options.name];n.options.pageNumber=X.page,n.options.top=X.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var J=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+J+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var c=this.splitTextToSize(r,o).length;a=Math.ceil(u*c)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ot.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=t.__arabicParser__.isArabicEndLetter=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(g){return a(g)&&i.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(g){var S=0,w=r,E="",T=0;for(S=0;S<g.length;S+=1)w[g.charCodeAt(S)]!==void 0?(T++,typeof(w=w[g.charCodeAt(S)])=="number"&&(E+=String.fromCharCode(w),w=r,T=0),S===g.length-1&&(w=r,E+=g.charAt(S-(T-1)),S-=T-1,T=0)):(w=r,E+=g.charAt(S-T),S-=T,T=0);return E};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(g,S,w){return a(g)?s(g)===!1?-1:!u(g)||!a(S)&&!a(w)||!a(w)&&o(S)||o(g)&&!a(S)||o(g)&&l(S)||o(g)&&o(S)?0:c(g)&&a(S)&&!o(S)&&a(w)&&u(w)?3:o(g)||!a(w)?1:2:-1},m=function(g){var S=0,w=0,E=0,T="",j="",X="",J=(g=g||"").split("\\s+"),P=[];for(S=0;S<J.length;S+=1){for(P.push(""),w=0;w<J[S].length;w+=1)T=J[S][w],j=J[S][w-1],X=J[S][w+1],a(T)?(E=p(T,j,X),P[S]+=E!==-1?String.fromCharCode(e[T.charCodeAt(0)][E]):T):P[S]+=T;P[S]=h(P[S])}return P.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var g,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(S)){var E=0;for(w=[],E=0;E<S.length;E+=1)Array.isArray(S[E])?w.push([m(S[E][0]),S[E][1],S[E][2]]):w.push([m(S[E])]);g=w}else g=m(S);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",x])}(Ot.API),Ot.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ot.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(g){x=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,m=0,x=0,g=0,S=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(T,j){return T.concat(S.splitTextToSize(j,w))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)m<(g=this.getStringUnitWidth(l[E],{font:h})*c)&&(m=g);return m!==0&&(x=l.length),{w:m/=p,h:Math.max((x*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,m&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,h,p){if(n.call(this),!c)throw new Error("No data for PDF table.");var m,x,g,S,w=[],E=[],T=[],j={},X={},J=[],P=[],C=(p=p||{}).autoSize||!1,R=p.printHeaders!==!1,O=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},e),N=typeof p.padding=="number"?p.padding:3,F=p.headerBackgroundColor||"#c8c8c8",ne=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=ne,this.setFontSize(O),h==null)E=w=Object.keys(c[0]),T=w.map(function(){return"left"});else if(Array.isArray(h)&&kr(h[0])==="object")for(w=h.map(function(me){return me.name}),E=h.map(function(me){return me.prompt||me.name||""}),T=h.map(function(me){return me.align||"left"}),m=0;m<h.length;m+=1)X[h[m].name]=h[m].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(E=w=h,T=w.map(function(){return"left"}));if(C||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<w.length;m+=1){for(j[S=w[m]]=c.map(function(me){return me[S]}),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(E[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=j[S],this.setFont(void 0,"normal"),g=0;g<x.length;g+=1)J.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[S]=Math.max.apply(null,J)+N+N,J=[]}if(R){var re={};for(m=0;m<w.length;m+=1)re[w[m]]={},re[w[m]].text=E[m],re[w[m]].align=T[m];var he=o.call(this,re,X);P=w.map(function(me){return new s(l,u,X[me],he,re[me].text,void 0,re[me].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var ge=h.reduce(function(me,Be){return me[Be.name]=Be.align,me},{});for(m=0;m<c.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:c[m]},this);var te=o.call(this,c[m],X);for(g=0;g<w.length;g+=1){var ce=c[m][w[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:g,data:ce},this),a.call(this,new s(l,u,X[w[g]],te,ce,m+2,ge[w[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var c=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(m){var x=l[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[m]-c-c)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/p+c+c},this).reduce(function(m,x){return Math.max(m,x)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){c=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,p.push(c)),c.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,c),this.setTextColor(x)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Ot.API);var E6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},S6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ey=w6(S6),A6=[100,200,300,400,500,600,700,800,900],pD=w6(A6);function ty(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return E6[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof ey[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function E4(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var mD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},S4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function A4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function gD(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},mD,r.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=ty(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+A4(s)+"' and default family '"+n+"'.");if(a=function(l,u){if(u[l])return u[l];var c=ey[l],h=c<=ey.normal?-1:1,p=E4(u,S6,c,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,a),a=function(l,u){if(u[l])return u[l];for(var c=E6[l],h=0;h<c.length;++h)if(u[c[h]])return u[c[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=pD[l],h=E4(u,A6,c,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+A4(s)+"'.");return a}function T4(t){return t.trimLeft()}function vD(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function yD(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var xp,N4,b4,l2=["times"];(function(t){var e,r,n,i,s,a,o,l,u,c=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var h=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=I;Object.defineProperty(this,"pdf",{get:function(){return M}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(Fe){B=!!Fe}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(Fe){z=!!Fe}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(Fe){isNaN(Fe)||(ee=Fe)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Fe){isNaN(Fe)||(fe=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Fe){var ue;typeof Fe=="number"?ue=[Fe,Fe,Fe,Fe]:((ue=new Array(4))[0]=Fe[0],ue[1]=Fe.length>=2?Fe[1]:ue[0],ue[2]=Fe.length>=3?Fe[2]:ue[0],ue[3]=Fe.length>=4?Fe[3]:ue[1]),u.margin=ue}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(Fe){ve=Fe}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Fe){pe=Fe}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(Fe){Ne=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Fe){Fe instanceof c&&(u=Fe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Fe){u.path=Fe}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(Fe){Me=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var ue;ue=p(Fe),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var ue=p(Fe);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var qe=null;function Ze(Fe,ue){if(qe===null){var We=function(gt){var Ge=[];return Object.keys(gt).forEach(function(rt){gt[rt].forEach(function(lt){var ut=null;switch(lt){case"bold":ut={family:rt,weight:"bold"};break;case"italic":ut={family:rt,style:"italic"};break;case"bolditalic":ut={family:rt,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:rt}}ut!==null&&(ut.ref={name:rt,style:lt},Ge.push(ut))})}),Ge}(Fe.getFontList());qe=function(gt){for(var Ge={},rt=0;rt<gt.length;++rt){var lt=ty(gt[rt]),ut=lt.family,St=lt.stretch,bt=lt.style,Dt=lt.weight;Ge[ut]=Ge[ut]||{},Ge[ut][St]=Ge[ut][St]||{},Ge[ut][St][bt]=Ge[ut][St][bt]||{},Ge[ut][St][bt][Dt]=lt}return Ge}(We.concat(ue))}return qe}var at=null;Object.defineProperty(this,"fontFaces",{get:function(){return at},set:function(Fe){qe=null,at=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var ue;if(this.ctx.font=Fe,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Fe))!==null){var We=ue[1];ue[2];var gt=ue[3],Ge=ue[4];ue[5];var rt=ue[6],lt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(lt==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:lt==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var ut=function(Lt){var Gt,dt,Wr=[],Qt=Lt.trim();if(Qt==="")return l2;if(Qt in S4)return[S4[Qt]];for(;Qt!=="";){switch(dt=null,Gt=(Qt=T4(Qt)).charAt(0)){case'"':case"'":dt=vD(Qt.substring(1),Gt);break;default:dt=yD(Qt)}if(dt===null||(Wr.push(dt[0]),(Qt=T4(dt[1]))!==""&&Qt.charAt(0)!==","))return l2;Qt=Qt.replace(/^,/,"")}return Wr}(rt);if(this.fontFaces){var St=gD(Ze(this.pdf,this.fontFaces),ut.map(function(Lt){return{family:Lt,stretch:"normal",weight:gt,style:We}}));this.pdf.setFont(St.ref.name,St.ref.style)}else{var bt="";(gt==="bold"||parseInt(gt,10)>=700||We==="bold")&&(bt="bold"),We==="italic"&&(bt+="italic"),bt.length===0&&(bt="normal");for(var Dt="",Ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<ut.length;Pt++){if(this.pdf.internal.getFont(ut[Pt],bt,{noFallback:!0,disableWarning:!0})!==void 0){Dt=ut[Pt];break}if(bt==="bolditalic"&&this.pdf.internal.getFont(ut[Pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Dt=ut[Pt],bt="bold";else if(this.pdf.internal.getFont(ut[Pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Dt=ut[Pt],bt="normal";break}}if(Dt===""){for(var Yt=0;Yt<ut.length;Yt++)if(Ct[ut[Yt]]){Dt=Ct[ut[Yt]];break}}Dt=Dt===""?"Times":Dt,this.pdf.setFont(Dt,bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,Be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,Be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};h.prototype.setLineDash=function(I){this.lineDash=I},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){j.call(this,"fill",!1)},h.prototype.stroke=function(){j.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(I,M){if(isNaN(I)||isNaN(M))throw Ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new a(I,M));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new a(I,M)},h.prototype.closePath=function(){var I=new a(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&kr(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){I=new a(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(I.x,I.y)},h.prototype.lineTo=function(I,M){if(isNaN(I)||isNaN(M))throw Ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new a(I,M));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new a(B.x,B.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},h.prototype.quadraticCurveTo=function(I,M,B,z){if(isNaN(B)||isNaN(z)||isNaN(I)||isNaN(M))throw Ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new a(B,z)),fe=this.ctx.transform.applyToPoint(new a(I,M));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},h.prototype.bezierCurveTo=function(I,M,B,z,ee,fe){if(isNaN(ee)||isNaN(fe)||isNaN(I)||isNaN(M)||isNaN(B)||isNaN(z))throw Ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new a(ee,fe)),pe=this.ctx.transform.applyToPoint(new a(I,M)),Ne=this.ctx.transform.applyToPoint(new a(B,z));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Ne.x,y2:Ne.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new a(ve.x,ve.y)},h.prototype.arc=function(I,M,B,z,ee,fe){if(isNaN(I)||isNaN(M)||isNaN(B)||isNaN(z)||isNaN(ee))throw Ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new a(I,M));I=ve.x,M=ve.y;var pe=this.ctx.transform.applyToPoint(new a(0,B)),Ne=this.ctx.transform.applyToPoint(new a(0,0));B=Math.sqrt(Math.pow(pe.x-Ne.x,2)+Math.pow(pe.y-Ne.y,2))}Math.abs(ee-z)>=2*Math.PI&&(z=0,ee=2*Math.PI),this.path.push({type:"arc",x:I,y:M,radius:B,startAngle:z,endAngle:ee,counterclockwise:fe})},h.prototype.arcTo=function(I,M,B,z,ee){throw new Error("arcTo not implemented.")},h.prototype.rect=function(I,M,B,z){if(isNaN(I)||isNaN(M)||isNaN(B)||isNaN(z))throw Ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,M),this.lineTo(I+B,M),this.lineTo(I+B,M+z),this.lineTo(I,M+z),this.lineTo(I,M),this.lineTo(I+B,M),this.lineTo(I,M)},h.prototype.fillRect=function(I,M,B,z){if(isNaN(I)||isNaN(M)||isNaN(B)||isNaN(z))throw Ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,M,B,z),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},h.prototype.strokeRect=function(I,M,B,z){if(isNaN(I)||isNaN(M)||isNaN(B)||isNaN(z))throw Ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(I,M,B,z),this.stroke())},h.prototype.clearRect=function(I,M,B,z){if(isNaN(I)||isNaN(M)||isNaN(B)||isNaN(z))throw Ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,M,B,z))},h.prototype.save=function(I){I=typeof I!="boolean"||I;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},h.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(M),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(I){var M,B,z,ee;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))M=0,B=0,z=0,ee=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(fe!==null)M=parseInt(fe[1]),B=parseInt(fe[2]),z=parseInt(fe[3]),ee=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)M=parseInt(fe[1]),B=parseInt(fe[2]),z=parseInt(fe[3]),ee=parseFloat(fe[4]);else{if(ee=1,typeof I=="string"&&I.charAt(0)!=="#"){var ve=new m6(I);I=ve.ok?ve.toHex():"#000000"}I.length===4?(M=I.substring(1,2),M+=M,B=I.substring(2,3),B+=B,z=I.substring(3,4),z+=z):(M=I.substring(1,3),B=I.substring(3,5),z=I.substring(5,7)),M=parseInt(M,16),B=parseInt(B,16),z=parseInt(z,16)}}return{r:M,g:B,b:z,a:ee,style:I}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(I,M,B,z){if(isNaN(M)||isNaN(B)||typeof I!="string")throw Ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!m.call(this)){var ee=te(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;N.call(this,{text:I,x:M,y:B,scale:fe,angle:ee,align:this.textAlign,maxWidth:z})}},h.prototype.strokeText=function(I,M,B,z){if(isNaN(M)||isNaN(B)||typeof I!="string")throw Ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){z=isNaN(z)?void 0:z;var ee=te(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;N.call(this,{text:I,x:M,y:B,scale:fe,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:z})}},h.prototype.measureText=function(I){if(typeof I!="string")throw Ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,B=this.pdf.internal.scaleFactor,z=M.internal.getFontSize(),ee=M.getStringUnitWidth(I)*z/M.internal.scaleFactor,fe=function(ve){var pe=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new fe({width:ee*=Math.round(96*B/72*1e4)/1e4})},h.prototype.scale=function(I,M){if(isNaN(I)||isNaN(M))throw Ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new l(I,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},h.prototype.rotate=function(I){if(isNaN(I))throw Ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},h.prototype.translate=function(I,M){if(isNaN(I)||isNaN(M))throw Ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new l(1,0,0,1,I,M);this.ctx.transform=this.ctx.transform.multiply(B)},h.prototype.transform=function(I,M,B,z,ee,fe){if(isNaN(I)||isNaN(M)||isNaN(B)||isNaN(z)||isNaN(ee)||isNaN(fe))throw Ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(I,M,B,z,ee,fe);this.ctx.transform=this.ctx.transform.multiply(ve)},h.prototype.setTransform=function(I,M,B,z,ee,fe){I=isNaN(I)?1:I,M=isNaN(M)?0:M,B=isNaN(B)?0:B,z=isNaN(z)?1:z,ee=isNaN(ee)?0:ee,fe=isNaN(fe)?0:fe,this.ctx.transform=new l(I,M,B,z,ee,fe)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(I,M,B,z,ee,fe,ve,pe,Ne){var Me=this.pdf.getImageProperties(I),qe=1,Ze=1,at=1,Fe=1;z!==void 0&&pe!==void 0&&(at=pe/z,Fe=Ne/ee,qe=Me.width/z*pe/z,Ze=Me.height/ee*Ne/ee),fe===void 0&&(fe=M,ve=B,M=0,B=0),z!==void 0&&pe===void 0&&(pe=z,Ne=ee),z===void 0&&pe===void 0&&(pe=Me.width,Ne=Me.height);for(var ue,We=this.ctx.transform.decompose(),gt=te(We.rotate.shx),Ge=new l,rt=(Ge=(Ge=(Ge=Ge.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new o(fe-M*at,ve-B*Fe,z*qe,ee*Ze)),lt=S.call(this,rt),ut=[],St=0;St<lt.length;St+=1)ut.indexOf(lt[St])===-1&&ut.push(lt[St]);if(T(ut),this.autoPaging)for(var bt=ut[0],Dt=ut[ut.length-1],Ct=bt;Ct<Dt+1;Ct++){this.pdf.setPage(Ct);var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Yt=Ct===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Ct===1?0:Lt+(Ct-2)*Gt;if(this.ctx.clip_path.length!==0){var Wr=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ue,this.posX+this.margin[3],-dt+Yt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=Wr}var Qt=JSON.parse(JSON.stringify(rt));Qt=E([Qt],this.posX+this.margin[3],-dt+Yt+this.ctx.prevPageLastElemOffset)[0];var Qn=(Ct>bt||Ct<Dt)&&g.call(this);Qn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,Gt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,gt),Qn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,gt)};var S=function(I,M,B){var z=[];M=M||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":z.push(Math.floor((I.y+ee)/B)+1);break;case"arc":z.push(Math.floor((I.y+ee-I.radius)/B)+1),z.push(Math.floor((I.y+ee+I.radius)/B)+1);break;case"qct":var fe=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);z.push(Math.floor((fe.y+ee)/B)+1),z.push(Math.floor((fe.y+fe.h+ee)/B)+1);break;case"bct":var ve=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);z.push(Math.floor((ve.y+ee)/B)+1),z.push(Math.floor((ve.y+ve.h+ee)/B)+1);break;case"rect":z.push(Math.floor((I.y+ee)/B)+1),z.push(Math.floor((I.y+I.h+ee)/B)+1)}for(var pe=0;pe<z.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<z[pe];)w.call(this);return z},w=function(){var I=this.fillStyle,M=this.strokeStyle,B=this.font,z=this.lineCap,ee=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=M,this.font=B,this.lineCap=z,this.lineWidth=ee,this.lineJoin=fe},E=function(I,M,B){for(var z=0;z<I.length;z++)switch(I[z].type){case"bct":I[z].x2+=M,I[z].y2+=B;case"qct":I[z].x1+=M,I[z].y1+=B;case"mt":case"lt":case"arc":default:I[z].x+=M,I[z].y+=B}return I},T=function(I){return I.sort(function(M,B){return M-B})},j=function(I,M){for(var B,z,ee=this.fillStyle,fe=this.strokeStyle,ve=this.lineCap,pe=this.lineWidth,Ne=Math.abs(pe*this.ctx.transform.scaleX),Me=this.lineJoin,qe=JSON.parse(JSON.stringify(this.path)),Ze=JSON.parse(JSON.stringify(this.path)),at=[],Fe=0;Fe<Ze.length;Fe++)if(Ze[Fe].x!==void 0)for(var ue=S.call(this,Ze[Fe]),We=0;We<ue.length;We+=1)at.indexOf(ue[We])===-1&&at.push(ue[We]);for(var gt=0;gt<at.length;gt++)for(;this.pdf.internal.getNumberOfPages()<at[gt];)w.call(this);if(T(at),this.autoPaging)for(var Ge=at[0],rt=at[at.length-1],lt=Ge;lt<rt+1;lt++){this.pdf.setPage(lt),this.fillStyle=ee,this.strokeStyle=fe,this.lineCap=ve,this.lineWidth=Ne,this.lineJoin=Me;var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=lt===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=lt===1?0:bt+(lt-2)*Dt;if(this.ctx.clip_path.length!==0){var Pt=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(B,this.posX+this.margin[3],-Ct+St+this.ctx.prevPageLastElemOffset),X.call(this,I,!0),this.path=Pt}if(z=JSON.parse(JSON.stringify(qe)),this.path=E(z,this.posX+this.margin[3],-Ct+St+this.ctx.prevPageLastElemOffset),M===!1||lt===0){var Yt=(lt>Ge||lt<rt)&&g.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Dt,null).clip().discardPath()),X.call(this,I,M),Yt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Ne,X.call(this,I,M),this.lineWidth=pe;this.path=qe},X=function(I,M){if((I!=="stroke"||M||!x.call(this))&&(I==="stroke"||M||!m.call(this))){for(var B,z,ee=[],fe=this.path,ve=0;ve<fe.length;ve++){var pe=fe[ve];switch(pe.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:pe,deltas:[],abs:[]});break;case"lt":var Ne=ee.length;if(fe[ve-1]&&!isNaN(fe[ve-1].x)&&(B=[pe.x-fe[ve-1].x,pe.y-fe[ve-1].y],Ne>0)){for(;Ne>=0;Ne--)if(ee[Ne-1].close!==!0&&ee[Ne-1].begin!==!0){ee[Ne-1].deltas.push(B),ee[Ne-1].abs.push(pe);break}}break;case"bct":B=[pe.x1-fe[ve-1].x,pe.y1-fe[ve-1].y,pe.x2-fe[ve-1].x,pe.y2-fe[ve-1].y,pe.x-fe[ve-1].x,pe.y-fe[ve-1].y],ee[ee.length-1].deltas.push(B);break;case"qct":var Me=fe[ve-1].x+2/3*(pe.x1-fe[ve-1].x),qe=fe[ve-1].y+2/3*(pe.y1-fe[ve-1].y),Ze=pe.x+2/3*(pe.x1-pe.x),at=pe.y+2/3*(pe.y1-pe.y),Fe=pe.x,ue=pe.y;B=[Me-fe[ve-1].x,qe-fe[ve-1].y,Ze-fe[ve-1].x,at-fe[ve-1].y,Fe-fe[ve-1].x,ue-fe[ve-1].y],ee[ee.length-1].deltas.push(B);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(pe)}}z=M?null:I==="stroke"?"stroke":"fill";for(var We=!1,gt=0;gt<ee.length;gt++)if(ee[gt].arc)for(var Ge=ee[gt].abs,rt=0;rt<Ge.length;rt++){var lt=Ge[rt];lt.type==="arc"?C.call(this,lt.x,lt.y,lt.radius,lt.startAngle,lt.endAngle,lt.counterclockwise,void 0,M,!We):F.call(this,lt.x,lt.y),We=!0}else if(ee[gt].close===!0)this.pdf.internal.out("h"),We=!1;else if(ee[gt].begin!==!0){var ut=ee[gt].start.x,St=ee[gt].start.y;ne.call(this,ee[gt].deltas,ut,St),We=!0}z&&R.call(this,z),M&&O.call(this)}},J=function(I){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-B;case"top":return I+M-B;case"hanging":return I+M-2*B;case"middle":return I+M/2-B;case"ideographic":return I;case"alphabetic":default:return I}},P=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(M,B){this.colorStops.push([M,B])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(I,M,B,z,ee,fe,ve,pe,Ne){for(var Me=he.call(this,B,z,ee,fe),qe=0;qe<Me.length;qe++){var Ze=Me[qe];qe===0&&(Ne?k.call(this,Ze.x1+I,Ze.y1+M):F.call(this,Ze.x1+I,Ze.y1+M)),re.call(this,I,M,Ze.x2,Ze.y2,Ze.x3,Ze.y3,Ze.x4,Ze.y4)}pe?O.call(this):R.call(this,ve)},R=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(I,M){this.pdf.internal.out(r(I)+" "+n(M)+" m")},N=function(I){var M;switch(I.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var B=this.pdf.getTextDimensions(I.text),z=J.call(this,I.y),ee=P.call(this,z)-B.h,fe=this.ctx.transform.applyToPoint(new a(I.x,z)),ve=this.ctx.transform.decompose(),pe=new l;pe=(pe=(pe=pe.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var Ne,Me,qe,Ze=this.ctx.transform.applyToRectangle(new o(I.x,z,B.w,B.h)),at=pe.applyToRectangle(new o(I.x,ee,B.w,B.h)),Fe=S.call(this,at),ue=[],We=0;We<Fe.length;We+=1)ue.indexOf(Fe[We])===-1&&ue.push(Fe[We]);if(T(ue),this.autoPaging)for(var gt=ue[0],Ge=ue[ue.length-1],rt=gt;rt<Ge+1;rt++){this.pdf.setPage(rt);var lt=rt===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],bt=St-this.margin[0],Dt=this.pdf.internal.pageSize.width-this.margin[1],Ct=Dt-this.margin[3],Pt=rt===1?0:ut+(rt-2)*bt;if(this.ctx.clip_path.length!==0){var Yt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ne,this.posX+this.margin[3],-1*Pt+lt),X.call(this,"fill",!0),this.path=Yt}var Lt=E([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-Pt+lt+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*I.scale),qe=this.lineWidth,this.lineWidth=qe*I.scale);var Gt=this.autoPaging!=="text";if(Gt||Lt.y+Lt.h<=St){if(Gt||Lt.y>=lt&&Lt.x<=Dt){var dt=Gt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Dt-Lt.x)[0],Wr=E([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-Pt+lt+this.ctx.prevPageLastElemOffset)[0],Qt=Gt&&(rt>gt||rt<Ge)&&g.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,bt,null).clip().discardPath()),this.pdf.text(dt,Wr.x,Wr.y,{angle:I.angle,align:M,renderingMode:I.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else Lt.y<St&&(this.ctx.prevPageLastElemOffset+=St-Lt.y);I.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=qe)}else I.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*I.scale),qe=this.lineWidth,this.lineWidth=qe*I.scale),this.pdf.text(I.text,fe.x+this.posX,fe.y+this.posY,{angle:I.angle,align:M,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=qe)},F=function(I,M,B,z){B=B||0,z=z||0,this.pdf.internal.out(r(I+B)+" "+n(M+z)+" l")},ne=function(I,M,B){return this.pdf.lines(I,M,B,null,null)},re=function(I,M,B,z,ee,fe,ve,pe){this.pdf.internal.out([e(i(B+I)),e(s(z+M)),e(i(ee+I)),e(s(fe+M)),e(i(ve+I)),e(s(pe+M)),"c"].join(" "))},he=function(I,M,B,z){for(var ee=2*Math.PI,fe=Math.PI/2;M>B;)M-=ee;var ve=Math.abs(B-M);ve<ee&&z&&(ve=ee-ve);for(var pe=[],Ne=z?-1:1,Me=M;ve>1e-5;){var qe=Me+Ne*Math.min(ve,fe);pe.push(ge.call(this,I,Me,qe)),ve-=Math.abs(qe-Me),Me=qe}return pe},ge=function(I,M,B){var z=(B-M)/2,ee=I*Math.cos(z),fe=I*Math.sin(z),ve=ee,pe=-fe,Ne=ve*ve+pe*pe,Me=Ne+ve*ee+pe*fe,qe=4/3*(Math.sqrt(2*Ne*Me)-Me)/(ve*fe-pe*ee),Ze=ve-qe*pe,at=pe+qe*ve,Fe=Ze,ue=-at,We=z+M,gt=Math.cos(We),Ge=Math.sin(We);return{x1:I*Math.cos(M),y1:I*Math.sin(M),x2:Ze*gt-at*Ge,y2:Ze*Ge+at*gt,x3:Fe*gt-ue*Ge,y3:Fe*Ge+ue*gt,x4:I*Math.cos(B),y4:I*Math.sin(B)}},te=function(I){return 180*I/Math.PI},ce=function(I,M,B,z,ee,fe){var ve=I+.5*(B-I),pe=M+.5*(z-M),Ne=ee+.5*(B-ee),Me=fe+.5*(z-fe),qe=Math.min(I,ee,ve,Ne),Ze=Math.max(I,ee,ve,Ne),at=Math.min(M,fe,pe,Me),Fe=Math.max(M,fe,pe,Me);return new o(qe,at,Ze-qe,Fe-at)},me=function(I,M,B,z,ee,fe,ve,pe){var Ne,Me,qe,Ze,at,Fe,ue,We,gt,Ge,rt,lt,ut,St,bt=B-I,Dt=z-M,Ct=ee-B,Pt=fe-z,Yt=ve-ee,Lt=pe-fe;for(Me=0;Me<41;Me++)gt=(ue=(qe=I+(Ne=Me/40)*bt)+Ne*((at=B+Ne*Ct)-qe))+Ne*(at+Ne*(ee+Ne*Yt-at)-ue),Ge=(We=(Ze=M+Ne*Dt)+Ne*((Fe=z+Ne*Pt)-Ze))+Ne*(Fe+Ne*(fe+Ne*Lt-Fe)-We),Me==0?(rt=gt,lt=Ge,ut=gt,St=Ge):(rt=Math.min(rt,gt),lt=Math.min(lt,Ge),ut=Math.max(ut,gt),St=Math.max(St,Ge));return new o(Math.round(rt),Math.round(lt),Math.round(ut-rt),Math.round(St-lt))},Be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,M,B=(I=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:M}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(Ot.API),function(t){var e=function(s){var a,o,l,u,c,h,p,m,x,g;for(o=[],l=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(c=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(c=((c=((c=((c=(c-(g=c%85))/85)-(x=c%85))/85)-(m=c%85))/85)-(p=c%85))/85)%85,o.push(h+33,p+33,m+33,x+33,g+33)):o.push(122);return function(S,w){for(var E=w;E>0;E--)S.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var a,o,l,u,c,h=String,p="length",m=255,x="charCodeAt",g="slice",S="replace";for(s[g](-2),s=s[g](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),l=[],u=0,c=(s+=a="uuuuu"[g](s[p]%5||5))[p];c>u;u+=5)o=52200625*(s[x](u)-33)+614125*(s[x](u+1)-33)+7225*(s[x](u+2)-33)+85*(s[x](u+3)-33)+(s[x](u+4)-33),l.push(m&o>>24,m&o>>16,m&o>>8,m&o);return function(w,E){for(var T=E;T>0;T--)w.pop()}(l,a[p]),h.fromCharCode.apply(h,l)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=Yv(a)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(Ot.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,c){var h=new XMLHttpRequest,p=0,m=function(x){var g=x.length,S=[],w=String.fromCharCode;for(p=0;p<g;p+=1)S.push(w(255&x.charCodeAt(p)));return S.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?c(m(this.responseText)):c(void 0)}),h.send(null),u&&h.status===200)return m(h.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(Ot.API),function(t){function e(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):Hv(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):Hv(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=kr(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,c){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)c!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(l(p,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var m=u[p],x=m.src.find(function(g){return g.format==="truetype"});x&&l.addFont(x.url,m.ref.name,m.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(a=a||Ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,u){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,u),h}).then(u,c).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),c=l.call(u,a,o);return s.convert(c,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ot.getPageSize=function(a,o,l){if(kr(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var c,h=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+o}var m,x=0,g=0;if(p.hasOwnProperty(h))x=p[h][1]/c,g=p[h][0]/c;else try{x=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",g>x&&(m=g,g=x,x=m);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>g&&(m=g,g=x,x=m)}return{width:g,height:x,unit:o,k:c,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(ty):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(Ot.API),Ot.API.addJS=function(t){return b4=t,this.internal.events.subscribe("postPutResources",function(){xp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),N4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+b4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xp!==void 0&&N4!==void 0&&this.internal.out("/Names <</JavaScript "+xp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var h=r.internal.newObject();c.push(h);var p=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<c.length;s++)r.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Ot.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(h){for(var p,m=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,g={width:0,height:0,numcomponents:1},S=4;S<x;S+=2){if(S+=m,e.indexOf(h.charCodeAt(S+1))!==-1){p=256*h.charCodeAt(S+5)+h.charCodeAt(S+6),g={width:256*h.charCodeAt(S+7)+h.charCodeAt(S+8),height:p,numcomponents:h.charCodeAt(S+9)};break}m=256*h.charCodeAt(S+2)+h.charCodeAt(S+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return c}}(Ot.API);var Bc,_p,C4,k4,I4,xD=function(){var t,e,r;function n(s){var a,o,l,u,c,h,p,m,x,g,S,w,E,T;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(a=this.readUInt32(),x=(function(){var j,X;for(X=[],j=0;j<4;++j)X.push(String.fromCharCode(this.data[this.pos++]));return X}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*c/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,a-=4),s=(h!=null?h.data:void 0)||this.imgData,w=0;0<=a?w<a:w>a;0<=a?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(E=0;0<=g?E<g:E>g;0<=g?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":p=(S=this.read(a)).indexOf(0),m=String.fromCharCode.apply(String,S.slice(0,p)),this.text[m]=String.fromCharCode.apply(String,S.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(T=this.colorType)===4||T===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function c(h,p,m,x){var g,S,w,E,T,j,X,J,P,C,R,O,k,N,F,ne,re,he,ge,te,ce,me=Math.ceil((u.width-h)/m),Be=Math.ceil((u.height-p)/x),I=u.width==me&&u.height==Be;for(N=a*me,O=I?o:new Uint8Array(N*Be),j=s.length,k=0,S=0;k<Be&&l<j;){switch(s[l++]){case 0:for(E=re=0;re<N;E=re+=1)O[S++]=s[l++];break;case 1:for(E=he=0;he<N;E=he+=1)g=s[l++],T=E<a?0:O[S-a],O[S++]=(g+T)%256;break;case 2:for(E=ge=0;ge<N;E=ge+=1)g=s[l++],w=(E-E%a)/a,F=k&&O[(k-1)*N+w*a+E%a],O[S++]=(F+g)%256;break;case 3:for(E=te=0;te<N;E=te+=1)g=s[l++],w=(E-E%a)/a,T=E<a?0:O[S-a],F=k&&O[(k-1)*N+w*a+E%a],O[S++]=(g+Math.floor((T+F)/2))%256;break;case 4:for(E=ce=0;ce<N;E=ce+=1)g=s[l++],w=(E-E%a)/a,T=E<a?0:O[S-a],k===0?F=ne=0:(F=O[(k-1)*N+w*a+E%a],ne=w&&O[(k-1)*N+(w-1)*a+E%a]),X=T+F-ne,J=Math.abs(X-T),C=Math.abs(X-F),R=Math.abs(X-ne),P=J<=C&&J<=R?T:C<=R?F:ne,O[S++]=(g+P)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!I){var M=((p+k*x)*u.width+h)*a,B=k*N;for(E=0;E<me;E+=1){for(var z=0;z<a;z+=1)o[M++]=O[B++];M+=(m-1)*a}}k++}}return s=Q7(s),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,l,u,c,h,p,m;for(o=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+o.length),l=0,s=0,a=h=0,p=o.length;h<p;a=h+=3)u[l++]=o[a],u[l++]=o[a+1],u[l++]=o[a+2],u[l++]=(m=c[s++])!=null?m:255;return u},n.prototype.copyToImageData=function(s,a){var o,l,u,c,h,p,m,x,g,S,w;if(l=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,o=!0),x=(u=s.data||s).length,h=g||a,c=p=0,l===1)for(;c<x;)m=g?4*a[c/4]:p,S=h[m++],u[c++]=S,u[c++]=S,u[c++]=S,u[c++]=o?h[m++]:255,p=m;else for(;c<x;)m=g?4*a[c/4]:p,u[c++]=h[m++],u[c++]=h[m++],u[c++]=h[m++],u[c++]=o?h[m++]:255,p=m},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(jt)==="[object Window]"){try{e=jt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,l,u,c,h,p,m;if(this.animation){for(m=[],o=c=0,h=(p=this.animation.frames).length;c<h;o=++c)a=p[o],l=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,u),a.imageData=l,m.push(a.image=t(l));return m}},n.prototype.renderFrame=function(s,a){var o,l,u;return o=(l=this.animation.frames)[a],u=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,l,u,c,h,p=this;return o=0,h=this.animation,u=h.numFrames,l=h.frames,c=h.numPlays,(a=function(){var m,x;if(m=o++%u,x=l[m],p.renderFrame(s,m),u>1&&o/u<c)return p.animation._timeout=setTimeout(a,x.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function _D(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,c=[],h=0,p=null,m=0,x=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],!(1&g)&&(p=null),m=g>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,j=t[e++],X=j>>6&1,J=1<<(7&j)+1,P=o,C=l,R=!1;j>>7&&(R=!0,P=e,C=J,e+=3*J);var O=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}c.push({x:S,y:w,width:E,height:T,has_local_palette:R,palette_offset:P,palette_size:C,data_offset:O,data_length:e-O,transparent_index:p,interlaced:!!X,delay:h,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return x},this.frameInfo=function(N){if(N<0||N>=c.length)throw new Error("Frame index out of range.");return c[N]},this.decodeAndBlitFrameBGRA=function(N,F){var ne=this.frameInfo(N),re=ne.width*ne.height,he=new Uint8Array(re);P4(t,ne.data_offset,he,re);var ge=ne.palette_offset,te=ne.transparent_index;te===null&&(te=256);var ce=ne.width,me=r-ce,Be=ce,I=4*(ne.y*r+ne.x),M=4*((ne.y+ne.height)*r+ne.x),B=I,z=4*me;ne.interlaced===!0&&(z+=4*r*7);for(var ee=8,fe=0,ve=he.length;fe<ve;++fe){var pe=he[fe];if(Be===0&&(Be=ce,(B+=z)>=M&&(z=4*me+4*r*(ee-1),B=I+(ce+me)*(ee<<1),ee>>=1)),pe===te)B+=4;else{var Ne=t[ge+3*pe],Me=t[ge+3*pe+1],qe=t[ge+3*pe+2];F[B++]=qe,F[B++]=Me,F[B++]=Ne,F[B++]=255}--Be}},this.decodeAndBlitFrameRGBA=function(N,F){var ne=this.frameInfo(N),re=ne.width*ne.height,he=new Uint8Array(re);P4(t,ne.data_offset,he,re);var ge=ne.palette_offset,te=ne.transparent_index;te===null&&(te=256);var ce=ne.width,me=r-ce,Be=ce,I=4*(ne.y*r+ne.x),M=4*((ne.y+ne.height)*r+ne.x),B=I,z=4*me;ne.interlaced===!0&&(z+=4*r*7);for(var ee=8,fe=0,ve=he.length;fe<ve;++fe){var pe=he[fe];if(Be===0&&(Be=ce,(B+=z)>=M&&(z=4*me+4*r*(ee-1),B=I+(ce+me)*(ee<<1),ee>>=1)),pe===te)B+=4;else{var Ne=t[ge+3*pe],Me=t[ge+3*pe+1],qe=t[ge+3*pe+2];F[B++]=Ne,F[B++]=Me,F[B++]=qe,F[B++]=255}--Be}}}function P4(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,c=0,h=0,p=0,m=t[e++],x=new Int32Array(4096),g=null;;){for(;c<16&&m!==0;)h|=t[e++]<<c,c+=8,m===1?m=t[e++]:--m;if(c<l)break;var S=h&u;if(h>>=l,c-=l,S!==s){if(S===a)break;for(var w=S<o?S:g,E=0,T=w;T>s;)T=x[T]>>8,++E;var j=T;if(p+E+(w!==S?1:0)>n)return void Ur.log("Warning, gif stream longer than expected.");r[p++]=j;var X=p+=E;for(w!==S&&(r[p++]=j),T=w;E--;)T=x[T],r[--X]=255&T,T>>=8;g!==null&&o<4096&&(x[o++]=g<<8|j,o>=u+1&&l<12&&(++l,u=u<<1|1)),g=S}else o=a+1,u=(1<<(l=i+1))-1,g=null}return p!==n&&Ur.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function u2(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),h=new Array(65535),p=new Array(65535),m=new Array(64),x=new Array(64),g=[],S=0,w=7,E=new Array(64),T=new Array(64),j=new Array(64),X=new Array(256),J=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function he(I,M){for(var B=0,z=0,ee=new Array,fe=1;fe<=16;fe++){for(var ve=1;ve<=I[fe];ve++)ee[M[z]]=[],ee[M[z]][0]=B,ee[M[z]][1]=fe,z++,B++;B*=2}return ee}function ge(I){for(var M=I[0],B=I[1]-1;B>=0;)M&1<<B&&(S|=1<<w),B--,--w<0&&(S==255?(te(255),te(0)):te(S),w=7,S=0)}function te(I){g.push(I)}function ce(I){te(I>>8&255),te(255&I)}function me(I,M,B,z,ee){for(var fe,ve=ee[0],pe=ee[240],Ne=function(Ge,rt){var lt,ut,St,bt,Dt,Ct,Pt,Yt,Lt,Gt,dt=0;for(Lt=0;Lt<8;++Lt){lt=Ge[dt],ut=Ge[dt+1],St=Ge[dt+2],bt=Ge[dt+3],Dt=Ge[dt+4],Ct=Ge[dt+5],Pt=Ge[dt+6];var Wr=lt+(Yt=Ge[dt+7]),Qt=lt-Yt,Qn=ut+Pt,sr=ut-Pt,Fr=St+Ct,Gi=St-Ct,Zt=bt+Dt,hs=bt-Dt,Dr=Wr+Zt,Rn=Wr-Zt,Ri=Qn+Fr,vr=Qn-Fr;Ge[dt]=Dr+Ri,Ge[dt+4]=Dr-Ri;var kt=.707106781*(vr+Rn);Ge[dt+2]=Rn+kt,Ge[dt+6]=Rn-kt;var ir=.382683433*((Dr=hs+Gi)-(vr=sr+Qt)),Ki=.5411961*Dr+ir,on=1.306562965*vr+ir,Un=.707106781*(Ri=Gi+sr),Fi=Qt+Un,xt=Qt-Un;Ge[dt+5]=xt+Ki,Ge[dt+3]=xt-Ki,Ge[dt+1]=Fi+on,Ge[dt+7]=Fi-on,dt+=8}for(dt=0,Lt=0;Lt<8;++Lt){lt=Ge[dt],ut=Ge[dt+8],St=Ge[dt+16],bt=Ge[dt+24],Dt=Ge[dt+32],Ct=Ge[dt+40],Pt=Ge[dt+48];var gi=lt+(Yt=Ge[dt+56]),Sn=lt-Yt,ln=ut+Pt,tn=ut-Pt,Zr=St+Ct,q=St-Ct,ae=bt+Dt,Q=bt-Dt,Z=gi+ae,se=gi-ae,oe=ln+Zr,Ae=ln-Zr;Ge[dt]=Z+oe,Ge[dt+32]=Z-oe;var Re=.707106781*(Ae+se);Ge[dt+16]=se+Re,Ge[dt+48]=se-Re;var Te=.382683433*((Z=Q+q)-(Ae=tn+Sn)),Ce=.5411961*Z+Te,Le=1.306562965*Ae+Te,Ye=.707106781*(oe=q+tn),nt=Sn+Ye,pt=Sn-Ye;Ge[dt+40]=pt+Ce,Ge[dt+24]=pt-Ce,Ge[dt+8]=nt+Le,Ge[dt+56]=nt-Le,dt++}for(Lt=0;Lt<64;++Lt)Gt=Ge[Lt]*rt[Lt],m[Lt]=Gt>0?Gt+.5|0:Gt-.5|0;return m}(I,M),Me=0;Me<64;++Me)x[P[Me]]=Ne[Me];var qe=x[0]-B;B=x[0],qe==0?ge(z[0]):(ge(z[p[fe=32767+qe]]),ge(h[fe]));for(var Ze=63;Ze>0&&x[Ze]==0;)Ze--;if(Ze==0)return ge(ve),B;for(var at,Fe=1;Fe<=Ze;){for(var ue=Fe;x[Fe]==0&&Fe<=Ze;)++Fe;var We=Fe-ue;if(We>=16){at=We>>4;for(var gt=1;gt<=at;++gt)ge(pe);We&=15}fe=32767+x[Fe],ge(ee[(We<<4)+p[fe]]),ge(h[fe]),Fe++}return Ze!=63&&ge(ve),B}function Be(I){I=Math.min(Math.max(I,1),100),s!=I&&(function(M){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var ee=a((B[z]*M+50)/100);ee=Math.min(Math.max(ee,1),255),o[P[z]]=ee}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var pe=a((fe[ve]*M+50)/100);pe=Math.min(Math.max(pe,1),255),l[P[ve]]=pe}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,qe=0;qe<8;qe++)for(var Ze=0;Ze<8;Ze++)u[Me]=1/(o[P[Me]]*Ne[qe]*Ne[Ze]*8),c[Me]=1/(l[P[Me]]*Ne[qe]*Ne[Ze]*8),Me++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,M){M&&Be(M),g=new Array,S=0,w=7,ce(65496),ce(65504),ce(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),ce(1),ce(1),te(0),te(0),function(){ce(65499),ce(132),te(0);for(var ut=0;ut<64;ut++)te(o[ut]);te(1);for(var St=0;St<64;St++)te(l[St])}(),function(ut,St){ce(65472),ce(17),te(8),ce(St),ce(ut),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(I.width,I.height),function(){ce(65476),ce(418),te(0);for(var ut=0;ut<16;ut++)te(C[ut+1]);for(var St=0;St<=11;St++)te(R[St]);te(16);for(var bt=0;bt<16;bt++)te(O[bt+1]);for(var Dt=0;Dt<=161;Dt++)te(k[Dt]);te(1);for(var Ct=0;Ct<16;Ct++)te(N[Ct+1]);for(var Pt=0;Pt<=11;Pt++)te(F[Pt]);te(17);for(var Yt=0;Yt<16;Yt++)te(ne[Yt+1]);for(var Lt=0;Lt<=161;Lt++)te(re[Lt])}(),ce(65498),ce(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var B=0,z=0,ee=0;S=0,w=7,this.encode.displayName="_encode_";for(var fe,ve,pe,Ne,Me,qe,Ze,at,Fe,ue=I.data,We=I.width,gt=I.height,Ge=4*We,rt=0;rt<gt;){for(fe=0;fe<Ge;){for(Me=Ge*rt+fe,Ze=-1,at=0,Fe=0;Fe<64;Fe++)qe=Me+(at=Fe>>3)*Ge+(Ze=4*(7&Fe)),rt+at>=gt&&(qe-=Ge*(rt+1+at-gt)),fe+Ze>=Ge&&(qe-=fe+Ze-Ge+4),ve=ue[qe++],pe=ue[qe++],Ne=ue[qe++],E[Fe]=(J[ve]+J[pe+256>>0]+J[Ne+512>>0]>>16)-128,T[Fe]=(J[ve+768>>0]+J[pe+1024>>0]+J[Ne+1280>>0]>>16)-128,j[Fe]=(J[ve+1280>>0]+J[pe+1536>>0]+J[Ne+1792>>0]>>16)-128;B=me(E,u,B,e,n),z=me(T,c,z,r,i),ee=me(j,c,ee,r,i),fe+=32}rt+=8}if(w>=0){var lt=[];lt[1]=w+1,lt[0]=(1<<w+1)-1,ge(lt)}return ce(65497),new Uint8Array(g)},t=t||50,function(){for(var I=String.fromCharCode,M=0;M<256;M++)X[M]=I(M)}(),e=he(C,R),r=he(N,F),n=he(O,k),i=he(ne,re),function(){for(var I=1,M=2,B=1;B<=15;B++){for(var z=I;z<M;z++)p[32767+z]=B,h[32767+z]=[],h[32767+z][1]=B,h[32767+z][0]=z;for(var ee=-(M-1);ee<=-I;ee++)p[32767+ee]=B,h[32767+ee]=[],h[32767+ee][1]=B,h[32767+ee][0]=M-1+ee;I<<=1,M<<=1}}(),function(){for(var I=0;I<256;I++)J[I]=19595*I,J[I+256>>0]=38470*I,J[I+512>>0]=7471*I+32768,J[I+768>>0]=-11059*I,J[I+1024>>0]=-21709*I,J[I+1280>>0]=32768*I+8421375,J[I+1536>>0]=-27439*I,J[I+1792>>0]=-5329*I}(),Be(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function da(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function L4(t){function e(C){if(!C)throw Error("assert :P")}function r(C,R,O){for(var k=0;4>k;k++)if(C[R+k]!=O.charCodeAt(k))return!0;return!1}function n(C,R,O,k,N){for(var F=0;F<N;F++)C[R+F]=O[k+F]}function i(C,R,O,k){for(var N=0;N<k;N++)C[R+N]=O}function s(C){return new Int32Array(C)}function a(C,R){for(var O=[],k=0;k<C;k++)O.push(new R);return O}function o(C,R){var O=[];return function k(N,F,ne){for(var re=ne[F],he=0;he<re&&(N.push(ne.length>F+1?[]:new R),!(ne.length<F+1));he++)k(N[he],F+1,ne)}(O,0,C),O}var l=function(){var C=this;function R(f,v){for(var A=1<<v-1>>>0;f&A;)A>>>=1;return A?(f&A-1)+A:f}function O(f,v,A,L,U){e(!(L%A));do f[v+(L-=A)]=U;while(0<L)}function k(f,v,A,L,U){if(e(2328>=U),512>=U)var H=s(512);else if((H=s(U))==null)return 0;return function(W,K,Y,ie,ye,ke){var Ie,Se,ze=K,De=1<<Y,xe=s(16),_e=s(16);for(e(ye!=0),e(ie!=null),e(W!=null),e(0<Y),Se=0;Se<ye;++Se){if(15<ie[Se])return 0;++xe[ie[Se]]}if(xe[0]==ye)return 0;for(_e[1]=0,Ie=1;15>Ie;++Ie){if(xe[Ie]>1<<Ie)return 0;_e[Ie+1]=_e[Ie]+xe[Ie]}for(Se=0;Se<ye;++Se)Ie=ie[Se],0<ie[Se]&&(ke[_e[Ie]++]=Se);if(_e[15]==1)return(ie=new N).g=0,ie.value=ke[0],O(W,ze,1,De,ie),De;var Ve,Ke=-1,Ue=De-1,vt=0,ft=1,Rt=1,mt=1<<Y;for(Se=0,Ie=1,ye=2;Ie<=Y;++Ie,ye<<=1){if(ft+=Rt<<=1,0>(Rt-=xe[Ie]))return 0;for(;0<xe[Ie];--xe[Ie])(ie=new N).g=Ie,ie.value=ke[Se++],O(W,ze+vt,ye,mt,ie),vt=R(vt,Ie)}for(Ie=Y+1,ye=2;15>=Ie;++Ie,ye<<=1){if(ft+=Rt<<=1,0>(Rt-=xe[Ie]))return 0;for(;0<xe[Ie];--xe[Ie]){if(ie=new N,(vt&Ue)!=Ke){for(ze+=mt,Ve=1<<(Ke=Ie)-Y;15>Ke&&!(0>=(Ve-=xe[Ke]));)++Ke,Ve<<=1;De+=mt=1<<(Ve=Ke-Y),W[K+(Ke=vt&Ue)].g=Ve+Y,W[K+Ke].value=ze-K-Ke}ie.g=Ie-Y,ie.value=ke[Se++],O(W,ze+(vt>>Y),ye,mt,ie),vt=R(vt,Ie)}}return ft!=2*_e[15]-1?0:De}(f,v,A,L,U,H)}function N(){this.value=this.g=0}function F(){this.value=this.g=0}function ne(){this.G=a(5,N),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(ti,F)}function re(f,v,A,L){e(f!=null),e(v!=null),e(2147483648>L),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=v,f.pa=A,f.Jd=v,f.Yc=A+L,f.Zc=4<=L?A+L-4+1:A,fe(f)}function he(f,v){for(var A=0;0<v--;)A|=pe(f,128)<<v;return A}function ge(f,v){var A=he(f,v);return ve(f)?-A:A}function te(f,v,A,L){var U,H=0;for(e(f!=null),e(v!=null),e(4294967288>L),f.Sb=L,f.Ra=0,f.u=0,f.h=0,4<L&&(L=4),U=0;U<L;++U)H+=v[A+U]<<8*U;f.Ra=H,f.bb=L,f.oa=v,f.pa=A}function ce(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<bc-8>>>0,++f.bb,f.u-=8;B(f)&&(f.h=1,f.u=0)}function me(f,v){if(e(0<=v),!f.h&&v<=Nc){var A=M(f)&Tc[v];return f.u+=v,ce(f),A}return f.h=1,f.u=0}function Be(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(f){return f.Ra>>>(f.u&bc-1)>>>0}function B(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>bc}function z(f,v){f.u=v,f.h=B(f)}function ee(f){f.u>=yh&&(e(f.u>=yh),ce(f))}function fe(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function ve(f){return he(f,1)}function pe(f,v){var A=f.Ca;0>f.b&&fe(f);var L=f.b,U=A*v>>>8,H=(f.I>>>L>U)+0;for(H?(A-=U,f.I-=U+1<<L>>>0):A=U+1,L=A,U=0;256<=L;)U+=8,L>>=8;return L=7^U+Qi[L],f.b-=L,f.Ca=(A<<L)-1,H}function Ne(f,v,A){f[v+0]=A>>24&255,f[v+1]=A>>16&255,f[v+2]=A>>8&255,f[v+3]=A>>0&255}function Me(f,v){return f[v+0]<<0|f[v+1]<<8}function qe(f,v){return Me(f,v)|f[v+2]<<16}function Ze(f,v){return Me(f,v)|Me(f,v+2)<<16}function at(f,v){var A=1<<v;return e(f!=null),e(0<v),f.X=s(A),f.X==null?0:(f.Mb=32-v,f.Xa=v,1)}function Fe(f,v){e(f!=null),e(v!=null),e(f.Xa==v.Xa),n(v.X,0,f.X,0,1<<v.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function We(f,v,A,L){e(A!=null),e(L!=null);var U=A[0],H=L[0];return U==0&&(U=(f*H+v/2)/v),H==0&&(H=(v*U+f/2)/f),0>=U||0>=H?0:(A[0]=U,L[0]=H,1)}function gt(f,v){return f+(1<<v)-1>>>v}function Ge(f,v){return((4278255360&f)+(4278255360&v)>>>0&4278255360)+((16711935&f)+(16711935&v)>>>0&16711935)>>>0}function rt(f,v){C[v]=function(A,L,U,H,W,K,Y){var ie;for(ie=0;ie<W;++ie){var ye=C[f](K[Y+ie-1],U,H+ie);K[Y+ie]=Ge(A[L+ie],ye)}}}function lt(){this.ud=this.hd=this.jd=0}function ut(f,v){return((4278124286&(f^v))>>>1)+(f&v)>>>0}function St(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function bt(f,v){return St(f+(f-v+.5>>1))}function Dt(f,v,A){return Math.abs(v-A)-Math.abs(f-A)}function Ct(f,v,A,L,U,H,W){for(L=H[W-1],A=0;A<U;++A)H[W+A]=L=Ge(f[v+A],L)}function Pt(f,v,A,L,U){var H;for(H=0;H<A;++H){var W=f[v+H],K=W>>8&255,Y=16711935&(Y=(Y=16711935&W)+((K<<16)+K));L[U+H]=(4278255360&W)+Y>>>0}}function Yt(f,v){v.jd=f>>0&255,v.hd=f>>8&255,v.ud=f>>16&255}function Lt(f,v,A,L,U,H){var W;for(W=0;W<L;++W){var K=v[A+W],Y=K>>>8,ie=K,ye=255&(ye=(ye=K>>>16)+((f.jd<<24>>24)*(Y<<24>>24)>>>5));ie=255&(ie=(ie=ie+((f.hd<<24>>24)*(Y<<24>>24)>>>5))+((f.ud<<24>>24)*(ye<<24>>24)>>>5)),U[H+W]=(4278255360&K)+(ye<<16)+ie}}function Gt(f,v,A,L,U){C[v]=function(H,W,K,Y,ie,ye,ke,Ie,Se){for(Y=ke;Y<Ie;++Y)for(ke=0;ke<Se;++ke)ie[ye++]=U(K[L(H[W++])])},C[f]=function(H,W,K,Y,ie,ye,ke){var Ie=8>>H.b,Se=H.Ea,ze=H.K[0],De=H.w;if(8>Ie)for(H=(1<<H.b)-1,De=(1<<Ie)-1;W<K;++W){var xe,_e=0;for(xe=0;xe<Se;++xe)xe&H||(_e=L(Y[ie++])),ye[ke++]=U(ze[_e&De]),_e>>=Ie}else C["VP8LMapColor"+A](Y,ie,ze,De,ye,ke,W,K,Se)}}function dt(f,v,A,L,U){for(A=v+A;v<A;){var H=f[v++];L[U++]=H>>16&255,L[U++]=H>>8&255,L[U++]=H>>0&255}}function Wr(f,v,A,L,U){for(A=v+A;v<A;){var H=f[v++];L[U++]=H>>16&255,L[U++]=H>>8&255,L[U++]=H>>0&255,L[U++]=H>>24&255}}function Qt(f,v,A,L,U){for(A=v+A;v<A;){var H=(W=f[v++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;L[U++]=H,L[U++]=W}}function Qn(f,v,A,L,U){for(A=v+A;v<A;){var H=(W=f[v++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;L[U++]=H,L[U++]=W}}function sr(f,v,A,L,U){for(A=v+A;v<A;){var H=f[v++];L[U++]=H>>0&255,L[U++]=H>>8&255,L[U++]=H>>16&255}}function Fr(f,v,A,L,U,H){if(H==0)for(A=v+A;v<A;)Ne(L,((H=f[v++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),U+=32;else n(L,U,f,v,A)}function Gi(f,v){C[v][0]=C[f+"0"],C[v][1]=C[f+"1"],C[v][2]=C[f+"2"],C[v][3]=C[f+"3"],C[v][4]=C[f+"4"],C[v][5]=C[f+"5"],C[v][6]=C[f+"6"],C[v][7]=C[f+"7"],C[v][8]=C[f+"8"],C[v][9]=C[f+"9"],C[v][10]=C[f+"10"],C[v][11]=C[f+"11"],C[v][12]=C[f+"12"],C[v][13]=C[f+"13"],C[v][14]=C[f+"0"],C[v][15]=C[f+"0"]}function Zt(f){return f==sg||f==ag||f==O0||f==og}function hs(){this.eb=[],this.size=this.A=this.fb=0}function Dr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new hs,this.f.kb=new Dr,this.sd=null}function Ri(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function kt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function ir(f,v){var A=f.T,L=v.ba.f.RGBA,U=L.eb,H=L.fb+f.ka*L.A,W=Us[v.ba.S],K=f.y,Y=f.O,ie=f.f,ye=f.N,ke=f.ea,Ie=f.W,Se=v.cc,ze=v.dc,De=v.Mc,xe=v.Nc,_e=f.ka,Ve=f.ka+f.T,Ke=f.U,Ue=Ke+1>>1;for(_e==0?W(K,Y,null,null,ie,ye,ke,Ie,ie,ye,ke,Ie,U,H,null,null,Ke):(W(v.ec,v.fc,K,Y,Se,ze,De,xe,ie,ye,ke,Ie,U,H-L.A,U,H,Ke),++A);_e+2<Ve;_e+=2)Se=ie,ze=ye,De=ke,xe=Ie,ye+=f.Rc,Ie+=f.Rc,H+=2*L.A,W(K,(Y+=2*f.fa)-f.fa,K,Y,Se,ze,De,xe,ie,ye,ke,Ie,U,H-L.A,U,H,Ke);return Y+=f.fa,f.j+Ve<f.o?(n(v.ec,v.fc,K,Y,Ke),n(v.cc,v.dc,ie,ye,Ue),n(v.Mc,v.Nc,ke,Ie,Ue),A--):1&Ve||W(K,Y,null,null,ie,ye,ke,Ie,ie,ye,ke,Ie,U,H+L.A,null,null,Ke),A}function Ki(f,v,A){var L=f.F,U=[f.J];if(L!=null){var H=f.U,W=v.ba.S,K=W==D0||W==O0;v=v.ba.f.RGBA;var Y=[0],ie=f.ka;Y[0]=f.T,f.Kb&&(ie==0?--Y[0]:(--ie,U[0]-=f.width),f.j+f.ka+f.T==f.o&&(Y[0]=f.o-f.j-ie));var ye=v.eb;ie=v.fb+ie*v.A,f=qr(L,U[0],f.width,H,Y,ye,ie+(K?0:3),v.A),e(A==Y),f&&Zt(W)&&Bs(ye,ie,K,H,Y,v.A)}return 0}function on(f){var v=f.ma,A=v.ba.S,L=11>A,U=A==R0||A==F0||A==D0||A==ig||A==12||Zt(A);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!gh(v.Oa,f,U?11:12))return 0;if(U&&Zt(A)&&Xe(),f.da)alert("todo:use_scaling");else{if(L){if(v.Ib=kt,f.Kb){if(A=f.U+1>>1,v.memory=s(f.U+2*A),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+f.U,v.Mc=v.cc,v.Nc=v.dc+A,v.Ib=ir,Xe()}}else alert("todo:EmitYUV");U&&(v.Jb=Ki,L&&Ee())}if(L&&!L5){for(f=0;256>f;++f)qb[f]=89858*(f-128)+M0>>j0,$b[f]=-22014*(f-128)+M0,Wb[f]=-45773*(f-128),Hb[f]=113618*(f-128)+M0>>j0;for(f=Th;f<cg;++f)v=76283*(f-16)+M0>>j0,Gb[f-Th]=Sr(v,255),Kb[f-Th]=Sr(v+8>>4,15);L5=1}return 1}function Un(f){var v=f.ma,A=f.U,L=f.T;return e(!(1&f.ka)),0>=A||0>=L?0:(A=v.Ib(f,v),v.Jb!=null&&v.Jb(f,v,A),v.Dc+=A,1)}function Fi(f){f.ma.memory=null}function xt(f,v,A,L){return me(f,8)!=47?0:(v[0]=me(f,14)+1,A[0]=me(f,14)+1,L[0]=me(f,1),me(f,3)!=0?0:!f.h)}function gi(f,v){if(4>f)return f+1;var A=f-2>>1;return(2+(1&f)<<A)+me(v,A)+1}function Sn(f,v){return 120<v?v-120:1<=(A=((A=kb[v-1])>>4)*f+(8-(15&A)))?A:1;var A}function ln(f,v,A){var L=M(A),U=f[v+=255&L].g-8;return 0<U&&(z(A,A.u+8),L=M(A),v+=f[v].value,v+=L&(1<<U)-1),z(A,A.u+f[v].g),f[v].value}function tn(f,v,A){return A.g+=f.g,A.value+=f.value<<v>>>0,e(8>=A.g),f.g}function Zr(f,v,A){var L=f.xc;return e((v=L==0?0:f.vc[f.md*(A>>L)+(v>>L)])<f.Wb),f.Ya[v]}function q(f,v,A,L){var U=f.ab,H=f.c*v,W=f.C;v=W+v;var K=A,Y=L;for(L=f.Ta,A=f.Ua;0<U--;){var ie=f.gc[U],ye=W,ke=v,Ie=K,Se=Y,ze=(Y=L,K=A,ie.Ea);switch(e(ye<ke),e(ke<=ie.nc),ie.hc){case 2:N0(Ie,Se,(ke-ye)*ze,Y,K);break;case 0:var De=ye,xe=ke,_e=Y,Ve=K,Ke=(mt=ie).Ea;De==0&&(rg(Ie,Se,null,null,1,_e,Ve),Ct(Ie,Se+1,0,0,Ke-1,_e,Ve+1),Se+=Ke,Ve+=Ke,++De);for(var Ue=1<<mt.b,vt=Ue-1,ft=gt(Ke,mt.b),Rt=mt.K,mt=mt.w+(De>>mt.b)*ft;De<xe;){var yr=Rt,Tr=mt,ur=1;for(xh(Ie,Se,_e,Ve-Ke,1,_e,Ve);ur<Ke;){var rr=(ur&~vt)+Ue;rr>Ke&&(rr=Ke),(0,al[yr[Tr++]>>8&15])(Ie,Se+ +ur,_e,Ve+ur-Ke,rr-ur,_e,Ve+ur),ur=rr}Se+=Ke,Ve+=Ke,++De&vt||(mt+=ft)}ke!=ie.nc&&n(Y,K-ze,Y,K+(ke-ye-1)*ze,ze);break;case 1:for(ze=Ie,xe=Se,Ke=(Ie=ie.Ea)-(Ve=Ie&~(_e=(Se=1<<ie.b)-1)),De=gt(Ie,ie.b),Ue=ie.K,ie=ie.w+(ye>>ie.b)*De;ye<ke;){for(vt=Ue,ft=ie,Rt=new lt,mt=xe+Ve,yr=xe+Ie;xe<mt;)Yt(vt[ft++],Rt),Su(Rt,ze,xe,Se,Y,K),xe+=Se,K+=Se;xe<yr&&(Yt(vt[ft++],Rt),Su(Rt,ze,xe,Ke,Y,K),xe+=Ke,K+=Ke),++ye&_e||(ie+=De)}break;case 3:if(Ie==Y&&Se==K&&0<ie.b){for(xe=Y,Ie=ze=K+(ke-ye)*ze-(Ve=(ke-ye)*gt(ie.Ea,ie.b)),Se=Y,_e=K,De=[],Ve=(Ke=Ve)-1;0<=Ve;--Ve)De[Ve]=Se[_e+Ve];for(Ve=Ke-1;0<=Ve;--Ve)xe[Ie+Ve]=De[Ve];Os(ie,ye,ke,Y,ze,Y,K)}else Os(ie,ye,ke,Ie,Se,Y,K)}K=L,Y=A}Y!=A&&n(L,A,K,Y,H)}function ae(f,v){var A=f.V,L=f.Ba+f.c*f.C,U=v-f.C;if(e(v<=f.l.o),e(16>=U),0<U){var H=f.l,W=f.Ta,K=f.Ua,Y=H.width;if(q(f,U,A,L),U=K=[K],e((A=f.C)<(L=v)),e(H.v<H.va),L>H.o&&(L=H.o),A<H.j){var ie=H.j-A;A=H.j,U[0]+=ie*Y}if(A>=L?A=0:(U[0]+=4*H.v,H.ka=A-H.j,H.U=H.va-H.v,H.T=L-A,A=1),A){if(K=K[0],11>(A=f.ca).S){var ye=A.f.RGBA,ke=(L=A.S,U=H.U,H=H.T,ie=ye.eb,ye.A),Ie=H;for(ye=ye.fb+f.Ma*ye.A;0<Ie--;){var Se=W,ze=K,De=U,xe=ie,_e=ye;switch(L){case L0:Ji(Se,ze,De,xe,_e);break;case R0:ji(Se,ze,De,xe,_e);break;case sg:ji(Se,ze,De,xe,_e),Bs(xe,_e,0,De,1,0);break;case S5:uo(Se,ze,De,xe,_e);break;case F0:Fr(Se,ze,De,xe,_e,1);break;case ag:Fr(Se,ze,De,xe,_e,1),Bs(xe,_e,0,De,1,0);break;case D0:Fr(Se,ze,De,xe,_e,0);break;case O0:Fr(Se,ze,De,xe,_e,0),Bs(xe,_e,1,De,1,0);break;case ig:ol(Se,ze,De,xe,_e);break;case og:ol(Se,ze,De,xe,_e),zr(xe,_e,De,1,0);break;case A5:lo(Se,ze,De,xe,_e);break;default:e(0)}K+=Y,ye+=ke}f.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=A.height)}}f.C=v,e(f.C<=f.i)}function Q(f){var v;if(0<f.ua)return 0;for(v=0;v<f.Wb;++v){var A=f.Ya[v].G,L=f.Ya[v].H;if(0<A[1][L[1]+0].g||0<A[2][L[2]+0].g||0<A[3][L[3]+0].g)return 0}return 1}function Z(f,v,A,L,U,H){if(f.Z!=0){var W=f.qd,K=f.rd;for(e(fl[f.Z]!=null);v<A;++v)fl[f.Z](W,K,L,U,L,U,H),W=L,K=U,U+=H;f.qd=W,f.rd=K}}function se(f,v){var A=f.l.ma,L=A.Z==0||A.Z==1?f.l.j:f.C;if(L=f.C<L?L:f.C,e(v<=f.l.o),v>L){var U=f.l.width,H=A.ca,W=A.tb+U*L,K=f.V,Y=f.Ba+f.c*L,ie=f.gc;e(f.ab==1),e(ie[0].hc==3),b0(ie[0],L,v,K,Y,H,W),Z(A,L,v,H,W,U)}f.C=f.Ma=v}function oe(f,v,A,L,U,H,W){var K=f.$/L,Y=f.$%L,ie=f.m,ye=f.s,ke=A+f.$,Ie=ke;U=A+L*U;var Se=A+L*H,ze=280+ye.ua,De=f.Pb?K:16777216,xe=0<ye.ua?ye.Wa:null,_e=ye.wc,Ve=ke<Se?Zr(ye,Y,K):null;e(f.C<H),e(Se<=U);var Ke=!1;e:for(;;){for(;Ke||ke<Se;){var Ue=0;if(K>=De){var vt=ke-A;e((De=f).Pb),De.wd=De.m,De.xd=vt,0<De.s.ua&&Fe(De.s.Wa,De.s.vb),De=K+Pb}if(Y&_e||(Ve=Zr(ye,Y,K)),e(Ve!=null),Ve.Qb&&(v[ke]=Ve.qb,Ke=!0),!Ke)if(ee(ie),Ve.jc){Ue=ie,vt=v;var ft=ke,Rt=Ve.pd[M(Ue)&ti-1];e(Ve.jc),256>Rt.g?(z(Ue,Ue.u+Rt.g),vt[ft]=Rt.value,Ue=0):(z(Ue,Ue.u+Rt.g-256),e(256<=Rt.value),Ue=Rt.value),Ue==0&&(Ke=!0)}else Ue=ln(Ve.G[0],Ve.H[0],ie);if(ie.h)break;if(Ke||256>Ue){if(!Ke)if(Ve.nd)v[ke]=(Ve.qb|Ue<<8)>>>0;else{if(ee(ie),Ke=ln(Ve.G[1],Ve.H[1],ie),ee(ie),vt=ln(Ve.G[2],Ve.H[2],ie),ft=ln(Ve.G[3],Ve.H[3],ie),ie.h)break;v[ke]=(ft<<24|Ke<<16|Ue<<8|vt)>>>0}if(Ke=!1,++ke,++Y>=L&&(Y=0,++K,W!=null&&K<=H&&!(K%16)&&W(f,K),xe!=null))for(;Ie<ke;)Ue=v[Ie++],xe.X[(506832829*Ue&4294967295)>>>xe.Mb]=Ue}else if(280>Ue){if(Ue=gi(Ue-256,ie),vt=ln(Ve.G[4],Ve.H[4],ie),ee(ie),vt=Sn(L,vt=gi(vt,ie)),ie.h)break;if(ke-A<vt||U-ke<Ue)break e;for(ft=0;ft<Ue;++ft)v[ke+ft]=v[ke+ft-vt];for(ke+=Ue,Y+=Ue;Y>=L;)Y-=L,++K,W!=null&&K<=H&&!(K%16)&&W(f,K);if(e(ke<=U),Y&_e&&(Ve=Zr(ye,Y,K)),xe!=null)for(;Ie<ke;)Ue=v[Ie++],xe.X[(506832829*Ue&4294967295)>>>xe.Mb]=Ue}else{if(!(Ue<ze))break e;for(Ke=Ue-280,e(xe!=null);Ie<ke;)Ue=v[Ie++],xe.X[(506832829*Ue&4294967295)>>>xe.Mb]=Ue;Ue=ke,e(!(Ke>>>(vt=xe).Xa)),v[Ue]=vt.X[Ke],Ke=!0}Ke||e(ie.h==B(ie))}if(f.Pb&&ie.h&&ke<U)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Fe(f.s.vb,f.s.Wa);else{if(ie.h)break e;W!=null&&W(f,K>H?H:K),f.a=0,f.$=ke-A}return 1}return f.a=3,0}function Ae(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var v=f.Wa;v!=null&&(v.X=null),f.vb=null,e(f!=null)}function Re(){var f=new Sc;return f==null?null:(f.a=0,f.xb=b5,Gi("Predictor","VP8LPredictors"),Gi("Predictor","VP8LPredictors_C"),Gi("PredictorAdd","VP8LPredictorsAdd"),Gi("PredictorAdd","VP8LPredictorsAdd_C"),N0=Pt,Su=Lt,Ji=dt,ji=Wr,ol=Qt,lo=Qn,uo=sr,C.VP8LMapColor32b=Cc,C.VP8LMapColor8b=C0,f)}function Te(f,v,A,L,U){var H=1,W=[f],K=[v],Y=L.m,ie=L.s,ye=null,ke=0;e:for(;;){if(A)for(;H&&me(Y,1);){var Ie=W,Se=K,ze=L,De=1,xe=ze.m,_e=ze.gc[ze.ab],Ve=me(xe,2);if(ze.Oc&1<<Ve)H=0;else{switch(ze.Oc|=1<<Ve,_e.hc=Ve,_e.Ea=Ie[0],_e.nc=Se[0],_e.K=[null],++ze.ab,e(4>=ze.ab),Ve){case 0:case 1:_e.b=me(xe,3)+2,De=Te(gt(_e.Ea,_e.b),gt(_e.nc,_e.b),0,ze,_e.K),_e.K=_e.K[0];break;case 3:var Ke,Ue=me(xe,8)+1,vt=16<Ue?0:4<Ue?1:2<Ue?2:3;if(Ie[0]=gt(_e.Ea,vt),_e.b=vt,Ke=De=Te(Ue,1,0,ze,_e.K)){var ft,Rt=Ue,mt=_e,yr=1<<(8>>mt.b),Tr=s(yr);if(Tr==null)Ke=0;else{var ur=mt.K[0],rr=mt.w;for(Tr[0]=mt.K[0][0],ft=1;ft<1*Rt;++ft)Tr[ft]=Ge(ur[rr+ft],Tr[ft-1]);for(;ft<4*yr;++ft)Tr[ft]=0;mt.K[0]=null,mt.K[0]=Tr,Ke=1}}De=Ke;break;case 2:break;default:e(0)}H=De}}if(W=W[0],K=K[0],H&&me(Y,1)&&!(H=1<=(ke=me(Y,4))&&11>=ke)){L.a=3;break e}var Vr;if(Vr=H)t:{var jr,Kt,An,Zi=L,Tn=W,es=K,Nr=ke,xs=A,_s=Zi.m,zn=Zi.s,ri=[null],Bi=1,zs=0,Oa=Ib[Nr];r:for(;;){if(xs&&me(_s,1)){var qn=me(_s,3)+2,po=gt(Tn,qn),Cu=gt(es,qn),Rc=po*Cu;if(!Te(po,Cu,0,Zi,ri))break r;for(ri=ri[0],zn.xc=qn,jr=0;jr<Rc;++jr){var hl=ri[jr]>>8&65535;ri[jr]=hl,hl>=Bi&&(Bi=hl+1)}}if(_s.h)break r;for(Kt=0;5>Kt;++Kt){var cn=T5[Kt];!Kt&&0<Nr&&(cn+=1<<Nr),zs<cn&&(zs=cn)}var fg=a(Bi*Oa,N),D5=Bi,O5=a(D5,ne);if(O5==null)var V0=null;else e(65536>=D5),V0=O5;var Nh=s(zs);if(V0==null||Nh==null||fg==null){Zi.a=1;break r}var U0=fg;for(jr=An=0;jr<Bi;++jr){var ca=V0[jr],Fc=ca.G,Dc=ca.H,j5=0,z0=1,M5=0;for(Kt=0;5>Kt;++Kt){cn=T5[Kt],Fc[Kt]=U0,Dc[Kt]=An,!Kt&&0<Nr&&(cn+=1<<Nr);i:{var q0,hg=cn,H0=Zi,bh=Nh,Qb=U0,Jb=An,dg=0,dl=H0.m,Zb=me(dl,1);if(i(bh,0,0,hg),Zb){var eC=me(dl,1)+1,tC=me(dl,1),B5=me(dl,tC==0?1:8);bh[B5]=1,eC==2&&(bh[B5=me(dl,8)]=1);var W0=1}else{var V5=s(19),U5=me(dl,4)+4;if(19<U5){H0.a=3;var $0=0;break i}for(q0=0;q0<U5;++q0)V5[Cb[q0]]=me(dl,3);var pg=void 0,Ch=void 0,z5=H0,rC=V5,G0=hg,q5=bh,mg=0,pl=z5.m,H5=8,W5=a(128,N);n:for(;k(W5,0,7,rC,19);){if(me(pl,1)){var nC=2+2*me(pl,3);if((pg=2+me(pl,nC))>G0)break n}else pg=G0;for(Ch=0;Ch<G0&&pg--;){ee(pl);var $5=W5[0+(127&M(pl))];z(pl,pl.u+$5.g);var Oc=$5.value;if(16>Oc)q5[Ch++]=Oc,Oc!=0&&(H5=Oc);else{var iC=Oc==16,G5=Oc-16,sC=Nb[G5],K5=me(pl,Tb[G5])+sC;if(Ch+K5>G0)break n;for(var aC=iC?H5:0;0<K5--;)q5[Ch++]=aC}}mg=1;break n}mg||(z5.a=3),W0=mg}(W0=W0&&!dl.h)&&(dg=k(Qb,Jb,8,bh,hg)),W0&&dg!=0?$0=dg:(H0.a=3,$0=0)}if($0==0)break r;if(z0&&bb[Kt]==1&&(z0=U0[An].g==0),j5+=U0[An].g,An+=$0,3>=Kt){var kh,gg=Nh[0];for(kh=1;kh<cn;++kh)Nh[kh]>gg&&(gg=Nh[kh]);M5+=gg}}if(ca.nd=z0,ca.Qb=0,z0&&(ca.qb=(Fc[3][Dc[3]+0].value<<24|Fc[1][Dc[1]+0].value<<16|Fc[2][Dc[2]+0].value)>>>0,j5==0&&256>Fc[0][Dc[0]+0].value&&(ca.Qb=1,ca.qb+=Fc[0][Dc[0]+0].value<<8)),ca.jc=!ca.Qb&&6>M5,ca.jc){var K0,mo=ca;for(K0=0;K0<ti;++K0){var ml=K0,gl=mo.pd[ml],Y0=mo.G[0][mo.H[0]+ml];256<=Y0.value?(gl.g=Y0.g+256,gl.value=Y0.value):(gl.g=0,gl.value=0,ml>>=tn(Y0,8,gl),ml>>=tn(mo.G[1][mo.H[1]+ml],16,gl),ml>>=tn(mo.G[2][mo.H[2]+ml],0,gl),tn(mo.G[3][mo.H[3]+ml],24,gl))}}}zn.vc=ri,zn.Wb=Bi,zn.Ya=V0,zn.yc=fg,Vr=1;break t}Vr=0}if(!(H=Vr)){L.a=3;break e}if(0<ke){if(ie.ua=1<<ke,!at(ie.Wa,ke)){L.a=1,H=0;break e}}else ie.ua=0;var vg=L,Y5=W,oC=K,yg=vg.s,xg=yg.xc;if(vg.c=Y5,vg.i=oC,yg.md=gt(Y5,xg),yg.wc=xg==0?-1:(1<<xg)-1,A){L.xb=Mb;break e}if((ye=s(W*K))==null){L.a=1,H=0;break e}H=(H=oe(L,ye,0,W,K,K,null))&&!Y.h;break e}return H?(U!=null?U[0]=ye:(e(ye==null),e(A)),L.$=0,A||Ae(ie)):Ae(ie),H}function Ce(f,v){var A=f.c*f.i,L=A+v+16*v;return e(f.c<=v),f.V=s(L),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+A+v,1)}function Le(f,v){var A=f.C,L=v-A,U=f.V,H=f.Ba+f.c*A;for(e(v<=f.l.o);0<L;){var W=16<L?16:L,K=f.l.ma,Y=f.l.width,ie=Y*W,ye=K.ca,ke=K.tb+Y*A,Ie=f.Ta,Se=f.Ua;q(f,W,U,H),gn(Ie,Se,ye,ke,ie),Z(K,A,A+W,ye,ke,Y),L-=W,U+=W*f.c,A+=W}e(A==v),f.C=f.Ma=v}function Ye(){this.ub=this.yd=this.td=this.Rb=0}function nt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function et(){this.Yb=function(){var f=[];return function v(A,L,U){for(var H=U[L],W=0;W<H&&(A.push(U.length>L+1?[]:0),!(U.length<L+1));W++)v(A[W],L+1,U)}(f,0,[3,11]),f}()}function ct(){this.jb=s(3),this.Wc=o([4,8],et),this.Xc=o([4,17],et)}function Ft(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ar(){this.ld=this.La=this.dd=this.tc=0}function or(){this.Na=this.la=0}function Or(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Di(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ta(){this.uc=this.M=this.Nb=0,this.wa=Array(new ar),this.Y=0,this.ya=Array(new Di),this.aa=0,this.l=new ps}function ds(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Yi(){this.cb=this.a=0,this.sc="",this.m=new Be,this.Od=new Ye,this.Kc=new nt,this.ed=new Ft,this.Qa=new pt,this.Ic=this.$c=this.Aa=0,this.D=new ta,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Be),this.ia=0,this.pb=a(4,Or),this.Pa=new ct,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ds),this.Hd=0,this.rb=Array(new or),this.sb=0,this.wa=Array(new ar),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Di),this.L=this.aa=0,this.gd=o([4,2],ar),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ps(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jn(){var f=new Yi;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Ah||(Ah=gc)),f}function $r(f,v,A){return f.a==0&&(f.a=v,f.sc=A,f.cb=0),0}function fu(f,v,A){return 3<=A&&f[v+0]==157&&f[v+1]==1&&f[v+2]==42}function hu(f,v){if(f==null)return 0;if(f.a=0,f.sc="OK",v==null)return $r(f,2,"null VP8Io passed to VP8GetHeaders()");var A=v.data,L=v.w,U=v.ha;if(4>U)return $r(f,7,"Truncated header.");var H=A[L+0]|A[L+1]<<8|A[L+2]<<16,W=f.Od;if(W.Rb=!(1&H),W.td=H>>1&7,W.yd=H>>4&1,W.ub=H>>5,3<W.td)return $r(f,3,"Incorrect keyframe parameters.");if(!W.yd)return $r(f,4,"Frame not displayable.");L+=3,U-=3;var K=f.Kc;if(W.Rb){if(7>U)return $r(f,7,"cannot parse picture header");if(!fu(A,L,U))return $r(f,3,"Bad code word");K.c=16383&(A[L+4]<<8|A[L+3]),K.Td=A[L+4]>>6,K.i=16383&(A[L+6]<<8|A[L+5]),K.Ud=A[L+6]>>6,L+=7,U-=7,f.za=K.c+15>>4,f.Ub=K.i+15>>4,v.width=K.c,v.height=K.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((H=f.Pa).jb,0,255,H.jb.length),e((H=f.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,i(H.Zb,0,0,H.Zb.length),i(H.Lb,0,0,H.Lb)}if(W.ub>U)return $r(f,7,"bad partition length");re(H=f.m,A,L,W.ub),L+=W.ub,U-=W.ub,W.Rb&&(K.Ld=ve(H),K.Kd=ve(H)),K=f.Qa;var Y,ie=f.Pa;if(e(H!=null),e(K!=null),K.Cb=ve(H),K.Cb){if(K.Bb=ve(H),ve(H)){for(K.Fb=ve(H),Y=0;4>Y;++Y)K.Zb[Y]=ve(H)?ge(H,7):0;for(Y=0;4>Y;++Y)K.Lb[Y]=ve(H)?ge(H,6):0}if(K.Bb)for(Y=0;3>Y;++Y)ie.jb[Y]=ve(H)?he(H,8):255}else K.Bb=0;if(H.Ka)return $r(f,3,"cannot parse segment header");if((K=f.ed).zd=ve(H),K.Tb=he(H,6),K.wb=he(H,3),K.Pc=ve(H),K.Pc&&ve(H)){for(ie=0;4>ie;++ie)ve(H)&&(K.vd[ie]=ge(H,6));for(ie=0;4>ie;++ie)ve(H)&&(K.od[ie]=ge(H,6))}if(f.L=K.Tb==0?0:K.zd?1:2,H.Ka)return $r(f,3,"cannot parse filter header");var ye=U;if(U=Y=L,L=Y+ye,K=ye,f.Xb=(1<<he(f.m,2))-1,ye<3*(ie=f.Xb))A=7;else{for(Y+=3*ie,K-=3*ie,ye=0;ye<ie;++ye){var ke=A[U+0]|A[U+1]<<8|A[U+2]<<16;ke>K&&(ke=K),re(f.Jc[+ye],A,Y,ke),Y+=ke,K-=ke,U+=3}re(f.Jc[+ie],A,Y,K),A=Y<L?0:5}if(A!=0)return $r(f,A,"cannot parse partitions");for(A=he(Y=f.m,7),U=ve(Y)?ge(Y,4):0,L=ve(Y)?ge(Y,4):0,K=ve(Y)?ge(Y,4):0,ie=ve(Y)?ge(Y,4):0,Y=ve(Y)?ge(Y,4):0,ye=f.Qa,ke=0;4>ke;++ke){if(ye.Cb){var Ie=ye.Zb[ke];ye.Fb||(Ie+=A)}else{if(0<ke){f.pb[ke]=f.pb[0];continue}Ie=A}var Se=f.pb[ke];Se.Sc[0]=lg[Sr(Ie+U,127)],Se.Sc[1]=ug[Sr(Ie+0,127)],Se.Eb[0]=2*lg[Sr(Ie+L,127)],Se.Eb[1]=101581*ug[Sr(Ie+K,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=lg[Sr(Ie+ie,117)],Se.Qc[1]=ug[Sr(Ie+Y,127)],Se.lc=Ie+Y}if(!W.Rb)return $r(f,4,"Not a key frame.");for(ve(H),W=f.Pa,A=0;4>A;++A){for(U=0;8>U;++U)for(L=0;3>L;++L)for(K=0;11>K;++K)ie=pe(H,Ob[A][U][L][K])?he(H,8):Fb[A][U][L][K],W.Wc[A][U].Yb[L][K]=ie;for(U=0;17>U;++U)W.Xc[A][U]=W.Wc[A][jb[U]]}return f.kc=ve(H),f.kc&&(f.Bd=he(H,8)),f.cb=1}function gc(f,v,A,L,U,H,W){var K=v[U].Yb[A];for(A=0;16>U;++U){if(!pe(f,K[A+0]))return U;for(;!pe(f,K[A+1]);)if(K=v[++U].Yb[0],A=0,U==16)return 16;var Y=v[U+1].Yb;if(pe(f,K[A+2])){var ie=f,ye=0;if(pe(ie,(Ie=K)[(ke=A)+3]))if(pe(ie,Ie[ke+6])){for(K=0,ke=2*(ye=pe(ie,Ie[ke+8]))+(Ie=pe(ie,Ie[ke+9+ye])),ye=0,Ie=Lb[ke];Ie[K];++K)ye+=ye+pe(ie,Ie[K]);ye+=3+(8<<ke)}else pe(ie,Ie[ke+7])?(ye=7+2*pe(ie,165),ye+=pe(ie,145)):ye=5+pe(ie,159);else ye=pe(ie,Ie[ke+4])?3+pe(ie,Ie[ke+5]):2;K=Y[2]}else ye=1,K=Y[1];Y=W+Rb[U],0>(ie=f).b&&fe(ie);var ke,Ie=ie.b,Se=(ke=ie.Ca>>1)-(ie.I>>Ie)>>31;--ie.b,ie.Ca+=Se,ie.Ca|=1,ie.I-=(ke+1&Se)<<Ie,H[Y]=((ye^Se)-Se)*L[(0<U)+0]}return 16}function du(f){var v=f.rb[f.sb-1];v.la=0,v.Na=0,i(f.zc,0,0,f.zc.length),f.ja=0}function vc(f,v){if(f==null)return 0;if(v==null)return $r(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!hu(f,v))return 0;if(e(f.cb),v.ac==null||v.ac(v)){v.ob&&(f.L=0);var A=B0[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=v.v-A>>4,f.zb=v.j-A>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=v.o+15+A>>4,f.Hb=v.va+15+A>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var L=f.ed;for(A=0;4>A;++A){var U;if(f.Qa.Cb){var H=f.Qa.Lb[A];f.Qa.Fb||(H+=L.Tb)}else H=L.Tb;for(U=0;1>=U;++U){var W=f.gd[A][U],K=H;if(L.Pc&&(K+=L.vd[0],U&&(K+=L.od[0])),0<(K=0>K?0:63<K?63:K)){var Y=K;0<L.wb&&(Y=4<L.wb?Y>>2:Y>>1)>9-L.wb&&(Y=9-L.wb),1>Y&&(Y=1),W.dd=Y,W.tc=2*K+Y,W.ld=40<=K?2:15<=K?1:0}else W.tc=0;W.La=U}}}A=0}else $r(f,6,"Frame setup failed"),A=f.a;if(A=A==0){if(A){f.$c=0,0<f.Aa||(f.Ic=Xb);e:{A=f.Ic,L=4*(Y=f.za);var ie=32*Y,ye=Y+1,ke=0<f.L?Y*(0<f.Aa?2:1):0,Ie=(f.Aa==2?2:1)*Y;if((W=L+832+(U=3*(16*A+B0[f.L])/2*ie)+(H=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=W)A=0;else{if(W>f.Vb){if(f.Vb=0,f.Ec=s(W),f.Fc=0,f.Ec==null){A=$r(f,1,"no memory during frame initialization.");break e}f.Vb=W}W=f.Ec,K=f.Fc,f.Ac=W,f.Bc=K,K+=L,f.Gd=a(ie,ds),f.Hd=0,f.rb=a(ye+1,or),f.sb=1,f.wa=ke?a(ke,ar):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=Y),e(!0),f.oc=W,f.pc=K,K+=832,f.ya=a(Ie,Di),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=Y),f.R=16*Y,f.B=8*Y,Y=(ie=B0[f.L])*f.R,ie=ie/2*f.B,f.sa=W,f.ta=K+Y,f.qa=f.sa,f.ra=f.ta+16*A*f.R+ie,f.Ha=f.qa,f.Ia=f.ra+8*A*f.B+ie,f.$c=0,K+=U,f.mb=H?W:null,f.nb=H?K:null,e(K+H<=f.Fc+f.Vb),du(f),i(f.Ac,f.Bc,0,L),A=1}}if(A){if(v.ka=0,v.y=f.sa,v.O=f.ta,v.f=f.qa,v.N=f.ra,v.ea=f.Ha,v.Vd=f.Ia,v.fa=f.R,v.Rc=f.B,v.F=null,v.J=0,!I0){for(A=-255;255>=A;++A)Dn[255+A]=0>A?-A:A;for(A=-1020;1020>=A;++A)fo[1020+A]=-128>A?-128:127<A?127:A;for(A=-112;112>=A;++A)Sh[112+A]=-16>A?-16:15<A?15:A;for(A=-255;510>=A;++A)Lc[255+A]=0>A?0:255<A?255:A;I0=1}kc=no,co=Wo,_h=pu,Mi=Ar,js=ro,mn=to,Ic=Jo,k0=aa,wh=el,Au=Eu,Tu=Zo,ll=so,Nu=tl,Pc=La,bu=io,ul=vs,Eh=Fn,Ms=Ec,ua[0]=Ds,ua[1]=dh,ua[2]=Ia,ua[3]=mh,ua[4]=_c,ua[5]=Ko,ua[6]=ms,ua[7]=gu,ua[8]=Xo,ua[9]=Yo,cl[0]=ka,cl[1]=ph,cl[2]=na,cl[3]=$o,cl[4]=Gr,cl[5]=xc,cl[6]=mu,ho[0]=sa,ho[1]=yc,ho[2]=wc,ho[3]=ia,ho[4]=Er,ho[5]=vu,ho[6]=yu,A=1}else A=0}A&&(A=function(Se,ze){for(Se.M=0;Se.M<Se.Va;++Se.M){var De,xe=Se.Jc[Se.M&Se.Xb],_e=Se.m,Ve=Se;for(De=0;De<Ve.za;++De){var Ke=_e,Ue=Ve,vt=Ue.Ac,ft=Ue.Bc+4*De,Rt=Ue.zc,mt=Ue.ya[Ue.aa+De];if(Ue.Qa.Bb?mt.$b=pe(Ke,Ue.Pa.jb[0])?2+pe(Ke,Ue.Pa.jb[2]):pe(Ke,Ue.Pa.jb[1]):mt.$b=0,Ue.kc&&(mt.Ad=pe(Ke,Ue.Bd)),mt.Za=!pe(Ke,145)+0,mt.Za){var yr=mt.Ob,Tr=0;for(Ue=0;4>Ue;++Ue){var ur,rr=Rt[0+Ue];for(ur=0;4>ur;++ur){rr=Db[vt[ft+ur]][rr];for(var Vr=N5[pe(Ke,rr[0])];0<Vr;)Vr=N5[2*Vr+pe(Ke,rr[Vr])];rr=-Vr,vt[ft+ur]=rr}n(yr,Tr,vt,ft,4),Tr+=4,Rt[0+Ue]=rr}}else rr=pe(Ke,156)?pe(Ke,128)?1:3:pe(Ke,163)?2:0,mt.Ob[0]=rr,i(vt,ft,rr,4),i(Rt,0,rr,4);mt.Dd=pe(Ke,142)?pe(Ke,114)?pe(Ke,183)?1:3:2:0}if(Ve.m.Ka)return $r(Se,7,"Premature end-of-partition0 encountered.");for(;Se.ja<Se.za;++Se.ja){if(Ve=xe,Ke=(_e=Se).rb[_e.sb-1],vt=_e.rb[_e.sb+_e.ja],De=_e.ya[_e.aa+_e.ja],ft=_e.kc?De.Ad:0)Ke.la=vt.la=0,De.Za||(Ke.Na=vt.Na=0),De.Hc=0,De.Gc=0,De.ia=0;else{var jr,Kt;if(Ke=vt,vt=Ve,ft=_e.Pa.Xc,Rt=_e.ya[_e.aa+_e.ja],mt=_e.pb[Rt.$b],Ue=Rt.ad,yr=0,Tr=_e.rb[_e.sb-1],rr=ur=0,i(Ue,yr,0,384),Rt.Za)var An=0,Zi=ft[3];else{Vr=s(16);var Tn=Ke.Na+Tr.Na;if(Tn=Ah(vt,ft[1],Tn,mt.Eb,0,Vr,0),Ke.Na=Tr.Na=(0<Tn)+0,1<Tn)kc(Vr,0,Ue,yr);else{var es=Vr[0]+3>>3;for(Vr=0;256>Vr;Vr+=16)Ue[yr+Vr]=es}An=1,Zi=ft[0]}var Nr=15&Ke.la,xs=15&Tr.la;for(Vr=0;4>Vr;++Vr){var _s=1&xs;for(es=Kt=0;4>es;++es)Nr=Nr>>1|(_s=(Tn=Ah(vt,Zi,Tn=_s+(1&Nr),mt.Sc,An,Ue,yr))>An)<<7,Kt=Kt<<2|(3<Tn?3:1<Tn?2:Ue[yr+0]!=0),yr+=16;Nr>>=4,xs=xs>>1|_s<<7,ur=(ur<<8|Kt)>>>0}for(Zi=Nr,An=xs>>4,jr=0;4>jr;jr+=2){for(Kt=0,Nr=Ke.la>>4+jr,xs=Tr.la>>4+jr,Vr=0;2>Vr;++Vr){for(_s=1&xs,es=0;2>es;++es)Tn=_s+(1&Nr),Nr=Nr>>1|(_s=0<(Tn=Ah(vt,ft[2],Tn,mt.Qc,0,Ue,yr)))<<3,Kt=Kt<<2|(3<Tn?3:1<Tn?2:Ue[yr+0]!=0),yr+=16;Nr>>=2,xs=xs>>1|_s<<5}rr|=Kt<<4*jr,Zi|=Nr<<4<<jr,An|=(240&xs)<<jr}Ke.la=Zi,Tr.la=An,Rt.Hc=ur,Rt.Gc=rr,Rt.ia=43690&rr?0:mt.ia,ft=!(ur|rr)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[De.$b][De.Za],_e.wa[_e.Y+_e.ja].La|=!ft),Ve.Ka)return $r(Se,7,"Premature end-of-file encountered.")}if(du(Se),_e=ze,Ve=1,De=(xe=Se).D,Ke=0<xe.L&&xe.M>=xe.zb&&xe.M<=xe.Va,xe.Aa==0)e:{if(De.M=xe.M,De.uc=Ke,Fa(xe,De),Ve=1,De=(Kt=xe.D).Nb,Ke=(rr=B0[xe.L])*xe.R,vt=rr/2*xe.B,Vr=16*De*xe.R,es=8*De*xe.B,ft=xe.sa,Rt=xe.ta-Ke+Vr,mt=xe.qa,Ue=xe.ra-vt+es,yr=xe.Ha,Tr=xe.Ia-vt+es,xs=(Nr=Kt.M)==0,ur=Nr>=xe.Va-1,xe.Aa==2&&Fa(xe,Kt),Kt.uc)for(_s=(Tn=xe).D.M,e(Tn.D.uc),Kt=Tn.yb;Kt<Tn.Hb;++Kt){An=Kt,Zi=_s;var zn=(ri=(cn=Tn).D).Nb;jr=cn.R;var ri=ri.wa[ri.Y+An],Bi=cn.sa,zs=cn.ta+16*zn*jr+16*An,Oa=ri.dd,qn=ri.tc;if(qn!=0)if(e(3<=qn),cn.L==1)0<An&&ul(Bi,zs,jr,qn+4),ri.La&&Ms(Bi,zs,jr,qn),0<Zi&&bu(Bi,zs,jr,qn+4),ri.La&&Eh(Bi,zs,jr,qn);else{var po=cn.B,Cu=cn.qa,Rc=cn.ra+8*zn*po+8*An,hl=cn.Ha,cn=cn.Ia+8*zn*po+8*An;zn=ri.ld,0<An&&(k0(Bi,zs,jr,qn+4,Oa,zn),Au(Cu,Rc,hl,cn,po,qn+4,Oa,zn)),ri.La&&(ll(Bi,zs,jr,qn,Oa,zn),Pc(Cu,Rc,hl,cn,po,qn,Oa,zn)),0<Zi&&(Ic(Bi,zs,jr,qn+4,Oa,zn),wh(Cu,Rc,hl,cn,po,qn+4,Oa,zn)),ri.La&&(Tu(Bi,zs,jr,qn,Oa,zn),Nu(Cu,Rc,hl,cn,po,qn,Oa,zn))}}if(xe.ia&&alert("todo:DitherRow"),_e.put!=null){if(Kt=16*Nr,Nr=16*(Nr+1),xs?(_e.y=xe.sa,_e.O=xe.ta+Vr,_e.f=xe.qa,_e.N=xe.ra+es,_e.ea=xe.Ha,_e.W=xe.Ia+es):(Kt-=rr,_e.y=ft,_e.O=Rt,_e.f=mt,_e.N=Ue,_e.ea=yr,_e.W=Tr),ur||(Nr-=rr),Nr>_e.o&&(Nr=_e.o),_e.F=null,_e.J=null,xe.Fa!=null&&0<xe.Fa.length&&Kt<Nr&&(_e.J=sl(xe,_e,Kt,Nr-Kt),_e.F=xe.mb,_e.F==null&&_e.F.length==0)){Ve=$r(xe,3,"Could not decode alpha data.");break e}Kt<_e.j&&(rr=_e.j-Kt,Kt=_e.j,e(!(1&rr)),_e.O+=xe.R*rr,_e.N+=xe.B*(rr>>1),_e.W+=xe.B*(rr>>1),_e.F!=null&&(_e.J+=_e.width*rr)),Kt<Nr&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=Kt-_e.j,_e.U=_e.va-_e.v,_e.T=Nr-Kt,Ve=_e.put(_e))}De+1!=xe.Ic||ur||(n(xe.sa,xe.ta-Ke,ft,Rt+16*xe.R,Ke),n(xe.qa,xe.ra-vt,mt,Ue+8*xe.B,vt),n(xe.Ha,xe.Ia-vt,yr,Tr+8*xe.B,vt))}if(!Ve)return $r(Se,6,"Output aborted.")}return 1}(f,v)),v.bc!=null&&v.bc(v),A&=1}return A?(f.cb=0,A):0}function Xi(f,v,A,L,U){U=f[v+A+32*L]+(U>>3),f[v+A+32*L]=-256&U?0>U?0:255:U}function Ho(f,v,A,L,U,H){Xi(f,v,0,A,L+U),Xi(f,v,1,A,L+H),Xi(f,v,2,A,L-H),Xi(f,v,3,A,L-U)}function un(f){return(20091*f>>16)+f}function Oi(f,v,A,L){var U,H=0,W=s(16);for(U=0;4>U;++U){var K=f[v+0]+f[v+8],Y=f[v+0]-f[v+8],ie=(35468*f[v+4]>>16)-un(f[v+12]),ye=un(f[v+4])+(35468*f[v+12]>>16);W[H+0]=K+ye,W[H+1]=Y+ie,W[H+2]=Y-ie,W[H+3]=K-ye,H+=4,v++}for(U=H=0;4>U;++U)K=(f=W[H+0]+4)+W[H+8],Y=f-W[H+8],ie=(35468*W[H+4]>>16)-un(W[H+12]),Xi(A,L,0,0,K+(ye=un(W[H+4])+(35468*W[H+12]>>16))),Xi(A,L,1,0,Y+ie),Xi(A,L,2,0,Y-ie),Xi(A,L,3,0,K-ye),H++,L+=32}function to(f,v,A,L){var U=f[v+0]+4,H=35468*f[v+4]>>16,W=un(f[v+4]),K=35468*f[v+1]>>16;Ho(A,L,0,U+W,f=un(f[v+1]),K),Ho(A,L,1,U+H,f,K),Ho(A,L,2,U-H,f,K),Ho(A,L,3,U-W,f,K)}function Wo(f,v,A,L,U){Oi(f,v,A,L),U&&Oi(f,v+16,A,L+4)}function pu(f,v,A,L){co(f,v+0,A,L,1),co(f,v+32,A,L+128,1)}function Ar(f,v,A,L){var U;for(f=f[v+0]+4,U=0;4>U;++U)for(v=0;4>v;++v)Xi(A,L,v,U,f)}function ro(f,v,A,L){f[v+0]&&Mi(f,v+0,A,L),f[v+16]&&Mi(f,v+16,A,L+4),f[v+32]&&Mi(f,v+32,A,L+128),f[v+48]&&Mi(f,v+48,A,L+128+4)}function no(f,v,A,L){var U,H=s(16);for(U=0;4>U;++U){var W=f[v+0+U]+f[v+12+U],K=f[v+4+U]+f[v+8+U],Y=f[v+4+U]-f[v+8+U],ie=f[v+0+U]-f[v+12+U];H[0+U]=W+K,H[8+U]=W-K,H[4+U]=ie+Y,H[12+U]=ie-Y}for(U=0;4>U;++U)W=(f=H[0+4*U]+3)+H[3+4*U],K=H[1+4*U]+H[2+4*U],Y=H[1+4*U]-H[2+4*U],ie=f-H[3+4*U],A[L+0]=W+K>>3,A[L+16]=ie+Y>>3,A[L+32]=W-K>>3,A[L+48]=ie-Y>>3,L+=64}function ra(f,v,A){var L,U=v-32,H=ys,W=255-f[U-1];for(L=0;L<A;++L){var K,Y=H,ie=W+f[v-1];for(K=0;K<A;++K)f[v+K]=Y[ie+f[U+K]];v+=32}}function dh(f,v){ra(f,v,4)}function yc(f,v){ra(f,v,8)}function ph(f,v){ra(f,v,16)}function na(f,v){var A;for(A=0;16>A;++A)n(f,v+32*A,f,v-32,16)}function $o(f,v){var A;for(A=16;0<A;--A)i(f,v,f[v-1],16),v+=32}function Go(f,v,A){var L;for(L=0;16>L;++L)i(v,A+32*L,f,16)}function ka(f,v){var A,L=16;for(A=0;16>A;++A)L+=f[v-1+32*A]+f[v+A-32];Go(L>>5,f,v)}function Gr(f,v){var A,L=8;for(A=0;16>A;++A)L+=f[v-1+32*A];Go(L>>4,f,v)}function xc(f,v){var A,L=8;for(A=0;16>A;++A)L+=f[v+A-32];Go(L>>4,f,v)}function mu(f,v){Go(128,f,v)}function Mt(f,v,A){return f+2*v+A+2>>2}function Ia(f,v){var A,L=v-32;for(L=new Uint8Array([Mt(f[L-1],f[L+0],f[L+1]),Mt(f[L+0],f[L+1],f[L+2]),Mt(f[L+1],f[L+2],f[L+3]),Mt(f[L+2],f[L+3],f[L+4])]),A=0;4>A;++A)n(f,v+32*A,L,0,L.length)}function mh(f,v){var A=f[v-1],L=f[v-1+32],U=f[v-1+64],H=f[v-1+96];Ne(f,v+0,16843009*Mt(f[v-1-32],A,L)),Ne(f,v+32,16843009*Mt(A,L,U)),Ne(f,v+64,16843009*Mt(L,U,H)),Ne(f,v+96,16843009*Mt(U,H,H))}function Ds(f,v){var A,L=4;for(A=0;4>A;++A)L+=f[v+A-32]+f[v-1+32*A];for(L>>=3,A=0;4>A;++A)i(f,v+32*A,L,4)}function _c(f,v){var A=f[v-1+0],L=f[v-1+32],U=f[v-1+64],H=f[v-1-32],W=f[v+0-32],K=f[v+1-32],Y=f[v+2-32],ie=f[v+3-32];f[v+0+96]=Mt(L,U,f[v-1+96]),f[v+1+96]=f[v+0+64]=Mt(A,L,U),f[v+2+96]=f[v+1+64]=f[v+0+32]=Mt(H,A,L),f[v+3+96]=f[v+2+64]=f[v+1+32]=f[v+0+0]=Mt(W,H,A),f[v+3+64]=f[v+2+32]=f[v+1+0]=Mt(K,W,H),f[v+3+32]=f[v+2+0]=Mt(Y,K,W),f[v+3+0]=Mt(ie,Y,K)}function ms(f,v){var A=f[v+1-32],L=f[v+2-32],U=f[v+3-32],H=f[v+4-32],W=f[v+5-32],K=f[v+6-32],Y=f[v+7-32];f[v+0+0]=Mt(f[v+0-32],A,L),f[v+1+0]=f[v+0+32]=Mt(A,L,U),f[v+2+0]=f[v+1+32]=f[v+0+64]=Mt(L,U,H),f[v+3+0]=f[v+2+32]=f[v+1+64]=f[v+0+96]=Mt(U,H,W),f[v+3+32]=f[v+2+64]=f[v+1+96]=Mt(H,W,K),f[v+3+64]=f[v+2+96]=Mt(W,K,Y),f[v+3+96]=Mt(K,Y,Y)}function Ko(f,v){var A=f[v-1+0],L=f[v-1+32],U=f[v-1+64],H=f[v-1-32],W=f[v+0-32],K=f[v+1-32],Y=f[v+2-32],ie=f[v+3-32];f[v+0+0]=f[v+1+64]=H+W+1>>1,f[v+1+0]=f[v+2+64]=W+K+1>>1,f[v+2+0]=f[v+3+64]=K+Y+1>>1,f[v+3+0]=Y+ie+1>>1,f[v+0+96]=Mt(U,L,A),f[v+0+64]=Mt(L,A,H),f[v+0+32]=f[v+1+96]=Mt(A,H,W),f[v+1+32]=f[v+2+96]=Mt(H,W,K),f[v+2+32]=f[v+3+96]=Mt(W,K,Y),f[v+3+32]=Mt(K,Y,ie)}function gu(f,v){var A=f[v+0-32],L=f[v+1-32],U=f[v+2-32],H=f[v+3-32],W=f[v+4-32],K=f[v+5-32],Y=f[v+6-32],ie=f[v+7-32];f[v+0+0]=A+L+1>>1,f[v+1+0]=f[v+0+64]=L+U+1>>1,f[v+2+0]=f[v+1+64]=U+H+1>>1,f[v+3+0]=f[v+2+64]=H+W+1>>1,f[v+0+32]=Mt(A,L,U),f[v+1+32]=f[v+0+96]=Mt(L,U,H),f[v+2+32]=f[v+1+96]=Mt(U,H,W),f[v+3+32]=f[v+2+96]=Mt(H,W,K),f[v+3+64]=Mt(W,K,Y),f[v+3+96]=Mt(K,Y,ie)}function Yo(f,v){var A=f[v-1+0],L=f[v-1+32],U=f[v-1+64],H=f[v-1+96];f[v+0+0]=A+L+1>>1,f[v+2+0]=f[v+0+32]=L+U+1>>1,f[v+2+32]=f[v+0+64]=U+H+1>>1,f[v+1+0]=Mt(A,L,U),f[v+3+0]=f[v+1+32]=Mt(L,U,H),f[v+3+32]=f[v+1+64]=Mt(U,H,H),f[v+3+64]=f[v+2+64]=f[v+0+96]=f[v+1+96]=f[v+2+96]=f[v+3+96]=H}function Xo(f,v){var A=f[v-1+0],L=f[v-1+32],U=f[v-1+64],H=f[v-1+96],W=f[v-1-32],K=f[v+0-32],Y=f[v+1-32],ie=f[v+2-32];f[v+0+0]=f[v+2+32]=A+W+1>>1,f[v+0+32]=f[v+2+64]=L+A+1>>1,f[v+0+64]=f[v+2+96]=U+L+1>>1,f[v+0+96]=H+U+1>>1,f[v+3+0]=Mt(K,Y,ie),f[v+2+0]=Mt(W,K,Y),f[v+1+0]=f[v+3+32]=Mt(A,W,K),f[v+1+32]=f[v+3+64]=Mt(L,A,W),f[v+1+64]=f[v+3+96]=Mt(U,L,A),f[v+1+96]=Mt(H,U,L)}function wc(f,v){var A;for(A=0;8>A;++A)n(f,v+32*A,f,v-32,8)}function ia(f,v){var A;for(A=0;8>A;++A)i(f,v,f[v-1],8),v+=32}function gs(f,v,A){var L;for(L=0;8>L;++L)i(v,A+32*L,f,8)}function sa(f,v){var A,L=8;for(A=0;8>A;++A)L+=f[v+A-32]+f[v-1+32*A];gs(L>>4,f,v)}function vu(f,v){var A,L=4;for(A=0;8>A;++A)L+=f[v+A-32];gs(L>>3,f,v)}function Er(f,v){var A,L=4;for(A=0;8>A;++A)L+=f[v-1+32*A];gs(L>>3,f,v)}function yu(f,v){gs(128,f,v)}function Qo(f,v,A){var L=f[v-A],U=f[v+0],H=3*(U-L)+ng[1020+f[v-2*A]-f[v+A]],W=P0[112+(H+4>>3)];f[v-A]=ys[255+L+P0[112+(H+3>>3)]],f[v+0]=ys[255+U-W]}function xu(f,v,A,L){var U=f[v+0],H=f[v+A];return Vs[255+f[v-2*A]-f[v-A]]>L||Vs[255+H-U]>L}function _u(f,v,A,L){return 4*Vs[255+f[v-A]-f[v+0]]+Vs[255+f[v-2*A]-f[v+A]]<=L}function wu(f,v,A,L,U){var H=f[v-3*A],W=f[v-2*A],K=f[v-A],Y=f[v+0],ie=f[v+A],ye=f[v+2*A],ke=f[v+3*A];return 4*Vs[255+K-Y]+Vs[255+W-ie]>L?0:Vs[255+f[v-4*A]-H]<=U&&Vs[255+H-W]<=U&&Vs[255+W-K]<=U&&Vs[255+ke-ye]<=U&&Vs[255+ye-ie]<=U&&Vs[255+ie-Y]<=U}function io(f,v,A,L){var U=2*L+1;for(L=0;16>L;++L)_u(f,v+L,A,U)&&Qo(f,v+L,A)}function vs(f,v,A,L){var U=2*L+1;for(L=0;16>L;++L)_u(f,v+L*A,1,U)&&Qo(f,v+L*A,1)}function Fn(f,v,A,L){var U;for(U=3;0<U;--U)io(f,v+=4*A,A,L)}function Ec(f,v,A,L){var U;for(U=3;0<U;--U)vs(f,v+=4,A,L)}function Pa(f,v,A,L,U,H,W,K){for(H=2*H+1;0<U--;){if(wu(f,v,A,H,W))if(xu(f,v,A,K))Qo(f,v,A);else{var Y=f,ie=v,ye=A,ke=Y[ie-2*ye],Ie=Y[ie-ye],Se=Y[ie+0],ze=Y[ie+ye],De=Y[ie+2*ye],xe=27*(Ve=ng[1020+3*(Se-Ie)+ng[1020+ke-ze]])+63>>7,_e=18*Ve+63>>7,Ve=9*Ve+63>>7;Y[ie-3*ye]=ys[255+Y[ie-3*ye]+Ve],Y[ie-2*ye]=ys[255+ke+_e],Y[ie-ye]=ys[255+Ie+xe],Y[ie+0]=ys[255+Se-xe],Y[ie+ye]=ys[255+ze-_e],Y[ie+2*ye]=ys[255+De-Ve]}v+=L}}function Zn(f,v,A,L,U,H,W,K){for(H=2*H+1;0<U--;){if(wu(f,v,A,H,W))if(xu(f,v,A,K))Qo(f,v,A);else{var Y=f,ie=v,ye=A,ke=Y[ie-ye],Ie=Y[ie+0],Se=Y[ie+ye],ze=P0[112+((De=3*(Ie-ke))+4>>3)],De=P0[112+(De+3>>3)],xe=ze+1>>1;Y[ie-2*ye]=ys[255+Y[ie-2*ye]+xe],Y[ie-ye]=ys[255+ke+De],Y[ie+0]=ys[255+Ie-ze],Y[ie+ye]=ys[255+Se-xe]}v+=L}}function Jo(f,v,A,L,U,H){Pa(f,v,A,1,16,L,U,H)}function aa(f,v,A,L,U,H){Pa(f,v,1,A,16,L,U,H)}function Zo(f,v,A,L,U,H){var W;for(W=3;0<W;--W)Zn(f,v+=4*A,A,1,16,L,U,H)}function so(f,v,A,L,U,H){var W;for(W=3;0<W;--W)Zn(f,v+=4,1,A,16,L,U,H)}function el(f,v,A,L,U,H,W,K){Pa(f,v,U,1,8,H,W,K),Pa(A,L,U,1,8,H,W,K)}function Eu(f,v,A,L,U,H,W,K){Pa(f,v,1,U,8,H,W,K),Pa(A,L,1,U,8,H,W,K)}function tl(f,v,A,L,U,H,W,K){Zn(f,v+4*U,U,1,8,H,W,K),Zn(A,L+4*U,U,1,8,H,W,K)}function La(f,v,A,L,U,H,W,K){Zn(f,v+4,1,U,8,H,W,K),Zn(A,L+4,1,U,8,H,W,K)}function ao(){this.ba=new Rn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function oo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nl(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ne,this.yc=new N}function Sc(){this.xb=this.a=0,this.l=new ps,this.ca=new Rn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nl,this.ab=0,this.gc=a(4,oo),this.Oc=0}function oa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ps,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ra(f,v,A,L,U,H,W){for(f=f==null?0:f[v+0],v=0;v<W;++v)U[H+v]=f+A[L+v]&255,f=U[H+v]}function il(f,v,A,L,U,H,W){var K;if(f==null)Ra(null,null,A,L,U,H,W);else for(K=0;K<W;++K)U[H+K]=f[v+K]+A[L+K]&255}function vi(f,v,A,L,U,H,W){if(f==null)Ra(null,null,A,L,U,H,W);else{var K,Y=f[v+0],ie=Y,ye=Y;for(K=0;K<W;++K)ie=ye+(Y=f[v+K])-ie,ye=A[L+K]+(-256&ie?0>ie?0:255:ie)&255,ie=Y,U[H+K]=ye}}function sl(f,v,A,L){var U=v.width,H=v.o;if(e(f!=null&&v!=null),0>A||0>=L||A+L>H)return null;if(!f.Cc){if(f.ga==null){var W;if(f.ga=new oa,(W=f.ga==null)||(W=v.width*v.o,e(f.Gb.length==0),f.Gb=s(W),f.Uc=0,f.Gb==null?W=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,W=1),W=!W),!W){W=f.ga;var K=f.Fa,Y=f.P,ie=f.qc,ye=f.mb,ke=f.nb,Ie=Y+1,Se=ie-1,ze=W.l;if(e(K!=null&&ye!=null&&v!=null),fl[0]=null,fl[1]=Ra,fl[2]=il,fl[3]=vi,W.ca=ye,W.tb=ke,W.c=v.width,W.i=v.height,e(0<W.c&&0<W.i),1>=ie)v=0;else if(W.$a=K[Y+0]>>0&3,W.Z=K[Y+0]>>2&3,W.Lc=K[Y+0]>>4&3,Y=K[Y+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Y)v=0;else if(ze.put=Un,ze.ac=on,ze.bc=Fi,ze.ma=W,ze.width=v.width,ze.height=v.height,ze.Da=v.Da,ze.v=v.v,ze.va=v.va,ze.j=v.j,ze.o=v.o,W.$a)e:{e(W.$a==1),v=Re();t:for(;;){if(v==null){v=0;break e}if(e(W!=null),W.mc=v,v.c=W.c,v.i=W.i,v.l=W.l,v.l.ma=W,v.l.width=W.c,v.l.height=W.i,v.a=0,te(v.m,K,Ie,Se),!Te(W.c,W.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Q(v.s)?(W.ic=1,K=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(K),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(W.ic=0,v=Ce(v,W.c)),!v))break t;v=1;break e}W.mc=null,v=0}else v=Se>=W.c*W.i;W=!v}if(W)return null;f.ga.Lc!=1?f.Ga=0:L=H-A}e(f.ga!=null),e(A+L<=H);e:{if(v=(K=f.ga).c,H=K.l.o,K.$a==0){if(Ie=f.rc,Se=f.Vc,ze=f.Fa,Y=f.P+1+A*v,ie=f.mb,ye=f.nb+A*v,e(Y<=f.P+f.qc),K.Z!=0)for(e(fl[K.Z]!=null),W=0;W<L;++W)fl[K.Z](Ie,Se,ze,Y,ie,ye,v),Ie=ie,Se=ye,ye+=v,Y+=v;else for(W=0;W<L;++W)n(ie,ye,ze,Y,v),Ie=ie,Se=ye,ye+=v,Y+=v;f.rc=Ie,f.Vc=Se}else{if(e(K.mc!=null),v=A+L,e((W=K.mc)!=null),e(v<=W.i),W.C>=v)v=1;else if(K.ic||Ee(),K.ic){K=W.V,Ie=W.Ba,Se=W.c;var De=W.i,xe=(ze=1,Y=W.$/Se,ie=W.$%Se,ye=W.m,ke=W.s,W.$),_e=Se*De,Ve=Se*v,Ke=ke.wc,Ue=xe<Ve?Zr(ke,ie,Y):null;e(xe<=_e),e(v<=De),e(Q(ke));t:for(;;){for(;!ye.h&&xe<Ve;){if(ie&Ke||(Ue=Zr(ke,ie,Y)),e(Ue!=null),ee(ye),256>(De=ln(Ue.G[0],Ue.H[0],ye)))K[Ie+xe]=De,++xe,++ie>=Se&&(ie=0,++Y<=v&&!(Y%16)&&se(W,Y));else{if(!(280>De)){ze=0;break t}De=gi(De-256,ye);var vt,ft=ln(Ue.G[4],Ue.H[4],ye);if(ee(ye),!(xe>=(ft=Sn(Se,ft=gi(ft,ye)))&&_e-xe>=De)){ze=0;break t}for(vt=0;vt<De;++vt)K[Ie+xe+vt]=K[Ie+xe+vt-ft];for(xe+=De,ie+=De;ie>=Se;)ie-=Se,++Y<=v&&!(Y%16)&&se(W,Y);xe<Ve&&ie&Ke&&(Ue=Zr(ke,ie,Y))}e(ye.h==B(ye))}se(W,Y>v?v:Y);break t}!ze||ye.h&&xe<_e?(ze=0,W.a=ye.h?5:3):W.$=xe,v=ze}else v=oe(W,W.V,W.Ba,W.c,W.i,v,Le);if(!v){L=0;break e}}A+L>=H&&(f.Cc=1),L=1}if(!L)return null;if(f.Cc&&((L=f.ga)!=null&&(L.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+A*U}function _(f,v,A,L,U,H){for(;0<U--;){var W,K=f,Y=v+(A?1:0),ie=f,ye=v+(A?0:3);for(W=0;W<L;++W){var ke=ie[ye+4*W];ke!=255&&(ke*=32897,K[Y+4*W+0]=K[Y+4*W+0]*ke>>23,K[Y+4*W+1]=K[Y+4*W+1]*ke>>23,K[Y+4*W+2]=K[Y+4*W+2]*ke>>23)}v+=H}}function V(f,v,A,L,U){for(;0<L--;){var H;for(H=0;H<A;++H){var W=f[v+2*H+0],K=15&(ie=f[v+2*H+1]),Y=4369*K,ie=(240&ie|ie>>4)*Y>>16;f[v+2*H+0]=(240&W|W>>4)*Y>>16&240|(15&W|W<<4)*Y>>16>>4&15,f[v+2*H+1]=240&ie|K}v+=U}}function le(f,v,A,L,U,H,W,K){var Y,ie,ye=255;for(ie=0;ie<U;++ie){for(Y=0;Y<L;++Y){var ke=f[v+Y];H[W+4*Y]=ke,ye&=ke}v+=A,W+=K}return ye!=255}function de(f,v,A,L,U){var H;for(H=0;H<U;++H)A[L+H]=f[v+H]>>8}function Ee(){Bs=_,zr=V,qr=le,gn=de}function Oe(f,v,A){C[f]=function(L,U,H,W,K,Y,ie,ye,ke,Ie,Se,ze,De,xe,_e,Ve,Ke){var Ue,vt=Ke-1>>1,ft=K[Y+0]|ie[ye+0]<<16,Rt=ke[Ie+0]|Se[ze+0]<<16;e(L!=null);var mt=3*ft+Rt+131074>>2;for(v(L[U+0],255&mt,mt>>16,De,xe),H!=null&&(mt=3*Rt+ft+131074>>2,v(H[W+0],255&mt,mt>>16,_e,Ve)),Ue=1;Ue<=vt;++Ue){var yr=K[Y+Ue]|ie[ye+Ue]<<16,Tr=ke[Ie+Ue]|Se[ze+Ue]<<16,ur=ft+yr+Rt+Tr+524296,rr=ur+2*(yr+Rt)>>3;mt=rr+ft>>1,ft=(ur=ur+2*(ft+Tr)>>3)+yr>>1,v(L[U+2*Ue-1],255&mt,mt>>16,De,xe+(2*Ue-1)*A),v(L[U+2*Ue-0],255&ft,ft>>16,De,xe+(2*Ue-0)*A),H!=null&&(mt=ur+Rt>>1,ft=rr+Tr>>1,v(H[W+2*Ue-1],255&mt,mt>>16,_e,Ve+(2*Ue-1)*A),v(H[W+2*Ue+0],255&ft,ft>>16,_e,Ve+(2*Ue+0)*A)),ft=yr,Rt=Tr}1&Ke||(mt=3*ft+Rt+131074>>2,v(L[U+Ke-1],255&mt,mt>>16,De,xe+(Ke-1)*A),H!=null&&(mt=3*Rt+ft+131074>>2,v(H[W+Ke-1],255&mt,mt>>16,_e,Ve+(Ke-1)*A)))}}function Xe(){Us[L0]=Bb,Us[R0]=C5,Us[S5]=Vb,Us[F0]=k5,Us[D0]=I5,Us[ig]=P5,Us[A5]=Ub,Us[sg]=C5,Us[ag]=k5,Us[O0]=I5,Us[og]=P5}function ht(f){return f&-16384?0>f?0:255:f>>zb}function d(f,v){return ht((19077*f>>8)+(26149*v>>8)-14234)}function b(f,v,A){return ht((19077*f>>8)-(6419*v>>8)-(13320*A>>8)+8708)}function D(f,v){return ht((19077*f>>8)+(33050*v>>8)-17685)}function G(f,v,A,L,U){L[U+0]=d(f,A),L[U+1]=b(f,v,A),L[U+2]=D(f,v)}function we(f,v,A,L,U){L[U+0]=D(f,v),L[U+1]=b(f,v,A),L[U+2]=d(f,A)}function Pe(f,v,A,L,U){var H=b(f,v,A);v=H<<3&224|D(f,v)>>3,L[U+0]=248&d(f,A)|H>>5,L[U+1]=v}function Qe(f,v,A,L,U){var H=240&D(f,v)|15;L[U+0]=240&d(f,A)|b(f,v,A)>>4,L[U+1]=H}function Vt(f,v,A,L,U){L[U+0]=255,G(f,v,A,L,U+1)}function tr(f,v,A,L,U){we(f,v,A,L,U),L[U+3]=255}function Ut(f,v,A,L,U){G(f,v,A,L,U),L[U+3]=255}function Sr(f,v){return 0>f?0:f>v?v:f}function Br(f,v,A){C[f]=function(L,U,H,W,K,Y,ie,ye,ke){for(var Ie=ye+(-2&ke)*A;ye!=Ie;)v(L[U+0],H[W+0],K[Y+0],ie,ye),v(L[U+1],H[W+0],K[Y+0],ie,ye+A),U+=2,++W,++Y,ye+=2*A;1&ke&&v(L[U+0],H[W+0],K[Y+0],ie,ye)}}function la(f,v,A){return A==0?f==0?v==0?6:5:v==0?4:0:A}function ei(f,v,A,L,U){switch(f>>>30){case 3:co(v,A,L,U,0);break;case 2:mn(v,A,L,U);break;case 1:Mi(v,A,L,U)}}function Fa(f,v){var A,L,U=v.M,H=v.Nb,W=f.oc,K=f.pc+40,Y=f.oc,ie=f.pc+584,ye=f.oc,ke=f.pc+600;for(A=0;16>A;++A)W[K+32*A-1]=129;for(A=0;8>A;++A)Y[ie+32*A-1]=129,ye[ke+32*A-1]=129;for(0<U?W[K-1-32]=Y[ie-1-32]=ye[ke-1-32]=129:(i(W,K-32-1,127,21),i(Y,ie-32-1,127,9),i(ye,ke-32-1,127,9)),L=0;L<f.za;++L){var Ie=v.ya[v.aa+L];if(0<L){for(A=-1;16>A;++A)n(W,K+32*A-4,W,K+32*A+12,4);for(A=-1;8>A;++A)n(Y,ie+32*A-4,Y,ie+32*A+4,4),n(ye,ke+32*A-4,ye,ke+32*A+4,4)}var Se=f.Gd,ze=f.Hd+L,De=Ie.ad,xe=Ie.Hc;if(0<U&&(n(W,K-32,Se[ze].y,0,16),n(Y,ie-32,Se[ze].f,0,8),n(ye,ke-32,Se[ze].ea,0,8)),Ie.Za){var _e=W,Ve=K-32+16;for(0<U&&(L>=f.za-1?i(_e,Ve,Se[ze].y[15],4):n(_e,Ve,Se[ze+1].y,0,4)),A=0;4>A;A++)_e[Ve+128+A]=_e[Ve+256+A]=_e[Ve+384+A]=_e[Ve+0+A];for(A=0;16>A;++A,xe<<=2)_e=W,Ve=K+R5[A],ua[Ie.Ob[A]](_e,Ve),ei(xe,De,16*+A,_e,Ve)}else if(_e=la(L,U,Ie.Ob[0]),cl[_e](W,K),xe!=0)for(A=0;16>A;++A,xe<<=2)ei(xe,De,16*+A,W,K+R5[A]);for(A=Ie.Gc,_e=la(L,U,Ie.Dd),ho[_e](Y,ie),ho[_e](ye,ke),xe=De,_e=Y,Ve=ie,255&(Ie=A>>0)&&(170&Ie?_h(xe,256,_e,Ve):js(xe,256,_e,Ve)),Ie=ye,xe=ke,255&(A>>=8)&&(170&A?_h(De,320,Ie,xe):js(De,320,Ie,xe)),U<f.Ub-1&&(n(Se[ze].y,0,W,K+480,16),n(Se[ze].f,0,Y,ie+224,8),n(Se[ze].ea,0,ye,ke+224,8)),A=8*H*f.B,Se=f.sa,ze=f.ta+16*L+16*H*f.R,De=f.qa,Ie=f.ra+8*L+A,xe=f.Ha,_e=f.Ia+8*L+A,A=0;16>A;++A)n(Se,ze+A*f.R,W,K+32*A,16);for(A=0;8>A;++A)n(De,Ie+A*f.B,Y,ie+32*A,8),n(xe,_e+A*f.B,ye,ke+32*A,8)}}function Da(f,v,A,L,U,H,W,K,Y){var ie=[0],ye=[0],ke=0,Ie=Y!=null?Y.kd:0,Se=Y??new rl;if(f==null||12>A)return 7;Se.data=f,Se.w=v,Se.ha=A,v=[v],A=[A],Se.gb=[Se.gb];e:{var ze=v,De=A,xe=Se.gb;if(e(f!=null),e(De!=null),e(xe!=null),xe[0]=0,12<=De[0]&&!r(f,ze[0],"RIFF")){if(r(f,ze[0]+8,"WEBP")){xe=3;break e}var _e=Ze(f,ze[0]+4);if(12>_e||4294967286<_e){xe=3;break e}if(Ie&&_e>De[0]-8){xe=7;break e}xe[0]=_e,ze[0]+=12,De[0]-=12}xe=0}if(xe!=0)return xe;for(_e=0<Se.gb[0],A=A[0];;){e:{var Ve=f;De=v,xe=A;var Ke=ie,Ue=ye,vt=ze=[0];if((mt=ke=[ke])[0]=0,8>xe[0])xe=7;else{if(!r(Ve,De[0],"VP8X")){if(Ze(Ve,De[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var ft=Ze(Ve,De[0]+8),Rt=1+qe(Ve,De[0]+12);if(2147483648<=Rt*(Ve=1+qe(Ve,De[0]+15))){xe=3;break e}vt!=null&&(vt[0]=ft),Ke!=null&&(Ke[0]=Rt),Ue!=null&&(Ue[0]=Ve),De[0]+=18,xe[0]-=18,mt[0]=1}xe=0}}if(ke=ke[0],ze=ze[0],xe!=0)return xe;if(De=!!(2&ze),!_e&&ke)return 3;if(H!=null&&(H[0]=!!(16&ze)),W!=null&&(W[0]=De),K!=null&&(K[0]=0),W=ie[0],ze=ye[0],ke&&De&&Y==null){xe=0;break}if(4>A){xe=7;break}if(_e&&ke||!_e&&!ke&&!r(f,v[0],"ALPH")){A=[A],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{ft=f,xe=v,_e=A;var mt=Se.gb;Ke=Se.na,Ue=Se.P,vt=Se.Sa,Rt=22,e(ft!=null),e(_e!=null),Ve=xe[0];var yr=_e[0];for(e(Ke!=null),e(vt!=null),Ke[0]=null,Ue[0]=null,vt[0]=0;;){if(xe[0]=Ve,_e[0]=yr,8>yr){xe=7;break e}var Tr=Ze(ft,Ve+4);if(4294967286<Tr){xe=3;break e}var ur=8+Tr+1&-2;if(Rt+=ur,0<mt&&Rt>mt){xe=3;break e}if(!r(ft,Ve,"VP8 ")||!r(ft,Ve,"VP8L")){xe=0;break e}if(yr[0]<ur){xe=7;break e}r(ft,Ve,"ALPH")||(Ke[0]=ft,Ue[0]=Ve+8,vt[0]=Tr),Ve+=ur,yr-=ur}}if(A=A[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],xe!=0)break}A=[A],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(mt=f,xe=v,_e=A,Ke=Se.gb[0],Ue=Se.Ja,vt=Se.xa,ft=xe[0],Ve=!r(mt,ft,"VP8 "),Rt=!r(mt,ft,"VP8L"),e(mt!=null),e(_e!=null),e(Ue!=null),e(vt!=null),8>_e[0])xe=7;else{if(Ve||Rt){if(mt=Ze(mt,ft+4),12<=Ke&&mt>Ke-12){xe=3;break e}if(Ie&&mt>_e[0]-8){xe=7;break e}Ue[0]=mt,xe[0]+=8,_e[0]-=8,vt[0]=Rt}else vt[0]=5<=_e[0]&&mt[ft+0]==47&&!(mt[ft+4]>>5),Ue[0]=_e[0];xe=0}if(A=A[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],v=v[0],xe!=0)break;if(4294967286<Se.Ja)return 3;if(K==null||De||(K[0]=Se.xa?2:1),W=[W],ze=[ze],Se.xa){if(5>A){xe=7;break}K=W,Ie=ze,De=H,f==null||5>A?f=0:5<=A&&f[v+0]==47&&!(f[v+4]>>5)?(_e=[0],mt=[0],Ke=[0],te(Ue=new I,f,v,A),xt(Ue,_e,mt,Ke)?(K!=null&&(K[0]=_e[0]),Ie!=null&&(Ie[0]=mt[0]),De!=null&&(De[0]=Ke[0]),f=1):f=0):f=0}else{if(10>A){xe=7;break}K=ze,f==null||10>A||!fu(f,v+3,A-3)?f=0:(Ie=f[v+0]|f[v+1]<<8|f[v+2]<<16,De=16383&(f[v+7]<<8|f[v+6]),f=16383&(f[v+9]<<8|f[v+8]),1&Ie||3<(Ie>>1&7)||!(Ie>>4&1)||Ie>>5>=Se.Ja||!De||!f?f=0:(W&&(W[0]=De),K&&(K[0]=f),f=1))}if(!f||(W=W[0],ze=ze[0],ke&&(ie[0]!=W||ye[0]!=ze)))return 3;Y!=null&&(Y[0]=Se,Y.offset=v-Y.w,e(4294967286>v-Y.w),e(Y.offset==Y.ha-A));break}return xe==0||xe==7&&ke&&Y==null?(H!=null&&(H[0]|=Se.na!=null&&0<Se.na.length),L!=null&&(L[0]=W),U!=null&&(U[0]=ze),0):xe}function gh(f,v,A){var L=v.width,U=v.height,H=0,W=0,K=L,Y=U;if(v.Da=f!=null&&0<f.Da,v.Da&&(K=f.cd,Y=f.bd,H=f.v,W=f.j,11>A||(H&=-2,W&=-2),0>H||0>W||0>=K||0>=Y||H+K>L||W+Y>U))return 0;if(v.v=H,v.j=W,v.va=H+K,v.o=W+Y,v.U=K,v.T=Y,v.da=f!=null&&0<f.da,v.da){if(!We(K,Y,A=[f.ib],H=[f.hb]))return 0;v.ib=A[0],v.hb=H[0]}return v.ob=f!=null&&f.ob,v.Kb=f==null||!f.Sd,v.da&&(v.ob=v.ib<3*L/4&&v.hb<3*U/4,v.Kb=0),1}function vh(f){if(f==null)return 2;if(11>f.S){var v=f.f.RGBA;v.fb+=(f.height-1)*v.A,v.A=-v.A}else v=f.f.kb,f=f.height,v.O+=(f-1)*v.fa,v.fa=-v.fa,v.N+=(f-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(f-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(f-1)*v.lb,v.lb=-v.lb);return 0}function Ac(f,v,A,L){if(L==null||0>=f||0>=v)return 2;if(A!=null){if(A.Da){var U=A.cd,H=A.bd,W=-2&A.v,K=-2&A.j;if(0>W||0>K||0>=U||0>=H||W+U>f||K+H>v)return 2;f=U,v=H}if(A.da){if(!We(f,v,U=[A.ib],H=[A.hb]))return 2;f=U[0],v=H[0]}}L.width=f,L.height=v;e:{var Y=L.width,ie=L.height;if(f=L.S,0>=Y||0>=ie||!(f>=L0&&13>f))f=2;else{if(0>=L.Rd&&L.sd==null){W=H=U=v=0;var ye=(K=Y*F5[f])*ie;if(11>f||(H=(ie+1)/2*(v=(Y+1)/2),f==12&&(W=(U=Y)*ie)),(ie=s(ye+2*H+W))==null){f=1;break e}L.sd=ie,11>f?((Y=L.f.RGBA).eb=ie,Y.fb=0,Y.A=K,Y.size=ye):((Y=L.f.kb).y=ie,Y.O=0,Y.fa=K,Y.Fd=ye,Y.f=ie,Y.N=0+ye,Y.Ab=v,Y.Cd=H,Y.ea=ie,Y.W=0+ye+H,Y.Db=v,Y.Ed=H,f==12&&(Y.F=ie,Y.J=0+ye+2*H),Y.Tc=W,Y.lb=U)}if(v=1,U=L.S,H=L.width,W=L.height,U>=L0&&13>U)if(11>U)f=L.f.RGBA,v&=(K=Math.abs(f.A))*(W-1)+H<=f.size,v&=K>=H*F5[U],v&=f.eb!=null;else{f=L.f.kb,K=(H+1)/2,ye=(W+1)/2,Y=Math.abs(f.fa),ie=Math.abs(f.Ab);var ke=Math.abs(f.Db),Ie=Math.abs(f.lb),Se=Ie*(W-1)+H;v&=Y*(W-1)+H<=f.Fd,v&=ie*(ye-1)+K<=f.Cd,v=(v&=ke*(ye-1)+K<=f.Ed)&Y>=H&ie>=K&ke>=K,v&=f.y!=null,v&=f.f!=null,v&=f.ea!=null,U==12&&(v&=Ie>=H,v&=Se<=f.Tc,v&=f.F!=null)}else v=0;f=v?0:2}}return f!=0||A!=null&&A.fd&&(f=vh(L)),f}var ti=64,Tc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Nc=24,bc=32,yh=8,Qi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(f){return f},C.Predictor2=function(f,v,A){return v[A+0]},C.Predictor3=function(f,v,A){return v[A+1]},C.Predictor4=function(f,v,A){return v[A-1]},C.Predictor5=function(f,v,A){return ut(ut(f,v[A+1]),v[A+0])},C.Predictor6=function(f,v,A){return ut(f,v[A-1])},C.Predictor7=function(f,v,A){return ut(f,v[A+0])},C.Predictor8=function(f,v,A){return ut(v[A-1],v[A+0])},C.Predictor9=function(f,v,A){return ut(v[A+0],v[A+1])},C.Predictor10=function(f,v,A){return ut(ut(f,v[A-1]),ut(v[A+0],v[A+1]))},C.Predictor11=function(f,v,A){var L=v[A+0];return 0>=Dt(L>>24&255,f>>24&255,(v=v[A-1])>>24&255)+Dt(L>>16&255,f>>16&255,v>>16&255)+Dt(L>>8&255,f>>8&255,v>>8&255)+Dt(255&L,255&f,255&v)?L:f},C.Predictor12=function(f,v,A){var L=v[A+0];return(St((f>>24&255)+(L>>24&255)-((v=v[A-1])>>24&255))<<24|St((f>>16&255)+(L>>16&255)-(v>>16&255))<<16|St((f>>8&255)+(L>>8&255)-(v>>8&255))<<8|St((255&f)+(255&L)-(255&v)))>>>0},C.Predictor13=function(f,v,A){var L=v[A-1];return(bt((f=ut(f,v[A+0]))>>24&255,L>>24&255)<<24|bt(f>>16&255,L>>16&255)<<16|bt(f>>8&255,L>>8&255)<<8|bt(f>>0&255,L>>0&255))>>>0};var rg=C.PredictorAdd0;C.PredictorAdd1=Ct,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var xh=C.PredictorAdd2;Gt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var N0,Os=C.ColorIndexInverseTransform,Cc=C.MapARGB,b0=C.VP8LColorIndexInverseTransformAlpha,C0=C.MapAlpha,al=C.VP8LPredictorsAdd=[];al.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Su,Ji,ji,ol,lo,uo,kc,co,mn,_h,Mi,js,Ic,k0,wh,Au,Tu,ll,Nu,Pc,bu,ul,Eh,Ms,Bs,zr,qr,gn,Dn=s(511),fo=s(2041),Sh=s(225),Lc=s(767),I0=0,ng=fo,P0=Sh,ys=Lc,Vs=Dn,L0=0,R0=1,S5=2,F0=3,D0=4,ig=5,A5=6,sg=7,ag=8,O0=9,og=10,Tb=[2,3,7],Nb=[3,3,11],T5=[280,256,256,256,40],bb=[0,1,1,1,0],Cb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],kb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ib=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Pb=8,lg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ug=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ah=null,Lb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Rb=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],N5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Fb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Db=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ob=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],jb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cl=[],ua=[],ho=[],Mb=1,b5=2,fl=[],Us=[];Oe("UpsampleRgbLinePair",G,3),Oe("UpsampleBgrLinePair",we,3),Oe("UpsampleRgbaLinePair",Ut,4),Oe("UpsampleBgraLinePair",tr,4),Oe("UpsampleArgbLinePair",Vt,4),Oe("UpsampleRgba4444LinePair",Qe,2),Oe("UpsampleRgb565LinePair",Pe,2);var Bb=C.UpsampleRgbLinePair,Vb=C.UpsampleBgrLinePair,C5=C.UpsampleRgbaLinePair,k5=C.UpsampleBgraLinePair,I5=C.UpsampleArgbLinePair,P5=C.UpsampleRgba4444LinePair,Ub=C.UpsampleRgb565LinePair,j0=16,M0=1<<j0-1,Th=-227,cg=482,zb=6,L5=0,qb=s(256),Hb=s(256),Wb=s(256),$b=s(256),Gb=s(cg-Th),Kb=s(cg-Th);Br("YuvToRgbRow",G,3),Br("YuvToBgrRow",we,3),Br("YuvToRgbaRow",Ut,4),Br("YuvToBgraRow",tr,4),Br("YuvToArgbRow",Vt,4),Br("YuvToRgba4444Row",Qe,2),Br("YuvToRgb565Row",Pe,2);var R5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],B0=[0,2,8],Yb=[8,7,6,4,4,2,2,2,1,1,1,1],Xb=1;this.WebPDecodeRGBA=function(f,v,A,L,U){var H=R0,W=new ao,K=new Rn;W.ba=K,K.S=H,K.width=[K.width],K.height=[K.height];var Y=K.width,ie=K.height,ye=new Ri;if(ye==null||f==null)var ke=2;else e(ye!=null),ke=Da(f,v,A,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(ke!=0?Y=0:(Y!=null&&(Y[0]=ye.width[0]),ie!=null&&(ie[0]=ye.height[0]),Y=1),Y){K.width=K.width[0],K.height=K.height[0],L!=null&&(L[0]=K.width),U!=null&&(U[0]=K.height);e:{if(L=new ps,(U=new rl).data=f,U.w=v,U.ha=A,U.kd=1,v=[0],e(U!=null),((f=Da(U.data,U.w,U.ha,null,null,null,v,null,U))==0||f==7)&&v[0]&&(f=4),(v=f)==0){if(e(W!=null),L.data=U.data,L.w=U.w+U.offset,L.ha=U.ha-U.offset,L.put=Un,L.ac=on,L.bc=Fi,L.ma=W,U.xa){if((f=Re())==null){W=1;break e}if(function(Ie,Se){var ze=[0],De=[0],xe=[0];t:for(;;){if(Ie==null)return 0;if(Se==null)return Ie.a=2,0;if(Ie.l=Se,Ie.a=0,te(Ie.m,Se.data,Se.w,Se.ha),!xt(Ie.m,ze,De,xe)){Ie.a=3;break t}if(Ie.xb=b5,Se.width=ze[0],Se.height=De[0],!Te(ze[0],De[0],1,Ie,null))break t;return 1}return e(Ie.a!=0),0}(f,L)){if(L=(v=Ac(L.width,L.height,W.Oa,W.ba))==0){t:{L=f;r:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((A=L.l)!=null),e((U=A.ma)!=null),L.xb!=0){if(L.ca=U.ba,L.tb=U.tb,e(L.ca!=null),!gh(U.Oa,A,F0)){L.a=2;break r}if(!Ce(L,A.width)||A.da)break r;if((A.da||Zt(L.ca.S))&&Ee(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Ee()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!at(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!oe(L,L.V,L.Ba,L.c,L.i,A.o,ae))break r;U.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(v=f.a)}else v=f.a}else{if((f=new Jn)==null){W=1;break e}if(f.Fa=U.na,f.P=U.P,f.qc=U.Sa,hu(f,L)){if((v=Ac(L.width,L.height,W.Oa,W.ba))==0){if(f.Aa=0,A=W.Oa,e((U=f)!=null),A!=null){if(0<(Y=0>(Y=A.Md)?0:100<Y?255:255*Y/100)){for(ie=ye=0;4>ie;++ie)12>(ke=U.pb[ie]).lc&&(ke.ia=Y*Yb[0>ke.lc?0:ke.lc]>>3),ye|=ke.ia;ye&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=A.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}vc(f,L)||(v=f.a)}}else v=f.a}v==0&&W.Oa!=null&&W.Oa.fd&&(v=vh(W.ba))}W=v}H=W!=0?null:11>H?K.f.RGBA.eb:K.f.kb.y}else H=null;return H};var F5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(C,R){for(var O="",k=0;k<4;k++)O+=String.fromCharCode(C[R++]);return O}function c(C,R){return(C[R+0]<<0|C[R+1]<<8|C[R+2]<<16)>>>0}function h(C,R){return(C[R+0]<<0|C[R+1]<<8|C[R+2]<<16|C[R+3]<<24)>>>0}new l;var p=[0],m=[0],x=[],g=new l,S=t,w=function(C,R){var O={},k=0,N=!1,F=0,ne=0;if(O.frames=[],!function(M,B,z,ee){for(var fe=0;fe<ee;fe++)if(M[B+fe]!=z.charCodeAt(fe))return!0;return!1}(C,R,"RIFF",4)){for(h(C,R+=4),R+=8;R<C.length;){var re=u(C,R),he=h(C,R+=4);R+=4;var ge=he+(1&he);switch(re){case"VP8 ":case"VP8L":O.frames[k]===void 0&&(O.frames[k]={}),(me=O.frames[k]).src_off=N?ne:R-8,me.src_size=F+he+8,k++,N&&(N=!1,F=0,ne=0);break;case"VP8X":(me=O.header={}).feature_flags=C[R];var te=R+4;me.canvas_width=1+c(C,te),te+=3,me.canvas_height=1+c(C,te),te+=3;break;case"ALPH":N=!0,F=ge+8,ne=R-8;break;case"ANIM":(me=O.header).bgcolor=h(C,R),te=R+4,me.loop_count=(Be=C)[(I=te)+0]<<0|Be[I+1]<<8,te+=2;break;case"ANMF":var ce,me;(me=O.frames[k]={}).offset_x=2*c(C,R),R+=3,me.offset_y=2*c(C,R),R+=3,me.width=1+c(C,R),R+=3,me.height=1+c(C,R),R+=3,me.duration=c(C,R),R+=3,ce=C[R++],me.dispose=1&ce,me.blend=ce>>1&1}re!="ANMF"&&(R+=ge)}var Be,I;return O}}(S,0);w.response=S,w.rgbaoutput=!0,w.dataurl=!1;var E=w.header?w.header:null,T=w.frames?w.frames:null;if(E){E.loop_counter=E.loop_count,p=[E.canvas_height],m=[E.canvas_width];for(var j=0;j<T.length&&T[j].blend!=0;j++);}var X=T[0],J=g.WebPDecodeRGBA(S,X.src_off,X.src_size,m,p);X.rgba=J,X.imgwidth=m[0],X.imgheight=p[0];for(var P=0;P<m[0]*p[0]*4;P++)x[P]=J[P];return this.width=m,this.height=p,this.data=x,this}(function(t){var e=function(){return typeof Yv=="function"},r=function(p,m,x,g){var S=4,w=a;switch(g){case t.image_compression.FAST:S=1,w=s;break;case t.image_compression.MEDIUM:S=6,w=o;break;case t.image_compression.SLOW:S=9,w=l}p=n(p,m,x,w);var E=Yv(p,{level:S});return t.__addimage__.arrayBufferToBinaryString(E)},n=function(p,m,x,g){for(var S,w,E,T=p.length/m,j=new Uint8Array(p.length+T),X=c(),J=0;J<T;J+=1){if(E=J*m,S=p.subarray(E,E+m),g)j.set(g(S,x,w),E+J);else{for(var P,C=X.length,R=[];P<C;P+=1)R[P]=X[P](S,x,w);var O=h(R.concat());j.set(R[O],E+J)}w=S}return j},i=function(p){var m=Array.apply([],p);return m.unshift(0),m},s=function(p,m){var x,g=[],S=p.length;g[0]=1;for(var w=0;w<S;w+=1)x=p[w-m]||0,g[w+1]=p[w]-x+256&255;return g},a=function(p,m,x){var g,S=[],w=p.length;S[0]=2;for(var E=0;E<w;E+=1)g=x&&x[E]||0,S[E+1]=p[E]-g+256&255;return S},o=function(p,m,x){var g,S,w=[],E=p.length;w[0]=3;for(var T=0;T<E;T+=1)g=p[T-m]||0,S=x&&x[T]||0,w[T+1]=p[T]+256-(g+S>>>1)&255;return w},l=function(p,m,x){var g,S,w,E,T=[],j=p.length;T[0]=4;for(var X=0;X<j;X+=1)g=p[X-m]||0,S=x&&x[X]||0,w=x&&x[X-m]||0,E=u(g,S,w),T[X+1]=p[X]-E+256&255;return T},u=function(p,m,x){if(p===m&&m===x)return p;var g=Math.abs(m-x),S=Math.abs(p-x),w=Math.abs(p+m-x-x);return g<=S&&g<=w?p:S<=w?m:x},c=function(){return[i,s,a,o,l]},h=function(p){var m=p.map(function(x){return x.reduce(function(g,S){return g+Math.abs(S)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(p,m,x,g){var S,w,E,T,j,X,J,P,C,R,O,k,N,F,ne,re=this.decode.FLATE_DECODE,he="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(E=new xD(p)).imgData,w=E.bits,S=E.colorSpace,j=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){C=(P=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,O=new Uint8Array(C*E.colors),R=new Uint8Array(C);var ge,te=E.pixelBitlength-E.bits;for(F=0,ne=0;F<C;F++){for(N=P[F],ge=0;ge<te;)O[ne++]=N>>>ge&255,ge+=E.bits;R[F]=N>>>ge&255}}if(E.bits===16){C=(P=new Uint32Array(E.decodePixels().buffer)).length,O=new Uint8Array(C*(32/E.pixelBitlength)*E.colors),R=new Uint8Array(C*(32/E.pixelBitlength)),k=E.colors>1,F=0,ne=0;for(var ce=0;F<C;)N=P[F++],O[ne++]=N>>>0&255,k&&(O[ne++]=N>>>16&255,N=P[F++],O[ne++]=N>>>0&255),R[ce++]=N>>>16&255;w=8}g!==t.image_compression.NONE&&e()?(p=r(O,E.width*E.colors,E.colors,g),J=r(R,E.width,1,g)):(p=O,J=R,re=void 0)}if(E.colorType===3&&(S=this.color_spaces.INDEXED,X=E.palette,E.transparency.indexed)){var me=E.transparency.indexed,Be=0;for(F=0,C=me.length;F<C;++F)Be+=me[F];if((Be/=255)===C-1&&me.indexOf(0)!==-1)T=[me.indexOf(0)];else if(Be!==C){for(P=E.decodePixels(),R=new Uint8Array(P.length),F=0,C=P.length;F<C;F++)R[F]=me[P[F]];J=r(R,E.width,1)}}var I=function(M){var B;switch(M){case t.image_compression.FAST:B=11;break;case t.image_compression.MEDIUM:B=13;break;case t.image_compression.SLOW:B=14;break;default:B=12}return B}(g);return re===this.decode.FLATE_DECODE&&(he="/Predictor "+I+" "),he+="/Colors "+j+" /BitsPerComponent "+w+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(J&&this.__addimage__.isArrayBuffer(J)||this.__addimage__.isArrayBufferView(J))&&(J=this.__addimage__.arrayBufferToBinaryString(J)),{alias:x,data:p,index:m,filter:re,decodeParameters:he,transparency:T,palette:X,sMask:J,predictor:I,width:E.width,height:E.height,bitsPerComponent:w,colorSpace:S}}}})(Ot.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new _D(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},c=new u2(100).encode(u,100);return t.processJPEG.call(this,c,r,n,i)},t.processGIF87A=t.processGIF89A}(Ot.API),da.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},da.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ur.log("bit decode error:"+r)}},da.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},da.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},da.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},da.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=u}this.pos+=t}},da.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=t}},da.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},da.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},da.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new da(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new u2(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Ot.API),L4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new L4(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new u2(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Ot.API),Ot.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var c=n[u],h=n[u+1],p=n[u+2],m=n[u+3];s[o++]=c,s[o++]=h,s[o++]=p,a[l++]=m}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:x,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ot.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Bc=Ot.API,_p=Bc.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,h=e.doKerning!==!1,p=0,m=t.length,x=0,g=o[0]||l,S=[];for(r=0;r<m;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(p=h&&kr(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/c:0,S.push((o[n]||g)/l+p)),x=n;return S},C4=Bc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Bc.processArabic&&(t=Bc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:_p.apply(this,arguments).reduce(function(s,a){return s+a},0)},k4=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},I4=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,c=[],h=[c],p=r.textIndent||0,m=0,x=0,g=t.split(" "),S=_p.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),E=[];g.map(function(j){(j=j.split(/\s*\n/)).length>1?E=E.concat(j.map(function(X,J){return(J&&X.length?`
`:"")+X})):E.push(j[0])}),g=E,l=C4.apply(this,[w,r])}for(s=0,a=g.length;s<a;s++){var T=0;if(n=g[s],l&&n[0]==`
`&&(n=n.substr(1),T=1),p+m+(x=(i=_p.apply(this,[n,r])).reduce(function(j,X){return j+X},0))>e||T){if(x>e){for(o=k4.apply(this,[n,i,e-(p+m),e]),c.push(o.shift()),c=[o.pop()];o.length;)h.push([o.shift()]);x=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(j,X){return j+X},0)}else c=[n];h.push(c),p=x+l,m=S}else c.push(n),p+=m+x,m=S}return u=l?function(j,X){return(X?w:"")+j.join(" ")}:function(j){return j.join(" ")},h.map(u)},Bc.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var h=this.internal.getFont(c.fontName,c.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(I4.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},a=t.__fontmetrics__.compress=function(h){var p,m,x,g,S=["{"];for(var w in h){if(p=h[w],isNaN(parseInt(w,10))?m="'"+w+"'":(w=parseInt(w,10),m=(m=s(w).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof p=="number")p<0?(x=s(p).slice(3),g="-"):(x=s(p).slice(2),g=""),x=g+x.slice(0,-1)+n[x.slice(-1)];else{if(kr(p)!=="object")throw new Error("Don't know what to do with value type "+kr(p)+".");x=a(p)}S.push(m+x)}return S.push("}"),S.join("")},o=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,m,x,g,S={},w=1,E=S,T=[],j="",X="",J=h.length-1,P=1;P<J;P+=1)(g=h[P])=="'"?p?(x=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(T.push([E,x]),E={},x=void 0):g=="}"?((m=T.pop())[0][m[1]]=E,x=void 0,E=m[0]):g=="-"?w=-1:x===void 0?r.hasOwnProperty(g)?(j+=r[g],x=parseInt(j,16)*w,w=1,j=""):j+=g:r.hasOwnProperty(g)?(X+=r[g],E[x]=parseInt(X,16)*w,w=1,x=void 0,X=""):X+=g;return S},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var p=h.font,m=c.Unicode[p.postScriptName];m&&(p.metadata.Unicode={},p.metadata.Unicode.widths=m.widths,p.metadata.Unicode.kerning=m.kerning);var x=u.Unicode[p.postScriptName];x&&(p.metadata.Unicode.encoding=x,p.encoding=x.codePages[0])}])}(Ot.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(hd(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ot),function(t){function e(){return(jt.canvg?Promise.resolve(jt.canvg):Hv(()=>import("./index.es-DtXHyzYq.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Ot.API.addSvgAsImage=function(r,n,i,s,a,o,l,u){if(isNaN(n)||isNaN(i))throw Ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(x){return x.fromString(h,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(p)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),n,i,s,a,l,u)})}}(),Ot.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Ot.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,c=0,h=0;function p(x,g){var S,w=!1;for(S=0;S<x.length;S+=1)x[S]===g&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=o.length;for(h=0;h<m;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(kr(t)==="object"){for(i in t)if(s=t[i],p(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&p(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,g=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?g.push("/"+x+" /"+r[x].value):g.push("/"+x+" "+r[x].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Ot.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],h=0,p=s.length;h<p;++h){if(o=a.metadata.characterToGlyph(s.charCodeAt(h)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(u[4-o.length],o)}return c.join("")},n=function(s){var a,o,l,u,c,h,p;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(o=Object.keys(s).sort(function(m,x){return m-x})).length;h<p;h++)a=o[h],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",x=0;x<p.length;x++)m+=String.fromCharCode(p[x]);var g=u();c({data:m,addLength1:!0,objectId:g}),l("endobj");var S=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Gc(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var E=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Gc(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+S+" 0 R"),l("/BaseFont /"+Gc(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var x=u();c({data:p,addLength1:!0,objectId:x}),l("endobj");var g=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var S=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Gc(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Gc(o.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,c=s.options||{},h=s.mutex||{},p=h.pdfEscape,m=h.activeFontKey,x=h.fonts,g=m,S="",w=0,E="",T=x[g].encoding;if(x[g].encoding!=="Identity-H")return{text:o,x:l,y:u,options:c,mutex:h};for(E=o,g=m,Array.isArray(o)&&(E=o[0]),w=0;w<E.length;w+=1)x[g].metadata.hasOwnProperty("cmap")&&(a=x[g].metadata.cmap.unicode.codeMap[E[w].charCodeAt(0)]),a||E[w].charCodeAt(0)<256&&x[g].metadata.hasOwnProperty("Unicode")?S+=E[w]:S+="";var j="";return parseInt(g.slice(1))<14||T==="WinAnsiEncoding"?j=p(S,g).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(j=r(S,x[g])),h.isHex=!0,{text:j,x:l,y:u,options:c,mutex:h}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(Ot),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ot.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,c,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,T=0;this.__bidiEngine__={};var j=function(k){var N=k.charCodeAt(),F=N>>8,ne=g[F];return ne!==void 0?h[256*ne+(255&N)]:F===252||F===253?"AL":w.test(F)?"L":F===8?"R":"N"},X=function(k){for(var N,F=0;F<k.length;F++){if((N=j(k.charAt(F)))==="L")return!1;if(N==="R")return!0}return!1},J=function(k,N,F,ne){var re,he,ge,te,ce=N[ne];switch(ce){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(ce="AN");break;case"AL":E=!0,ce="R";break;case"WS":ce="N";break;case"CS":ne<1||ne+1>=N.length||(re=F[ne-1])!=="EN"&&re!=="AN"||(he=N[ne+1])!=="EN"&&he!=="AN"?ce="N":E&&(he="AN"),ce=he===re?he:"N";break;case"ES":ce=(re=ne>0?F[ne-1]:"B")==="EN"&&ne+1<N.length&&N[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&F[ne-1]==="EN"){ce="EN";break}if(E){ce="N";break}for(ge=ne+1,te=N.length;ge<te&&N[ge]==="ET";)ge++;ce=ge<te&&N[ge]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(te=N.length,ge=ne+1;ge<te&&N[ge]==="NSM";)ge++;if(ge<te){var me=k[ne],Be=me>=1425&&me<=2303||me===64286;if(re=N[ge],Be&&(re==="R"||re==="AL")){ce="R";break}}}ce=ne<1||(re=N[ne-1])==="B"?"N":F[ne-1];break;case"B":E=!1,i=!0,ce=T;break;case"S":s=!0,ce="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":ce="N"}return ce},P=function(k,N,F){var ne=k.split("");return F&&C(ne,F,{hiLevel:T}),ne.reverse(),N&&N.reverse(),ne.join("")},C=function(k,N,F){var ne,re,he,ge,te,ce=-1,me=k.length,Be=0,I=[],M=T?m:p,B=[];for(E=!1,i=!1,s=!1,re=0;re<me;re++)B[re]=j(k[re]);for(he=0;he<me;he++){if(te=Be,I[he]=J(k,B,I,he),ne=240&(Be=M[te][x[I[he]]]),Be&=15,N[he]=ge=M[Be][5],ne>0)if(ne===16){for(re=ce;re<he;re++)N[re]=1;ce=-1}else ce=-1;if(M[Be][6])ce===-1&&(ce=he);else if(ce>-1){for(re=ce;re<he;re++)N[re]=ge;ce=-1}B[he]==="B"&&(N[he]=0),F.hiLevel|=ge}s&&function(z,ee,fe){for(var ve=0;ve<fe;ve++)if(z[ve]==="S"){ee[ve]=T;for(var pe=ve-1;pe>=0&&z[pe]==="WS";pe--)ee[pe]=T}}(B,N,me)},R=function(k,N,F,ne,re){if(!(re.hiLevel<k)){if(k===1&&T===1&&!i)return N.reverse(),void(F&&F.reverse());for(var he,ge,te,ce,me=N.length,Be=0;Be<me;){if(ne[Be]>=k){for(te=Be+1;te<me&&ne[te]>=k;)te++;for(ce=Be,ge=te-1;ce<ge;ce++,ge--)he=N[ce],N[ce]=N[ge],N[ge]=he,F&&(he=F[ce],F[ce]=F[ge],F[ge]=he);Be=te}Be++}}},O=function(k,N,F){var ne=k.split(""),re={hiLevel:T};return F||(F=[]),C(ne,F,re),function(he,ge,te){if(te.hiLevel!==0&&c)for(var ce,me=0;me<he.length;me++)ge[me]===1&&(ce=S.indexOf(he[me]))>=0&&(he[me]=S[ce+1])}(ne,F,re),R(2,ne,N,F,re),R(1,ne,N,F,re),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(k,N,F){if(function(re,he){if(he)for(var ge=0;ge<re.length;ge++)he[ge]=ge;o===void 0&&(o=X(re)),u===void 0&&(u=X(re))}(k,N),a||!l||u)if(a&&l&&o^u)T=o?1:0,k=P(k,N,F);else if(!a&&l&&u)T=o?1:0,k=O(k,N,F),k=P(k,N);else if(!a||o||l||u){if(a&&!l&&o^u)k=P(k,N),o?(T=0,k=O(k,N,F)):(T=1,k=O(k,N,F),k=P(k,N));else if(a&&o&&!l&&u)T=1,k=O(k,N,F),k=P(k,N);else if(!a&&!l&&o^u){var ne=c;o?(T=1,k=O(k,N,F),T=0,c=!1,k=O(k,N,F),c=ne):(T=0,k=O(k,N,F),k=P(k,N),T=1,c=!1,k=O(k,N,F),c=ne,k=P(k,N))}}else T=0,k=O(k,N,F);else T=o?1:0,k=O(k,N,F);return k},this.__bidiEngine__.setOptions=function(k){k&&(a=k.isInputVisual,l=k.isOutputVisual,o=k.isInputRtl,u=k.isOutputRtl,c=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Ot),Ot.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Zl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new DD(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new wD(this.contents),this.head=new SD(this),this.name=new CD(this),this.cmap=new T6(this),this.toUnicode={},this.hhea=new AD(this),this.maxp=new kD(this),this.hmtx=new ID(this),this.post=new ND(this),this.os2=new TD(this),this.loca=new FD(this),this.glyf=new PD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Ca,Zl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),wD=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,c,h,p,m,x,g;for(g in m=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(m)/l),a=Math.floor(h/l),c=16*m-h,(i=new Zl).writeInt(this.scalarType),i.writeShort(m),i.writeShort(h),i.writeShort(a),i.writeShort(c),s=16*m,u=i.pos+s,o=null,x=[],r)for(p=r[g],i.writeString(g),i.writeInt(t(p)),i.writeInt(u),i.writeInt(p.length),x=x.concat(p),g==="head"&&(o=u),u+=p.length;u%4;)x.push(0),u++;return i.write(x),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=N6.call(r);r.length%4;)r.push(0);for(s=new Zl(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),ED={}.hasOwnProperty,eo=function(t,e){for(var r in e)ED.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ca=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var SD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return eo(e,Ca),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Zl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),R4=function(){function t(e,r){var n,i,s,a,o,l,u,c,h,p,m,x,g,S,w,E,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),p=m/2,e.pos+=6,s=function(){var j,X;for(X=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)X.push(e.readUInt16());return X}(),e.pos+=2,g=function(){var j,X;for(X=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)X.push(e.readUInt16());return X}(),u=function(){var j,X;for(X=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)X.push(e.readUInt16());return X}(),c=function(){var j,X;for(X=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)X.push(e.readUInt16());return X}(),i=(this.length-e.pos+this.offset)/2,o=function(){var j,X;for(X=[],l=j=0;0<=i?j<i:j>i;l=0<=i?++j:--j)X.push(e.readUInt16());return X}(),l=w=0,T=s.length;w<T;l=++w)for(S=s[l],n=E=x=g[l];x<=S?E<=S:E>=S;n=x<=S?++E:--E)c[l]===0?a=n+u[l]:(a=o[c[l]/2+(n-x)-(p-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=h}return t.encode=function(e,r){var n,i,s,a,o,l,u,c,h,p,m,x,g,S,w,E,T,j,X,J,P,C,R,O,k,N,F,ne,re,he,ge,te,ce,me,Be,I,M,B,z,ee,fe,ve,pe,Ne,Me,qe;switch(ne=new Zl,a=Object.keys(e).sort(function(Ze,at){return Ze-at}),r){case"macroman":for(g=0,S=function(){var Ze=[];for(x=0;x<256;++x)Ze.push(0);return Ze}(),E={0:0},s={},re=0,ce=a.length;re<ce;re++)E[pe=e[i=a[re]]]==null&&(E[pe]=++g),s[i]={old:e[i],new:E[e[i]]},S[i]=E[e[i]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(S),{charMap:s,subtable:ne.data,maxGlyphID:g+1};case"unicode":for(N=[],h=[],T=0,E={},n={},w=u=null,he=0,me=a.length;he<me;he++)E[X=e[i=a[he]]]==null&&(E[X]=++T),n[i]={old:X,new:E[X]},o=E[X]-i,w!=null&&o===u||(w&&h.push(w),N.push(i),u=o),w=i;for(w&&h.push(w),h.push(65535),N.push(65535),O=2*(R=N.length),C=2*Math.pow(Math.log(R)/Math.LN2,2),p=Math.log(C/2)/Math.LN2,P=2*R-C,l=[],J=[],m=[],x=ge=0,Be=N.length;ge<Be;x=++ge){if(k=N[x],c=h[x],k===65535){l.push(0),J.push(0);break}if(k-(F=n[k].new)>=32768)for(l.push(0),J.push(2*(m.length+R-x)),i=te=k;k<=c?te<=c:te>=c;i=k<=c?++te:--te)m.push(n[i].new);else l.push(F-k),J.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*R+2*m.length),ne.writeUInt16(0),ne.writeUInt16(O),ne.writeUInt16(C),ne.writeUInt16(p),ne.writeUInt16(P),fe=0,I=h.length;fe<I;fe++)i=h[fe],ne.writeUInt16(i);for(ne.writeUInt16(0),ve=0,M=N.length;ve<M;ve++)i=N[ve],ne.writeUInt16(i);for(Ne=0,B=l.length;Ne<B;Ne++)o=l[Ne],ne.writeUInt16(o);for(Me=0,z=J.length;Me<z;Me++)j=J[Me],ne.writeUInt16(j);for(qe=0,ee=m.length;qe<ee;qe++)g=m[qe],ne.writeUInt16(g);return{charMap:n,subtable:ne.data,maxGlyphID:T+1}}},t}(),T6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return eo(e,Ca),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new R4(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=R4.encode(r,n),(s=new Zl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),AD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return eo(e,Ca),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),TD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return eo(e,Ca),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),ND=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return eo(e,Ca),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)u.push(r.readUInt32());return u}).call(this)}},e}(),bD=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},CD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return eo(e,Ca),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,a,o,l,u,c,h,p,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},a=h=0,p=i.length;h<p;a=++h)s=i[a],r.pos=s.offset,c=r.readString(s.length),o=new bD(c,s),u[m=s.nameID]==null&&(u[m]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),kD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return eo(e,Ca),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),ID=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return eo(e,Ca),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,a,o,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,h;for(h=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)h.push(r.readInt16());return h}(),this.widths=(function(){var c,h,p,m;for(m=[],c=0,h=(p=this.metrics).length;c<h;c++)a=p[c],m.push(a.advance);return m}).call(this),i=this.widths[this.widths.length-1],u=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),N6=[].slice,PD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return eo(e,Ca),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,a,o,l,u,c,h,p;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(s=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(l=new Zl(n.read(s))).readShort(),c=l.readShort(),p=l.readShort(),u=l.readShort(),h=l.readShort(),this.cache[r]=o===-1?new RD(l,c,p,u,h):new LD(l,o,c,p,u,h),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,a,o,l,u;for(o=[],a=[],l=0,u=n.length;l<u;l++)s=r[n[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),LD=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),RD=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Zl(N6.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),FD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return eo(e,Ca),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var c=new Array(4*i.length),h=0;h<i.length;++h)c[4*h+3]=255&i[h],c[4*h+2]=(65280&i[h])>>8,c[4*h+1]=(16711680&i[h])>>16,c[4*h]=(4278190080&i[h])>>24;return c},e}(),DD=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,c,h,p,m,x,g,S,w;for(i in n=T6.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},w=n.charMap)m[(l=w[i]).old]=l.new;for(x in p=n.maxGlyphID,a)x in m||(m[x]=p++);return c=function(E){var T,j;for(T in j={},E)j[E[T]]=T;return j}(m),h=Object.keys(c).sort(function(E,T){return E-T}),g=function(){var E,T,j;for(j=[],E=0,T=h.length;E<T;E++)o=h[E],j.push(c[o]);return j}(),s=this.font.glyf.encode(a,g,m),u=this.font.loca.encode(s.offsets,g),S={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t}();Ot.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();function b6(t,e,r,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=o*l,c=/\r\n|\r|\n/g,h="",p=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof t=="string"?t.split(c):t,p=h.length||1),r+=o*(2-s),n.valign==="middle"?r-=p/2*u:n.valign==="bottom"&&(r-=p*u),n.halign==="center"||n.halign==="right"){var m=o;if(n.halign==="center"&&(m*=.5),h&&p>=1){for(var x=0;x<h.length;x++)i.text(h[x],e-i.getStringUnitWidth(h[x])*m,r),r+=u;return i}e-=i.getStringUnitWidth(t)*m}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var F4={},Tf=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:F4=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var c=t.unifyColor(e.fillColor);c&&(n=this.jsPDFDocument).setFillColor.apply(n,c),c=t.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=t.unifyColor(e.lineColor),c&&(s=this.jsPDFDocument).setDrawColor.apply(s,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return F4||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),ry=function(t,e){return ry=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ry(t,e)};function C6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ry(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var k6=function(t){C6(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function OD(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function jD(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function O1(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function I6(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var a=P6(i,!1);a&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,a)}function P6(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function Gm(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function L6(t,e){var r=Gm(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function MD(t,e,r,n,i){var s={},a=1.3333333333333333,o=c2(e,function(T){return i.getComputedStyle(T).backgroundColor});o!=null&&(s.fillColor=o);var l=c2(e,function(T){return i.getComputedStyle(T).color});l!=null&&(s.textColor=l);var u=VD(n,r);u&&(s.cellPadding=u);var c="borderTopColor",h=a*r,p=n.borderTopWidth;if(n.borderBottomWidth===p&&n.borderRightWidth===p&&n.borderLeftWidth===p){var m=(parseFloat(p)||0)/h;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?c="borderRightColor":s.lineWidth.bottom?c="borderBottomColor":s.lineWidth.left&&(c="borderLeftColor"));var x=c2(e,function(T){return i.getComputedStyle(T)[c]});x!=null&&(s.lineColor=x);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var S=parseInt(n.fontSize||"");isNaN(S)||(s.fontSize=S/a);var w=BD(n);w&&(s.fontStyle=w);var E=(n.fontFamily||"").toLowerCase();return t.indexOf(E)!==-1&&(s.font=E),s}function BD(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function c2(t,e){var r=R6(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function R6(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:R6(t.parentElement,e):r}function VD(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(o){return parseInt(o||"0")/n}),a=Gm(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function F6(t,e,r,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),c=[],h=[],p=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:c,body:h,foot:p};for(var m=0;m<o.rows.length;m++){var x=o.rows[m],g=(a=(s=x==null?void 0:x.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),S=UD(l,u,r,x,n,i);S&&(g==="thead"?c.push(S):g==="tfoot"?p.push(S):h.push(S))}return{head:c,body:h,foot:p}}function UD(t,e,r,n,i,s){for(var a=new k6(n),o=0;o<n.cells.length;o++){var l=n.cells[o],u=r.getComputedStyle(l);if(i||u.display!=="none"){var c=void 0;s&&(c=MD(t,l,e,u,r)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:zD(l)})}}var h=r.getComputedStyle(n);if(a.length>0&&(i||h.display!=="none"))return a}function zD(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function qD(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Eo(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function HD(t,e){var r=new Tf(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();qD(i,n,e);var s=Eo({},i,n,e),a;typeof window<"u"&&(a=window);var o=WD(i,n,e),l=$D(i,n,e),u=GD(r,s),c=YD(r,s,a);return{id:e.tableId,content:c,hooks:l,styles:o,settings:u}}function WD(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],c=e[l],h=r[l];n.columnStyles=Eo({},u,c,h)}else{var p=[t,e,r],m=p.map(function(x){return x[l]||{}});n[l]=Eo({},m[0],m[1],m[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function $D(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function GD(t,e){var r,n,i,s,a,o,l,u,c,h,p,m,x=Gm(e.margin,40/t.scaleFactor()),g=(r=KD(t,e.startY))!==null&&r!==void 0?r:x.top,S;e.showFoot===!0?S="everyPage":e.showFoot===!1?S="never":S=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var w;e.showHead===!0?w="everyPage":e.showHead===!1?w="never":w=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var E=(s=e.useCss)!==null&&s!==void 0?s:!1,T=e.theme||(E?"plain":"striped"),j=!!e.horizontalPageBreak,X=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:E,theme:T,startY:g,margin:x,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:w,showFoot:S,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=e.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:j,horizontalPageBreakRepeat:X,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function KD(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function YD(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(r){var o=F6(t,e.html,r,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||XD(n,i,s);return{columns:l,head:n,body:i,foot:s}}function XD(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var u=void 0;Array.isArray(n)?u=i.length:u=s+(l>0?"_".concat(l):"");var c={dataKey:u};i.push(c)}}),i}var ny=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),QD=function(t){C6(e,t);function e(r,n,i,s,a,o){var l=t.call(this,r,n,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e}(ny),JD=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,a){for(var o=0,l=r;o<l.length;o++){var u=l[o],c=new QD(e,this,n,i,s,a),h=u(c)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new ny(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new ny(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),D6=function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof k6&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=r.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),u=l+o;return u>i?u:i},0)},t}(),O6=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Gm(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),ZD=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},t}();function eO(t,e){tO(t,e);var r=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=iy(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=iy(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),nO(e),iO(e,t),rO(e)}function tO(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=L6(t,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){var c=e.hooks.didParseCell;e.callCellHooks(t,c,u,s,l,null);var h=u.padding("horizontal");u.contentWidth=O1(u.text,u.styles,t)+h;var p=O1(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=p+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/r;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},h=c.cellWidth||c.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function iy(t,e,r){for(var n=e,i=t.reduce(function(m,x){return m+x.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],o=a.wrappedWidth/i,l=n*o,u=a.width+l,c=r(a),h=u<c?c:u;e-=h-a.width,a.width=h}if(e=Math.round(e*1e10)/1e10,e){var p=t.filter(function(m){return e<0?m.width>r(m):!0});p.length&&(e=iy(p,e,r))}return e}function rO(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var c=s.cells[l.index];if(!c)continue;if(c.height=s.height,c.rowSpan>1){var h=n.length-i,p=c.rowSpan>h?h:c.rowSpan;e[l.index]={cell:c,left:p,row:s}}}}}function nO(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(a-=1,a>1&&t.columns[o+1])s+=l.width,delete n.cells[l.index];else if(i){var u=i;delete n.cells[l.index],i=null,u.width=l.width+s}else{var u=n.cells[l.index];if(!u)continue;if(a=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function iO(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,c+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=D4(u.text,c,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=D4(u.text,c,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,c);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var p=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<p*u.rowSpan?r={height:p,count:u.rowSpan}:r&&r.count>0&&r.height>p&&(p=r.height),p>s.height&&(s.height=p)}}r.count--}}function D4(t,e,r,n,i){return t.map(function(s){return sO(s,e,r,n,i)})}function sO(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=O1(t,r,n))return t;for(;e<O1(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function aO(t,e){var r=new Tf(t),n=oO(e,r.scaleFactor()),i=new JD(e,n);return eO(r,i),r.applyStyles(r.userStyles),i}function oO(t,e){var r=t.content,n=uO(r.columns);if(r.head.length===0){var i=O4(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=O4(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,a=t.styles;return{columns:n,head:f2("head",r.head,n,a,s,e),body:f2("body",r.body,n,a,s,e),foot:f2("foot",r.foot,n,a,s,e)}}function f2(t,e,r,n,i,s){var a={},o=e.map(function(l,u){for(var c=0,h={},p=0,m=0,x=0,g=r;x<g.length;x++){var S=g[x];if(a[S.index]==null||a[S.index].left===0)if(m===0){var w=void 0;Array.isArray(l)?w=l[S.index-p-c]:w=l[S.dataKey];var E={};typeof w=="object"&&!Array.isArray(w)&&(E=(w==null?void 0:w.styles)||{});var T=cO(t,S,u,i,n,s,E),j=new O6(w,T,t);h[S.dataKey]=j,h[S.index]=j,m=j.colSpan-1,a[S.index]={left:j.rowSpan-1,times:m}}else m--,p++;else a[S.index].left--,m=a[S.index].times,c++}return new D6(l,u,t,h)});return o}function O4(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=lO(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function lO(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function uO(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new ZD(i,e,r)})}function cO(t,e,r,n,i,s,a){var o=jD(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=Eo({},o.table,o[t],i.styles,l),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},h=t==="body"?c:{},p=t==="body"&&r%2===0?Eo({},o.alternateRow,i.alternateRowStyles):{},m=OD(s),x=Eo({},m,u,p,h);return Eo(x,a)}function fO(t,e,r){var n;r===void 0&&(r={});var i=L6(t,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var m=e.columns.find(function(x){return x.dataKey===p||x.index===p});m&&!s.has(m.index)&&(s.set(m.index,!0),a.push(m.index),o.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var u=!0,c=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;c<e.columns.length;){if(s.has(c)){c++;continue}var h=e.columns[c].wrappedWidth;if(u||i>=h)u=!1,a.push(c),o.push(e.columns[c]),i-=h;else break;c++}return{colIndexes:a,columns:o,lastIndex:c-1}}function hO(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=fO(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function dO(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(r.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(p,m){return p+m.height},0);o+=u}var c=new Tf(t);(r.pageBreak==="always"||r.startY!=null&&o>c.pageSize().height)&&(M6(c),s.y=i.top),e.callWillDrawPageHooks(c,s);var h=Eo({},s);e.startPageNumber=c.pageNumber(),r.horizontalPageBreak?pO(c,e,h,s):(c.applyStyles(c.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(p){return Mo(c,e,p,s,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(p,m){var x=m===e.body.length-1;j1(c,e,p,x,h,s,e.columns)}),c.applyStyles(c.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(p){return Mo(c,e,p,s,e.columns)})),I6(c,e,h,s),e.callEndPageHooks(c,s),e.finalY=s.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function pO(t,e,r,n){var i=hO(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){t.applyStyles(t.userStyles),c>0?dd(t,e,r,n,u.columns,!0):j4(t,e,n,u.columns),mO(t,e,r,n,u.columns),h2(t,e,n,u.columns)});else for(var a=-1,o=i[0],l=function(){var u=a;if(o){t.applyStyles(t.userStyles);var c=o.columns;a>=0?dd(t,e,r,n,c,!0):j4(t,e,n,c),u=M4(t,e,a+1,n,c),h2(t,e,n,c)}var h=u-a;i.slice(1).forEach(function(p){t.applyStyles(t.userStyles),dd(t,e,r,n,p.columns,!0),M4(t,e,a+1,n,p.columns,h),h2(t,e,n,p.columns)}),a=u};a<e.body.length-1;)l()}function j4(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Mo(t,e,s,r,n)})}function mO(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;j1(t,e,s,o,r,n,i)})}function M4(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var a=Math.min(r+s,e.body.length),o=-1;return e.body.slice(r,a).forEach(function(l,u){var c=r+u===e.body.length-1,h=j6(t,e,c,n);l.canEntireRowFit(h,i)&&(Mo(t,e,l,n,i),o=r+u)}),o}function h2(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Mo(t,e,s,r,n)})}function gO(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function vO(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,a=0,o=r.columns;a<o.length;a++){var l=o[a],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new O6(u.raw,u.styles,u.section);c=Eo(c,u),c.text=[];var h=gO(u,e,n);u.text.length>h&&(c.text=u.text.splice(h,u.text.length));var p=n.scaleFactor(),m=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(p,m),u.contentHeight>=e&&(u.contentHeight=e,c.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),c.contentHeight=c.getContentHeight(p,m),c.contentHeight>s&&(s=c.contentHeight),i[l.index]=c}}var x=new D6(t.raw,-1,t.section,i,!0);x.height=s;for(var g=0,S=r.columns;g<S.length;g++){var l=S[g],c=x.cells[l.index];c&&(c.height=x.height);var u=t.cells[l.index];u&&(u.height=t.height)}return x}function yO(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),u=l<r;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=e.hasRowSpan(n.columns),h=e.getMaxCellHeight(n.columns)>o;return h?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||n.settings.rowPageBreak==="avoid")}function j1(t,e,r,n,i,s,a){var o=j6(t,e,n,s);if(r.canEntireRowFit(o,a))Mo(t,e,r,s,a);else if(yO(t,r,o,e)){var l=vO(r,o,e,t);Mo(t,e,r,s,a),dd(t,e,i,s,a),j1(t,e,l,n,i,s,a)}else dd(t,e,i,s,a),j1(t,e,r,n,i,s,a)}function Mo(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(u===!1){n.x+=o.width;continue}xO(t,l,n);var c=l.getTextPos();b6(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function xO(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=P6(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),_O(t,e,r,n.lineWidth))}function _O(t,e,r,n){var i,s,a,o;n.top&&(i=r.x,s=r.y,a=r.x+e.width,o=r.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,a,o)),n.bottom&&(i=r.x,s=r.y+e.height,a=r.x+e.width,o=r.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,a,o)),n.left&&(i=r.x,s=r.y,a=r.x,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,s,a,o)),n.right&&(i=r.x+e.width,s=r.y,a=r.x+e.width,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,s,a,o));function l(u,c,h,p,m){t.getDocument().setLineWidth(u),t.getDocument().line(c,h,p,m,"S")}}function j6(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function dd(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return Mo(t,e,o,n,i)}),e.callEndPageHooks(t,n);var a=e.settings.margin;I6(t,e,r,n),M6(t),e.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Mo(t,e,o,n,i)}),t.applyStyles(t.userStyles))}function M6(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function wO(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=HD(this,n),s=aO(this,i);return dO(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){b6(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return Tf.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Tf.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Tf(this),s=F6(i,e,window,r,!1),a=s.head,o=s.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var d2;try{if(typeof window<"u"&&window){var B4=window,V4=B4.jsPDF||((d2=B4.jspdf)===null||d2===void 0?void 0:d2.jsPDF);V4&&wO(V4)}}catch(t){console.error("Could not apply autoTable plugin",t)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var M1={};M1.version="0.18.5";var B6=1252,EO=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],V6=function(t){EO.indexOf(t)!=-1&&(B6=t)};function SO(){V6(1252)}var Qd=function(t){V6(t)};function AO(){Qd(1200),SO()}var wp=function(e){return String.fromCharCode(e)},U4=function(e){return String.fromCharCode(e)},B1,Pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Jd(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,u=0;u<t.length;)r=t.charCodeAt(u++),s=r>>2,n=t.charCodeAt(u++),a=(r&3)<<4|n>>4,i=t.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=Pl.charAt(s)+Pl.charAt(a)+Pl.charAt(o)+Pl.charAt(l);return e}function Bo(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)s=Pl.indexOf(t.charAt(u++)),a=Pl.indexOf(t.charAt(u++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=Pl.indexOf(t.charAt(u++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Pl.indexOf(t.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var _r=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),qo=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function tc(t){return _r?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function z4(t){return _r?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var _a=function(e){return _r?qo(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Km(t){if(typeof ArrayBuffer>"u")return _a(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function _0(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function TO(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var li=_r?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:qo(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function NO(t){for(var e=[],r=0,n=t.length+250,i=tc(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=tc(65535),n=65530)}return e.push(i.slice(0,r)),li(e)}var pd=/\u0000/g,Ep=/[\u0001-\u0006]/g;function Nf(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function wa(t,e){var r=""+t;return r.length>=e?r:dn("0",e-r.length)+r}function t5(t,e){var r=""+t;return r.length>=e?r:dn(" ",e-r.length)+r}function V1(t,e){var r=""+t;return r.length>=e?r:r+dn(" ",e-r.length)}function bO(t,e){var r=""+Math.round(t);return r.length>=e?r:dn("0",e-r.length)+r}function CO(t,e){var r=""+t;return r.length>=e?r:dn("0",e-r.length)+r}var q4=Math.pow(2,32);function Vc(t,e){if(t>q4||t<-q4)return bO(t,e);var r=Math.round(t);return CO(r,e)}function U1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var H4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],p2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function kO(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var pn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},W4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},IO={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function z1(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,u=0,c=0,h=Math.floor(i);u<e&&(h=Math.floor(i),o=h*a+s,c=h*u+l,!(i-h<5e-8));)i=1/(i-h),s=a,a=o,l=u,u=c;if(c>e&&(u>e?(c=l,o=s):(c=u,o=a)),!r)return[0,n*o,c];var p=Math.floor(n*o/c);return[p,n*o-p*c,c]}function Sp(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=jO(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var U6=new Date(1899,11,31,0,0,0),PO=U6.getTime(),LO=new Date(1900,2,1,0,0,0);function z6(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=LO&&(r+=24*60*60*1e3),(r-(PO+(t.getTimezoneOffset()-U6.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function r5(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function RO(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function FO(t){var e=t<0?12:11,r=r5(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function DO(t){var e=r5(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function OO(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=FO(t):e===10?r=t.toFixed(10).substr(0,12):r=DO(t),r5(RO(r.toUpperCase()))}function sy(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):OO(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return eu(14,z6(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function jO(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function MO(t,e,r,n){var i="",s=0,a=0,o=r.y,l,u=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,u=e.length;break;case 3:return p2[r.m-1][1];case 5:return p2[r.m-1][0];default:return p2[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,u=e.length;break;case 3:return H4[r.q][0];default:return H4[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?wa(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=wa(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var c=u>0?wa(l,u):"";return c}function Ll(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var q6=/%/g;function BO(t,e,r){var n=e.replace(q6,""),i=e.length-n.length;return No(t,n,r*Math.pow(10,2*i))+dn("%",i)}function VO(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return No(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function H6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+H6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var W6=/# (\?+)( ?)\/( ?)(\d+)/;function UO(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?dn(" ",t[1].length+1+t[4].length):t5(a,t[1].length)+t[2]+"/"+t[3]+wa(o,t[4].length))}function zO(t,e,r){return r+(e===0?"":""+e)+dn(" ",t[1].length+2+t[4].length)}var $6=/^#*0*\.([0#]+)/,G6=/\).*[0#]/,K6=/\(###\) ###\\?-####/;function Ui(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function $4(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function G4(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function qO(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function HO(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function qs(t,e,r){if(t.charCodeAt(0)===40&&!e.match(G6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?qs("n",n,r):"("+qs("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return VO(t,e,r);if(e.indexOf("%")!==-1)return BO(t,e,r);if(e.indexOf("E")!==-1)return H6(e,r);if(e.charCodeAt(0)===36)return"$"+qs(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Vc(l,e.length);if(e.match(/^[#?]+$/))return i=Vc(r,0),i==="0"&&(i=""),i.length>e.length?i:Ui(e.substr(0,e.length-i.length))+i;if(s=e.match(W6))return UO(s,l,u);if(e.match(/^#+0+$/))return u+Vc(l,e.length-e.indexOf("0"));if(s=e.match($6))return i=$4(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ui(s[1])).replace(/\.$/,"."+Ui(s[1])).replace(/\.(\d*)$/,function(x,g){return"."+g+dn("0",Ui(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+$4(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Ll(Vc(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+qs(t,e,-r):Ll(""+(Math.floor(r)+qO(r,s[1].length)))+"."+wa(G4(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return qs(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Nf(qs(t,e.replace(/[\\-]/g,""),r)),a=0,Nf(Nf(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<i.length?i.charAt(a++):x==="0"?"0":""}));if(e.match(K6))return i=qs(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=z1(l,Math.pow(10,a)-1,!1),i=""+u,c=No("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=V1(o[2],a),c.length<s[4].length&&(c=Ui(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=z1(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?t5(o[1],a)+s[2]+"/"+s[3]+V1(o[2],a):dn(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Vc(r,0),e.length<=i.length?i:Ui(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,p=e.length-i.length-h;return Ui(e.substr(0,h)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=G4(r,s[1].length),r<0?"-"+qs(t,e,-r):Ll(HO(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?wa(0,3-x.length):"")+x})+"."+wa(a,s[1].length);switch(e){case"###,##0.00":return qs(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Ll(Vc(l,0));return m!=="0"?u+m:"";case"###,###.00":return qs(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return qs(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function WO(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return No(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function $O(t,e,r){var n=e.replace(q6,""),i=e.length-n.length;return No(t,n,r*Math.pow(10,2*i))+dn("%",i)}function Y6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Y6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ba(t,e,r){if(t.charCodeAt(0)===40&&!e.match(G6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ba("n",n,r):"("+Ba("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return WO(t,e,r);if(e.indexOf("%")!==-1)return $O(t,e,r);if(e.indexOf("E")!==-1)return Y6(e,r);if(e.charCodeAt(0)===36)return"$"+Ba(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+wa(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Ui(e.substr(0,e.length-i.length))+i;if(s=e.match(W6))return zO(s,l,u);if(e.match(/^#+0+$/))return u+wa(l,e.length-e.indexOf("0"));if(s=e.match($6))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Ui(s[1])).replace(/\.$/,"."+Ui(s[1])),i=i.replace(/\.(\d*)$/,function(x,g){return"."+g+dn("0",Ui(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Ll(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ba(t,e,-r):Ll(""+r)+"."+dn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Ba(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Nf(Ba(t,e.replace(/[\\-]/g,""),r)),a=0,Nf(Nf(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<i.length?i.charAt(a++):x==="0"?"0":""}));if(e.match(K6))return i=Ba(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=z1(l,Math.pow(10,a)-1,!1),i=""+u,c=No("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=V1(o[2],a),c.length<s[4].length&&(c=Ui(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=z1(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?t5(o[1],a)+s[2]+"/"+s[3]+V1(o[2],a):dn(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Ui(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,p=e.length-i.length-h;return Ui(e.substr(0,h)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ba(t,e,-r):Ll(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?wa(0,3-x.length):"")+x})+"."+wa(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Ll(""+l);return m!=="0"?u+m:"";default:if(e.match(/\.[0#?]*$/))return Ba(t,e.slice(0,e.lastIndexOf(".")),r)+Ui(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function No(t,e,r){return(r|0)===r?Ba(t,e,r):qs(t,e,r)}function GO(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var X6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Q6(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":U1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(X6))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function KO(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",u,c,h,p="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!U1(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(h=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(h);i[i.length]={t:"t",v:s},++a;break;case"\\":var m=t.charAt(++a),x=m==="("||m===")"?m:"t";i[i.length]={t:x,v:m},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(u==null&&(u=Sp(e,r,t.charAt(a+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Sp(e,r),u==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(u==null&&(u=Sp(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",p="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",a+=5,p="h"):t.substr(a,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",a+=5,p="h"):(g.t="t",++a),u==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(X6)){if(u==null&&(u=Sp(e,r),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Q6(t)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var S=0,w=0,E;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=p,l="h",S<1&&(S=1);break;case"s":(E=i[a].v.match(/\.0+$/))&&(w=Math.max(w,E[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&i[a].v.match(/[Hh]/)&&(S=1),S<2&&i[a].v.match(/[Mm]/)&&(S=2),S<3&&i[a].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var T="",j;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=MO(i[a].t.charCodeAt(0),i[a].v,u,w),i[a].t="t";break;case"n":case"?":for(j=a+1;i[j]!=null&&((o=i[j].t)==="?"||o==="D"||(o===" "||o==="t")&&i[j+1]!=null&&(i[j+1].t==="?"||i[j+1].t==="t"&&i[j+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[j].v==="/"||i[j].v===" "&&i[j+1]!=null&&i[j+1].t=="?"));)i[a].v+=i[j].v,i[j]={v:"",t:";"},++j;T+=i[a].v,a=j-1;break;case"G":i[a].t="t",i[a].v=sy(e,r);break}var X="",J,P;if(T.length>0){T.charCodeAt(0)==40?(J=e<0&&T.charCodeAt(0)===45?-e:e,P=No("n",T,J)):(J=e<0&&n>1?-e:e,P=No("n",T,J),J<0&&i[0]&&i[0].t=="t"&&(P=P.substr(1),i[0].v="-"+i[0].v)),j=P.length-1;var C=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){C=a;break}var R=i.length;if(C===i.length&&P.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(j>=i[a].v.length-1?(j-=i[a].v.length,i[a].v=P.substr(j+1,i[a].v.length)):j<0?i[a].v="":(i[a].v=P.substr(0,j+1),j=-1),i[a].t="t",R=a);j>=0&&R<i.length&&(i[R].v=P.substr(0,j+1)+i[R].v)}else if(C!==i.length&&P.indexOf("E")===-1){for(j=P.indexOf(".")-1,a=C;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(c=i[a].v.indexOf(".")>-1&&a===C?i[a].v.indexOf(".")-1:i[a].v.length-1,X=i[a].v.substr(c+1);c>=0;--c)j>=0&&(i[a].v.charAt(c)==="0"||i[a].v.charAt(c)==="#")&&(X=P.charAt(j--)+X);i[a].v=X,i[a].t="t",R=a}for(j>=0&&R<i.length&&(i[R].v=P.substr(0,j+1)+i[R].v),j=P.indexOf(".")+1,a=C;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==C)){for(c=i[a].v.indexOf(".")>-1&&a===C?i[a].v.indexOf(".")+1:0,X=i[a].v.substr(0,c);c<i[a].v.length;++c)j<P.length&&(X+=P.charAt(j++));i[a].v=X,i[a].t="t",R=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(J=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=No(i[a].t,i[a].v,J),i[a].t="t");var O="";for(a=0;a!==i.length;++a)i[a]!=null&&(O+=i[a].v);return O}var K4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Y4(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function YO(t,e){var r=GO(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(K4),o=r[1].match(K4);return Y4(e,a)?[n,r[0]]:Y4(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function eu(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:pn)[t],n==null&&(n=r.table&&r.table[W4[t]]||pn[W4[t]]),n==null&&(n=IO[t]||"General");break}if(U1(n,0))return sy(e,r);e instanceof Date&&(e=z6(e,r.date1904));var i=YO(n,e);if(U1(i[1]))return sy(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return KO(i[1],e,r,i[0])}function J6(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(pn[r]==null){e<0&&(e=r);continue}if(pn[r]==t){e=r;break}}e<0&&(e=391)}return pn[e]=t,e}function Ym(t){for(var e=0;e!=392;++e)t[e]!==void 0&&J6(t[e],e)}function Xm(){pn=kO()}var Z6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function XO(t){var e=typeof t=="number"?pn[t]:t;return e=e.replace(Z6,"(\\d+)"),new RegExp("^"+e+"$")}function QO(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(Z6)||[]).forEach(function(h,p){var m=parseInt(r[p+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":a=m;break;case"s":l=m;break;case"m":a>=0?o=m:i=m;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&s==-1?c:u+"T"+c}var JO=function(){var t={};t.version="1.2.0";function e(){for(var P=0,C=new Array(256),R=0;R!=256;++R)P=R,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,C[R]=P;return typeof Int32Array<"u"?new Int32Array(C):C}var r=e();function n(P){var C=0,R=0,O=0,k=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)k[O]=P[O];for(O=0;O!=256;++O)for(R=P[O],C=256+O;C<4096;C+=256)R=k[C]=R>>>8^P[R&255];var N=[];for(O=1;O!=16;++O)N[O-1]=typeof Int32Array<"u"?k.subarray(O*256,O*256+256):k.slice(O*256,O*256+256);return N}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],c=i[5],h=i[6],p=i[7],m=i[8],x=i[9],g=i[10],S=i[11],w=i[12],E=i[13],T=i[14];function j(P,C){for(var R=C^-1,O=0,k=P.length;O<k;)R=R>>>8^r[(R^P.charCodeAt(O++))&255];return~R}function X(P,C){for(var R=C^-1,O=P.length-15,k=0;k<O;)R=T[P[k++]^R&255]^E[P[k++]^R>>8&255]^w[P[k++]^R>>16&255]^S[P[k++]^R>>>24]^g[P[k++]]^x[P[k++]]^m[P[k++]]^p[P[k++]]^h[P[k++]]^c[P[k++]]^u[P[k++]]^l[P[k++]]^o[P[k++]]^a[P[k++]]^s[P[k++]]^r[P[k++]];for(O+=15;k<O;)R=R>>>8^r[(R^P[k++])&255];return~R}function J(P,C){for(var R=C^-1,O=0,k=P.length,N=0,F=0;O<k;)N=P.charCodeAt(O++),N<128?R=R>>>8^r[(R^N)&255]:N<2048?(R=R>>>8^r[(R^(192|N>>6&31))&255],R=R>>>8^r[(R^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,F=P.charCodeAt(O++)&1023,R=R>>>8^r[(R^(240|N>>8&7))&255],R=R>>>8^r[(R^(128|N>>2&63))&255],R=R>>>8^r[(R^(128|F>>6&15|(N&3)<<4))&255],R=R>>>8^r[(R^(128|F&63))&255]):(R=R>>>8^r[(R^(224|N>>12&15))&255],R=R>>>8^r[(R^(128|N>>6&63))&255],R=R>>>8^r[(R^(128|N&63))&255]);return~R}return t.table=r,t.bstr=j,t.buf=X,t.str=J,t}(),Mr=function(){var e={};e.version="1.2.1";function r(q,ae){for(var Q=q.split("/"),Z=ae.split("/"),se=0,oe=0,Ae=Math.min(Q.length,Z.length);se<Ae;++se){if(oe=Q[se].length-Z[se].length)return oe;if(Q[se]!=Z[se])return Q[se]<Z[se]?-1:1}return Q.length-Z.length}function n(q){if(q.charAt(q.length-1)=="/")return q.slice(0,-1).indexOf("/")===-1?q:n(q.slice(0,-1));var ae=q.lastIndexOf("/");return ae===-1?q:q.slice(0,ae+1)}function i(q){if(q.charAt(q.length-1)=="/")return i(q.slice(0,-1));var ae=q.lastIndexOf("/");return ae===-1?q:q.slice(ae+1)}function s(q,ae){typeof ae=="string"&&(ae=new Date(ae));var Q=ae.getHours();Q=Q<<6|ae.getMinutes(),Q=Q<<5|ae.getSeconds()>>>1,q.write_shift(2,Q);var Z=ae.getFullYear()-1980;Z=Z<<4|ae.getMonth()+1,Z=Z<<5|ae.getDate(),q.write_shift(2,Z)}function a(q){var ae=q.read_shift(2)&65535,Q=q.read_shift(2)&65535,Z=new Date,se=Q&31;Q>>>=5;var oe=Q&15;Q>>>=4,Z.setMilliseconds(0),Z.setFullYear(Q+1980),Z.setMonth(oe-1),Z.setDate(se);var Ae=ae&31;ae>>>=5;var Re=ae&63;return ae>>>=6,Z.setHours(ae),Z.setMinutes(Re),Z.setSeconds(Ae<<1),Z}function o(q){Ss(q,0);for(var ae={},Q=0;q.l<=q.length-4;){var Z=q.read_shift(2),se=q.read_shift(2),oe=q.l+se,Ae={};switch(Z){case 21589:Q=q.read_shift(1),Q&1&&(Ae.mtime=q.read_shift(4)),se>5&&(Q&2&&(Ae.atime=q.read_shift(4)),Q&4&&(Ae.ctime=q.read_shift(4))),Ae.mtime&&(Ae.mt=new Date(Ae.mtime*1e3));break}q.l=oe,ae[Z]=Ae}return ae}var l;function u(){return l||(l={})}function c(q,ae){if(q[0]==80&&q[1]==75)return Dr(q,ae);if((q[0]|32)==109&&(q[1]|32)==105)return Fi(q,ae);if(q.length<512)throw new Error("CFB file size "+q.length+" < 512");var Q=3,Z=512,se=0,oe=0,Ae=0,Re=0,Te=0,Ce=[],Le=q.slice(0,512);Ss(Le,0);var Ye=h(Le);switch(Q=Ye[0],Q){case 3:Z=512;break;case 4:Z=4096;break;case 0:if(Ye[1]==0)return Dr(q,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}Z!==512&&(Le=q.slice(0,Z),Ss(Le,28));var nt=q.slice(0,Z);p(Le,Q);var pt=Le.read_shift(4,"i");if(Q===3&&pt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+pt);Le.l+=4,Ae=Le.read_shift(4,"i"),Le.l+=4,Le.chk("00100000","Mini Stream Cutoff Size: "),Re=Le.read_shift(4,"i"),se=Le.read_shift(4,"i"),Te=Le.read_shift(4,"i"),oe=Le.read_shift(4,"i");for(var et=-1,ct=0;ct<109&&(et=Le.read_shift(4,"i"),!(et<0));++ct)Ce[ct]=et;var Ft=m(q,Z);S(Te,oe,Ft,Z,Ce);var ar=E(Ft,Ae,Ce,Z);ar[Ae].name="!Directory",se>0&&Re!==F&&(ar[Re].name="!MiniFAT"),ar[Ce[0]].name="!FAT",ar.fat_addrs=Ce,ar.ssz=Z;var or={},Or=[],Di=[],ta=[];T(Ae,ar,Ft,Or,se,or,Di,Re),x(Di,ta,Or),Or.shift();var ds={FileIndex:Di,FullPaths:ta};return ae&&ae.raw&&(ds.raw={header:nt,sectors:Ft}),ds}function h(q){if(q[q.l]==80&&q[q.l+1]==75)return[0,0];q.chk(ne,"Header Signature: "),q.l+=16;var ae=q.read_shift(2,"u");return[q.read_shift(2,"u"),ae]}function p(q,ae){var Q=9;switch(q.l+=2,Q=q.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}q.chk("0600","Mini Sector Shift: "),q.chk("000000000000","Reserved: ")}function m(q,ae){for(var Q=Math.ceil(q.length/ae)-1,Z=[],se=1;se<Q;++se)Z[se-1]=q.slice(se*ae,(se+1)*ae);return Z[Q-1]=q.slice(Q*ae),Z}function x(q,ae,Q){for(var Z=0,se=0,oe=0,Ae=0,Re=0,Te=Q.length,Ce=[],Le=[];Z<Te;++Z)Ce[Z]=Le[Z]=Z,ae[Z]=Q[Z];for(;Re<Le.length;++Re)Z=Le[Re],se=q[Z].L,oe=q[Z].R,Ae=q[Z].C,Ce[Z]===Z&&(se!==-1&&Ce[se]!==se&&(Ce[Z]=Ce[se]),oe!==-1&&Ce[oe]!==oe&&(Ce[Z]=Ce[oe])),Ae!==-1&&(Ce[Ae]=Z),se!==-1&&Z!=Ce[Z]&&(Ce[se]=Ce[Z],Le.lastIndexOf(se)<Re&&Le.push(se)),oe!==-1&&Z!=Ce[Z]&&(Ce[oe]=Ce[Z],Le.lastIndexOf(oe)<Re&&Le.push(oe));for(Z=1;Z<Te;++Z)Ce[Z]===Z&&(oe!==-1&&Ce[oe]!==oe?Ce[Z]=Ce[oe]:se!==-1&&Ce[se]!==se&&(Ce[Z]=Ce[se]));for(Z=1;Z<Te;++Z)if(q[Z].type!==0){if(Re=Z,Re!=Ce[Re])do Re=Ce[Re],ae[Z]=ae[Re]+"/"+ae[Z];while(Re!==0&&Ce[Re]!==-1&&Re!=Ce[Re]);Ce[Z]=-1}for(ae[0]+="/",Z=1;Z<Te;++Z)q[Z].type!==2&&(ae[Z]+="/")}function g(q,ae,Q){for(var Z=q.start,se=q.size,oe=[],Ae=Z;Q&&se>0&&Ae>=0;)oe.push(ae.slice(Ae*N,Ae*N+N)),se-=N,Ae=Fu(Q,Ae*4);return oe.length===0?je(0):li(oe).slice(0,q.size)}function S(q,ae,Q,Z,se){var oe=F;if(q===F){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(q!==-1){var Ae=Q[q],Re=(Z>>>2)-1;if(!Ae)return;for(var Te=0;Te<Re&&(oe=Fu(Ae,Te*4))!==F;++Te)se.push(oe);S(Fu(Ae,Z-4),ae-1,Q,Z,se)}}function w(q,ae,Q,Z,se){var oe=[],Ae=[];se||(se=[]);var Re=Z-1,Te=0,Ce=0;for(Te=ae;Te>=0;){se[Te]=!0,oe[oe.length]=Te,Ae.push(q[Te]);var Le=Q[Math.floor(Te*4/Z)];if(Ce=Te*4&Re,Z<4+Ce)throw new Error("FAT boundary crossed: "+Te+" 4 "+Z);if(!q[Le])break;Te=Fu(q[Le],Ce)}return{nodes:oe,data:n3([Ae])}}function E(q,ae,Q,Z){var se=q.length,oe=[],Ae=[],Re=[],Te=[],Ce=Z-1,Le=0,Ye=0,nt=0,pt=0;for(Le=0;Le<se;++Le)if(Re=[],nt=Le+ae,nt>=se&&(nt-=se),!Ae[nt]){Te=[];var et=[];for(Ye=nt;Ye>=0;){et[Ye]=!0,Ae[Ye]=!0,Re[Re.length]=Ye,Te.push(q[Ye]);var ct=Q[Math.floor(Ye*4/Z)];if(pt=Ye*4&Ce,Z<4+pt)throw new Error("FAT boundary crossed: "+Ye+" 4 "+Z);if(!q[ct]||(Ye=Fu(q[ct],pt),et[Ye]))break}oe[nt]={nodes:Re,data:n3([Te])}}return oe}function T(q,ae,Q,Z,se,oe,Ae,Re){for(var Te=0,Ce=Z.length?2:0,Le=ae[q].data,Ye=0,nt=0,pt;Ye<Le.length;Ye+=128){var et=Le.slice(Ye,Ye+128);Ss(et,64),nt=et.read_shift(2),pt=o5(et,0,nt-Ce),Z.push(pt);var ct={name:pt,type:et.read_shift(1),color:et.read_shift(1),L:et.read_shift(4,"i"),R:et.read_shift(4,"i"),C:et.read_shift(4,"i"),clsid:et.read_shift(16),state:et.read_shift(4,"i"),start:0,size:0},Ft=et.read_shift(2)+et.read_shift(2)+et.read_shift(2)+et.read_shift(2);Ft!==0&&(ct.ct=j(et,et.l-8));var ar=et.read_shift(2)+et.read_shift(2)+et.read_shift(2)+et.read_shift(2);ar!==0&&(ct.mt=j(et,et.l-8)),ct.start=et.read_shift(4,"i"),ct.size=et.read_shift(4,"i"),ct.size<0&&ct.start<0&&(ct.size=ct.type=0,ct.start=F,ct.name=""),ct.type===5?(Te=ct.start,se>0&&Te!==F&&(ae[Te].name="!StreamData")):ct.size>=4096?(ct.storage="fat",ae[ct.start]===void 0&&(ae[ct.start]=w(Q,ct.start,ae.fat_addrs,ae.ssz)),ae[ct.start].name=ct.name,ct.content=ae[ct.start].data.slice(0,ct.size)):(ct.storage="minifat",ct.size<0?ct.size=0:Te!==F&&ct.start!==F&&ae[Te]&&(ct.content=g(ct,ae[Te].data,(ae[Re]||{}).data))),ct.content&&Ss(ct.content,0),oe[pt]=ct,Ae.push(ct)}}function j(q,ae){return new Date((Ts(q,ae+4)/1e7*Math.pow(2,32)+Ts(q,ae)/1e7-11644473600)*1e3)}function X(q,ae){return u(),c(l.readFileSync(q),ae)}function J(q,ae){var Q=ae&&ae.type;switch(Q||_r&&Buffer.isBuffer(q)&&(Q="buffer"),Q||"base64"){case"file":return X(q,ae);case"base64":return c(_a(Bo(q)),ae);case"binary":return c(_a(q),ae)}return c(q,ae)}function P(q,ae){var Q=ae||{},Z=Q.root||"Root Entry";if(q.FullPaths||(q.FullPaths=[]),q.FileIndex||(q.FileIndex=[]),q.FullPaths.length!==q.FileIndex.length)throw new Error("inconsistent CFB structure");q.FullPaths.length===0&&(q.FullPaths[0]=Z+"/",q.FileIndex[0]={name:Z,type:5}),Q.CLSID&&(q.FileIndex[0].clsid=Q.CLSID),C(q)}function C(q){var ae="Sh33tJ5";if(!Mr.find(q,"/"+ae)){var Q=je(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,q.FileIndex.push({name:ae,type:2,content:Q,size:4,L:69,R:69,C:69}),q.FullPaths.push(q.FullPaths[0]+ae),R(q)}}function R(q,ae){P(q);for(var Q=!1,Z=!1,se=q.FullPaths.length-1;se>=0;--se){var oe=q.FileIndex[se];switch(oe.type){case 0:Z?Q=!0:(q.FileIndex.pop(),q.FullPaths.pop());break;case 1:case 2:case 5:Z=!0,isNaN(oe.R*oe.L*oe.C)&&(Q=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!ae)){var Ae=new Date(1987,1,19),Re=0,Te=Object.create?Object.create(null):{},Ce=[];for(se=0;se<q.FullPaths.length;++se)Te[q.FullPaths[se]]=!0,q.FileIndex[se].type!==0&&Ce.push([q.FullPaths[se],q.FileIndex[se]]);for(se=0;se<Ce.length;++se){var Le=n(Ce[se][0]);Z=Te[Le],Z||(Ce.push([Le,{name:i(Le).replace("/",""),type:1,clsid:he,ct:Ae,mt:Ae,content:null}]),Te[Le]=!0)}for(Ce.sort(function(pt,et){return r(pt[0],et[0])}),q.FullPaths=[],q.FileIndex=[],se=0;se<Ce.length;++se)q.FullPaths[se]=Ce[se][0],q.FileIndex[se]=Ce[se][1];for(se=0;se<Ce.length;++se){var Ye=q.FileIndex[se],nt=q.FullPaths[se];if(Ye.name=i(nt).replace("/",""),Ye.L=Ye.R=Ye.C=-(Ye.color=1),Ye.size=Ye.content?Ye.content.length:0,Ye.start=0,Ye.clsid=Ye.clsid||he,se===0)Ye.C=Ce.length>1?1:-1,Ye.size=0,Ye.type=5;else if(nt.slice(-1)=="/"){for(Re=se+1;Re<Ce.length&&n(q.FullPaths[Re])!=nt;++Re);for(Ye.C=Re>=Ce.length?-1:Re,Re=se+1;Re<Ce.length&&n(q.FullPaths[Re])!=n(nt);++Re);Ye.R=Re>=Ce.length?-1:Re,Ye.type=1}else n(q.FullPaths[se+1]||"")==n(nt)&&(Ye.R=se+1),Ye.type=2}}}function O(q,ae){var Q=ae||{};if(Q.fileType=="mad")return xt(q,Q);switch(R(q),Q.fileType){case"zip":return Ri(q,Q)}var Z=function(pt){for(var et=0,ct=0,Ft=0;Ft<pt.FileIndex.length;++Ft){var ar=pt.FileIndex[Ft];if(ar.content){var or=ar.content.length;or>0&&(or<4096?et+=or+63>>6:ct+=or+511>>9)}}for(var Or=pt.FullPaths.length+3>>2,Di=et+7>>3,ta=et+127>>7,ds=Di+ct+Or+ta,Yi=ds+127>>7,ps=Yi<=109?0:Math.ceil((Yi-109)/127);ds+Yi+ps+127>>7>Yi;)ps=++Yi<=109?0:Math.ceil((Yi-109)/127);var Jn=[1,ps,Yi,ta,Or,ct,et,0];return pt.FileIndex[0].size=et<<6,Jn[7]=(pt.FileIndex[0].start=Jn[0]+Jn[1]+Jn[2]+Jn[3]+Jn[4]+Jn[5])+(Jn[6]+7>>3),Jn}(q),se=je(Z[7]<<9),oe=0,Ae=0;{for(oe=0;oe<8;++oe)se.write_shift(1,re[oe]);for(oe=0;oe<8;++oe)se.write_shift(2,0);for(se.write_shift(2,62),se.write_shift(2,3),se.write_shift(2,65534),se.write_shift(2,9),se.write_shift(2,6),oe=0;oe<3;++oe)se.write_shift(2,0);for(se.write_shift(4,0),se.write_shift(4,Z[2]),se.write_shift(4,Z[0]+Z[1]+Z[2]+Z[3]-1),se.write_shift(4,0),se.write_shift(4,4096),se.write_shift(4,Z[3]?Z[0]+Z[1]+Z[2]-1:F),se.write_shift(4,Z[3]),se.write_shift(-4,Z[1]?Z[0]-1:F),se.write_shift(4,Z[1]),oe=0;oe<109;++oe)se.write_shift(-4,oe<Z[2]?Z[1]+oe:-1)}if(Z[1])for(Ae=0;Ae<Z[1];++Ae){for(;oe<236+Ae*127;++oe)se.write_shift(-4,oe<Z[2]?Z[1]+oe:-1);se.write_shift(-4,Ae===Z[1]-1?F:Ae+1)}var Re=function(pt){for(Ae+=pt;oe<Ae-1;++oe)se.write_shift(-4,oe+1);pt&&(++oe,se.write_shift(-4,F))};for(Ae=oe=0,Ae+=Z[1];oe<Ae;++oe)se.write_shift(-4,ge.DIFSECT);for(Ae+=Z[2];oe<Ae;++oe)se.write_shift(-4,ge.FATSECT);Re(Z[3]),Re(Z[4]);for(var Te=0,Ce=0,Le=q.FileIndex[0];Te<q.FileIndex.length;++Te)Le=q.FileIndex[Te],Le.content&&(Ce=Le.content.length,!(Ce<4096)&&(Le.start=Ae,Re(Ce+511>>9)));for(Re(Z[6]+7>>3);se.l&511;)se.write_shift(-4,ge.ENDOFCHAIN);for(Ae=oe=0,Te=0;Te<q.FileIndex.length;++Te)Le=q.FileIndex[Te],Le.content&&(Ce=Le.content.length,!(!Ce||Ce>=4096)&&(Le.start=Ae,Re(Ce+63>>6)));for(;se.l&511;)se.write_shift(-4,ge.ENDOFCHAIN);for(oe=0;oe<Z[4]<<2;++oe){var Ye=q.FullPaths[oe];if(!Ye||Ye.length===0){for(Te=0;Te<17;++Te)se.write_shift(4,0);for(Te=0;Te<3;++Te)se.write_shift(4,-1);for(Te=0;Te<12;++Te)se.write_shift(4,0);continue}Le=q.FileIndex[oe],oe===0&&(Le.start=Le.size?Le.start-1:F);var nt=oe===0&&Q.root||Le.name;if(Ce=2*(nt.length+1),se.write_shift(64,nt,"utf16le"),se.write_shift(2,Ce),se.write_shift(1,Le.type),se.write_shift(1,Le.color),se.write_shift(-4,Le.L),se.write_shift(-4,Le.R),se.write_shift(-4,Le.C),Le.clsid)se.write_shift(16,Le.clsid,"hex");else for(Te=0;Te<4;++Te)se.write_shift(4,0);se.write_shift(4,Le.state||0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,Le.start),se.write_shift(4,Le.size),se.write_shift(4,0)}for(oe=1;oe<q.FileIndex.length;++oe)if(Le=q.FileIndex[oe],Le.size>=4096)if(se.l=Le.start+1<<9,_r&&Buffer.isBuffer(Le.content))Le.content.copy(se,se.l,0,Le.size),se.l+=Le.size+511&-512;else{for(Te=0;Te<Le.size;++Te)se.write_shift(1,Le.content[Te]);for(;Te&511;++Te)se.write_shift(1,0)}for(oe=1;oe<q.FileIndex.length;++oe)if(Le=q.FileIndex[oe],Le.size>0&&Le.size<4096)if(_r&&Buffer.isBuffer(Le.content))Le.content.copy(se,se.l,0,Le.size),se.l+=Le.size+63&-64;else{for(Te=0;Te<Le.size;++Te)se.write_shift(1,Le.content[Te]);for(;Te&63;++Te)se.write_shift(1,0)}if(_r)se.l=se.length;else for(;se.l<se.length;)se.write_shift(1,0);return se}function k(q,ae){var Q=q.FullPaths.map(function(Te){return Te.toUpperCase()}),Z=Q.map(function(Te){var Ce=Te.split("/");return Ce[Ce.length-(Te.slice(-1)=="/"?2:1)]}),se=!1;ae.charCodeAt(0)===47?(se=!0,ae=Q[0].slice(0,-1)+ae):se=ae.indexOf("/")!==-1;var oe=ae.toUpperCase(),Ae=se===!0?Q.indexOf(oe):Z.indexOf(oe);if(Ae!==-1)return q.FileIndex[Ae];var Re=!oe.match(Ep);for(oe=oe.replace(pd,""),Re&&(oe=oe.replace(Ep,"!")),Ae=0;Ae<Q.length;++Ae)if((Re?Q[Ae].replace(Ep,"!"):Q[Ae]).replace(pd,"")==oe||(Re?Z[Ae].replace(Ep,"!"):Z[Ae]).replace(pd,"")==oe)return q.FileIndex[Ae];return null}var N=64,F=-2,ne="d0cf11e0a1b11ae1",re=[208,207,17,224,161,177,26,225],he="00000000000000000000000000000000",ge={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:ne,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:he,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function te(q,ae,Q){u();var Z=O(q,Q);l.writeFileSync(ae,Z)}function ce(q){for(var ae=new Array(q.length),Q=0;Q<q.length;++Q)ae[Q]=String.fromCharCode(q[Q]);return ae.join("")}function me(q,ae){var Q=O(q,ae);switch(ae&&ae.type||"buffer"){case"file":return u(),l.writeFileSync(ae.filename,Q),Q;case"binary":return typeof Q=="string"?Q:ce(Q);case"base64":return Jd(typeof Q=="string"?Q:ce(Q));case"buffer":if(_r)return Buffer.isBuffer(Q)?Q:qo(Q);case"array":return typeof Q=="string"?_a(Q):Q}return Q}var Be;function I(q){try{var ae=q.InflateRaw,Q=new ae;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)Be=q;else throw new Error("zlib does not expose bytesRead")}catch(Z){console.error("cannot use native zlib: "+(Z.message||Z))}}function M(q,ae){if(!Be)return Zt(q,ae);var Q=Be.InflateRaw,Z=new Q,se=Z._processChunk(q.slice(q.l),Z._finishFlushFlag);return q.l+=Z.bytesRead,se}function B(q){return Be?Be.deflateRawSync(q):Gt(q)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ve(q){var ae=(q<<1|q<<11)&139536|(q<<5|q<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var pe=typeof Uint8Array<"u",Ne=pe?new Uint8Array(256):[],Me=0;Me<256;++Me)Ne[Me]=ve(Me);function qe(q,ae){var Q=Ne[q&255];return ae<=8?Q>>>8-ae:(Q=Q<<8|Ne[q>>8&255],ae<=16?Q>>>16-ae:(Q=Q<<8|Ne[q>>16&255],Q>>>24-ae))}function Ze(q,ae){var Q=ae&7,Z=ae>>>3;return(q[Z]|(Q<=6?0:q[Z+1]<<8))>>>Q&3}function at(q,ae){var Q=ae&7,Z=ae>>>3;return(q[Z]|(Q<=5?0:q[Z+1]<<8))>>>Q&7}function Fe(q,ae){var Q=ae&7,Z=ae>>>3;return(q[Z]|(Q<=4?0:q[Z+1]<<8))>>>Q&15}function ue(q,ae){var Q=ae&7,Z=ae>>>3;return(q[Z]|(Q<=3?0:q[Z+1]<<8))>>>Q&31}function We(q,ae){var Q=ae&7,Z=ae>>>3;return(q[Z]|(Q<=1?0:q[Z+1]<<8))>>>Q&127}function gt(q,ae,Q){var Z=ae&7,se=ae>>>3,oe=(1<<Q)-1,Ae=q[se]>>>Z;return Q<8-Z||(Ae|=q[se+1]<<8-Z,Q<16-Z)||(Ae|=q[se+2]<<16-Z,Q<24-Z)||(Ae|=q[se+3]<<24-Z),Ae&oe}function Ge(q,ae,Q){var Z=ae&7,se=ae>>>3;return Z<=5?q[se]|=(Q&7)<<Z:(q[se]|=Q<<Z&255,q[se+1]=(Q&7)>>8-Z),ae+3}function rt(q,ae,Q){var Z=ae&7,se=ae>>>3;return Q=(Q&1)<<Z,q[se]|=Q,ae+1}function lt(q,ae,Q){var Z=ae&7,se=ae>>>3;return Q<<=Z,q[se]|=Q&255,Q>>>=8,q[se+1]=Q,ae+8}function ut(q,ae,Q){var Z=ae&7,se=ae>>>3;return Q<<=Z,q[se]|=Q&255,Q>>>=8,q[se+1]=Q&255,q[se+2]=Q>>>8,ae+16}function St(q,ae){var Q=q.length,Z=2*Q>ae?2*Q:ae+5,se=0;if(Q>=ae)return q;if(_r){var oe=z4(Z);if(q.copy)q.copy(oe);else for(;se<q.length;++se)oe[se]=q[se];return oe}else if(pe){var Ae=new Uint8Array(Z);if(Ae.set)Ae.set(q);else for(;se<Q;++se)Ae[se]=q[se];return Ae}return q.length=Z,q}function bt(q){for(var ae=new Array(q),Q=0;Q<q;++Q)ae[Q]=0;return ae}function Dt(q,ae,Q){var Z=1,se=0,oe=0,Ae=0,Re=0,Te=q.length,Ce=pe?new Uint16Array(32):bt(32);for(oe=0;oe<32;++oe)Ce[oe]=0;for(oe=Te;oe<Q;++oe)q[oe]=0;Te=q.length;var Le=pe?new Uint16Array(Te):bt(Te);for(oe=0;oe<Te;++oe)Ce[se=q[oe]]++,Z<se&&(Z=se),Le[oe]=0;for(Ce[0]=0,oe=1;oe<=Z;++oe)Ce[oe+16]=Re=Re+Ce[oe-1]<<1;for(oe=0;oe<Te;++oe)Re=q[oe],Re!=0&&(Le[oe]=Ce[Re+16]++);var Ye=0;for(oe=0;oe<Te;++oe)if(Ye=q[oe],Ye!=0)for(Re=qe(Le[oe],Z)>>Z-Ye,Ae=(1<<Z+4-Ye)-1;Ae>=0;--Ae)ae[Re|Ae<<Ye]=Ye&15|oe<<4;return Z}var Ct=pe?new Uint16Array(512):bt(512),Pt=pe?new Uint16Array(32):bt(32);if(!pe){for(var Yt=0;Yt<512;++Yt)Ct[Yt]=0;for(Yt=0;Yt<32;++Yt)Pt[Yt]=0}(function(){for(var q=[],ae=0;ae<32;ae++)q.push(5);Dt(q,Pt,32);var Q=[];for(ae=0;ae<=143;ae++)Q.push(8);for(;ae<=255;ae++)Q.push(9);for(;ae<=279;ae++)Q.push(7);for(;ae<=287;ae++)Q.push(8);Dt(Q,Ct,288)})();var Lt=function(){for(var ae=pe?new Uint8Array(32768):[],Q=0,Z=0;Q<fe.length-1;++Q)for(;Z<fe[Q+1];++Z)ae[Z]=Q;for(;Z<32768;++Z)ae[Z]=29;var se=pe?new Uint8Array(259):[];for(Q=0,Z=0;Q<ee.length-1;++Q)for(;Z<ee[Q+1];++Z)se[Z]=Q;function oe(Re,Te){for(var Ce=0;Ce<Re.length;){var Le=Math.min(65535,Re.length-Ce),Ye=Ce+Le==Re.length;for(Te.write_shift(1,+Ye),Te.write_shift(2,Le),Te.write_shift(2,~Le&65535);Le-- >0;)Te[Te.l++]=Re[Ce++]}return Te.l}function Ae(Re,Te){for(var Ce=0,Le=0,Ye=pe?new Uint16Array(32768):[];Le<Re.length;){var nt=Math.min(65535,Re.length-Le);if(nt<10){for(Ce=Ge(Te,Ce,+(Le+nt==Re.length)),Ce&7&&(Ce+=8-(Ce&7)),Te.l=Ce/8|0,Te.write_shift(2,nt),Te.write_shift(2,~nt&65535);nt-- >0;)Te[Te.l++]=Re[Le++];Ce=Te.l*8;continue}Ce=Ge(Te,Ce,+(Le+nt==Re.length)+2);for(var pt=0;nt-- >0;){var et=Re[Le];pt=(pt<<5^et)&32767;var ct=-1,Ft=0;if((ct=Ye[pt])&&(ct|=Le&-32768,ct>Le&&(ct-=32768),ct<Le))for(;Re[ct+Ft]==Re[Le+Ft]&&Ft<250;)++Ft;if(Ft>2){et=se[Ft],et<=22?Ce=lt(Te,Ce,Ne[et+1]>>1)-1:(lt(Te,Ce,3),Ce+=5,lt(Te,Ce,Ne[et-23]>>5),Ce+=3);var ar=et<8?0:et-4>>2;ar>0&&(ut(Te,Ce,Ft-ee[et]),Ce+=ar),et=ae[Le-ct],Ce=lt(Te,Ce,Ne[et]>>3),Ce-=3;var or=et<4?0:et-2>>1;or>0&&(ut(Te,Ce,Le-ct-fe[et]),Ce+=or);for(var Or=0;Or<Ft;++Or)Ye[pt]=Le&32767,pt=(pt<<5^Re[Le])&32767,++Le;nt-=Ft-1}else et<=143?et=et+48:Ce=rt(Te,Ce,1),Ce=lt(Te,Ce,Ne[et]),Ye[pt]=Le&32767,++Le}Ce=lt(Te,Ce,0)-1}return Te.l=(Ce+7)/8|0,Te.l}return function(Te,Ce){return Te.length<8?oe(Te,Ce):Ae(Te,Ce)}}();function Gt(q){var ae=je(50+Math.floor(q.length*1.1)),Q=Lt(q,ae);return ae.slice(0,Q)}var dt=pe?new Uint16Array(32768):bt(32768),Wr=pe?new Uint16Array(32768):bt(32768),Qt=pe?new Uint16Array(128):bt(128),Qn=1,sr=1;function Fr(q,ae){var Q=ue(q,ae)+257;ae+=5;var Z=ue(q,ae)+1;ae+=5;var se=Fe(q,ae)+4;ae+=4;for(var oe=0,Ae=pe?new Uint8Array(19):bt(19),Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Te=1,Ce=pe?new Uint8Array(8):bt(8),Le=pe?new Uint8Array(8):bt(8),Ye=Ae.length,nt=0;nt<se;++nt)Ae[z[nt]]=oe=at(q,ae),Te<oe&&(Te=oe),Ce[oe]++,ae+=3;var pt=0;for(Ce[0]=0,nt=1;nt<=Te;++nt)Le[nt]=pt=pt+Ce[nt-1]<<1;for(nt=0;nt<Ye;++nt)(pt=Ae[nt])!=0&&(Re[nt]=Le[pt]++);var et=0;for(nt=0;nt<Ye;++nt)if(et=Ae[nt],et!=0){pt=Ne[Re[nt]]>>8-et;for(var ct=(1<<7-et)-1;ct>=0;--ct)Qt[pt|ct<<et]=et&7|nt<<3}var Ft=[];for(Te=1;Ft.length<Q+Z;)switch(pt=Qt[We(q,ae)],ae+=pt&7,pt>>>=3){case 16:for(oe=3+Ze(q,ae),ae+=2,pt=Ft[Ft.length-1];oe-- >0;)Ft.push(pt);break;case 17:for(oe=3+at(q,ae),ae+=3;oe-- >0;)Ft.push(0);break;case 18:for(oe=11+We(q,ae),ae+=7;oe-- >0;)Ft.push(0);break;default:Ft.push(pt),Te<pt&&(Te=pt);break}var ar=Ft.slice(0,Q),or=Ft.slice(Q);for(nt=Q;nt<286;++nt)ar[nt]=0;for(nt=Z;nt<30;++nt)or[nt]=0;return Qn=Dt(ar,dt,286),sr=Dt(or,Wr,30),ae}function Gi(q,ae){if(q[0]==3&&!(q[1]&3))return[tc(ae),2];for(var Q=0,Z=0,se=z4(ae||1<<18),oe=0,Ae=se.length>>>0,Re=0,Te=0;!(Z&1);){if(Z=at(q,Q),Q+=3,Z>>>1)Z>>1==1?(Re=9,Te=5):(Q=Fr(q,Q),Re=Qn,Te=sr);else{Q&7&&(Q+=8-(Q&7));var Ce=q[Q>>>3]|q[(Q>>>3)+1]<<8;if(Q+=32,Ce>0)for(!ae&&Ae<oe+Ce&&(se=St(se,oe+Ce),Ae=se.length);Ce-- >0;)se[oe++]=q[Q>>>3],Q+=8;continue}for(;;){!ae&&Ae<oe+32767&&(se=St(se,oe+32767),Ae=se.length);var Le=gt(q,Q,Re),Ye=Z>>>1==1?Ct[Le]:dt[Le];if(Q+=Ye&15,Ye>>>=4,!(Ye>>>8&255))se[oe++]=Ye;else{if(Ye==256)break;Ye-=257;var nt=Ye<8?0:Ye-4>>2;nt>5&&(nt=0);var pt=oe+ee[Ye];nt>0&&(pt+=gt(q,Q,nt),Q+=nt),Le=gt(q,Q,Te),Ye=Z>>>1==1?Pt[Le]:Wr[Le],Q+=Ye&15,Ye>>>=4;var et=Ye<4?0:Ye-2>>1,ct=fe[Ye];for(et>0&&(ct+=gt(q,Q,et),Q+=et),!ae&&Ae<pt&&(se=St(se,pt+100),Ae=se.length);oe<pt;)se[oe]=se[oe-ct],++oe}}}return ae?[se,Q+7>>>3]:[se.slice(0,oe),Q+7>>>3]}function Zt(q,ae){var Q=q.slice(q.l||0),Z=Gi(Q,ae);return q.l+=Z[1],Z[0]}function hs(q,ae){if(q)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function Dr(q,ae){var Q=q;Ss(Q,0);var Z=[],se=[],oe={FileIndex:Z,FullPaths:se};P(oe,{root:ae.root});for(var Ae=Q.length-4;(Q[Ae]!=80||Q[Ae+1]!=75||Q[Ae+2]!=5||Q[Ae+3]!=6)&&Ae>=0;)--Ae;Q.l=Ae+4,Q.l+=4;var Re=Q.read_shift(2);Q.l+=6;var Te=Q.read_shift(4);for(Q.l=Te,Ae=0;Ae<Re;++Ae){Q.l+=20;var Ce=Q.read_shift(4),Le=Q.read_shift(4),Ye=Q.read_shift(2),nt=Q.read_shift(2),pt=Q.read_shift(2);Q.l+=8;var et=Q.read_shift(4),ct=o(Q.slice(Q.l+Ye,Q.l+Ye+nt));Q.l+=Ye+nt+pt;var Ft=Q.l;Q.l=et+4,Rn(Q,Ce,Le,oe,ct),Q.l=Ft}return oe}function Rn(q,ae,Q,Z,se){q.l+=2;var oe=q.read_shift(2),Ae=q.read_shift(2),Re=a(q);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var Te=q.read_shift(4),Ce=q.read_shift(4),Le=q.read_shift(4),Ye=q.read_shift(2),nt=q.read_shift(2),pt="",et=0;et<Ye;++et)pt+=String.fromCharCode(q[q.l++]);if(nt){var ct=o(q.slice(q.l,q.l+nt));(ct[21589]||{}).mt&&(Re=ct[21589].mt),((se||{})[21589]||{}).mt&&(Re=se[21589].mt)}q.l+=nt;var Ft=q.slice(q.l,q.l+Ce);switch(Ae){case 8:Ft=M(q,Le);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ae)}var ar=!1;oe&8&&(Te=q.read_shift(4),Te==134695760&&(Te=q.read_shift(4),ar=!0),Ce=q.read_shift(4),Le=q.read_shift(4)),Ce!=ae&&hs(ar,"Bad compressed size: "+ae+" != "+Ce),Le!=Q&&hs(ar,"Bad uncompressed size: "+Q+" != "+Le),Sn(Z,pt,Ft,{unsafe:!0,mt:Re})}function Ri(q,ae){var Q=ae||{},Z=[],se=[],oe=je(1),Ae=Q.compression?8:0,Re=0,Te=0,Ce=0,Le=0,Ye=0,nt=q.FullPaths[0],pt=nt,et=q.FileIndex[0],ct=[],Ft=0;for(Te=1;Te<q.FullPaths.length;++Te)if(pt=q.FullPaths[Te].slice(nt.length),et=q.FileIndex[Te],!(!et.size||!et.content||pt=="Sh33tJ5")){var ar=Le,or=je(pt.length);for(Ce=0;Ce<pt.length;++Ce)or.write_shift(1,pt.charCodeAt(Ce)&127);or=or.slice(0,or.l),ct[Ye]=JO.buf(et.content,0);var Or=et.content;Ae==8&&(Or=B(Or)),oe=je(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,Re),oe.write_shift(2,Ae),et.mt?s(oe,et.mt):oe.write_shift(4,0),oe.write_shift(-4,ct[Ye]),oe.write_shift(4,Or.length),oe.write_shift(4,et.content.length),oe.write_shift(2,or.length),oe.write_shift(2,0),Le+=oe.length,Z.push(oe),Le+=or.length,Z.push(or),Le+=Or.length,Z.push(Or),oe=je(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,Re),oe.write_shift(2,Ae),oe.write_shift(4,0),oe.write_shift(-4,ct[Ye]),oe.write_shift(4,Or.length),oe.write_shift(4,et.content.length),oe.write_shift(2,or.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,ar),Ft+=oe.l,se.push(oe),Ft+=or.length,se.push(or),++Ye}return oe=je(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,Ye),oe.write_shift(2,Ye),oe.write_shift(4,Ft),oe.write_shift(4,Le),oe.write_shift(2,0),li([li(Z),li(se),oe])}var vr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function kt(q,ae){if(q.ctype)return q.ctype;var Q=q.name||"",Z=Q.match(/\.([^\.]+)$/);return Z&&vr[Z[1]]||ae&&(Z=(Q=ae).match(/[\.\\]([^\.\\])+$/),Z&&vr[Z[1]])?vr[Z[1]]:"application/octet-stream"}function ir(q){for(var ae=Jd(q),Q=[],Z=0;Z<ae.length;Z+=76)Q.push(ae.slice(Z,Z+76));return Q.join(`\r
`)+`\r
`}function Ki(q){var ae=q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ce){var Le=Ce.charCodeAt(0).toString(16).toUpperCase();return"="+(Le.length==1?"0"+Le:Le)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],Z=ae.split(`\r
`),se=0;se<Z.length;++se){var oe=Z[se];if(oe.length==0){Q.push("");continue}for(var Ae=0;Ae<oe.length;){var Re=76,Te=oe.slice(Ae,Ae+Re);Te.charAt(Re-1)=="="?Re--:Te.charAt(Re-2)=="="?Re-=2:Te.charAt(Re-3)=="="&&(Re-=3),Te=oe.slice(Ae,Ae+Re),Ae+=Re,Ae<oe.length&&(Te+="="),Q.push(Te)}}return Q.join(`\r
`)}function on(q){for(var ae=[],Q=0;Q<q.length;++Q){for(var Z=q[Q];Q<=q.length&&Z.charAt(Z.length-1)=="=";)Z=Z.slice(0,Z.length-1)+q[++Q];ae.push(Z)}for(var se=0;se<ae.length;++se)ae[se]=ae[se].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return _a(ae.join(`\r
`))}function Un(q,ae,Q){for(var Z="",se="",oe="",Ae,Re=0;Re<10;++Re){var Te=ae[Re];if(!Te||Te.match(/^\s*$/))break;var Ce=Te.match(/^(.*?):\s*([^\s].*)$/);if(Ce)switch(Ce[1].toLowerCase()){case"content-location":Z=Ce[2].trim();break;case"content-type":oe=Ce[2].trim();break;case"content-transfer-encoding":se=Ce[2].trim();break}}switch(++Re,se.toLowerCase()){case"base64":Ae=_a(Bo(ae.slice(Re).join("")));break;case"quoted-printable":Ae=on(ae.slice(Re));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+se)}var Le=Sn(q,Z.slice(Q.length),Ae,{unsafe:!0});oe&&(Le.ctype=oe)}function Fi(q,ae){if(ce(q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=ae&&ae.root||"",Z=(_r&&Buffer.isBuffer(q)?q.toString("binary"):ce(q)).split(`\r
`),se=0,oe="";for(se=0;se<Z.length;++se)if(oe=Z[se],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),Q||(Q=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),oe.slice(0,Q.length)!=Q););var Ae=(Z[1]||"").match(/boundary="(.*?)"/);if(!Ae)throw new Error("MAD cannot find boundary");var Re="--"+(Ae[1]||""),Te=[],Ce=[],Le={FileIndex:Te,FullPaths:Ce};P(Le);var Ye,nt=0;for(se=0;se<Z.length;++se){var pt=Z[se];pt!==Re&&pt!==Re+"--"||(nt++&&Un(Le,Z.slice(Ye,se),Q),Ye=se)}return Le}function xt(q,ae){var Q=ae||{},Z=Q.boundary||"SheetJS";Z="------="+Z;for(var se=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Z.slice(2)+'"',"","",""],oe=q.FullPaths[0],Ae=oe,Re=q.FileIndex[0],Te=1;Te<q.FullPaths.length;++Te)if(Ae=q.FullPaths[Te].slice(oe.length),Re=q.FileIndex[Te],!(!Re.size||!Re.content||Ae=="Sh33tJ5")){Ae=Ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ft){return"_x"+Ft.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ft){return"_u"+Ft.charCodeAt(0).toString(16)+"_"});for(var Ce=Re.content,Le=_r&&Buffer.isBuffer(Ce)?Ce.toString("binary"):ce(Ce),Ye=0,nt=Math.min(1024,Le.length),pt=0,et=0;et<=nt;++et)(pt=Le.charCodeAt(et))>=32&&pt<128&&++Ye;var ct=Ye>=nt*4/5;se.push(Z),se.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+Ae),se.push("Content-Transfer-Encoding: "+(ct?"quoted-printable":"base64")),se.push("Content-Type: "+kt(Re,Ae)),se.push(""),se.push(ct?Ki(Le):ir(Le))}return se.push(Z+`--\r
`),se.join(`\r
`)}function gi(q){var ae={};return P(ae,q),ae}function Sn(q,ae,Q,Z){var se=Z&&Z.unsafe;se||P(q);var oe=!se&&Mr.find(q,ae);if(!oe){var Ae=q.FullPaths[0];ae.slice(0,Ae.length)==Ae?Ae=ae:(Ae.slice(-1)!="/"&&(Ae+="/"),Ae=(Ae+ae).replace("//","/")),oe={name:i(ae),type:2},q.FileIndex.push(oe),q.FullPaths.push(Ae),se||Mr.utils.cfb_gc(q)}return oe.content=Q,oe.size=Q?Q.length:0,Z&&(Z.CLSID&&(oe.clsid=Z.CLSID),Z.mt&&(oe.mt=Z.mt),Z.ct&&(oe.ct=Z.ct)),oe}function ln(q,ae){P(q);var Q=Mr.find(q,ae);if(Q){for(var Z=0;Z<q.FileIndex.length;++Z)if(q.FileIndex[Z]==Q)return q.FileIndex.splice(Z,1),q.FullPaths.splice(Z,1),!0}return!1}function tn(q,ae,Q){P(q);var Z=Mr.find(q,ae);if(Z){for(var se=0;se<q.FileIndex.length;++se)if(q.FileIndex[se]==Z)return q.FileIndex[se].name=i(Q),q.FullPaths[se]=Q,!0}return!1}function Zr(q){R(q,!0)}return e.find=k,e.read=J,e.parse=c,e.write=me,e.writeFile=te,e.utils={cfb_new:gi,cfb_add:Sn,cfb_del:ln,cfb_mov:tn,cfb_gc:Zr,ReadShift:gd,CheckField:vN,prep_blob:Ss,bconcat:li,use_zlib:I,_deflateRaw:Gt,_inflateRaw:Zt,consts:ge},e}();function ZO(t){return typeof t=="string"?Km(t):Array.isArray(t)?TO(t):t}function w0(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Km(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?e0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([ZO(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=_0(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function mi(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function X4(t,e){for(var r=[],n=mi(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function n5(t){for(var e=[],r=mi(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Qm(t){for(var e=[],r=mi(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function e9(t){for(var e=[],r=mi(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var q1=new Date(1899,11,30,0,0,0);function us(t,e){var r=t.getTime(),n=q1.getTime()+(t.getTimezoneOffset()-q1.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var eN=new Date,t9=q1.getTime()+(eN.getTimezoneOffset()-q1.getTimezoneOffset())*6e4,Q4=eN.getTimezoneOffset();function tN(t){var e=new Date;return e.setTime(t*24*60*60*1e3+t9),e.getTimezoneOffset()!==Q4&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Q4)*6e4),e}var J4=new Date("2017-02-19T19:06:09.000Z"),rN=isNaN(J4.getFullYear())?new Date("2/19/17"):J4,r9=rN.getFullYear()==2017;function Hi(t,e){var r=new Date(t);if(r9)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(rN.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Jm(t,e){if(_r&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function cs(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=cs(t[r]));return e}function dn(t,e){for(var r="";r.length<e;)r+=t;return r}function bo(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var n9=["january","february","march","april","may","june","july","august","september","october","november","december"];function Zd(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&n9.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Xt(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return _r?n=qo(r):n=NO(r),Mr.utils.cfb_add(t,e,n)}Mr.utils.cfb_add(t,e,r)}else t.file(e,r)}function i5(){return Mr.utils.cfb_new()}var Ln=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,i9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},s5=n5(i9),a5=/[&<>'"]/g,s9=/[\u0000-\u0008\u000b-\u001f]/g;function Ir(t){var e=t+"";return e.replace(a5,function(r){return s5[r]}).replace(s9,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Z4(t){return Ir(t).replace(/ /g,"_x0020_")}var nN=/[\u0000-\u001f]/g;function a9(t){var e=t+"";return e.replace(a5,function(r){return s5[r]}).replace(/\n/g,"<br/>").replace(nN,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function o9(t){var e=t+"";return e.replace(a5,function(r){return s5[r]}).replace(nN,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function l9(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function u9(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function m2(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function e3(t){var e=tc(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function t3(t){return qo(t,"binary").toString("utf8")}var Ap="foo bar baz",md=_r&&(t3(Ap)==m2(Ap)&&t3||e3(Ap)==m2(Ap)&&e3)||m2,e0=_r?function(t){return qo(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},c9=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),iN=/(^\s|\s$|\n)/;function ui(t,e){return"<"+t+(e.match(iN)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function t0(t){return mi(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function st(t,e,r){return"<"+t+(r!=null?t0(r):"")+(e!=null?(e.match(iN)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function ay(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function f9(t,e){switch(typeof t){case"string":var r=st("vt:lpwstr",Ir(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return st((t|0)==t?"vt:i4":"vt:r8",Ir(String(t)));case"boolean":return st("vt:bool",t?"true":"false")}if(t instanceof Date)return st("vt:filetime",ay(t));throw new Error("Unable to serialize "+t)}var Gn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},uh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],As={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function h9(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function d9(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var r3=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},n3=_r?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:qo(e)})):r3(t)}:r3,i3=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(Qh(t,i)));return n.join("").replace(pd,"")},o5=_r?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(pd,""):i3(t,e,r)}:i3,s3=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},sN=_r?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):s3(t,e,r)}:s3,a3=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Kc(t,i)));return n.join("")},E0=_r?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):a3(e,r,n)}:a3,aN=function(t,e){var r=Ts(t,e);return r>0?E0(t,e+4,e+4+r-1):""},oN=aN,lN=function(t,e){var r=Ts(t,e);return r>0?E0(t,e+4,e+4+r-1):""},uN=lN,cN=function(t,e){var r=2*Ts(t,e);return r>0?E0(t,e+4,e+4+r-1):""},fN=cN,hN=function(e,r){var n=Ts(e,r);return n>0?o5(e,r+4,r+4+n):""},dN=hN,pN=function(t,e){var r=Ts(t,e);return r>0?E0(t,e+4,e+4+r):""},mN=pN,gN=function(t,e){return h9(t,e)},H1=gN,l5=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};_r&&(oN=function(e,r){if(!Buffer.isBuffer(e))return aN(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},uN=function(e,r){if(!Buffer.isBuffer(e))return lN(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},fN=function(e,r){if(!Buffer.isBuffer(e))return cN(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},dN=function(e,r){if(!Buffer.isBuffer(e))return hN(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},mN=function(e,r){if(!Buffer.isBuffer(e))return pN(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},H1=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):gN(e,r)},l5=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Kc=function(t,e){return t[e]},Qh=function(t,e){return t[e+1]*256+t[e]},p9=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Ts=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Fu=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},m9=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function gd(t,e){var r="",n,i,s=[],a,o,l,u;switch(e){case"dbcs":if(u=this.l,_r&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(Qh(this,u)),u+=2;t*=2;break;case"utf8":r=E0(this,this.l,this.l+t);break;case"utf16le":t*=2,r=o5(this,this.l,this.l+t);break;case"wstr":return gd.call(this,t,"dbcs");case"lpstr-ansi":r=oN(this,this.l),t=4+Ts(this,this.l);break;case"lpstr-cp":r=uN(this,this.l),t=4+Ts(this,this.l);break;case"lpwstr":r=fN(this,this.l),t=4+2*Ts(this,this.l);break;case"lpp4":t=4+Ts(this,this.l),r=dN(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ts(this,this.l),r=mN(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Kc(this,this.l+t++))!==0;)s.push(wp(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=Qh(this,this.l+t))!==0;)s.push(wp(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Kc(this,u),this.l=u+1,o=gd.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(wp(Qh(this,u))),u+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Kc(this,u),this.l=u+1,o=gd.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(wp(Kc(this,u))),u+=1}r=s.join("");break;default:switch(t){case 1:return n=Kc(this,this.l),this.l++,n;case 2:return n=(e==="i"?p9:Qh)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?Fu:m9)(this,this.l),this.l+=4,n):(i=Ts(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=H1(this,this.l):i=H1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=sN(this,this.l,t);break}}return this.l+=t,r}var g9=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},v9=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},y9=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function x9(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)y9(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,g9(this,e,this.l);break;case 8:if(n=8,r==="f"){d9(this,e,this.l);break}case 16:break;case-4:n=4,v9(this,e,this.l);break}return this.l+=n,this}function vN(t,e){var r=sN(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ss(t,e){t.l=e,t.read_shift=gd,t.chk=vN,t.write_shift=x9}function Ja(t,e){t.l+=e}function je(t){var e=tc(t);return Ss(e,0),e}function ls(){var t=[],e=_r?256:2048,r=function(u){var c=je(u);return Ss(c,0),c},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},a=function(){return i(),li(t)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function $e(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=hz[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&l5(r)&&t.push(r)}}function vd(t,e,r){var n=cs(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function o3(t,e,r){var n=cs(t);return n.s=vd(n.s,e.s,r),n.e=vd(n.e,e.s,r),n}function yd(t,e){if(t.cRel&&t.c<0)for(t=cs(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=cs(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Rr(t);return!t.cRel&&t.cRel!=null&&(r=E9(r)),!t.rRel&&t.rRel!=null&&(r=_9(r)),r}function g2(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ii(t.s.c)+":"+(t.e.cRel?"":"$")+Ii(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+hi(t.s.r)+":"+(t.e.rRel?"":"$")+hi(t.e.r):yd(t.s,e.biff)+":"+yd(t.e,e.biff)}function u5(t){return parseInt(w9(t),10)-1}function hi(t){return""+(t+1)}function _9(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function w9(t){return t.replace(/\$(\d+)$/,"$1")}function c5(t){for(var e=S9(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Ii(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function E9(t){return t.replace(/^([A-Z])/,"$$$1")}function S9(t){return t.replace(/^\$([A-Z])/,"$1")}function A9(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Kn(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Rr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Ps(t){var e=t.indexOf(":");return e==-1?{s:Kn(t),e:Kn(t)}:{s:Kn(t.slice(0,e)),e:Kn(t.slice(e+1))}}function Pn(t,e){return typeof e>"u"||typeof e=="number"?Pn(t.s,t.e):(typeof t!="string"&&(t=Rr(t)),typeof e!="string"&&(e=Rr(e)),t==e?t:t+":"+e)}function Jr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function l3(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=eu(t.z,r?us(e):e)}catch{}try{return t.w=eu((t.XF||{}).numFmtId||(r?14:0),r?us(e):e)}catch{return""+e}}function Vo(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?S0[t.v]||t.v:e==null?l3(t,t.v):l3(t,e))}function fc(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function yN(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Kn(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var c=Jr(s["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),a==-1&&(u.e.r=a=c.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[h].length;++p)if(!(typeof e[h][p]>"u")){var m={v:e[h][p]},x=a+h,g=o+p;if(u.s.r>x&&(u.s.r=x),u.s.c>g&&(u.s.c=g),u.e.r<x&&(u.e.r=x),u.e.c<g&&(u.e.c=g),e[h][p]&&typeof e[h][p]=="object"&&!Array.isArray(e[h][p])&&!(e[h][p]instanceof Date))m=e[h][p];else if(Array.isArray(m.v)&&(m.f=e[h][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||pn[14],n.cellDates?(m.t="d",m.w=eu(m.z,us(m.v))):(m.t="n",m.v=us(m.v),m.w=eu(m.z,m.v))):m.t="s";if(i)s[x]||(s[x]=[]),s[x][g]&&s[x][g].z&&(m.z=s[x][g].z),s[x][g]=m;else{var S=Rr({c:g,r:x});s[S]&&s[S].z&&(m.z=s[S].z),s[S]=m}}}return u.s.c<1e7&&(s["!ref"]=Pn(u)),s}function ch(t,e){return yN(null,t,e)}function T9(t){return t.read_shift(4,"i")}function Aa(t,e){return e||(e=je(4)),e.write_shift(4,t),e}function Pi(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Yn(t,e){var r=!1;return e==null&&(r=!0,e=je(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function N9(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function b9(t,e){return e||(e=je(4)),e.write_shift(2,0),e.write_shift(2,0),e}function f5(t,e){var r=t.l,n=t.read_shift(1),i=Pi(t),s=[],a={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(N9(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function C9(t,e){var r=!1;return e==null&&(r=!0,e=je(15+4*t.t.length)),e.write_shift(1,0),Yn(t.t,e),r?e.slice(0,e.l):e}var k9=f5;function I9(t,e){var r=!1;return e==null&&(r=!0,e=je(23+4*t.t.length)),e.write_shift(1,1),Yn(t.t,e),e.write_shift(4,1),b9({},e),r?e.slice(0,e.l):e}function Zs(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function hc(t,e){return e==null&&(e=je(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function dc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function pc(t,e){return e==null&&(e=je(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var P9=Pi,xN=Yn;function h5(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function W1(t,e){var r=!1;return e==null&&(r=!0,e=je(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var L9=Pi,oy=h5,d5=W1;function _N(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?H1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Fu(e,0)>>2;return r?i/100:i}function wN(t,e){e==null&&(e=je(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function EN(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function R9(t,e){return e||(e=je(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var mc=EN,fh=R9;function hh(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function rc(t,e){return(e||je(8)).write_shift(8,t,"f")}function F9(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=q9[i];u&&(e.rgb=x3(u));break;case 2:e.rgb=x3([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function $1(t,e){if(e||(e=je(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function D9(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function O9(t,e){e||(e=je(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var SN=2,ws=3,Tp=11,G1=19,Np=64,j9=65,M9=71,B9=4108,V9=4126,si=80,u3={1:{n:"CodePage",t:SN},2:{n:"Category",t:si},3:{n:"PresentationFormat",t:si},4:{n:"ByteCount",t:ws},5:{n:"LineCount",t:ws},6:{n:"ParagraphCount",t:ws},7:{n:"SlideCount",t:ws},8:{n:"NoteCount",t:ws},9:{n:"HiddenCount",t:ws},10:{n:"MultimediaClipCount",t:ws},11:{n:"ScaleCrop",t:Tp},12:{n:"HeadingPairs",t:B9},13:{n:"TitlesOfParts",t:V9},14:{n:"Manager",t:si},15:{n:"Company",t:si},16:{n:"LinksUpToDate",t:Tp},17:{n:"CharacterCount",t:ws},19:{n:"SharedDoc",t:Tp},22:{n:"HyperlinksChanged",t:Tp},23:{n:"AppVersion",t:ws,p:"version"},24:{n:"DigSig",t:j9},26:{n:"ContentType",t:si},27:{n:"ContentStatus",t:si},28:{n:"Language",t:si},29:{n:"Version",t:si},255:{},2147483648:{n:"Locale",t:G1},2147483651:{n:"Behavior",t:G1},1919054434:{}},c3={1:{n:"CodePage",t:SN},2:{n:"Title",t:si},3:{n:"Subject",t:si},4:{n:"Author",t:si},5:{n:"Keywords",t:si},6:{n:"Comments",t:si},7:{n:"Template",t:si},8:{n:"LastAuthor",t:si},9:{n:"RevNumber",t:si},10:{n:"EditTime",t:Np},11:{n:"LastPrinted",t:Np},12:{n:"CreatedDate",t:Np},13:{n:"ModifiedDate",t:Np},14:{n:"PageCount",t:ws},15:{n:"WordCount",t:ws},16:{n:"CharCount",t:ws},17:{n:"Thumbnail",t:M9},18:{n:"Application",t:si},19:{n:"DocSecurity",t:ws},255:{},2147483648:{n:"Locale",t:G1},2147483651:{n:"Behavior",t:G1},1919054434:{}};function U9(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var z9=U9([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),q9=cs(z9),S0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},H9={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},bp={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function AN(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function TN(t,e){var r=e9(H9),n=[],i;n[n.length]=Ln,n[n.length]=st("Types",null,{xmlns:Gn.CT,"xmlns:xsd":Gn.xsd,"xmlns:xsi":Gn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return st("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=st("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:bp[l][e.bookType]||bp[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(u){n[n.length]=st("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:bp[l][e.bookType]||bp[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(u){n[n.length]=st("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var dr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function NN(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function bf(t){var e=[Ln,st("Relationships",null,{xmlns:Gn.RELS})];return mi(t["!id"]).forEach(function(r){e[e.length]=st("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Cr(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[dr.HLINK,dr.XPATH,dr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function W9(t){var e=[Ln];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function f3(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function $9(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function G9(t){var e=[Ln];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(f3(t[r][0],t[r][1])),e.push($9("",t[r][0]));return e.push(f3("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function bN(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+M1.version+"</meta:generator></office:meta></office:document-meta>"}var Wu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function v2(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Ir(e),n[n.length]=r?st(t,e,r):ui(t,e))}function CN(t,e){var r=e||{},n=[Ln,st("cp:coreProperties",null,{"xmlns:cp":Gn.CORE_PROPS,"xmlns:dc":Gn.dc,"xmlns:dcterms":Gn.dcterms,"xmlns:dcmitype":Gn.dcmitype,"xmlns:xsi":Gn.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&v2("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:ay(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&v2("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:ay(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=Wu.length;++s){var a=Wu[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&v2(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Cf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],kN=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function IN(t){var e=[],r=st;return t||(t={}),t.Application="SheetJS",e[e.length]=Ln,e[e.length]=st("Properties",null,{xmlns:Gn.EXT_PROPS,"xmlns:vt":Gn.vt}),Cf.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Ir(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Ir(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function PN(t){var e=[Ln,st("Properties",null,{xmlns:Gn.CUST_PROPS,"xmlns:vt":Gn.vt})];if(!t)return e.join("");var r=1;return mi(t).forEach(function(i){++r,e[e.length]=st("property",f9(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ir(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var h3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function K9(t,e){var r=[];return mi(h3).map(function(n){for(var i=0;i<Wu.length;++i)if(Wu[i][1]==n)return Wu[i];for(i=0;i<Cf.length;++i)if(Cf[i][1]==n)return Cf[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(ui(h3[n[1]]||n[1],i))}}),st("DocumentProperties",r.join(""),{xmlns:As.o})}function Y9(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&mi(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<Wu.length;++a)if(s==Wu[a][1])return;for(a=0;a<Cf.length;++a)if(s==Cf[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(st(Z4(s),o,{"dt:dt":l}))}}),e&&mi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(st(Z4(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+As.o+'">'+i.join("")+"</"+n+">"}function X9(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=je(8);return a.write_shift(4,n),a.write_shift(4,i),a}function d3(t,e){var r=je(4),n=je(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=je(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=X9(e);break;case 31:case 80:for(n=je(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return li([r,n])}var LN=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Q9(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function p3(t,e,r){var n=je(8),i=[],s=[],a=8,o=0,l=je(8),u=je(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),a+=8+l.length,!e){u=je(8),u.write_shift(4,0),i.unshift(u);var c=[je(4)];for(c[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(l=je(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);c.push(l)}l=li(c),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(LN.indexOf(t[o][0])>-1||kN.indexOf(t[o][0])>-1)&&t[o][1]!=null){var p=t[o][1],m=0;if(e){m=+e[t[o][0]];var x=r[m];if(x.p=="version"&&typeof p=="string"){var g=p.split(".");p=(+g[0]<<16)+(+g[1]||0)}l=d3(x.t,p)}else{var S=Q9(p);S==-1&&(S=31,p=String(p)),l=d3(S,p)}s.push(l),u=je(8),u.write_shift(4,e?m:2+o),i.push(u),a+=8+l.length}var w=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,w),w+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),li([n].concat(i).concat(s))}function m3(t,e,r,n,i,s){var a=je(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Mr.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=p3(t,r,n);if(o.push(l),i){var u=p3(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(u)}return li(o)}function J9(t,e){e||(e=je(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function Z9(t,e){return t.read_shift(e)===1}function zi(t,e){return e||(e=je(2)),e.write_shift(2,+!!t),e}function RN(t){return t.read_shift(2,"u")}function Hs(t,e){return e||(e=je(2)),e.write_shift(2,t),e}function FN(t,e,r){return r||(r=je(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function DN(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function ej(t){var e=t.t||"",r=je(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=je(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return li(i)}function tj(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function rj(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):tj(t,n,r)}function nj(t,e,r){if(r.biff>5)return rj(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function ON(t,e,r){return r||(r=je(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function g3(t,e){e||(e=je(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function ij(t){var e=je(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),g3(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&g3(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function nc(t,e,r,n){return n||(n=je(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function sj(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function aj(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function jN(t,e){return e||(e=je(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function p5(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=je(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function oj(t,e){var r=!e||e.biff==8,n=je(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function lj(t,e){var r=!e||e.biff>=8?2:1,n=je(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function uj(t,e){var r=je(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=ej(t[i]);var s=li([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function cj(){var t=je(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function fj(t){var e=je(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function hj(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=je(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function dj(t,e,r,n){var i=je(10);return nc(t,e,n,i),i.write_shift(4,r),i}function pj(t,e,r,n,i){var s=!i||i.biff==8,a=je(8+ +s+(1+s)*r.length);return nc(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function mj(t,e,r,n){var i=r&&r.biff==5;n||(n=je(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function gj(t,e){var r=e.biff==8||!e.biff?4:2,n=je(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function v3(t,e,r,n){var i=r&&r.biff==5;n||(n=je(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function vj(t){var e=je(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function yj(t,e,r,n,i,s){var a=je(8);return nc(t,e,n,a),FN(r,s,a),a}function xj(t,e,r,n){var i=je(14);return nc(t,e,n,i),rc(r,i),i}function _j(t,e,r){if(r.biff<8)return wj(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(sj(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function wj(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=DN(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function Ej(t){var e=je(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)jN(t[r],e);return e}function Sj(t){var e=je(24),r=Kn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return li([e,ij(t[1])])}function Aj(t){var e=t[1].Tooltip,r=je(10+2*(e.length+1));r.write_shift(2,2048);var n=Kn(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function Tj(t){return t||(t=je(4)),t.write_shift(2,1),t.write_shift(2,1),t}function Nj(t,e,r){if(!r.cellStyles)return Ja(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function bj(t,e){var r=je(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Cj(t){for(var e=je(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function kj(t,e,r){var n=je(15);return T0(n,t,e),n.write_shift(8,r,"f"),n}function Ij(t,e,r){var n=je(9);return T0(n,t,e),n.write_shift(2,r),n}var Pj=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=n5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],c=tc(1);switch(l.type){case"base64":c=_a(Bo(o));break;case"binary":c=_a(o);break;case"buffer":case"array":c=o;break}Ss(c,0);var h=c.read_shift(1),p=!!(h&136),m=!1,x=!1;switch(h){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var g=0,S=521;h==2&&(g=c.read_shift(2)),c.l+=3,h!=2&&(g=c.read_shift(4)),g>1048576&&(g=1e6),h!=2&&(S=c.read_shift(2));var w=c.read_shift(2),E=l.codepage||1252;h!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(E=t[c[c.l]]),c.l+=1,c.l+=2),x&&(c.l+=36);for(var T=[],j={},X=Math.min(c.length,h==2?521:S-10-(m?264:0)),J=x?32:11;c.l<X&&c[c.l]!=13;)switch(j={},j.name=B1.utils.decode(E,c.slice(c.l,c.l+J)).replace(/[\u0000\r\n].*$/g,""),c.l+=J,j.type=String.fromCharCode(c.read_shift(1)),h!=2&&!x&&(j.offset=c.read_shift(4)),j.len=c.read_shift(1),h==2&&(j.offset=c.read_shift(2)),j.dec=c.read_shift(1),j.name.length&&T.push(j),h!=2&&(c.l+=x?13:14),j.type){case"B":(!m||j.len!=8)&&l.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(c[c.l]!==13&&(c.l=S-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=S;var P=0,C=0;for(u[0]=[],C=0;C!=T.length;++C)u[0][C]=T[C].name;for(;g-- >0;){if(c[c.l]===42){c.l+=w;continue}for(++c.l,u[++P]=[],C=0,C=0;C!=T.length;++C){var R=c.slice(c.l,c.l+T[C].len);c.l+=T[C].len,Ss(R,0);var O=B1.utils.decode(E,R);switch(T[C].type){case"C":O.trim().length&&(u[P][C]=O.replace(/\s+$/,""));break;case"D":O.length===8?u[P][C]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):u[P][C]=O;break;case"F":u[P][C]=parseFloat(O.trim());break;case"+":case"I":u[P][C]=x?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":u[P][C]=!0;break;case"N":case"F":u[P][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[P][C]="##MEMO##"+(x?parseInt(O.trim(),10):R.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(u[P][C]=+O||0);break;case"@":u[P][C]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":u[P][C]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":u[P][C]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[P][C]=-R.read_shift(-8,"f");break;case"B":if(m&&T[C].len==8){u[P][C]=R.read_shift(8,"f");break}case"G":case"P":R.l+=T[C].len;break;case"0":if(T[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[C].type)}}}if(h!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=T,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=ch(r(o,u),u);return c["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,c}function i(o,l){try{return fc(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var u=l||{};if(+u.codepage>=0&&Qd(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=ls(),h=J1(o,{header:1,raw:!0,cellDates:!0}),p=h[0],m=h.slice(1),x=o["!cols"]||[],g=0,S=0,w=0,E=1;for(g=0;g<p.length;++g){if(((x[g]||{}).DBF||{}).name){p[g]=x[g].DBF.name,++w;continue}if(p[g]!=null){if(++w,typeof p[g]=="number"&&(p[g]=p[g].toString(10)),typeof p[g]!="string")throw new Error("DBF Invalid column name "+p[g]+" |"+typeof p[g]+"|");if(p.indexOf(p[g])!==g){for(S=0;S<1024;++S)if(p.indexOf(p[g]+"_"+S)==-1){p[g]+="_"+S;break}}}}var T=Jr(o["!ref"]),j=[],X=[],J=[];for(g=0;g<=T.e.c-T.s.c;++g){var P="",C="",R=0,O=[];for(S=0;S<m.length;++S)m[S][g]!=null&&O.push(m[S][g]);if(O.length==0||p[g]==null){j[g]="?";continue}for(S=0;S<O.length;++S){switch(typeof O[S]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=O[S]instanceof Date?"D":"C";break;default:C="C"}R=Math.max(R,String(O[S]).length),P=P&&P!=C?"C":C}R>250&&(R=250),C=((x[g]||{}).DBF||{}).type,C=="C"&&x[g].DBF.len>R&&(R=x[g].DBF.len),P=="B"&&C=="N"&&(P="N",J[g]=x[g].DBF.dec,R=x[g].DBF.len),X[g]=P=="C"||C=="N"?R:s[P]||0,E+=X[g],j[g]=P}var k=c.next(32);for(k.write_shift(4,318902576),k.write_shift(4,m.length),k.write_shift(2,296+32*w),k.write_shift(2,E),g=0;g<4;++g)k.write_shift(4,0);for(k.write_shift(4,0|(+e[B6]||3)<<8),g=0,S=0;g<p.length;++g)if(p[g]!=null){var N=c.next(32),F=(p[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,F,"sbcs"),N.write_shift(1,j[g]=="?"?"C":j[g],"sbcs"),N.write_shift(4,S),N.write_shift(1,X[g]||s[j[g]]||0),N.write_shift(1,J[g]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),S+=X[g]||s[j[g]]||0}var ne=c.next(264);for(ne.write_shift(4,13),g=0;g<65;++g)ne.write_shift(4,0);for(g=0;g<m.length;++g){var re=c.next(E);for(re.write_shift(1,0),S=0;S<p.length;++S)if(p[S]!=null)switch(j[S]){case"L":re.write_shift(1,m[g][S]==null?63:m[g][S]?84:70);break;case"B":re.write_shift(8,m[g][S]||0,"f");break;case"N":var he="0";for(typeof m[g][S]=="number"&&(he=m[g][S].toFixed(J[S]||0)),w=0;w<X[S]-he.length;++w)re.write_shift(1,32);re.write_shift(1,he,"sbcs");break;case"D":m[g][S]?(re.write_shift(4,("0000"+m[g][S].getFullYear()).slice(-4),"sbcs"),re.write_shift(2,("00"+(m[g][S].getMonth()+1)).slice(-2),"sbcs"),re.write_shift(2,("00"+m[g][S].getDate()).slice(-2),"sbcs")):re.write_shift(8,"00000000","sbcs");break;case"C":var ge=String(m[g][S]!=null?m[g][S]:"").slice(0,X[S]);for(re.write_shift(1,ge,"sbcs"),w=0;w<X[S]-ge.length;++w)re.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),Lj=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+mi(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,m){var x=t[m];return typeof x=="number"?U4(x):x},n=function(p,m,x){var g=m.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return g==59?p:U4(g)};t["|"]=254;function i(p,m){switch(m.type){case"base64":return s(Bo(p),m);case"binary":return s(p,m);case"buffer":return s(_r&&Buffer.isBuffer(p)?p.toString("binary"):_0(p),m);case"array":return s(Jm(p),m)}throw new Error("Unrecognized type "+m.type)}function s(p,m){var x=p.split(/[\n\r]+/),g=-1,S=-1,w=0,E=0,T=[],j=[],X=null,J={},P=[],C=[],R=[],O=0,k;for(+m.codepage>=0&&Qd(+m.codepage);w!==x.length;++w){O=0;var N=x[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),F=N.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),ne=F[0],re;if(N.length>0)switch(ne){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&j.push(N.slice(3).replace(/;;/g,";"));break;case"C":var he=!1,ge=!1,te=!1,ce=!1,me=-1,Be=-1;for(E=1;E<F.length;++E)switch(F[E].charAt(0)){case"A":break;case"X":S=parseInt(F[E].slice(1))-1,ge=!0;break;case"Y":for(g=parseInt(F[E].slice(1))-1,ge||(S=0),k=T.length;k<=g;++k)T[k]=[];break;case"K":re=F[E].slice(1),re.charAt(0)==='"'?re=re.slice(1,re.length-1):re==="TRUE"?re=!0:re==="FALSE"?re=!1:isNaN(bo(re))?isNaN(Zd(re).getDate())||(re=Hi(re)):(re=bo(re),X!==null&&Q6(X)&&(re=tN(re))),he=!0;break;case"E":ce=!0;var I=IM(F[E].slice(1),{r:g,c:S});T[g][S]=[T[g][S],I];break;case"S":te=!0,T[g][S]=[T[g][S],"S5S"];break;case"G":break;case"R":me=parseInt(F[E].slice(1))-1;break;case"C":Be=parseInt(F[E].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}if(he&&(T[g][S]&&T[g][S].length==2?T[g][S][0]=re:T[g][S]=re,X=null),te){if(ce)throw new Error("SYLK shared formula cannot have own formula");var M=me>-1&&T[me][Be];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");T[g][S][1]=PM(M[1],{r:g-me,c:S-Be})}break;case"F":var B=0;for(E=1;E<F.length;++E)switch(F[E].charAt(0)){case"X":S=parseInt(F[E].slice(1))-1,++B;break;case"Y":for(g=parseInt(F[E].slice(1))-1,k=T.length;k<=g;++k)T[k]=[];break;case"M":O=parseInt(F[E].slice(1))/20;break;case"F":break;case"G":break;case"P":X=j[parseInt(F[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=F[E].slice(1).split(" "),k=parseInt(R[0],10);k<=parseInt(R[1],10);++k)O=parseInt(R[2],10),C[k-1]=O===0?{hidden:!0}:{wch:O},m5(C[k-1]);break;case"C":S=parseInt(F[E].slice(1))-1,C[S]||(C[S]={});break;case"R":g=parseInt(F[E].slice(1))-1,P[g]||(P[g]={}),O>0?(P[g].hpt=O,P[g].hpx=zN(O)):O===0&&(P[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}B<1&&(X=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}}return P.length>0&&(J["!rows"]=P),C.length>0&&(J["!cols"]=C),m&&m.sheetRows&&(T=T.slice(0,m.sheetRows)),[T,J]}function a(p,m){var x=i(p,m),g=x[0],S=x[1],w=ch(g,m);return mi(S).forEach(function(E){w[E]=S[E]}),w}function o(p,m){return fc(a(p,m),m)}function l(p,m,x,g){var S="C;Y"+(x+1)+";X"+(g+1)+";K";switch(p.t){case"n":S+=p.v||0,p.f&&!p.F&&(S+=";E"+v5(p.f,{r:x,c:g}));break;case"b":S+=p.v?"TRUE":"FALSE";break;case"e":S+=p.w||p.v;break;case"d":S+='"'+(p.w||p.v)+'"';break;case"s":S+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function u(p,m){m.forEach(function(x,g){var S="F;W"+(g+1)+" "+(g+1)+" ";x.hidden?S+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=K1(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Y1(x.wpx)),typeof x.wch=="number"&&(S+=Math.round(x.wch))),S.charAt(S.length-1)!=" "&&p.push(S)})}function c(p,m){m.forEach(function(x,g){var S="F;";x.hidden?S+="M0;":x.hpt?S+="M"+20*x.hpt+";":x.hpx&&(S+="M"+20*X1(x.hpx)+";"),S.length>2&&p.push(S+"R"+(g+1))})}function h(p,m){var x=["ID;PWXL;N;E"],g=[],S=Jr(p["!ref"]),w,E=Array.isArray(p),T=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),p["!cols"]&&u(x,p["!cols"]),p["!rows"]&&c(x,p["!rows"]),x.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var j=S.s.r;j<=S.e.r;++j)for(var X=S.s.c;X<=S.e.c;++X){var J=Rr({r:j,c:X});w=E?(p[j]||[])[X]:p[J],!(!w||w.v==null&&(!w.f||w.F))&&g.push(l(w,p,j,X))}return x.join(T)+T+g.join(T)+T+"E"+T}return{to_workbook:o,to_sheet:a,from_sheet:h}}(),Rj=function(){function t(s,a){switch(a.type){case"base64":return e(Bo(s),a);case"binary":return e(s,a);case"buffer":return e(_r&&Buffer.isBuffer(s)?s.toString("binary"):_0(s),a);case"array":return e(Jm(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,u=-1,c=0,h=[];c!==o.length;++c){if(o[c].trim()==="BOT"){h[++l]=[],u=0;continue}if(!(l<0)){var p=o[c].trim().split(","),m=p[0],x=p[1];++c;for(var g=o[c]||"";(g.match(/["]/g)||[]).length&1&&c<o.length-1;)g+=`
`+o[++c];switch(g=g.trim(),+m){case-1:if(g==="BOT"){h[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?h[l][u]=!0:g==="FALSE"?h[l][u]=!1:isNaN(bo(x))?isNaN(Zd(x).getDate())?h[l][u]=x:h[l][u]=Hi(x):h[l][u]=bo(x),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),h[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(h=h.slice(0,a.sheetRows)),h}function r(s,a){return ch(t(s,a),a)}function n(s,a){return fc(r(s,a),a)}var i=function(){var s=function(l,u,c,h,p){l.push(u),l.push(c+","+h),l.push('"'+p.replace(/"/g,'""')+'"')},a=function(l,u,c,h){l.push(u+","+c),l.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var u=[],c=Jr(l["!ref"]),h,p=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,c.e.r-c.s.r+1,""),s(u,"TUPLES",0,c.e.c-c.s.c+1,""),s(u,"DATA",0,0,"");for(var m=c.s.r;m<=c.e.r;++m){a(u,-1,0,"BOT");for(var x=c.s.c;x<=c.e.c;++x){var g=Rr({r:m,c:x});if(h=p?(l[m]||[])[x]:l[g],!h){a(u,1,0,"");continue}switch(h.t){case"n":var S=h.w;!S&&h.v!=null&&(S=h.v),S==null?h.f&&!h.F?a(u,1,0,"="+h.f):a(u,1,0,""):a(u,0,S,"V");break;case"b":a(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=eu(h.z||pn[14],us(Hi(h.v)))),a(u,0,h.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var w=`\r
`,E=u.join(w);return E}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),MN=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,p){for(var m=h.split(`
`),x=-1,g=-1,S=0,w=[];S!==m.length;++S){var E=m[S].trim().split(":");if(E[0]==="cell"){var T=Kn(E[1]);if(w.length<=T.r)for(x=w.length;x<=T.r;++x)w[x]||(w[x]=[]);switch(x=T.r,g=T.c,E[2]){case"t":w[x][g]=t(E[3]);break;case"v":w[x][g]=+E[3];break;case"vtf":var j=E[E.length-1];case"vtc":switch(E[3]){case"nl":w[x][g]=!!+E[4];break;default:w[x][g]=+E[4];break}E[2]=="vtf"&&(w[x][g]=[w[x][g],j])}}}return p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),w}function n(h,p){return ch(r(h,p),p)}function i(h,p){return fc(n(h,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var p=[],m=[],x,g="",S=Ps(h["!ref"]),w=Array.isArray(h),E=S.s.r;E<=S.e.r;++E)for(var T=S.s.c;T<=S.e.c;++T)if(g=Rr({r:E,c:T}),x=w?(h[E]||[])[T]:h[g],!(!x||x.v==null||x.t==="z")){switch(m=["cell",g,"t"],x.t){case"s":case"str":m.push(e(x.v));break;case"n":x.f?(m[2]="vtf",m[3]="n",m[4]=x.v,m[5]=e(x.f)):(m[2]="v",m[3]=x.v);break;case"b":m[2]="vt"+(x.f?"f":"c"),m[3]="nl",m[4]=x.v?"1":"0",m[5]=e(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var j=us(Hi(x.v));m[2]="vtc",m[3]="nd",m[4]=""+j,m[5]=x.w||eu(x.z||pn[14],j);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function c(h){return[s,a,o,a,u(h),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:c}}(),Fj=function(){function t(c,h,p,m,x){x.raw?h[p][m]=c:c===""||(c==="TRUE"?h[p][m]=!0:c==="FALSE"?h[p][m]=!1:isNaN(bo(c))?isNaN(Zd(c).getDate())?h[p][m]=c:h[p][m]=Hi(c):h[p][m]=bo(c))}function e(c,h){var p=h||{},m=[];if(!c||c.length===0)return m;for(var x=c.split(/[\r\n]/),g=x.length-1;g>=0&&x[g].length===0;)--g;for(var S=10,w=0,E=0;E<=g;++E)w=x[E].indexOf(" "),w==-1?w=x[E].length:w++,S=Math.max(S,w);for(E=0;E<=g;++E){m[E]=[];var T=0;for(t(x[E].slice(0,S).trim(),m,E,T,p),T=1;T<=(x[E].length-S)/10+1;++T)t(x[E].slice(S+(T-1)*10,S+T*10).trim(),m,E,T,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(c){for(var h={},p=!1,m=0,x=0;m<c.length;++m)(x=c.charCodeAt(m))==34?p=!p:!p&&x in r&&(h[x]=(h[x]||0)+1);x=[];for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&x.push([h[m],m]);if(!x.length){h=n;for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&x.push([h[m],m])}return x.sort(function(g,S){return g[0]-S[0]||n[g[1]]-n[S[1]]}),r[x.pop()[1]]||44}function s(c,h){var p=h||{},m="",x=p.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(m=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(m=c.charAt(4),c=c.slice(6)):m=i(c.slice(0,1024)):p&&p.FS?m=p.FS:m=i(c.slice(0,1024));var S=0,w=0,E=0,T=0,j=0,X=m.charCodeAt(0),J=!1,P=0,C=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var R=p.dateNF!=null?XO(p.dateNF):null;function O(){var k=c.slice(T,j),N={};if(k.charAt(0)=='"'&&k.charAt(k.length-1)=='"'&&(k=k.slice(1,-1).replace(/""/g,'"')),k.length===0)N.t="z";else if(p.raw)N.t="s",N.v=k;else if(k.trim().length===0)N.t="s",N.v=k;else if(k.charCodeAt(0)==61)k.charCodeAt(1)==34&&k.charCodeAt(k.length-1)==34?(N.t="s",N.v=k.slice(2,-1).replace(/""/g,'"')):LM(k)?(N.t="n",N.f=k.slice(1)):(N.t="s",N.v=k);else if(k=="TRUE")N.t="b",N.v=!0;else if(k=="FALSE")N.t="b",N.v=!1;else if(!isNaN(E=bo(k)))N.t="n",p.cellText!==!1&&(N.w=k),N.v=E;else if(!isNaN(Zd(k).getDate())||R&&k.match(R)){N.z=p.dateNF||pn[14];var F=0;R&&k.match(R)&&(k=QO(k,p.dateNF,k.match(R)||[]),F=1),p.cellDates?(N.t="d",N.v=Hi(k,F)):(N.t="n",N.v=us(Hi(k,F))),p.cellText!==!1&&(N.w=eu(N.z,N.v instanceof Date?us(N.v):N.v)),p.cellNF||delete N.z}else N.t="s",N.v=k;if(N.t=="z"||(p.dense?(x[S]||(x[S]=[]),x[S][w]=N):x[Rr({c:w,r:S})]=N),T=j+1,C=c.charCodeAt(T),g.e.c<w&&(g.e.c=w),g.e.r<S&&(g.e.r=S),P==X)++w;else if(w=0,++S,p.sheetRows&&p.sheetRows<=S)return!0}e:for(;j<c.length;++j)switch(P=c.charCodeAt(j)){case 34:C===34&&(J=!J);break;case X:case 10:case 13:if(!J&&O())break e;break}return j-T>0&&O(),x["!ref"]=Pn(g),x}function a(c,h){return!(h&&h.PRN)||h.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?s(c,h):ch(e(c,h),h)}function o(c,h){var p="",m=h.type=="string"?[0,0,0,0]:$z(c,h);switch(h.type){case"base64":p=Bo(c);break;case"binary":p=c;break;case"buffer":h.codepage==65001?p=c.toString("utf8"):h.codepage&&typeof B1<"u"||(p=_r&&Buffer.isBuffer(c)?c.toString("binary"):_0(c));break;case"array":p=Jm(c);break;case"string":p=c;break;default:throw new Error("Unrecognized type "+h.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=md(p.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?p=md(p):h.type=="binary"&&typeof B1<"u",p.slice(0,19)=="socialcalc:version:"?MN.to_sheet(h.type=="string"?p:md(p),h):a(p,h)}function l(c,h){return fc(o(c,h),h)}function u(c){for(var h=[],p=Jr(c["!ref"]),m,x=Array.isArray(c),g=p.s.r;g<=p.e.r;++g){for(var S=[],w=p.s.c;w<=p.e.c;++w){var E=Rr({r:g,c:w});if(m=x?(c[g]||[])[w]:c[E],!m||m.v==null){S.push("          ");continue}for(var T=(m.w||(Vo(m),m.w)||"").slice(0,10);T.length<10;)T+=" ";S.push(T+(w===0?" ":""))}h.push(S.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),y3=function(){function t(I,M,B){if(I){Ss(I,I.l||0);for(var z=B.Enum||me;I.l<I.length;){var ee=I.read_shift(2),fe=z[ee]||z[65535],ve=I.read_shift(2),pe=I.l+ve,Ne=fe.f&&fe.f(I,ve,B);if(I.l=pe,M(Ne,fe,ee))return}}}function e(I,M){switch(M.type){case"base64":return r(_a(Bo(I)),M);case"binary":return r(_a(I),M);case"buffer":case"array":return r(I,M)}throw"Unsupported type "+M.type}function r(I,M){if(!I)return I;var B=M||{},z=B.dense?[]:{},ee="Sheet1",fe="",ve=0,pe={},Ne=[],Me=[],qe={s:{r:0,c:0},e:{r:0,c:0}},Ze=B.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)B.Enum=me,t(I,function(We,gt,Ge){switch(Ge){case 0:B.vers=We,We>=4096&&(B.qpro=!0);break;case 6:qe=We;break;case 204:We&&(fe=We);break;case 222:fe=We;break;case 15:case 51:B.qpro||(We[1].v=We[1].v.slice(1));case 13:case 14:case 16:Ge==14&&(We[2]&112)==112&&(We[2]&15)>1&&(We[2]&15)<15&&(We[1].z=B.dateNF||pn[14],B.cellDates&&(We[1].t="d",We[1].v=tN(We[1].v))),B.qpro&&We[3]>ve&&(z["!ref"]=Pn(qe),pe[ee]=z,Ne.push(ee),z=B.dense?[]:{},qe={s:{r:0,c:0},e:{r:0,c:0}},ve=We[3],ee=fe||"Sheet"+(ve+1),fe="");var rt=B.dense?(z[We[0].r]||[])[We[0].c]:z[Rr(We[0])];if(rt){rt.t=We[1].t,rt.v=We[1].v,We[1].z!=null&&(rt.z=We[1].z),We[1].f!=null&&(rt.f=We[1].f);break}B.dense?(z[We[0].r]||(z[We[0].r]=[]),z[We[0].r][We[0].c]=We[1]):z[Rr(We[0])]=We[1];break}},B);else if(I[2]==26||I[2]==14)B.Enum=Be,I[2]==14&&(B.qpro=!0,I.l=0),t(I,function(We,gt,Ge){switch(Ge){case 204:ee=We;break;case 22:We[1].v=We[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(We[3]>ve&&(z["!ref"]=Pn(qe),pe[ee]=z,Ne.push(ee),z=B.dense?[]:{},qe={s:{r:0,c:0},e:{r:0,c:0}},ve=We[3],ee="Sheet"+(ve+1)),Ze>0&&We[0].r>=Ze)break;B.dense?(z[We[0].r]||(z[We[0].r]=[]),z[We[0].r][We[0].c]=We[1]):z[Rr(We[0])]=We[1],qe.e.c<We[0].c&&(qe.e.c=We[0].c),qe.e.r<We[0].r&&(qe.e.r=We[0].r);break;case 27:We[14e3]&&(Me[We[14e3][0]]=We[14e3][1]);break;case 1537:Me[We[0]]=We[1],We[0]==ve&&(ee=We[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(z["!ref"]=Pn(qe),pe[fe||ee]=z,Ne.push(fe||ee),!Me.length)return{SheetNames:Ne,Sheets:pe};for(var at={},Fe=[],ue=0;ue<Me.length;++ue)pe[Ne[ue]]?(Fe.push(Me[ue]||Ne[ue]),at[Me[ue]]=pe[Me[ue]]||pe[Ne[ue]]):(Fe.push(Me[ue]),at[Me[ue]]={"!ref":"A1"});return{SheetNames:Fe,Sheets:at}}function n(I,M){var B=M||{};if(+B.codepage>=0&&Qd(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var z=ls(),ee=Jr(I["!ref"]),fe=Array.isArray(I),ve=[];ot(z,0,s(1030)),ot(z,6,l(ee));for(var pe=Math.min(ee.e.r,8191),Ne=ee.s.r;Ne<=pe;++Ne)for(var Me=hi(Ne),qe=ee.s.c;qe<=ee.e.c;++qe){Ne===ee.s.r&&(ve[qe]=Ii(qe));var Ze=ve[qe]+Me,at=fe?(I[Ne]||[])[qe]:I[Ze];if(!(!at||at.t=="z"))if(at.t=="n")(at.v|0)==at.v&&at.v>=-32768&&at.v<=32767?ot(z,13,m(Ne,qe,at.v)):ot(z,14,g(Ne,qe,at.v));else{var Fe=Vo(at);ot(z,15,h(Ne,qe,Fe.slice(0,239)))}}return ot(z,1),z.end()}function i(I,M){var B=M||{};if(+B.codepage>=0&&Qd(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var z=ls();ot(z,0,a(I));for(var ee=0,fe=0;ee<I.SheetNames.length;++ee)(I.Sheets[I.SheetNames[ee]]||{})["!ref"]&&ot(z,27,ce(I.SheetNames[ee],fe++));var ve=0;for(ee=0;ee<I.SheetNames.length;++ee){var pe=I.Sheets[I.SheetNames[ee]];if(!(!pe||!pe["!ref"])){for(var Ne=Jr(pe["!ref"]),Me=Array.isArray(pe),qe=[],Ze=Math.min(Ne.e.r,8191),at=Ne.s.r;at<=Ze;++at)for(var Fe=hi(at),ue=Ne.s.c;ue<=Ne.e.c;++ue){at===Ne.s.r&&(qe[ue]=Ii(ue));var We=qe[ue]+Fe,gt=Me?(pe[at]||[])[ue]:pe[We];if(!(!gt||gt.t=="z"))if(gt.t=="n")ot(z,23,O(at,ue,ve,gt.v));else{var Ge=Vo(gt);ot(z,22,P(at,ue,ve,Ge.slice(0,239)))}}++ve}}return ot(z,1),z.end()}function s(I){var M=je(2);return M.write_shift(2,I),M}function a(I){var M=je(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var B=0,z=0,ee=0,fe=0;fe<I.SheetNames.length;++fe){var ve=I.SheetNames[fe],pe=I.Sheets[ve];if(!(!pe||!pe["!ref"])){++ee;var Ne=Ps(pe["!ref"]);B<Ne.e.r&&(B=Ne.e.r),z<Ne.e.c&&(z=Ne.e.c)}}return B>8191&&(B=8191),M.write_shift(2,B),M.write_shift(1,ee),M.write_shift(1,z),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function o(I,M,B){var z={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&B.qpro?(z.s.c=I.read_shift(1),I.l++,z.s.r=I.read_shift(2),z.e.c=I.read_shift(1),I.l++,z.e.r=I.read_shift(2),z):(z.s.c=I.read_shift(2),z.s.r=I.read_shift(2),M==12&&B.qpro&&(I.l+=2),z.e.c=I.read_shift(2),z.e.r=I.read_shift(2),M==12&&B.qpro&&(I.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function l(I){var M=je(8);return M.write_shift(2,I.s.c),M.write_shift(2,I.s.r),M.write_shift(2,I.e.c),M.write_shift(2,I.e.r),M}function u(I,M,B){var z=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(z[0].c=I.read_shift(1),z[3]=I.read_shift(1),z[0].r=I.read_shift(2),I.l+=2):(z[2]=I.read_shift(1),z[0].c=I.read_shift(2),z[0].r=I.read_shift(2)),z}function c(I,M,B){var z=I.l+M,ee=u(I,M,B);if(ee[1].t="s",B.vers==20768){I.l++;var fe=I.read_shift(1);return ee[1].v=I.read_shift(fe,"utf8"),ee}return B.qpro&&I.l++,ee[1].v=I.read_shift(z-I.l,"cstr"),ee}function h(I,M,B){var z=je(7+B.length);z.write_shift(1,255),z.write_shift(2,M),z.write_shift(2,I),z.write_shift(1,39);for(var ee=0;ee<z.length;++ee){var fe=B.charCodeAt(ee);z.write_shift(1,fe>=128?95:fe)}return z.write_shift(1,0),z}function p(I,M,B){var z=u(I,M,B);return z[1].v=I.read_shift(2,"i"),z}function m(I,M,B){var z=je(7);return z.write_shift(1,255),z.write_shift(2,M),z.write_shift(2,I),z.write_shift(2,B,"i"),z}function x(I,M,B){var z=u(I,M,B);return z[1].v=I.read_shift(8,"f"),z}function g(I,M,B){var z=je(13);return z.write_shift(1,255),z.write_shift(2,M),z.write_shift(2,I),z.write_shift(8,B,"f"),z}function S(I,M,B){var z=I.l+M,ee=u(I,M,B);if(ee[1].v=I.read_shift(8,"f"),B.qpro)I.l=z;else{var fe=I.read_shift(2);j(I.slice(I.l,I.l+fe),ee),I.l+=fe}return ee}function w(I,M,B){var z=M&32768;return M&=-32769,M=(z?I:0)+(M>=8192?M-16384:M),(z?"":"$")+(B?Ii(M):hi(M))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(I,M){Ss(I,0);for(var B=[],z=0,ee="",fe="",ve="",pe="";I.l<I.length;){var Ne=I[I.l++];switch(Ne){case 0:B.push(I.read_shift(8,"f"));break;case 1:fe=w(M[0].c,I.read_shift(2),!0),ee=w(M[0].r,I.read_shift(2),!1),B.push(fe+ee);break;case 2:{var Me=w(M[0].c,I.read_shift(2),!0),qe=w(M[0].r,I.read_shift(2),!1);fe=w(M[0].c,I.read_shift(2),!0),ee=w(M[0].r,I.read_shift(2),!1),B.push(Me+qe+":"+fe+ee)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(I.read_shift(2));break;case 6:{for(var Ze="";Ne=I[I.l++];)Ze+=String.fromCharCode(Ne);B.push('"'+Ze.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:pe=B.pop(),ve=B.pop(),B.push(["AND","OR"][Ne-20]+"("+ve+","+pe+")");break;default:if(Ne<32&&T[Ne])pe=B.pop(),ve=B.pop(),B.push(ve+T[Ne]+pe);else if(E[Ne]){if(z=E[Ne][1],z==69&&(z=I[I.l++]),z>B.length){console.error("WK1 bad formula parse 0x"+Ne.toString(16)+":|"+B.join("|")+"|");return}var at=B.slice(-z);B.length-=z,B.push(E[Ne][0]+"("+at.join(",")+")")}else return Ne<=7?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=24?console.error("WK1 unsupported op "+Ne.toString(16)):Ne<=30?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=115?console.error("WK1 unsupported function opcode "+Ne.toString(16)):console.error("WK1 unrecognized opcode "+Ne.toString(16))}}B.length==1?M[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function X(I){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=I.read_shift(2),M[3]=I[I.l++],M[0].c=I[I.l++],M}function J(I,M){var B=X(I);return B[1].t="s",B[1].v=I.read_shift(M-4,"cstr"),B}function P(I,M,B,z){var ee=je(6+z.length);ee.write_shift(2,I),ee.write_shift(1,B),ee.write_shift(1,M),ee.write_shift(1,39);for(var fe=0;fe<z.length;++fe){var ve=z.charCodeAt(fe);ee.write_shift(1,ve>=128?95:ve)}return ee.write_shift(1,0),ee}function C(I,M){var B=X(I);B[1].v=I.read_shift(2);var z=B[1].v>>1;if(B[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return B[1].v=z,B}function R(I,M){var B=X(I),z=I.read_shift(4),ee=I.read_shift(4),fe=I.read_shift(2);if(fe==65535)return z===0&&ee===3221225472?(B[1].t="e",B[1].v=15):z===0&&ee===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var ve=fe&32768;return fe=(fe&32767)-16446,B[1].v=(1-ve*2)*(ee*Math.pow(2,fe+32)+z*Math.pow(2,fe)),B}function O(I,M,B,z){var ee=je(14);if(ee.write_shift(2,I),ee.write_shift(1,B),ee.write_shift(1,M),z==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var fe=0,ve=0,pe=0,Ne=0;return z<0&&(fe=1,z=-z),ve=Math.log2(z)|0,z/=Math.pow(2,ve-31),Ne=z>>>0,Ne&2147483648||(z/=2,++ve,Ne=z>>>0),z-=Ne,Ne|=2147483648,Ne>>>=0,z*=Math.pow(2,32),pe=z>>>0,ee.write_shift(4,pe),ee.write_shift(4,Ne),ve+=16383+(fe?32768:0),ee.write_shift(2,ve),ee}function k(I,M){var B=R(I);return I.l+=M-14,B}function N(I,M){var B=X(I),z=I.read_shift(4);return B[1].v=z>>6,B}function F(I,M){var B=X(I),z=I.read_shift(8,"f");return B[1].v=z,B}function ne(I,M){var B=F(I);return I.l+=M-10,B}function re(I,M){return I[I.l+M-1]==0?I.read_shift(M,"cstr"):""}function he(I,M){var B=I[I.l++];B>M-1&&(B=M-1);for(var z="";z.length<B;)z+=String.fromCharCode(I[I.l++]);return z}function ge(I,M,B){if(!(!B.qpro||M<21)){var z=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var ee=I.read_shift(M-21,"cstr");return[z,ee]}}function te(I,M){for(var B={},z=I.l+M;I.l<z;){var ee=I.read_shift(2);if(ee==14e3){for(B[ee]=[0,""],B[ee][0]=I.read_shift(2);I[I.l];)B[ee][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return B}function ce(I,M){var B=je(5+I.length);B.write_shift(2,14e3),B.write_shift(2,M);for(var z=0;z<I.length;++z){var ee=I.charCodeAt(z);B[B.l++]=ee>127?95:ee}return B[B.l++]=0,B}var me={0:{n:"BOF",f:RN},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:re},222:{n:"SHEETNAMELP",f:he},65535:{n:""}},Be={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:J},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:k},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:ne},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:re},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ge},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),Dj=/^\s|\s$|[\t\n\r]/;function BN(t,e){if(!e.bookSST)return"";var r=[Ln];r[r.length]=st("sst",null,{xmlns:uh[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(Dj)&&(s+=' xml:space="preserve"'),s+=">"+Ir(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Oj(t){return[t.read_shift(4),t.read_shift(4)]}function jj(t,e){return e||(e=je(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var Mj=C9;function Bj(t){var e=ls();$e(e,159,jj(t));for(var r=0;r<t.length;++r)$e(e,19,Mj(t[r]));return $e(e,160),e.end()}function Vj(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function VN(t){var e=0,r,n=Vj(t),i=n.length+1,s,a,o,l,u;for(r=tc(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=e&16384?1:0,l=e<<1&32767,u=o|l,e=u^a;return e^52811}var Uj=function(){function t(i,s){switch(s.type){case"base64":return e(Bo(i),s);case"binary":return e(i,s);case"buffer":return e(_r&&Buffer.isBuffer(i)?i.toString("binary"):_0(i),s);case"array":return e(Jm(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,h){Array.isArray(o)&&(o[h]=[]);for(var p=/\\\w+\b/g,m=0,x,g=-1;x=p.exec(c);){switch(x[0]){case"\\cell":var S=c.slice(m,p.lastIndex-x[0].length);if(S[0]==" "&&(S=S.slice(1)),++g,S.length){var w={v:S,t:"s"};Array.isArray(o)?o[h][g]=w:o[Rr({r:h,c:g})]=w}break}m=p.lastIndex}g>u.e.c&&(u.e.c=g)}),o["!ref"]=Pn(u),o}function r(i,s){return fc(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=Jr(i["!ref"]),o,l=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){s.push("\\trowd\\trautofit1");for(var c=a.s.c;c<=a.e.c;++c)s.push("\\cellx"+(c+1));for(s.push("\\pard\\intbl"),c=a.s.c;c<=a.e.c;++c){var h=Rr({r:u,c});o=l?(i[u]||[])[c]:i[h],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Vo(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function x3(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var zj=6,Co=zj;function K1(t){return Math.floor((t+Math.round(128/Co)/256)*Co)}function Y1(t){return Math.floor((t-5)/Co*100+.5)/100}function ly(t){return Math.round((t*Co+5)/Co*256)/256}function m5(t){t.width?(t.wpx=K1(t.width),t.wch=Y1(t.wpx),t.MDW=Co):t.wpx?(t.wch=Y1(t.wpx),t.width=ly(t.wch),t.MDW=Co):typeof t.wch=="number"&&(t.width=ly(t.wch),t.wpx=K1(t.width),t.MDW=Co),t.customWidth&&delete t.customWidth}var qj=96,UN=qj;function X1(t){return t*96/UN}function zN(t){return t*UN/96}function Hj(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=st("numFmt",null,{numFmtId:n,formatCode:Ir(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=st("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Wj(t){var e=[];return e[e.length]=st("cellXfs",null),t.forEach(function(r){e[e.length]=st("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=st("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function qN(t,e){var r=[Ln,st("styleSheet",null,{xmlns:uh[0],"xmlns:vt":Gn.vt})],n;return t.SSF&&(n=Hj(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Wj(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function $j(t,e){var r=t.read_shift(2),n=Pi(t);return[r,n]}function Gj(t,e,r){r||(r=je(6+4*e.length)),r.write_shift(2,t),Yn(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Kj(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=D9(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=F9(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Pi(t),n}function Yj(t,e){e||(e=je(25+4*32)),e.write_shift(2,t.sz*20),O9(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),$1(t.color,e);var n=0;return n=2,e.write_shift(1,n),Yn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Xj=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],y2,Qj=Ja;function _3(t,e){e||(e=je(4*3+8*7+16*1)),y2||(y2=n5(Xj));var r=y2[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for($1({auto:1},e),$1({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Jj(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function HN(t,e,r){r||(r=je(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function zh(t,e){return e||(e=je(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Zj=Ja;function eM(t,e){return e||(e=je(51)),e.write_shift(1,0),zh(null,e),zh(null,e),zh(null,e),zh(null,e),zh(null,e),e.length>e.l?e.slice(0,e.l):e}function tM(t,e){return e||(e=je(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),W1(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function rM(t,e,r){var n=je(2052);return n.write_shift(4,t),W1(e,n),W1(r,n),n.length>n.l?n.slice(0,n.l):n}function nM(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&($e(t,615,Aa(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&$e(t,44,Gj(i,e[i]))}),$e(t,616))}}function iM(t){var e=1;$e(t,611,Aa(e)),$e(t,43,Yj({sz:12,color:{theme:1},name:"Calibri",family:2})),$e(t,612)}function sM(t){var e=2;$e(t,603,Aa(e)),$e(t,45,_3({patternType:"none"})),$e(t,45,_3({patternType:"gray125"})),$e(t,604)}function aM(t){var e=1;$e(t,613,Aa(e)),$e(t,46,eM()),$e(t,614)}function oM(t){var e=1;$e(t,626,Aa(e)),$e(t,47,HN({numFmtId:0},65535)),$e(t,627)}function lM(t,e){$e(t,617,Aa(e.length)),e.forEach(function(r){$e(t,47,HN(r,0))}),$e(t,618)}function uM(t){var e=1;$e(t,619,Aa(e)),$e(t,48,tM({xfId:0,name:"Normal"})),$e(t,620)}function cM(t){var e=0;$e(t,505,Aa(e)),$e(t,506)}function fM(t){var e=0;$e(t,508,rM(e,"TableStyleMedium9","PivotStyleMedium4")),$e(t,509)}function hM(t,e){var r=ls();return $e(r,278),nM(r,t.SSF),iM(r),sM(r),aM(r),oM(r),lM(r,e.cellXfs),uM(r),cM(r),fM(r),$e(r,279),r.end()}function WN(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Ln];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function dM(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Pi(t)}}function pM(t){var e=je(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Yn(t.name,e),e.slice(0,e.l)}function mM(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function gM(t){var e=je(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function vM(t,e){var r=je(8+2*e.length);return r.write_shift(4,t),Yn(e,r),r.slice(0,r.l)}function yM(t){return t.l+=4,t.read_shift(4)!=0}function xM(t,e){var r=je(8);return r.write_shift(4,t),r.write_shift(4,1),r}function _M(){var t=ls();return $e(t,332),$e(t,334,Aa(1)),$e(t,335,pM({name:"XLDAPR",version:12e4,flags:3496657072})),$e(t,336),$e(t,339,vM(1,"XLDAPR")),$e(t,52),$e(t,35,Aa(514)),$e(t,4096,Aa(0)),$e(t,4097,Hs(1)),$e(t,36),$e(t,53),$e(t,340),$e(t,337,xM(1)),$e(t,51,gM([[1,0]])),$e(t,338),$e(t,333),t.end()}function $N(){var t=[Ln];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function wM(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Rr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var cf=1024;function GN(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[st("xml",null,{"xmlns:v":As.v,"xmlns:o":As.o,"xmlns:x":As.x,"xmlns:mv":As.mv}).replace(/\/>/,">"),st("o:shapelayout",st("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),st("v:shapetype",[st("v:stroke",null,{joinstyle:"miter"}),st("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];cf<t*1e3;)cf+=1e3;return e.forEach(function(s){var a=Kn(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?st("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=st("v:fill",l,o),c={on:"t",obscured:"t"};++cf,i=i.concat(["<v:shape"+t0({id:"_x0000_s"+cf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,st("v:shadow",null,c),st("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ui("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),ui("x:AutoFill","False"),ui("x:Row",String(a.r)),ui("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function KN(t){var e=[Ln,st("comments",null,{xmlns:uh[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=Ir(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(Ir(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(ui("t",Ir(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(ui("t",Ir(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function EM(t,e,r){var n=[Ln,st("ThreadedComments",null,{xmlns:Gn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(st("threadedComment",ui("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function SM(t){var e=[Ln,st("personList",null,{xmlns:Gn.TCMNT,"xmlns:x":uh[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(st("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function AM(t){var e={};e.iauthor=t.read_shift(4);var r=mc(t);return e.rfx=r.s,e.ref=Rr(r.s),t.l+=16,e}function TM(t,e){return e==null&&(e=je(36)),e.write_shift(4,t[1].iauthor),fh(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var NM=Pi;function bM(t){return Yn(t.slice(0,54))}function CM(t){var e=ls(),r=[];return $e(e,628),$e(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),$e(e,632,bM(i.a)))})}),$e(e,631),$e(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:Kn(n[0]),e:Kn(n[0])};$e(e,635,TM([s,i])),i.t&&i.t.length>0&&$e(e,637,I9(i)),$e(e,636),delete i.iauthor})}),$e(e,634),$e(e,629),e.end()}function kM(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Mr.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var YN=["xlsb","xlsm","xlam","biff8","xla"],IM=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,c=a.length>0?parseInt(a,10)|0:0;return o?c+=e.c:--c,l?u+=e.r:--u,i+(o?"":"$")+Ii(c)+(l?"":"$")+hi(u)}return function(i,s){return e=s,i.replace(t,r)}}(),g5=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,v5=function(){return function(e,r){return e.replace(g5,function(n,i,s,a,o,l){var u=c5(a)-(s?0:r.c),c=u5(l)-(o?0:r.r),h=c==0?"":o?c+1:"["+c+"]",p=u==0?"":s?u+1:"["+u+"]";return i+"R"+h+"C"+p})}}();function PM(t,e){return t.replace(g5,function(r,n,i,s,a,o){return n+(i=="$"?i+s:Ii(c5(s)+e.c))+(a=="$"?a+o:hi(u5(o)+e.r))})}function LM(t){return t.length!=1}function Nn(t){t.l+=1}function tu(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function XN(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return QN(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=tu(t),o=tu(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function QN(t){var e=tu(t),r=tu(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function RM(t,e,r){if(r.biff<8)return QN(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=tu(t),a=tu(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function JN(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return FM(t);var n=t.read_shift(r&&r.biff==12?4:2),i=tu(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function FM(t){var e=tu(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function DM(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function OM(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return jM(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function jM(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function MM(t,e,r){var n=(t[t.l++]&96)>>5,i=XN(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function BM(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=XN(t,s,r);return[n,i,a]}function VM(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function UM(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function zM(t,e,r){var n=(t[t.l++]&96)>>5,i=RM(t,e-1,r);return[n,i]}function qM(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function w3(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function HM(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function WM(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function $M(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function GM(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function KM(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function ZN(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function YM(t){return t.read_shift(2),ZN(t)}function XM(t){return t.read_shift(2),ZN(t)}function QM(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=JN(t,0,r);return[n,i]}function JM(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=OM(t,0,r);return[n,i]}function ZM(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=JN(t,0,r);return[n,i,s]}function eB(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[eV[i],rb[i],n]}function tB(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:rB(t);return[i,(s[0]===0?rb:ZB)[s[1]]]}function rB(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function nB(t,e,r){t.l+=r&&r.biff==2?3:4}function iB(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function sB(t){return t.l++,S0[t.read_shift(1)]}function aB(t){return t.l++,t.read_shift(2)}function oB(t){return t.l++,t.read_shift(1)!==0}function lB(t){return t.l++,hh(t)}function uB(t,e,r){return t.l++,DN(t,e-1,r)}function cB(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Z9(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=S0[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=hh(t);break;case 2:r[1]=nj(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function fB(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?mc:aj)(t));return i}function hB(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=cB(t,r.biff);return a}function dB(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function pB(t,e,r){if(r.biff==5)return mB(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function mB(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function gB(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function vB(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function yB(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function xB(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var _B=Ja,wB=Ja,EB=Ja;function A0(t,e,r){return t.l+=2,[DM(t)]}function y5(t){return t.l+=6,[]}var SB=A0,AB=y5,TB=y5,NB=A0;function eb(t){return t.l+=2,[RN(t),t.read_shift(2)&1]}var bB=A0,CB=eb,kB=y5,IB=A0,PB=A0,LB=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function RB(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=LB[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function FB(t){return t.l+=2,[t.read_shift(4)]}function DB(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function OB(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function jB(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function MB(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function BB(t){return t.l+=4,[0,0]}var E3={1:{n:"PtgExp",f:iB},2:{n:"PtgTbl",f:EB},3:{n:"PtgAdd",f:Nn},4:{n:"PtgSub",f:Nn},5:{n:"PtgMul",f:Nn},6:{n:"PtgDiv",f:Nn},7:{n:"PtgPower",f:Nn},8:{n:"PtgConcat",f:Nn},9:{n:"PtgLt",f:Nn},10:{n:"PtgLe",f:Nn},11:{n:"PtgEq",f:Nn},12:{n:"PtgGe",f:Nn},13:{n:"PtgGt",f:Nn},14:{n:"PtgNe",f:Nn},15:{n:"PtgIsect",f:Nn},16:{n:"PtgUnion",f:Nn},17:{n:"PtgRange",f:Nn},18:{n:"PtgUplus",f:Nn},19:{n:"PtgUminus",f:Nn},20:{n:"PtgPercent",f:Nn},21:{n:"PtgParen",f:Nn},22:{n:"PtgMissArg",f:Nn},23:{n:"PtgStr",f:uB},26:{n:"PtgSheet",f:DB},27:{n:"PtgEndSheet",f:OB},28:{n:"PtgErr",f:sB},29:{n:"PtgBool",f:oB},30:{n:"PtgInt",f:aB},31:{n:"PtgNum",f:lB},32:{n:"PtgArray",f:qM},33:{n:"PtgFunc",f:eB},34:{n:"PtgFuncVar",f:tB},35:{n:"PtgName",f:dB},36:{n:"PtgRef",f:QM},37:{n:"PtgArea",f:MM},38:{n:"PtgMemArea",f:gB},39:{n:"PtgMemErr",f:_B},40:{n:"PtgMemNoMem",f:wB},41:{n:"PtgMemFunc",f:vB},42:{n:"PtgRefErr",f:yB},43:{n:"PtgAreaErr",f:VM},44:{n:"PtgRefN",f:JM},45:{n:"PtgAreaN",f:zM},46:{n:"PtgMemAreaN",f:jB},47:{n:"PtgMemNoMemN",f:MB},57:{n:"PtgNameX",f:pB},58:{n:"PtgRef3d",f:ZM},59:{n:"PtgArea3d",f:BM},60:{n:"PtgRefErr3d",f:xB},61:{n:"PtgAreaErr3d",f:UM},255:{}},VB={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},UB={1:{n:"PtgElfLel",f:eb},2:{n:"PtgElfRw",f:IB},3:{n:"PtgElfCol",f:SB},6:{n:"PtgElfRwV",f:PB},7:{n:"PtgElfColV",f:NB},10:{n:"PtgElfRadical",f:bB},11:{n:"PtgElfRadicalS",f:kB},13:{n:"PtgElfColS",f:AB},15:{n:"PtgElfColSV",f:TB},16:{n:"PtgElfRadicalLel",f:CB},25:{n:"PtgList",f:RB},29:{n:"PtgSxName",f:FB},255:{}},zB={0:{n:"PtgAttrNoop",f:BB},1:{n:"PtgAttrSemi",f:KM},2:{n:"PtgAttrIf",f:$M},4:{n:"PtgAttrChoose",f:HM},8:{n:"PtgAttrGoto",f:WM},16:{n:"PtgAttrSum",f:nB},32:{n:"PtgAttrBaxcel",f:w3},33:{n:"PtgAttrBaxcel",f:w3},64:{n:"PtgAttrSpace",f:YM},65:{n:"PtgAttrSpaceSemi",f:XM},128:{n:"PtgAttrIfError",f:GM},255:{}};function qB(t,e,r,n){if(n.biff<8)return Ja(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=hB(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=fB(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(Ja(t,e)),s}function HB(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=E3[s]||E3[VB[s]],(s===24||s===25)&&(i=(s===24?UB:zB)[t[t.l+1]]),!i||!i.f?Ja(t,e):a.push([i.n,i.f(t,e,r)]);return a}function WB(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var $B={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function GB(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function tb(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function S3(t,e,r){var n=tb(t,e,r);return n=="#REF"?n:GB(n,r)}function Gf(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,u,c,h=0,p=0,m,x="";if(!t[0]||!t[0][0])return"";for(var g=-1,S="",w=0,E=t[0].length;w<E;++w){var T=t[0][w];switch(T[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:S=dn(" ",t[0][g][1][1]);break;case 1:S=dn("\r",t[0][g][1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}u=u+S,g=-1}o.push(u+$B[T[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=vd(T[1][1],a,i),o.push(yd(c,s));break;case"PtgRefN":c=r?vd(T[1][1],r,i):T[1][1],o.push(yd(c,s));break;case"PtgRef3d":h=T[1][1],c=vd(T[1][2],a,i),x=S3(n,h,i),o.push(x+"!"+yd(c,s));break;case"PtgFunc":case"PtgFuncVar":var j=T[1][0],X=T[1][1];j||(j=0),j&=127;var J=j==0?[]:o.slice(-j);o.length-=j,X==="User"&&(X=J.shift()),o.push(X+"("+J.join(",")+")");break;case"PtgBool":o.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(T[1]);break;case"PtgNum":o.push(String(T[1]));break;case"PtgStr":o.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(T[1]);break;case"PtgAreaN":m=o3(T[1][1],r?{s:r}:a,i),o.push(g2(m,i));break;case"PtgArea":m=o3(T[1][1],a,i),o.push(g2(m,i));break;case"PtgArea3d":h=T[1][1],m=T[1][2],x=S3(n,h,i),o.push(x+"!"+g2(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=T[1][2];var P=(n.names||[])[p-1]||(n[0]||[])[p],C=P?P.Name:"SH33TJSNAME"+String(p);C&&C.slice(0,6)=="_xlfn."&&!i.xlfn&&(C=C.slice(6)),o.push(C);break;case"PtgNameX":var R=T[1][1];p=T[1][2];var O;if(i.biff<=5)R<0&&(R=-R),n[R]&&(O=n[R][p]);else{var k="";if(((n[R]||[])[0]||[])[0]==14849||(((n[R]||[])[0]||[])[0]==1025?n[R][p]&&n[R][p].itab>0&&(k=n.SheetNames[n[R][p].itab-1]+"!"):k=n.SheetNames[p-1]+"!"),n[R]&&n[R][p])k+=n[R][p].Name;else if(n[0]&&n[0][p])k+=n[0][p].Name;else{var N=(tb(n,R,i)||"").split(";;");N[p-1]?k=N[p-1]:k+="SH33TJSERRX"}o.push(k);break}O||(O={Name:"SH33TJSERRY"}),o.push(O.Name);break;case"PtgParen":var F="(",ne=")";if(g>=0){switch(S="",t[0][g][1][0]){case 2:F=dn(" ",t[0][g][1][1])+F;break;case 3:F=dn("\r",t[0][g][1][1])+F;break;case 4:ne=dn(" ",t[0][g][1][1])+ne;break;case 5:ne=dn("\r",t[0][g][1][1])+ne;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(F+o.pop()+ne);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:T[1][1],r:T[1][0]};var re={c:r.c,r:r.r};if(n.sharedf[Rr(c)]){var he=n.sharedf[Rr(c)];o.push(Gf(he,a,re,n,i))}else{var ge=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){o.push(Gf(u[1],a,re,n,i)),ge=!0;break}ge||o.push(T[1])}break;case"PtgArray":o.push("{"+WB(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&te.indexOf(t[0][w][0])==-1){T=t[0][g];var ce=!0;switch(T[1][0]){case 4:ce=!1;case 0:S=dn(" ",T[1][1]);break;case 5:ce=!1;case 1:S=dn("\r",T[1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}o.push((ce?S:"")+o.pop()+(ce?"":S)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function KB(t){if(t==null){var e=je(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return rc(t);return rc(0)}function YB(t,e,r,n,i){var s=nc(e,r,i),a=KB(t.v),o=je(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=je(t.bf.length),c=0;c<t.bf.length;++c)u[c]=t.bf[c];var h=li([s,a,o,u]);return h}function Zm(t,e,r){var n=t.read_shift(4),i=HB(t,n,r),s=t.read_shift(4),a=s>0?qB(t,s,i,r):null;return[i,a]}var XB=Zm,eg=Zm,QB=Zm,JB=Zm,ZB={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},rb={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},eV={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function tV(t){var e="of:="+t.replace(g5,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function rV(t){return t.replace(/\./,"!")}var xd=typeof Map<"u";function x5(t,e,r){var n=0,i=t.length;if(r){if(xd?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=xd?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(xd?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function tg(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Co=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Y1(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=ly(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function nb(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function cu(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){J6(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function nV(t,e,r){if(t&&t["!ref"]){var n=Jr(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function iV(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Pn(t[r])+'"/>';return e+"</mergeCells>"}function sV(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=e0(Ir(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+st("outlinePr",null,u)}!s&&!o||(i[i.length]=st("sheetPr",o,a))}var aV=["objects","scenarios","selectLockedCells","selectUnlockedCells"],oV=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function lV(t){var e={sheet:1};return aV.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),oV.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=VN(t.password).toString(16).toUpperCase()),st("sheetProtection",null,e)}function uV(t){return nb(t),st("pageMargins",null,t)}function cV(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=st("col",null,tg(i,n)));return r[r.length]="</cols>",r.join("")}function fV(t,e,r,n){var i=typeof t.ref=="string"?t.ref:Pn(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=Ps(i);a.s.r==a.e.r&&(a.e.r=Ps(e["!ref"]).e.r,i=Pn(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),st("autoFilter",null,{ref:i})}function hV(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),st("sheetViews",st("sheetView",null,i),{})}function dV(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=S0[t.v];break;case"d":n&&n.cellDates?i=Hi(t.v,-1).toISOString():(t=cs(t),t.t="n",i=""+(t.v=us(Hi(t.v)))),typeof t.z>"u"&&(t.z=pn[14]);break;default:i=t.v;break}var o=ui("v",Ir(i)),l={r:e},u=cu(n.cellXfs,t,n);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=ui("v",""+x5(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var c=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=st("f",Ir(t.f),c)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),st("c",o,l)}function pV(t,e,r,n){var i=[],s=[],a=Jr(t["!ref"]),o="",l,u="",c=[],h=0,p=0,m=t["!rows"],x=Array.isArray(t),g={r:u},S,w=-1;for(p=a.s.c;p<=a.e.c;++p)c[p]=Ii(p);for(h=a.s.r;h<=a.e.r;++h){for(s=[],u=hi(h),p=a.s.c;p<=a.e.c;++p){l=c[p]+u;var E=x?(t[h]||[])[p]:t[l];E!==void 0&&(o=dV(E,l,t,e))!=null&&s.push(o)}(s.length>0||m&&m[h])&&(g={r:u},m&&m[h]&&(S=m[h],S.hidden&&(g.hidden=1),w=-1,S.hpx?w=X1(S.hpx):S.hpt&&(w=S.hpt),w>-1&&(g.ht=w,g.customHeight=1),S.level&&(g.outlineLevel=S.level)),i[i.length]=st("row",s.join(""),g))}if(m)for(;h<m.length;++h)m&&m[h]&&(g={r:h+1},S=m[h],S.hidden&&(g.hidden=1),w=-1,S.hpx?w=X1(S.hpx):S.hpt&&(w=S.hpt),w>-1&&(g.ht=w,g.customHeight=1),S.level&&(g.outlineLevel=S.level),i[i.length]=st("row","",g));return i.join("")}function ib(t,e,r,n){var i=[Ln,st("worksheet",null,{xmlns:uh[0],"xmlns:r":Gn.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",c=Jr(u);if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),u=Pn(c)}n||(n={}),l["!comments"]=[];var h=[];sV(l,r,t,e,i),i[i.length]=st("dimension",null,{ref:u}),i[i.length]=hV(l,e,t,r),e.sheetFormat&&(i[i.length]=st("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=cV(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=pV(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=lV(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=fV(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=iV(l["!merges"]));var p=-1,m,x=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(x=Cr(n,-1,Ir(g[1].Target).replace(/#.*$/,""),dr.HLINK),m["r:id"]="rId"+x),(p=g[1].Target.indexOf("#"))>-1&&(m.location=Ir(g[1].Target.slice(p+1))),g[1].Tooltip&&(m.tooltip=Ir(g[1].Tooltip)),i[i.length]=st("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=uV(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=ui("ignoredErrors",st("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(x=Cr(n,-1,"../drawings/drawing"+(t+1)+".xml",dr.DRAW),i[i.length]=st("drawing",null,{"r:id":"rId"+x}),l["!drawing"]=h),l["!comments"].length>0&&(x=Cr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",dr.VML),i[i.length]=st("legacyDrawing",null,{"r:id":"rId"+x}),l["!legacy"]=x),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function mV(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function gV(t,e,r){var n=je(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=X1(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:t,c:0},c=0;c<16;++c)if(!(e.s.c>c+1<<10||e.e.c<c<<10)){for(var h=-1,p=-1,m=c<<10;m<c+1<<10;++m){u.c=m;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Rr(u)];x&&(h<0&&(h=m),p=m)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,p))}var g=n.l;return n.l=l,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function vV(t,e,r,n){var i=gV(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&$e(t,0,i)}var yV=mc,xV=fh;function _V(){}function wV(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=P9(t),r}function EV(t,e,r){r==null&&(r=je(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return $1({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),xN(t,r),r.slice(0,r.l)}function SV(t){var e=Zs(t);return[e]}function AV(t,e,r){return r==null&&(r=je(8)),hc(e,r)}function TV(t){var e=dc(t);return[e]}function NV(t,e,r){return r==null&&(r=je(4)),pc(e,r)}function bV(t){var e=Zs(t),r=t.read_shift(1);return[e,r,"b"]}function CV(t,e,r){return r==null&&(r=je(9)),hc(e,r),r.write_shift(1,t.v?1:0),r}function kV(t){var e=dc(t),r=t.read_shift(1);return[e,r,"b"]}function IV(t,e,r){return r==null&&(r=je(5)),pc(e,r),r.write_shift(1,t.v?1:0),r}function PV(t){var e=Zs(t),r=t.read_shift(1);return[e,r,"e"]}function LV(t,e,r){return r==null&&(r=je(9)),hc(e,r),r.write_shift(1,t.v),r}function RV(t){var e=dc(t),r=t.read_shift(1);return[e,r,"e"]}function FV(t,e,r){return r==null&&(r=je(8)),pc(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function DV(t){var e=Zs(t),r=t.read_shift(4);return[e,r,"s"]}function OV(t,e,r){return r==null&&(r=je(12)),hc(e,r),r.write_shift(4,e.v),r}function jV(t){var e=dc(t),r=t.read_shift(4);return[e,r,"s"]}function MV(t,e,r){return r==null&&(r=je(8)),pc(e,r),r.write_shift(4,e.v),r}function BV(t){var e=Zs(t),r=hh(t);return[e,r,"n"]}function VV(t,e,r){return r==null&&(r=je(16)),hc(e,r),rc(t.v,r),r}function UV(t){var e=dc(t),r=hh(t);return[e,r,"n"]}function zV(t,e,r){return r==null&&(r=je(12)),pc(e,r),rc(t.v,r),r}function qV(t){var e=Zs(t),r=_N(t);return[e,r,"n"]}function HV(t,e,r){return r==null&&(r=je(12)),hc(e,r),wN(t.v,r),r}function WV(t){var e=dc(t),r=_N(t);return[e,r,"n"]}function $V(t,e,r){return r==null&&(r=je(8)),pc(e,r),wN(t.v,r),r}function GV(t){var e=Zs(t),r=f5(t);return[e,r,"is"]}function KV(t){var e=Zs(t),r=Pi(t);return[e,r,"str"]}function YV(t,e,r){return r==null&&(r=je(12+4*t.v.length)),hc(e,r),Yn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function XV(t){var e=dc(t),r=Pi(t);return[e,r,"str"]}function QV(t,e,r){return r==null&&(r=je(8+4*t.v.length)),pc(e,r),Yn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function JV(t,e,r){var n=t.l+e,i=Zs(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=eg(t,n-t.l,r);a[3]=Gf(o,null,i,r.supbooks,r)}else t.l=n;return a}function ZV(t,e,r){var n=t.l+e,i=Zs(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=eg(t,n-t.l,r);a[3]=Gf(o,null,i,r.supbooks,r)}else t.l=n;return a}function eU(t,e,r){var n=t.l+e,i=Zs(t);i.r=r["!row"];var s=hh(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=eg(t,n-t.l,r);a[3]=Gf(o,null,i,r.supbooks,r)}else t.l=n;return a}function tU(t,e,r){var n=t.l+e,i=Zs(t);i.r=r["!row"];var s=Pi(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=eg(t,n-t.l,r);a[3]=Gf(o,null,i,r.supbooks,r)}else t.l=n;return a}var rU=mc,nU=fh;function iU(t,e){return e==null&&(e=je(4)),e.write_shift(4,t),e}function sU(t,e){var r=t.l+e,n=mc(t),i=h5(t),s=Pi(t),a=Pi(t),o=Pi(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function aU(t,e){var r=je(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));fh({s:Kn(t[0]),e:Kn(t[0])},r),d5("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Yn(i||"",r),Yn(t[1].Tooltip||"",r),Yn("",r),r.slice(0,r.l)}function oU(){}function lU(t,e,r){var n=t.l+e,i=EN(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=XB(t,n-t.l,r);a[1]=o}else t.l=n;return a}function uU(t,e,r){var n=t.l+e,i=mc(t),s=[i];if(r.cellFormula){var a=JB(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function cU(t,e,r){r==null&&(r=je(18));var n=tg(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var sb=["left","right","top","bottom","header","footer"];function fU(t){var e={};return sb.forEach(function(r){e[r]=hh(t)}),e}function hU(t,e){return e==null&&(e=je(6*8)),nb(t),sb.forEach(function(r){rc(t[r],e)}),e}function dU(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function pU(t,e,r){r==null&&(r=je(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function mU(t){var e=je(24);return e.write_shift(4,4),e.write_shift(4,1),fh(t,e),e}function gU(t,e){return e==null&&(e=je(16*4+2)),e.write_shift(2,t.password?VN(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function vU(){}function yU(){}function xU(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=cs(e),e.z=e.z||pn[14],e.v=us(Hi(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=cu(i.cellXfs,e,i),e.l&&s["!links"].push([Rr(l),e.l]),e.c&&s["!comments"].push([Rr(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=x5(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?$e(t,18,MV(e,l)):$e(t,7,OV(e,l))):(l.t="str",a?$e(t,17,QV(e,l)):$e(t,6,YV(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?$e(t,13,$V(e,l)):$e(t,2,HV(e,l)):a?$e(t,16,zV(e,l)):$e(t,5,VV(e,l)),!0;case"b":return l.t="b",a?$e(t,15,IV(e,l)):$e(t,4,CV(e,l)),!0;case"e":return l.t="e",a?$e(t,14,FV(e,l)):$e(t,3,LV(e,l)),!0}return a?$e(t,12,NV(e,l)):$e(t,1,AV(e,l)),!0}function _U(t,e,r,n){var i=Jr(e["!ref"]||"A1"),s,a="",o=[];$e(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var c=i.s.r;c<=u;++c){a=hi(c),vV(t,e,i,c);var h=!1;if(c<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){c===i.s.r&&(o[p]=Ii(p)),s=o[p]+a;var m=l?(e[c]||[])[p]:e[s];if(!m){h=!1;continue}h=xU(t,m,c,p,n,e,h)}}$e(t,146)}function wU(t,e){!e||!e["!merges"]||($e(t,177,iU(e["!merges"].length)),e["!merges"].forEach(function(r){$e(t,176,nU(r))}),$e(t,178))}function EU(t,e){!e||!e["!cols"]||($e(t,390),e["!cols"].forEach(function(r,n){r&&$e(t,60,cU(n,r))}),$e(t,391))}function SU(t,e){!e||!e["!ref"]||($e(t,648),$e(t,649,mU(Jr(e["!ref"]))),$e(t,650))}function AU(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=Cr(r,-1,n[1].Target.replace(/#.*$/,""),dr.HLINK);$e(t,494,aU(n,i))}}),delete e["!links"]}function TU(t,e,r,n){if(e["!comments"].length>0){var i=Cr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",dr.VML);$e(t,551,d5("rId"+i)),e["!legacy"]=i}}function NU(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Pn(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=Ps(s);o.s.r==o.e.r&&(o.e.r=Ps(e["!ref"]).e.r,s=Pn(o));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),$e(t,161,fh(Jr(s))),$e(t,162)}}function bU(t,e,r){$e(t,133),$e(t,137,pU(e,r)),$e(t,138),$e(t,134)}function CU(t,e){e["!protect"]&&$e(t,535,gU(e["!protect"]))}function kU(t,e,r,n){var i=ls(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=Jr(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],$e(i,129),(r.vbaraw||a["!outline"])&&$e(i,147,EV(o,a["!outline"])),$e(i,148,xV(l)),bU(i,a,r.Workbook),EU(i,a),_U(i,a,t,e),CU(i,a),NU(i,a,r,t),wU(i,a),AU(i,a,n),a["!margins"]&&$e(i,476,hU(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&SU(i,a),TU(i,a,t,n),$e(i,130),i.end()}function IU(t,e){t.l+=10;var r=Pi(t);return{name:r}}var PU=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function LU(t){return!t.Workbook||!t.Workbook.WBProps?"false":u9(t.Workbook.WBProps.date1904)?"true":"false"}var RU="][*?/\\".split("");function ab(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return RU.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function FU(t,e,r){t.forEach(function(n,i){ab(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function DU(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];FU(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)nV(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function ob(t){var e=[Ln];e[e.length]=st("workbook",null,{xmlns:uh[0],"xmlns:r":Gn.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(PU.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=st("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Ir(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=st("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=st("definedName",Ir(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function OU(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=oy(t),r.name=Pi(t),r}function jU(t,e){return e||(e=je(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),d5(t.strRelID,e),Yn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function MU(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Pi(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function BU(t,e){e||(e=je(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),xN(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function VU(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=L9(t),a=QB(t,0,r),o=h5(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function UU(t,e){$e(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};$e(t,156,jU(i))}$e(t,144)}function zU(t,e){e||(e=je(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Yn("SheetJS",e),Yn(M1.version,e),Yn(M1.version,e),Yn("7262",e),e.length>e.l?e.slice(0,e.l):e}function qU(t,e){e||(e=je(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function HU(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||($e(t,135),$e(t,158,qU(i)),$e(t,136))}}function WU(t,e){var r=ls();return $e(r,131),$e(r,128,zU()),$e(r,153,BU(t.Workbook&&t.Workbook.WBProps||null)),HU(r,t),UU(r,t),$e(r,132),r.end()}function $U(t,e,r){return(e.slice(-4)===".bin"?WU:ob)(t)}function GU(t,e,r,n,i){return(e.slice(-4)===".bin"?kU:ib)(t,r,n,i)}function KU(t,e,r){return(e.slice(-4)===".bin"?hM:qN)(t,r)}function YU(t,e,r){return(e.slice(-4)===".bin"?Bj:BN)(t,r)}function XU(t,e,r){return(e.slice(-4)===".bin"?CM:KN)(t)}function QU(t){return(t.slice(-4)===".bin"?_M:$N)()}function JU(t,e){var r=[];return t.Props&&r.push(K9(t.Props,e)),t.Custprops&&r.push(Y9(t.Props,t.Custprops)),r.join("")}function ZU(){return""}function ez(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(st("NumberFormat",null,{"ss:Format":Ir(pn[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(st("Style",s.join(""),a))}),st("Styles",r.join(""))}function lb(t){return st("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+v5(t.Ref,{r:0,c:0})})}function tz(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(lb(i)))}return st("Names",r.join(""))}function rz(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(lb(o)))}return s.join("")}function nz(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(st("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(st("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(st("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(st("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(ui("ProtectContents","True")),t["!protect"].objects&&i.push(ui("ProtectObjects","True")),t["!protect"].scenarios&&i.push(ui("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(ui("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(ui("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":st("WorksheetOptions",i.join(""),{xmlns:As.x})}function iz(t){return t.map(function(e){var r=l9(e.t||""),n=st("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return st("Comment",n,{"ss:Author":e.a})}).join("")}function sz(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Ir(v5(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Kn(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Ir(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Ir(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],c=0;c!=u.length;++c)u[c].s.c!=a.c||u[c].s.r!=a.r||(u[c].e.c>u[c].s.c&&(o["ss:MergeAcross"]=u[c].e.c-u[c].s.c),u[c].e.r>u[c].s.r&&(o["ss:MergeDown"]=u[c].e.r-u[c].s.r));var h="",p="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",p=String(t.v);break;case"b":h="Boolean",p=t.v?"1":"0";break;case"e":h="Error",p=S0[t.v];break;case"d":h="DateTime",p=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||pn[14]);break;case"s":h="String",p=o9(t.v||"");break}var m=cu(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=a.c+1;var x=t.v!=null?p:"",g=t.t=="z"?"":'<Data ss:Type="'+h+'">'+x+"</Data>";return(t.c||[]).length>0&&(g+=iz(t.c)),st("Cell",g,o)}function az(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=zN(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function oz(t,e,r,n){if(!t["!ref"])return"";var i=Jr(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(S,w){m5(S);var E=!!S.width,T=tg(w,S),j={"ss:Index":w+1};E&&(j["ss:Width"]=K1(T.width)),S.hidden&&(j["ss:Hidden"]="1"),o.push(st("Column",null,j))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var c=[az(u,(t["!rows"]||[])[u])],h=i.s.c;h<=i.e.c;++h){var p=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>h)&&!(s[a].s.r>u)&&!(s[a].e.c<h)&&!(s[a].e.r<u)){(s[a].s.c!=h||s[a].s.r!=u)&&(p=!0);break}if(!p){var m={r:u,c:h},x=Rr(m),g=l?(t[u]||[])[h]:t[x];c.push(sz(g,x,t,e,r,n,m))}}c.push("</Row>"),c.length>2&&o.push(c.join(""))}return o.join("")}function lz(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?rz(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?oz(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(nz(s,e,t,r)),n.join("")}function uz(t,e){e||(e={}),t.SSF||(t.SSF=cs(pn)),t.SSF&&(Xm(),Ym(t.SSF),e.revssf=Qm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],cu(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(JU(t,e)),r.push(ZU()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(st("Worksheet",lz(n,e,t),{"ss:Name":Ir(t.SheetNames[n])}));return r[2]=ez(t,e),r[3]=tz(t),Ln+st("Workbook",r.join(""),{xmlns:As.ss,"xmlns:o":As.o,"xmlns:x":As.x,"xmlns:ss":As.ss,"xmlns:dt":As.dt,"xmlns:html":As.html})}var x2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function cz(t,e){var r=[],n=[],i=[],s=0,a,o=X4(u3,"n"),l=X4(c3,"n");if(t.Props)for(a=mi(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=mi(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var u=[];for(s=0;s<i.length;++s)LN.indexOf(i[s][0])>-1||kN.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);n.length&&Mr.utils.cfb_add(e,"/SummaryInformation",m3(n,x2.SI,l,c3)),(r.length||u.length)&&Mr.utils.cfb_add(e,"/DocumentSummaryInformation",m3(r,x2.DSI,o,u3,u.length?u:null,x2.UDI))}function fz(t,e){var r=e||{},n=Mr.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Mr.utils.cfb_add(n,i,ub(t,r)),r.biff==8&&(t.Props||t.Custprops)&&cz(t,n),r.biff==8&&t.vbaraw&&kM(n,Mr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var hz={0:{f:mV},1:{f:SV},2:{f:qV},3:{f:PV},4:{f:bV},5:{f:BV},6:{f:KV},7:{f:DV},8:{f:tU},9:{f:eU},10:{f:JV},11:{f:ZV},12:{f:TV},13:{f:WV},14:{f:RV},15:{f:kV},16:{f:UV},17:{f:XV},18:{f:jV},19:{f:f5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:VU},40:{},42:{},43:{f:Kj},44:{f:$j},45:{f:Qj},46:{f:Zj},47:{f:Jj},48:{},49:{f:T9},50:{},51:{f:mM},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Nj},62:{f:GV},63:{f:wM},64:{f:vU},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ja,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:dU},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:wV},148:{f:yV,p:16},151:{f:oU},152:{},153:{f:MU},154:{},155:{},156:{f:OU},157:{},158:{},159:{T:1,f:Oj},160:{T:-1},161:{T:1,f:mc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:rU},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:dM},336:{T:-1},337:{f:yM,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:oy},357:{},358:{},359:{},360:{T:1},361:{},362:{f:_j},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:lU},427:{f:uU},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:fU},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:_V},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:sU},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:oy},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:NM},633:{T:1},634:{T:-1},635:{T:1,f:AM},636:{T:-1},637:{f:k9},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:IU},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:yU},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ot(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&l5(r)&&t.push(r)}}function dz(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return ot(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;var c=t.next(4);for(c.write_shift(2,s),c.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u;l<i;){for(c=t.next(4),c.write_shift(2,60),u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;c.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u}}}function T0(t,e,r){return t||(t=je(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function pz(t,e,r,n){var i=je(9);return T0(i,t,e),FN(r,n||"b",i),i}function mz(t,e,r){var n=je(8+2*r.length);return T0(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function gz(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?us(Hi(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?ot(t,2,Ij(r,n,i)):ot(t,3,kj(r,n,i));return;case"b":case"e":ot(t,5,pz(r,n,e.v,e.t));return;case"s":case"str":ot(t,4,mz(r,n,(e.v||"").slice(0,255)));return}ot(t,1,T0(null,r,n))}function vz(t,e,r,n){var i=Array.isArray(e),s=Jr(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Pn(s)}for(var u=s.s.r;u<=s.e.r;++u){o=hi(u);for(var c=s.s.c;c<=s.e.c;++c){u===s.s.r&&(l[c]=Ii(c)),a=l[c]+o;var h=i?(e[u]||[])[c]:e[a];h&&gz(t,h,u,c)}}}function yz(t,e){for(var r=e||{},n=ls(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ot(n,r.biff==4?1033:r.biff==3?521:9,p5(t,16,r)),vz(n,t.Sheets[t.SheetNames[i]],i,r),ot(n,10),n.end()}function xz(t,e,r){ot(t,49,hj({sz:12,name:"Arial"},r))}function _z(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ot(t,1054,mj(i,e[i],r))})}function wz(t,e){var r=je(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ot(t,2151,r),r=je(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),jN(Jr(e["!ref"]||"A1"),r),r.write_shift(4,4),ot(t,2152,r)}function Ez(t,e){for(var r=0;r<16;++r)ot(t,224,v3({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){ot(t,224,v3(n,0,e))})}function Sz(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];ot(t,440,Sj(n)),n[1].Tooltip&&ot(t,2048,Aj(n))}delete e["!links"]}function Az(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&ot(t,125,bj(tg(i,n),i))})}}function Tz(t,e,r,n,i){var s=16+cu(i.cellXfs,e,i);if(e.v==null&&!e.bf){ot(t,513,nc(r,n,s));return}if(e.bf)ot(t,6,YB(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?us(Hi(e.v)):e.v;ot(t,515,xj(r,n,a,s));break;case"b":case"e":ot(t,517,yj(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=x5(i.Strings,e.v,i.revStrings);ot(t,253,dj(r,n,o,s))}else ot(t,516,pj(r,n,(e.v||"").slice(0,255),s,i));break;default:ot(t,513,nc(r,n,s))}}function Nz(t,e,r){var n=ls(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),u=e.biff==8,c,h="",p=[],m=Jr(s["!ref"]||"A1"),x=u?65536:16384;if(m.e.c>255||m.e.r>=x){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,x-1)}ot(n,2057,p5(r,16,e)),ot(n,13,Hs(1)),ot(n,12,Hs(100)),ot(n,15,zi(!0)),ot(n,17,zi(!1)),ot(n,16,rc(.001)),ot(n,95,zi(!0)),ot(n,42,zi(!1)),ot(n,43,zi(!1)),ot(n,130,Hs(1)),ot(n,128,vj()),ot(n,131,zi(!1)),ot(n,132,zi(!1)),u&&Az(n,s["!cols"]),ot(n,512,gj(m,e)),u&&(s["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){h=hi(g);for(var S=m.s.c;S<=m.e.c;++S){g===m.s.r&&(p[S]=Ii(S)),c=p[S]+h;var w=l?(s[g]||[])[S]:s[c];w&&(Tz(n,w,g,S,e),u&&w.l&&s["!links"].push([c,w.l]))}}var E=o.CodeName||o.name||i;return u&&ot(n,574,fj((a.Views||[])[0])),u&&(s["!merges"]||[]).length&&ot(n,229,Ej(s["!merges"])),u&&Sz(n,s),ot(n,442,ON(E)),u&&wz(n,s),ot(n,10),n.end()}function bz(t,e,r){var n=ls(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(ot(n,2057,p5(t,5,r)),r.bookType=="xla"&&ot(n,135),ot(n,225,o?Hs(1200):null),ot(n,193,J9(2)),l&&ot(n,191),l&&ot(n,192),ot(n,226),ot(n,92,oj("SheetJS",r)),ot(n,66,Hs(o?1200:1252)),o&&ot(n,353,Hs(0)),o&&ot(n,448),ot(n,317,Cj(t.SheetNames.length)),o&&t.vbaraw&&ot(n,211),o&&t.vbaraw){var u=a.CodeName||"ThisWorkbook";ot(n,442,ON(u))}ot(n,156,Hs(17)),ot(n,25,zi(!1)),ot(n,18,zi(!1)),ot(n,19,Hs(0)),o&&ot(n,431,zi(!1)),o&&ot(n,444,Hs(0)),ot(n,61,cj()),ot(n,64,zi(!1)),ot(n,141,Hs(0)),ot(n,34,zi(LU(t)=="true")),ot(n,14,zi(!0)),o&&ot(n,439,zi(!1)),ot(n,218,Hs(0)),xz(n,t,r),_z(n,t.SSF,r),Ez(n,r),o&&ot(n,352,zi(!1));var c=n.end(),h=ls();o&&ot(h,140,Tj()),o&&r.Strings&&dz(h,252,uj(r.Strings)),ot(h,10);var p=h.end(),m=ls(),x=0,g=0;for(g=0;g<t.SheetNames.length;++g)x+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var S=c.length+x+p.length;for(g=0;g<t.SheetNames.length;++g){var w=s[g]||{};ot(m,133,lj({pos:S,hs:w.Hidden||0,dt:0,name:t.SheetNames[g]},r)),S+=e[g].length}var E=m.end();if(x!=E.length)throw new Error("BS8 "+x+" != "+E.length);var T=[];return c.length&&T.push(c),E.length&&T.push(E),p.length&&T.push(p),li(T)}function Cz(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=cs(pn)),t&&t.SSF&&(Xm(),Ym(t.SSF),r.revssf=Qm(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,_5(r),r.cellXfs=[],cu(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=Nz(i,r,t);return n.unshift(bz(t,n,r)),li(n)}function ub(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Ps(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return Cz(t,e);case 4:case 3:case 2:return yz(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function kz(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>a)&&!(i[u].e.r<r||i[u].e.c<a)){if(i[u].s.r<r||i[u].s.c<a){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var c=Rr({r,c:a}),h=n.dense?(t[r]||[])[a]:t[c],p=h&&h.v!=null&&(h.h||a9(h.w||(Vo(h),h.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?p='<span contenteditable="true">'+p+"</span>":h&&(m["data-t"]=h&&h.t||"z",h.v!=null&&(m["data-v"]=h.v),h.z!=null&&(m["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+h.l.Target+'">'+p+"</a>")),m.id=(n.id||"sjs")+"-"+c,s.push(st("td",p,m))}}var x="<tr>";return x+s.join("")+"</tr>"}var Iz='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Pz="</body></html>";function Lz(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function cb(t,e){var r=e||{},n=r.header!=null?r.header:Iz,i=r.footer!=null?r.footer:Pz,s=[n],a=Ps(t["!ref"]);r.dense=Array.isArray(t),s.push(Lz(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(kz(t,a,o,r));return s.push("</table>"+i),s.join("")}function fb(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?Kn(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var c=Ps(t["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var h=[],p=0,m=t["!rows"]||(t["!rows"]=[]),x=0,g=0,S=0,w=0,E=0,T=0;for(t["!cols"]||(t["!cols"]=[]);x<o.length&&g<l;++x){var j=o[x];if(A3(j)){if(n.display)continue;m[g]={hidden:!0}}var X=j.children;for(S=w=0;S<X.length;++S){var J=X[S];if(!(n.display&&A3(J))){var P=J.hasAttribute("data-v")?J.getAttribute("data-v"):J.hasAttribute("v")?J.getAttribute("v"):c9(J.innerHTML),C=J.getAttribute("data-z")||J.getAttribute("z");for(p=0;p<h.length;++p){var R=h[p];R.s.c==w+s&&R.s.r<g+i&&g+i<=R.e.r&&(w=R.e.c+1-s,p=-1)}T=+J.getAttribute("colspan")||1,((E=+J.getAttribute("rowspan")||1)>1||T>1)&&h.push({s:{r:g+i,c:w+s},e:{r:g+i+(E||1)-1,c:w+s+(T||1)-1}});var O={t:"s",v:P},k=J.getAttribute("data-t")||J.getAttribute("t")||"";P!=null&&(P.length==0?O.t=k||"z":n.raw||P.trim().length==0||k=="s"||(P==="TRUE"?O={t:"b",v:!0}:P==="FALSE"?O={t:"b",v:!1}:isNaN(bo(P))?isNaN(Zd(P).getDate())||(O={t:"d",v:Hi(P)},n.cellDates||(O={t:"n",v:us(O.v)}),O.z=n.dateNF||pn[14]):O={t:"n",v:bo(P)})),O.z===void 0&&C!=null&&(O.z=C);var N="",F=J.getElementsByTagName("A");if(F&&F.length)for(var ne=0;ne<F.length&&!(F[ne].hasAttribute("href")&&(N=F[ne].getAttribute("href"),N.charAt(0)!="#"));++ne);N&&N.charAt(0)!="#"&&(O.l={Target:N}),n.dense?(t[g+i]||(t[g+i]=[]),t[g+i][w+s]=O):t[Rr({c:w+s,r:g+i})]=O,u.e.c<w+s&&(u.e.c=w+s),w+=T}}++g}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,g-1+i),t["!ref"]=Pn(u),g>=l&&(t["!fullref"]=Pn((u.e.r=o.length-x+g-1+i,u))),t}function hb(t,e){var r=e||{},n=r.dense?[]:{};return fb(n,t,e)}function Rz(t,e){return fc(hb(t,e),e)}function A3(t){var e="",r=Fz(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Fz(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Dz=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+t0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Ln+e}}(),T3=function(){var t=function(s){return Ir(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Ir(a.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,c=0,h=Ps(s["!ref"]||"A1"),p=s["!merges"]||[],m=0,x=Array.isArray(s);if(s["!cols"])for(c=0;c<=h.e.c;++c)l.push("        <table:table-column"+(s["!cols"][c]?' table:style-name="co'+s["!cols"][c].ods+'"':"")+`></table:table-column>
`);var g="",S=s["!rows"]||[];for(u=0;u<h.s.r;++u)g=S[u]?' table:style-name="ro'+S[u].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=h.e.r;++u){for(g=S[u]?' table:style-name="ro'+S[u].ods+'"':"",l.push("        <table:table-row"+g+`>
`),c=0;c<h.s.c;++c)l.push(e);for(;c<=h.e.c;++c){var w=!1,E={},T="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>c)&&!(p[m].s.r>u)&&!(p[m].e.c<c)&&!(p[m].e.r<u)){(p[m].s.c!=c||p[m].s.r!=u)&&(w=!0),E["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,E["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(w){l.push(r);continue}var j=Rr({r:u,c}),X=x?(s[u]||[])[c]:s[j];if(X&&X.f&&(E["table:formula"]=Ir(tV(X.f)),X.F&&X.F.slice(0,j.length)==j)){var J=Ps(X.F);E["table:number-matrix-columns-spanned"]=J.e.c-J.s.c+1,E["table:number-matrix-rows-spanned"]=J.e.r-J.s.r+1}if(!X){l.push(e);continue}switch(X.t){case"b":T=X.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=X.v?"true":"false";break;case"n":T=X.w||String(X.v||0),E["office:value-type"]="float",E["office:value"]=X.v||0;break;case"s":case"str":T=X.v==null?"":X.v,E["office:value-type"]="string";break;case"d":T=X.w||Hi(X.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=Hi(X.v).toISOString(),E["table:style-name"]="ce1";break;default:l.push(e);continue}var P=t(T);if(X.l&&X.l.Target){var C=X.l.Target;C=C.charAt(0)=="#"?"#"+rV(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),P=st("text:a",P,{"xlink:href":C.replace(/&/g,"&amp;")})}l.push("          "+st("table:table-cell",st("text:p",P,{}),E)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var c=0;c<u["!cols"].length;++c)if(u["!cols"][c]){var h=u["!cols"][c];if(h.width==null&&h.wpx==null&&h.wch==null)continue;m5(h),h.ods=o;var p=u["!cols"][c].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var c=0;c<u["!rows"].length;++c)if(u["!rows"][c]){u["!rows"][c].ods=l;var h=u["!rows"][c].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Ln],u=t0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),c=t0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+c+`>
`),l.push(bN().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=a.SheetNames.length;++h)l.push(n(a.Sheets[a.SheetNames[h]],a,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function db(t,e){if(e.bookType=="fods")return T3(t,e);var r=i5(),n="",i=[],s=[];return n="mimetype",Xt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Xt(r,n,T3(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Xt(r,n,Dz(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Xt(r,n,Ln+bN()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Xt(r,n,G9(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Xt(r,n,W9(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Q1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Oz(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):_a(e0(t))}function jz(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function ru(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function Mz(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function r0(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function br(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function kf(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function On(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=r0(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=r0(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function ni(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(br(n*8+i.type)),i.type==2&&e.push(br(i.data.length)),e.push(i.data))})}),ru(e)}function pa(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=r0(t,n),s=On(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:kf(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=On(o.data),u=kf(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(a.merge=kf(s[3][0].data)>>>0>0),r.push(a)}return r}function Uc(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:br(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:br(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:br(a.data.length)}],n[2].push({data:ni(a.meta),type:2})});var s=ni(n);e.push(br(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),ru(e)}function Bz(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=r0(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,u=0;if(s==1?(u=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[ru(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=ru(i);if(c.length!=n)throw new Error("Unexpected length: ".concat(c.length," != ").concat(n));return c}function ma(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(Bz(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return ru(e)}function zc(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=br(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return ru(e)}function _2(t,e){var r=new Uint8Array(32),n=Q1(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,Mz(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function w2(t,e){var r=new Uint8Array(32),n=Q1(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function _l(t){var e=On(t);return r0(e[1][0].data)}function Vz(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&kf(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=Q1(t[7][0].data),c=0,h=[],p=Q1(t[4][0].data),m=0,x=[],g=0;g<e.length;++g){if(e[g]==null){u.setUint16(g*2,65535,!0),p.setUint16(g*2,65535);continue}u.setUint16(g*2,c,!0),p.setUint16(g*2,m,!0);var S,w;switch(typeof e[g]){case"string":S=_2({t:"s",v:e[g]},r),w=w2({t:"s",v:e[g]},r);break;case"number":S=_2({t:"n",v:e[g]},r),w=w2({t:"n",v:e[g]},r);break;case"boolean":S=_2({t:"b",v:e[g]},r),w=w2({t:"b",v:e[g]},r);break;default:throw new Error("Unsupported value "+e[g])}h.push(S),c+=S.length,x.push(w),m+=w.length,++l}for(t[2][0].data=br(l);g<t[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),p.setUint16(g*2,65535,!0);return t[6][0].data=ru(h),t[3][0].data=ru(x),l}function Uz(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ps(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Pn(n)));var s=J1(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(M){return M.forEach(function(B){typeof B=="string"&&a.push(B)})});var o={},l=[],u=Mr.read(e.numbers,{type:"base64"});u.FileIndex.map(function(M,B){return[M,u.FullPaths[B]]}).forEach(function(M){var B=M[0],z=M[1];if(B.type==2&&B.name.match(/\.iwa/)){var ee=B.content,fe=ma(ee),ve=pa(fe);ve.forEach(function(pe){l.push(pe.id),o[pe.id]={deps:[],location:z,type:kf(pe.messages[0].meta[1][0].data)}})}}),l.sort(function(M,B){return M-B});var c=l.filter(function(M){return M>1}).map(function(M){return[M,br(M)]});u.FileIndex.map(function(M,B){return[M,u.FullPaths[B]]}).forEach(function(M){var B=M[0];if(M[1],!!B.name.match(/\.iwa/)){var z=pa(ma(B.content));z.forEach(function(ee){ee.messages.forEach(function(fe){c.forEach(function(ve){ee.messages.some(function(pe){return kf(pe.meta[1][0].data)!=11006&&jz(pe.data,ve[1])})&&o[ve[0]].deps.push(ee.id)})})})}});for(var h=Mr.find(u,o[1].location),p=pa(ma(h.content)),m,x=0;x<p.length;++x){var g=p[x];g.id==1&&(m=g)}var S=_l(On(m.messages[0].data)[1][0].data);for(h=Mr.find(u,o[S].location),p=pa(ma(h.content)),x=0;x<p.length;++x)g=p[x],g.id==S&&(m=g);for(S=_l(On(m.messages[0].data)[2][0].data),h=Mr.find(u,o[S].location),p=pa(ma(h.content)),x=0;x<p.length;++x)g=p[x],g.id==S&&(m=g);for(S=_l(On(m.messages[0].data)[2][0].data),h=Mr.find(u,o[S].location),p=pa(ma(h.content)),x=0;x<p.length;++x)g=p[x],g.id==S&&(m=g);var w=On(m.messages[0].data);{w[6][0].data=br(n.e.r+1),w[7][0].data=br(n.e.c+1);var E=_l(w[46][0].data),T=Mr.find(u,o[E].location),j=pa(ma(T.content));{for(var X=0;X<j.length&&j[X].id!=E;++X);if(j[X].id!=E)throw"Bad ColumnRowUIDMapArchive";var J=On(j[X].messages[0].data);J[1]=[],J[2]=[],J[3]=[];for(var P=0;P<=n.e.c;++P){var C=[];C[1]=C[2]=[{type:0,data:br(P+420690)}],J[1].push({type:2,data:ni(C)}),J[2].push({type:0,data:br(P)}),J[3].push({type:0,data:br(P)})}J[4]=[],J[5]=[],J[6]=[];for(var R=0;R<=n.e.r;++R)C=[],C[1]=C[2]=[{type:0,data:br(R+726270)}],J[4].push({type:2,data:ni(C)}),J[5].push({type:0,data:br(R)}),J[6].push({type:0,data:br(R)});j[X].messages[0].data=ni(J)}T.content=zc(Uc(j)),T.size=T.content.length,delete w[46];var O=On(w[4][0].data);{O[7][0].data=br(n.e.r+1);var k=On(O[1][0].data),N=_l(k[2][0].data);T=Mr.find(u,o[N].location),j=pa(ma(T.content));{if(j[0].id!=N)throw"Bad HeaderStorageBucket";var F=On(j[0].messages[0].data);for(R=0;R<s.length;++R){var ne=On(F[2][0].data);ne[1][0].data=br(R),ne[4][0].data=br(s[R].length),F[2][R]={type:F[2][0].type,data:ni(ne)}}j[0].messages[0].data=ni(F)}T.content=zc(Uc(j)),T.size=T.content.length;var re=_l(O[2][0].data);T=Mr.find(u,o[re].location),j=pa(ma(T.content));{if(j[0].id!=re)throw"Bad HeaderStorageBucket";for(F=On(j[0].messages[0].data),P=0;P<=n.e.c;++P)ne=On(F[2][0].data),ne[1][0].data=br(P),ne[4][0].data=br(n.e.r+1),F[2][P]={type:F[2][0].type,data:ni(ne)};j[0].messages[0].data=ni(F)}T.content=zc(Uc(j)),T.size=T.content.length;var he=_l(O[4][0].data);(function(){for(var M=Mr.find(u,o[he].location),B=pa(ma(M.content)),z,ee=0;ee<B.length;++ee){var fe=B[ee];fe.id==he&&(z=fe)}var ve=On(z.messages[0].data);{ve[3]=[];var pe=[];a.forEach(function(qe,Ze){pe[1]=[{type:0,data:br(Ze)}],pe[2]=[{type:0,data:br(1)}],pe[3]=[{type:2,data:Oz(qe)}],ve[3].push({type:2,data:ni(pe)})})}z.messages[0].data=ni(ve);var Ne=Uc(B),Me=zc(Ne);M.content=Me,M.size=M.content.length})();var ge=On(O[3][0].data);{var te=ge[1][0];delete ge[2];var ce=On(te.data);{var me=_l(ce[2][0].data);(function(){for(var M=Mr.find(u,o[me].location),B=pa(ma(M.content)),z,ee=0;ee<B.length;++ee){var fe=B[ee];fe.id==me&&(z=fe)}var ve=On(z.messages[0].data);{delete ve[6],delete ge[7];var pe=new Uint8Array(ve[5][0].data);ve[5]=[];for(var Ne=0,Me=0;Me<=n.e.r;++Me){var qe=On(pe);Ne+=Vz(qe,s[Me],a),qe[1][0].data=br(Me),ve[5].push({data:ni(qe),type:2})}ve[1]=[{type:0,data:br(n.e.c+1)}],ve[2]=[{type:0,data:br(n.e.r+1)}],ve[3]=[{type:0,data:br(Ne)}],ve[4]=[{type:0,data:br(n.e.r+1)}]}z.messages[0].data=ni(ve);var Ze=Uc(B),at=zc(Ze);M.content=at,M.size=M.content.length})()}te.data=ni(ce)}O[3][0].data=ni(ge)}w[4][0].data=ni(O)}m.messages[0].data=ni(w);var Be=Uc(p),I=zc(Be);return h.content=I,h.size=h.content.length,u}function zz(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function _5(t){zz([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function qz(t,e){return e.bookType=="ods"?db(t,e):e.bookType=="numbers"?Uz(t,e):e.bookType=="xlsb"?Hz(t,e):Wz(t,e)}function Hz(t,e){cf=1024,t&&!t.SSF&&(t.SSF=cs(pn)),t&&t.SSF&&(Xm(),Ym(t.SSF),e.revssf=Qm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,xd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=YN.indexOf(e.bookType)>-1,i=AN();_5(e=e||{});var s=i5(),a="",o=0;if(e.cellXfs=[],cu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Xt(s,a,CN(t.Props,e)),i.coreprops.push(a),Cr(e.rels,2,a,dr.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Xt(s,a,IN(t.Props)),i.extprops.push(a),Cr(e.rels,3,a,dr.EXT_PROPS),t.Custprops!==t.Props&&mi(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Xt(s,a,PN(t.Custprops)),i.custprops.push(a),Cr(e.rels,4,a,dr.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var c={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Xt(s,a,GU(o-1,a,e,t,c)),i.sheets.push(a),Cr(e.wbrels,-1,"worksheets/sheet"+o+"."+r,dr.WS[0])}if(h){var m=h["!comments"],x=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+r,Xt(s,g,XU(m,g)),i.comments.push(g),Cr(c,-1,"../comments"+o+"."+r,dr.CMNT),x=!0),h["!legacy"]&&x&&Xt(s,"xl/drawings/vmlDrawing"+o+".vml",GN(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}c["!id"].rId1&&Xt(s,NN(a),bf(c))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Xt(s,a,YU(e.Strings,a,e)),i.strs.push(a),Cr(e.wbrels,-1,"sharedStrings."+r,dr.SST)),a="xl/workbook."+r,Xt(s,a,$U(t,a)),i.workbooks.push(a),Cr(e.rels,1,a,dr.WB),a="xl/theme/theme1.xml",Xt(s,a,WN(t.Themes,e)),i.themes.push(a),Cr(e.wbrels,-1,"theme/theme1.xml",dr.THEME),a="xl/styles."+r,Xt(s,a,KU(t,a,e)),i.styles.push(a),Cr(e.wbrels,-1,"styles."+r,dr.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Xt(s,a,t.vbaraw),i.vba.push(a),Cr(e.wbrels,-1,"vbaProject.bin",dr.VBA)),a="xl/metadata."+r,Xt(s,a,QU(a)),i.metadata.push(a),Cr(e.wbrels,-1,"metadata."+r,dr.XLMETA),Xt(s,"[Content_Types].xml",TN(i,e)),Xt(s,"_rels/.rels",bf(e.rels)),Xt(s,"xl/_rels/workbook."+r+".rels",bf(e.wbrels)),delete e.revssf,delete e.ssf,s}function Wz(t,e){cf=1024,t&&!t.SSF&&(t.SSF=cs(pn)),t&&t.SSF&&(Xm(),Ym(t.SSF),e.revssf=Qm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,xd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=YN.indexOf(e.bookType)>-1,i=AN();_5(e=e||{});var s=i5(),a="",o=0;if(e.cellXfs=[],cu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Xt(s,a,CN(t.Props,e)),i.coreprops.push(a),Cr(e.rels,2,a,dr.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Xt(s,a,IN(t.Props)),i.extprops.push(a),Cr(e.rels,3,a,dr.EXT_PROPS),t.Custprops!==t.Props&&mi(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Xt(s,a,PN(t.Custprops)),i.custprops.push(a),Cr(e.rels,4,a,dr.CUST_PROPS));var c=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},p=t.Sheets[t.SheetNames[o-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Xt(s,a,ib(o-1,e,t,h)),i.sheets.push(a),Cr(e.wbrels,-1,"worksheets/sheet"+o+"."+r,dr.WS[0])}if(p){var x=p["!comments"],g=!1,S="";if(x&&x.length>0){var w=!1;x.forEach(function(E){E[1].forEach(function(T){T.T==!0&&(w=!0)})}),w&&(S="xl/threadedComments/threadedComment"+o+"."+r,Xt(s,S,EM(x,c,e)),i.threadedcomments.push(S),Cr(h,-1,"../threadedComments/threadedComment"+o+"."+r,dr.TCMNT)),S="xl/comments"+o+"."+r,Xt(s,S,KN(x)),i.comments.push(S),Cr(h,-1,"../comments"+o+"."+r,dr.CMNT),g=!0}p["!legacy"]&&g&&Xt(s,"xl/drawings/vmlDrawing"+o+".vml",GN(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&Xt(s,NN(a),bf(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Xt(s,a,BN(e.Strings,e)),i.strs.push(a),Cr(e.wbrels,-1,"sharedStrings."+r,dr.SST)),a="xl/workbook."+r,Xt(s,a,ob(t)),i.workbooks.push(a),Cr(e.rels,1,a,dr.WB),a="xl/theme/theme1.xml",Xt(s,a,WN(t.Themes,e)),i.themes.push(a),Cr(e.wbrels,-1,"theme/theme1.xml",dr.THEME),a="xl/styles."+r,Xt(s,a,qN(t,e)),i.styles.push(a),Cr(e.wbrels,-1,"styles."+r,dr.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Xt(s,a,t.vbaraw),i.vba.push(a),Cr(e.wbrels,-1,"vbaProject.bin",dr.VBA)),a="xl/metadata."+r,Xt(s,a,$N()),i.metadata.push(a),Cr(e.wbrels,-1,"metadata."+r,dr.XLMETA),c.length>1&&(a="xl/persons/person.xml",Xt(s,a,SM(c)),i.people.push(a),Cr(e.wbrels,-1,"persons/person.xml",dr.PEOPLE)),Xt(s,"[Content_Types].xml",TN(i,e)),Xt(s,"_rels/.rels",bf(e.rels)),Xt(s,"xl/_rels/workbook."+r+".rels",bf(e.wbrels)),delete e.revssf,delete e.ssf,s}function $z(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Bo(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function pb(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return w0(e.file,Mr.write(t,{type:_r?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Mr.write(t,e)}function Gz(t,e){var r=cs(e||{}),n=qz(t,r);return Kz(n,r)}function Kz(t,e){var r={},n=_r?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Mr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Km(i))}return e.password&&typeof encrypt_agile<"u"?pb(encrypt_agile(i,e.password),e):e.type==="file"?w0(e.file,i):e.type=="string"?md(i):i}function Yz(t,e){var r=e||{},n=fz(t,r);return pb(n,r)}function Va(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Jd(e0(n));case"binary":return e0(n);case"string":return t;case"file":return w0(e.file,n,"utf8");case"buffer":return _r?qo(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Va(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Xz(t,e){switch(e.type){case"base64":return Jd(t);case"binary":return t;case"string":return t;case"file":return w0(e.file,t,"binary");case"buffer":return _r?qo(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Cp(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Jd(r):e.type=="string"?md(r):r;case"file":return w0(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function mb(t,e){AO(),DU(t);var r=cs(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=mb(t,r);return r.type="array",Km(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Va(uz(t,r),r);case"slk":case"sylk":return Va(Lj.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Va(cb(t.Sheets[t.SheetNames[i]],r),r);case"txt":return Xz(gb(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Va(w5(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Va(Rj.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Cp(Pj.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Va(Fj.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Va(Uj.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Va(MN.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Va(db(t,r),r);case"wk1":return Cp(y3.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Cp(y3.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Cp(ub(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Yz(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Gz(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Qz(t,e,r,n,i,s,a,o){var l=hi(r),u=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!a||t[r])for(var m=e.s.c;m<=e.e.c;++m){var x=a?t[r][m]:t[n[m]+l];if(x===void 0||x.t===void 0){if(u===void 0)continue;s[m]!=null&&(p[s[m]]=u);continue}var g=x.v;switch(x.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(s[m]!=null){if(g==null)if(x.t=="e"&&g===null)p[s[m]]=null;else if(u!==void 0)p[s[m]]=u;else if(c&&g===null)p[s[m]]=null;else continue;else p[s[m]]=c&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?g:Vo(x,g,o);g!=null&&(h=!1)}}return{row:p,isempty:h}}function J1(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},c=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof c){case"string":l=Jr(c);break;case"number":l=Jr(t["!ref"]),l.s.r=c;break;default:l=c}n>0&&(i=0);var h=hi(l.s.r),p=[],m=[],x=0,g=0,S=Array.isArray(t),w=l.s.r,E=0,T={};S&&!t[w]&&(t[w]=[]);var j=u.skipHidden&&t["!cols"]||[],X=u.skipHidden&&t["!rows"]||[];for(E=l.s.c;E<=l.e.c;++E)if(!(j[E]||{}).hidden)switch(p[E]=Ii(E),r=S?t[w][E]:t[p[E]+h],n){case 1:s[E]=E-l.s.c;break;case 2:s[E]=p[E];break;case 3:s[E]=u.header[E-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=Vo(r,null,u),g=T[a]||0,!g)T[a]=1;else{do o=a+"_"+g++;while(T[o]);T[a]=g,T[o]=1}s[E]=o}for(w=l.s.r+i;w<=l.e.r;++w)if(!(X[w]||{}).hidden){var J=Qz(t,l,w,p,n,s,S,u);(J.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[x++]=J.row)}return m.length=x,m}var N3=/"/g;function Jz(t,e,r,n,i,s,a,o){for(var l=!0,u=[],c="",h=hi(r),p=e.s.c;p<=e.e.c;++p)if(n[p]){var m=o.dense?(t[r]||[])[p]:t[n[p]+h];if(m==null)c="";else if(m.v!=null){l=!1,c=""+(o.rawNumbers&&m.t=="n"?m.v:Vo(m,null,o));for(var x=0,g=0;x!==c.length;++x)if((g=c.charCodeAt(x))===i||g===s||g===34||o.forceQuotes){c='"'+c.replace(N3,'""')+'"';break}c=="ID"&&(c='"ID"')}else m.f!=null&&!m.F?(l=!1,c="="+m.f,c.indexOf(",")>=0&&(c='"'+c.replace(N3,'""')+'"')):c="";u.push(c)}return o.blankrows===!1&&l?null:u.join(a)}function w5(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Jr(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),c="",h=[];n.dense=Array.isArray(t);for(var p=n.skipHidden&&t["!cols"]||[],m=n.skipHidden&&t["!rows"]||[],x=i.s.c;x<=i.e.c;++x)(p[x]||{}).hidden||(h[x]=Ii(x));for(var g=0,S=i.s.r;S<=i.e.r;++S)(m[S]||{}).hidden||(c=Jz(t,i,S,h,a,l,s,n),c!=null&&(n.strip&&(c=c.replace(u,"")),(c||n.blankrows!==!1)&&r.push((g++?o:"")+c)));return delete n.dense,r.join("")}function gb(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=w5(t,e);return r}function Zz(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Jr(t["!ref"]),s="",a=[],o,l=[],u=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=Ii(o);for(var c=i.s.r;c<=i.e.r;++c)for(s=hi(c),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=u?(t[c]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function vb(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Kn(n.origin):n.origin;a=l.r,o=l.c}var u,c={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var h=Jr(s["!ref"]);c.e.c=Math.max(c.e.c,h.e.c),c.e.r=Math.max(c.e.r,h.e.r),a==-1&&(a=h.e.r+1,c.e.r=a+e.length-1+i)}else a==-1&&(a=0,c.e.r=e.length-1+i);var p=n.header||[],m=0;e.forEach(function(g,S){mi(g).forEach(function(w){(m=p.indexOf(w))==-1&&(p[m=p.length]=w);var E=g[w],T="z",j="",X=Rr({c:o+m,r:a+S+i});u=n0(s,X),E&&typeof E=="object"&&!(E instanceof Date)?s[X]=E:(typeof E=="number"?T="n":typeof E=="boolean"?T="b":typeof E=="string"?T="s":E instanceof Date?(T="d",n.cellDates||(T="n",E=us(E)),j=n.dateNF||pn[14]):E===null&&n.nullError&&(T="e",E=0),u?(u.t=T,u.v=E,delete u.w,delete u.R,j&&(u.z=j)):s[X]=u={t:T,v:E},j&&(u.z=j))})}),c.e.c=Math.max(c.e.c,o+p.length-1);var x=hi(a);if(i)for(m=0;m<p.length;++m)s[Ii(m+o)+x]={t:"s",v:p[m]};return s["!ref"]=Pn(c),s}function eq(t,e){return vb(null,t,e)}function n0(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Kn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?n0(t,Rr(e)):n0(t,Rr({r:e,c:r||0}))}function tq(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function rq(){return{SheetNames:[],Sheets:{}}}function nq(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(ab(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function iq(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=tq(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function sq(t,e){return t.z=e,t}function yb(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function aq(t,e,r){return yb(t,"#"+e,r)}function oq(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function lq(t,e,r,n){for(var i=typeof e!="string"?e:Jr(e),s=typeof e=="string"?e:Pn(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=n0(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var E2={encode_col:Ii,encode_row:hi,encode_cell:Rr,encode_range:Pn,decode_col:c5,decode_row:u5,split_cell:A9,decode_cell:Kn,decode_range:Ps,format_cell:Vo,sheet_add_aoa:yN,sheet_add_json:vb,sheet_add_dom:fb,aoa_to_sheet:ch,json_to_sheet:eq,table_to_sheet:hb,table_to_book:Rz,sheet_to_csv:w5,sheet_to_txt:gb,sheet_to_json:J1,sheet_to_html:cb,sheet_to_formulae:Zz,sheet_to_row_object_array:J1,sheet_get_cell:n0,book_new:rq,book_append_sheet:nq,book_set_sheet_visibility:iq,cell_set_number_format:sq,cell_set_hyperlink:yb,cell_set_internal_link:aq,cell_add_comment:oq,sheet_set_array_formula:lq,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const uq=({shipment:t,onClose:e,onSave:r,canEdit:n})=>{const[i,s]=be.useState({cliente:"",operador:"",shipper:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",currentLocation:"",quantBox:1,status:"",numeroBl:"",armador:"",booking:"",invoice:"",observacoes:"",tipo:""}),[a,o]=be.useState(!1),[l,u]=be.useState({}),c=["A Embarcar","Embarcado","Concludo"],h=["MSC","Maersk","CMA CGM","Hapag-Lloyd","COSCO","Evergreen"],p=["Santos, Brasil","Itaja, Brasil","Paranagu, Brasil","Rio Grande, Brasil","Suape, Brasil","Rotterdam, Holanda","Hamburgo, Alemanha","Barcelona, Espanha","Xangai, China","Singapura","Los Angeles, EUA","Nova York, EUA"],m=["Guarulhos (GRU), So Paulo, Brasil","Galeo (GIG), Rio de Janeiro, Brasil","Braslia (BSB), Brasil","Miami (MIA), EUA","JFK (JFK), Nova York, EUA","Heathrow (LHR), Londres, Reino Unido","Charles de Gaulle (CDG), Paris, Frana","Frankfurt (FRA), Alemanha","Dubai (DXB), Emirados rabes","Hong Kong (HKG), China","Narita (NRT), Tquio, Japo"],x=["So Paulo, Brasil","Rio de Janeiro, Brasil","Braslia, Brasil","Curitiba, Brasil","Porto Alegre, Brasil","Belo Horizonte, Brasil","Salvador, Brasil","Recife, Brasil","Fortaleza, Brasil","Manaus, Brasil","Miami, EUA","Nova York, EUA","Los Angeles, EUA","Londres, Reino Unido","Paris, Frana","Berlim, Alemanha","Madri, Espanha","Roma, Itlia","Amsterd, Holanda","Bruxelas, Blgica"];be.useEffect(()=>{t&&s({cliente:t.cliente||"",operador:t.operador||"",shipper:t.shipper||"",pol:t.pol||"",pod:t.pod||"",etdOrigem:t.etdOrigem||"",etaDestino:t.etaDestino||"",currentLocation:t.currentLocation||"",quantBox:t.quantBox||1,status:t.status||"",numeroBl:t.numeroBl||"",armador:t.armador||"",booking:t.booking||"",invoice:t.invoice||"",observacoes:t.observacoes||"",tipo:t.tipo||""})},[t]),be.useEffect(()=>{i.tipo&&s(T=>({...T,pol:"",pod:"",currentLocation:""}))},[i.tipo]);const g=T=>{const{name:j,value:X}=T.target;console.log("Campo:",T.target.name,"Valor:",T.target.value),s(J=>({...J,[j]:j==="quantBox"?Number.parseInt(X)||1:X})),l[j]&&u(J=>({...J,[j]:""}))},S=()=>{const T={};return i.cliente.trim()||(T.cliente="Cliente  obrigatrio"),i.operador.trim()||(T.operador="Operador  obrigatrio"),i.pol.trim()||(T.pol="Porto de origem  obrigatrio"),i.pod.trim()||(T.pod="Porto de destino  obrigatrio"),i.etdOrigem||(T.etdOrigem="Data de partida  obrigatria"),i.etaDestino||(T.etaDestino="Data de chegada  obrigatria"),i.numeroBl.trim()||(T.numeroBl="Nmero do BL  obrigatrio"),i.booking.trim()||(T.booking="Nmero do booking  obrigatrio"),i.invoice.trim()||(T.invoice="Nmero do invoice  obrigatrio"),i.armador.trim()||(T.armador="Armador  obrigatrio"),i.quantBox<1&&(T.quantBox="Quantidade deve ser maior que 0"),u(T),Object.keys(T).length===0},w=async T=>{if(T.preventDefault(),!n){alert("Voc no tem permisso para editar este envio.");return}if(S()){o(!0);try{const j={...t,cliente:i.cliente,operador:i.operador,shipper:i.shipper,pol:i.pol,pod:i.pod,etdOrigem:i.etdOrigem,etaDestino:i.etaDestino,currentLocation:i.currentLocation,quantBox:i.quantBox,status:i.status,numeroBl:i.numeroBl,armador:i.armador,booking:i.booking,invoice:i.invoice,observacoes:i.observacoes,tipo:i.tipo,updatedAt:new Date};await r(j),e()}catch(j){console.error("Erro ao salvar envio:",j),alert("Erro ao salvar as alteraes. Tente novamente.")}finally{o(!1)}}},E=T=>{T.target===T.currentTarget&&e()};return y.jsx("div",{className:"edit-modal-overlay",onClick:E,children:y.jsxs("div",{className:"edit-modal-content",children:[y.jsxs("div",{className:"edit-modal-header",children:[y.jsxs("h2",{children:[y.jsx(Yd,{size:24}),"Editar Envio"]}),y.jsx("button",{className:"close-button",onClick:e,type:"button",children:y.jsx($f,{size:20})})]}),y.jsx("div",{className:"edit-modal-body",children:y.jsxs("form",{onSubmit:w,className:"edit-form",children:[y.jsxs("div",{className:"form-section",children:[y.jsxs("div",{className:"section-title",children:[y.jsx(Qx,{size:18}),y.jsx("span",{children:"Informaes do Cliente"})]}),y.jsx("div",{className:"form-row",children:y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"tipo",children:[y.jsx(Wf,{size:16,style:{marginRight:"8px",verticalAlign:"middle"}}),"Tipo de Transporte *"]}),y.jsxs("select",{id:"tipo",name:"tipo",value:i.tipo,onChange:g,disabled:!n,required:!0,children:[y.jsx("option",{value:"",children:"Selecione o tipo de transporte"}),y.jsx("option",{value:"Martimo",children:"Martimo"}),y.jsx("option",{value:"Areo",children:"Areo"}),y.jsx("option",{value:"Terrestre",children:"Terrestre"})]}),l.tipo&&y.jsx("span",{className:"error-message",children:l.tipo})]})}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"cliente",children:"Cliente *"}),y.jsx("input",{type:"text",id:"cliente",name:"cliente",value:i.cliente,onChange:g,disabled:!n,placeholder:"Nome do cliente"}),l.cliente&&y.jsx("span",{className:"error-message",children:l.cliente})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"operador",children:"Operador *"}),y.jsx("input",{type:"text",id:"operador",name:"operador",value:i.operador,onChange:g,disabled:!n,placeholder:"Nome do operador"}),l.operador&&y.jsx("span",{className:"error-message",children:l.operador})]})]}),y.jsx("div",{className:"form-row",children:y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"shipper",children:"Shipper"}),y.jsx("input",{type:"text",id:"shipper",name:"shipper",value:i.shipper,onChange:g,disabled:!n,placeholder:"Nome do shipper"})]})})]}),y.jsxs("div",{className:"form-section",children:[y.jsxs("div",{className:"section-title",children:[y.jsx(Yx,{size:18}),y.jsx("span",{children:"Rota e Cronograma"})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"pol",children:[i.tipo==="Areo"?"Aeroporto de Origem":i.tipo==="Terrestre"?"Local de Origem":"Porto de Origem"," (POL) *"]}),y.jsxs("select",{id:"pol",name:"pol",value:i.pol,onChange:g,disabled:!n,children:[y.jsx("option",{value:"",children:i.tipo==="Areo"?"Selecione o aeroporto de origem":i.tipo==="Terrestre"?"Selecione o local de origem":"Selecione o porto de origem"}),i.tipo==="Areo"?m.map(T=>y.jsx("option",{value:T,children:T},T)):i.tipo==="Terrestre"?x.map(T=>y.jsx("option",{value:T,children:T},T)):p.map(T=>y.jsx("option",{value:T,children:T},T))]}),l.pol&&y.jsx("span",{className:"error-message",children:l.pol})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"pod",children:[i.tipo==="Areo"?"Aeroporto de Destino":i.tipo==="Terrestre"?"Local de Destino":"Porto de Destino"," (POD) *"]}),y.jsxs("select",{id:"pod",name:"pod",value:i.pod,onChange:g,disabled:!n,children:[y.jsx("option",{value:"",children:i.tipo==="Areo"?"Selecione o aeroporto de destino":i.tipo==="Terrestre"?"Selecione o local de destino":"Selecione o porto de destino"}),i.tipo==="Areo"?m.map(T=>y.jsx("option",{value:T,children:T},T)):i.tipo==="Terrestre"?x.map(T=>y.jsx("option",{value:T,children:T},T)):p.map(T=>y.jsx("option",{value:T,children:T},T))]}),l.pod&&y.jsx("span",{className:"error-message",children:l.pod})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"etdOrigem",children:"Data de Partida (ETD) *"}),y.jsx("input",{type:"date",id:"etdOrigem",name:"etdOrigem",value:i.etdOrigem,onChange:g,disabled:!n}),l.etdOrigem&&y.jsx("span",{className:"error-message",children:l.etdOrigem})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"etaDestino",children:"Data de Chegada (ETA) *"}),y.jsx("input",{type:"date",id:"etaDestino",name:"etaDestino",value:i.etaDestino,onChange:g,disabled:!n}),l.etaDestino&&y.jsx("span",{className:"error-message",children:l.etaDestino})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"currentLocation",children:i.tipo==="Areo"?"Aeroporto Atual":i.tipo==="Terrestre"?"Local Atual":"Porto Atual"}),y.jsxs("select",{id:"currentLocation",name:"currentLocation",value:i.currentLocation,onChange:g,disabled:!n,children:[y.jsx("option",{value:"",children:i.tipo==="Areo"?"Selecione o aeroporto atual":i.tipo==="Terrestre"?"Selecione o local atual":"Selecione o porto atual"}),i.tipo==="Areo"?m.map(T=>y.jsx("option",{value:T,children:T},T)):i.tipo==="Terrestre"?x.map(T=>y.jsx("option",{value:T,children:T},T)):p.map(T=>y.jsx("option",{value:T,children:T},T))]}),l.currentLocation&&y.jsx("span",{className:"error-message",children:l.currentLocation})]})]})]}),y.jsxs("div",{className:"form-section",children:[y.jsxs("div",{className:"section-title",children:[y.jsx(Wf,{size:18}),y.jsx("span",{children:"Informaes Operacionais"})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"quantBox",children:"Quantidade de Containers *"}),y.jsx("input",{type:"number",id:"quantBox",name:"quantBox",value:i.quantBox,onChange:g,disabled:!n,min:"1",max:"100"}),l.quantBox&&y.jsx("span",{className:"error-message",children:l.quantBox})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"status",children:"Status"}),y.jsxs("select",{id:"status",name:"status",value:i.status,onChange:g,disabled:!n,children:[y.jsx("option",{value:"",children:"Selecione o status"}),c.map(T=>y.jsx("option",{value:T,children:T},T))]})]})]}),y.jsx("div",{className:"form-row",children:y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"armador",children:"Armador *"}),y.jsxs("select",{id:"armador",name:"armador",value:i.armador,onChange:g,disabled:!n,children:[y.jsx("option",{value:"",children:"Selecione um armador"}),h.map(T=>y.jsx("option",{value:T,children:T},T))]}),l.armador&&y.jsx("span",{className:"error-message",children:l.armador})]})})]}),y.jsxs("div",{className:"form-section",children:[y.jsxs("div",{className:"section-title",children:[y.jsx(R1,{size:18}),y.jsx("span",{children:"Documentao"})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"numeroBl",children:"Nmero do BL *"}),y.jsx("input",{type:"text",id:"numeroBl",name:"numeroBl",value:i.numeroBl,onChange:g,disabled:!n,placeholder:"Ex: BL123456789"}),l.numeroBl&&y.jsx("span",{className:"error-message",children:l.numeroBl})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"booking",children:"Nmero do Booking *"}),y.jsx("input",{type:"text",id:"booking",name:"booking",value:i.booking,onChange:g,disabled:!n,placeholder:"Ex: BK987654321"}),l.booking&&y.jsx("span",{className:"error-message",children:l.booking})]})]}),y.jsx("div",{className:"form-row",children:y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"invoice",children:"Nmero do Invoice *"}),y.jsx("input",{type:"text",id:"invoice",name:"invoice",value:i.invoice,onChange:g,disabled:!n,placeholder:"Ex: INV123456"}),l.invoice&&y.jsx("span",{className:"error-message",children:l.invoice})]})}),y.jsx("div",{className:"form-row",children:y.jsxs("div",{className:"form-group full-width",children:[y.jsx("label",{htmlFor:"observacoes",children:"Observaes"}),y.jsx("textarea",{id:"observacoes",name:"observacoes",value:i.observacoes,onChange:g,disabled:!n,placeholder:"Digite observaes sobre o envio...",rows:4})]})})]})]})}),y.jsxs("div",{className:"edit-modal-actions",children:[y.jsx("button",{type:"button",className:"btn-cancel",onClick:e,disabled:a,children:"Cancelar"}),n&&y.jsxs("button",{type:"submit",className:`btn-save ${a?"loading":""}`,onClick:w,disabled:a,children:[y.jsx(ZT,{size:16}),a?"Salvando...":"Salvar Alteraes"]})]})]})})},xb=be.createContext(void 0),cq=()=>{const t=be.useContext(xb);if(!t)throw new Error("useDropdown must be used within a DropdownProvider");return t},fq=({children:t})=>{const[e,r]=be.useState(null),n=be.useCallback(o=>e===o,[e]),i=be.useCallback(o=>{r(o)},[e]),s=be.useCallback(o=>{e===o&&r(null)},[e]),a=be.useCallback(()=>{r(null)},[e]);return y.jsx(xb.Provider,{value:{openDropdownId:e,setOpenDropdownId:r,isDropdownOpen:n,openDropdown:i,closeDropdown:s,closeAllDropdowns:a},children:t})},hq=({filters:t,onFiltersChange:e,onClearFilters:r})=>{const[n,i]=be.useState(!1),s=be.useRef(null),{isAdmin:a}=Za();be.useEffect(()=>{const g=S=>{s.current&&!s.current.contains(S.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const o=(g,S)=>{e({...t,[g]:S})},l=g=>{const S=t.sortBy===g&&t.sortOrder==="desc"?"asc":"desc";e({...t,sortBy:g,sortOrder:S})},u=()=>[{value:"",label:"Todos os meses"},{value:"01",label:"Janeiro"},{value:"02",label:"Fevereiro"},{value:"03",label:"Maro"},{value:"04",label:"Abril"},{value:"05",label:"Maio"},{value:"06",label:"Junho"},{value:"07",label:"Julho"},{value:"08",label:"Agosto"},{value:"09",label:"Setembro"},{value:"10",label:"Outubro"},{value:"11",label:"Novembro"},{value:"12",label:"Dezembro"}],c=()=>t.dateFrom||t.dateTo||t.month||t.searchTerm||t.sortBy!=="recent",h=()=>{let g=0;return(t.dateFrom||t.dateTo)&&g++,t.month&&g++,t.searchTerm&&g++,t.sortBy!=="recent"&&g++,g},p=()=>({recent:"Mais recentes",old:"Mais antigos",etd:"Data partida (ETD)",eta:"Data chegada (ETA)",client:"Cliente A-Z"})[t.sortBy],m=()=>{const g=[{value:"recent",label:"Mais recentes"},{value:"old",label:"Mais antigos"},{value:"etd",label:"Data partida (ETD)"},{value:"eta",label:"Data chegada (ETA)"}];return a()&&g.push({value:"client",label:"Cliente A-Z"}),g},x=()=>{if(!t.month)return"Todos os meses";const g=u().find(S=>S.value===t.month);return g?g.label:"Todos os meses"};return y.jsxs("div",{className:"shipping-filters",ref:s,children:[y.jsxs("div",{className:"filters-header",children:[y.jsxs("div",{className:"filters-title",children:[y.jsx(T7,{size:18}),y.jsx("span",{children:"Filtros de Busca"}),c()&&y.jsx("span",{className:"active-filters-badge",children:h()})]}),y.jsxs("div",{className:"filters-actions",children:[c()&&y.jsxs("button",{className:"clear-filters-btn",onClick:r,title:"Limpar filtros",children:[y.jsx($f,{size:16}),"Limpar"]}),y.jsxs("button",{className:`dropdown-toggle-btn ${n?"open":""}`,onClick:()=>i(!n),children:[y.jsx(XT,{size:16}),n?"Menos":"Mais"]})]})]}),y.jsxs("div",{className:"filters-main",children:[y.jsx("div",{className:"filter-group search-group",children:y.jsx("input",{type:"text",value:t.searchTerm,onChange:g=>o("searchTerm",g.target.value),placeholder:a()?"Cliente, BL, Booking...":"BL, Booking...",className:"search-input"})}),y.jsxs("div",{className:"filter-summary",children:[y.jsxs("span",{className:"filter-summary-item",children:[y.jsx("strong",{children:"Ordenar:"})," ",p()]}),y.jsx("span",{className:"filter-summary-separator",children:""}),y.jsxs("span",{className:"filter-summary-item",children:[y.jsx("strong",{children:"Ms:"})," ",x()]})]})]}),n&&y.jsxs("div",{className:"filters-dropdown",children:[y.jsxs("div",{className:"filters-row",children:[y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Ordenar por:"}),y.jsx("select",{value:t.sortBy,onChange:g=>l(g.target.value),className:"sort-select",children:m().map(g=>y.jsx("option",{value:g.value,children:g.label},g.value))})]}),y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Ordem:"}),y.jsxs("select",{value:t.sortOrder,onChange:g=>o("sortOrder",g.target.value),className:"order-select",children:[y.jsx("option",{value:"desc",children:"Decrescente"}),y.jsx("option",{value:"asc",children:"Crescente"})]})]}),y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Ms de Origem:"}),y.jsx("select",{value:t.month,onChange:g=>o("month",g.target.value),className:"month-select",children:u().map(g=>y.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),y.jsxs("div",{className:"filters-row",children:[y.jsxs("div",{className:"filter-group",children:[y.jsxs("label",{children:[y.jsx(qv,{size:14}),"Data de:"]}),y.jsx("input",{type:"date",value:t.dateFrom,onChange:g=>o("dateFrom",g.target.value),className:"date-input"})]}),y.jsxs("div",{className:"filter-group",children:[y.jsxs("label",{children:[y.jsx(qv,{size:14}),"Data at:"]}),y.jsx("input",{type:"date",value:t.dateTo,onChange:g=>o("dateTo",g.target.value),className:"date-input"})]})]})]})]})},kp=[{value:"a-embarcar",label:"A Embarcar",color:"#8b5a00",bgColor:"#ffd166"},{value:"embarcado",label:"Embarcar",color:"white",bgColor:"#118ab2"},{value:"Concludo",label:"Concludo",color:"#0d5d3e",bgColor:"#073b4c"}],dq=({currentStatus:t,onStatusChange:e,disabled:r=!1,instanceId:n})=>{const i=be.useRef(null),s=be.useRef(null),{isDropdownOpen:a,openDropdown:o,closeDropdown:l,closeAllDropdowns:u}=cq(),[c,h]=be.useState("bottom"),[p,m]=be.useState(!1),[x,g]=be.useState(""),[S,w]=be.useState(!1),E=a(n),T=kp.find(N=>N.value===t)||kp[0],j=kp.find(N=>N.value===x),X=()=>{if(s.current&&i.current){const N=s.current.getBoundingClientRect(),F=window.innerHeight,ne=120,re=20,he=F-N.bottom-re,ge=N.top-re,te=i.current.querySelector(".status-dropdown");if(te){const ce=N.left,me=N.width;te.style.left=`${ce}px`,te.style.width=`${me}px`,he>=ne?(h("bottom"),te.style.top=`${N.bottom+4}px`,te.style.bottom="auto"):ge>=ne?(h("top"),te.style.bottom=`${F-N.top+4}px`,te.style.top="auto"):(h("top"),te.style.bottom=`${F-N.top+4}px`,te.style.top="auto")}}},J=async()=>{if(x){w(!0);try{await e(x),m(!1),g("")}catch(N){console.error("Erro ao confirmar mudana de status:",N)}finally{w(!1)}}},P=()=>{m(!1),g("")};be.useEffect(()=>{const N=re=>{re.key==="Escape"&&(p?P():E&&u())},F=()=>{E&&X()},ne=()=>{E&&X()};if(E||p)return document.addEventListener("keydown",N),E&&(window.addEventListener("scroll",F,!0),window.addEventListener("resize",ne),setTimeout(()=>{X()},10)),()=>{document.removeEventListener("keydown",N),window.removeEventListener("scroll",F,!0),window.removeEventListener("resize",ne)}},[E,p,u]);const C=(N,F)=>{F.preventDefault(),F.stopPropagation(),N!==t&&(g(N),m(!0)),l(n)},R=N=>{N.preventDefault(),N.stopPropagation(),!r&&(E?l(n):(o(n),setTimeout(()=>{X()},0)))},O=N=>{(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),N.stopPropagation(),E?l(n):o(n))},k=N=>{N.preventDefault(),N.stopPropagation(),u()};return y.jsxs(y.Fragment,{children:[E&&y.jsx("div",{className:"dropdown-overlay",onClick:k}),p&&y.jsx("div",{className:"confirmation-overlay",onClick:P}),y.jsxs("div",{className:"status-selector",ref:i,children:[y.jsxs("button",{ref:s,className:`status-selector-trigger ${r?"disabled":""} ${E?"open":""}`,onClick:R,onKeyDown:O,disabled:r,"aria-expanded":E,"aria-haspopup":"listbox",style:{backgroundColor:T.bgColor,color:T.color},type:"button",children:[y.jsx("span",{className:"status-label",children:T.label}),!r&&y.jsx(XT,{size:14,className:`chevron ${E?"rotated":""}`})]}),E&&!r&&y.jsx("div",{className:`status-dropdown ${c==="top"?"dropdown-up":"dropdown-down"}`,role:"listbox",children:kp.filter(N=>N.value!==t).map(N=>y.jsx("button",{className:"status-option",onClick:F=>C(N.value,F),style:{backgroundColor:N.bgColor,color:N.color},role:"option","aria-selected":!1,type:"button",children:y.jsx("span",{className:"status-option-label",children:N.label})},N.value))})]}),p&&j&&y.jsx("div",{className:"status-confirmation-modal",children:y.jsxs("div",{className:"confirmation-content",children:[y.jsxs("div",{className:"confirmation-header",children:[y.jsx(Kx,{size:24,className:"confirmation-icon"}),y.jsx("h3",{children:"Confirmar alterao de status"})]}),y.jsxs("div",{className:"confirmation-body",children:[y.jsx("p",{children:"Deseja realmente alterar o status de:"}),y.jsxs("div",{className:"status-change-preview",children:[y.jsx("div",{className:"status-from",children:y.jsx("span",{className:"status-badge",style:{backgroundColor:T.bgColor,color:T.color},children:T.label})}),y.jsx("span",{className:"arrow",children:""}),y.jsx("div",{className:"status-to",children:y.jsx("span",{className:"status-badge",style:{backgroundColor:j.bgColor,color:j.color},children:j.label})})]})]}),y.jsxs("div",{className:"confirmation-actions",children:[y.jsxs("button",{className:"btn-cancel",onClick:P,type:"button",children:[y.jsx($f,{size:16}),"Cancelar"]}),y.jsxs("button",{className:"btn-confirm",onClick:J,disabled:S,type:"button",children:[y.jsx(YT,{size:16}),S?"Salvando...":"Confirmar"]})]})]})})]})},pq=({shipments:t,onShipmentUpdate:e,initialFilters:r})=>{const{shipments:n,updateShipment:i,loading:s}=qm(),{isAdmin:a,currentUser:o}=Za(),l=t||n,[u,c]=be.useState(null),[h,p]=be.useState(!1),[m,x]=be.useState(!1),[g,S]=be.useState(null),w=re=>{if(!re)return"";const he=new Date(re);if(isNaN(he.getTime()))return re;const ge=he.getDate().toString().padStart(2,"0"),te=(he.getMonth()+1).toString().padStart(2,"0"),ce=he.getFullYear();return`${ge}/${te}/${ce}`},[E,T]=be.useState({dateFrom:"",dateTo:"",month:"",sortBy:"recent",sortOrder:"desc",searchTerm:""});be.useEffect(()=>{if(r){let re={...E};if(r.status,r.filter==="this-month"){const he=new Date().getMonth()+1;re.month=he.toString()}T(re)}},[r]);const j=be.useMemo(()=>{let re=[...l];if(r!=null&&r.status&&(re=re.filter(he=>he.status===r.status)),E.searchTerm){const he=E.searchTerm.toLowerCase();re=re.filter(ge=>{var me,Be,I,M,B;const te=[(me=ge.numeroBl)==null?void 0:me.toLowerCase().includes(he),(Be=ge.booking)==null?void 0:Be.toLowerCase().includes(he),(I=ge.armador)==null?void 0:I.toLowerCase().includes(he)],ce=a()?[(M=ge.cliente)==null?void 0:M.toLowerCase().includes(he),(B=ge.operador)==null?void 0:B.toLowerCase().includes(he)]:[];return[...te,...ce].some(z=>z)})}return E.month&&(re=re.filter(he=>{const ge=he.etdOrigem?new Date(he.etdOrigem):null,te=Number.parseInt(E.month);return ge&&!isNaN(ge.getTime())?ge.getMonth()+1===te:!1})),(E.dateFrom||E.dateTo)&&(re=re.filter(he=>{const ge=he.etdOrigem?new Date(he.etdOrigem):null,te=he.etaDestino?new Date(he.etaDestino):null,ce=E.dateFrom?new Date(E.dateFrom):null,me=E.dateTo?new Date(E.dateTo):null;let Be=!1;return ge&&(ce&&me?Be=ge>=ce&&ge<=me:ce?Be=ge>=ce:me&&(Be=ge<=me)),!Be&&te&&(ce&&me?Be=te>=ce&&te<=me:ce?Be=te>=ce:me&&(Be=te<=me)),Be||!E.dateFrom&&!E.dateTo})),re.sort((he,ge)=>{let te=0;switch(E.sortBy){case"recent":case"old":{const ce=he.createdAt?new Date(he.createdAt.toString()):new Date(0),me=ge.createdAt?new Date(ge.createdAt.toString()):new Date(0);te=ce.getTime()-me.getTime(),E.sortBy==="recent"&&(te=-te);break}case"etd":{const ce=he.etdOrigem?new Date(he.etdOrigem):new Date(0),me=ge.etdOrigem?new Date(ge.etdOrigem):new Date(0);te=ce.getTime()-me.getTime();break}case"eta":{const ce=he.etaDestino?new Date(he.etaDestino):new Date(0),me=ge.etaDestino?new Date(ge.etaDestino):new Date(0);te=ce.getTime()-me.getTime();break}case"client":{te=(he.cliente||"").localeCompare(ge.cliente||"");break}}return E.sortOrder==="desc"?-te:te}),re},[l,E]),X=re=>{if(!C(re)){alert("Voc no tem permisso para editar este envio.");return}c(re),p(!0)},J=async re=>{try{await i(re),e&&e(re),console.log("Envio atualizado com sucesso:",re)}catch(he){throw console.error("Erro ao salvar envio:",he),he}},P=()=>{p(!1),c(null)},C=re=>o?a()?!0:o.role==="company_user"?re.companyId===o.companyId:!1:!1,R=async(re,he)=>{if(!a()){alert("Acesso negado. Apenas administradores podem alterar o status dos envios.");return}const ge=l.find(te=>te.id===re);if(ge)try{const te={...ge,status:he};await i(te),e&&e(te),console.log(`Status do envio ${re} alterado para: ${he}`)}catch(te){console.error("Erro ao atualizar status:",te),alert("Erro ao atualizar o status. Tente novamente.")}},O=re=>{T(re)},k=()=>{T({dateFrom:"",dateTo:"",month:"",sortBy:"recent",sortOrder:"desc",searchTerm:""})};if(s)return y.jsxs("div",{className:"shipping-table-container",children:[y.jsx("h2",{className:"shipping-table-title",children:"Tabela de Envios"}),y.jsx("div",{className:"shipping-table-empty",children:"Carregando envios..."})]});const N=async re=>{if(!re.companyId){console.warn("Shipment sem companyId, no  possvel enviar email.");return}try{const he=await Wl(xn(mr,"companies",re.companyId));if(!he.exists()){console.warn("Empresa no encontrada no Firestore");return}const ge=he.data();if(!ge.contactEmail){console.warn("Empresa no tem email de contato cadastrado");return}await zv({to:ge.contactEmail,subject:`Informaes do envio - ${re.numeroBl}`,html:`
        <h2>Informaes do envio</h2>
        <ul>
          <li><strong>Nmero BL:</strong> ${re.numeroBl}</li>
          <li><strong>Cliente:</strong> ${re.cliente}</li>
          <li><strong>Operador:</strong> ${re.operador}</li>
          <li><strong>Porto de Origem:</strong> ${re.pol}</li>
          <li><strong>Porto de Destino:</strong> ${re.pod}</li>
          <li><strong>ETD Origem:</strong> ${re.etdOrigem}</li>
          <li><strong>ETA Destino:</strong> ${re.etaDestino}</li>
          <li><strong>Localizao Atual:</strong> ${re.currentLocation}</li>
          <li><strong>Quantidade de Containers:</strong> ${re.quantBox}</li>
          <li><strong>Status:</strong> ${re.status}</li>
          <li><strong>Armador:</strong> ${re.armador}</li>
          <li><strong>Booking:</strong> ${re.booking}</li>
          <li><strong>Observaes:</strong> ${re.observacoes||"-"}</li>
        </ul>
      `}),console.log(" Email enviado com sucesso para:",ge.contactEmail)}catch(he){console.error("Erro ao enviar email manual:",he)}},F=re=>{const he=[{Cliente:re.cliente,Shipper:re.shipper,POL:re.pol,POD:re.pod,"ETD Origem":w(re.etdOrigem),"ETA Destino":w(re.etaDestino),"Quant Box":re.quantBox,Status:re.status,"N BL":re.numeroBl,Armador:re.armador,Booking:re.booking,Invoice:re.invoice}],ge=E2.json_to_sheet(he),te=E2.book_new();E2.book_append_sheet(te,ge,"Envio");const ce=mb(te,{bookType:"xlsx",type:"array"}),me=new Blob([ce],{type:"application/octet-stream"});O7.saveAs(me,`envio-${re.numeroBl||"sem-bl"}.xlsx`)},ne=re=>{S(re),x(!0)};return y.jsx(fq,{children:y.jsxs("div",{className:"shipping-table-container",children:[y.jsx("h2",{className:"shipping-table-title",children:"Tabela de Envios"}),y.jsx(hq,{filters:E,onFiltersChange:O,onClearFilters:k}),j.length===0?y.jsx("div",{className:"shipping-table-empty",children:l.length===0?"Nenhum envio encontrado. Que tal criar o primeiro?":"Nenhum envio encontrado com os filtros aplicados."}):y.jsx("div",{className:"table-wrapper",children:y.jsxs("table",{className:"shipping-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Cliente"}),y.jsx("th",{children:"Tipo"}),y.jsx("th",{children:"Shipper"}),y.jsx("th",{children:"POL"}),y.jsx("th",{children:"POD"}),y.jsx("th",{children:"ETD Origem"}),y.jsx("th",{children:"ETA Destino"}),y.jsx("th",{children:"Quant Box"}),y.jsx("th",{children:"Status"}),y.jsx("th",{children:"N BL"}),y.jsx("th",{children:"Armador"}),y.jsx("th",{children:"Booking"}),y.jsx("th",{children:"Invoice"}),y.jsx("th",{children:"Aes"})]})}),y.jsx("tbody",{children:j.map(re=>{var he;return y.jsxs("tr",{children:[y.jsx("td",{children:re.cliente}),y.jsx("td",{children:y.jsx("span",{className:`tipo-badge tipo-${((he=re.tipo)==null?void 0:he.toLowerCase())||"nao-especificado"}`,children:re.tipo||"N/A"})}),y.jsx("td",{children:re.shipper}),y.jsx("td",{children:re.pol}),y.jsx("td",{children:re.pod}),y.jsx("td",{children:w(re.etdOrigem)}),y.jsx("td",{children:w(re.etaDestino)}),y.jsx("td",{children:re.quantBox}),y.jsx("td",{children:y.jsx("div",{title:a()?void 0:"Apenas administradores podem alterar o status",children:y.jsx(dq,{currentStatus:re.status,onStatusChange:ge=>{if(re.id&&a())return R(re.id,ge)},instanceId:`shipment-${re.id}`,disabled:!a()})})}),y.jsx("td",{children:re.numeroBl}),y.jsx("td",{children:re.armador}),y.jsx("td",{children:re.booking}),y.jsx("td",{children:re.invoice}),y.jsx("td",{children:y.jsxs("div",{className:"action-icons",children:[y.jsx("button",{className:"action-icon edit-icon",onClick:()=>X(re),title:"Editar envio",disabled:!C(re),children:y.jsx(I7,{size:20})}),y.jsx("button",{className:"action-icon documents-icon",onClick:()=>ne(re),title:"Gerenciar documentos",children:y.jsx(h4,{size:20})}),y.jsx("button",{className:"action-icon file-icon",onClick:()=>F(re),title:"Exportar para Excel",children:y.jsx(R1,{size:20})}),y.jsx("button",{className:"action-icon check-icon",onClick:async()=>{try{await N(re)}catch(ge){console.error("Erro ao exportar ou enviar email:",ge)}},title:"Enviar informaes para o cliente",disabled:!a(),children:y.jsx(YT,{size:20})})]})})]},re.id)})})]})}),j.length>0&&y.jsxs("div",{className:"table-summary",children:["Mostrando ",j.length," de ",l.length," ","envios"]}),h&&u&&y.jsx(uq,{shipment:u,onClose:P,onSave:J,canEdit:C(u)}),m&&g&&y.jsx("div",{className:"documents-modal-overlay",children:y.jsxs("div",{className:"documents-modal",children:[y.jsxs("div",{className:"documents-modal-header",children:[y.jsx("h3",{children:"Gerenciar Documentos"}),y.jsx("button",{className:"close-button",onClick:()=>x(!1),children:""})]}),y.jsxs("div",{className:"documents-modal-content",children:[y.jsxs("div",{className:"shipment-info",children:[y.jsxs("h4",{children:["Envio: ",g.numeroBl]}),y.jsxs("p",{children:["Cliente: ",g.cliente]}),y.jsxs("p",{children:["Status: ",g.status]})]}),y.jsxs("div",{className:"documents-section",children:[y.jsxs("h5",{children:[y.jsx(R1,{size:16,style:{marginRight:"8px",verticalAlign:"middle"}}),"Documentos do Cliente"]}),y.jsxs("div",{className:"document-upload-area",children:[y.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:re=>console.log("Upload de documentos do cliente:",re.target.files)}),y.jsx("p",{className:"upload-hint",children:"Arraste arquivos ou clique para selecionar"})]})]}),y.jsxs("div",{className:"documents-section",children:[y.jsxs("h5",{children:[y.jsx(R7,{size:16,style:{marginRight:"8px",verticalAlign:"middle"}}),"Documentos de Transporte"]}),y.jsxs("div",{className:"document-upload-area",children:[y.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:re=>console.log("Upload de documentos de transporte:",re.target.files)}),y.jsx("p",{className:"upload-hint",children:"Arraste arquivos ou clique para selecionar"})]})]}),y.jsxs("div",{className:"documents-section",children:[y.jsxs("h5",{children:[y.jsx(h4,{size:16,style:{marginRight:"8px",verticalAlign:"middle"}}),"Documentos Existentes"]}),y.jsx("div",{className:"existing-documents",children:y.jsx("p",{className:"no-documents",children:"Nenhum documento carregado ainda."})})]})]}),y.jsxs("div",{className:"documents-modal-actions",children:[y.jsx("button",{className:"btn-cancel",onClick:()=>x(!1),children:"Fechar"}),y.jsx("button",{className:"btn-save",onClick:()=>{alert("Funcionalidade de salvamento em desenvolvimento")},children:"Salvar Documentos"})]})]})})]})})},mq=()=>{const{isCollapsed:t}=be.useContext(h0),[e]=F8(),[r,n]=be.useState({status:"",filter:""});be.useEffect(()=>{const s=e.get("status")||"",a=e.get("filter")||"";n({status:s,filter:a})},[e]);const i=s=>{console.log("Envio atualizado na pgina de envios:",s)};return y.jsxs("main",{className:"envios-container",children:[y.jsx(jo,{}),y.jsxs("div",{className:`envios-content ${t?"navbar-collapsed":""}`,children:[(r.status||r.filter)&&y.jsxs("div",{className:"active-filters",children:[y.jsx("h3",{children:"Filtros Ativos:"}),y.jsxs("div",{className:"filter-tags",children:[r.status&&y.jsxs("span",{className:"filter-tag",children:["Status: ",r.status==="em-trnsito"?"Em Trnsito":r.status==="concludo"?"Entregue":r.status==="documentao"?"Pendente":r.status]}),r.filter==="this-month"&&y.jsx("span",{className:"filter-tag",children:"Este Ms"})]})]}),y.jsx(pq,{onShipmentUpdate:i,initialFilters:r})]}),y.jsx(ec,{})]})},gq=()=>{const{isAdmin:t,loading:e}=Za();return e?y.jsx("div",{children:"Carregando..."}):t()?y.jsx(n6,{}):y.jsx(i6,{})};function _b(){const{language:t,setLanguage:e,translations:r}=lh();return y.jsxs("div",{className:"language-switcher",children:[y.jsxs("p",{children:[r.selectLanguage,":"]}),y.jsxs("div",{className:"language-buttons",children:[y.jsx("button",{onClick:()=>e("pt"),className:t==="pt"?"active":"",children:"PT"}),y.jsx("button",{onClick:()=>e("en"),className:t==="en"?"active":"",children:"EN"}),y.jsx("button",{onClick:()=>e("es"),className:t==="es"?"active":"",children:"ES"})]})]})}var gr;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(gr||(gr={}));var b3;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(b3||(b3={}));const Tt=gr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Sl=t=>{switch(typeof t){case"undefined":return Tt.undefined;case"string":return Tt.string;case"number":return Number.isNaN(t)?Tt.nan:Tt.number;case"boolean":return Tt.boolean;case"function":return Tt.function;case"bigint":return Tt.bigint;case"symbol":return Tt.symbol;case"object":return Array.isArray(t)?Tt.array:t===null?Tt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Tt.promise:typeof Map<"u"&&t instanceof Map?Tt.map:typeof Set<"u"&&t instanceof Set?Tt.set:typeof Date<"u"&&t instanceof Date?Tt.date:Tt.object;default:return Tt.unknown}},it=gr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Uo extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(a))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(this),n}static assert(e){if(!(e instanceof Uo))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,gr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Uo.create=t=>new Uo(t);const uy=(t,e)=>{let r;switch(t.code){case it.invalid_type:t.received===Tt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case it.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,gr.jsonStringifyReplacer)}`;break;case it.unrecognized_keys:r=`Unrecognized key(s) in object: ${gr.joinValues(t.keys,", ")}`;break;case it.invalid_union:r="Invalid input";break;case it.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${gr.joinValues(t.options)}`;break;case it.invalid_enum_value:r=`Invalid enum value. Expected ${gr.joinValues(t.options)}, received '${t.received}'`;break;case it.invalid_arguments:r="Invalid function arguments";break;case it.invalid_return_type:r="Invalid function return type";break;case it.invalid_date:r="Invalid date";break;case it.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:gr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case it.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case it.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case it.custom:r="Invalid input";break;case it.invalid_intersection_types:r="Intersection results could not be merged";break;case it.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case it.not_finite:r="Number must be finite";break;default:r=e.defaultError,gr.assertNever(t)}return{message:r}};let vq=uy;function yq(){return vq}const xq=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)o=u(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function yt(t,e){const r=yq(),n=xq({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===uy?void 0:uy].filter(i=>!!i)});t.common.issues.push(n)}class Ls{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Ht;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return Ls.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Ht;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}}const Ht=Object.freeze({status:"aborted"}),Jh=t=>({status:"dirty",value:t}),ea=t=>({status:"valid",value:t}),C3=t=>t.status==="aborted",k3=t=>t.status==="dirty",Kf=t=>t.status==="valid",Z1=t=>typeof Promise<"u"&&t instanceof Promise;var Nt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Nt||(Nt={}));class nu{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const I3=(t,e)=>{if(Kf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Uo(t.common.issues);return this._error=r,this._error}}};function Jt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class hr{get description(){return this._def.description}_getType(e){return Sl(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Sl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ls,ctx:{common:e.parent.common,data:e.data,parsedType:Sl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Z1(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sl(e)},i=this._parseSync({data:e,path:n.path,parent:n});return I3(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sl(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:r});return Kf(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(i=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>Kf(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sl(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Z1(i)?i:Promise.resolve(i));return I3(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:it.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Xf({schema:this,typeName:Wt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return $l.create(this,this._def)}nullable(){return Qf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ya.create(this)}promise(){return nm.create(this,this._def)}or(e){return tm.create([this,e],this._def)}and(e){return rm.create(this,e,this._def)}transform(e){return new Xf({...Jt(this._def),schema:this,typeName:Wt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new fy({...Jt(this._def),innerType:this,defaultValue:r,typeName:Wt.ZodDefault})}brand(){return new zq({typeName:Wt.ZodBranded,type:this,...Jt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new hy({...Jt(this._def),innerType:this,catchValue:r,typeName:Wt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return E5.create(this,e)}readonly(){return dy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _q=/^c[^\s-]{8,}$/i,wq=/^[0-9a-z]+$/,Eq=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Sq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Aq=/^[a-z0-9_-]{21}$/i,Tq=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Nq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Cq="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let S2;const kq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Iq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Pq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Lq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Rq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Fq=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,wb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Dq=new RegExp(`^${wb}$`);function Eb(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Oq(t){return new RegExp(`^${Eb(t)}$`)}function jq(t){let e=`${wb}T${Eb(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Mq(t,e){return!!((e==="v4"||!e)&&kq.test(t)||(e==="v6"||!e)&&Pq.test(t))}function Bq(t,e){if(!Tq.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Vq(t,e){return!!((e==="v4"||!e)&&Iq.test(t)||(e==="v6"||!e)&&Lq.test(t))}class Rl extends hr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Tt.string){const s=this._getOrReturnCtx(e);return yt(s,{code:it.invalid_type,expected:Tt.string,received:s.parsedType}),Ht}const n=new Ls;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),yt(i,{code:it.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),yt(i,{code:it.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?yt(i,{code:it.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&yt(i,{code:it.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")bq.test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"email",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")S2||(S2=new RegExp(Cq,"u")),S2.test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"emoji",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Sq.test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"uuid",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")Aq.test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"nanoid",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")_q.test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"cuid",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")wq.test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"cuid2",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Eq.test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"ulid",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),yt(i,{validation:"url",code:it.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"regex",code:it.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),yt(i,{code:it.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),yt(i,{code:it.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),yt(i,{code:it.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?jq(s).test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{code:it.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Dq.test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{code:it.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Oq(s).test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{code:it.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?Nq.test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"duration",code:it.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?Mq(e.data,s.version)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"ip",code:it.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Bq(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"jwt",code:it.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?Vq(e.data,s.version)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"cidr",code:it.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?Rq.test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"base64",code:it.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?Fq.test(e.data)||(i=this._getOrReturnCtx(e,i),yt(i,{validation:"base64url",code:it.invalid_string,message:s.message}),n.dirty()):gr.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:it.invalid_string,...Nt.errToObj(n)})}_addCheck(e){return new Rl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Nt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Nt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Nt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Nt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Nt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Nt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Nt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Nt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Nt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Nt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Nt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Nt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Nt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Nt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Nt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Nt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Nt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Nt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Nt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Nt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Nt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Nt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Nt.errToObj(r)})}nonempty(e){return this.min(1,Nt.errToObj(e))}trim(){return new Rl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Rl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Rl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Rl.create=t=>new Rl({checks:[],typeName:Wt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Jt(t)});function Uq(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class i0 extends hr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Tt.number){const s=this._getOrReturnCtx(e);return yt(s,{code:it.invalid_type,expected:Tt.number,received:s.parsedType}),Ht}let n;const i=new Ls;for(const s of this._def.checks)s.kind==="int"?gr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),yt(n,{code:it.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),yt(n,{code:it.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),yt(n,{code:it.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Uq(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),yt(n,{code:it.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),yt(n,{code:it.not_finite,message:s.message}),i.dirty()):gr.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Nt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Nt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Nt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Nt.toString(r))}setLimit(e,r,n,i){return new i0({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Nt.toString(i)}]})}_addCheck(e){return new i0({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Nt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Nt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Nt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Nt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Nt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Nt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&gr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}i0.create=t=>new i0({checks:[],typeName:Wt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Jt(t)});class s0 extends hr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Tt.bigint)return this._getInvalidInput(e);let n;const i=new Ls;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),yt(n,{code:it.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),yt(n,{code:it.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),yt(n,{code:it.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):gr.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return yt(r,{code:it.invalid_type,expected:Tt.bigint,received:r.parsedType}),Ht}gte(e,r){return this.setLimit("min",e,!0,Nt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Nt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Nt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Nt.toString(r))}setLimit(e,r,n,i){return new s0({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Nt.toString(i)}]})}_addCheck(e){return new s0({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Nt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Nt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}s0.create=t=>new s0({checks:[],typeName:Wt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Jt(t)});class P3 extends hr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Tt.boolean){const n=this._getOrReturnCtx(e);return yt(n,{code:it.invalid_type,expected:Tt.boolean,received:n.parsedType}),Ht}return ea(e.data)}}P3.create=t=>new P3({typeName:Wt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Jt(t)});class em extends hr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Tt.date){const s=this._getOrReturnCtx(e);return yt(s,{code:it.invalid_type,expected:Tt.date,received:s.parsedType}),Ht}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return yt(s,{code:it.invalid_date}),Ht}const n=new Ls;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),yt(i,{code:it.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),yt(i,{code:it.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):gr.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new em({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Nt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Nt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}em.create=t=>new em({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Wt.ZodDate,...Jt(t)});class L3 extends hr{_parse(e){if(this._getType(e)!==Tt.symbol){const n=this._getOrReturnCtx(e);return yt(n,{code:it.invalid_type,expected:Tt.symbol,received:n.parsedType}),Ht}return ea(e.data)}}L3.create=t=>new L3({typeName:Wt.ZodSymbol,...Jt(t)});class R3 extends hr{_parse(e){if(this._getType(e)!==Tt.undefined){const n=this._getOrReturnCtx(e);return yt(n,{code:it.invalid_type,expected:Tt.undefined,received:n.parsedType}),Ht}return ea(e.data)}}R3.create=t=>new R3({typeName:Wt.ZodUndefined,...Jt(t)});class F3 extends hr{_parse(e){if(this._getType(e)!==Tt.null){const n=this._getOrReturnCtx(e);return yt(n,{code:it.invalid_type,expected:Tt.null,received:n.parsedType}),Ht}return ea(e.data)}}F3.create=t=>new F3({typeName:Wt.ZodNull,...Jt(t)});class D3 extends hr{constructor(){super(...arguments),this._any=!0}_parse(e){return ea(e.data)}}D3.create=t=>new D3({typeName:Wt.ZodAny,...Jt(t)});class O3 extends hr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ea(e.data)}}O3.create=t=>new O3({typeName:Wt.ZodUnknown,...Jt(t)});class iu extends hr{_parse(e){const r=this._getOrReturnCtx(e);return yt(r,{code:it.invalid_type,expected:Tt.never,received:r.parsedType}),Ht}}iu.create=t=>new iu({typeName:Wt.ZodNever,...Jt(t)});class j3 extends hr{_parse(e){if(this._getType(e)!==Tt.undefined){const n=this._getOrReturnCtx(e);return yt(n,{code:it.invalid_type,expected:Tt.void,received:n.parsedType}),Ht}return ea(e.data)}}j3.create=t=>new j3({typeName:Wt.ZodVoid,...Jt(t)});class Ya extends hr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Tt.array)return yt(r,{code:it.invalid_type,expected:Tt.array,received:r.parsedType}),Ht;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(a||o)&&(yt(r,{code:a?it.too_big:it.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(yt(r,{code:it.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(yt(r,{code:it.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>i.type._parseAsync(new nu(r,a,r.path,o)))).then(a=>Ls.mergeArray(n,a));const s=[...r.data].map((a,o)=>i.type._parseSync(new nu(r,a,r.path,o)));return Ls.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Ya({...this._def,minLength:{value:e,message:Nt.toString(r)}})}max(e,r){return new Ya({...this._def,maxLength:{value:e,message:Nt.toString(r)}})}length(e,r){return new Ya({...this._def,exactLength:{value:e,message:Nt.toString(r)}})}nonempty(e){return this.min(1,e)}}Ya.create=(t,e)=>new Ya({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Wt.ZodArray,...Jt(e)});function Yc(t){if(t instanceof Cn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=$l.create(Yc(n))}return new Cn({...t._def,shape:()=>e})}else return t instanceof Ya?new Ya({...t._def,type:Yc(t.element)}):t instanceof $l?$l.create(Yc(t.unwrap())):t instanceof Qf?Qf.create(Yc(t.unwrap())):t instanceof ic?ic.create(t.items.map(e=>Yc(e))):t}class Cn extends hr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=gr.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Tt.object){const u=this._getOrReturnCtx(e);return yt(u,{code:it.invalid_type,expected:Tt.object,received:u.parsedType}),Ht}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof iu&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||o.push(u);const l=[];for(const u of a){const c=s[u],h=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new nu(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof iu){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")o.length>0&&(yt(i,{code:it.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of o){const h=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new nu(i,h,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const h=await c.key,p=await c.value;u.push({key:h,value:p,alwaysSet:c.alwaysSet})}return u}).then(u=>Ls.mergeObjectSync(n,u)):Ls.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Nt.errToObj,new Cn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Nt.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Cn({...this._def,unknownKeys:"strip"})}passthrough(){return new Cn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Cn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Cn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Wt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Cn({...this._def,catchall:e})}pick(e){const r={};for(const n of gr.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Cn({...this._def,shape:()=>r})}omit(e){const r={};for(const n of gr.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Cn({...this._def,shape:()=>r})}deepPartial(){return Yc(this)}partial(e){const r={};for(const n of gr.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Cn({...this._def,shape:()=>r})}required(e){const r={};for(const n of gr.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof $l;)s=s._def.innerType;r[n]=s}return new Cn({...this._def,shape:()=>r})}keyof(){return Sb(gr.objectKeys(this.shape))}}Cn.create=(t,e)=>new Cn({shape:()=>t,unknownKeys:"strip",catchall:iu.create(),typeName:Wt.ZodObject,...Jt(e)});Cn.strictCreate=(t,e)=>new Cn({shape:()=>t,unknownKeys:"strict",catchall:iu.create(),typeName:Wt.ZodObject,...Jt(e)});Cn.lazycreate=(t,e)=>new Cn({shape:t,unknownKeys:"strip",catchall:iu.create(),typeName:Wt.ZodObject,...Jt(e)});class tm extends hr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Uo(o.ctx.common.issues));return yt(r,{code:it.invalid_union,unionErrors:a}),Ht}if(r.common.async)return Promise.all(n.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new Uo(l));return yt(r,{code:it.invalid_union,unionErrors:o}),Ht}}get options(){return this._def.options}}tm.create=(t,e)=>new tm({options:t,typeName:Wt.ZodUnion,...Jt(e)});function cy(t,e){const r=Sl(t),n=Sl(e);if(t===e)return{valid:!0,data:t};if(r===Tt.object&&n===Tt.object){const i=gr.objectKeys(e),s=gr.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const l=cy(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(r===Tt.array&&n===Tt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],l=cy(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Tt.date&&n===Tt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class rm extends hr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,a)=>{if(C3(s)||C3(a))return Ht;const o=cy(s.value,a.value);return o.valid?((k3(s)||k3(a))&&r.dirty(),{status:r.value,value:o.data}):(yt(n,{code:it.invalid_intersection_types}),Ht)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}rm.create=(t,e,r)=>new rm({left:t,right:e,typeName:Wt.ZodIntersection,...Jt(r)});class ic extends hr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Tt.array)return yt(n,{code:it.invalid_type,expected:Tt.array,received:n.parsedType}),Ht;if(n.data.length<this._def.items.length)return yt(n,{code:it.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ht;!this._def.rest&&n.data.length>this._def.items.length&&(yt(n,{code:it.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new nu(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>Ls.mergeArray(r,a)):Ls.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new ic({...this._def,rest:e})}}ic.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ic({items:t,typeName:Wt.ZodTuple,rest:null,...Jt(e)})};class M3 extends hr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Tt.map)return yt(n,{code:it.invalid_type,expected:Tt.map,received:n.parsedType}),Ht;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([o,l],u)=>({key:i._parse(new nu(n,o,n.path,[u,"key"])),value:s._parse(new nu(n,l,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return Ht;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(u.value,c.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of a){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return Ht;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(u.value,c.value)}return{status:r.value,value:o}}}}M3.create=(t,e,r)=>new M3({valueType:e,keyType:t,typeName:Wt.ZodMap,...Jt(r)});class a0 extends hr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Tt.set)return yt(n,{code:it.invalid_type,expected:Tt.set,received:n.parsedType}),Ht;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(yt(n,{code:it.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(yt(n,{code:it.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function a(l){const u=new Set;for(const c of l){if(c.status==="aborted")return Ht;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((l,u)=>s._parse(new nu(n,l,n.path,u)));return n.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,r){return new a0({...this._def,minSize:{value:e,message:Nt.toString(r)}})}max(e,r){return new a0({...this._def,maxSize:{value:e,message:Nt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}a0.create=(t,e)=>new a0({valueType:t,minSize:null,maxSize:null,typeName:Wt.ZodSet,...Jt(e)});class B3 extends hr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}B3.create=(t,e)=>new B3({getter:t,typeName:Wt.ZodLazy,...Jt(e)});class V3 extends hr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return yt(r,{received:r.data,code:it.invalid_literal,expected:this._def.value}),Ht}return{status:"valid",value:e.data}}get value(){return this._def.value}}V3.create=(t,e)=>new V3({value:t,typeName:Wt.ZodLiteral,...Jt(e)});function Sb(t,e){return new Yf({values:t,typeName:Wt.ZodEnum,...Jt(e)})}class Yf extends hr{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return yt(r,{expected:gr.joinValues(n),received:r.parsedType,code:it.invalid_type}),Ht}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return yt(r,{received:r.data,code:it.invalid_enum_value,options:n}),Ht}return ea(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Yf.create(e,{...this._def,...r})}exclude(e,r=this._def){return Yf.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Yf.create=Sb;class U3 extends hr{_parse(e){const r=gr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Tt.string&&n.parsedType!==Tt.number){const i=gr.objectValues(r);return yt(n,{expected:gr.joinValues(i),received:n.parsedType,code:it.invalid_type}),Ht}if(this._cache||(this._cache=new Set(gr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=gr.objectValues(r);return yt(n,{received:n.data,code:it.invalid_enum_value,options:i}),Ht}return ea(e.data)}get enum(){return this._def.values}}U3.create=(t,e)=>new U3({values:t,typeName:Wt.ZodNativeEnum,...Jt(e)});class nm extends hr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Tt.promise&&r.common.async===!1)return yt(r,{code:it.invalid_type,expected:Tt.promise,received:r.parsedType}),Ht;const n=r.parsedType===Tt.promise?r.data:Promise.resolve(r.data);return ea(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}nm.create=(t,e)=>new nm({type:t,typeName:Wt.ZodPromise,...Jt(e)});class Xf extends hr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Wt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{yt(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return Ht;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ht:l.status==="dirty"||r.value==="dirty"?Jh(l.value):l});{if(r.value==="aborted")return Ht;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?Ht:o.status==="dirty"||r.value==="dirty"?Jh(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ht:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Ht:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Kf(a))return Ht;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Kf(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:r.value,value:o})):Ht);gr.assertNever(i)}}Xf.create=(t,e,r)=>new Xf({schema:t,typeName:Wt.ZodEffects,effect:e,...Jt(r)});Xf.createWithPreprocess=(t,e,r)=>new Xf({schema:e,effect:{type:"preprocess",transform:t},typeName:Wt.ZodEffects,...Jt(r)});class $l extends hr{_parse(e){return this._getType(e)===Tt.undefined?ea(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$l.create=(t,e)=>new $l({innerType:t,typeName:Wt.ZodOptional,...Jt(e)});class Qf extends hr{_parse(e){return this._getType(e)===Tt.null?ea(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qf.create=(t,e)=>new Qf({innerType:t,typeName:Wt.ZodNullable,...Jt(e)});class fy extends hr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Tt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}fy.create=(t,e)=>new fy({innerType:t,typeName:Wt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Jt(e)});class hy extends hr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Z1(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Uo(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Uo(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}hy.create=(t,e)=>new hy({innerType:t,typeName:Wt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Jt(e)});class z3 extends hr{_parse(e){if(this._getType(e)!==Tt.nan){const n=this._getOrReturnCtx(e);return yt(n,{code:it.invalid_type,expected:Tt.nan,received:n.parsedType}),Ht}return{status:"valid",value:e.data}}}z3.create=t=>new z3({typeName:Wt.ZodNaN,...Jt(t)});class zq extends hr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class E5 extends hr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ht:s.status==="dirty"?(r.dirty(),Jh(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ht:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new E5({in:e,out:r,typeName:Wt.ZodPipeline})}}class dy extends hr{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Kf(i)&&(i.value=Object.freeze(i.value)),i);return Z1(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}dy.create=(t,e)=>new dy({innerType:t,typeName:Wt.ZodReadonly,...Jt(e)});var Wt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Wt||(Wt={}));const ff=Rl.create;iu.create;Ya.create;const Ab=Cn.create;tm.create;rm.create;ic.create;Yf.create;nm.create;$l.create;Qf.create;const qq=t=>Ab({email:ff().email(t.emailError),password:ff().nonempty(t.passwordError)}),Hq="/assets/logo-CFLHzZDJ.png";function Wq(){const[t,e]=be.useState({email:"",password:""}),[r,n]=be.useState({}),[i,s]=be.useState(!1),{translations:a}=lh(),{login:o}=Za(),l=oc(),u=be.useMemo(()=>qq(a),[a]),c=async h=>{var m,x;if(h.preventDefault(),i)return;const p=u.safeParse(t);if(!p.success){const g=p.error.format();n({email:(m=g.email)==null?void 0:m._errors[0],password:(x=g.password)==null?void 0:x._errors[0]});return}n({}),s(!0);try{await o(t.email,t.password),console.log("Usuario logado com sucesso"),l("/home")}catch(g){console.error("Erro ao logar:",g);const S=g instanceof Error?g.message:"Erro ao fazer login. Verifique suas credenciais.";alert(S)}finally{s(!1)}};return y.jsxs("div",{className:"login-form-container",children:[y.jsx("h1",{className:"welcome-title",children:a.welcomeTo}),y.jsx("div",{className:"logo-container",children:y.jsx("img",{src:Hq,alt:"Sea Logistics Logo",className:"logo-image"})}),y.jsxs("form",{onSubmit:c,className:"login-form",noValidate:!0,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",children:a.email}),y.jsx("input",{id:"email",value:t.email,onChange:h=>e({...t,email:h.target.value}),placeholder:a.emailPlaceholder,required:!0,disabled:i}),r.email&&y.jsx("p",{className:"error-text",children:r.email})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",children:a.password}),y.jsx("input",{type:"password",id:"password",value:t.password,onChange:h=>e({...t,password:h.target.value}),placeholder:a.passwordPlaceholder,required:!0,disabled:i}),r.password&&y.jsx("p",{className:"error-text",children:r.password})]}),y.jsx("button",{type:"submit",className:"login-button",disabled:i,children:i?"Entrando...":a.loginButton})]}),y.jsxs("div",{className:"register-link",children:[a.dontHaveAccount,y.jsxs("a",{className:"register-link-button",onClick:()=>!i&&l("/register"),children:[" ",a.registerLink]})]})]})}const $q=()=>y.jsx("main",{className:"login-container",children:y.jsxs("div",{className:"login-card",children:[y.jsx(Wq,{}),y.jsx(_b,{})]})}),Gq=()=>{const t=oc(),{addShipment:e}=qm(),{isAdmin:r}=Za(),{isCollapsed:n}=be.useContext(h0),{translations:i}=lh();be.useEffect(()=>{r()||(alert("Acesso negado. Apenas administradores podem criar novos shipments."),t("/home"))},[r,t]);const[s,a]=be.useState({clienteId:"",operador:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",quantBox:1,status:"Agendado",numeroBl:"",armador:"",booking:"",invoice:"",tipo:"",shipper:""}),[o,l]=be.useState([]),[u,c]=be.useState([]),[h,p]=be.useState(!1),[m,x]=be.useState(!1),[g,S]=be.useState(!1);be.useEffect(()=>{s.tipo&&a(J=>({...J,pol:"",pod:""}))},[s.tipo]),be.useEffect(()=>{(async()=>{p(!0);try{const P=Hf(Xs(mr,"users"),_f("role","!=","admin")),R=(await To(P)).docs.map(O=>{const k=O.data();return{id:O.id,nome:k.displayName||k.name||"Usurio",empresa:k.companyName||"-",email:k.email||"-",companyId:k.companyId||void 0}});l(R)}catch(P){console.error("Erro ao buscar clientes:",P),l([])}finally{p(!1)}})()},[]),be.useEffect(()=>{(async()=>{x(!0);try{const P=Hf(Xs(mr,"users"),_f("role","==","admin"),_f("isActive","==",!0)),R=(await To(P)).docs.map(O=>{const k=O.data();return{id:O.id,nome:k.displayName||k.name||"Admin",email:k.email||""}});c(R)}catch(P){console.error("Erro ao buscar operadores:",P),c([])}finally{x(!1)}})()},[]);const w=["Santos, Brasil","Itaja, Brasil","Paranagu, Brasil","Rio Grande, Brasil","Suape, Brasil","Rotterdam, Holanda","Hamburgo, Alemanha","Barcelona, Espanha","Xangai, China","Singapura","Los Angeles, EUA","Nova York, EUA"],E=["Guarulhos (GRU), So Paulo, Brasil","Galeo (GIG), Rio de Janeiro, Brasil","Braslia (BSB), Brasil","Miami (MIA), EUA","JFK (JFK), Nova York, EUA","Heathrow (LHR), Londres, Reino Unido","Charles de Gaulle (CDG), Paris, Frana","Frankfurt (FRA), Alemanha","Dubai (DXB), Emirados rabes","Hong Kong (HKG), China","Narita (NRT), Tquio, Japo"],T=["So Paulo, Brasil","Rio de Janeiro, Brasil","Braslia, Brasil","Curitiba, Brasil","Porto Alegre, Brasil","Belo Horizonte, Brasil","Salvador, Brasil","Recife, Brasil","Fortaleza, Brasil","Manaus, Brasil","Miami, EUA","Nova York, EUA","Los Angeles, EUA","Londres, Reino Unido","Paris, Frana","Berlim, Alemanha","Madri, Espanha","Roma, Itlia","Amsterd, Holanda","Bruxelas, Blgica"],j=J=>{const{name:P,value:C}=J.target;a(R=>({...R,[P]:P==="quantBox"?Number.parseInt(C):C}))},X=async J=>{if(J.preventDefault(),!r()){alert("Erro: Voc no tem permisso para criar shipments.");return}S(!0);try{const P=o.find(R=>R.id===s.clienteId);if(!P){alert("Por favor, selecione um cliente vlido."),S(!1);return}const C={cliente:P.empresa,operador:s.operador,pol:s.pol,pod:s.pod,etdOrigem:s.etdOrigem,etaDestino:s.etaDestino,currentLocation:s.pol,quantBox:s.quantBox,status:s.status,numeroBl:s.numeroBl,armador:s.armador,booking:s.booking,companyId:P.companyId,invoice:s.invoice,shipper:"",tipo:s.tipo};await e(C),alert("Envio registrado com sucesso!"),a({clienteId:"",operador:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",quantBox:1,status:"Agendado",numeroBl:"",armador:"",booking:"",invoice:"",tipo:"",shipper:""}),t("/home")}catch(P){console.error("Erro ao criar shipment:",P),alert("Erro ao criar shipment. Tente novamente.")}finally{S(!1)}};return o.find(J=>J.id===s.clienteId),r()?y.jsxs("main",{className:"novo-envio-container",children:[y.jsx(jo,{}),y.jsxs("div",{className:`novo-envio-content ${n?"navbar-collapsed":""}`,children:[y.jsxs("div",{className:"page-header",children:[y.jsx("h1",{children:i.newShipmentTitle}),y.jsx("p",{children:"Preencha as informaes para criar um novo envio"})]}),y.jsxs("div",{className:"form-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx(Wf,{size:20}),y.jsx("h2",{children:"Tipo de Envio"})]}),y.jsx("div",{className:"form-row",children:y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"tipo",children:[y.jsx(Wf,{size:16,style:{marginRight:"8px",verticalAlign:"middle"}}),"Tipo de Transporte *"]}),y.jsxs("select",{id:"tipo",name:"tipo",value:s.tipo,onChange:j,required:!0,children:[y.jsx("option",{value:"",children:"Selecione o tipo de transporte"}),y.jsx("option",{value:"Martimo",children:"Martimo"}),y.jsx("option",{value:"Areo",children:"Areo"}),y.jsx("option",{value:"Terrestre",children:"Terrestre"})]})]})})]}),y.jsx("div",{className:"form-container",children:y.jsxs("form",{onSubmit:X,className:"novo-envio-form",children:[y.jsxs("div",{className:"form-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx(Qx,{size:20}),y.jsx("h2",{children:"Cliente e Operador"})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"clienteId",children:"Cliente *"}),y.jsxs("select",{id:"clienteId",name:"clienteId",value:s.clienteId,onChange:j,required:!0,disabled:h,children:[y.jsx("option",{value:"",children:h?"Carregando...":"Selecione um cliente"}),o.map(J=>y.jsxs("option",{value:J.id,children:[J.nome," - ",J.empresa]},J.id))]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"operador",children:"Operador *"}),y.jsxs("select",{id:"operador",name:"operador",value:s.operador,onChange:j,required:!0,disabled:m,children:[y.jsx("option",{value:"",children:m?"Carregando...":"Selecione um operador"}),u.map(J=>y.jsx("option",{value:J.id,children:J.nome},J.id))]})]})]})]}),y.jsxs("div",{className:"form-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx(Yx,{size:20}),y.jsx("h2",{children:"Rota"})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"pol",children:[s.tipo==="Areo"?"Aeroporto de Origem":s.tipo==="Terrestre"?"Local de Origem":"Porto de Origem"," (POL) *"]}),y.jsxs("select",{id:"pol",name:"pol",value:s.pol,onChange:j,required:!0,children:[y.jsx("option",{value:"",children:s.tipo==="Areo"?"Selecione o aeroporto de origem":s.tipo==="Terrestre"?"Selecione o local de origem":"Selecione o porto de origem"}),s.tipo==="Areo"?E.map(J=>y.jsx("option",{value:J,children:J},J)):s.tipo==="Terrestre"?T.map(J=>y.jsx("option",{value:J,children:J},J)):w.map(J=>y.jsx("option",{value:J,children:J},J))]})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"pod",children:[s.tipo==="Areo"?"Aeroporto de Destino":s.tipo==="Terrestre"?"Local de Destino":"Porto de Destino"," (POD) *"]}),y.jsxs("select",{id:"pod",name:"pod",value:s.pod,onChange:j,required:!0,children:[y.jsx("option",{value:"",children:s.tipo==="Areo"?"Selecione o aeroporto de destino":s.tipo==="Terrestre"?"Selecione o local de destino":"Selecione o porto de destino"}),s.tipo==="Areo"?E.map(J=>y.jsx("option",{value:J,children:J},J)):s.tipo==="Terrestre"?T.map(J=>y.jsx("option",{value:J,children:J},J)):w.map(J=>y.jsx("option",{value:J,children:J},J))]})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"etdOrigem",children:"Data de Partida (ETD) *"}),y.jsx("input",{type:"date",id:"etdOrigem",name:"etdOrigem",value:s.etdOrigem,onChange:j,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"etaDestino",children:"Data Prevista Chegada (ETA) *"}),y.jsx("input",{type:"date",id:"etaDestino",name:"etaDestino",value:s.etaDestino,onChange:j,required:!0})]})]})]}),y.jsxs("div",{className:"form-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx(R1,{size:20}),y.jsx("h2",{children:"Documentao"})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"numeroBl",children:"Nmero do BL *"}),y.jsx("input",{type:"text",id:"numeroBl",name:"numeroBl",value:s.numeroBl,onChange:j,placeholder:"Ex: BL123456789",required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"booking",children:"Nmero do Booking *"}),y.jsx("input",{type:"text",id:"booking",name:"booking",value:s.booking,onChange:j,placeholder:"Ex: BK987654321",required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"invoice",children:"Nmero do Invoice *"}),y.jsx("input",{type:"text",id:"invoice",name:"invoice",value:s.invoice,onChange:j,placeholder:"Ex: INV123456789",required:!0})]})]})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>window.history.back(),children:i.cancel}),y.jsx("button",{type:"submit",className:"btn-submit",disabled:g,children:g?"Registrando...":i.newShipmentTitle})]})]})})]})]}):y.jsxs("main",{className:"novo-envio-main",children:[y.jsx(jo,{}),y.jsx("div",{className:`novo-envio-content ${n?"navbar-collapsed":""}`,children:y.jsx("div",{className:"novo-envio-container",children:y.jsxs("div",{className:"access-denied",children:[y.jsx("h2",{children:"Acesso Negado"}),y.jsx("p",{children:"Apenas administradores podem criar novos shipments."})]})})})]})},Kq=t=>Ab({name:ff().nonempty(t.nameError),email:ff().email(t.emailError),password:ff().min(6,t.passwordError),confirmPassword:ff().min(6,t.confirmPasswordError)}).refine(e=>e.password===e.confirmPassword,{message:t.passwordsDontMatch,path:["confirmPassword"]});function Yq(){const[t,e]=be.useState({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:xr.COMPANY_USER}),[r,n]=be.useState({}),[i,s]=be.useState(!1),{translations:a}=lh(),o=oc(),l=be.useMemo(()=>Kq(a),[a]),u=async(h,p)=>{try{const m=Hf(Xs(mr,"companies"),_f("code","==",p)),x=await To(m);if(x.empty){const g=`company_${Date.now()}`;return await Kd(xn(mr,"companies",g),{id:g,name:h,code:p,contactEmail:t.email,isActive:!0,createdAt:new Date}),g}else return x.docs[0].id}catch(m){throw console.error("Error finding/creating company:",m),m}},c=async h=>{var j,X,J,P;h.preventDefault();const{name:p,email:m,password:x,confirmPassword:g,companyName:S,companyCode:w,role:E}=t;if(console.log(t),x!==g){alert("As senhas no coincidem.");return}if(E===xr.COMPANY_USER&&(!S||!w)){alert("Nome da empresa e cdigo so obrigatrios para usurios de empresa.");return}const T=l.safeParse(t);if(!T.success){const C=T.error.format();n({name:(j=C.name)==null?void 0:j._errors[0],email:(X=C.email)==null?void 0:X._errors[0],password:(J=C.password)==null?void 0:J._errors[0],confirmPassword:(P=C.confirmPassword)==null?void 0:P._errors[0]});return}n({});try{const C=`user_${Date.now()}`;let R;E===xr.COMPANY_USER&&S&&w&&(R=await u(S,w));const O={uid:C,displayName:p??"",email:m,role:E,isActive:!0,createdAt:new Date},k=E===xr.COMPANY_USER?{...O,companyId:R,companyName:S}:O;await Kd(xn(mr,"users",C),k),localStorage.setItem("currentUser",JSON.stringify({email:m,name:p??"Usurio",id:C,role:E})),console.log("Usurio cadastrado com sucesso"),o("/home")}catch(C){console.error("Erro ao cadastrar:",C),alert("Erro ao cadastrar. Verifique os dados e tente novamente.")}};return y.jsxs("div",{className:"split-card",children:[y.jsx("div",{className:"split-branding",children:y.jsxs("div",{className:"split-branding-content",children:[y.jsx("h1",{className:"split-welcome-title",children:a.welcomeTo}),y.jsx("div",{className:"split-logo",children:y.jsx("img",{src:t6,alt:"Sea Logistics Logo",className:"split-logo-image"})}),y.jsx("p",{className:"split-description",children:a.registerText})]})}),y.jsxs("div",{className:"split-form-container",children:[y.jsx("h2",{className:"split-title",children:a.createAccount}),y.jsxs("div",{className:"split-form-group",children:[y.jsx("label",{children:"Tipo de Usurio"}),y.jsxs("div",{className:"user-type-selector",children:[y.jsxs("label",{className:"radio-option",children:[y.jsx("input",{type:"radio",name:"userType",checked:!i,onChange:()=>{s(!1),e({...t,role:xr.COMPANY_USER})}}),"Usurio de Empresa"]}),y.jsxs("label",{className:"radio-option",children:[y.jsx("input",{type:"radio",name:"userType",checked:i,onChange:()=>{s(!0),e({...t,role:xr.ADMIN})}}),"Administrador"]})]})]}),y.jsxs("form",{onSubmit:c,className:"split-form",noValidate:!0,children:[y.jsxs("div",{className:"split-form-group",children:[y.jsx("label",{htmlFor:"name",children:a.name}),y.jsx("input",{id:"name",value:t.name,onChange:h=>e({...t,name:h.target.value}),placeholder:a.namePlaceholder,required:!0}),r.name&&y.jsx("p",{className:"error-text",children:r.name})]}),y.jsxs("div",{className:"split-form-group",children:[y.jsx("label",{htmlFor:"email",children:a.email}),y.jsx("input",{id:"email",type:"email",value:t.email,onChange:h=>e({...t,email:h.target.value}),placeholder:a.emailPlaceholder,required:!0}),r.email&&y.jsx("p",{className:"error-text",children:r.email})]}),!i&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"split-form-group",children:[y.jsx("label",{htmlFor:"companyName",children:"Nome da Empresa"}),y.jsx("input",{id:"companyName",value:t.companyName,onChange:h=>e({...t,companyName:h.target.value}),placeholder:"Digite o nome da sua empresa",required:!i}),r.companyName&&y.jsx("p",{className:"error-text",children:r.companyName})]}),y.jsxs("div",{className:"split-form-group",children:[y.jsx("label",{htmlFor:"companyCode",children:"Cdigo da Empresa"}),y.jsx("input",{id:"companyCode",value:t.companyCode,onChange:h=>e({...t,companyCode:h.target.value.toUpperCase()}),placeholder:"Ex: LOG001",required:!i}),y.jsx("small",{children:"Cdigo nico para identificar sua empresa"}),r.companyCode&&y.jsx("p",{className:"error-text",children:r.companyCode})]})]}),y.jsxs("div",{className:"split-password-grid",children:[y.jsxs("div",{className:"split-form-group",children:[y.jsx("label",{htmlFor:"password",children:a.password}),y.jsx("input",{id:"password",type:"password",value:t.password,onChange:h=>e({...t,password:h.target.value}),placeholder:a.passwordPlaceholder,required:!0}),r.password&&y.jsx("p",{className:"error-text",children:r.password})]}),y.jsxs("div",{className:"split-form-group",children:[y.jsx("label",{htmlFor:"confirm-password",children:a.confirmPassword}),y.jsx("input",{id:"confirm-password",type:"password",value:t.confirmPassword,onChange:h=>e({...t,confirmPassword:h.target.value}),placeholder:a.confirmPasswordPlaceholder,required:!0}),r.confirmPassword&&y.jsx("p",{className:"error-text",children:r.confirmPassword})]})]}),y.jsx("button",{type:"submit",className:"split-button",children:a.registerButton})]}),y.jsxs("div",{className:"split-login-link",children:[a.alreadyHaveAccount," ",y.jsx("a",{onClick:()=>o("/"),className:"split-link",children:a.loginLink})]}),y.jsx(_b,{})]})]})}const Xq=()=>y.jsx("main",{className:"login-container",children:y.jsx(Yq,{})}),Qq=()=>{const{isCollapsed:t}=be.useContext(h0),r=(()=>{const x=localStorage.getItem("currentUser");return x?JSON.parse(x):{id:"demo-user-123",email:"demo@sealogistics.com",name:"Usurio Demo"}})(),n=r.id,[i,s]=be.useState({name:"",email:"",phone:"",company:"",position:"",notifications:{email:!0,push:!0,statusUpdates:!0,newShipments:!0},preferences:{language:"pt",timezone:"America/Sao_Paulo",dateFormat:"DD/MM/YYYY",theme:"light"}}),[a,o]=be.useState(!1),[l,u]=be.useState(!1);be.useEffect(()=>{c()},[]);const c=async()=>{o(!0);try{const x=await Wl(xn(mr,"users",n));if(x.exists()){const g=x.data();s({name:g.name||r.name||"",email:g.email||r.email||"",phone:g.phone||"",company:g.company||"",position:g.position||"",notifications:g.notifications||i.notifications,preferences:g.preferences||i.preferences})}else{const g={name:r.name||"Usurio Demo",email:r.email||"demo@sealogistics.com",phone:"",company:"",position:"",notifications:i.notifications,preferences:i.preferences,createdAt:new Date};await qu(xn(mr,"users",n),g),s(S=>({...S,...g}))}}catch(x){console.error("Erro ao carregar configuraes:",x);try{const g={name:r.name||"Usurio Demo",email:r.email||"demo@sealogistics.com",phone:"",company:"",position:"",notifications:i.notifications,preferences:i.preferences,createdAt:new Date};await qu(xn(mr,"users",n),g),s(S=>({...S,...g}))}catch(g){console.error("Erro ao criar documento do usurio:",g)}}finally{o(!1)}},h=(x,g)=>{s(S=>({...S,[x]:g}))},p=(x,g,S)=>{s(w=>({...w,[x]:{...w[x],[g]:S}}))},m=async()=>{u(!0);try{await qu(xn(mr,"users",n),{name:i.name,email:i.email,phone:i.phone,company:i.company,position:i.position,notifications:i.notifications,preferences:i.preferences,updatedAt:new Date}),alert("Configuraes salvas com sucesso!")}catch(x){console.error("Erro ao salvar configuraes:",x),alert("Erro ao salvar configuraes. Tente novamente.")}finally{u(!1)}};return a?y.jsx(Uv,{children:y.jsxs("main",{className:"settings-container",children:[y.jsx(jo,{}),y.jsx("div",{className:`settings-content ${t?"navbar-collapsed":""}`,children:y.jsx("div",{className:"loading-message",children:"Carregando configuraes..."})}),y.jsx(ec,{})]})}):y.jsx(Uv,{children:y.jsxs("main",{className:"settings-container",children:[y.jsx(jo,{}),y.jsx("div",{className:`settings-content ${t?"navbar-collapsed":""}`,children:y.jsxs("div",{className:"settings-wrapper",children:[y.jsxs("div",{className:"settings-header",children:[y.jsx("h1",{children:"Configuraes da conta"}),y.jsx("p",{children:"Gerencie suas informaes pessoais e preferncias"})]}),y.jsxs("div",{className:"settings-sections",children:[y.jsxs("div",{className:"settings-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx(Qx,{size:20}),y.jsx("h2",{children:"Informaes Pessoais"})]}),y.jsxs("div",{className:"form-grid",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"name",children:"Nome Completo"}),y.jsx("input",{type:"text",id:"name",value:i.name,onChange:x=>h("name",x.target.value),placeholder:"Digite seu nome completo"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",children:"E-mail"}),y.jsx("input",{type:"email",id:"email",value:i.email,onChange:x=>h("email",x.target.value),placeholder:"seu@email.com"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"phone",children:"Telefone"}),y.jsx("input",{type:"tel",id:"phone",value:i.phone,onChange:x=>h("phone",x.target.value),placeholder:"(11) 99999-9999"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"company",children:"Empresa"}),y.jsx("input",{type:"text",id:"company",value:i.company,onChange:x=>h("company",x.target.value),placeholder:"Nome da empresa"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"position",children:"Cargo"}),y.jsx("input",{type:"text",id:"position",value:i.position,onChange:x=>h("position",x.target.value),placeholder:"Seu cargo na empresa"})]})]})]}),y.jsxs("div",{className:"settings-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx(E7,{size:20}),y.jsx("h2",{children:"Notificaes"})]}),y.jsxs("div",{className:"notification-settings",children:[y.jsxs("div",{className:"notification-item",children:[y.jsxs("div",{className:"notification-info",children:[y.jsx("h3",{children:"Notificaes por E-mail"}),y.jsx("p",{children:"Receba atualizaes importantes por e-mail"})]}),y.jsxs("label",{className:"switch",children:[y.jsx("input",{type:"checkbox",checked:i.notifications.email,onChange:x=>p("notifications","email",x.target.checked)}),y.jsx("span",{className:"slider"})]})]}),y.jsxs("div",{className:"notification-item",children:[y.jsxs("div",{className:"notification-info",children:[y.jsx("h3",{children:"Notificaes Push"}),y.jsx("p",{children:"Receba notificaes em tempo real no navegador"})]}),y.jsxs("label",{className:"switch",children:[y.jsx("input",{type:"checkbox",checked:i.notifications.push,onChange:x=>p("notifications","push",x.target.checked)}),y.jsx("span",{className:"slider"})]})]}),y.jsxs("div",{className:"notification-item",children:[y.jsxs("div",{className:"notification-info",children:[y.jsx("h3",{children:"Atualizaes de Status"}),y.jsx("p",{children:"Seja notificado quando o status dos envios mudar"})]}),y.jsxs("label",{className:"switch",children:[y.jsx("input",{type:"checkbox",checked:i.notifications.statusUpdates,onChange:x=>p("notifications","statusUpdates",x.target.checked)}),y.jsx("span",{className:"slider"})]})]}),y.jsxs("div",{className:"notification-item",children:[y.jsxs("div",{className:"notification-info",children:[y.jsx("h3",{children:"Novos Envios"}),y.jsx("p",{children:"Receba notificaes sobre novos envios criados"})]}),y.jsxs("label",{className:"switch",children:[y.jsx("input",{type:"checkbox",checked:i.notifications.newShipments,onChange:x=>p("notifications","newShipments",x.target.checked)}),y.jsx("span",{className:"slider"})]})]})]})]}),y.jsxs("div",{className:"settings-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx(N7,{size:20}),y.jsx("h2",{children:"Preferncias"})]}),y.jsxs("div",{className:"form-grid",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"language",children:"Idioma"}),y.jsxs("select",{id:"language",value:i.preferences.language,onChange:x=>p("preferences","language",x.target.value),children:[y.jsx("option",{value:"pt",children:"Portugus"}),y.jsx("option",{value:"en",children:"English"}),y.jsx("option",{value:"es",children:"Espaol"})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"timezone",children:"Fuso Horrio"}),y.jsxs("select",{id:"timezone",value:i.preferences.timezone,onChange:x=>p("preferences","timezone",x.target.value),children:[y.jsx("option",{value:"America/Sao_Paulo",children:"So Paulo (UTC-3)"}),y.jsx("option",{value:"America/New_York",children:"Nova York (UTC-5)"}),y.jsx("option",{value:"Europe/London",children:"Londres (UTC+0)"}),y.jsx("option",{value:"Asia/Shanghai",children:"Xangai (UTC+8)"})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"dateFormat",children:"Formato de Data"}),y.jsxs("select",{id:"dateFormat",value:i.preferences.dateFormat,onChange:x=>p("preferences","dateFormat",x.target.value),children:[y.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/AAAA"}),y.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/AAAA"}),y.jsx("option",{value:"YYYY-MM-DD",children:"AAAA-MM-DD"})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"theme",children:"Tema"}),y.jsxs("select",{id:"theme",value:i.preferences.theme,onChange:x=>p("preferences","theme",x.target.value),children:[y.jsx("option",{value:"light",children:"Claro"}),y.jsx("option",{value:"dark",children:"Escuro"}),y.jsx("option",{value:"auto",children:"Automtico"})]})]})]})]})]}),y.jsx("div",{className:"settings-actions",children:y.jsxs("button",{className:"btn-save",onClick:m,disabled:l,children:[y.jsx(ZT,{size:16}),l?"Salvando...":"Salvar Configuraes"]})})]})}),y.jsx(ec,{})]})})},Jq=()=>y.jsx(Uv,{children:y.jsx(p7,{children:y.jsx(g7,{children:y.jsx(D8,{children:y.jsx(R8,{children:y.jsxs("div",{className:"app-container",children:[y.jsxs(k8,{children:[y.jsx(vo,{path:"/",element:y.jsx($q,{})}),y.jsx(vo,{path:"/register",element:y.jsx(Xq,{})}),y.jsx(vo,{path:"/home",element:y.jsx(gq,{})}),y.jsx(vo,{path:"/dashboard",element:y.jsx(i6,{})}),y.jsx(vo,{path:"/admin-dashboard",element:y.jsx(n6,{})}),y.jsx(vo,{path:"/envios",element:y.jsx(mq,{})}),y.jsx(vo,{path:"/novo-envio",element:y.jsx(Gq,{})}),y.jsx(vo,{path:"/settings",element:y.jsx(Qq,{})})]}),y.jsx(x7,{theme:"light"})]})})})})})});tA(document.getElementById("root")).render(y.jsx(be.StrictMode,{children:y.jsx(Jq,{})}));export{kr as _,Ih as c,uC as g};
