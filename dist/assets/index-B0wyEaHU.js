(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var ym={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function eA(){if(__)return Bl;__=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=e,Bl.jsx=n,Bl.jsxs=n,Bl}var E_;function tA(){return E_||(E_=1,ym.exports=eA()),ym.exports}var p=tA(),vm={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function nA(){if(T_)return je;T_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=A&&L[A]||L["@@iterator"],typeof L=="function"?L:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function V(L,re,ce){this.props=L,this.context=re,this.refs=N,this.updater=ce||C}V.prototype.isReactComponent={},V.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},V.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function H(){}H.prototype=V.prototype;function M(L,re,ce){this.props=L,this.context=re,this.refs=N,this.updater=ce||C}var Q=M.prototype=new H;Q.constructor=M,R(Q,V.prototype),Q.isPureReactComponent=!0;var ie=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function O(L,re,ce,oe,Te,ke){return ce=ke.ref,{$$typeof:i,type:L,key:re,ref:ce!==void 0?ce:null,props:ke}}function w(L,re){return O(L.type,re,void 0,void 0,void 0,L.props)}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function k(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ce){return re[ce]})}var B=/\/+/g;function P(L,re){return typeof L=="object"&&L!==null&&L.key!=null?k(""+L.key):re.toString(36)}function I(){}function mt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(I,I):(L.status="pending",L.then(function(re){L.status==="pending"&&(L.status="fulfilled",L.value=re)},function(re){L.status==="pending"&&(L.status="rejected",L.reason=re)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function rt(L,re,ce,oe,Te){var ke=typeof L;(ke==="undefined"||ke==="boolean")&&(L=null);var Ce=!1;if(L===null)Ce=!0;else switch(ke){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(L.$$typeof){case i:case e:Ce=!0;break;case E:return Ce=L._init,rt(Ce(L._payload),re,ce,oe,Te)}}if(Ce)return Te=Te(L),Ce=oe===""?"."+P(L,0):oe,ie(Te)?(ce="",Ce!=null&&(ce=Ce.replace(B,"$&/")+"/"),rt(Te,re,ce,"",function(ra){return ra})):Te!=null&&(D(Te)&&(Te=w(Te,ce+(Te.key==null||L&&L.key===Te.key?"":(""+Te.key).replace(B,"$&/")+"/")+Ce)),re.push(Te)),1;Ce=0;var Ut=oe===""?".":oe+":";if(ie(L))for(var ut=0;ut<L.length;ut++)oe=L[ut],ke=Ut+P(oe,ut),Ce+=rt(oe,re,ce,ke,Te);else if(ut=b(L),typeof ut=="function")for(L=ut.call(L),ut=0;!(oe=L.next()).done;)oe=oe.value,ke=Ut+P(oe,ut++),Ce+=rt(oe,re,ce,ke,Te);else if(ke==="object"){if(typeof L.then=="function")return rt(mt(L),re,ce,oe,Te);throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function X(L,re,ce){if(L==null)return L;var oe=[],Te=0;return rt(L,oe,"","",function(ke){return re.call(ce,ke,Te++)}),oe}function ue(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(ce){(L._status===0||L._status===-1)&&(L._status=1,L._result=ce)},function(ce){(L._status===0||L._status===-1)&&(L._status=2,L._result=ce)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var ge=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function $e(){}return je.Children={map:X,forEach:function(L,re,ce){X(L,function(){re.apply(this,arguments)},ce)},count:function(L){var re=0;return X(L,function(){re++}),re},toArray:function(L){return X(L,function(re){return re})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},je.Component=V,je.Fragment=n,je.Profiler=o,je.PureComponent=M,je.StrictMode=r,je.Suspense=y,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,je.__COMPILER_RUNTIME={__proto__:null,c:function(L){return W.H.useMemoCache(L)}},je.cache=function(L){return function(){return L.apply(null,arguments)}},je.cloneElement=function(L,re,ce){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var oe=R({},L.props),Te=L.key,ke=void 0;if(re!=null)for(Ce in re.ref!==void 0&&(ke=void 0),re.key!==void 0&&(Te=""+re.key),re)!de.call(re,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&re.ref===void 0||(oe[Ce]=re[Ce]);var Ce=arguments.length-2;if(Ce===1)oe.children=ce;else if(1<Ce){for(var Ut=Array(Ce),ut=0;ut<Ce;ut++)Ut[ut]=arguments[ut+2];oe.children=Ut}return O(L.type,Te,void 0,void 0,ke,oe)},je.createContext=function(L){return L={$$typeof:d,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},je.createElement=function(L,re,ce){var oe,Te={},ke=null;if(re!=null)for(oe in re.key!==void 0&&(ke=""+re.key),re)de.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Te[oe]=re[oe]);var Ce=arguments.length-2;if(Ce===1)Te.children=ce;else if(1<Ce){for(var Ut=Array(Ce),ut=0;ut<Ce;ut++)Ut[ut]=arguments[ut+2];Te.children=Ut}if(L&&L.defaultProps)for(oe in Ce=L.defaultProps,Ce)Te[oe]===void 0&&(Te[oe]=Ce[oe]);return O(L,ke,void 0,void 0,null,Te)},je.createRef=function(){return{current:null}},je.forwardRef=function(L){return{$$typeof:m,render:L}},je.isValidElement=D,je.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:ue}},je.memo=function(L,re){return{$$typeof:g,type:L,compare:re===void 0?null:re}},je.startTransition=function(L){var re=W.T,ce={};W.T=ce;try{var oe=L(),Te=W.S;Te!==null&&Te(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then($e,ge)}catch(ke){ge(ke)}finally{W.T=re}},je.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},je.use=function(L){return W.H.use(L)},je.useActionState=function(L,re,ce){return W.H.useActionState(L,re,ce)},je.useCallback=function(L,re){return W.H.useCallback(L,re)},je.useContext=function(L){return W.H.useContext(L)},je.useDebugValue=function(){},je.useDeferredValue=function(L,re){return W.H.useDeferredValue(L,re)},je.useEffect=function(L,re,ce){var oe=W.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(L,re)},je.useId=function(){return W.H.useId()},je.useImperativeHandle=function(L,re,ce){return W.H.useImperativeHandle(L,re,ce)},je.useInsertionEffect=function(L,re){return W.H.useInsertionEffect(L,re)},je.useLayoutEffect=function(L,re){return W.H.useLayoutEffect(L,re)},je.useMemo=function(L,re){return W.H.useMemo(L,re)},je.useOptimistic=function(L,re){return W.H.useOptimistic(L,re)},je.useReducer=function(L,re,ce){return W.H.useReducer(L,re,ce)},je.useRef=function(L){return W.H.useRef(L)},je.useState=function(L){return W.H.useState(L)},je.useSyncExternalStore=function(L,re,ce){return W.H.useSyncExternalStore(L,re,ce)},je.useTransition=function(){return W.H.useTransition()},je.version="19.1.0",je}var b_;function hp(){return b_||(b_=1,vm.exports=nA()),vm.exports}var z=hp(),_m={exports:{}},ql={},Em={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function aA(){return A_||(A_=1,function(i){function e(X,ue){var ge=X.length;X.push(ue);e:for(;0<ge;){var $e=ge-1>>>1,L=X[$e];if(0<o(L,ue))X[$e]=ue,X[ge]=L,ge=$e;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],ge=X.pop();if(ge!==ue){X[0]=ge;e:for(var $e=0,L=X.length,re=L>>>1;$e<re;){var ce=2*($e+1)-1,oe=X[ce],Te=ce+1,ke=X[Te];if(0>o(oe,ge))Te<L&&0>o(ke,oe)?(X[$e]=ke,X[Te]=ge,$e=Te):(X[$e]=oe,X[ce]=ge,$e=ce);else if(Te<L&&0>o(ke,ge))X[$e]=ke,X[Te]=ge,$e=Te;else break e}}return ue}function o(X,ue){var ge=X.sortIndex-ue.sortIndex;return ge!==0?ge:X.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var y=[],g=[],E=1,A=null,b=3,C=!1,R=!1,N=!1,V=!1,H=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ie(X){for(var ue=n(g);ue!==null;){if(ue.callback===null)r(g);else if(ue.startTime<=X)r(g),ue.sortIndex=ue.expirationTime,e(y,ue);else break;ue=n(g)}}function W(X){if(N=!1,ie(X),!R)if(n(y)!==null)R=!0,de||(de=!0,P());else{var ue=n(g);ue!==null&&rt(W,ue.startTime-X)}}var de=!1,O=-1,w=5,D=-1;function k(){return V?!0:!(i.unstable_now()-D<w)}function B(){if(V=!1,de){var X=i.unstable_now();D=X;var ue=!0;try{e:{R=!1,N&&(N=!1,M(O),O=-1),C=!0;var ge=b;try{t:{for(ie(X),A=n(y);A!==null&&!(A.expirationTime>X&&k());){var $e=A.callback;if(typeof $e=="function"){A.callback=null,b=A.priorityLevel;var L=$e(A.expirationTime<=X);if(X=i.unstable_now(),typeof L=="function"){A.callback=L,ie(X),ue=!0;break t}A===n(y)&&r(y),ie(X)}else r(y);A=n(y)}if(A!==null)ue=!0;else{var re=n(g);re!==null&&rt(W,re.startTime-X),ue=!1}}break e}finally{A=null,b=ge,C=!1}ue=void 0}}finally{ue?P():de=!1}}}var P;if(typeof Q=="function")P=function(){Q(B)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,mt=I.port2;I.port1.onmessage=B,P=function(){mt.postMessage(null)}}else P=function(){H(B,0)};function rt(X,ue){O=H(function(){X(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var ge=b;b=ue;try{return X()}finally{b=ge}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=b;b=X;try{return ue()}finally{b=ge}},i.unstable_scheduleCallback=function(X,ue,ge){var $e=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?$e+ge:$e):ge=$e,X){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ge+L,X={id:E++,callback:ue,priorityLevel:X,startTime:ge,expirationTime:L,sortIndex:-1},ge>$e?(X.sortIndex=ge,e(g,X),n(y)===null&&X===n(g)&&(N?(M(O),O=-1):N=!0,rt(W,ge-$e))):(X.sortIndex=L,e(y,X),R||C||(R=!0,de||(de=!0,P()))),X},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(X){var ue=b;return function(){var ge=b;b=ue;try{return X.apply(this,arguments)}finally{b=ge}}}}(Tm)),Tm}var x_;function iA(){return x_||(x_=1,Em.exports=aA()),Em.exports}var bm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function rA(){if(S_)return nn;S_=1;var i=hp();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:g,implementation:E}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,E)},nn.flushSync=function(y){var g=d.T,E=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=g,r.p=E,r.d.f()}},nn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},nn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},nn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:C}):E==="script"&&r.d.X(y,{crossOrigin:A,integrity:b,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},nn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);r.d.L(y,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},nn.requestFormReset=function(y){r.d.r(y)},nn.unstable_batchedUpdates=function(y,g){return y(g)},nn.useFormState=function(y,g,E){return d.H.useFormState(y,g,E)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var w_;function sA(){if(w_)return bm.exports;w_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bm.exports=rA(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function oA(){if(R_)return ql;R_=1;var i=iA(),e=hp(),n=sA();function r(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function d(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(r(188))}function y(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(r(188));return a!==t?null:t}for(var s=t,l=a;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return m(h),t;if(f===l)return m(h),a;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=f;else{for(var T=!1,x=h.child;x;){if(x===s){T=!0,s=h,l=f;break}if(x===l){T=!0,l=h,s=f;break}x=x.sibling}if(!T){for(x=f.child;x;){if(x===s){T=!0,s=f,l=h;break}if(x===l){T=!0,l=f,s=h;break}x=x.sibling}if(!T)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:a}function g(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=g(t),a!==null)return a;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=B&&t[B]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function mt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case V:return"Profiler";case N:return"StrictMode";case W:return"Suspense";case de:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case M:return(t._context.displayName||"Context")+".Consumer";case ie:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return a=t.displayName||null,a!==null?a:mt(t.type)||"Memo";case w:a=t._payload,t=t._init;try{return mt(t(a))}catch{}}return null}var rt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},$e=[],L=-1;function re(t){return{current:t}}function ce(t){0>L||(t.current=$e[L],$e[L]=null,L--)}function oe(t,a){L++,$e[L]=t.current,t.current=a}var Te=re(null),ke=re(null),Ce=re(null),Ut=re(null);function ut(t,a){switch(oe(Ce,a),oe(ke,t),oe(Te,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?$v(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=$v(a),t=Qv(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ce(Te),oe(Te,t)}function ra(){ce(Te),ce(ke),ce(Ce)}function vi(t){t.memoizedState!==null&&oe(Ut,t);var a=Te.current,s=Qv(a,t.type);a!==s&&(oe(ke,t),oe(Te,s))}function Oa(t){ke.current===t&&(ce(Te),ce(ke)),Ut.current===t&&(ce(Ut),kl._currentValue=ge)}var fr=Object.prototype.hasOwnProperty,mr=i.unstable_scheduleCallback,pr=i.unstable_cancelCallback,Oo=i.unstable_shouldYield,Mu=i.unstable_requestPaint,On=i.unstable_now,gd=i.unstable_getCurrentPriorityLevel,Vo=i.unstable_ImmediatePriority,cs=i.unstable_UserBlockingPriority,gr=i.unstable_NormalPriority,yd=i.unstable_LowPriority,hs=i.unstable_IdlePriority,Mo=i.log,ku=i.unstable_setDisableYieldValue,_t=null,Je=null;function bn(t){if(typeof Mo=="function"&&ku(t),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(_t,t)}catch{}}var en=Math.clz32?Math.clz32:yr,Pu=Math.log,vd=Math.LN2;function yr(t){return t>>>=0,t===0?32:31-(Pu(t)/vd|0)|0}var vr=256,_r=4194304;function Qn(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ds(t,a,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?h=Qn(l):(T&=x,T!==0?h=Qn(T):s||(s=x&~t,s!==0&&(h=Qn(s))))):(x=l&~f,x!==0?h=Qn(x):T!==0?h=Qn(T):s||(s=l&~t,s!==0&&(h=Qn(s)))),h===0?0:a!==0&&a!==h&&(a&f)===0&&(f=h&-h,s=a&-a,f>=s||f===32&&(s&4194048)!==0)?a:h}function Er(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function ko(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var t=vr;return vr<<=1,(vr&4194048)===0&&(vr=256),t}function Lo(){var t=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),t}function Va(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function Ma(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uo(t,a,s,l,h,f){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var x=t.entanglements,j=t.expirationTimes,Y=t.hiddenUpdates;for(s=T&~s;0<s;){var J=31-en(s),te=1<<J;x[J]=0,j[J]=-1;var $=Y[J];if($!==null)for(Y[J]=null,J=0;J<$.length;J++){var Z=$[J];Z!==null&&(Z.lane&=-536870913)}s&=~te}l!==0&&sa(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(T&~a))}function sa(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var l=31-en(a);t.entangledLanes|=a,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function zo(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var l=31-en(s),h=1<<l;h&a|t[l]&a&&(t[l]|=a),s&=~h}}function _i(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ei(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:f_(t.type))}function Lu(t,a){var s=ue.p;try{return ue.p=t,a()}finally{ue.p=s}}var dt=Math.random().toString(36).slice(2),jt="__reactFiber$"+dt,wt="__reactProps$"+dt,Vn="__reactContainer$"+dt,Bo="__reactEvents$"+dt,_d="__reactListeners$"+dt,Ti="__reactHandles$"+dt,Uu="__reactResources$"+dt,Tr="__reactMarker$"+dt;function bi(t){delete t[jt],delete t[wt],delete t[Bo],delete t[_d],delete t[Ti]}function ka(t){var a=t[jt];if(a)return a;for(var s=t.parentNode;s;){if(a=s[Vn]||s[jt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=Jv(t);t!==null;){if(s=t[jt])return s;t=Jv(t)}return a}t=s,s=t.parentNode}return null}function oa(t){if(t=t[jt]||t[Vn]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function la(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(r(33))}function hn(t){var a=t[Uu];return a||(a=t[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function bt(t){t[Tr]=!0}var qo=new Set,ms={};function Zn(t,a){Pa(t,a),Pa(t+"Capture",a)}function Pa(t,a){for(ms[t]=a,t=0;t<a.length;t++)qo.add(a[t])}var zu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bu={},br={};function qu(t){return fr.call(br,t)?!0:fr.call(Bu,t)?!1:zu.test(t)?br[t]=!0:(Bu[t]=!0,!1)}function Ai(t,a,s){if(qu(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function ua(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function Yt(t,a,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+l)}}var Ar,Hu;function La(t){if(Ar===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ar=a&&a[1]||"",Hu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ar+t+Hu}var ps=!1;function gs(t,a){if(!t||ps)return"";ps=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Z){var $=Z}Reflect.construct(t,[],te)}else{try{te.call()}catch(Z){$=Z}t.call(te.prototype)}}else{try{throw Error()}catch(Z){$=Z}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Z){if(Z&&$&&typeof Z.stack=="string")return[Z.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),T=f[0],x=f[1];if(T&&x){var j=T.split(`
`),Y=x.split(`
`);for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===Y.length)for(l=j.length-1,h=Y.length-1;1<=l&&0<=h&&j[l]!==Y[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==Y[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==Y[h]){var J=`
`+j[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{ps=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?La(s):""}function Ho(t){switch(t.tag){case 26:case 27:case 5:return La(t.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 15:return gs(t.type,!1);case 11:return gs(t.type.render,!1);case 1:return gs(t.type,!0);case 31:return La("Activity");default:return""}}function ys(t){try{var a="";do a+=Ho(t),t=t.return;while(t);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fo(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ed(t){var a=Fo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),l=""+t[a];if(!t.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return h.call(this)},set:function(T){l=""+T,f.call(this,T)}}),Object.defineProperty(t,a,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function vs(t){t._valueTracker||(t._valueTracker=Ed(t))}function Go(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),l="";return t&&(l=Fo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(a.setValue(t),!0):!1}function xr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Td=/[\n"\\]/g;function Rt(t){return t.replace(Td,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function An(t,a,s,l,h,f,T,x){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),a!=null?T==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+dn(a)):t.value!==""+dn(a)&&(t.value=""+dn(a)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),a!=null?xi(t,T,dn(a)):s!=null?xi(t,T,dn(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+dn(x):t.removeAttribute("name")}function Sr(t,a,s,l,h,f,T,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),a!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||a!=null))return;s=s!=null?""+dn(s):"",a=a!=null?""+dn(a):s,x||a===t.value||(t.value=a),t.defaultValue=a}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function xi(t,a,s){a==="number"&&xr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ua(t,a,s,l){if(t=t.options,a){a={};for(var h=0;h<s.length;h++)a["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=a.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+dn(s),a=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}a!==null||t[h].disabled||(a=t[h])}a!==null&&(a.selected=!0)}}function tt(t,a,s){if(a!=null&&(a=""+dn(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+dn(s):""}function wr(t,a,s,l){if(a==null){if(l!=null){if(s!=null)throw Error(r(92));if(rt(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),a=s}s=dn(a),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Mn(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var Rr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fu(t,a,s){var l=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":l?t.setProperty(a,s):typeof s!="number"||s===0||Rr.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function Yo(t,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in a)l=a[h],a.hasOwnProperty(h)&&s[h]!==l&&Fu(t,h,l)}else for(var f in a)a.hasOwnProperty(f)&&Fu(t,f,a[f])}function $o(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ad=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _s(t){return Ad.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var za=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ba=null,qa=null;function Qo(t){var a=oa(t);if(a&&(t=a.stateNode)){var s=t[wt]||null;e:switch(t=a.stateNode,a.type){case"input":if(An(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Rt(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var l=s[a];if(l!==t&&l.form===t.form){var h=l[wt]||null;if(!h)throw Error(r(90));An(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<s.length;a++)l=s[a],l.form===t.form&&Go(l)}break e;case"textarea":tt(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Ua(t,!!s.multiple,a,!1)}}}var ca=!1;function Gu(t,a,s){if(ca)return t(a,s);ca=!0;try{var l=t(a);return l}finally{if(ca=!1,(Ba!==null||qa!==null)&&(Lc(),Ba&&(a=Ba,t=qa,qa=Ba=null,Qo(a),t)))for(a=0;a<t.length;a++)Qo(t[a])}}function Cr(t,a){var s=t.stateNode;if(s===null)return null;var l=s[wt]||null;if(l===null)return null;s=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pn=!1;if(Kn)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){Pn=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{Pn=!1}var ha=null,Si=null,Ha=null;function Zo(){if(Ha)return Ha;var t,a=Si,s=a.length,l,h="value"in ha?ha.value:ha.textContent,f=h.length;for(t=0;t<s&&a[t]===h[t];t++);var T=s-t;for(l=1;l<=T&&a[s-l]===h[f-l];l++);return Ha=h.slice(t,1<l?1-l:void 0)}function da(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function fa(){return!0}function Ko(){return!1}function zt(t){function a(s,l,h,f,T){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=T,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(s=t[x],this[x]=s?s(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?fa:Ko,this.isPropagationStopped=Ko,this}return E(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),a}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=zt(Ke),Dr=E({},Ke,{view:0,detail:0}),Yu=zt(Dr),Ts,bs,ma,Ir=E({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ma&&(ma&&t.type==="mousemove"?(Ts=t.screenX-ma.screenX,bs=t.screenY-ma.screenY):bs=Ts=0,ma=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:bs}}),Ln=zt(Ir),$u=E({},Ir,{dataTransfer:0}),xd=zt($u),jr=E({},Dr,{relatedTarget:0}),As=zt(jr),Xo=E({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),xs=zt(Xo),Qu=E({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ss=zt(Qu),Sd=E({},Ke,{data:0}),Jo=zt(Sd),Or={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wo(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Ku[t])?!!a[t]:!1}function Vr(){return Wo}var Xu=E({},Dr,{key:function(t){if(t.key){var a=Or[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=da(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(t){return t.type==="keypress"?da(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?da(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ws=zt(Xu),Ju=E({},Ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=zt(Ju),Fa=E({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),Wu=zt(Fa),ec=E({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),tc=zt(ec),nc=E({},Ir,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rs=zt(nc),fn=E({},Ke,{newState:0,oldState:0}),ac=zt(fn),ic=[9,13,27,32],pa=Kn&&"CompositionEvent"in window,c=null;Kn&&"documentMode"in document&&(c=document.documentMode);var v=Kn&&"TextEvent"in window&&!c,_=Kn&&(!pa||c&&8<c&&11>=c),S=" ",F=!1;function K(t,a){switch(t){case"keyup":return ic.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Be=!1;function Ot(t,a){switch(t){case"compositionend":return le(a);case"keypress":return a.which!==32?null:(F=!0,S);case"textInput":return t=a.data,t===S&&F?null:t;default:return null}}function qe(t,a){if(Be)return t==="compositionend"||!pa&&K(t,a)?(t=Zo(),Ha=Si=ha=null,Be=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _&&a.locale!=="ko"?null:a.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Bt[t.type]:a==="textarea"}function Ga(t,a,s,l){Ba?qa?qa.push(l):qa=[l]:Ba=l,a=Fc(a,"onChange"),0<a.length&&(s=new Es("onChange","change",null,s,l),t.push({event:s,listeners:a}))}var $t=null,ga=null;function tl(t){qv(t,0)}function rc(t){var a=la(t);if(Go(a))return t}function ug(t,a){if(t==="change")return a}var cg=!1;if(Kn){var wd;if(Kn){var Rd="oninput"in document;if(!Rd){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),Rd=typeof hg.oninput=="function"}wd=Rd}else wd=!1;cg=wd&&(!document.documentMode||9<document.documentMode)}function dg(){$t&&($t.detachEvent("onpropertychange",fg),ga=$t=null)}function fg(t){if(t.propertyName==="value"&&rc(ga)){var a=[];Ga(a,ga,t,kn(t)),Gu(tl,a)}}function DT(t,a,s){t==="focusin"?(dg(),$t=a,ga=s,$t.attachEvent("onpropertychange",fg)):t==="focusout"&&dg()}function IT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(ga)}function jT(t,a){if(t==="click")return rc(a)}function OT(t,a){if(t==="input"||t==="change")return rc(a)}function VT(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var xn=typeof Object.is=="function"?Object.is:VT;function nl(t,a){if(xn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),l=Object.keys(a);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!fr.call(a,h)||!xn(t[h],a[h]))return!1}return!0}function mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,a){var s=mg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=a&&l>=a)return{node:s,offset:a-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=mg(s)}}function gg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?gg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function yg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=xr(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=xr(t.document)}return a}function Cd(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var MT=Kn&&"documentMode"in document&&11>=document.documentMode,Cs=null,Nd=null,al=null,Dd=!1;function vg(t,a,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Dd||Cs==null||Cs!==xr(l)||(l=Cs,"selectionStart"in l&&Cd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&nl(al,l)||(al=l,l=Fc(Nd,"onSelect"),0<l.length&&(a=new Es("onSelect","select",null,a,s),t.push({event:a,listeners:l}),a.target=Cs)))}function Mr(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var Ns={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Id={},_g={};Kn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function kr(t){if(Id[t])return Id[t];if(!Ns[t])return t;var a=Ns[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in _g)return Id[t]=a[s];return t}var Eg=kr("animationend"),Tg=kr("animationiteration"),bg=kr("animationstart"),kT=kr("transitionrun"),PT=kr("transitionstart"),LT=kr("transitioncancel"),Ag=kr("transitionend"),xg=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function Xn(t,a){xg.set(t,a),Zn(a,[t])}var Sg=new WeakMap;function Un(t,a){if(typeof t=="object"&&t!==null){var s=Sg.get(t);return s!==void 0?s:(a={value:t,source:a,stack:ys(a)},Sg.set(t,a),a)}return{value:t,source:a,stack:ys(a)}}var zn=[],Ds=0,Od=0;function sc(){for(var t=Ds,a=Od=Ds=0;a<t;){var s=zn[a];zn[a++]=null;var l=zn[a];zn[a++]=null;var h=zn[a];zn[a++]=null;var f=zn[a];if(zn[a++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}f!==0&&wg(s,h,f)}}function oc(t,a,s,l){zn[Ds++]=t,zn[Ds++]=a,zn[Ds++]=s,zn[Ds++]=l,Od|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vd(t,a,s,l){return oc(t,a,s,l),lc(t)}function Is(t,a){return oc(t,null,null,a),lc(t)}function wg(t,a,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&a!==null&&(h=31-en(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[a]:l.push(a),a.lane=s|536870912),f):null}function lc(t){if(50<Cl)throw Cl=0,Bf=null,Error(r(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var js={};function UT(t,a,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,a,s,l){return new UT(t,a,s,l)}function Md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ya(t,a){var s=t.alternate;return s===null?(s=Sn(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Rg(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function uc(t,a,s,l,h,f){var T=0;if(l=t,typeof t=="function")Md(t)&&(T=1);else if(typeof t=="string")T=Bb(t,s,Te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=Sn(31,s,a,h),t.elementType=D,t.lanes=f,t;case R:return Pr(s.children,h,f,a);case N:T=8,h|=24;break;case V:return t=Sn(12,s,a,h|2),t.elementType=V,t.lanes=f,t;case W:return t=Sn(13,s,a,h),t.elementType=W,t.lanes=f,t;case de:return t=Sn(19,s,a,h),t.elementType=de,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case Q:T=10;break e;case M:T=9;break e;case ie:T=11;break e;case O:T=14;break e;case w:T=16,l=null;break e}T=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return a=Sn(T,s,a,h),a.elementType=t,a.type=l,a.lanes=f,a}function Pr(t,a,s,l){return t=Sn(7,t,l,a),t.lanes=s,t}function kd(t,a,s){return t=Sn(6,t,null,a),t.lanes=s,t}function Pd(t,a,s){return a=Sn(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Os=[],Vs=0,cc=null,hc=0,Bn=[],qn=0,Lr=null,$a=1,Qa="";function Ur(t,a){Os[Vs++]=hc,Os[Vs++]=cc,cc=t,hc=a}function Cg(t,a,s){Bn[qn++]=$a,Bn[qn++]=Qa,Bn[qn++]=Lr,Lr=t;var l=$a;t=Qa;var h=32-en(l)-1;l&=~(1<<h),s+=1;var f=32-en(a)+h;if(30<f){var T=h-h%5;f=(l&(1<<T)-1).toString(32),l>>=T,h-=T,$a=1<<32-en(a)+h|s<<h|l,Qa=f+t}else $a=1<<f|s<<h|l,Qa=t}function Ld(t){t.return!==null&&(Ur(t,1),Cg(t,1,0))}function Ud(t){for(;t===cc;)cc=Os[--Vs],Os[Vs]=null,hc=Os[--Vs],Os[Vs]=null;for(;t===Lr;)Lr=Bn[--qn],Bn[qn]=null,Qa=Bn[--qn],Bn[qn]=null,$a=Bn[--qn],Bn[qn]=null}var mn=null,Et=null,Ze=!1,zr=null,ya=!1,zd=Error(r(519));function Br(t){var a=Error(r(418,""));throw sl(Un(a,t)),zd}function Ng(t){var a=t.stateNode,s=t.type,l=t.memoizedProps;switch(a[jt]=t,a[wt]=l,s){case"dialog":Ue("cancel",a),Ue("close",a);break;case"iframe":case"object":case"embed":Ue("load",a);break;case"video":case"audio":for(s=0;s<Dl.length;s++)Ue(Dl[s],a);break;case"source":Ue("error",a);break;case"img":case"image":case"link":Ue("error",a),Ue("load",a);break;case"details":Ue("toggle",a);break;case"input":Ue("invalid",a),Sr(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),vs(a);break;case"select":Ue("invalid",a);break;case"textarea":Ue("invalid",a),wr(a,l.value,l.defaultValue,l.children),vs(a)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||l.suppressHydrationWarning===!0||Yv(a.textContent,s)?(l.popover!=null&&(Ue("beforetoggle",a),Ue("toggle",a)),l.onScroll!=null&&Ue("scroll",a),l.onScrollEnd!=null&&Ue("scrollend",a),l.onClick!=null&&(a.onclick=Gc),a=!0):a=!1,a||Br(t)}function Dg(t){for(mn=t.return;mn;)switch(mn.tag){case 5:case 13:ya=!1;return;case 27:case 3:ya=!0;return;default:mn=mn.return}}function il(t){if(t!==mn)return!1;if(!Ze)return Dg(t),Ze=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||am(t.type,t.memoizedProps)),s=!s),s&&Et&&Br(t),Dg(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(a===0){Et=Wn(t.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;t=t.nextSibling}Et=null}}else a===27?(a=Et,Bi(t.type)?(t=om,om=null,Et=t):Et=a):Et=mn?Wn(t.stateNode.nextSibling):null;return!0}function rl(){Et=mn=null,Ze=!1}function Ig(){var t=zr;return t!==null&&(vn===null?vn=t:vn.push.apply(vn,t),zr=null),t}function sl(t){zr===null?zr=[t]:zr.push(t)}var Bd=re(null),qr=null,Za=null;function wi(t,a,s){oe(Bd,a._currentValue),a._currentValue=s}function Ka(t){t._currentValue=Bd.current,ce(Bd)}function qd(t,a,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),t===s)break;t=t.return}}function Hd(t,a,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var T=h.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=h;for(var j=0;j<a.length;j++)if(x.context===a[j]){f.lanes|=s,x=f.alternate,x!==null&&(x.lanes|=s),qd(f.return,s,t),l||(T=null);break e}f=x.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(r(341));T.lanes|=s,f=T.alternate,f!==null&&(f.lanes|=s),qd(T,s,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ol(t,a,s,l){t=null;for(var h=a,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var x=h.type;xn(h.pendingProps.value,T.value)||(t!==null?t.push(x):t=[x])}}else if(h===Ut.current){if(T=h.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}h=h.return}t!==null&&Hd(a,t,s,l),a.flags|=262144}function dc(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hr(t){qr=t,Za=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return jg(qr,t)}function fc(t,a){return qr===null&&Hr(t),jg(t,a)}function jg(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Za===null){if(t===null)throw Error(r(308));Za=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Za=Za.next=a;return s}var zT=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},BT=i.unstable_scheduleCallback,qT=i.unstable_NormalPriority,Mt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fd(){return{controller:new zT,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&BT(qT,function(){t.controller.abort()})}var ul=null,Gd=0,Ms=0,ks=null;function HT(t,a){if(ul===null){var s=ul=[];Gd=0,Ms=Qf(),ks={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Gd++,a.then(Og,Og),a}function Og(){if(--Gd===0&&ul!==null){ks!==null&&(ks.status="fulfilled");var t=ul;ul=null,Ms=0,ks=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function FT(t,a){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=a;for(var h=0;h<s.length;h++)(0,s[h])(a)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Vg=X.S;X.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&HT(t,a),Vg!==null&&Vg(t,a)};var Fr=re(null);function Yd(){var t=Fr.current;return t!==null?t:ct.pooledCache}function mc(t,a){a===null?oe(Fr,Fr.current):oe(Fr,a.pool)}function Mg(){var t=Yd();return t===null?null:{parent:Mt._currentValue,pool:t}}var cl=Error(r(460)),kg=Error(r(474)),pc=Error(r(542)),$d={then:function(){}};function Pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gc(){}function Lg(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(gc,gc),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,zg(t),t;default:if(typeof a.status=="string")a.then(gc,gc);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=a,t.status="pending",t.then(function(l){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=l}},function(l){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,zg(t),t}throw hl=a,cl}}var hl=null;function Ug(){if(hl===null)throw Error(r(459));var t=hl;return hl=null,t}function zg(t){if(t===cl||t===pc)throw Error(r(483))}var Ri=!1;function Qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zd(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ci(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ni(t,a,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),l.pending=a,a=lc(t),wg(t,null,s),a}return oc(t,l,a,s),lc(t)}function dl(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,zo(t,s)}}function Kd(t,a){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=T:f=f.next=T,s=s.next}while(s!==null);f===null?h=f=a:f=f.next=a}else h=f=a;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Xd=!1;function fl(){if(Xd){var t=ks;if(t!==null)throw t}}function ml(t,a,s,l){Xd=!1;var h=t.updateQueue;Ri=!1;var f=h.firstBaseUpdate,T=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var j=x,Y=j.next;j.next=null,T===null?f=Y:T.next=Y,T=j;var J=t.alternate;J!==null&&(J=J.updateQueue,x=J.lastBaseUpdate,x!==T&&(x===null?J.firstBaseUpdate=Y:x.next=Y,J.lastBaseUpdate=j))}if(f!==null){var te=h.baseState;T=0,J=Y=j=null,x=f;do{var $=x.lane&-536870913,Z=$!==x.lane;if(Z?(He&$)===$:(l&$)===$){$!==0&&$===Ms&&(Xd=!0),J!==null&&(J=J.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var we=t,be=x;$=a;var it=s;switch(be.tag){case 1:if(we=be.payload,typeof we=="function"){te=we.call(it,te,$);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,$=typeof we=="function"?we.call(it,te,$):we,$==null)break e;te=E({},te,$);break e;case 2:Ri=!0}}$=x.callback,$!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=h.callbacks,Z===null?h.callbacks=[$]:Z.push($))}else Z={lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},J===null?(Y=J=Z,j=te):J=J.next=Z,T|=$;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Z=x,x=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);J===null&&(j=te),h.baseState=j,h.firstBaseUpdate=Y,h.lastBaseUpdate=J,f===null&&(h.shared.lanes=0),Pi|=T,t.lanes=T,t.memoizedState=te}}function Bg(t,a){if(typeof t!="function")throw Error(r(191,t));t.call(a)}function qg(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Bg(s[t],a)}var Ps=re(null),yc=re(0);function Hg(t,a){t=ai,oe(yc,t),oe(Ps,a),ai=t|a.baseLanes}function Jd(){oe(yc,ai),oe(Ps,Ps.current)}function Wd(){ai=yc.current,ce(Ps),ce(yc)}var Di=0,Ve=null,nt=null,Ct=null,vc=!1,Ls=!1,Gr=!1,_c=0,pl=0,Us=null,GT=0;function At(){throw Error(r(321))}function ef(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!xn(t[s],a[s]))return!1;return!0}function tf(t,a,s,l,h,f){return Di=f,Ve=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=t===null||t.memoizedState===null?wy:Ry,Gr=!1,f=s(l,h),Gr=!1,Ls&&(f=Gg(a,s,l,h)),Fg(t),f}function Fg(t){X.H=Sc;var a=nt!==null&&nt.next!==null;if(Di=0,Ct=nt=Ve=null,vc=!1,pl=0,Us=null,a)throw Error(r(300));t===null||qt||(t=t.dependencies,t!==null&&dc(t)&&(qt=!0))}function Gg(t,a,s,l){Ve=t;var h=0;do{if(Ls&&(Us=null),pl=0,Ls=!1,25<=h)throw Error(r(301));if(h+=1,Ct=nt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=JT,f=a(s,l)}while(Ls);return f}function YT(){var t=X.H,a=t.useState()[0];return a=typeof a.then=="function"?gl(a):a,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ve.flags|=1024),a}function nf(){var t=_c!==0;return _c=0,t}function af(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function rf(t){if(vc){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}vc=!1}Di=0,Ct=nt=Ve=null,Ls=!1,pl=_c=0,Us=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ve.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Nt(){if(nt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var a=Ct===null?Ve.memoizedState:Ct.next;if(a!==null)Ct=a,nt=t;else{if(t===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Ct===null?Ve.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var a=pl;return pl+=1,Us===null&&(Us=[]),t=Lg(Us,t,a),a=Ve,(Ct===null?a.memoizedState:Ct.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?wy:Ry),t}function Ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===Q)return tn(t)}throw Error(r(438,String(t)))}function of(t){var a=null,s=Ve.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=sf(),Ve.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),l=0;l<t;l++)s[l]=k;return a.index++,s}function Xa(t,a){return typeof a=="function"?a(t):a}function Tc(t){var a=Nt();return lf(a,nt,t)}function lf(t,a,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var T=h.next;h.next=f.next,f.next=T}a.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{a=h.next;var x=T=null,j=null,Y=a,J=!1;do{var te=Y.lane&-536870913;if(te!==Y.lane?(He&te)===te:(Di&te)===te){var $=Y.revertLane;if($===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),te===Ms&&(J=!0);else if((Di&$)===$){Y=Y.next,$===Ms&&(J=!0);continue}else te={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},j===null?(x=j=te,T=f):j=j.next=te,Ve.lanes|=$,Pi|=$;te=Y.action,Gr&&s(f,te),f=Y.hasEagerState?Y.eagerState:s(f,te)}else $={lane:te,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},j===null?(x=j=$,T=f):j=j.next=$,Ve.lanes|=te,Pi|=te;Y=Y.next}while(Y!==null&&Y!==a);if(j===null?T=f:j.next=x,!xn(f,t.memoizedState)&&(qt=!0,J&&(s=ks,s!==null)))throw s;t.memoizedState=f,t.baseState=T,t.baseQueue=j,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function uf(t){var a=Nt(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=a.memoizedState;if(h!==null){s.pending=null;var T=h=h.next;do f=t(f,T.action),T=T.next;while(T!==h);xn(f,a.memoizedState)||(qt=!0),a.memoizedState=f,a.baseQueue===null&&(a.baseState=f),s.lastRenderedState=f}return[f,l]}function Yg(t,a,s){var l=Ve,h=Nt(),f=Ze;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=a();var T=!xn((nt||h).memoizedState,s);T&&(h.memoizedState=s,qt=!0),h=h.queue;var x=Zg.bind(null,l,h,t);if(yl(2048,8,x,[t]),h.getSnapshot!==a||T||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,zs(9,bc(),Qg.bind(null,l,h,s,a),null),ct===null)throw Error(r(349));f||(Di&124)!==0||$g(l,a,s)}return s}function $g(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Ve.updateQueue,a===null?(a=sf(),Ve.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function Qg(t,a,s,l){a.value=s,a.getSnapshot=l,Kg(a)&&Xg(t)}function Zg(t,a,s){return s(function(){Kg(a)&&Xg(t)})}function Kg(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!xn(t,s)}catch{return!0}}function Xg(t){var a=Is(t,2);a!==null&&Dn(a,t,2)}function cf(t){var a=gn();if(typeof t=="function"){var s=t;if(t=s(),Gr){bn(!0);try{s()}finally{bn(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:t},a}function Jg(t,a,s,l){return t.baseState=s,lf(t,nt,typeof l=="function"?l:Xa)}function $T(t,a,s,l,h){if(xc(t))throw Error(r(485));if(t=a.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){f.listeners.push(T)}};X.T!==null?s(!0):f.isTransition=!1,l(f),s=a.pending,s===null?(f.next=a.pending=f,Wg(a,f)):(f.next=s.next,a.pending=s.next=f)}}function Wg(t,a){var s=a.action,l=a.payload,h=t.state;if(a.isTransition){var f=X.T,T={};X.T=T;try{var x=s(h,l),j=X.S;j!==null&&j(T,x),ey(t,a,x)}catch(Y){hf(t,a,Y)}finally{X.T=f}}else try{f=s(h,l),ey(t,a,f)}catch(Y){hf(t,a,Y)}}function ey(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ty(t,a,l)},function(l){return hf(t,a,l)}):ty(t,a,s)}function ty(t,a,s){a.status="fulfilled",a.value=s,ny(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,Wg(t,s)))}function hf(t,a,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=s,ny(a),a=a.next;while(a!==l)}t.action=null}function ny(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function ay(t,a){return a}function iy(t,a){if(Ze){var s=ct.formState;if(s!==null){e:{var l=Ve;if(Ze){if(Et){t:{for(var h=Et,f=ya;h.nodeType!==8;){if(!f){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Et=Wn(h.nextSibling),l=h.data==="F!";break e}}Br(l)}l=!1}l&&(a=s[0])}}return s=gn(),s.memoizedState=s.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:a},s.queue=l,s=Ay.bind(null,Ve,l),l.dispatch=s,l=cf(!1),f=gf.bind(null,Ve,!1,l.queue),l=gn(),h={state:a,dispatch:null,action:t,pending:null},l.queue=h,s=$T.bind(null,Ve,h,f,s),h.dispatch=s,l.memoizedState=t,[a,s,!1]}function ry(t){var a=Nt();return sy(a,nt,t)}function sy(t,a,s){if(a=lf(t,a,ay)[0],t=Tc(Xa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=gl(a)}catch(T){throw T===cl?pc:T}else l=a;a=Nt();var h=a.queue,f=h.dispatch;return s!==a.memoizedState&&(Ve.flags|=2048,zs(9,bc(),QT.bind(null,h,s),null)),[l,f,t]}function QT(t,a){t.action=a}function oy(t){var a=Nt(),s=nt;if(s!==null)return sy(a,s,t);Nt(),a=a.memoizedState,s=Nt();var l=s.queue.dispatch;return s.memoizedState=t,[a,l,!1]}function zs(t,a,s,l){return t={tag:t,create:s,deps:l,inst:a,next:null},a=Ve.updateQueue,a===null&&(a=sf(),Ve.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,a.lastEffect=t),t}function bc(){return{destroy:void 0,resource:void 0}}function ly(){return Nt().memoizedState}function Ac(t,a,s,l){var h=gn();l=l===void 0?null:l,Ve.flags|=t,h.memoizedState=zs(1|a,bc(),s,l)}function yl(t,a,s,l){var h=Nt();l=l===void 0?null:l;var f=h.memoizedState.inst;nt!==null&&l!==null&&ef(l,nt.memoizedState.deps)?h.memoizedState=zs(a,f,s,l):(Ve.flags|=t,h.memoizedState=zs(1|a,f,s,l))}function uy(t,a){Ac(8390656,8,t,a)}function cy(t,a){yl(2048,8,t,a)}function hy(t,a){return yl(4,2,t,a)}function dy(t,a){return yl(4,4,t,a)}function fy(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function my(t,a,s){s=s!=null?s.concat([t]):null,yl(4,4,fy.bind(null,a,t),s)}function df(){}function py(t,a){var s=Nt();a=a===void 0?null:a;var l=s.memoizedState;return a!==null&&ef(a,l[1])?l[0]:(s.memoizedState=[t,a],t)}function gy(t,a){var s=Nt();a=a===void 0?null:a;var l=s.memoizedState;if(a!==null&&ef(a,l[1]))return l[0];if(l=t(),Gr){bn(!0);try{t()}finally{bn(!1)}}return s.memoizedState=[l,a],l}function ff(t,a,s){return s===void 0||(Di&1073741824)!==0?t.memoizedState=a:(t.memoizedState=s,t=_v(),Ve.lanes|=t,Pi|=t,s)}function yy(t,a,s,l){return xn(s,a)?s:Ps.current!==null?(t=ff(t,s,l),xn(t,a)||(qt=!0),t):(Di&42)===0?(qt=!0,t.memoizedState=s):(t=_v(),Ve.lanes|=t,Pi|=t,a)}function vy(t,a,s,l,h){var f=ue.p;ue.p=f!==0&&8>f?f:8;var T=X.T,x={};X.T=x,gf(t,!1,a,s);try{var j=h(),Y=X.S;if(Y!==null&&Y(x,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var J=FT(j,l);vl(t,a,J,Nn(t))}else vl(t,a,l,Nn(t))}catch(te){vl(t,a,{then:function(){},status:"rejected",reason:te},Nn())}finally{ue.p=f,X.T=T}}function ZT(){}function mf(t,a,s,l){if(t.tag!==5)throw Error(r(476));var h=_y(t).queue;vy(t,h,a,ge,s===null?ZT:function(){return Ey(t),s(l)})}function _y(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:ge},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Ey(t){var a=_y(t).next.queue;vl(t,a,{},Nn())}function pf(){return tn(kl)}function Ty(){return Nt().memoizedState}function by(){return Nt().memoizedState}function KT(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=Nn();t=Ci(s);var l=Ni(a,t,s);l!==null&&(Dn(l,a,s),dl(l,a,s)),a={cache:Fd()},t.payload=a;return}a=a.return}}function XT(t,a,s){var l=Nn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},xc(t)?xy(a,s):(s=Vd(t,a,s,l),s!==null&&(Dn(s,t,l),Sy(s,a,l)))}function Ay(t,a,s){var l=Nn();vl(t,a,s,l)}function vl(t,a,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(xc(t))xy(a,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=a.lastRenderedReducer,f!==null))try{var T=a.lastRenderedState,x=f(T,s);if(h.hasEagerState=!0,h.eagerState=x,xn(x,T))return oc(t,a,h,0),ct===null&&sc(),!1}catch{}finally{}if(s=Vd(t,a,h,l),s!==null)return Dn(s,t,l),Sy(s,a,l),!0}return!1}function gf(t,a,s,l){if(l={lane:2,revertLane:Qf(),action:l,hasEagerState:!1,eagerState:null,next:null},xc(t)){if(a)throw Error(r(479))}else a=Vd(t,s,l,2),a!==null&&Dn(a,t,2)}function xc(t){var a=t.alternate;return t===Ve||a!==null&&a===Ve}function xy(t,a){Ls=vc=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function Sy(t,a,s){if((s&4194048)!==0){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,zo(t,s)}}var Sc={readContext:tn,use:Ec,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},wy={readContext:tn,use:Ec,useCallback:function(t,a){return gn().memoizedState=[t,a===void 0?null:a],t},useContext:tn,useEffect:uy,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Ac(4194308,4,fy.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Ac(4194308,4,t,a)},useInsertionEffect:function(t,a){Ac(4,2,t,a)},useMemo:function(t,a){var s=gn();a=a===void 0?null:a;var l=t();if(Gr){bn(!0);try{t()}finally{bn(!1)}}return s.memoizedState=[l,a],l},useReducer:function(t,a,s){var l=gn();if(s!==void 0){var h=s(a);if(Gr){bn(!0);try{s(a)}finally{bn(!1)}}}else h=a;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=XT.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var a=gn();return t={current:t},a.memoizedState=t},useState:function(t){t=cf(t);var a=t.queue,s=Ay.bind(null,Ve,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:df,useDeferredValue:function(t,a){var s=gn();return ff(s,t,a)},useTransition:function(){var t=cf(!1);return t=vy.bind(null,Ve,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var l=Ve,h=gn();if(Ze){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),ct===null)throw Error(r(349));(He&124)!==0||$g(l,a,s)}h.memoizedState=s;var f={value:s,getSnapshot:a};return h.queue=f,uy(Zg.bind(null,l,f,t),[t]),l.flags|=2048,zs(9,bc(),Qg.bind(null,l,f,s,a),null),s},useId:function(){var t=gn(),a=ct.identifierPrefix;if(Ze){var s=Qa,l=$a;s=(l&~(1<<32-en(l)-1)).toString(32)+s,a="«"+a+"R"+s,s=_c++,0<s&&(a+="H"+s.toString(32)),a+="»"}else s=GT++,a="«"+a+"r"+s.toString(32)+"»";return t.memoizedState=a},useHostTransitionStatus:pf,useFormState:iy,useActionState:iy,useOptimistic:function(t){var a=gn();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=gf.bind(null,Ve,!0,s),s.dispatch=a,[t,a]},useMemoCache:of,useCacheRefresh:function(){return gn().memoizedState=KT.bind(null,Ve)}},Ry={readContext:tn,use:Ec,useCallback:py,useContext:tn,useEffect:cy,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:dy,useMemo:gy,useReducer:Tc,useRef:ly,useState:function(){return Tc(Xa)},useDebugValue:df,useDeferredValue:function(t,a){var s=Nt();return yy(s,nt.memoizedState,t,a)},useTransition:function(){var t=Tc(Xa)[0],a=Nt().memoizedState;return[typeof t=="boolean"?t:gl(t),a]},useSyncExternalStore:Yg,useId:Ty,useHostTransitionStatus:pf,useFormState:ry,useActionState:ry,useOptimistic:function(t,a){var s=Nt();return Jg(s,nt,t,a)},useMemoCache:of,useCacheRefresh:by},JT={readContext:tn,use:Ec,useCallback:py,useContext:tn,useEffect:cy,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:dy,useMemo:gy,useReducer:uf,useRef:ly,useState:function(){return uf(Xa)},useDebugValue:df,useDeferredValue:function(t,a){var s=Nt();return nt===null?ff(s,t,a):yy(s,nt.memoizedState,t,a)},useTransition:function(){var t=uf(Xa)[0],a=Nt().memoizedState;return[typeof t=="boolean"?t:gl(t),a]},useSyncExternalStore:Yg,useId:Ty,useHostTransitionStatus:pf,useFormState:oy,useActionState:oy,useOptimistic:function(t,a){var s=Nt();return nt!==null?Jg(s,nt,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:of,useCacheRefresh:by},Bs=null,_l=0;function wc(t){var a=_l;return _l+=1,Bs===null&&(Bs=[]),Lg(Bs,t,a)}function El(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Rc(t,a){throw a.$$typeof===A?Error(r(525)):(t=Object.prototype.toString.call(a),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Cy(t){var a=t._init;return a(t._payload)}function Ny(t){function a(q,U){if(t){var G=q.deletions;G===null?(q.deletions=[U],q.flags|=16):G.push(U)}}function s(q,U){if(!t)return null;for(;U!==null;)a(q,U),U=U.sibling;return null}function l(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function h(q,U){return q=Ya(q,U),q.index=0,q.sibling=null,q}function f(q,U,G){return q.index=G,t?(G=q.alternate,G!==null?(G=G.index,G<U?(q.flags|=67108866,U):G):(q.flags|=67108866,U)):(q.flags|=1048576,U)}function T(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function x(q,U,G,ee){return U===null||U.tag!==6?(U=kd(G,q.mode,ee),U.return=q,U):(U=h(U,G),U.return=q,U)}function j(q,U,G,ee){var ye=G.type;return ye===R?J(q,U,G.props.children,ee,G.key):U!==null&&(U.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Cy(ye)===U.type)?(U=h(U,G.props),El(U,G),U.return=q,U):(U=uc(G.type,G.key,G.props,null,q.mode,ee),El(U,G),U.return=q,U)}function Y(q,U,G,ee){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Pd(G,q.mode,ee),U.return=q,U):(U=h(U,G.children||[]),U.return=q,U)}function J(q,U,G,ee,ye){return U===null||U.tag!==7?(U=Pr(G,q.mode,ee,ye),U.return=q,U):(U=h(U,G),U.return=q,U)}function te(q,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=kd(""+U,q.mode,G),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return G=uc(U.type,U.key,U.props,null,q.mode,G),El(G,U),G.return=q,G;case C:return U=Pd(U,q.mode,G),U.return=q,U;case w:var ee=U._init;return U=ee(U._payload),te(q,U,G)}if(rt(U)||P(U))return U=Pr(U,q.mode,G,null),U.return=q,U;if(typeof U.then=="function")return te(q,wc(U),G);if(U.$$typeof===Q)return te(q,fc(q,U),G);Rc(q,U)}return null}function $(q,U,G,ee){var ye=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ye!==null?null:x(q,U,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===ye?j(q,U,G,ee):null;case C:return G.key===ye?Y(q,U,G,ee):null;case w:return ye=G._init,G=ye(G._payload),$(q,U,G,ee)}if(rt(G)||P(G))return ye!==null?null:J(q,U,G,ee,null);if(typeof G.then=="function")return $(q,U,wc(G),ee);if(G.$$typeof===Q)return $(q,U,fc(q,G),ee);Rc(q,G)}return null}function Z(q,U,G,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return q=q.get(G)||null,x(U,q,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return q=q.get(ee.key===null?G:ee.key)||null,j(U,q,ee,ye);case C:return q=q.get(ee.key===null?G:ee.key)||null,Y(U,q,ee,ye);case w:var Pe=ee._init;return ee=Pe(ee._payload),Z(q,U,G,ee,ye)}if(rt(ee)||P(ee))return q=q.get(G)||null,J(U,q,ee,ye,null);if(typeof ee.then=="function")return Z(q,U,G,wc(ee),ye);if(ee.$$typeof===Q)return Z(q,U,G,fc(U,ee),ye);Rc(U,ee)}return null}function we(q,U,G,ee){for(var ye=null,Pe=null,_e=U,Ae=U=0,Ft=null;_e!==null&&Ae<G.length;Ae++){_e.index>Ae?(Ft=_e,_e=null):Ft=_e.sibling;var Qe=$(q,_e,G[Ae],ee);if(Qe===null){_e===null&&(_e=Ft);break}t&&_e&&Qe.alternate===null&&a(q,_e),U=f(Qe,U,Ae),Pe===null?ye=Qe:Pe.sibling=Qe,Pe=Qe,_e=Ft}if(Ae===G.length)return s(q,_e),Ze&&Ur(q,Ae),ye;if(_e===null){for(;Ae<G.length;Ae++)_e=te(q,G[Ae],ee),_e!==null&&(U=f(_e,U,Ae),Pe===null?ye=_e:Pe.sibling=_e,Pe=_e);return Ze&&Ur(q,Ae),ye}for(_e=l(_e);Ae<G.length;Ae++)Ft=Z(_e,q,Ae,G[Ae],ee),Ft!==null&&(t&&Ft.alternate!==null&&_e.delete(Ft.key===null?Ae:Ft.key),U=f(Ft,U,Ae),Pe===null?ye=Ft:Pe.sibling=Ft,Pe=Ft);return t&&_e.forEach(function(Yi){return a(q,Yi)}),Ze&&Ur(q,Ae),ye}function be(q,U,G,ee){if(G==null)throw Error(r(151));for(var ye=null,Pe=null,_e=U,Ae=U=0,Ft=null,Qe=G.next();_e!==null&&!Qe.done;Ae++,Qe=G.next()){_e.index>Ae?(Ft=_e,_e=null):Ft=_e.sibling;var Yi=$(q,_e,Qe.value,ee);if(Yi===null){_e===null&&(_e=Ft);break}t&&_e&&Yi.alternate===null&&a(q,_e),U=f(Yi,U,Ae),Pe===null?ye=Yi:Pe.sibling=Yi,Pe=Yi,_e=Ft}if(Qe.done)return s(q,_e),Ze&&Ur(q,Ae),ye;if(_e===null){for(;!Qe.done;Ae++,Qe=G.next())Qe=te(q,Qe.value,ee),Qe!==null&&(U=f(Qe,U,Ae),Pe===null?ye=Qe:Pe.sibling=Qe,Pe=Qe);return Ze&&Ur(q,Ae),ye}for(_e=l(_e);!Qe.done;Ae++,Qe=G.next())Qe=Z(_e,q,Ae,Qe.value,ee),Qe!==null&&(t&&Qe.alternate!==null&&_e.delete(Qe.key===null?Ae:Qe.key),U=f(Qe,U,Ae),Pe===null?ye=Qe:Pe.sibling=Qe,Pe=Qe);return t&&_e.forEach(function(Wb){return a(q,Wb)}),Ze&&Ur(q,Ae),ye}function it(q,U,G,ee){if(typeof G=="object"&&G!==null&&G.type===R&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:e:{for(var ye=G.key;U!==null;){if(U.key===ye){if(ye=G.type,ye===R){if(U.tag===7){s(q,U.sibling),ee=h(U,G.props.children),ee.return=q,q=ee;break e}}else if(U.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Cy(ye)===U.type){s(q,U.sibling),ee=h(U,G.props),El(ee,G),ee.return=q,q=ee;break e}s(q,U);break}else a(q,U);U=U.sibling}G.type===R?(ee=Pr(G.props.children,q.mode,ee,G.key),ee.return=q,q=ee):(ee=uc(G.type,G.key,G.props,null,q.mode,ee),El(ee,G),ee.return=q,q=ee)}return T(q);case C:e:{for(ye=G.key;U!==null;){if(U.key===ye)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){s(q,U.sibling),ee=h(U,G.children||[]),ee.return=q,q=ee;break e}else{s(q,U);break}else a(q,U);U=U.sibling}ee=Pd(G,q.mode,ee),ee.return=q,q=ee}return T(q);case w:return ye=G._init,G=ye(G._payload),it(q,U,G,ee)}if(rt(G))return we(q,U,G,ee);if(P(G)){if(ye=P(G),typeof ye!="function")throw Error(r(150));return G=ye.call(G),be(q,U,G,ee)}if(typeof G.then=="function")return it(q,U,wc(G),ee);if(G.$$typeof===Q)return it(q,U,fc(q,G),ee);Rc(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(s(q,U.sibling),ee=h(U,G),ee.return=q,q=ee):(s(q,U),ee=kd(G,q.mode,ee),ee.return=q,q=ee),T(q)):s(q,U)}return function(q,U,G,ee){try{_l=0;var ye=it(q,U,G,ee);return Bs=null,ye}catch(_e){if(_e===cl||_e===pc)throw _e;var Pe=Sn(29,_e,null,q.mode);return Pe.lanes=ee,Pe.return=q,Pe}finally{}}}var qs=Ny(!0),Dy=Ny(!1),Hn=re(null),va=null;function Ii(t){var a=t.alternate;oe(kt,kt.current&1),oe(Hn,t),va===null&&(a===null||Ps.current!==null||a.memoizedState!==null)&&(va=t)}function Iy(t){if(t.tag===22){if(oe(kt,kt.current),oe(Hn,t),va===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(va=t)}}else ji()}function ji(){oe(kt,kt.current),oe(Hn,Hn.current)}function Ja(t){ce(Hn),va===t&&(va=null),ce(kt)}var kt=re(0);function Cc(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||sm(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function yf(t,a,s,l){a=t.memoizedState,s=s(l,a),s=s==null?a:E({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var vf={enqueueSetState:function(t,a,s){t=t._reactInternals;var l=Nn(),h=Ci(l);h.payload=a,s!=null&&(h.callback=s),a=Ni(t,h,l),a!==null&&(Dn(a,t,l),dl(a,t,l))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var l=Nn(),h=Ci(l);h.tag=1,h.payload=a,s!=null&&(h.callback=s),a=Ni(t,h,l),a!==null&&(Dn(a,t,l),dl(a,t,l))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=Nn(),l=Ci(s);l.tag=2,a!=null&&(l.callback=a),a=Ni(t,l,s),a!==null&&(Dn(a,t,s),dl(a,t,s))}};function jy(t,a,s,l,h,f,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,T):a.prototype&&a.prototype.isPureReactComponent?!nl(s,l)||!nl(h,f):!0}function Oy(t,a,s,l){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,l),a.state!==t&&vf.enqueueReplaceState(a,a.state,null)}function Yr(t,a){var s=a;if("ref"in a){s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}if(t=t.defaultProps){s===a&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var Nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vy(t){Nc(t)}function My(t){console.error(t)}function ky(t){Nc(t)}function Dc(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Py(t,a,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _f(t,a,s){return s=Ci(s),s.tag=3,s.payload={element:null},s.callback=function(){Dc(t,a)},s}function Ly(t){return t=Ci(t),t.tag=3,t}function Uy(t,a,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Py(a,s,l)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Py(a,s,l),typeof h!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function WT(t,a,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=s.alternate,a!==null&&ol(a,s,h,!0),s=Hn.current,s!==null){switch(s.tag){case 13:return va===null?Hf():s.alternate===null&&Tt===0&&(Tt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===$d?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([l]):a.add(l),Gf(t,l,h)),!1;case 22:return s.flags|=65536,l===$d?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([l]):s.add(l)),Gf(t,l,h)),!1}throw Error(r(435,s.tag))}return Gf(t,l,h),Hf(),!1}if(Ze)return a=Hn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,l!==zd&&(t=Error(r(422),{cause:l}),sl(Un(t,s)))):(l!==zd&&(a=Error(r(423),{cause:l}),sl(Un(a,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,s),h=_f(t.stateNode,l,h),Kd(t,h),Tt!==4&&(Tt=2)),!1;var f=Error(r(520),{cause:l});if(f=Un(f,s),Rl===null?Rl=[f]:Rl.push(f),Tt!==4&&(Tt=2),a===null)return!0;l=Un(l,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=_f(s.stateNode,l,t),Kd(s,t),!1;case 1:if(a=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Li===null||!Li.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Ly(h),Uy(h,t,s,l),Kd(s,h),!1}s=s.return}while(s!==null);return!1}var zy=Error(r(461)),qt=!1;function Qt(t,a,s,l){a.child=t===null?Dy(a,null,s,l):qs(a,t.child,s,l)}function By(t,a,s,l,h){s=s.render;var f=a.ref;if("ref"in l){var T={};for(var x in l)x!=="ref"&&(T[x]=l[x])}else T=l;return Hr(a),l=tf(t,a,s,T,f,h),x=nf(),t!==null&&!qt?(af(t,a,h),Wa(t,a,h)):(Ze&&x&&Ld(a),a.flags|=1,Qt(t,a,l,h),a.child)}function qy(t,a,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Md(f)&&f.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=f,Hy(t,a,f,l,h)):(t=uc(s.type,null,l,a,a.mode,h),t.ref=a.ref,t.return=a,a.child=t)}if(f=t.child,!Rf(t,h)){var T=f.memoizedProps;if(s=s.compare,s=s!==null?s:nl,s(T,l)&&t.ref===a.ref)return Wa(t,a,h)}return a.flags|=1,t=Ya(f,l),t.ref=a.ref,t.return=a,a.child=t}function Hy(t,a,s,l,h){if(t!==null){var f=t.memoizedProps;if(nl(f,l)&&t.ref===a.ref)if(qt=!1,a.pendingProps=l=f,Rf(t,h))(t.flags&131072)!==0&&(qt=!0);else return a.lanes=t.lanes,Wa(t,a,h)}return Ef(t,a,s,l,h)}function Fy(t,a,s){var l=a.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((a.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(h=a.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;a.childLanes=f&~l}else a.childLanes=0,a.child=null;return Gy(t,a,l,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&mc(a,f!==null?f.cachePool:null),f!==null?Hg(a,f):Jd(),Iy(a);else return a.lanes=a.childLanes=536870912,Gy(t,a,f!==null?f.baseLanes|s:s,s)}else f!==null?(mc(a,f.cachePool),Hg(a,f),ji(),a.memoizedState=null):(t!==null&&mc(a,null),Jd(),ji());return Qt(t,a,h,s),a.child}function Gy(t,a,s,l){var h=Yd();return h=h===null?null:{parent:Mt._currentValue,pool:h},a.memoizedState={baseLanes:s,cachePool:h},t!==null&&mc(a,null),Jd(),Iy(a),t!==null&&ol(t,a,l,!0),null}function Ic(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function Ef(t,a,s,l,h){return Hr(a),s=tf(t,a,s,l,void 0,h),l=nf(),t!==null&&!qt?(af(t,a,h),Wa(t,a,h)):(Ze&&l&&Ld(a),a.flags|=1,Qt(t,a,s,h),a.child)}function Yy(t,a,s,l,h,f){return Hr(a),a.updateQueue=null,s=Gg(a,l,s,h),Fg(t),l=nf(),t!==null&&!qt?(af(t,a,f),Wa(t,a,f)):(Ze&&l&&Ld(a),a.flags|=1,Qt(t,a,s,f),a.child)}function $y(t,a,s,l,h){if(Hr(a),a.stateNode===null){var f=js,T=s.contextType;typeof T=="object"&&T!==null&&(f=tn(T)),f=new s(l,f),a.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,a.stateNode=f,f._reactInternals=a,f=a.stateNode,f.props=l,f.state=a.memoizedState,f.refs={},Qd(a),T=s.contextType,f.context=typeof T=="object"&&T!==null?tn(T):js,f.state=a.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(yf(a,s,T,l),f.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(T=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),T!==f.state&&vf.enqueueReplaceState(f,f.state,null),ml(a,l,f,h),fl(),f.state=a.memoizedState),typeof f.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(t===null){f=a.stateNode;var x=a.memoizedProps,j=Yr(s,x);f.props=j;var Y=f.context,J=s.contextType;T=js,typeof J=="object"&&J!==null&&(T=tn(J));var te=s.getDerivedStateFromProps;J=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=a.pendingProps!==x,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||Y!==T)&&Oy(a,f,l,T),Ri=!1;var $=a.memoizedState;f.state=$,ml(a,l,f,h),fl(),Y=a.memoizedState,x||$!==Y||Ri?(typeof te=="function"&&(yf(a,s,te,l),Y=a.memoizedState),(j=Ri||jy(a,s,j,l,$,Y,T))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(a.flags|=4194308)):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=Y),f.props=l,f.state=Y,f.context=T,l=j):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{f=a.stateNode,Zd(t,a),T=a.memoizedProps,J=Yr(s,T),f.props=J,te=a.pendingProps,$=f.context,Y=s.contextType,j=js,typeof Y=="object"&&Y!==null&&(j=tn(Y)),x=s.getDerivedStateFromProps,(Y=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T!==te||$!==j)&&Oy(a,f,l,j),Ri=!1,$=a.memoizedState,f.state=$,ml(a,l,f,h),fl();var Z=a.memoizedState;T!==te||$!==Z||Ri||t!==null&&t.dependencies!==null&&dc(t.dependencies)?(typeof x=="function"&&(yf(a,s,x,l),Z=a.memoizedState),(J=Ri||jy(a,s,J,l,$,Z,j)||t!==null&&t.dependencies!==null&&dc(t.dependencies))?(Y||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Z,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Z,j)),typeof f.componentDidUpdate=="function"&&(a.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof f.componentDidUpdate!="function"||T===t.memoizedProps&&$===t.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&$===t.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=Z),f.props=l,f.state=Z,f.context=j,l=J):(typeof f.componentDidUpdate!="function"||T===t.memoizedProps&&$===t.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&$===t.memoizedState||(a.flags|=1024),l=!1)}return f=l,Ic(t,a),l=(a.flags&128)!==0,f||l?(f=a.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),a.flags|=1,t!==null&&l?(a.child=qs(a,t.child,null,h),a.child=qs(a,null,s,h)):Qt(t,a,s,h),a.memoizedState=f.state,t=a.child):t=Wa(t,a,h),t}function Qy(t,a,s,l){return rl(),a.flags|=256,Qt(t,a,s,l),a.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(t){return{baseLanes:t,cachePool:Mg()}}function Af(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=Fn),t}function Zy(t,a,s){var l=a.pendingProps,h=!1,f=(a.flags&128)!==0,T;if((T=f)||(T=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),T&&(h=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,t===null){if(Ze){if(h?Ii(a):ji(),Ze){var x=Et,j;if(j=x){e:{for(j=x,x=ya;j.nodeType!==8;){if(!x){x=null;break e}if(j=Wn(j.nextSibling),j===null){x=null;break e}}x=j}x!==null?(a.memoizedState={dehydrated:x,treeContext:Lr!==null?{id:$a,overflow:Qa}:null,retryLane:536870912,hydrationErrors:null},j=Sn(18,null,null,0),j.stateNode=x,j.return=a,a.child=j,mn=a,Et=null,j=!0):j=!1}j||Br(a)}if(x=a.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return sm(x)?a.lanes=32:a.lanes=536870912,null;Ja(a)}return x=l.children,l=l.fallback,h?(ji(),h=a.mode,x=jc({mode:"hidden",children:x},h),l=Pr(l,h,s,null),x.return=a,l.return=a,x.sibling=l,a.child=x,h=a.child,h.memoizedState=bf(s),h.childLanes=Af(t,T,s),a.memoizedState=Tf,l):(Ii(a),xf(a,x))}if(j=t.memoizedState,j!==null&&(x=j.dehydrated,x!==null)){if(f)a.flags&256?(Ii(a),a.flags&=-257,a=Sf(t,a,s)):a.memoizedState!==null?(ji(),a.child=t.child,a.flags|=128,a=null):(ji(),h=l.fallback,x=a.mode,l=jc({mode:"visible",children:l.children},x),h=Pr(h,x,s,null),h.flags|=2,l.return=a,h.return=a,l.sibling=h,a.child=l,qs(a,t.child,null,s),l=a.child,l.memoizedState=bf(s),l.childLanes=Af(t,T,s),a.memoizedState=Tf,a=h);else if(Ii(a),sm(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var Y=T.dgst;T=Y,l=Error(r(419)),l.stack="",l.digest=T,sl({value:l,source:null,stack:null}),a=Sf(t,a,s)}else if(qt||ol(t,a,s,!1),T=(s&t.childLanes)!==0,qt||T){if(T=ct,T!==null&&(l=s&-s,l=(l&42)!==0?1:_i(l),l=(l&(T.suspendedLanes|s))!==0?0:l,l!==0&&l!==j.retryLane))throw j.retryLane=l,Is(t,l),Dn(T,t,l),zy;x.data==="$?"||Hf(),a=Sf(t,a,s)}else x.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=j.treeContext,Et=Wn(x.nextSibling),mn=a,Ze=!0,zr=null,ya=!1,t!==null&&(Bn[qn++]=$a,Bn[qn++]=Qa,Bn[qn++]=Lr,$a=t.id,Qa=t.overflow,Lr=a),a=xf(a,l.children),a.flags|=4096);return a}return h?(ji(),h=l.fallback,x=a.mode,j=t.child,Y=j.sibling,l=Ya(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,Y!==null?h=Ya(Y,h):(h=Pr(h,x,s,null),h.flags|=2),h.return=a,l.return=a,l.sibling=h,a.child=l,l=h,h=a.child,x=t.child.memoizedState,x===null?x=bf(s):(j=x.cachePool,j!==null?(Y=Mt._currentValue,j=j.parent!==Y?{parent:Y,pool:Y}:j):j=Mg(),x={baseLanes:x.baseLanes|s,cachePool:j}),h.memoizedState=x,h.childLanes=Af(t,T,s),a.memoizedState=Tf,l):(Ii(a),s=t.child,t=s.sibling,s=Ya(s,{mode:"visible",children:l.children}),s.return=a,s.sibling=null,t!==null&&(T=a.deletions,T===null?(a.deletions=[t],a.flags|=16):T.push(t)),a.child=s,a.memoizedState=null,s)}function xf(t,a){return a=jc({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function jc(t,a){return t=Sn(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Sf(t,a,s){return qs(a,t.child,null,s),t=xf(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Ky(t,a,s){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a),qd(t.return,a,s)}function wf(t,a,s,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(f.isBackwards=a,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=h)}function Xy(t,a,s){var l=a.pendingProps,h=l.revealOrder,f=l.tail;if(Qt(t,a,l.children,s),l=kt.current,(l&2)!==0)l=l&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ky(t,s,a);else if(t.tag===19)Ky(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe(kt,l),h){case"forwards":for(s=a.child,h=null;s!==null;)t=s.alternate,t!==null&&Cc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=a.child,a.child=null):(h=s.sibling,s.sibling=null),wf(a,!1,h,s,f);break;case"backwards":for(s=null,h=a.child,a.child=null;h!==null;){if(t=h.alternate,t!==null&&Cc(t)===null){a.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}wf(a,!0,s,null,f);break;case"together":wf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Wa(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),Pi|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(ol(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(r(153));if(a.child!==null){for(t=a.child,s=Ya(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=Ya(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function Rf(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&dc(t)))}function eb(t,a,s){switch(a.tag){case 3:ut(a,a.stateNode.containerInfo),wi(a,Mt,t.memoizedState.cache),rl();break;case 27:case 5:vi(a);break;case 4:ut(a,a.stateNode.containerInfo);break;case 10:wi(a,a.type,a.memoizedProps.value);break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(Ii(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Zy(t,a,s):(Ii(a),t=Wa(t,a,s),t!==null?t.sibling:null);Ii(a);break;case 19:var h=(t.flags&128)!==0;if(l=(s&a.childLanes)!==0,l||(ol(t,a,s,!1),l=(s&a.childLanes)!==0),h){if(l)return Xy(t,a,s);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(kt,kt.current),l)break;return null;case 22:case 23:return a.lanes=0,Fy(t,a,s);case 24:wi(a,Mt,t.memoizedState.cache)}return Wa(t,a,s)}function Jy(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)qt=!0;else{if(!Rf(t,s)&&(a.flags&128)===0)return qt=!1,eb(t,a,s);qt=(t.flags&131072)!==0}else qt=!1,Ze&&(a.flags&1048576)!==0&&Cg(a,hc,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var l=a.elementType,h=l._init;if(l=h(l._payload),a.type=l,typeof l=="function")Md(l)?(t=Yr(l,t),a.tag=1,a=$y(null,a,l,t,s)):(a.tag=0,a=Ef(null,a,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===ie){a.tag=11,a=By(null,a,l,t,s);break e}else if(h===O){a.tag=14,a=qy(null,a,l,t,s);break e}}throw a=mt(l)||l,Error(r(306,a,""))}}return a;case 0:return Ef(t,a,a.type,a.pendingProps,s);case 1:return l=a.type,h=Yr(l,a.pendingProps),$y(t,a,l,h,s);case 3:e:{if(ut(a,a.stateNode.containerInfo),t===null)throw Error(r(387));l=a.pendingProps;var f=a.memoizedState;h=f.element,Zd(t,a),ml(a,l,null,s);var T=a.memoizedState;if(l=T.cache,wi(a,Mt,l),l!==f.cache&&Hd(a,[Mt],s,!0),fl(),l=T.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=Qy(t,a,l,s);break e}else if(l!==h){h=Un(Error(r(424)),a),sl(h),a=Qy(t,a,l,s);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Et=Wn(t.firstChild),mn=a,Ze=!0,zr=null,ya=!0,s=Dy(a,null,l,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(rl(),l===h){a=Wa(t,a,s);break e}Qt(t,a,l,s)}a=a.child}return a;case 26:return Ic(t,a),t===null?(s=n_(a.type,null,a.pendingProps,null))?a.memoizedState=s:Ze||(s=a.type,t=a.pendingProps,l=Yc(Ce.current).createElement(s),l[jt]=a,l[wt]=t,Kt(l,s,t),bt(l),a.stateNode=l):a.memoizedState=n_(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return vi(a),t===null&&Ze&&(l=a.stateNode=Wv(a.type,a.pendingProps,Ce.current),mn=a,ya=!0,h=Et,Bi(a.type)?(om=h,Et=Wn(l.firstChild)):Et=h),Qt(t,a,a.pendingProps.children,s),Ic(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Ze&&((h=l=Et)&&(l=Cb(l,a.type,a.pendingProps,ya),l!==null?(a.stateNode=l,mn=a,Et=Wn(l.firstChild),ya=!1,h=!0):h=!1),h||Br(a)),vi(a),h=a.type,f=a.pendingProps,T=t!==null?t.memoizedProps:null,l=f.children,am(h,f)?l=null:T!==null&&am(h,T)&&(a.flags|=32),a.memoizedState!==null&&(h=tf(t,a,YT,null,null,s),kl._currentValue=h),Ic(t,a),Qt(t,a,l,s),a.child;case 6:return t===null&&Ze&&((t=s=Et)&&(s=Nb(s,a.pendingProps,ya),s!==null?(a.stateNode=s,mn=a,Et=null,t=!0):t=!1),t||Br(a)),null;case 13:return Zy(t,a,s);case 4:return ut(a,a.stateNode.containerInfo),l=a.pendingProps,t===null?a.child=qs(a,null,l,s):Qt(t,a,l,s),a.child;case 11:return By(t,a,a.type,a.pendingProps,s);case 7:return Qt(t,a,a.pendingProps,s),a.child;case 8:return Qt(t,a,a.pendingProps.children,s),a.child;case 12:return Qt(t,a,a.pendingProps.children,s),a.child;case 10:return l=a.pendingProps,wi(a,a.type,l.value),Qt(t,a,l.children,s),a.child;case 9:return h=a.type._context,l=a.pendingProps.children,Hr(a),h=tn(h),l=l(h),a.flags|=1,Qt(t,a,l,s),a.child;case 14:return qy(t,a,a.type,a.pendingProps,s);case 15:return Hy(t,a,a.type,a.pendingProps,s);case 19:return Xy(t,a,s);case 31:return l=a.pendingProps,s=a.mode,l={mode:l.mode,children:l.children},t===null?(s=jc(l,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=Ya(t.child,l),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return Fy(t,a,s);case 24:return Hr(a),l=tn(Mt),t===null?(h=Yd(),h===null&&(h=ct,f=Fd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),a.memoizedState={parent:l,cache:h},Qd(a),wi(a,Mt,h)):((t.lanes&s)!==0&&(Zd(t,a),ml(a,null,null,s),fl()),h=t.memoizedState,f=a.memoizedState,h.parent!==l?(h={parent:l,cache:l},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),wi(a,Mt,l)):(l=f.cache,wi(a,Mt,l),l!==h.cache&&Hd(a,[Mt],s,!0))),Qt(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ei(t){t.flags|=4}function Wy(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!o_(a)){if(a=Hn.current,a!==null&&((He&4194048)===He?va!==null:(He&62914560)!==He&&(He&536870912)===0||a!==va))throw hl=$d,kg;t.flags|=8192}}function Oc(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Lo():536870912,t.lanes|=a,Ys|=a)}function Tl(t,a){if(!Ze)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function pt(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(a)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,a}function tb(t,a,s){var l=a.pendingProps;switch(Ud(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(a),null;case 1:return pt(a),null;case 3:return s=a.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ka(Mt),ra(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(il(a)?ei(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ig())),pt(a),null;case 26:return s=a.memoizedState,t===null?(ei(a),s!==null?(pt(a),Wy(a,s)):(pt(a),a.flags&=-16777217)):s?s!==t.memoizedState?(ei(a),pt(a),Wy(a,s)):(pt(a),a.flags&=-16777217):(t.memoizedProps!==l&&ei(a),pt(a),a.flags&=-16777217),null;case 27:Oa(a),s=Ce.current;var h=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==l&&ei(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return pt(a),null}t=Te.current,il(a)?Ng(a):(t=Wv(h,l,s),a.stateNode=t,ei(a))}return pt(a),null;case 5:if(Oa(a),s=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&ei(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return pt(a),null}if(t=Te.current,il(a))Ng(a);else{switch(h=Yc(Ce.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[jt]=a,t[wt]=l;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=t;e:switch(Kt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ei(a)}}return pt(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==l&&ei(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(r(166));if(t=Ce.current,il(a)){if(t=a.stateNode,s=a.memoizedProps,l=null,h=mn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[jt]=a,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Yv(t.nodeValue,s)),t||Br(a)}else t=Yc(t).createTextNode(l),t[jt]=a,a.stateNode=t}return pt(a),null;case 13:if(l=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=il(a),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[jt]=a}else rl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;pt(a),h=!1}else h=Ig(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Ja(a),a):(Ja(a),null)}if(Ja(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=a.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return s!==t&&s&&(a.child.flags|=8192),Oc(a,a.updateQueue),pt(a),null;case 4:return ra(),t===null&&Jf(a.stateNode.containerInfo),pt(a),null;case 10:return Ka(a.type),pt(a),null;case 19:if(ce(kt),h=a.memoizedState,h===null)return pt(a),null;if(l=(a.flags&128)!==0,f=h.rendering,f===null)if(l)Tl(h,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(f=Cc(t),f!==null){for(a.flags|=128,Tl(h,!1),t=f.updateQueue,a.updateQueue=t,Oc(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)Rg(s,t),s=s.sibling;return oe(kt,kt.current&1|2),a.child}t=t.sibling}h.tail!==null&&On()>kc&&(a.flags|=128,l=!0,Tl(h,!1),a.lanes=4194304)}else{if(!l)if(t=Cc(f),t!==null){if(a.flags|=128,l=!0,t=t.updateQueue,a.updateQueue=t,Oc(a,t),Tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Ze)return pt(a),null}else 2*On()-h.renderingStartTime>kc&&s!==536870912&&(a.flags|=128,l=!0,Tl(h,!1),a.lanes=4194304);h.isBackwards?(f.sibling=a.child,a.child=f):(t=h.last,t!==null?t.sibling=f:a.child=f,h.last=f)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=On(),a.sibling=null,t=kt.current,oe(kt,l?t&1|2:t&1),a):(pt(a),null);case 22:case 23:return Ja(a),Wd(),l=a.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(s&536870912)!==0&&(a.flags&128)===0&&(pt(a),a.subtreeFlags&6&&(a.flags|=8192)):pt(a),s=a.updateQueue,s!==null&&Oc(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048),t!==null&&ce(Fr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Ka(Mt),pt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function nb(t,a){switch(Ud(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Ka(Mt),ra(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Oa(a),null;case 13:if(Ja(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(r(340));rl()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return ce(kt),null;case 4:return ra(),null;case 10:return Ka(a.type),null;case 22:case 23:return Ja(a),Wd(),t!==null&&ce(Fr),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Ka(Mt),null;case 25:return null;default:return null}}function ev(t,a){switch(Ud(a),a.tag){case 3:Ka(Mt),ra();break;case 26:case 27:case 5:Oa(a);break;case 4:ra();break;case 13:Ja(a);break;case 19:ce(kt);break;case 10:Ka(a.type);break;case 22:case 23:Ja(a),Wd(),t!==null&&ce(Fr);break;case 24:Ka(Mt)}}function bl(t,a){try{var s=a.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,T=s.inst;l=f(),T.destroy=l}s=s.next}while(s!==h)}}catch(x){st(a,a.return,x)}}function Oi(t,a,s){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var T=l.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,h=a;var j=s,Y=x;try{Y()}catch(J){st(h,j,J)}}}l=l.next}while(l!==f)}}catch(J){st(a,a.return,J)}}function tv(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{qg(a,s)}catch(l){st(t,t.return,l)}}}function nv(t,a,s){s.props=Yr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){st(t,a,l)}}function Al(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){st(t,a,h)}}function _a(t,a){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){st(t,a,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){st(t,a,h)}else s.current=null}function av(t){var a=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){st(t,t.return,h)}}function Cf(t,a,s){try{var l=t.stateNode;Ab(l,t.type,s,a),l[wt]=a}catch(h){st(t,t.return,h)}}function iv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Bi(t.type)||t.tag===4}function Nf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Bi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Df(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Gc));else if(l!==4&&(l===27&&Bi(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(Df(t,a,s),t=t.sibling;t!==null;)Df(t,a,s),t=t.sibling}function Vc(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(l!==4&&(l===27&&Bi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Vc(t,a,s),t=t.sibling;t!==null;)Vc(t,a,s),t=t.sibling}function rv(t){var a=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);Kt(a,l,s),a[jt]=t,a[wt]=s}catch(f){st(t,t.return,f)}}var ti=!1,xt=!1,If=!1,sv=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function ab(t,a){if(t=t.containerInfo,tm=Jc,t=yg(t),Cd(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var T=0,x=-1,j=-1,Y=0,J=0,te=t,$=null;t:for(;;){for(var Z;te!==s||h!==0&&te.nodeType!==3||(x=T+h),te!==f||l!==0&&te.nodeType!==3||(j=T+l),te.nodeType===3&&(T+=te.nodeValue.length),(Z=te.firstChild)!==null;)$=te,te=Z;for(;;){if(te===t)break t;if($===s&&++Y===h&&(x=T),$===f&&++J===l&&(j=T),(Z=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=Z}s=x===-1||j===-1?null:{start:x,end:j}}else s=null}s=s||{start:0,end:0}}else s=null;for(nm={focusedElem:t,selectionRange:s},Jc=!1,Ht=a;Ht!==null;)if(a=Ht,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,Ht=t;else for(;Ht!==null;){switch(a=Ht,f=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=a,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var we=Yr(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(we,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){st(s,s.return,be)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)rm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=a.sibling,t!==null){t.return=a.return,Ht=t;break}Ht=a.return}}function ov(t,a,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Vi(t,s),l&4&&bl(5,s);break;case 1:if(Vi(t,s),l&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(T){st(s,s.return,T)}else{var h=Yr(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(h,a,t.__reactInternalSnapshotBeforeUpdate)}catch(T){st(s,s.return,T)}}l&64&&tv(s),l&512&&Al(s,s.return);break;case 3:if(Vi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{qg(t,a)}catch(T){st(s,s.return,T)}}break;case 27:a===null&&l&4&&rv(s);case 26:case 5:Vi(t,s),a===null&&l&4&&av(s),l&512&&Al(s,s.return);break;case 12:Vi(t,s);break;case 13:Vi(t,s),l&4&&cv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=db.bind(null,s),Db(t,s))));break;case 22:if(l=s.memoizedState!==null||ti,!l){a=a!==null&&a.memoizedState!==null||xt,h=ti;var f=xt;ti=l,(xt=a)&&!f?Mi(t,s,(s.subtreeFlags&8772)!==0):Vi(t,s),ti=h,xt=f}break;case 30:break;default:Vi(t,s)}}function lv(t){var a=t.alternate;a!==null&&(t.alternate=null,lv(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&bi(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,yn=!1;function ni(t,a,s){for(s=s.child;s!==null;)uv(t,a,s),s=s.sibling}function uv(t,a,s){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(_t,s)}catch{}switch(s.tag){case 26:xt||_a(s,a),ni(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xt||_a(s,a);var l=ft,h=yn;Bi(s.type)&&(ft=s.stateNode,yn=!1),ni(t,a,s),jl(s.stateNode),ft=l,yn=h;break;case 5:xt||_a(s,a);case 6:if(l=ft,h=yn,ft=null,ni(t,a,s),ft=l,yn=h,ft!==null)if(yn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(s.stateNode)}catch(f){st(s,a,f)}else try{ft.removeChild(s.stateNode)}catch(f){st(s,a,f)}break;case 18:ft!==null&&(yn?(t=ft,Xv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),zl(t)):Xv(ft,s.stateNode));break;case 4:l=ft,h=yn,ft=s.stateNode.containerInfo,yn=!0,ni(t,a,s),ft=l,yn=h;break;case 0:case 11:case 14:case 15:xt||Oi(2,s,a),xt||Oi(4,s,a),ni(t,a,s);break;case 1:xt||(_a(s,a),l=s.stateNode,typeof l.componentWillUnmount=="function"&&nv(s,a,l)),ni(t,a,s);break;case 21:ni(t,a,s);break;case 22:xt=(l=xt)||s.memoizedState!==null,ni(t,a,s),xt=l;break;default:ni(t,a,s)}}function cv(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(s){st(a,a.return,s)}}function ib(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new sv),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new sv),a;default:throw Error(r(435,t.tag))}}function jf(t,a){var s=ib(t);a.forEach(function(l){var h=fb.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function wn(t,a){var s=a.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,T=a,x=T;e:for(;x!==null;){switch(x.tag){case 27:if(Bi(x.type)){ft=x.stateNode,yn=!1;break e}break;case 5:ft=x.stateNode,yn=!1;break e;case 3:case 4:ft=x.stateNode.containerInfo,yn=!0;break e}x=x.return}if(ft===null)throw Error(r(160));uv(f,T,h),ft=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)hv(a,t),a=a.sibling}var Jn=null;function hv(t,a){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(a,t),Rn(t),l&4&&(Oi(3,t,t.return),bl(3,t),Oi(5,t,t.return));break;case 1:wn(a,t),Rn(t),l&512&&(xt||s===null||_a(s,s.return)),l&64&&ti&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Jn;if(wn(a,t),Rn(t),l&512&&(xt||s===null||_a(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Tr]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Kt(f,l,s),f[jt]=t,bt(f),l=f;break e;case"link":var T=r_("link","href",h).get(l+(s.href||""));if(T){for(var x=0;x<T.length;x++)if(f=T[x],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(x,1);break t}}f=h.createElement(l),Kt(f,l,s),h.head.appendChild(f);break;case"meta":if(T=r_("meta","content",h).get(l+(s.content||""))){for(x=0;x<T.length;x++)if(f=T[x],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(x,1);break t}}f=h.createElement(l),Kt(f,l,s),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[jt]=t,bt(f),l=f}t.stateNode=l}else s_(h,t.type,t.stateNode);else t.stateNode=i_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?s_(h,t.type,t.stateNode):i_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Cf(t,t.memoizedProps,s.memoizedProps)}break;case 27:wn(a,t),Rn(t),l&512&&(xt||s===null||_a(s,s.return)),s!==null&&l&4&&Cf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(wn(a,t),Rn(t),l&512&&(xt||s===null||_a(s,s.return)),t.flags&32){h=t.stateNode;try{Mn(h,"")}catch(Z){st(t,t.return,Z)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Cf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(If=!0);break;case 6:if(wn(a,t),Rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Z){st(t,t.return,Z)}}break;case 3:if(Zc=null,h=Jn,Jn=$c(a.containerInfo),wn(a,t),Jn=h,Rn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{zl(a.containerInfo)}catch(Z){st(t,t.return,Z)}If&&(If=!1,dv(t));break;case 4:l=Jn,Jn=$c(t.stateNode.containerInfo),wn(a,t),Rn(t),Jn=l;break;case 12:wn(a,t),Rn(t);break;case 13:wn(a,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Lf=On()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jf(t,l)));break;case 22:h=t.memoizedState!==null;var j=s!==null&&s.memoizedState!==null,Y=ti,J=xt;if(ti=Y||h,xt=J||j,wn(a,t),xt=J,ti=Y,Rn(t),l&8192)e:for(a=t.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(s===null||j||ti||xt||$r(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){j=s=a;try{if(f=j.stateNode,h)T=f.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=j.stateNode;var te=j.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;x.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Z){st(j,j.return,Z)}}}else if(a.tag===6){if(s===null){j=a;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(Z){st(j,j.return,Z)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,jf(t,s))));break;case 19:wn(a,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jf(t,l)));break;case 30:break;case 21:break;default:wn(a,t),Rn(t)}}function Rn(t){var a=t.flags;if(a&2){try{for(var s,l=t.return;l!==null;){if(iv(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=Nf(t);Vc(t,f,h);break;case 5:var T=s.stateNode;s.flags&32&&(Mn(T,""),s.flags&=-33);var x=Nf(t);Vc(t,x,T);break;case 3:case 4:var j=s.stateNode.containerInfo,Y=Nf(t);Df(t,Y,j);break;default:throw Error(r(161))}}catch(J){st(t,t.return,J)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function dv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;dv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Vi(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ov(t,a.alternate,a),a=a.sibling}function $r(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Oi(4,a,a.return),$r(a);break;case 1:_a(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&nv(a,a.return,s),$r(a);break;case 27:jl(a.stateNode);case 26:case 5:_a(a,a.return),$r(a);break;case 22:a.memoizedState===null&&$r(a);break;case 30:$r(a);break;default:$r(a)}t=t.sibling}}function Mi(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,h=t,f=a,T=f.flags;switch(f.tag){case 0:case 11:case 15:Mi(h,f,s),bl(4,f);break;case 1:if(Mi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){st(l,l.return,Y)}if(l=f,h=l.updateQueue,h!==null){var x=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)Bg(j[h],x)}catch(Y){st(l,l.return,Y)}}s&&T&64&&tv(f),Al(f,f.return);break;case 27:rv(f);case 26:case 5:Mi(h,f,s),s&&l===null&&T&4&&av(f),Al(f,f.return);break;case 12:Mi(h,f,s);break;case 13:Mi(h,f,s),s&&T&4&&cv(h,f);break;case 22:f.memoizedState===null&&Mi(h,f,s),Al(f,f.return);break;case 30:break;default:Mi(h,f,s)}a=a.sibling}}function Of(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ll(s))}function Vf(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&ll(t))}function Ea(t,a,s,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fv(t,a,s,l),a=a.sibling}function fv(t,a,s,l){var h=a.flags;switch(a.tag){case 0:case 11:case 15:Ea(t,a,s,l),h&2048&&bl(9,a);break;case 1:Ea(t,a,s,l);break;case 3:Ea(t,a,s,l),h&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&ll(t)));break;case 12:if(h&2048){Ea(t,a,s,l),t=a.stateNode;try{var f=a.memoizedProps,T=f.id,x=f.onPostCommit;typeof x=="function"&&x(T,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){st(a,a.return,j)}}else Ea(t,a,s,l);break;case 13:Ea(t,a,s,l);break;case 23:break;case 22:f=a.stateNode,T=a.alternate,a.memoizedState!==null?f._visibility&2?Ea(t,a,s,l):xl(t,a):f._visibility&2?Ea(t,a,s,l):(f._visibility|=2,Hs(t,a,s,l,(a.subtreeFlags&10256)!==0)),h&2048&&Of(T,a);break;case 24:Ea(t,a,s,l),h&2048&&Vf(a.alternate,a);break;default:Ea(t,a,s,l)}}function Hs(t,a,s,l,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var f=t,T=a,x=s,j=l,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Hs(f,T,x,j,h),bl(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?Hs(f,T,x,j,h):xl(f,T):(J._visibility|=2,Hs(f,T,x,j,h)),h&&Y&2048&&Of(T.alternate,T);break;case 24:Hs(f,T,x,j,h),h&&Y&2048&&Vf(T.alternate,T);break;default:Hs(f,T,x,j,h)}a=a.sibling}}function xl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,l=a,h=l.flags;switch(l.tag){case 22:xl(s,l),h&2048&&Of(l.alternate,l);break;case 24:xl(s,l),h&2048&&Vf(l.alternate,l);break;default:xl(s,l)}a=a.sibling}}var Sl=8192;function Fs(t){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)mv(t),t=t.sibling}function mv(t){switch(t.tag){case 26:Fs(t),t.flags&Sl&&t.memoizedState!==null&&Hb(Jn,t.memoizedState,t.memoizedProps);break;case 5:Fs(t);break;case 3:case 4:var a=Jn;Jn=$c(t.stateNode.containerInfo),Fs(t),Jn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Sl,Sl=16777216,Fs(t),Sl=a):Fs(t));break;default:Fs(t)}}function pv(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function wl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Ht=l,yv(l,t)}pv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gv(t),t=t.sibling}function gv(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Oi(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Mc(t)):wl(t);break;default:wl(t)}}function Mc(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Ht=l,yv(l,t)}pv(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Oi(8,a,a.return),Mc(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Mc(a));break;default:Mc(a)}t=t.sibling}}function yv(t,a){for(;Ht!==null;){var s=Ht;switch(s.tag){case 0:case 11:case 15:Oi(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ht=l;else e:for(s=t;Ht!==null;){l=Ht;var h=l.sibling,f=l.return;if(lv(l),l===s){Ht=null;break e}if(h!==null){h.return=f,Ht=h;break e}Ht=f}}}var rb={getCacheForType:function(t){var a=tn(Mt),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s}},sb=typeof WeakMap=="function"?WeakMap:Map,We=0,ct=null,Le=null,He=0,et=0,Cn=null,ki=!1,Gs=!1,Mf=!1,ai=0,Tt=0,Pi=0,Qr=0,kf=0,Fn=0,Ys=0,Rl=null,vn=null,Pf=!1,Lf=0,kc=1/0,Pc=null,Li=null,Zt=0,Ui=null,$s=null,Qs=0,Uf=0,zf=null,vv=null,Cl=0,Bf=null;function Nn(){if((We&2)!==0&&He!==0)return He&-He;if(X.T!==null){var t=Ms;return t!==0?t:Qf()}return Ei()}function _v(){Fn===0&&(Fn=(He&536870912)===0||Ze?Po():536870912);var t=Hn.current;return t!==null&&(t.flags|=32),Fn}function Dn(t,a,s){(t===ct&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Zs(t,0),zi(t,He,Fn,!1)),Ma(t,s),((We&2)===0||t!==ct)&&(t===ct&&((We&2)===0&&(Qr|=s),Tt===4&&zi(t,He,Fn,!1)),Ta(t))}function Ev(t,a,s){if((We&6)!==0)throw Error(r(327));var l=!s&&(a&124)===0&&(a&t.expiredLanes)===0||Er(t,a),h=l?ub(t,a):Ff(t,a,!0),f=l;do{if(h===0){Gs&&!l&&zi(t,a,0,!1);break}else{if(s=t.current.alternate,f&&!ob(s)){h=Ff(t,a,!1),f=!1;continue}if(h===2){if(f=a,t.errorRecoveryDisabledLanes&f)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var x=t;h=Rl;var j=x.current.memoizedState.isDehydrated;if(j&&(Zs(x,T).flags|=256),T=Ff(x,T,!1),T!==2){if(Mf&&!j){x.errorRecoveryDisabledLanes|=f,Qr|=f,h=4;break e}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=T}if(f=!1,h!==2)continue}}if(h===1){Zs(t,0),zi(t,a,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:zi(l,a,Fn,!ki);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(h=Lf+300-On(),10<h)){if(zi(l,a,Fn,!ki),ds(l,0,!0)!==0)break e;l.timeoutHandle=Zv(Tv.bind(null,l,s,vn,Pc,Pf,a,Fn,Qr,Ys,ki,f,2,-0,0),h);break e}Tv(l,s,vn,Pc,Pf,a,Fn,Qr,Ys,ki,f,0,-0,0)}}break}while(!0);Ta(t)}function Tv(t,a,s,l,h,f,T,x,j,Y,J,te,$,Z){if(t.timeoutHandle=-1,te=a.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:qb},mv(a),te=Fb(),te!==null)){t.cancelPendingCommit=te(Cv.bind(null,t,a,f,s,l,h,T,x,j,J,1,$,Z)),zi(t,f,T,!Y);return}Cv(t,a,f,s,l,h,T,x,j)}function ob(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!xn(f(),h))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zi(t,a,s,l){a&=~kf,a&=~Qr,t.suspendedLanes|=a,t.pingedLanes&=~a,l&&(t.warmLanes|=a),l=t.expirationTimes;for(var h=a;0<h;){var f=31-en(h),T=1<<f;l[f]=-1,h&=~T}s!==0&&sa(t,s,a)}function Lc(){return(We&6)===0?(Nl(0),!1):!0}function qf(){if(Le!==null){if(et===0)var t=Le.return;else t=Le,Za=qr=null,rf(t),Bs=null,_l=0,t=Le;for(;t!==null;)ev(t.alternate,t),t=t.return;Le=null}}function Zs(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Sb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),qf(),ct=t,Le=s=Ya(t.current,null),He=a,et=0,Cn=null,ki=!1,Gs=Er(t,a),Mf=!1,Ys=Fn=kf=Qr=Pi=Tt=0,vn=Rl=null,Pf=!1,(a&8)!==0&&(a|=a&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=a;0<l;){var h=31-en(l),f=1<<h;a|=t[h],l&=~f}return ai=a,sc(),s}function bv(t,a){Ve=null,X.H=Sc,a===cl||a===pc?(a=Ug(),et=3):a===kg?(a=Ug(),et=4):et=a===zy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Cn=a,Le===null&&(Tt=1,Dc(t,Un(a,t.current)))}function Av(){var t=X.H;return X.H=Sc,t===null?Sc:t}function xv(){var t=X.A;return X.A=rb,t}function Hf(){Tt=4,ki||(He&4194048)!==He&&Hn.current!==null||(Gs=!0),(Pi&134217727)===0&&(Qr&134217727)===0||ct===null||zi(ct,He,Fn,!1)}function Ff(t,a,s){var l=We;We|=2;var h=Av(),f=xv();(ct!==t||He!==a)&&(Pc=null,Zs(t,a)),a=!1;var T=Tt;e:do try{if(et!==0&&Le!==null){var x=Le,j=Cn;switch(et){case 8:qf(),T=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(a=!0);var Y=et;if(et=0,Cn=null,Ks(t,x,j,Y),s&&Gs){T=0;break e}break;default:Y=et,et=0,Cn=null,Ks(t,x,j,Y)}}lb(),T=Tt;break}catch(J){bv(t,J)}while(!0);return a&&t.shellSuspendCounter++,Za=qr=null,We=l,X.H=h,X.A=f,Le===null&&(ct=null,He=0,sc()),T}function lb(){for(;Le!==null;)Sv(Le)}function ub(t,a){var s=We;We|=2;var l=Av(),h=xv();ct!==t||He!==a?(Pc=null,kc=On()+500,Zs(t,a)):Gs=Er(t,a);e:do try{if(et!==0&&Le!==null){a=Le;var f=Cn;t:switch(et){case 1:et=0,Cn=null,Ks(t,a,f,1);break;case 2:case 9:if(Pg(f)){et=0,Cn=null,wv(a);break}a=function(){et!==2&&et!==9||ct!==t||(et=7),Ta(t)},f.then(a,a);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Pg(f)?(et=0,Cn=null,wv(a)):(et=0,Cn=null,Ks(t,a,f,7));break;case 5:var T=null;switch(Le.tag){case 26:T=Le.memoizedState;case 5:case 27:var x=Le;if(!T||o_(T)){et=0,Cn=null;var j=x.sibling;if(j!==null)Le=j;else{var Y=x.return;Y!==null?(Le=Y,Uc(Y)):Le=null}break t}}et=0,Cn=null,Ks(t,a,f,5);break;case 6:et=0,Cn=null,Ks(t,a,f,6);break;case 8:qf(),Tt=6;break e;default:throw Error(r(462))}}cb();break}catch(J){bv(t,J)}while(!0);return Za=qr=null,X.H=l,X.A=h,We=s,Le!==null?0:(ct=null,He=0,sc(),Tt)}function cb(){for(;Le!==null&&!Oo();)Sv(Le)}function Sv(t){var a=Jy(t.alternate,t,ai);t.memoizedProps=t.pendingProps,a===null?Uc(t):Le=a}function wv(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Yy(s,a,a.pendingProps,a.type,void 0,He);break;case 11:a=Yy(s,a,a.pendingProps,a.type.render,a.ref,He);break;case 5:rf(a);default:ev(s,a),a=Le=Rg(a,ai),a=Jy(s,a,ai)}t.memoizedProps=t.pendingProps,a===null?Uc(t):Le=a}function Ks(t,a,s,l){Za=qr=null,rf(a),Bs=null,_l=0;var h=a.return;try{if(WT(t,h,a,s,He)){Tt=1,Dc(t,Un(s,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;Tt=1,Dc(t,Un(s,t.current)),Le=null;return}a.flags&32768?(Ze||l===1?t=!0:Gs||(He&536870912)!==0?t=!1:(ki=t=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Rv(a,t)):Uc(a)}function Uc(t){var a=t;do{if((a.flags&32768)!==0){Rv(a,ki);return}t=a.return;var s=tb(a.alternate,a,ai);if(s!==null){Le=s;return}if(a=a.sibling,a!==null){Le=a;return}Le=a=t}while(a!==null);Tt===0&&(Tt=5)}function Rv(t,a){do{var s=nb(t.alternate,t);if(s!==null){s.flags&=32767,Le=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){Le=t;return}Le=t=s}while(t!==null);Tt=6,Le=null}function Cv(t,a,s,l,h,f,T,x,j){t.cancelPendingCommit=null;do zc();while(Zt!==0);if((We&6)!==0)throw Error(r(327));if(a!==null){if(a===t.current)throw Error(r(177));if(f=a.lanes|a.childLanes,f|=Od,Uo(t,s,f,T,x,j),t===ct&&(Le=ct=null,He=0),$s=a,Ui=t,Qs=s,Uf=f,zf=h,vv=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mb(gr,function(){return Ov(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ue.p,ue.p=2,T=We,We|=4;try{ab(t,a,s)}finally{We=T,ue.p=h,X.T=l}}Zt=1,Nv(),Dv(),Iv()}}function Nv(){if(Zt===1){Zt=0;var t=Ui,a=$s,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=ue.p;ue.p=2;var h=We;We|=4;try{hv(a,t);var f=nm,T=yg(t.containerInfo),x=f.focusedElem,j=f.selectionRange;if(T!==x&&x&&x.ownerDocument&&gg(x.ownerDocument.documentElement,x)){if(j!==null&&Cd(x)){var Y=j.start,J=j.end;if(J===void 0&&(J=Y),"selectionStart"in x)x.selectionStart=Y,x.selectionEnd=Math.min(J,x.value.length);else{var te=x.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var Z=$.getSelection(),we=x.textContent.length,be=Math.min(j.start,we),it=j.end===void 0?be:Math.min(j.end,we);!Z.extend&&be>it&&(T=it,it=be,be=T);var q=pg(x,be),U=pg(x,it);if(q&&U&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==U.node||Z.focusOffset!==U.offset)){var G=te.createRange();G.setStart(q.node,q.offset),Z.removeAllRanges(),be>it?(Z.addRange(G),Z.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),Z.addRange(G))}}}}for(te=[],Z=x;Z=Z.parentNode;)Z.nodeType===1&&te.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<te.length;x++){var ee=te[x];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Jc=!!tm,nm=tm=null}finally{We=h,ue.p=l,X.T=s}}t.current=a,Zt=2}}function Dv(){if(Zt===2){Zt=0;var t=Ui,a=$s,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=ue.p;ue.p=2;var h=We;We|=4;try{ov(t,a.alternate,a)}finally{We=h,ue.p=l,X.T=s}}Zt=3}}function Iv(){if(Zt===4||Zt===3){Zt=0,Mu();var t=Ui,a=$s,s=Qs,l=vv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Zt=5:(Zt=0,$s=Ui=null,jv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Li=null),fs(s),a=a.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(_t,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=X.T,h=ue.p,ue.p=2,X.T=null;try{for(var f=t.onRecoverableError,T=0;T<l.length;T++){var x=l[T];f(x.value,{componentStack:x.stack})}}finally{X.T=a,ue.p=h}}(Qs&3)!==0&&zc(),Ta(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Bf?Cl++:(Cl=0,Bf=t):Cl=0,Nl(0)}}function jv(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,ll(a)))}function zc(t){return Nv(),Dv(),Iv(),Ov()}function Ov(){if(Zt!==5)return!1;var t=Ui,a=Uf;Uf=0;var s=fs(Qs),l=X.T,h=ue.p;try{ue.p=32>s?32:s,X.T=null,s=zf,zf=null;var f=Ui,T=Qs;if(Zt=0,$s=Ui=null,Qs=0,(We&6)!==0)throw Error(r(331));var x=We;if(We|=4,gv(f.current),fv(f,f.current,T,s),We=x,Nl(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(_t,f)}catch{}return!0}finally{ue.p=h,X.T=l,jv(t,a)}}function Vv(t,a,s){a=Un(s,a),a=_f(t.stateNode,a,2),t=Ni(t,a,2),t!==null&&(Ma(t,2),Ta(t))}function st(t,a,s){if(t.tag===3)Vv(t,t,s);else for(;a!==null;){if(a.tag===3){Vv(a,t,s);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Li===null||!Li.has(l))){t=Un(s,t),s=Ly(2),l=Ni(a,s,2),l!==null&&(Uy(s,l,a,t),Ma(l,2),Ta(l));break}}a=a.return}}function Gf(t,a,s){var l=t.pingCache;if(l===null){l=t.pingCache=new sb;var h=new Set;l.set(a,h)}else h=l.get(a),h===void 0&&(h=new Set,l.set(a,h));h.has(s)||(Mf=!0,h.add(s),t=hb.bind(null,t,a,s),a.then(t,t))}function hb(t,a,s){var l=t.pingCache;l!==null&&l.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ct===t&&(He&s)===s&&(Tt===4||Tt===3&&(He&62914560)===He&&300>On()-Lf?(We&2)===0&&Zs(t,0):kf|=s,Ys===He&&(Ys=0)),Ta(t)}function Mv(t,a){a===0&&(a=Lo()),t=Is(t,a),t!==null&&(Ma(t,a),Ta(t))}function db(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),Mv(t,s)}function fb(t,a){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(a),Mv(t,s)}function mb(t,a){return mr(t,a)}var Bc=null,Xs=null,Yf=!1,qc=!1,$f=!1,Zr=0;function Ta(t){t!==Xs&&t.next===null&&(Xs===null?Bc=Xs=t:Xs=Xs.next=t),qc=!0,Yf||(Yf=!0,gb())}function Nl(t,a){if(!$f&&qc){$f=!0;do for(var s=!1,l=Bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var T=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-en(42|t)+1)-1,f&=h&~(T&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Uv(l,f))}else f=He,f=ds(l,l===ct?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Er(l,f)||(s=!0,Uv(l,f));l=l.next}while(s);$f=!1}}function pb(){kv()}function kv(){qc=Yf=!1;var t=0;Zr!==0&&(xb()&&(t=Zr),Zr=0);for(var a=On(),s=null,l=Bc;l!==null;){var h=l.next,f=Pv(l,a);f===0?(l.next=null,s===null?Bc=h:s.next=h,h===null&&(Xs=s)):(s=l,(t!==0||(f&3)!==0)&&(qc=!0)),l=h}Nl(t)}function Pv(t,a){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var T=31-en(f),x=1<<T,j=h[T];j===-1?((x&s)===0||(x&l)!==0)&&(h[T]=ko(x,a)):j<=a&&(t.expiredLanes|=x),f&=~x}if(a=ct,s=He,s=ds(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===a&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Er(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(l!==null&&pr(l),fs(s)){case 2:case 8:s=cs;break;case 32:s=gr;break;case 268435456:s=hs;break;default:s=gr}return l=Lv.bind(null,t),s=mr(s,l),t.callbackPriority=a,t.callbackNode=s,a}return l!==null&&l!==null&&pr(l),t.callbackPriority=2,t.callbackNode=null,2}function Lv(t,a){if(Zt!==0&&Zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(zc()&&t.callbackNode!==s)return null;var l=He;return l=ds(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ev(t,l,a),Pv(t,On()),t.callbackNode!=null&&t.callbackNode===s?Lv.bind(null,t):null)}function Uv(t,a){if(zc())return null;Ev(t,a,!0)}function gb(){wb(function(){(We&6)!==0?mr(Vo,pb):kv()})}function Qf(){return Zr===0&&(Zr=Po()),Zr}function zv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_s(""+t)}function Bv(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function yb(t,a,s,l,h){if(a==="submit"&&s&&s.stateNode===h){var f=zv((h[wt]||null).action),T=l.submitter;T&&(a=(a=T[wt]||null)?zv(a.formAction):T.getAttribute("formAction"),a!==null&&(f=a,T=null));var x=new Es("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zr!==0){var j=T?Bv(h,T):new FormData(h);mf(s,{pending:!0,data:j,method:h.method,action:f},null,j)}}else typeof f=="function"&&(x.preventDefault(),j=T?Bv(h,T):new FormData(h),mf(s,{pending:!0,data:j,method:h.method,action:f},f,j))},currentTarget:h}]})}}for(var Zf=0;Zf<jd.length;Zf++){var Kf=jd[Zf],vb=Kf.toLowerCase(),_b=Kf[0].toUpperCase()+Kf.slice(1);Xn(vb,"on"+_b)}Xn(Eg,"onAnimationEnd"),Xn(Tg,"onAnimationIteration"),Xn(bg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(kT,"onTransitionRun"),Xn(PT,"onTransitionStart"),Xn(LT,"onTransitionCancel"),Xn(Ag,"onTransitionEnd"),Pa("onMouseEnter",["mouseout","mouseover"]),Pa("onMouseLeave",["mouseout","mouseover"]),Pa("onPointerEnter",["pointerout","pointerover"]),Pa("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function qv(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(a)for(var T=l.length-1;0<=T;T--){var x=l[T],j=x.instance,Y=x.currentTarget;if(x=x.listener,j!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=Y;try{f(h)}catch(J){Nc(J)}h.currentTarget=null,f=j}else for(T=0;T<l.length;T++){if(x=l[T],j=x.instance,Y=x.currentTarget,x=x.listener,j!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=Y;try{f(h)}catch(J){Nc(J)}h.currentTarget=null,f=j}}}}function Ue(t,a){var s=a[Bo];s===void 0&&(s=a[Bo]=new Set);var l=t+"__bubble";s.has(l)||(Hv(a,t,2,!1),s.add(l))}function Xf(t,a,s){var l=0;a&&(l|=4),Hv(s,t,l,a)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function Jf(t){if(!t[Hc]){t[Hc]=!0,qo.forEach(function(s){s!=="selectionchange"&&(Eb.has(s)||Xf(s,!1,t),Xf(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Hc]||(a[Hc]=!0,Xf("selectionchange",!1,a))}}function Hv(t,a,s,l){switch(f_(a)){case 2:var h=$b;break;case 8:h=Qb;break;default:h=dm}s=h.bind(null,a,s,t),h=void 0,!Pn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(a,s,{capture:!0,passive:h}):t.addEventListener(a,s,!0):h!==void 0?t.addEventListener(a,s,{passive:h}):t.addEventListener(a,s,!1)}function Wf(t,a,s,l,h){var f=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var x=l.stateNode.containerInfo;if(x===h)break;if(T===4)for(T=l.return;T!==null;){var j=T.tag;if((j===3||j===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;x!==null;){if(T=ka(x),T===null)return;if(j=T.tag,j===5||j===6||j===26||j===27){l=f=T;continue e}x=x.parentNode}}l=l.return}Gu(function(){var Y=f,J=kn(s),te=[];e:{var $=xg.get(t);if($!==void 0){var Z=Es,we=t;switch(t){case"keypress":if(da(s)===0)break e;case"keydown":case"keyup":Z=ws;break;case"focusin":we="focus",Z=As;break;case"focusout":we="blur",Z=As;break;case"beforeblur":case"afterblur":Z=As;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=xd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Wu;break;case Eg:case Tg:case bg:Z=xs;break;case Ag:Z=tc;break;case"scroll":case"scrollend":Z=Yu;break;case"wheel":Z=Rs;break;case"copy":case"cut":case"paste":Z=Ss;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=el;break;case"toggle":case"beforetoggle":Z=ac}var be=(a&4)!==0,it=!be&&(t==="scroll"||t==="scrollend"),q=be?$!==null?$+"Capture":null:$;be=[];for(var U=Y,G;U!==null;){var ee=U;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||q===null||(ee=Cr(U,q),ee!=null&&be.push(Il(U,ee,G))),it)break;U=U.return}0<be.length&&($=new Z($,we,null,s,J),te.push({event:$,listeners:be}))}}if((a&7)===0){e:{if($=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",$&&s!==za&&(we=s.relatedTarget||s.fromElement)&&(ka(we)||we[Vn]))break e;if((Z||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(we=s.relatedTarget||s.toElement,Z=Y,we=we?ka(we):null,we!==null&&(it=u(we),be=we.tag,we!==it||be!==5&&be!==27&&be!==6)&&(we=null)):(Z=null,we=Y),Z!==we)){if(be=Ln,ee="onMouseLeave",q="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(be=el,ee="onPointerLeave",q="onPointerEnter",U="pointer"),it=Z==null?$:la(Z),G=we==null?$:la(we),$=new be(ee,U+"leave",Z,s,J),$.target=it,$.relatedTarget=G,ee=null,ka(J)===Y&&(be=new be(q,U+"enter",we,s,J),be.target=G,be.relatedTarget=it,ee=be),it=ee,Z&&we)t:{for(be=Z,q=we,U=0,G=be;G;G=Js(G))U++;for(G=0,ee=q;ee;ee=Js(ee))G++;for(;0<U-G;)be=Js(be),U--;for(;0<G-U;)q=Js(q),G--;for(;U--;){if(be===q||q!==null&&be===q.alternate)break t;be=Js(be),q=Js(q)}be=null}else be=null;Z!==null&&Fv(te,$,Z,be,!1),we!==null&&it!==null&&Fv(te,it,we,be,!0)}}e:{if($=Y?la(Y):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var ye=ug;else if(Vt($))if(cg)ye=OT;else{ye=IT;var Pe=DT}else Z=$.nodeName,!Z||Z.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&$o(Y.elementType)&&(ye=ug):ye=jT;if(ye&&(ye=ye(t,Y))){Ga(te,ye,s,J);break e}Pe&&Pe(t,$,Y),t==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&xi($,"number",$.value)}switch(Pe=Y?la(Y):window,t){case"focusin":(Vt(Pe)||Pe.contentEditable==="true")&&(Cs=Pe,Nd=Y,al=null);break;case"focusout":al=Nd=Cs=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,vg(te,s,J);break;case"selectionchange":if(MT)break;case"keydown":case"keyup":vg(te,s,J)}var _e;if(pa)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Be?K(t,s)&&(Ae="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&s.locale!=="ko"&&(Be||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Be&&(_e=Zo()):(ha=J,Si="value"in ha?ha.value:ha.textContent,Be=!0)),Pe=Fc(Y,Ae),0<Pe.length&&(Ae=new Jo(Ae,t,null,s,J),te.push({event:Ae,listeners:Pe}),_e?Ae.data=_e:(_e=le(s),_e!==null&&(Ae.data=_e)))),(_e=v?Ot(t,s):qe(t,s))&&(Ae=Fc(Y,"onBeforeInput"),0<Ae.length&&(Pe=new Jo("onBeforeInput","beforeinput",null,s,J),te.push({event:Pe,listeners:Ae}),Pe.data=_e)),yb(te,t,Y,s,J)}qv(te,a)})}function Il(t,a,s){return{instance:t,listener:a,currentTarget:s}}function Fc(t,a){for(var s=a+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Cr(t,s),h!=null&&l.unshift(Il(t,h,f)),h=Cr(t,a),h!=null&&l.push(Il(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fv(t,a,s,l,h){for(var f=a._reactName,T=[];s!==null&&s!==l;){var x=s,j=x.alternate,Y=x.stateNode;if(x=x.tag,j!==null&&j===l)break;x!==5&&x!==26&&x!==27||Y===null||(j=Y,h?(Y=Cr(s,f),Y!=null&&T.unshift(Il(s,Y,j))):h||(Y=Cr(s,f),Y!=null&&T.push(Il(s,Y,j)))),s=s.return}T.length!==0&&t.push({event:a,listeners:T})}var Tb=/\r\n?/g,bb=/\u0000|\uFFFD/g;function Gv(t){return(typeof t=="string"?t:""+t).replace(Tb,`
`).replace(bb,"")}function Yv(t,a){return a=Gv(a),Gv(t)===a}function Gc(){}function at(t,a,s,l,h,f){switch(s){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&Mn(t,""+l);break;case"className":ua(t,"class",l);break;case"tabIndex":ua(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ua(t,s,l);break;case"style":Yo(t,l,f);break;case"data":if(a!=="object"){ua(t,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=_s(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(a!=="input"&&at(t,a,"name",h.name,h,null),at(t,a,"formEncType",h.formEncType,h,null),at(t,a,"formMethod",h.formMethod,h,null),at(t,a,"formTarget",h.formTarget,h,null)):(at(t,a,"encType",h.encType,h,null),at(t,a,"method",h.method,h,null),at(t,a,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=_s(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Gc);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=_s(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Ai(t,"popover",l);break;case"xlinkActuate":Yt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ai(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=bd.get(s)||s,Ai(t,s,l))}}function em(t,a,s,l,h,f){switch(s){case"style":Yo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&Mn(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ms.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),a=s.slice(2,h?s.length-7:void 0),f=t[wt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(a,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ai(t,s,l)}}}function Kt(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var T=s[f];if(T!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:at(t,a,f,T,s,null)}}h&&at(t,a,"srcSet",s.srcSet,s,null),l&&at(t,a,"src",s.src,s,null);return;case"input":Ue("invalid",t);var x=f=T=h=null,j=null,Y=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":h=J;break;case"type":T=J;break;case"checked":j=J;break;case"defaultChecked":Y=J;break;case"value":f=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:at(t,a,l,J,s,null)}}Sr(t,f,x,j,Y,T,h,!1),vs(t);return;case"select":Ue("invalid",t),l=T=f=null;for(h in s)if(s.hasOwnProperty(h)&&(x=s[h],x!=null))switch(h){case"value":f=x;break;case"defaultValue":T=x;break;case"multiple":l=x;default:at(t,a,h,x,s,null)}a=f,s=T,t.multiple=!!l,a!=null?Ua(t,!!l,a,!1):s!=null&&Ua(t,!!l,s,!0);return;case"textarea":Ue("invalid",t),f=h=l=null;for(T in s)if(s.hasOwnProperty(T)&&(x=s[T],x!=null))switch(T){case"value":l=x;break;case"defaultValue":h=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:at(t,a,T,x,s,null)}wr(t,l,h,f),vs(t);return;case"option":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,a,j,l,s,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ue(Dl[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in s)if(s.hasOwnProperty(Y)&&(l=s[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:at(t,a,Y,l,s,null)}return;default:if($o(a)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&em(t,a,J,l,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null&&at(t,a,x,l,s,null))}function Ab(t,a,s,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,T=null,x=null,j=null,Y=null,J=null;for(Z in s){var te=s[Z];if(s.hasOwnProperty(Z)&&te!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":j=te;default:l.hasOwnProperty(Z)||at(t,a,Z,null,l,te)}}for(var $ in l){var Z=l[$];if(te=s[$],l.hasOwnProperty($)&&(Z!=null||te!=null))switch($){case"type":f=Z;break;case"name":h=Z;break;case"checked":Y=Z;break;case"defaultChecked":J=Z;break;case"value":T=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:Z!==te&&at(t,a,$,Z,l,te)}}An(t,T,x,j,Y,J,f,h);return;case"select":Z=T=x=$=null;for(f in s)if(j=s[f],s.hasOwnProperty(f)&&j!=null)switch(f){case"value":break;case"multiple":Z=j;default:l.hasOwnProperty(f)||at(t,a,f,null,l,j)}for(h in l)if(f=l[h],j=s[h],l.hasOwnProperty(h)&&(f!=null||j!=null))switch(h){case"value":$=f;break;case"defaultValue":x=f;break;case"multiple":T=f;default:f!==j&&at(t,a,h,f,l,j)}a=x,s=T,l=Z,$!=null?Ua(t,!!s,$,!1):!!l!=!!s&&(a!=null?Ua(t,!!s,a,!0):Ua(t,!!s,s?[]:"",!1));return;case"textarea":Z=$=null;for(x in s)if(h=s[x],s.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:at(t,a,x,null,l,h)}for(T in l)if(h=l[T],f=s[T],l.hasOwnProperty(T)&&(h!=null||f!=null))switch(T){case"value":$=h;break;case"defaultValue":Z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&at(t,a,T,h,l,f)}tt(t,$,Z);return;case"option":for(var we in s)if($=s[we],s.hasOwnProperty(we)&&$!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:at(t,a,we,null,l,$)}for(j in l)if($=l[j],Z=s[j],l.hasOwnProperty(j)&&$!==Z&&($!=null||Z!=null))switch(j){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:at(t,a,j,$,l,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in s)$=s[be],s.hasOwnProperty(be)&&$!=null&&!l.hasOwnProperty(be)&&at(t,a,be,null,l,$);for(Y in l)if($=l[Y],Z=s[Y],l.hasOwnProperty(Y)&&$!==Z&&($!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,a));break;default:at(t,a,Y,$,l,Z)}return;default:if($o(a)){for(var it in s)$=s[it],s.hasOwnProperty(it)&&$!==void 0&&!l.hasOwnProperty(it)&&em(t,a,it,void 0,l,$);for(J in l)$=l[J],Z=s[J],!l.hasOwnProperty(J)||$===Z||$===void 0&&Z===void 0||em(t,a,J,$,l,Z);return}}for(var q in s)$=s[q],s.hasOwnProperty(q)&&$!=null&&!l.hasOwnProperty(q)&&at(t,a,q,null,l,$);for(te in l)$=l[te],Z=s[te],!l.hasOwnProperty(te)||$===Z||$==null&&Z==null||at(t,a,te,$,l,Z)}var tm=null,nm=null;function Yc(t){return t.nodeType===9?t:t.ownerDocument}function $v(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function am(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var im=null;function xb(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var Zv=typeof setTimeout=="function"?setTimeout:void 0,Sb=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,wb=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(t){return Kv.resolve(null).then(t).catch(Rb)}:Zv;function Rb(t){setTimeout(function(){throw t})}function Bi(t){return t==="head"}function Xv(t,a){var s=a,l=0,h=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var T=t.ownerDocument;if(s&1&&jl(T.documentElement),s&2&&jl(T.body),s&4)for(s=T.head,jl(s),T=s.firstChild;T;){var x=T.nextSibling,j=T.nodeName;T[Tr]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&T.rel.toLowerCase()==="stylesheet"||s.removeChild(T),T=x}}if(h===0){t.removeChild(f),zl(a);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);zl(a)}function rm(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":rm(s),bi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Cb(t,a,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Tr])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function Nb(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Wn(t.nextSibling),t===null))return null;return t}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Db(t,a){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")a();else{var l=function(){a(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var om=null;function Jv(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return t;a--}else s==="/$"&&a++}t=t.previousSibling}return null}function Wv(t,a,s){switch(a=Yc(s),t){case"html":if(t=a.documentElement,!t)throw Error(r(452));return t;case"head":if(t=a.head,!t)throw Error(r(453));return t;case"body":if(t=a.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function jl(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);bi(t)}var Gn=new Map,e_=new Set;function $c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ii=ue.d;ue.d={f:Ib,r:jb,D:Ob,C:Vb,L:Mb,m:kb,X:Lb,S:Pb,M:Ub};function Ib(){var t=ii.f(),a=Lc();return t||a}function jb(t){var a=oa(t);a!==null&&a.tag===5&&a.type==="form"?Ey(a):ii.r(t)}var Ws=typeof document>"u"?null:document;function t_(t,a,s){var l=Ws;if(l&&typeof a=="string"&&a){var h=Rt(a);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),e_.has(h)||(e_.add(h),t={rel:t,crossOrigin:s,href:a},l.querySelector(h)===null&&(a=l.createElement("link"),Kt(a,"link",t),bt(a),l.head.appendChild(a)))}}function Ob(t){ii.D(t),t_("dns-prefetch",t,null)}function Vb(t,a){ii.C(t,a),t_("preconnect",t,a)}function Mb(t,a,s){ii.L(t,a,s);var l=Ws;if(l&&t&&a){var h='link[rel="preload"][as="'+Rt(a)+'"]';a==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Rt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Rt(s.imageSizes)+'"]')):h+='[href="'+Rt(t)+'"]';var f=h;switch(a){case"style":f=eo(t);break;case"script":f=to(t)}Gn.has(f)||(t=E({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),Gn.set(f,t),l.querySelector(h)!==null||a==="style"&&l.querySelector(Ol(f))||a==="script"&&l.querySelector(Vl(f))||(a=l.createElement("link"),Kt(a,"link",t),bt(a),l.head.appendChild(a)))}}function kb(t,a){ii.m(t,a);var s=Ws;if(s&&t){var l=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+Rt(l)+'"][href="'+Rt(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=to(t)}if(!Gn.has(f)&&(t=E({rel:"modulepreload",href:t},a),Gn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Vl(f)))return}l=s.createElement("link"),Kt(l,"link",t),bt(l),s.head.appendChild(l)}}}function Pb(t,a,s){ii.S(t,a,s);var l=Ws;if(l&&t){var h=hn(l).hoistableStyles,f=eo(t);a=a||"default";var T=h.get(f);if(!T){var x={loading:0,preload:null};if(T=l.querySelector(Ol(f)))x.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":a},s),(s=Gn.get(f))&&lm(t,s);var j=T=l.createElement("link");bt(j),Kt(j,"link",t),j._p=new Promise(function(Y,J){j.onload=Y,j.onerror=J}),j.addEventListener("load",function(){x.loading|=1}),j.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Qc(T,a,l)}T={type:"stylesheet",instance:T,count:1,state:x},h.set(f,T)}}}function Lb(t,a){ii.X(t,a);var s=Ws;if(s&&t){var l=hn(s).hoistableScripts,h=to(t),f=l.get(h);f||(f=s.querySelector(Vl(h)),f||(t=E({src:t,async:!0},a),(a=Gn.get(h))&&um(t,a),f=s.createElement("script"),bt(f),Kt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ub(t,a){ii.M(t,a);var s=Ws;if(s&&t){var l=hn(s).hoistableScripts,h=to(t),f=l.get(h);f||(f=s.querySelector(Vl(h)),f||(t=E({src:t,async:!0,type:"module"},a),(a=Gn.get(h))&&um(t,a),f=s.createElement("script"),bt(f),Kt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function n_(t,a,s,l){var h=(h=Ce.current)?$c(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=eo(s.href),s=hn(h).hoistableStyles,l=s.get(a),l||(l={type:"style",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=eo(s.href);var f=hn(h).hoistableStyles,T=f.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,T),(f=h.querySelector(Ol(t)))&&!f._p&&(T.instance=f,T.state.loading=5),Gn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Gn.set(t,s),f||zb(h,t,s,T.state))),a&&l===null)throw Error(r(528,""));return T}if(a&&l!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=to(s),s=hn(h).hoistableScripts,l=s.get(a),l||(l={type:"script",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function eo(t){return'href="'+Rt(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function a_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function zb(t,a,s,l){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=t.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),Kt(a,"link",s),bt(a),t.head.appendChild(a))}function to(t){return'[src="'+Rt(t)+'"]'}function Vl(t){return"script[async]"+t}function i_(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var l=t.querySelector('style[data-href~="'+Rt(s.href)+'"]');if(l)return a.instance=l,bt(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Kt(l,"style",h),Qc(l,s.precedence,t),a.instance=l;case"stylesheet":h=eo(s.href);var f=t.querySelector(Ol(h));if(f)return a.state.loading|=4,a.instance=f,bt(f),f;l=a_(s),(h=Gn.get(h))&&lm(l,h),f=(t.ownerDocument||t).createElement("link"),bt(f);var T=f;return T._p=new Promise(function(x,j){T.onload=x,T.onerror=j}),Kt(f,"link",l),a.state.loading|=4,Qc(f,s.precedence,t),a.instance=f;case"script":return f=to(s.src),(h=t.querySelector(Vl(f)))?(a.instance=h,bt(h),h):(l=s,(h=Gn.get(f))&&(l=E({},s),um(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Kt(h,"link",l),t.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,Qc(l,s.precedence,t));return a.instance}function Qc(t,a,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,T=0;T<l.length;T++){var x=l[T];if(x.dataset.precedence===a)f=x;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function lm(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function um(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Zc=null;function r_(t,a,s){if(Zc===null){var l=new Map,h=Zc=new Map;h.set(s,l)}else h=Zc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Tr]||f[jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var T=f.getAttribute(a)||"";T=t+T;var x=l.get(T);x?x.push(f):l.set(T,[f])}}return l}function s_(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function Bb(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function o_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function qb(){}function Hb(t,a,s){if(Ml===null)throw Error(r(475));var l=Ml;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=eo(s.href),f=t.querySelector(Ol(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Kc.bind(l),t.then(l,l)),a.state.loading|=4,a.instance=f,bt(f);return}f=t.ownerDocument||t,s=a_(s),(h=Gn.get(h))&&lm(s,h),f=f.createElement("link"),bt(f);var T=f;T._p=new Promise(function(x,j){T.onload=x,T.onerror=j}),Kt(f,"link",s),a.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(l.count++,a=Kc.bind(l),t.addEventListener("load",a),t.addEventListener("error",a))}}function Fb(){if(Ml===null)throw Error(r(475));var t=Ml;return t.stylesheets&&t.count===0&&cm(t,t.stylesheets),0<t.count?function(a){var s=setTimeout(function(){if(t.stylesheets&&cm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)cm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xc=null;function cm(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xc=new Map,a.forEach(Gb,t),Xc=null,Kc.call(t))}function Gb(t,a){if(!(a.state.loading&4)){var s=Xc.get(t);if(s)var l=s.get(null);else{s=new Map,Xc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var T=h[f];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),l=T)}l&&s.set(null,l)}h=a.instance,T=h.getAttribute("data-precedence"),f=s.get(T)||l,f===l&&s.set(null,h),s.set(T,h),this.count++,l=Kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),a.state.loading|=4}}var kl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Yb(t,a,s,l,h,f,T,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.hiddenUpdates=Va(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function l_(t,a,s,l,h,f,T,x,j,Y,J,te){return t=new Yb(t,a,s,T,x,j,Y,te),a=1,f===!0&&(a|=24),f=Sn(3,null,null,a),t.current=f,f.stateNode=t,a=Fd(),a.refCount++,t.pooledCache=a,a.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:a},Qd(f),t}function u_(t){return t?(t=js,t):js}function c_(t,a,s,l,h,f){h=u_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ci(a),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ni(t,l,a),s!==null&&(Dn(s,t,a),dl(s,t,a))}function h_(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function hm(t,a){h_(t,a),(t=t.alternate)&&h_(t,a)}function d_(t){if(t.tag===13){var a=Is(t,67108864);a!==null&&Dn(a,t,67108864),hm(t,67108864)}}var Jc=!0;function $b(t,a,s,l){var h=X.T;X.T=null;var f=ue.p;try{ue.p=2,dm(t,a,s,l)}finally{ue.p=f,X.T=h}}function Qb(t,a,s,l){var h=X.T;X.T=null;var f=ue.p;try{ue.p=8,dm(t,a,s,l)}finally{ue.p=f,X.T=h}}function dm(t,a,s,l){if(Jc){var h=fm(l);if(h===null)Wf(t,a,l,Wc,s),m_(t,l);else if(Kb(h,t,a,s,l))l.stopPropagation();else if(m_(t,l),a&4&&-1<Zb.indexOf(t)){for(;h!==null;){var f=oa(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var T=Qn(f.pendingLanes);if(T!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var j=1<<31-en(T);x.entanglements[1]|=j,T&=~j}Ta(f),(We&6)===0&&(kc=On()+500,Nl(0))}}break;case 13:x=Is(f,2),x!==null&&Dn(x,f,2),Lc(),hm(f,2)}if(f=fm(l),f===null&&Wf(t,a,l,Wc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else Wf(t,a,l,null,s)}}function fm(t){return t=kn(t),mm(t)}var Wc=null;function mm(t){if(Wc=null,t=ka(t),t!==null){var a=u(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=d(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Wc=t,null}function f_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gd()){case Vo:return 2;case cs:return 8;case gr:case yd:return 32;case hs:return 268435456;default:return 32}default:return 32}}var pm=!1,qi=null,Hi=null,Fi=null,Pl=new Map,Ll=new Map,Gi=[],Zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m_(t,a){switch(t){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Pl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(a.pointerId)}}function Ul(t,a,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:a,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},a!==null&&(a=oa(a),a!==null&&d_(a)),t):(t.eventSystemFlags|=l,a=t.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),t)}function Kb(t,a,s,l,h){switch(a){case"focusin":return qi=Ul(qi,t,a,s,l,h),!0;case"dragenter":return Hi=Ul(Hi,t,a,s,l,h),!0;case"mouseover":return Fi=Ul(Fi,t,a,s,l,h),!0;case"pointerover":var f=h.pointerId;return Pl.set(f,Ul(Pl.get(f)||null,t,a,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ll.set(f,Ul(Ll.get(f)||null,t,a,s,l,h)),!0}return!1}function p_(t){var a=ka(t.target);if(a!==null){var s=u(a);if(s!==null){if(a=s.tag,a===13){if(a=d(s),a!==null){t.blockedOn=a,Lu(t.priority,function(){if(s.tag===13){var l=Nn();l=_i(l);var h=Is(s,l);h!==null&&Dn(h,s,l),hm(s,l)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=fm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);za=l,s.target.dispatchEvent(l),za=null}else return a=oa(s),a!==null&&d_(a),t.blockedOn=s,!1;a.shift()}return!0}function g_(t,a,s){eh(t)&&s.delete(a)}function Xb(){pm=!1,qi!==null&&eh(qi)&&(qi=null),Hi!==null&&eh(Hi)&&(Hi=null),Fi!==null&&eh(Fi)&&(Fi=null),Pl.forEach(g_),Ll.forEach(g_)}function th(t,a){t.blockedOn===a&&(t.blockedOn=null,pm||(pm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Xb)))}var nh=null;function y_(t){nh!==t&&(nh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nh===t&&(nh=null);for(var a=0;a<t.length;a+=3){var s=t[a],l=t[a+1],h=t[a+2];if(typeof l!="function"){if(mm(l||s)===null)continue;break}var f=oa(s);f!==null&&(t.splice(a,3),a-=3,mf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function zl(t){function a(j){return th(j,t)}qi!==null&&th(qi,t),Hi!==null&&th(Hi,t),Fi!==null&&th(Fi,t),Pl.forEach(a),Ll.forEach(a);for(var s=0;s<Gi.length;s++){var l=Gi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Gi.length&&(s=Gi[0],s.blockedOn===null);)p_(s),s.blockedOn===null&&Gi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],T=h[wt]||null;if(typeof f=="function")T||y_(s);else if(T){var x=null;if(f&&f.hasAttribute("formAction")){if(h=f,T=f[wt]||null)x=T.formAction;else if(mm(h)!==null)continue}else x=T.action;typeof x=="function"?s[l+1]=x:(s.splice(l,3),l-=3),y_(s)}}}function gm(t){this._internalRoot=t}ah.prototype.render=gm.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,l=Nn();c_(s,l,t,a,null,null)},ah.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;c_(t.current,2,null,t,null,null),Lc(),a[Vn]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var a=Ei();t={blockedOn:null,target:t,priority:a};for(var s=0;s<Gi.length&&a!==0&&a<Gi[s].priority;s++);Gi.splice(s,0,t),s===0&&p_(t)}};var v_=e.version;if(v_!=="19.1.0")throw Error(r(527,v_,"19.1.0"));ue.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(a),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Jb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{_t=ih.inject(Jb),Je=ih}catch{}}return ql.createRoot=function(t,a){if(!o(t))throw Error(r(299));var s=!1,l="",h=Vy,f=My,T=ky,x=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks)),a=l_(t,1,!1,null,null,s,l,h,f,T,x,null),t[Vn]=a.current,Jf(t),new gm(a)},ql.hydrateRoot=function(t,a,s){if(!o(t))throw Error(r(299));var l=!1,h="",f=Vy,T=My,x=ky,j=null,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(j=s.unstable_transitionCallbacks),s.formState!==void 0&&(Y=s.formState)),a=l_(t,1,!0,a,s??null,l,h,f,T,x,j,Y),a.context=u_(null),s=a.current,l=Nn(),l=_i(l),h=Ci(l),h.callback=null,Ni(s,h,l),s=l,a.current.lanes=s,Ma(a,s),Ta(a),t[Vn]=a.current,Jf(t),new ah(a)},ql.version="19.1.0",ql}var C_;function lA(){if(C_)return _m.exports;C_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_m.exports=oA(),_m.exports}var uA=lA(),Hl={},N_;function cA(){if(N_)return Hl;N_=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=d,Hl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function d(b,C){const R=new u,N=b.length;if(N<2)return R;const V=(C==null?void 0:C.decode)||E;let H=0;do{const M=b.indexOf("=",H);if(M===-1)break;const Q=b.indexOf(";",H),ie=Q===-1?N:Q;if(M>ie){H=b.lastIndexOf(";",M-1)+1;continue}const W=m(b,H,M),de=y(b,M,W),O=b.slice(W,de);if(R[O]===void 0){let w=m(b,M+1,ie),D=y(b,ie,w);const k=V(b.slice(w,D));R[O]=k}H=ie+1}while(H<N);return R}function m(b,C,R){do{const N=b.charCodeAt(C);if(N!==32&&N!==9)return C}while(++C<R);return R}function y(b,C,R){for(;C>R;){const N=b.charCodeAt(--C);if(N!==32&&N!==9)return C+1}return R}function g(b,C,R){const N=(R==null?void 0:R.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const V=N(C);if(!e.test(V))throw new TypeError(`argument val is invalid: ${C}`);let H=b+"="+V;if(!R)return H;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);H+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);H+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);H+="; Path="+R.path}if(R.expires){if(!A(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);H+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(H+="; HttpOnly"),R.secure&&(H+="; Secure"),R.partitioned&&(H+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return H}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function A(b){return o.call(b)==="[object Date]"}return Hl}cA();var D_="popstate";function hA(i={}){function e(r,o){let{pathname:u,search:d,hash:m}=r.location;return Vm("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:nu(o)}return fA(e,n,null,i)}function yt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function wa(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dA(){return Math.random().toString(36).substring(2,10)}function I_(i,e){return{usr:i.state,key:i.key,idx:e}}function Vm(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?So(e):e,state:n,key:e&&e.key||r||dA()}}function nu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function So(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function fA(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,d=o.history,m="POP",y=null,g=E();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function E(){return(d.state||{idx:null}).idx}function A(){m="POP";let V=E(),H=V==null?null:V-g;g=V,y&&y({action:m,location:N.location,delta:H})}function b(V,H){m="PUSH";let M=Vm(N.location,V,H);g=E()+1;let Q=I_(M,g),ie=N.createHref(M);try{d.pushState(Q,"",ie)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(ie)}u&&y&&y({action:m,location:N.location,delta:1})}function C(V,H){m="REPLACE";let M=Vm(N.location,V,H);g=E();let Q=I_(M,g),ie=N.createHref(M);d.replaceState(Q,"",ie),u&&y&&y({action:m,location:N.location,delta:0})}function R(V){return mA(V)}let N={get action(){return m},get location(){return i(o,d)},listen(V){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(D_,A),y=V,()=>{o.removeEventListener(D_,A),y=null}},createHref(V){return e(o,V)},createURL:R,encodeLocation(V){let H=R(V);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:b,replace:C,go(V){return d.go(V)}};return N}function mA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:nu(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function J0(i,e,n="/"){return pA(i,e,n,!1)}function pA(i,e,n,r){let o=typeof e=="string"?So(e):e,u=ci(o.pathname||"/",n);if(u==null)return null;let d=W0(i);gA(d);let m=null;for(let y=0;m==null&&y<d.length;++y){let g=RA(u);m=SA(d[y],g,r)}return m}function W0(i,e=[],n=[],r=""){let o=(u,d,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};y.relativePath.startsWith("/")&&(yt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length));let g=oi([r,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(yt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),W0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:AA(g,u.index),routesMeta:E})};return i.forEach((u,d)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,d);else for(let y of eE(u.path))o(u,d,y)}),e}function eE(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let d=eE(r.join("/")),m=[];return m.push(...d.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...d),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function gA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:xA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var yA=/^:[\w-]+$/,vA=3,_A=2,EA=1,TA=10,bA=-2,j_=i=>i==="*";function AA(i,e){let n=i.split("/"),r=n.length;return n.some(j_)&&(r+=bA),e&&(r+=_A),n.filter(o=>!j_(o)).reduce((o,u)=>o+(yA.test(u)?vA:u===""?EA:TA),r)}function xA(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function SA(i,e,n=!1){let{routesMeta:r}=i,o={},u="/",d=[];for(let m=0;m<r.length;++m){let y=r[m],g=m===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=Th({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),b=y.route;if(!A&&g&&n&&!r[r.length-1].route.index&&(A=Th({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:oi([u,A.pathname]),pathnameBase:IA(oi([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=oi([u,A.pathnameBase]))}return d}function Th(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=wA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((g,{paramName:E,isOptional:A},b)=>{if(E==="*"){let R=m[b]||"";d=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const C=m[b];return A&&!C?g[E]=void 0:g[E]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:i}}function wA(i,e=!1,n=!0){wa(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,y)=>(r.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function RA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wa(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ci(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}function CA(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?So(i):i;return{pathname:n?n.startsWith("/")?n:NA(n,e):e,search:jA(r),hash:OA(o)}}function NA(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tE(i){let e=DA(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function nE(i,e,n,r=!1){let o;typeof i=="string"?o=So(i):(o={...i},yt(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=i===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=n;else{let A=e.length-1;if(!r&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}m=A>=0?e[A]:"/"}let y=CA(o,m),g=d&&d!=="/"&&d.endsWith("/"),E=(u||d===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var oi=i=>i.join("/").replace(/\/\/+/g,"/"),IA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),jA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,OA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function VA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var aE=["POST","PUT","PATCH","DELETE"];new Set(aE);var MA=["GET",...aE];new Set(MA);var wo=z.createContext(null);wo.displayName="DataRouter";var Gh=z.createContext(null);Gh.displayName="DataRouterState";var iE=z.createContext({isTransitioning:!1});iE.displayName="ViewTransition";var kA=z.createContext(new Map);kA.displayName="Fetchers";var PA=z.createContext(null);PA.displayName="Await";var Ia=z.createContext(null);Ia.displayName="Navigation";var wu=z.createContext(null);wu.displayName="Location";var yi=z.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var dp=z.createContext(null);dp.displayName="RouteError";function LA(i,{relative:e}={}){yt(Ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(Ia),{hash:o,pathname:u,search:d}=Cu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:oi([n,u])),r.createHref({pathname:m,search:d,hash:o})}function Ru(){return z.useContext(wu)!=null}function ur(){return yt(Ru(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(wu).location}var rE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sE(i){z.useContext(Ia).static||z.useLayoutEffect(i)}function os(){let{isDataRoute:i}=z.useContext(yi);return i?XA():UA()}function UA(){yt(Ru(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(wo),{basename:e,navigator:n}=z.useContext(Ia),{matches:r}=z.useContext(yi),{pathname:o}=ur(),u=JSON.stringify(tE(r)),d=z.useRef(!1);return sE(()=>{d.current=!0}),z.useCallback((y,g={})=>{if(wa(d.current,rE),!d.current)return;if(typeof y=="number"){n.go(y);return}let E=nE(y,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:oi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}z.createContext(null);function Cu(i,{relative:e}={}){let{matches:n}=z.useContext(yi),{pathname:r}=ur(),o=JSON.stringify(tE(n));return z.useMemo(()=>nE(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function zA(i,e){return oE(i,e)}function oE(i,e,n,r){var H;yt(Ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(Ia),{matches:u}=z.useContext(yi),d=u[u.length-1],m=d?d.params:{},y=d?d.pathname:"/",g=d?d.pathnameBase:"/",E=d&&d.route;{let M=E&&E.path||"";lE(y,!E||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let A=ur(),b;if(e){let M=typeof e=="string"?So(e):e;yt(g==="/"||((H=M.pathname)==null?void 0:H.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),b=M}else b=A;let C=b.pathname||"/",R=C;if(g!=="/"){let M=g.replace(/^\//,"").split("/");R="/"+C.replace(/^\//,"").split("/").slice(M.length).join("/")}let N=J0(i,{pathname:R});wa(E||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),wa(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=GA(N&&N.map(M=>Object.assign({},M,{params:Object.assign({},m,M.params),pathname:oi([g,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:oi([g,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),u,n,r);return e&&V?z.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},V):V}function BA(){let i=KA(),e=VA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,d)}var qA=z.createElement(BA,null),HA=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?z.createElement(yi.Provider,{value:this.props.routeContext},z.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FA({routeContext:i,match:e,children:n}){let r=z.useContext(wo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(yi.Provider,{value:i},n)}function GA(i,e=[],n=null,r=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let y=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);yt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let d=!1,m=-1;if(n)for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:E,errors:A}=n,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||b){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((y,g,E)=>{let A,b=!1,C=null,R=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,C=g.route.errorElement||qA,d&&(m<0&&E===0?(lE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,R=null):m===E&&(b=!0,R=g.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,E+1)),V=()=>{let H;return A?H=C:b?H=R:g.route.Component?H=z.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=y,z.createElement(FA,{match:g,routeContext:{outlet:y,matches:N,isDataRoute:n!=null},children:H})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?z.createElement(HA,{location:n.location,revalidation:n.revalidation,component:C,error:A,children:V(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):V()},null)}function fp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YA(i){let e=z.useContext(wo);return yt(e,fp(i)),e}function $A(i){let e=z.useContext(Gh);return yt(e,fp(i)),e}function QA(i){let e=z.useContext(yi);return yt(e,fp(i)),e}function mp(i){let e=QA(i),n=e.matches[e.matches.length-1];return yt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function ZA(){return mp("useRouteId")}function KA(){var r;let i=z.useContext(dp),e=$A("useRouteError"),n=mp("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[n]}function XA(){let{router:i}=YA("useNavigate"),e=mp("useNavigate"),n=z.useRef(!1);return sE(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{wa(n.current,rE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var O_={};function lE(i,e,n){!e&&!O_[i]&&(O_[i]=!0,wa(!1,n))}z.memo(JA);function JA({routes:i,future:e,state:n}){return oE(i,void 0,n,e)}function Kr(i){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WA({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){yt(!Ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=So(n));let{pathname:y="/",search:g="",hash:E="",state:A=null,key:b="default"}=n,C=z.useMemo(()=>{let R=ci(y,d);return R==null?null:{location:{pathname:R,search:g,hash:E,state:A,key:b},navigationType:r}},[d,y,g,E,A,b,r]);return wa(C!=null,`<Router basename="${d}"> is not able to match the URL "${y}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:z.createElement(Ia.Provider,{value:m},z.createElement(wu.Provider,{children:e,value:C}))}function ex({children:i,location:e}){return zA(Mm(i),e)}function Mm(i,e=[]){let n=[];return z.Children.forEach(i,(r,o)=>{if(!z.isValidElement(r))return;let u=[...e,o];if(r.type===z.Fragment){n.push.apply(n,Mm(r.props.children,u));return}yt(r.type===Kr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Mm(r.props.children,u)),n.push(d)}),n}var dh="get",fh="application/x-www-form-urlencoded";function Yh(i){return i!=null&&typeof i.tagName=="string"}function tx(i){return Yh(i)&&i.tagName.toLowerCase()==="button"}function nx(i){return Yh(i)&&i.tagName.toLowerCase()==="form"}function ax(i){return Yh(i)&&i.tagName.toLowerCase()==="input"}function ix(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function rx(i,e){return i.button===0&&(!e||e==="_self")&&!ix(i)}var rh=null;function sx(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var ox=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(i){return i!=null&&!ox.has(i)?(wa(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):i}function lx(i,e){let n,r,o,u,d;if(nx(i)){let m=i.getAttribute("action");r=m?ci(m,e):null,n=i.getAttribute("method")||dh,o=xm(i.getAttribute("enctype"))||fh,u=new FormData(i)}else if(tx(i)||ax(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||m.getAttribute("action");if(r=y?ci(y,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||dh,o=xm(i.getAttribute("formenctype"))||xm(m.getAttribute("enctype"))||fh,u=new FormData(m,i),!sx()){let{name:g,type:E,value:A}=i;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,A)}}else{if(Yh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,r=null,o=fh,d=i}return u&&o==="text/plain"&&(d=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:d}}function pp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function ux(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cx(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function hx(i,e,n){let r=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await ux(u,n);return d.links?d.links():[]}return[]}));return px(r.flat(1).filter(cx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function V_(i,e,n,r,o,u){let d=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,m=(y,g)=>{var E;return n[g].pathname!==y.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==y.params["*"]};return u==="assets"?e.filter((y,g)=>d(y,g)||m(y,g)):u==="data"?e.filter((y,g)=>{var A;let E=r.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(d(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let b=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function dx(i,e,{includeHydrateFallback:n}={}){return fx(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function fx(i){return[...new Set(i)]}function mx(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function px(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let u=JSON.stringify(mx(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gx=new Set([100,101,204,205]);function yx(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&ci(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function uE(){let i=z.useContext(wo);return pp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function vx(){let i=z.useContext(Gh);return pp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var gp=z.createContext(void 0);gp.displayName="FrameworkContext";function cE(){let i=z.useContext(gp);return pp(i,"You must render this element inside a <HydratedRouter> element"),i}function _x(i,e){let n=z.useContext(gp),[r,o]=z.useState(!1),[u,d]=z.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,b=z.useRef(null);z.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let N=H=>{H.forEach(M=>{d(M.isIntersecting)})},V=new IntersectionObserver(N,{threshold:.5});return b.current&&V.observe(b.current),()=>{V.disconnect()}}},[i]),z.useEffect(()=>{if(r){let N=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(N)}}},[r]);let C=()=>{o(!0)},R=()=>{o(!1),d(!1)};return n?i!=="intent"?[u,b,{}]:[u,b,{onFocus:Fl(m,C),onBlur:Fl(y,R),onMouseEnter:Fl(g,C),onMouseLeave:Fl(E,R),onTouchStart:Fl(A,C)}]:[!1,b,{}]}function Fl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Ex({page:i,...e}){let{router:n}=uE(),r=z.useMemo(()=>J0(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?z.createElement(bx,{page:i,matches:r,...e}):null}function Tx(i){let{manifest:e,routeModules:n}=cE(),[r,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return hx(i,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[i,e,n]),r}function bx({page:i,matches:e,...n}){let r=ur(),{manifest:o,routeModules:u}=cE(),{basename:d}=uE(),{loaderData:m,matches:y}=vx(),g=z.useMemo(()=>V_(i,e,y,o,r,"data"),[i,e,y,o,r]),E=z.useMemo(()=>V_(i,e,y,o,r,"assets"),[i,e,y,o,r]),A=z.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let R=new Set,N=!1;if(e.forEach(H=>{var Q;let M=o.routes[H.route.id];!M||!M.hasLoader||(!g.some(ie=>ie.route.id===H.route.id)&&H.route.id in m&&((Q=u[H.route.id])!=null&&Q.shouldRevalidate)||M.hasClientLoader?N=!0:R.add(H.route.id))}),R.size===0)return[];let V=yx(i,d);return N&&R.size>0&&V.searchParams.set("_routes",e.filter(H=>R.has(H.route.id)).map(H=>H.route.id).join(",")),[V.pathname+V.search]},[d,m,r,o,g,e,i,u]),b=z.useMemo(()=>dx(E,o),[E,o]),C=Tx(E);return z.createElement(z.Fragment,null,A.map(R=>z.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),b.map(R=>z.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),C.map(({key:R,link:N})=>z.createElement("link",{key:R,...N})))}function Ax(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hE&&(window.__reactRouterVersion="7.6.3")}catch{}function xx({basename:i,children:e,window:n}){let r=z.useRef();r.current==null&&(r.current=hA({window:n,v5Compat:!0}));let o=r.current,[u,d]=z.useState({action:o.action,location:o.location}),m=z.useCallback(y=>{z.startTransition(()=>d(y))},[d]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(WA,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var dE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fE=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:d,state:m,target:y,to:g,preventScrollReset:E,viewTransition:A,...b},C){let{basename:R}=z.useContext(Ia),N=typeof g=="string"&&dE.test(g),V,H=!1;if(typeof g=="string"&&N&&(V=g,hE))try{let D=new URL(window.location.href),k=g.startsWith("//")?new URL(D.protocol+g):new URL(g),B=ci(k.pathname,R);k.origin===D.origin&&B!=null?g=B+k.search+k.hash:H=!0}catch{wa(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=LA(g,{relative:o}),[Q,ie,W]=_x(r,b),de=Cx(g,{replace:d,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:A});function O(D){e&&e(D),D.defaultPrevented||de(D)}let w=z.createElement("a",{...b,...W,href:V||M,onClick:H||u?e:O,ref:Ax(C,ie),target:y,"data-discover":!N&&n==="render"?"true":void 0});return Q&&!N?z.createElement(z.Fragment,null,w,z.createElement(Ex,{page:M})):w});fE.displayName="Link";var Sx=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:d,viewTransition:m,children:y,...g},E){let A=Cu(d,{relative:g.relative}),b=ur(),C=z.useContext(Gh),{navigator:R,basename:N}=z.useContext(Ia),V=C!=null&&Ox(A)&&m===!0,H=R.encodeLocation?R.encodeLocation(A).pathname:A.pathname,M=b.pathname,Q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(M=M.toLowerCase(),Q=Q?Q.toLowerCase():null,H=H.toLowerCase()),Q&&N&&(Q=ci(Q,N)||Q);const ie=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let W=M===H||!o&&M.startsWith(H)&&M.charAt(ie)==="/",de=Q!=null&&(Q===H||!o&&Q.startsWith(H)&&Q.charAt(H.length)==="/"),O={isActive:W,isPending:de,isTransitioning:V},w=W?e:void 0,D;typeof r=="function"?D=r(O):D=[r,W?"active":null,de?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(O):u;return z.createElement(fE,{...g,"aria-current":w,className:D,ref:E,style:k,to:d,viewTransition:m},typeof y=="function"?y(O):y)});Sx.displayName="NavLink";var wx=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:d=dh,action:m,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:A,...b},C)=>{let R=Ix(),N=jx(m,{relative:g}),V=d.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&dE.test(m),M=Q=>{if(y&&y(Q),Q.defaultPrevented)return;Q.preventDefault();let ie=Q.nativeEvent.submitter,W=(ie==null?void 0:ie.getAttribute("formmethod"))||d;R(ie||Q.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return z.createElement("form",{ref:C,method:V,action:N,onSubmit:r?y:M,...b,"data-discover":!H&&i==="render"?"true":void 0})});wx.displayName="Form";function Rx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mE(i){let e=z.useContext(wo);return yt(e,Rx(i)),e}function Cx(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:d}={}){let m=os(),y=ur(),g=Cu(i,{relative:u});return z.useCallback(E=>{if(rx(E,e)){E.preventDefault();let A=n!==void 0?n:nu(y)===nu(g);m(i,{replace:A,state:r,preventScrollReset:o,relative:u,viewTransition:d})}},[y,m,g,n,r,e,i,o,u,d])}var Nx=0,Dx=()=>`__${String(++Nx)}__`;function Ix(){let{router:i}=mE("useSubmit"),{basename:e}=z.useContext(Ia),n=ZA();return z.useCallback(async(r,o={})=>{let{action:u,method:d,encType:m,formData:y,body:g}=lx(r,e);if(o.navigate===!1){let E=o.fetcherKey||Dx();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function jx(i,{relative:e}={}){let{basename:n}=z.useContext(Ia),r=z.useContext(yi);yt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Cu(i||".",{relative:e})},d=ur();if(i==null){u.search=d.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:oi([n,u.pathname])),nu(u)}function Ox(i,e={}){let n=z.useContext(iE);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mE("useViewTransitionState"),o=Cu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ci(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=ci(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Th(o.pathname,d)!=null||Th(o.pathname,u)!=null}[...gx];var sn=(i=>(i.ADMIN="admin",i.COMPANY_USER="company_user",i))(sn||{});const Vx=()=>{};var M_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Mx=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],d=i[n++],m=i[n++],y=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=i[n++],d=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,m=d?i[o+1]:0,y=o+2<i.length,g=y?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,C=g&63;y||(C=64,d||(b=64)),r.push(n[E],n[A],n[b],n[C])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(pE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Mx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new kx;const b=u<<2|m>>4;if(r.push(b),g!==64){const C=m<<4&240|g>>2;if(r.push(C),A!==64){const R=g<<6&192|A;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Px=function(i){const e=pE(i);return gE.encodeByteArray(e,!0)},bh=function(i){return Px(i).replace(/\./g,"")},Lx=function(i){try{return gE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=()=>Ux().__FIREBASE_DEFAULTS__,Bx=()=>{if(typeof process>"u"||typeof M_>"u")return;const i=M_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},qx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Lx(i[1]);return e&&JSON.parse(e)},yp=()=>{try{return Vx()||zx()||Bx()||qx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Hx=i=>{var e,n;return(n=(e=yp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Fx=i=>{const e=Hx(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yE=()=>{var i;return(i=yp())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(i){return i.endsWith(".cloudworkstations.dev")}async function Yx(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[bh(JSON.stringify(n)),bh(JSON.stringify(d)),""].join(".")}const Xl={};function Qx(){const i={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?i.emulator.push(e):i.prod.push(e);return i}function Zx(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let k_=!1;function Kx(i,e){if(typeof window>"u"||typeof document>"u"||!vp(window.location.host)||Xl[i]===e||Xl[i]||k_)return;Xl[i]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=Qx().prod.length>0;function d(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function y(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{k_=!0,d()},b}function E(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=Zx(r),C=n("text"),R=document.getElementById(C)||document.createElement("span"),N=n("learnmore"),V=document.getElementById(N)||document.createElement("a"),H=n("preprendIcon"),M=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Q=b.element;m(Q),E(V,N);const ie=g();y(M,H),Q.append(M,R,V,ie),document.body.appendChild(Q)}u?(R.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jx(){var i;const e=(i=yp())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wx(){return!Jx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eS(){try{return typeof indexedDB=="object"}catch{return!1}}function tS(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="FirebaseError";class Ro extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nS,Object.setPrototypeOf(this,Ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vE.prototype.create)}}class vE{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?aS(u,r):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Ro(o,m,r)}}function aS(i,e){return i.replace(iS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const iS=/\{\$([^}]+)}/g;function Ah(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=i[o],d=e[o];if(P_(u)&&P_(d)){if(!Ah(u,d))return!1}else if(u!==d)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function P_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(i){return i&&i._delegate?i._delegate:i}class au{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oS(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&d.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(i){return i===Xr?void 0:i}function oS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ge||(Ge={}));const uS={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},cS=Ge.INFO,hS={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},dS=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=hS[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _E{constructor(e){this.name=e,this._logLevel=cS,this._logHandler=dS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const fS=(i,e)=>e.some(n=>i instanceof n);let L_,U_;function mS(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pS(){return U_||(U_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EE=new WeakMap,km=new WeakMap,TE=new WeakMap,Sm=new WeakMap,_p=new WeakMap;function gS(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(Zi(i.result)),o()},d=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&EE.set(n,i)}).catch(()=>{}),_p.set(e,i),e}function yS(i){if(km.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});km.set(i,e)}let Pm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return km.get(i);if(e==="objectStoreNames")return i.objectStoreNames||TE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function vS(i){Pm=i(Pm)}function _S(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(wm(this),e,...n);return TE.set(r,e.sort?e.sort():[e]),Zi(r)}:pS().includes(i)?function(...e){return i.apply(wm(this),e),Zi(EE.get(this))}:function(...e){return Zi(i.apply(wm(this),e))}}function ES(i){return typeof i=="function"?_S(i):(i instanceof IDBTransaction&&yS(i),fS(i,mS())?new Proxy(i,Pm):i)}function Zi(i){if(i instanceof IDBRequest)return gS(i);if(Sm.has(i))return Sm.get(i);const e=ES(i);return e!==i&&(Sm.set(i,e),_p.set(e,i)),e}const wm=i=>_p.get(i);function TS(i,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),m=Zi(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Zi(d.result),y.oldVersion,y.newVersion,Zi(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const bS=["get","getKey","getAll","getAllKeys","count"],AS=["put","add","delete","clear"],Rm=new Map;function z_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=AS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||bS.includes(n)))return;const u=async function(d,...m){const y=this.transaction(d,o?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return Rm.set(e,u),u}vS(i=>({...i,get:(e,n,r)=>z_(e,n)||i.get(e,n,r),has:(e,n)=>!!z_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SS(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lm="@firebase/app",B_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new _E("@firebase/app"),wS="@firebase/app-compat",RS="@firebase/analytics-compat",CS="@firebase/analytics",NS="@firebase/app-check-compat",DS="@firebase/app-check",IS="@firebase/auth",jS="@firebase/auth-compat",OS="@firebase/database",VS="@firebase/data-connect",MS="@firebase/database-compat",kS="@firebase/functions",PS="@firebase/functions-compat",LS="@firebase/installations",US="@firebase/installations-compat",zS="@firebase/messaging",BS="@firebase/messaging-compat",qS="@firebase/performance",HS="@firebase/performance-compat",FS="@firebase/remote-config",GS="@firebase/remote-config-compat",YS="@firebase/storage",$S="@firebase/storage-compat",QS="@firebase/firestore",ZS="@firebase/ai",KS="@firebase/firestore-compat",XS="firebase",JS="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="[DEFAULT]",WS={[Lm]:"fire-core",[wS]:"fire-core-compat",[CS]:"fire-analytics",[RS]:"fire-analytics-compat",[DS]:"fire-app-check",[NS]:"fire-app-check-compat",[IS]:"fire-auth",[jS]:"fire-auth-compat",[OS]:"fire-rtdb",[VS]:"fire-data-connect",[MS]:"fire-rtdb-compat",[kS]:"fire-fn",[PS]:"fire-fn-compat",[LS]:"fire-iid",[US]:"fire-iid-compat",[zS]:"fire-fcm",[BS]:"fire-fcm-compat",[qS]:"fire-perf",[HS]:"fire-perf-compat",[FS]:"fire-rc",[GS]:"fire-rc-compat",[YS]:"fire-gcs",[$S]:"fire-gcs-compat",[QS]:"fire-fst",[KS]:"fire-fst-compat",[ZS]:"fire-vertex","fire-js":"fire-js",[XS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,ew=new Map,zm=new Map;function q_(i,e){try{i.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Sh(i){const e=i.name;if(zm.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,i);for(const n of xh.values())q_(n,i);for(const n of ew.values())q_(n,i);return!0}function tw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function nw(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new vE("app","Firebase",aw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new au("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=JS;function bE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Um,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw Ki.create("bad-app-name",{appName:String(o)});if(n||(n=yE()),!n)throw Ki.create("no-options");const u=xh.get(o);if(u){if(Ah(n,u.options)&&Ah(r,u.config))return u;throw Ki.create("duplicate-app",{appName:o})}const d=new lS(o);for(const y of zm.values())d.addComponent(y);const m=new iw(n,r,d);return xh.set(o,m),m}function sw(i=Um){const e=xh.get(i);if(!e&&i===Um&&yE())return bE();if(!e)throw Ki.create("no-app",{appName:i});return e}function lo(i,e,n){var r;let o=(r=WS[i])!==null&&r!==void 0?r:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(m.join(" "));return}Sh(new au(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="firebase-heartbeat-database",lw=1,iu="firebase-heartbeat-store";let Cm=null;function AE(){return Cm||(Cm=TS(ow,lw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ki.create("idb-open",{originalErrorMessage:i.message})})),Cm}async function uw(i){try{const n=(await AE()).transaction(iu),r=await n.objectStore(iu).get(xE(i));return await n.done,r}catch(e){if(e instanceof Ro)hi.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(n.message)}}}async function H_(i,e){try{const r=(await AE()).transaction(iu,"readwrite");await r.objectStore(iu).put(e,xE(i)),await r.done}catch(n){if(n instanceof Ro)hi.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(r.message)}}}function xE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=1024,hw=30;class dw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=F_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>hw){const d=pw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=F_(),{heartbeatsToSend:r,unsentEntries:o}=fw(this._heartbeatsCache.heartbeats),u=bh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return hi.warn(n),""}}}function F_(){return new Date().toISOString().substring(0,10)}function fw(i,e=cw){const n=[];let r=i.slice();for(const o of i){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),G_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),G_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eS()?tS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return H_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return H_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function G_(i){return bh(JSON.stringify({version:2,heartbeats:i})).length}function pw(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(i){Sh(new au("platform-logger",e=>new xS(e),"PRIVATE")),Sh(new au("heartbeat",e=>new dw(e),"PRIVATE")),lo(Lm,B_,i),lo(Lm,B_,"esm2017"),lo("fire-js","")}gw("");var yw="firebase",vw="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lo(yw,vw,"app");var Y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,SE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,w){function D(){}D.prototype=w.prototype,O.D=w.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(k,B,P){for(var I=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)I[mt-2]=arguments[mt];return w.prototype[B].apply(k,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,w,D){D||(D=0);var k=Array(16);if(typeof w=="string")for(var B=0;16>B;++B)k[B]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(B=0;16>B;++B)k[B]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=O.g[0],D=O.g[1],B=O.g[2];var P=O.g[3],I=w+(P^D&(B^P))+k[0]+3614090360&4294967295;w=D+(I<<7&4294967295|I>>>25),I=P+(B^w&(D^B))+k[1]+3905402710&4294967295,P=w+(I<<12&4294967295|I>>>20),I=B+(D^P&(w^D))+k[2]+606105819&4294967295,B=P+(I<<17&4294967295|I>>>15),I=D+(w^B&(P^w))+k[3]+3250441966&4294967295,D=B+(I<<22&4294967295|I>>>10),I=w+(P^D&(B^P))+k[4]+4118548399&4294967295,w=D+(I<<7&4294967295|I>>>25),I=P+(B^w&(D^B))+k[5]+1200080426&4294967295,P=w+(I<<12&4294967295|I>>>20),I=B+(D^P&(w^D))+k[6]+2821735955&4294967295,B=P+(I<<17&4294967295|I>>>15),I=D+(w^B&(P^w))+k[7]+4249261313&4294967295,D=B+(I<<22&4294967295|I>>>10),I=w+(P^D&(B^P))+k[8]+1770035416&4294967295,w=D+(I<<7&4294967295|I>>>25),I=P+(B^w&(D^B))+k[9]+2336552879&4294967295,P=w+(I<<12&4294967295|I>>>20),I=B+(D^P&(w^D))+k[10]+4294925233&4294967295,B=P+(I<<17&4294967295|I>>>15),I=D+(w^B&(P^w))+k[11]+2304563134&4294967295,D=B+(I<<22&4294967295|I>>>10),I=w+(P^D&(B^P))+k[12]+1804603682&4294967295,w=D+(I<<7&4294967295|I>>>25),I=P+(B^w&(D^B))+k[13]+4254626195&4294967295,P=w+(I<<12&4294967295|I>>>20),I=B+(D^P&(w^D))+k[14]+2792965006&4294967295,B=P+(I<<17&4294967295|I>>>15),I=D+(w^B&(P^w))+k[15]+1236535329&4294967295,D=B+(I<<22&4294967295|I>>>10),I=w+(B^P&(D^B))+k[1]+4129170786&4294967295,w=D+(I<<5&4294967295|I>>>27),I=P+(D^B&(w^D))+k[6]+3225465664&4294967295,P=w+(I<<9&4294967295|I>>>23),I=B+(w^D&(P^w))+k[11]+643717713&4294967295,B=P+(I<<14&4294967295|I>>>18),I=D+(P^w&(B^P))+k[0]+3921069994&4294967295,D=B+(I<<20&4294967295|I>>>12),I=w+(B^P&(D^B))+k[5]+3593408605&4294967295,w=D+(I<<5&4294967295|I>>>27),I=P+(D^B&(w^D))+k[10]+38016083&4294967295,P=w+(I<<9&4294967295|I>>>23),I=B+(w^D&(P^w))+k[15]+3634488961&4294967295,B=P+(I<<14&4294967295|I>>>18),I=D+(P^w&(B^P))+k[4]+3889429448&4294967295,D=B+(I<<20&4294967295|I>>>12),I=w+(B^P&(D^B))+k[9]+568446438&4294967295,w=D+(I<<5&4294967295|I>>>27),I=P+(D^B&(w^D))+k[14]+3275163606&4294967295,P=w+(I<<9&4294967295|I>>>23),I=B+(w^D&(P^w))+k[3]+4107603335&4294967295,B=P+(I<<14&4294967295|I>>>18),I=D+(P^w&(B^P))+k[8]+1163531501&4294967295,D=B+(I<<20&4294967295|I>>>12),I=w+(B^P&(D^B))+k[13]+2850285829&4294967295,w=D+(I<<5&4294967295|I>>>27),I=P+(D^B&(w^D))+k[2]+4243563512&4294967295,P=w+(I<<9&4294967295|I>>>23),I=B+(w^D&(P^w))+k[7]+1735328473&4294967295,B=P+(I<<14&4294967295|I>>>18),I=D+(P^w&(B^P))+k[12]+2368359562&4294967295,D=B+(I<<20&4294967295|I>>>12),I=w+(D^B^P)+k[5]+4294588738&4294967295,w=D+(I<<4&4294967295|I>>>28),I=P+(w^D^B)+k[8]+2272392833&4294967295,P=w+(I<<11&4294967295|I>>>21),I=B+(P^w^D)+k[11]+1839030562&4294967295,B=P+(I<<16&4294967295|I>>>16),I=D+(B^P^w)+k[14]+4259657740&4294967295,D=B+(I<<23&4294967295|I>>>9),I=w+(D^B^P)+k[1]+2763975236&4294967295,w=D+(I<<4&4294967295|I>>>28),I=P+(w^D^B)+k[4]+1272893353&4294967295,P=w+(I<<11&4294967295|I>>>21),I=B+(P^w^D)+k[7]+4139469664&4294967295,B=P+(I<<16&4294967295|I>>>16),I=D+(B^P^w)+k[10]+3200236656&4294967295,D=B+(I<<23&4294967295|I>>>9),I=w+(D^B^P)+k[13]+681279174&4294967295,w=D+(I<<4&4294967295|I>>>28),I=P+(w^D^B)+k[0]+3936430074&4294967295,P=w+(I<<11&4294967295|I>>>21),I=B+(P^w^D)+k[3]+3572445317&4294967295,B=P+(I<<16&4294967295|I>>>16),I=D+(B^P^w)+k[6]+76029189&4294967295,D=B+(I<<23&4294967295|I>>>9),I=w+(D^B^P)+k[9]+3654602809&4294967295,w=D+(I<<4&4294967295|I>>>28),I=P+(w^D^B)+k[12]+3873151461&4294967295,P=w+(I<<11&4294967295|I>>>21),I=B+(P^w^D)+k[15]+530742520&4294967295,B=P+(I<<16&4294967295|I>>>16),I=D+(B^P^w)+k[2]+3299628645&4294967295,D=B+(I<<23&4294967295|I>>>9),I=w+(B^(D|~P))+k[0]+4096336452&4294967295,w=D+(I<<6&4294967295|I>>>26),I=P+(D^(w|~B))+k[7]+1126891415&4294967295,P=w+(I<<10&4294967295|I>>>22),I=B+(w^(P|~D))+k[14]+2878612391&4294967295,B=P+(I<<15&4294967295|I>>>17),I=D+(P^(B|~w))+k[5]+4237533241&4294967295,D=B+(I<<21&4294967295|I>>>11),I=w+(B^(D|~P))+k[12]+1700485571&4294967295,w=D+(I<<6&4294967295|I>>>26),I=P+(D^(w|~B))+k[3]+2399980690&4294967295,P=w+(I<<10&4294967295|I>>>22),I=B+(w^(P|~D))+k[10]+4293915773&4294967295,B=P+(I<<15&4294967295|I>>>17),I=D+(P^(B|~w))+k[1]+2240044497&4294967295,D=B+(I<<21&4294967295|I>>>11),I=w+(B^(D|~P))+k[8]+1873313359&4294967295,w=D+(I<<6&4294967295|I>>>26),I=P+(D^(w|~B))+k[15]+4264355552&4294967295,P=w+(I<<10&4294967295|I>>>22),I=B+(w^(P|~D))+k[6]+2734768916&4294967295,B=P+(I<<15&4294967295|I>>>17),I=D+(P^(B|~w))+k[13]+1309151649&4294967295,D=B+(I<<21&4294967295|I>>>11),I=w+(B^(D|~P))+k[4]+4149444226&4294967295,w=D+(I<<6&4294967295|I>>>26),I=P+(D^(w|~B))+k[11]+3174756917&4294967295,P=w+(I<<10&4294967295|I>>>22),I=B+(w^(P|~D))+k[2]+718787259&4294967295,B=P+(I<<15&4294967295|I>>>17),I=D+(P^(B|~w))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(B+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+B&4294967295,O.g[3]=O.g[3]+P&4294967295}r.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var D=w-this.blockSize,k=this.B,B=this.h,P=0;P<w;){if(B==0)for(;P<=D;)o(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<w;)if(k[B++]=O.charCodeAt(P++),B==this.blockSize){o(this,k),B=0;break}}else for(;P<w;)if(k[B++]=O[P++],B==this.blockSize){o(this,k),B=0;break}}this.h=B,this.o+=w},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var D=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=D&255,D/=256;for(this.u(O),O=Array(16),w=D=0;4>w;++w)for(var k=0;32>k;k+=8)O[D++]=this.g[w]>>>k&255;return O};function u(O,w){var D=m;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=w(O)}function d(O,w){this.h=w;for(var D=[],k=!0,B=O.length-1;0<=B;B--){var P=O[B]|0;k&&P==w||(D[B]=P,k=!1)}this.g=D}var m={};function y(O){return-128<=O&&128>O?u(O,function(w){return new d([w|0],0>w?-1:0)}):new d([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return V(g(-O));for(var w=[],D=1,k=0;O>=D;k++)w[k]=O/D|0,D*=4294967296;return new d(w,0)}function E(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return V(E(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(w,8)),k=A,B=0;B<O.length;B+=8){var P=Math.min(8,O.length-B),I=parseInt(O.substring(B,B+P),w);8>P?(P=g(Math.pow(w,P)),k=k.j(P).add(g(I))):(k=k.j(D),k=k.add(g(I)))}return k}var A=y(0),b=y(1),C=y(16777216);i=d.prototype,i.m=function(){if(N(this))return-V(this).m();for(var O=0,w=1,D=0;D<this.g.length;D++){var k=this.i(D);O+=(0<=k?k:4294967296+k)*w,w*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(R(this))return"0";if(N(this))return"-"+V(this).toString(O);for(var w=g(Math.pow(O,6)),D=this,k="";;){var B=ie(D,w).g;D=H(D,B.j(w));var P=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=B,R(D))return P+k;for(;6>P.length;)P="0"+P;k=P+k}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function R(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function N(O){return O.h==-1}i.l=function(O){return O=H(this,O),N(O)?-1:R(O)?0:1};function V(O){for(var w=O.g.length,D=[],k=0;k<w;k++)D[k]=~O.g[k];return new d(D,~O.h).add(b)}i.abs=function(){return N(this)?V(this):this},i.add=function(O){for(var w=Math.max(this.g.length,O.g.length),D=[],k=0,B=0;B<=w;B++){var P=k+(this.i(B)&65535)+(O.i(B)&65535),I=(P>>>16)+(this.i(B)>>>16)+(O.i(B)>>>16);k=I>>>16,P&=65535,I&=65535,D[B]=I<<16|P}return new d(D,D[D.length-1]&-2147483648?-1:0)};function H(O,w){return O.add(V(w))}i.j=function(O){if(R(this)||R(O))return A;if(N(this))return N(O)?V(this).j(V(O)):V(V(this).j(O));if(N(O))return V(this.j(V(O)));if(0>this.l(C)&&0>O.l(C))return g(this.m()*O.m());for(var w=this.g.length+O.g.length,D=[],k=0;k<2*w;k++)D[k]=0;for(k=0;k<this.g.length;k++)for(var B=0;B<O.g.length;B++){var P=this.i(k)>>>16,I=this.i(k)&65535,mt=O.i(B)>>>16,rt=O.i(B)&65535;D[2*k+2*B]+=I*rt,M(D,2*k+2*B),D[2*k+2*B+1]+=P*rt,M(D,2*k+2*B+1),D[2*k+2*B+1]+=I*mt,M(D,2*k+2*B+1),D[2*k+2*B+2]+=P*mt,M(D,2*k+2*B+2)}for(k=0;k<w;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=w;k<2*w;k++)D[k]=0;return new d(D,0)};function M(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function Q(O,w){this.g=O,this.h=w}function ie(O,w){if(R(w))throw Error("division by zero");if(R(O))return new Q(A,A);if(N(O))return w=ie(V(O),w),new Q(V(w.g),V(w.h));if(N(w))return w=ie(O,V(w)),new Q(V(w.g),w.h);if(30<O.g.length){if(N(O)||N(w))throw Error("slowDivide_ only works with positive integers.");for(var D=b,k=w;0>=k.l(O);)D=W(D),k=W(k);var B=de(D,1),P=de(k,1);for(k=de(k,2),D=de(D,2);!R(k);){var I=P.add(k);0>=I.l(O)&&(B=B.add(D),P=I),k=de(k,1),D=de(D,1)}return w=H(O,B.j(w)),new Q(B,w)}for(B=A;0<=O.l(w);){for(D=Math.max(1,Math.floor(O.m()/w.m())),k=Math.ceil(Math.log(D)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),P=g(D),I=P.j(w);N(I)||0<I.l(O);)D-=k,P=g(D),I=P.j(w);R(P)&&(P=b),B=B.add(P),O=H(O,I)}return new Q(B,O)}i.A=function(O){return ie(this,O).h},i.and=function(O){for(var w=Math.max(this.g.length,O.g.length),D=[],k=0;k<w;k++)D[k]=this.i(k)&O.i(k);return new d(D,this.h&O.h)},i.or=function(O){for(var w=Math.max(this.g.length,O.g.length),D=[],k=0;k<w;k++)D[k]=this.i(k)|O.i(k);return new d(D,this.h|O.h)},i.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),D=[],k=0;k<w;k++)D[k]=this.i(k)^O.i(k);return new d(D,this.h^O.h)};function W(O){for(var w=O.g.length+1,D=[],k=0;k<w;k++)D[k]=O.i(k)<<1|O.i(k-1)>>>31;return new d(D,O.h)}function de(O,w){var D=w>>5;w%=32;for(var k=O.g.length-D,B=[],P=0;P<k;P++)B[P]=0<w?O.i(P+D)>>>w|O.i(P+D+1)<<32-w:O.i(P+D);return new d(B,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,SE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=E,Xi=d}).apply(typeof Y_<"u"?Y_:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wE,Gl,RE,mh,Bm,CE,NE,DE;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,_){return c==Array.prototype||c==Object.prototype||(c[v]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var v=0;v<c.length;++v){var _=c[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,v){if(v)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in _))break e;_=_[F]}c=c[c.length-1],S=_[c],v=v(S),v!=S&&v!=null&&e(_,c,{configurable:!0,writable:!0,value:v})}}function u(c,v){c instanceof String&&(c+="");var _=0,S=!1,F={next:function(){if(!S&&_<c.length){var K=_++;return{value:v(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function y(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function g(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function E(c,v,_){return c.call.apply(c.bind,arguments)}function A(c,v,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(v,F)}}return function(){return c.apply(v,arguments)}}function b(c,v,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,b.apply(null,arguments)}function C(c,v){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function R(c,v){function _(){}_.prototype=v.prototype,c.aa=v.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,F,K){for(var le=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)le[Be-2]=arguments[Be];return v.prototype[F].apply(S,le)}}function N(c){const v=c.length;if(0<v){const _=Array(v);for(let S=0;S<v;S++)_[S]=c[S];return _}return[]}function V(c,v){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(y(S)){const F=c.length||0,K=S.length||0;c.length=F+K;for(let le=0;le<K;le++)c[F+le]=S[le]}else c.push(S)}}class H{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var W=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function de(c,v,_){for(const S in c)v.call(_,c[S],S,c)}function O(c,v){for(const _ in c)v.call(void 0,c[_],_,c)}function w(c){const v={};for(const _ in c)v[_]=c[_];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,v){let _,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(_ in S)c[_]=S[_];for(let K=0;K<D.length;K++)_=D[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function B(c){var v=1;c=c.split(":");const _=[];for(;0<v&&c.length;)_.push(c.shift()),v--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function I(){var c=$e;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class mt{constructor(){this.h=this.g=null}add(v,_){const S=rt.get();S.set(v,_),this.h?this.h.next=S:this.g=S,this.h=S}}var rt=new H(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ge=!1,$e=new mt,L=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(re)}};var re=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){P(_)}var v=rt;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}ge=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,v),m.removeEventListener("test",_,v)}catch{}return c}();function ke(c,v){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(W){e:{try{ie(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else _=="mouseover"?v=c.fromElement:_=="mouseout"&&(v=c.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ke.aa.h.call(this)}}R(ke,oe);var Ce={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ra(c,v,_,S,F){this.listener=c,this.proxy=null,this.src=v,this.type=_,this.capture=!!S,this.ha=F,this.key=++ut,this.da=this.fa=!1}function vi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Oa(c){this.src=c,this.g={},this.h=0}Oa.prototype.add=function(c,v,_,S,F){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var le=mr(c,v,S,F);return-1<le?(v=c[le],_||(v.fa=!1)):(v=new ra(v,this.src,K,!!S,F),v.fa=_,c.push(v)),v};function fr(c,v){var _=v.type;if(_ in c.g){var S=c.g[_],F=Array.prototype.indexOf.call(S,v,void 0),K;(K=0<=F)&&Array.prototype.splice.call(S,F,1),K&&(vi(v),c.g[_].length==0&&(delete c.g[_],c.h--))}}function mr(c,v,_,S){for(var F=0;F<c.length;++F){var K=c[F];if(!K.da&&K.listener==v&&K.capture==!!_&&K.ha==S)return F}return-1}var pr="closure_lm_"+(1e6*Math.random()|0),Oo={};function Mu(c,v,_,S,F){if(Array.isArray(v)){for(var K=0;K<v.length;K++)Mu(c,v[K],_,S,F);return null}return _=ku(_),c&&c[Ut]?c.K(v,_,g(S)?!!S.capture:!1,F):On(c,v,_,!1,S,F)}function On(c,v,_,S,F,K){if(!v)throw Error("Invalid event type");var le=g(F)?!!F.capture:!!F,Be=hs(c);if(Be||(c[pr]=Be=new Oa(c)),_=Be.add(v,_,S,le,K),_.proxy)return _;if(S=gd(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Te||(F=le),F===void 0&&(F=!1),c.addEventListener(v.toString(),S,F);else if(c.attachEvent)c.attachEvent(gr(v.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function gd(){function c(_){return v.call(c.src,c.listener,_)}const v=yd;return c}function Vo(c,v,_,S,F){if(Array.isArray(v))for(var K=0;K<v.length;K++)Vo(c,v[K],_,S,F);else S=g(S)?!!S.capture:!!S,_=ku(_),c&&c[Ut]?(c=c.i,v=String(v).toString(),v in c.g&&(K=c.g[v],_=mr(K,_,S,F),-1<_&&(vi(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[v],c.h--)))):c&&(c=hs(c))&&(v=c.g[v.toString()],c=-1,v&&(c=mr(v,_,S,F)),(_=-1<c?v[c]:null)&&cs(_))}function cs(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ut])fr(v.i,c);else{var _=c.type,S=c.proxy;v.removeEventListener?v.removeEventListener(_,S,c.capture):v.detachEvent?v.detachEvent(gr(_),S):v.addListener&&v.removeListener&&v.removeListener(S),(_=hs(v))?(fr(_,c),_.h==0&&(_.src=null,v[pr]=null)):vi(c)}}}function gr(c){return c in Oo?Oo[c]:Oo[c]="on"+c}function yd(c,v){if(c.da)c=!0;else{v=new ke(v,this);var _=c.listener,S=c.ha||c.src;c.fa&&cs(c),c=_.call(S,v)}return c}function hs(c){return c=c[pr],c instanceof Oa?c:null}var Mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ku(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(v){return c.handleEvent(v)}),c[Mo])}function _t(){ce.call(this),this.i=new Oa(this),this.M=this,this.F=null}R(_t,ce),_t.prototype[Ut]=!0,_t.prototype.removeEventListener=function(c,v,_,S){Vo(this,c,v,_,S)};function Je(c,v){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=v.type||v,typeof v=="string")v=new oe(v,c);else if(v instanceof oe)v.target=v.target||c;else{var F=v;v=new oe(S,c),k(v,F)}if(F=!0,_)for(var K=_.length-1;0<=K;K--){var le=v.g=_[K];F=bn(le,S,!0,v)&&F}if(le=v.g=c,F=bn(le,S,!0,v)&&F,F=bn(le,S,!1,v)&&F,_)for(K=0;K<_.length;K++)le=v.g=_[K],F=bn(le,S,!1,v)&&F}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var _=c.g[v],S=0;S<_.length;S++)vi(_[S]);delete c.g[v],c.h--}}this.F=null},_t.prototype.K=function(c,v,_,S){return this.i.add(String(c),v,!1,_,S)},_t.prototype.L=function(c,v,_,S){return this.i.add(String(c),v,!0,_,S)};function bn(c,v,_,S){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,K=0;K<v.length;++K){var le=v[K];if(le&&!le.da&&le.capture==_){var Be=le.listener,Ot=le.ha||le.src;le.fa&&fr(c.i,le),F=Be.call(Ot,S)!==!1&&F}}return F&&!S.defaultPrevented}function en(c,v,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(c,v||0)}function Pu(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,Pu(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class vd extends ce{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Pu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(c){ce.call(this),this.h=c,this.g={}}R(yr,ce);var vr=[];function _r(c){de(c.g,function(v,_){this.g.hasOwnProperty(_)&&cs(v)},c),c.g={}}yr.prototype.N=function(){yr.aa.N.call(this),_r(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=m.JSON.stringify,ds=m.JSON.parse,Er=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ko(){}ko.prototype.h=null;function Po(c){return c.h||(c.h=c.i())}function Lo(){}var Va={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ma(){oe.call(this,"d")}R(Ma,oe);function Uo(){oe.call(this,"c")}R(Uo,oe);var sa={},zo=null;function _i(){return zo=zo||new _t}sa.La="serverreachability";function fs(c){oe.call(this,sa.La,c)}R(fs,oe);function Ei(c){const v=_i();Je(v,new fs(v))}sa.STAT_EVENT="statevent";function Lu(c,v){oe.call(this,sa.STAT_EVENT,c),this.stat=v}R(Lu,oe);function dt(c){const v=_i();Je(v,new Lu(v,c))}sa.Ma="timingevent";function jt(c,v){oe.call(this,sa.Ma,c),this.size=v}R(jt,oe);function wt(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},v)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function Bo(c,v,_,S,F,K){c.info(function(){if(c.g)if(K)for(var le="",Be=K.split("&"),Ot=0;Ot<Be.length;Ot++){var qe=Be[Ot].split("=");if(1<qe.length){var Bt=qe[0];qe=qe[1];var Vt=Bt.split("_");le=2<=Vt.length&&Vt[1]=="type"?le+(Bt+"="+qe+"&"):le+(Bt+"=redacted&")}}else le=null;else le=K;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+v+`
`+_+`
`+le})}function _d(c,v,_,S,F,K,le){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+v+`
`+_+`
`+K+" "+le})}function Ti(c,v,_,S){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Tr(c,_)+(S?" "+S:"")})}function Uu(c,v){c.info(function(){return"TIMEOUT: "+v})}Vn.prototype.info=function(){};function Tr(c,v){if(!c.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var K=F[0];if(K!="noop"&&K!="stop"&&K!="close")for(var le=1;le<F.length;le++)F[le]=""}}}}return Qn(_)}catch{return v}}var bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ka={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oa;function la(){}R(la,ko),la.prototype.g=function(){return new XMLHttpRequest},la.prototype.i=function(){return{}},oa=new la;function hn(c,v,_,S){this.j=c,this.i=v,this.l=_,this.R=S||1,this.U=new yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var qo={},ms={};function Zn(c,v,_){c.L=1,c.v=wr(An(v)),c.m=_,c.P=!0,Pa(c,null)}function Pa(c,v){c.F=Date.now(),br(c),c.A=An(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Qo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new bt,c.g=tc(c.j,_?v:null,!c.m),0<c.O&&(c.M=new vd(b(c.Y,c,c.g),c.O)),v=c.U,_=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(vr[0]=F.toString()),F=vr);for(var K=0;K<F.length;K++){var le=Mu(_,F[K],S||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),Ei(),Bo(c.i,c.u,c.A,c.l,c.R,c.m)}hn.prototype.ca=function(c){c=c.target;const v=this.M;v&&Ln(c)==3?v.j():this.Y(c)},hn.prototype.Y=function(c){try{if(c==this.g)e:{const Vt=Ln(this.g);var v=this.g.Ba();const Ga=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||$u(this.g)))){this.J||Vt!=4||v==7||(v==8||0>=Ga?Ei(3):Ei(2)),Ai(this);var _=this.g.Z();this.X=_;t:if(zu(this)){var S=$u(this.g);c="";var F=S.length,K=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),ua(this);var le="";break t}this.h.i=new m.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,c+=this.h.i.decode(S[v],{stream:!(K&&v==F-1)});S.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,_d(this.i,this.u,this.A,this.l,this.R,Vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Ot=this.g;if((Be=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Be)){var qe=Be;break t}}qe=null}if(_=qe)Ti(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ar(this,_);else{this.o=!1,this.s=3,dt(12),Yt(this),ua(this);break e}}if(this.P){_=!0;let $t;for(;!this.J&&this.C<le.length;)if($t=Bu(this,le),$t==ms){Vt==4&&(this.s=4,dt(14),_=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if($t==qo){this.s=4,dt(15),Ti(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else Ti(this.i,this.l,$t,null),Ar(this,$t);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||le.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Ti(this.i,this.l,le,"[Invalid Chunked Response]"),Yt(this),ua(this);else if(0<le.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Vr(Bt),Bt.M=!0,dt(11))}}else Ti(this.i,this.l,le,null),Ar(this,le);Vt==4&&Yt(this),this.o&&!this.J&&(Vt==4?Ju(this.j,this):(this.o=!1,br(this)))}else xd(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Yt(this),ua(this)}}}catch{}finally{}};function zu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bu(c,v){var _=c.C,S=v.indexOf(`
`,_);return S==-1?ms:(_=Number(v.substring(_,S)),isNaN(_)?qo:(S+=1,S+_>v.length?ms:(v=v.slice(S,S+_),c.C=S+_,v)))}hn.prototype.cancel=function(){this.J=!0,Yt(this)};function br(c){c.S=Date.now()+c.I,qu(c,c.I)}function qu(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=wt(b(c.ba,c),v)}function Ai(c){c.B&&(m.clearTimeout(c.B),c.B=null)}hn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Uu(this.i,this.A),this.L!=2&&(Ei(),dt(17)),Yt(this),this.s=2,ua(this)):qu(this,this.S-c)};function ua(c){c.j.G==0||c.J||Ju(c.j,c)}function Yt(c){Ai(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,_r(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function Ar(c,v){try{var _=c.j;if(_.G!=0&&(_.g==c||Ho(_.h,c))){if(!c.K&&Ho(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ws(_),xs(_);else break e;Wo(_),dt(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=wt(b(_.Za,_),6e3));if(1>=gs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Fa(_,11)}else if((c.K||_.g==c)&&ws(_),!M(v))for(F=_.Da.g.parse(v),v=0;v<F.length;v++){let qe=F[v];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const Bt=qe[3];Bt!=null&&(_.la=Bt,_.j.info("VER="+_.la));const Vt=qe[4];Vt!=null&&(_.Aa=Vt,_.j.info("SVER="+_.Aa));const Ga=qe[5];Ga!=null&&typeof Ga=="number"&&0<Ga&&(S=1.5*Ga,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const $t=c.g;if($t){const ga=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var K=S.h;K.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ys(K,K.h),K.h=null))}if(S.D){const tl=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(S.ya=tl,tt(S.I,S.D,tl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var le=c;if(S.qa=ec(S,S.J?S.ia:null,S.W),le.K){dn(S.h,le);var Be=le,Ot=S.L;Ot&&(Be.I=Ot),Be.B&&(Ai(Be),br(Be)),S.g=le}else Ku(S);0<_.i.length&&Ss(_)}else qe[0]!="stop"&&qe[0]!="close"||Fa(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Fa(_,7):Xo(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}Ei(4)}catch{}}var Hu=class{constructor(c,v){this.g=c,this.map=v}};function La(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ps(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gs(c){return c.h?1:c.g?c.g.size:0}function Ho(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function ys(c,v){c.g?c.g.add(v):c.h=v}function dn(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}La.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const _ of c.g.values())v=v.concat(_.D);return v}return N(c.i)}function Ed(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var v=[],_=c.length,S=0;S<_;S++)v.push(c[S]);return v}v=[],_=0;for(S in c)v[_++]=c[S];return v}function vs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var v=[];c=c.length;for(var _=0;_<c;_++)v.push(_);return v}v=[],_=0;for(const S in c)v[_++]=S;return v}}}function Go(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var _=vs(c),S=Ed(c),F=S.length,K=0;K<F;K++)v.call(void 0,S[K],_&&_[K],c)}var xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Td(c,v){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),F=null;if(0<=S){var K=c[_].substring(0,S);F=c[_].substring(S+1)}else K=c[_];v(K,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Rt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Rt){this.h=c.h,Sr(this,c.j),this.o=c.o,this.g=c.g,xi(this,c.s),this.l=c.l;var v=c.i,_=new za;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Ua(this,_),this.m=c.m}else c&&(v=String(c).match(xr))?(this.h=!1,Sr(this,v[1]||"",!0),this.o=Mn(v[2]||""),this.g=Mn(v[3]||"",!0),xi(this,v[4]),this.l=Mn(v[5]||"",!0),Ua(this,v[6]||"",!0),this.m=Mn(v[7]||"")):(this.h=!1,this.i=new za(null,this.h))}Rt.prototype.toString=function(){var c=[],v=this.j;v&&c.push(Rr(v,Yo,!0),":");var _=this.g;return(_||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Rr(v,Yo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Rr(_,_.charAt(0)=="/"?bd:$o,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Rr(_,_s)),c.join("")};function An(c){return new Rt(c)}function Sr(c,v,_){c.j=_?Mn(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function xi(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function Ua(c,v,_){v instanceof za?(c.i=v,Gu(c.i,c.h)):(_||(v=Rr(v,Ad)),c.i=new za(v,c.h))}function tt(c,v,_){c.i.set(v,_)}function wr(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Mn(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rr(c,v,_){return typeof c=="string"?(c=encodeURI(c).replace(v,Fu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Fu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Yo=/[#\/\?@]/g,$o=/[#\?:]/g,bd=/[#\?]/g,Ad=/[#\?@]/g,_s=/#/g;function za(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&Td(c.i,function(v,_){c.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}i=za.prototype,i.add=function(c,v){kn(this),this.i=null,c=ca(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(v),this.h+=1,this};function Ba(c,v){kn(c),v=ca(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function qa(c,v){return kn(c),v=ca(c,v),c.g.has(v)}i.forEach=function(c,v){kn(this),this.g.forEach(function(_,S){_.forEach(function(F){c.call(v,F,S,this)},this)},this)},i.na=function(){kn(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let S=0;S<v.length;S++){const F=c[S];for(let K=0;K<F.length;K++)_.push(v[S])}return _},i.V=function(c){kn(this);let v=[];if(typeof c=="string")qa(this,c)&&(v=v.concat(this.g.get(ca(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)v=v.concat(c[_])}return v},i.set=function(c,v){return kn(this),this.i=null,c=ca(this,c),qa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function Qo(c,v,_){Ba(c,v),0<_.length&&(c.i=null,c.g.set(ca(c,v),N(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var S=v[_];const K=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var F=K;le[S]!==""&&(F+="="+encodeURIComponent(String(le[S]))),c.push(F)}}return this.i=c.join("&")};function ca(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Gu(c,v){v&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(_,S){var F=S.toLowerCase();S!=F&&(Ba(this,S),Qo(this,F,_))},c)),c.j=v}function Cr(c,v){const _=new Vn;if(m.Image){const S=new Image;S.onload=C(Pn,_,"TestLoadImage: loaded",!0,v,S),S.onerror=C(Pn,_,"TestLoadImage: error",!1,v,S),S.onabort=C(Pn,_,"TestLoadImage: abort",!1,v,S),S.ontimeout=C(Pn,_,"TestLoadImage: timeout",!1,v,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else v(!1)}function Kn(c,v){const _=new Vn,S=new AbortController,F=setTimeout(()=>{S.abort(),Pn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(F),K.ok?Pn(_,"TestPingServer: ok",!0,v):Pn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Pn(_,"TestPingServer: error",!1,v)})}function Pn(c,v,_,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(_)}catch{}}function Nr(){this.g=new Er}function ha(c,v,_){const S=_||"";try{Go(c,function(F,K){let le=F;g(F)&&(le=Qn(F)),v.push(S+K+"="+encodeURIComponent(le))})}catch(F){throw v.push(S+"type="+encodeURIComponent("_badmap")),F}}function Si(c){this.l=c.Ub||null,this.j=c.eb||!1}R(Si,ko),Si.prototype.g=function(){return new Ha(this.l,this.j)},Si.prototype.i=function(c){return function(){return c}}({});function Ha(c,v){_t.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ha,_t),i=Ha.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,fa(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?da(this):fa(this),this.readyState==3&&Zo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,da(this))},i.Qa=function(c){this.g&&(this.response=c,da(this))},i.ga=function(){this.g&&da(this)};function da(c){c.readyState=4,c.l=null,c.j=null,c.v=null,fa(c)}i.setRequestHeader=function(c,v){this.u.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=v.next();return c.join(`\r
`)};function fa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ko(c){let v="";return de(c,function(_,S){v+=S,v+=":",v+=_,v+=`\r
`}),v}function zt(c,v,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Ko(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):tt(c,v,_))}function Ke(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ke,_t);var Es=/^https?$/i,Dr=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,v,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oa.g(),this.v=this.o?Po(this.o):Po(oa),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(K){Yu(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)_.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Dr,v,void 0))||S||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of _)this.g.setRequestHeader(K,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ir(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Yu(this,K)}};function Yu(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,Ts(c),ma(c)}function Ts(c){c.A||(c.A=!0,Je(c,"complete"),Je(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Je(this,"complete"),Je(this,"abort"),ma(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ma(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?bs(this):this.bb())},i.bb=function(){bs(this)};function bs(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)en(c.Ea,0,c);else if(Je(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var S;if(S=le===0){var F=String(c.D).match(xr)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),S=!Es.test(F?F.toLowerCase():"")}_=S}if(_)Je(c,"complete"),Je(c,"success");else{c.m=6;try{var K=2<Ln(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Ts(c)}}finally{ma(c)}}}}function ma(c,v){if(c.g){Ir(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||Je(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ir(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),ds(v)}};function $u(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xd(c){const v={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(M(c[S]))continue;var _=B(c[S]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=v[F]||[];v[F]=K,K.push(_)}O(v,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(c,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||v}function As(c){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,c),this.cb=jr("retryDelaySeedMs",1e4,c),this.Wa=jr("forwardChannelMaxRetries",2,c),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new La(c&&c.concurrentRequestLimit),this.Da=new Nr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=As.prototype,i.la=8,i.G=1,i.connect=function(c,v,_,S){dt(0),this.W=c,this.H=v||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ec(this,null,this.W),Ss(this)};function Xo(c){if(Qu(c),c.G==3){var v=c.U++,_=An(c.I);if(tt(_,"SID",c.K),tt(_,"RID",v),tt(_,"TYPE","terminate"),Or(c,_),v=new hn(c,c.j,v),v.L=2,v.v=wr(An(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=v.v,_=!0),_||(v.g=tc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),br(v)}Wu(c)}function xs(c){c.g&&(Vr(c),c.g.cancel(),c.g=null)}function Qu(c){xs(c),c.u&&(m.clearTimeout(c.u),c.u=null),ws(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ss(c){if(!ps(c.h)&&!c.s){c.s=!0;var v=c.Ga;ue||L(),ge||(ue(),ge=!0),$e.add(v,c),c.B=0}}function Sd(c,v){return gs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=wt(b(c.Ga,c,v),el(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new hn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=w(K),k(K,this.S)):K=this.S),this.m!==null||this.O||(F.H=K,K=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Zu(this,F,v),_=An(this.I),tt(_,"RID",c),tt(_,"CVER",22),this.D&&tt(_,"X-HTTP-Session-Id",this.D),Or(this,_),K&&(this.O?v="headers="+encodeURIComponent(String(Ko(K)))+"&"+v:this.m&&zt(_,this.m,K)),ys(this.h,F),this.Ua&&tt(_,"TYPE","init"),this.P?(tt(_,"$req",v),tt(_,"SID","null"),F.T=!0,Zn(F,_,null)):Zn(F,_,v),this.G=2}}else this.G==3&&(c?Jo(this,c):this.i.length==0||ps(this.h)||Jo(this))};function Jo(c,v){var _;v?_=v.l:_=c.U++;const S=An(c.I);tt(S,"SID",c.K),tt(S,"RID",_),tt(S,"AID",c.T),Or(c,S),c.m&&c.o&&zt(S,c.m,c.o),_=new hn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),v&&(c.i=v.D.concat(c.i)),v=Zu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ys(c.h,_),Zn(_,S,v)}function Or(c,v){c.H&&de(c.H,function(_,S){tt(v,S,_)}),c.l&&Go({},function(_,S){tt(v,S,_)})}function Zu(c,v,_){_=Math.min(c.i.length,_);var S=c.l?b(c.l.Na,c.l,c):null;e:{var F=c.i;let K=-1;for(;;){const le=["count="+_];K==-1?0<_?(K=F[0].g,le.push("ofs="+K)):K=0:le.push("ofs="+K);let Be=!0;for(let Ot=0;Ot<_;Ot++){let qe=F[Ot].g;const Bt=F[Ot].map;if(qe-=K,0>qe)K=Math.max(0,F[Ot].g-100),Be=!1;else try{ha(Bt,le,"req"+qe+"_")}catch{S&&S(Bt)}}if(Be){S=le.join("&");break e}}}return c=c.i.splice(0,_),v.D=c,S}function Ku(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;ue||L(),ge||(ue(),ge=!0),$e.add(v,c),c.v=0}}function Wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=wt(b(c.Fa,c),el(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=wt(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),xs(this),Xu(this))};function Vr(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new hn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=An(c.qa);tt(v,"RID","rpc"),tt(v,"SID",c.K),tt(v,"AID",c.T),tt(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(v,"TO",c.ja),tt(v,"TYPE","xmlhttp"),Or(c,v),c.m&&c.o&&zt(v,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=wr(An(v)),_.m=null,_.P=!0,Pa(_,c)}i.Za=function(){this.C!=null&&(this.C=null,xs(this),Wo(this),dt(19))};function ws(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ju(c,v){var _=null;if(c.g==v){ws(c),Vr(c),c.g=null;var S=2}else if(Ho(c.h,v))_=v.D,dn(c.h,v),S=1;else return;if(c.G!=0){if(v.o)if(S==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var F=c.B;S=_i(),Je(S,new jt(S,_)),Ss(c)}else Ku(c);else if(F=v.s,F==3||F==0&&0<v.X||!(S==1&&Sd(c,v)||S==2&&Wo(c)))switch(_&&0<_.length&&(v=c.h,v.i=v.i.concat(_)),F){case 1:Fa(c,5);break;case 4:Fa(c,10);break;case 3:Fa(c,6);break;default:Fa(c,2)}}}function el(c,v){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*v}function Fa(c,v){if(c.j.info("Error code "+v),v==2){var _=b(c.fb,c),S=c.Xa;const F=!S;S=new Rt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Sr(S,"https"),wr(S),F?Cr(S.toString(),_):Kn(S.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(v),Wu(c),Qu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Wu(c){if(c.G=0,c.ka=[],c.l){const v=Fo(c.h);(v.length!=0||c.i.length!=0)&&(V(c.ka,v),V(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function ec(c,v,_){var S=_ instanceof Rt?An(_):new Rt(_);if(S.g!="")v&&(S.g=v+"."+S.g),xi(S,S.s);else{var F=m.location;S=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var K=new Rt(null);S&&Sr(K,S),v&&(K.g=v),F&&xi(K,F),_&&(K.l=_),S=K}return _=c.D,v=c.ya,_&&v&&tt(S,_,v),tt(S,"VER",c.la),Or(c,S),S}function tc(c,v,_){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new Ke(new Si({eb:_})):new Ke(c.pa),v.Ha(c.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}i=nc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Rs(){}Rs.prototype.g=function(c,v){return new fn(c,v)};function fn(c,v){_t.call(this),this.g=new As(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!M(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new pa(this)}R(fn,_t),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Xo(this.g)},fn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Qn(c),c=_);v.i.push(new Hu(v.Ya++,c)),v.G==3&&Ss(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,fn.aa.N.call(this)};function ac(c){Ma.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const _ in v){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}R(ac,Ma);function ic(){Uo.call(this),this.status=1}R(ic,Uo);function pa(c){this.g=c}R(pa,nc),pa.prototype.ua=function(){Je(this.g,"a")},pa.prototype.ta=function(c){Je(this.g,new ac(c))},pa.prototype.sa=function(c){Je(this.g,new ic)},pa.prototype.ra=function(){Je(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,DE=function(){return new Rs},NE=function(){return _i()},CE=sa,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,mh=bi,ka.COMPLETE="complete",RE=ka,Lo.EventType=Va,Va.OPEN="a",Va.CLOSE="b",Va.ERROR="c",Va.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Gl=Lo,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,wE=Ke}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const $_="@firebase/firestore",Q_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new _E("@firebase/firestore");function no(){return ts.logLevel}function me(i,...e){if(ts.logLevel<=Ge.DEBUG){const n=e.map(Ep);ts.debug(`Firestore (${Co}): ${i}`,...n)}}function di(i,...e){if(ts.logLevel<=Ge.ERROR){const n=e.map(Ep);ts.error(`Firestore (${Co}): ${i}`,...n)}}function fo(i,...e){if(ts.logLevel<=Ge.WARN){const n=e.map(Ep);ts.warn(`Firestore (${Co}): ${i}`,...n)}}function Ep(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,IE(i,r,n)}function IE(i,e,n){let r=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw di(r),new Error(r)}function Xe(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||IE(e,o,r)}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ro{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _w{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class Ew{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Tw{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new li;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new li,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=u;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new li)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new jE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class bw{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Aw{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new bw(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xw{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nw(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const r=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Z_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Sw(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Me(i,e){return i<e?-1:i>e?1:0}function qm(i,e){let n=0;for(;n<i.length&&n<e.length;){const r=i.codePointAt(n),o=e.codePointAt(n);if(r!==o){if(r<128&&o<128)return Me(r,o);{const u=OE(),d=ww(u.encode(K_(i,n)),u.encode(K_(e,n)));return d!==0?d:Me(r,o)}}n+=r>65535?2:1}return Me(i.length,e.length)}function K_(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function ww(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Me(i[n],e[n]);return Me(i.length,e.length)}function mo(i,e,n){return i.length===e.length&&i.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,J_=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*J_);return new Pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<X_)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J_}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Pt(0,0))}static max(){return new Ne(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="__name__";class ba{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ba.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ba?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=ba.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const r=ba.isNumericId(e),o=ba.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?ba.extractNumericId(e).compare(ba.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xi.fromString(e.substring(4,e.length-2))}}class ht extends ba{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const Rw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends ba{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return Rw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new Jt([W_])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ht.fromString(e))}static fromName(e){return new Ee(ht.fromString(e).popFirst(5))}static empty(){return new Ee(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function Cw(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new Wi(o,Ee.empty(),e)}function Nw(i){return new Wi(i.readTime,i.key,ru)}class Wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wi(Ne.min(),Ee.empty(),ru)}static max(){return new Wi(Ne.max(),Ee.empty(),ru)}}function Dw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(i.documentKey,e.documentKey),n!==0?n:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==Iw)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&n()},y=>r(y))}),d=!0,u===o&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(o=>o?ae.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,u)=>{r.push(n.call(this,o,u))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,o)=>{const u=e.length,d=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(e[g]).next(E=>{d[g]=E,++m,m===u&&r(d)},E=>o(E))}})}static doWhile(e,n){return new ae((r,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):r()};u()})}}function Ow(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}$h.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=-1;function Qh(i){return i==null}function wh(i){return i===0&&1/i==-1/0}function Vw(i){return typeof i=="number"&&Number.isInteger(i)&&!wh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="";function Mw(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=e0(e)),e=kw(i.get(n),e);return e0(e)}function kw(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case ME:n+="";break;default:n+=u}}return n}function e0(i){return i+ME+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function cr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function kE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Xt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new n0(this.data.getIterator())}getIteratorFrom(e){return new n0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class n0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Lt(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new PE("Invalid base64 string: "+u):u}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const Pw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=Pw.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(i.seconds),nanos:St(i.nanos)}}function St(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function tr(i){return typeof i=="string"?Wt.fromBase64String(i):Wt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="server_timestamp",UE="__type__",zE="__previous_value__",BE="__local_write_time__";function bp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[UE])===null||n===void 0?void 0:n.stringValue)===LE}function Zh(i){const e=i.mapValue.fields[zE];return bp(e)?Zh(e):e}function su(i){const e=er(i.mapValue.fields[BE].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r,o,u,d,m,y,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const Rh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__type__",Uw="__max__",lh={mapValue:{}},HE="__vector__",Ch="value";function nr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bp(i)?4:Bw(i)?9007199254740991:zw(i)?10:11:xe(28295,{value:i})}function Ca(i,e){if(i===e)return!0;const n=nr(i);if(n!==nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return su(i).isEqual(su(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=er(o.timestampValue),m=er(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return tr(o.bytesValue).isEqual(tr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=St(o.doubleValue),m=St(u.doubleValue);return d===m?wh(d)===wh(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return mo(i.arrayValue.values||[],e.arrayValue.values||[],Ca);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(t0(d)!==t0(m))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(m[y]===void 0||!Ca(d[y],m[y])))return!1;return!0}(i,e);default:return xe(52216,{left:i})}}function lu(i,e){return(i.values||[]).find(n=>Ca(n,e))!==void 0}function po(i,e){if(i===e)return 0;const n=nr(i),r=nr(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return function(u,d){const m=St(u.integerValue||u.doubleValue),y=St(d.integerValue||d.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return a0(i.timestampValue,e.timestampValue);case 4:return a0(su(i),su(e));case 5:return qm(i.stringValue,e.stringValue);case 6:return function(u,d){const m=tr(u),y=tr(d);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),y=d.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=Me(m[g],y[g]);if(E!==0)return E}return Me(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const m=Me(St(u.latitude),St(d.latitude));return m!==0?m:Me(St(u.longitude),St(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return i0(i.arrayValue,e.arrayValue);case 10:return function(u,d){var m,y,g,E;const A=u.fields||{},b=d.fields||{},C=(m=A[Ch])===null||m===void 0?void 0:m.arrayValue,R=(y=b[Ch])===null||y===void 0?void 0:y.arrayValue,N=Me(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((E=R==null?void 0:R.values)===null||E===void 0?void 0:E.length)||0);return N!==0?N:i0(C,R)}(i.mapValue,e.mapValue);case 11:return function(u,d){if(u===lh.mapValue&&d===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(d===lh.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=d.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const b=qm(y[A],E[A]);if(b!==0)return b;const C=po(m[y[A]],g[E[A]]);if(C!==0)return C}return Me(y.length,E.length)}(i.mapValue,e.mapValue);default:throw xe(23264,{Pe:n})}}function a0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const n=er(i),r=er(e),o=Me(n.seconds,r.seconds);return o!==0?o:Me(n.nanos,r.nanos)}function i0(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=po(n[o],r[o]);if(u)return u}return Me(n.length,r.length)}function go(i){return Hm(i)}function Hm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const r=er(n);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return tr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ee.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Hm(u);return r+"]"}(i.arrayValue):"mapValue"in i?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of r)u?u=!1:o+=",",o+=`${d}:${Hm(n.fields[d])}`;return o+"}"}(i.mapValue):xe(61005,{value:i})}function ph(i){switch(nr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(i);return e?16+ph(e):16;case 5:return 2*i.stringValue.length;case 6:return tr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+ph(u),0)}(i.arrayValue);case 10:case 11:return function(r){let o=0;return cr(r.fields,(u,d)=>{o+=u.length+ph(d)}),o}(i.mapValue);default:throw xe(13486,{value:i})}}function r0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Fm(i){return!!i&&"integerValue"in i}function Ap(i){return!!i&&"arrayValue"in i}function s0(i){return!!i&&"nullValue"in i}function o0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function gh(i){return!!i&&"mapValue"in i}function zw(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[qE])===null||n===void 0?void 0:n.stringValue)===HE}function Jl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return cr(i.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Jl(r)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Bw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Uw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=Jt.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}d?r[m.lastSegment()]=Jl(d):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ca(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){cr(n,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new En(Jl(this.value))}}function FE(i){const e=[];return cr(i.fields,(n,r)=>{const o=new Jt([n]);if(gh(r)){const u=FE(r.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,o,u,d,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new on(e,0,Ne.min(),Ne.min(),Ne.min(),En.empty(),0)}static newFoundDocument(e,n,r,o){return new on(e,1,n,Ne.min(),r,o,0)}static newNoDocument(e,n){return new on(e,2,n,Ne.min(),Ne.min(),En.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,Ne.min(),Ne.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.position=e,this.inclusive=n}}function l0(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?r=Ee.comparator(Ee.fromName(d.referenceValue),n.key):r=po(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function u0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ca(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n="asc"){this.field=e,this.dir=n}}function qw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{}class It extends GE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Fw(e,n,r):n==="array-contains"?new $w(e,r):n==="in"?new Qw(e,r):n==="not-in"?new Zw(e,r):n==="array-contains-any"?new Kw(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Gw(e,r):new Yw(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&nr(this.value)===nr(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class na extends GE{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new na(e,n)}matches(e){return YE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function YE(i){return i.op==="and"}function $E(i){return Hw(i)&&YE(i)}function Hw(i){for(const e of i.filters)if(e instanceof na)return!1;return!0}function Gm(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+go(i.value);if($E(i))return i.filters.map(e=>Gm(e)).join(",");{const e=i.filters.map(n=>Gm(n)).join(",");return`${i.op}(${e})`}}function QE(i,e){return i instanceof It?function(r,o){return o instanceof It&&r.op===o.op&&r.field.isEqual(o.field)&&Ca(r.value,o.value)}(i,e):i instanceof na?function(r,o){return o instanceof na&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,d,m)=>u&&QE(d,o.filters[m]),!0):!1}(i,e):void xe(19439)}function ZE(i){return i instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(i):i instanceof na?function(n){return n.op.toString()+" {"+n.getFilters().map(ZE).join(" ,")+"}"}(i):"Filter"}class Fw extends It{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class Gw extends It{constructor(e,n){super(e,"in",n),this.keys=KE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Yw extends It{constructor(e,n){super(e,"not-in",n),this.keys=KE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KE(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class $w extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ap(n)&&lu(n.arrayValue,this.value)}}class Qw extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class Zw extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class Kw extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.Ie=null}}function c0(i,e=null,n=[],r=[],o=null,u=null,d=null){return new Xw(i,e,n,r,o,u,d)}function xp(i){const e=De(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>go(r)).join(",")),e.Ie=n}return e.Ie}function Sp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!qw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!QE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!u0(i.startAt,e.startAt)&&u0(i.endAt,e.endAt)}function Ym(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n=null,r=[],o=[],u=null,d="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=y,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Jw(i,e,n,r,o,u,d,m){return new Io(i,e,n,r,o,u,d,m)}function Kh(i){return new Io(i)}function h0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function XE(i){return i.collectionGroup!==null}function Wl(i){const e=De(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Lt(Jt.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new uu(u,r))}),n.has(Jt.keyField().canonicalString())||e.Ee.push(new uu(Jt.keyField(),r))}return e.Ee}function Aa(i){const e=De(i);return e.de||(e.de=Ww(e,Wl(i))),e.de}function Ww(i,e){if(i.limitType==="F")return c0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new uu(o.field,u)});const n=i.endAt?new Nh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Nh(i.startAt.position,i.startAt.inclusive):null;return c0(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function $m(i,e){const n=i.filters.concat([e]);return new Io(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Qm(i,e,n){return new Io(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Xh(i,e){return Sp(Aa(i),Aa(e))&&i.limitType===e.limitType}function JE(i){return`${xp(Aa(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>ZE(o)).join(", ")}]`),Qh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>go(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>go(o)).join(",")),`Target(${r})`}(Aa(i))}; limitType=${i.limitType})`}function Jh(i,e){return e.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Ee.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(i,e)&&function(r,o){for(const u of Wl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(r,o){return!(r.startAt&&!function(d,m,y){const g=l0(d,m,y);return d.inclusive?g<=0:g<0}(r.startAt,Wl(r),o)||r.endAt&&!function(d,m,y){const g=l0(d,m,y);return d.inclusive?g>=0:g>0}(r.endAt,Wl(r),o))}(i,e)}function e2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function WE(i){return(e,n)=>{let r=!1;for(const o of Wl(i)){const u=t2(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function t2(i,e,n){const r=i.field.isKeyField()?Ee.comparator(e.key,n.key):function(u,d,m){const y=d.data.field(u),g=m.data.field(u);return y!==null&&g!==null?po(y,g):xe(42886)}(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cr(this.inner,(n,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return kE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new vt(Ee.comparator);function fi(){return n2}const e1=new vt(Ee.comparator);function Yl(...i){let e=e1;for(const n of i)e=e.insert(n.key,n);return e}function t1(i){let e=e1;return i.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jr(){return eu()}function n1(){return eu()}function eu(){return new ls(i=>i.toString(),(i,e)=>i.isEqual(e))}const a2=new vt(Ee.comparator),i2=new Lt(Ee.comparator);function ze(...i){let e=i2;for(const n of i)e=e.add(n);return e}const r2=new Lt(Me);function s2(){return r2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function a1(i){return{integerValue:""+i}}function o2(i,e){return Vw(e)?a1(e):wp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function l2(i,e,n){return i instanceof Dh?function(o,u){const d={fields:{[UE]:{stringValue:LE},[BE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bp(u)&&(u=Zh(u)),u&&(d.fields[zE]=u),{mapValue:d}}(n,e):i instanceof cu?r1(i,e):i instanceof hu?s1(i,e):function(o,u){const d=i1(o,u),m=d0(d)+d0(o.Re);return Fm(d)&&Fm(o.Re)?a1(m):wp(o.serializer,m)}(i,e)}function u2(i,e,n){return i instanceof cu?r1(i,e):i instanceof hu?s1(i,e):n}function i1(i,e){return i instanceof Ih?function(r){return Fm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(e)?e:{integerValue:0}:null}class Dh extends Wh{}class cu extends Wh{constructor(e){super(),this.elements=e}}function r1(i,e){const n=o1(e);for(const r of i.elements)n.some(o=>Ca(o,r))||n.push(r);return{arrayValue:{values:n}}}class hu extends Wh{constructor(e){super(),this.elements=e}}function s1(i,e){let n=o1(e);for(const r of i.elements)n=n.filter(o=>!Ca(o,r));return{arrayValue:{values:n}}}class Ih extends Wh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function d0(i){return St(i.integerValue||i.doubleValue)}function o1(i){return Ap(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function c2(i,e){return i.field.isEqual(e.field)&&function(r,o){return r instanceof cu&&o instanceof cu||r instanceof hu&&o instanceof hu?mo(r.elements,o.elements,Ca):r instanceof Ih&&o instanceof Ih?Ca(r.Re,o.Re):r instanceof Dh&&o instanceof Dh}(i.transform,e.transform)}class h2{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ed{}function l1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Rp(i.key,Yn.none()):new Nu(i.key,i.data,Yn.none());{const n=i.data,r=En.empty();let o=new Lt(Jt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),o=o.add(u)}return new hr(i.key,r,new In(o.toArray()),Yn.none())}}function d2(i,e,n){i instanceof Nu?function(o,u,d){const m=o.value.clone(),y=m0(o.fieldTransforms,u,d.transformResults);m.setAll(y),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,n):i instanceof hr?function(o,u,d){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=m0(o.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(u1(o)),y.setAll(m),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,e,n):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function tu(i,e,n,r){return i instanceof Nu?function(u,d,m,y){if(!yh(u.precondition,d))return m;const g=u.value.clone(),E=p0(u.fieldTransforms,y,d);return g.setAll(E),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(i,e,n,r):i instanceof hr?function(u,d,m,y){if(!yh(u.precondition,d))return m;const g=p0(u.fieldTransforms,y,d),E=d.data;return E.setAll(u1(u)),E.setAll(g),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,r):function(u,d,m){return yh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(i,e,n)}function f2(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=i1(r.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(r.field,u))}return n||null}function f0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&mo(r,o,(u,d)=>c2(u,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Nu extends ed{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hr extends ed{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function u1(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}}),e}function m0(i,e,n){const r=new Map;Xe(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,u2(d,m,n[o]))}return r}function p0(i,e,n){const r=new Map;for(const o of i){const u=o.transform,d=n.data.field(o.field);r.set(o.field,l2(u,d,e))}return r}class Rp extends ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m2 extends ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&d2(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=n1();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=n.has(o.key)?null:m;const y=l1(d,m);y!==null&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,r)=>f0(n,r))&&mo(this.baseMutations,e.baseMutations,(n,r)=>f0(n,r))}}class Cp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Xe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let o=function(){return a2}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new Cp(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Fe;function v2(i){switch(i){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:i})}}function c1(i){if(i===void 0)return di("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Dt.OK:return ne.OK;case Dt.CANCELLED:return ne.CANCELLED;case Dt.UNKNOWN:return ne.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ne.INTERNAL;case Dt.UNAVAILABLE:return ne.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ne.NOT_FOUND;case Dt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Dt.ABORTED:return ne.ABORTED;case Dt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Dt.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:i})}}(Fe=Dt||(Dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new Xi([4294967295,4294967295],0);function g0(i){const e=OE().encode(i),n=new SE;return n.update(e),new Uint8Array(n.digest())}function y0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xi([n,r],0),new Xi([o,u],0)]}class Np{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(r<0)throw new $l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Xi.fromNumber(this.pe)}we(e,n,r){let o=e.add(n.multiply(Xi.fromNumber(r)));return o.compare(_2)===1&&(o=new Xi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=g0(e),[r,o]=y0(n);for(let u=0;u<this.hashCount;u++){const d=this.we(r,o,u);if(!this.be(d))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Np(u,o,n);return r.forEach(m=>d.insert(m)),d}insert(e){if(this.pe===0)return;const n=g0(e),[r,o]=y0(n);for(let u=0;u<this.hashCount;u++){const d=this.we(r,o,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new td(Ne.min(),o,new vt(Me),fi(),ze())}}class Du{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Du(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,o){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=o}}class h1{constructor(e,n){this.targetId=e,this.Ce=n}}class d1{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class v0{constructor(){this.Fe=0,this.Me=_0(),this.xe=Wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),n=ze(),r=ze();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:xe(38017,{changeType:u})}}),new Du(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=_0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class E2{constructor(e){this.ze=e,this.je=new Map,this.He=fi(),this.Je=uh(),this.Ye=uh(),this.Ze=new vt(Me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,r=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Ym(u))if(r===0){const d=new Ee(u.path);this.tt(n,d,on.newNoDocument(d,Ne.min()))}else Xe(r===1,20013,{expectedCount:r});else{const d=this.ut(n);if(d!==r){const m=this.ct(e),y=m?this.lt(m,e,d):1;if(y!==0){this.st(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let d,m;try{d=tr(r).toUint8Array()}catch(y){if(y instanceof PE)return fo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Np(d,o,u)}catch(y){return fo(y instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.pe===0?null:m}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let o=0;return r.forEach(u=>{const d=this.ze.Pt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,d)=>{const m=this._t(d);if(m){if(u.current&&Ym(m.target)){const y=new Ee(m.target.path);this.Et(y).has(d)||this.dt(d,y)||this.tt(d,y,on.newNoDocument(y,e))}u.Le&&(n.set(d,u.qe()),u.Qe())}});let r=ze();this.Ye.forEach((u,d)=>{let m=!0;d.forEachWhile(y=>{const g=this._t(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(u))}),this.He.forEach((u,d)=>d.setReadTime(e));const o=new td(e,n,this.Ze,this.He,r);return this.He=fi(),this.Je=uh(),this.Ye=uh(),this.Ze=new vt(Me),o}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new v0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Lt(Me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Lt(Me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new v0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function uh(){return new vt(Ee.comparator)}function _0(){return new vt(Ee.comparator)}const T2={asc:"ASCENDING",desc:"DESCENDING"},b2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A2={and:"AND",or:"OR"};class x2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(i,e){return i.useProto3Json||Qh(e)?e:{value:e}}function jh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function S2(i,e){return jh(i,e.toTimestamp())}function xa(i){return Xe(!!i,49232),Ne.fromTimestamp(function(n){const r=er(n);return new Pt(r.seconds,r.nanos)}(i))}function Dp(i,e){return Km(i,e).canonicalString()}function Km(i,e){const n=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function m1(i){const e=ht.fromString(i);return Xe(_1(e),10190,{key:e.toString()}),e}function Xm(i,e){return Dp(i.databaseId,e.path)}function Nm(i,e){const n=m1(e);if(n.get(1)!==i.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ee(g1(n))}function p1(i,e){return Dp(i.databaseId,e)}function w2(i){const e=m1(i);return e.length===4?ht.emptyPath():g1(e)}function Jm(i){return new ht(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function g1(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function E0(i,e,n){return{name:Xm(i,e),fields:n.value.mapValue.fields}}function R2(i,e){let n;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string",58123),Wt.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Wt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(g){const E=g.code===void 0?ne.UNKNOWN:c1(g.code);return new pe(E,g.message||"")}(d);n=new d1(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Nm(i,r.document.name),u=xa(r.document.updateTime),d=r.document.createTime?xa(r.document.createTime):Ne.min(),m=new En({mapValue:{fields:r.document.fields}}),y=on.newFoundDocument(o,u,d,m),g=r.targetIds||[],E=r.removedTargetIds||[];n=new vh(g,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Nm(i,r.document),u=r.readTime?xa(r.readTime):Ne.min(),d=on.newNoDocument(o,u),m=r.removedTargetIds||[];n=new vh([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Nm(i,r.document),u=r.removedTargetIds||[];n=new vh([],u,o,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,d=new y2(o,u),m=r.targetId;n=new h1(m,d)}}return n}function C2(i,e){let n;if(e instanceof Nu)n={update:E0(i,e.key,e.value)};else if(e instanceof Rp)n={delete:Xm(i,e.key)};else if(e instanceof hr)n={update:E0(i,e.key,e.data),updateMask:P2(e.fieldMask)};else{if(!(e instanceof m2))return xe(16599,{ft:e.type});n={verify:Xm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(u,d){const m=d.transform;if(m instanceof Dh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof cu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof hu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ih)return{fieldPath:d.field.canonicalString(),increment:m.Re};throw xe(20930,{transform:d.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:S2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)}(i,e.precondition)),n}function N2(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map(n=>function(o,u){let d=o.updateTime?xa(o.updateTime):xa(u);return d.isEqual(Ne.min())&&(d=xa(u)),new h2(d,o.transformResults||[])}(n,e))):[]}function D2(i,e){return{documents:[p1(i,e.path)]}}function I2(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=p1(i,o);const u=function(g){if(g.length!==0)return v1(na.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:io(b.field),direction:V2(b.dir)}}(E))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=Zm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function j2(i){let e=w2(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Xe(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const b=y1(A);return b instanceof na&&$E(b)?b.getFilters():[b]}(n.where));let d=[];n.orderBy&&(d=function(A){return A.map(b=>function(R){return new uu(ro(R.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(A){let b;return b=typeof A=="object"?A.value:A,Qh(b)?null:b}(n.limit));let y=null;n.startAt&&(y=function(A){const b=!!A.before,C=A.values||[];return new Nh(C,b)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const b=!A.before,C=A.values||[];return new Nh(C,b)}(n.endAt)),Jw(e,o,d,u,m,"F",y,g)}function O2(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y1(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ro(n.unaryFilter.field);return It.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(i):i.fieldFilter!==void 0?function(n){return It.create(ro(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return na.create(n.compositeFilter.filters.map(r=>y1(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(n.compositeFilter.op))}(i):xe(30097,{filter:i})}function V2(i){return T2[i]}function M2(i){return b2[i]}function k2(i){return A2[i]}function io(i){return{fieldPath:i.canonicalString()}}function ro(i){return Jt.fromServerFormat(i.fieldPath)}function v1(i){return i instanceof It?function(n){if(n.op==="=="){if(o0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(s0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(s0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:M2(n.op),value:n.value}}}(i):i instanceof na?function(n){const r=n.getFilters().map(o=>v1(o));return r.length===1?r[0]:{compositeFilter:{op:k2(n.op),filters:r}}}(i):xe(54877,{filter:i})}function P2(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r,o,u=Ne.min(),d=Ne.min(),m=Wt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.wt=e}}function U2(i){const e=j2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.Cn=new B2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Wi.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class B2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Lt(ht.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Lt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E1=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(E1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new yo(0)}static lr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="LruGarbageCollector",q2=1048576;function A0([i,e],[n,r]){const o=Me(i,n);return o===0?Me(e,r):o}class H2{constructor(e){this.Er=e,this.buffer=new Lt(A0),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();A0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(b0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?me(b0,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.mr(3e5)})}}class G2{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ae.resolve($h.le);const r=new H2(n);return this.gr.forEachTarget(e,o=>r.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>r.Rr(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(T0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T0):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,o,u,d,m,y,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(r=A,m=Date.now(),this.removeTargets(e,r,n))).next(A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(g=Date.now(),no()<=Ge.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function Y2(i,e){return new G2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.changes=new ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&tu(r.mutation,o,In.empty(),Pt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const o=Jr();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(u=>{let d=Yl();return u.forEach((m,y)=>{d=d.insert(m,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const o=[];return r.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,r,o){let u=fi();const d=eu(),m=function(){return eu()}();return n.forEach((y,g)=>{const E=r.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof hr)?u=u.insert(g.key,g):E!==void 0?(d.set(g.key,E.mutation.getFieldMask()),tu(E.mutation,g,E.mutation.getFieldMask(),Pt.now())):d.set(g.key,In.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((g,E)=>d.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new Q2(E,(A=d.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const r=eu();let o=new vt((d,m)=>d-m),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(y=>{const g=n.get(y);if(g===null)return;let E=r.get(y)||In.empty();E=m.applyToLocalView(g,E),r.set(y,E);const A=(o.get(m.batchId)||ze()).add(y);o=o.insert(m.batchId,A)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,A=n1();E.forEach(b=>{if(!u.has(b)){const C=l1(n.get(b),r.get(b));C!==null&&A.set(b,C),u=u.add(b)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ae.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(d){return Ee.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):ae.resolve(Jr());let m=ru,y=u;return d.next(g=>ae.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?ae.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{y=y.insert(E,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,y,g,ze())).next(E=>({batchId:m,changes:t1(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let o=Yl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(e,u).next(m=>ae.forEach(m,y=>{const g=function(A,b){return new Io(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next(E=>{E.forEach((A,b)=>{d=d.insert(A,b)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o))).next(d=>{u.forEach((y,g)=>{const E=g.getKey();d.get(E)===null&&(d=d.insert(E,on.newInvalidDocument(E)))});let m=Yl();return d.forEach((y,g)=>{const E=u.get(y);E!==void 0&&tu(E.mutation,g,In.empty(),Pt.now()),Jh(n,g)&&(m=m.insert(y,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ae.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:xa(o.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:U2(o.bundledQuery),readTime:xa(o.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.overlays=new vt(Ee.comparator),this.Qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return ae.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,u)=>{this.St(e,n,u)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Qr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const o=Jr(),u=n.length+1,d=new Ee(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new vt((g,E)=>g-E);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let E=u.get(g.largestBatchId);E===null&&(E=Jr(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Jr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ae.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(r.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new g2(n,r));let u=this.Qr.get(n);u===void 0&&(u=ze(),this.Qr.set(n,u)),this.Qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(){this.$r=new Lt(Gt.Ur),this.Kr=new Lt(Gt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Gt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ee(new ht([])),r=new Gt(n,e),o=new Gt(n,e+1),u=[];return this.Kr.forEachInRange([r,o],d=>{this.zr(d),u.push(d.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ee(new ht([])),r=new Gt(n,e),o=new Gt(n,e+1);let u=ze();return this.Kr.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new Gt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ee.comparator(e.key,n.key)||Me(e.Zr,n.Zr)}static Wr(e,n){return Me(e.Zr,n.Zr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Lt(Gt.Ur)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new p2(u,n,r,o);this.mutationQueue.push(d);for(const m of o)this.Xr=this.Xr.add(new Gt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(d)}lookupMutationBatch(e,n){return ae.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ti(r),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Tp:this.nr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),o=new Gt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([r,o],d=>{const m=this.ei(d.Zr);u.push(m)}),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Me);return n.forEach(o=>{const u=new Gt(o,0),d=new Gt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,d],m=>{r=r.add(m.Zr)})}),ae.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Ee.isDocumentKey(u)||(u=u.child(""));const d=new Gt(new Ee(u),0);let m=new Lt(Me);return this.Xr.forEachWhile(y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Zr)),!0)},d),ae.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(r=>{const o=this.ei(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Xe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ae.forEach(n.mutations,o=>{const u=new Gt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Gt(n,0),o=this.Xr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.ii=e,this.docs=function(){return new vt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,d=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=fi();const d=n.path,m=new Ee(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||Dw(Nw(E),r)<=0||(o.has(E.key)||Jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,r,o){xe(9500)}si(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tR(this)}getSize(e){return ae.resolve(this.size)}}class tR extends $2{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.persistence=e,this.oi=new ls(n=>xp(n),Sp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this._i=0,this.ai=new Ip,this.targetCount=0,this.ui=yo.cr()}forEachTarget(e,n){return this.oi.forEach((r,o)=>n(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ae.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new yo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Tr(n),ae.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.oi.forEach((d,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.oi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ae.waitFor(u).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n){this.ci={},this.overlays={},this.li=new $h(0),this.hi=!1,this.hi=!0,this.Pi=new J2,this.referenceDelegate=e(this),this.Ti=new nR(this),this.indexManager=new z2,this.remoteDocumentCache=function(o){return new eR(o)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new L2(n),this.Ei=new K2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new X2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new W2(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const o=new aR(this.li.next());return this.referenceDelegate.di(),r(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ae.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class aR extends jw{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.Vi=new Ip,this.mi=null}static fi(e){return new jp(e)}get gi(){if(this.mi)return this.mi;throw xe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.gi,r=>{const o=Ee.fromPath(r);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Ne.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ae.or([()=>ae.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.yi=new ls(r=>Mw(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=Y2(this,n)}static fi(e,n){return new Oh(e,n)}di(){}Ai(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ae.forEach(this.yi,(r,o)=>this.Dr(e,r,o).next(u=>u?ae.resolve():n(o)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,n).next(m=>{m||(r++,u.removeEntry(d,Ne.min()))})).next(()=>u.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}Dr(e,n,r){return ae.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ae.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.ds=r,this.As=o}static Rs(e,n){let r=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Op(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Wx()?8:Ow(Xx())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ws(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.bs(e,n,o,r).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new iR;return this.Ss(e,n,d).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,d,m.size)})}).next(()=>u.result)}Ds(e,n,r,o){return r.documentReadCount<this.gs?(no()<=Ge.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ae.resolve()):(no()<=Ge.DEBUG&&me("QueryEngine","Query:",ao(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ps*o?(no()<=Ge.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Aa(n))):ae.resolve())}ws(e,n){if(h0(n))return ae.resolve(null);let r=Aa(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Qm(n,null,"F"),r=Aa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=ze(...u);return this.ys.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(y=>{const g=this.vs(n,m);return this.Cs(n,g,d,y.readTime)?this.ws(e,Qm(n,null,"F")):this.Fs(e,g,n,y)}))})))}bs(e,n,r,o){return h0(n)||o.isEqual(Ne.min())?ae.resolve(null):this.ys.getDocuments(e,r).next(u=>{const d=this.vs(n,u);return this.Cs(n,d,r,o)?ae.resolve(null):(no()<=Ge.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.Fs(e,d,n,Cw(o,ru)).next(m=>m))})}vs(e,n){let r=new Lt(WE(e));return n.forEach((o,u)=>{Jh(e,u)&&(r=r.add(u))}),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return no()<=Ge.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ys.getDocumentsMatchingQuery(e,n,Wi.min(),r)}Fs(e,n,r,o){return this.ys.getDocumentsMatchingQuery(e,r,o).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="LocalStore",sR=3e8;class oR{constructor(e,n,r,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new vt(Me),this.Os=new ls(u=>xp(u),Sp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function lR(i,e,n,r){return new oR(i,e,n,r)}async function b1(i,e){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let y=ze();for(const g of o){d.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(r,y).next(g=>({ks:g,removedBatchIds:d,addedBatchIds:m}))})})}function uR(i,e){const n=De(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,y,g,E){const A=g.batch,b=A.keys();let C=ae.resolve();return b.forEach(R=>{C=C.next(()=>E.getEntry(y,R)).next(N=>{const V=g.docVersions.get(R);Xe(V!==null,48541),N.version.compareTo(V)<0&&(A.applyToRemoteDocument(N,g),N.isValidDocument()&&(N.setReadTime(g.commitVersion),E.addEntry(N)))})}),C.next(()=>m.mutationQueue.removeMutationBatch(y,A))}(n,r,e,u).next(()=>u.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let y=ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function A1(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function cR(i,e){const n=De(i),r=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,A)=>{const b=o.get(A);if(!b)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,A)));let C=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?C=C.withResumeToken(Wt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,r)),o=o.insert(A,C),function(N,V,H){return N.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=sR?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(b,C,E)&&m.push(n.Ti.updateTargetData(u,C))});let y=fi(),g=ze();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(hR(u,d,e.documentUpdates).next(E=>{y=E.qs,g=E.Qs})),!r.isEqual(Ne.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(A=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(E)}return ae.waitFor(m).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,g)).next(()=>y)}).then(u=>(n.xs=o,u))}function hR(i,e,n){let r=ze(),o=ze();return n.forEach(u=>r=r.add(u)),e.getEntries(i,r).next(u=>{let d=fi();return n.forEach((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Ne.min())?(e.removeEntry(m,y.readTime),d=d.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),d=d.insert(m,y)):me(Vp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)}),{qs:d,Qs:o}})}function dR(i,e){const n=De(i);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Tp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fR(i,e){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Ti.getTargetData(r,e).next(u=>u?(o=u,ae.resolve(o)):n.Ti.allocateTargetId(r).next(d=>(o=new Qi(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.xs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Wm(i,e,n){const r=De(i),o=r.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Do(d))throw d;me(Vp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.xs=r.xs.remove(e),r.Os.delete(o.target)}function x0(i,e,n){const r=De(i);let o=Ne.min(),u=ze();return r.persistence.runTransaction("Execute query","readwrite",d=>function(y,g,E){const A=De(y),b=A.Os.get(E);return b!==void 0?ae.resolve(A.xs.get(b)):A.Ti.getTargetData(g,E)}(r,d,Aa(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(d,m.targetId).next(y=>{u=y})}).next(()=>r.Ms.getDocumentsMatchingQuery(d,e,n?o:Ne.min(),n?u:ze())).next(m=>(mR(r,e2(e),m),{documents:m,$s:u})))}function mR(i,e,n){let r=i.Ns.get(e)||Ne.min();n.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),i.Ns.set(e,r)}class S0{constructor(){this.activeTargetIds=s2()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pR{constructor(){this.xo=new S0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new S0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="ConnectivityMonitor";class R0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(w0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(w0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function ep(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="RestConnection",yR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vR{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${o}`,this.Go=this.databaseId.database===Rh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}zo(e,n,r,o,u){const d=ep(),m=this.jo(e,n.toUriEncodedString());me(Dm,`Sending RPC '${e}' ${d}:`,m,r);const y={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(y,o,u);const{host:g}=new URL(m),E=vp(g);return this.Jo(e,m,y,r,E).then(A=>(me(Dm,`Received RPC '${e}' ${d}: `,A),A),A=>{throw fo(Dm,`RPC '${e}' ${d} failed with error: `,A,"url: ",m,"request:",r),A})}Yo(e,n,r,o,u,d){return this.zo(e,n,r,o,u)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const r=yR[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class ER extends vR{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const d=ep();return new Promise((m,y)=>{const g=new wE;g.setWithCredentials(!0),g.listenOnce(RE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case mh.NO_ERROR:const A=g.getResponseJson();me(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),m(A);break;case mh.TIMEOUT:me(an,`RPC '${e}' ${d} timed out`),y(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const b=g.getStatus();if(me(an,`RPC '${e}' ${d} failed with status:`,b,"response text:",g.getResponseText()),b>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const R=C==null?void 0:C.error;if(R&&R.status&&R.message){const N=function(H){const M=H.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(M)>=0?M:ne.UNKNOWN}(R.status);y(new pe(N,R.message))}else y(new pe(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{h_:e,streamId:d,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{me(an,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);me(an,`RPC '${e}' ${d} sending request:`,o),g.send(n,"POST",E,r,15)})}I_(e,n,r){const o=ep(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=DE(),m=NE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Ho(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const E=u.join("");me(an,`Creating RPC '${e}' stream ${o}: ${E}`,y);const A=d.createWebChannel(E,y);this.E_(A);let b=!1,C=!1;const R=new _R({Zo:V=>{C?me(an,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(b||(me(an,`Opening RPC '${e}' stream ${o} transport.`),A.open(),b=!0),me(an,`RPC '${e}' stream ${o} sending:`,V),A.send(V))},Xo:()=>A.close()}),N=(V,H,M)=>{V.listen(H,Q=>{try{M(Q)}catch(ie){setTimeout(()=>{throw ie},0)}})};return N(A,Gl.EventType.OPEN,()=>{C||(me(an,`RPC '${e}' stream ${o} transport opened.`),R.__())}),N(A,Gl.EventType.CLOSE,()=>{C||(C=!0,me(an,`RPC '${e}' stream ${o} transport closed`),R.u_(),this.d_(A))}),N(A,Gl.EventType.ERROR,V=>{C||(C=!0,fo(an,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),R.u_(new pe(ne.UNAVAILABLE,"The operation could not be completed")))}),N(A,Gl.EventType.MESSAGE,V=>{var H;if(!C){const M=V.data[0];Xe(!!M,16349);const Q=M,ie=(Q==null?void 0:Q.error)||((H=Q[0])===null||H===void 0?void 0:H.error);if(ie){me(an,`RPC '${e}' stream ${o} received error:`,ie);const W=ie.status;let de=function(D){const k=Dt[D];if(k!==void 0)return c1(k)}(W),O=ie.message;de===void 0&&(de=ne.INTERNAL,O="Unknown error status: "+W+" with message "+ie.message),C=!0,R.u_(new pe(de,O)),A.close()}else me(an,`RPC '${e}' stream ${o} received:`,M),R.c_(M)}}),N(m,CE.STAT_EVENT,V=>{V.stat===Bm.PROXY?me(an,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Bm.NOPROXY&&me(an,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(i){return new x2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n,r=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-r);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="PersistentStream";class S1{constructor(e,n,r,o,u,d,m,y){this.xi=e,this.S_=r,this.D_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new x1(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.v_===n&&this.z_(r,o)},r=>{e(()=>{const o=new pe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(o)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{r(()=>this.j_(o))}),this.stream.onMessage(o=>{r(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return me(C0,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(me(C0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TR extends S1{constructor(e,n,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,d),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=R2(this.serializer,e),r=function(u){if(!("targetChange"in u))return Ne.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ne.min():d.readTime?xa(d.readTime):Ne.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Jm(this.serializer),n.addTarget=function(u,d){let m;const y=d.target;if(m=Ym(y)?{documents:D2(u,y)}:{query:I2(u,y).gt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=f1(u,d.resumeToken);const g=Zm(u,d.expectedCount);g!==null&&(m.expectedCount=g)}else if(d.snapshotVersion.compareTo(Ne.min())>0){m.readTime=jh(u,d.snapshotVersion.toTimestamp());const g=Zm(u,d.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const r=O2(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Jm(this.serializer),n.removeTarget=e,this.Q_(n)}}class bR extends S1{constructor(e,n,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,d),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=N2(e.writeResults,e.commitTime),r=xa(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Jm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>C2(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{}class xR extends AR{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.zo(e,Km(n,r),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ne.UNKNOWN,u.toString())})}Yo(e,n,r,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Yo(e,Km(n,r),o,d,m,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(ne.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class SR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(di(n),this.ua=!1):me("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="RemoteStore";class wR{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(d=>{r.enqueueAndForget(async()=>{us(this)&&(me(ns,"Restarting streams for network reachability change."),await async function(y){const g=De(y);g.da.add(4),await Iu(g),g.Va.set("Unknown"),g.da.delete(4),await ad(g)}(this))})}),this.Va=new SR(r,o)}}async function ad(i){if(us(i))for(const e of i.Aa)await e(!0)}async function Iu(i){for(const e of i.Aa)await e(!1)}function w1(i,e){const n=De(i);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Lp(n)?Pp(n):jo(n).N_()&&kp(n,e))}function Mp(i,e){const n=De(i),r=jo(n);n.Ea.delete(e),r.N_()&&R1(n,e),n.Ea.size===0&&(r.N_()?r.k_():us(n)&&n.Va.set("Unknown"))}function kp(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jo(i).Z_(e)}function R1(i,e){i.ma.Ke(e),jo(i).X_(e)}function Pp(i){i.ma=new E2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),jo(i).start(),i.Va.ca()}function Lp(i){return us(i)&&!jo(i).O_()&&i.Ea.size>0}function us(i){return De(i).da.size===0}function C1(i){i.ma=void 0}async function RR(i){i.Va.set("Online")}async function CR(i){i.Ea.forEach((e,n)=>{kp(i,e)})}async function NR(i,e){C1(i),Lp(i)?(i.Va.Pa(e),Pp(i)):i.Va.set("Unknown")}async function DR(i,e,n){if(i.Va.set("Online"),e instanceof d1&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ea.delete(m),o.ma.removeTarget(m))}(i,e)}catch(r){me(ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vh(i,r)}else if(e instanceof vh?i.ma.Xe(e):e instanceof h1?i.ma.ot(e):i.ma.nt(e),!n.isEqual(Ne.min()))try{const r=await A1(i.localStore);n.compareTo(r)>=0&&await function(u,d){const m=u.ma.It(d);return m.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ea.get(g);E&&u.Ea.set(g,E.withResumeToken(y.resumeToken,d))}}),m.targetMismatches.forEach((y,g)=>{const E=u.Ea.get(y);if(!E)return;u.Ea.set(y,E.withResumeToken(Wt.EMPTY_BYTE_STRING,E.snapshotVersion)),R1(u,y);const A=new Qi(E.target,y,g,E.sequenceNumber);kp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(r){me(ns,"Failed to raise snapshot:",r),await Vh(i,r)}}async function Vh(i,e,n){if(!Do(e))throw e;i.da.add(1),await Iu(i),i.Va.set("Offline"),n||(n=()=>A1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(ns,"Retrying IndexedDB access"),await n(),i.da.delete(1),await ad(i)})}function N1(i,e){return e().catch(n=>Vh(i,n,e))}async function id(i){const e=De(i),n=ar(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Tp;for(;IR(e);)try{const o=await dR(e.localStore,r);if(o===null){e.Ia.length===0&&n.k_();break}r=o.batchId,jR(e,o)}catch(o){await Vh(e,o)}D1(e)&&I1(e)}function IR(i){return us(i)&&i.Ia.length<10}function jR(i,e){i.Ia.push(e);const n=ar(i);n.N_()&&n.ea&&n.ta(e.mutations)}function D1(i){return us(i)&&!ar(i).O_()&&i.Ia.length>0}function I1(i){ar(i).start()}async function OR(i){ar(i).ia()}async function VR(i){const e=ar(i);for(const n of i.Ia)e.ta(n.mutations)}async function MR(i,e,n){const r=i.Ia.shift(),o=Cp.from(r,e,n);await N1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await id(i)}async function kR(i,e){e&&ar(i).ea&&await async function(r,o){if(function(d){return v2(d)&&d!==ne.ABORTED}(o.code)){const u=r.Ia.shift();ar(r).L_(),await N1(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await id(r)}}(i,e),D1(i)&&I1(i)}async function N0(i,e){const n=De(i);n.asyncQueue.verifyOperationInProgress(),me(ns,"RemoteStore received new credentials");const r=us(n);n.da.add(3),await Iu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await ad(n)}async function PR(i,e){const n=De(i);e?(n.da.delete(2),await ad(n)):e||(n.da.add(2),await Iu(n),n.Va.set("Unknown"))}function jo(i){return i.fa||(i.fa=function(n,r,o){const u=De(n);return u.oa(),new TR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:RR.bind(null,i),n_:CR.bind(null,i),i_:NR.bind(null,i),Y_:DR.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),Lp(i)?Pp(i):i.Va.set("Unknown")):(await i.fa.stop(),C1(i))})),i.fa}function ar(i){return i.ga||(i.ga=function(n,r,o){const u=De(n);return u.oa(),new bR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:OR.bind(null,i),i_:kR.bind(null,i),na:VR.bind(null,i),ra:MR.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await id(i)):(await i.ga.stop(),i.Ia.length>0&&(me(ns,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const d=Date.now()+r,m=new Up(e,n,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(i,e){if(di("AsyncQueue",`${e}: ${i}`),Do(i))return new pe(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Yl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.pa=new vt(Ee.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class vo{constructor(e,n,r,o,u,d,m,y,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,o,u){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new vo(e,n,uo.emptySet(n),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class UR{constructor(){this.queries=I0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=De(n),u=o.queries;o.queries=I0(),u.forEach((d,m)=>{for(const y of m.Sa)y.onError(r)})})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function I0(){return new ls(i=>JE(i),Xh)}async function Bp(i,e){const n=De(i);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(r=2):(u=new LR,r=e.va()?0:1);try{switch(r){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=zp(d,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&Hp(n)}async function qp(i,e){const n=De(i),r=e.query;let o=3;const u=n.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zR(i,e){const n=De(i);let r=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const m of d.Sa)m.Ma(o)&&(r=!0);d.ba=o}}r&&Hp(n)}function BR(i,e,n){const r=De(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function Hp(i){i.Ca.forEach(e=>{e.next()})}var tp,j0;(j0=tp||(tp={})).xa="default",j0.Cache="cache";class Fp{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.key=e}}class O1{constructor(e){this.key=e}}class qR{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.Za=WE(e),this.Xa=new uo(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new D0,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const b=o.get(E),C=Jh(this.query,A)?A:null,R=!!b&&this.mutatedKeys.has(b.key),N=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;b&&C?b.data.isEqual(C.data)?R!==N&&(r.track({type:3,doc:C}),V=!0):this.ru(b,C)||(r.track({type:2,doc:C}),V=!0,(y&&this.Za(C,y)>0||g&&this.Za(C,g)<0)&&(m=!0)):!b&&C?(r.track({type:0,doc:C}),V=!0):b&&!C&&(r.track({type:1,doc:b}),V=!0,(y||g)&&(m=!0)),V&&(C?(d=d.add(C),u=N?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{Xa:d,nu:r,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((E,A)=>function(C,R){const N=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:V})}};return N(C)-N(R)}(E.type,A.type)||this.Za(E.doc,A.doc)),this.iu(r),o=o!=null&&o;const m=n&&!o?this.su():[],y=this.Ya.size===0&&this.current&&!o?1:0,g=y!==this.Ja;return this.Ja=y,d.length!==0||g?{snapshot:new vo(this.query,e.Xa,u,d,e.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new D0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new O1(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new j1(r))}),n}au(e){this.Ha=e.$s,this.Ya=ze();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return vo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Gp="SyncEngine";class HR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FR{constructor(e){this.key=e,this.cu=!1}}class GR{constructor(e,n,r,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new ls(m=>JE(m),Xh),this.Pu=new Map,this.Tu=new Set,this.Iu=new vt(Ee.comparator),this.Eu=new Map,this.du=new Ip,this.Au={},this.Ru=new Map,this.Vu=yo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function YR(i,e,n=!0){const r=U1(i);let o;const u=r.hu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await V1(r,e,n,!0),o}async function $R(i,e){const n=U1(i);await V1(n,e,!0,!1)}async function V1(i,e,n,r){const o=await fR(i.localStore,Aa(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await QR(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&w1(i.remoteStore,o),m}async function QR(i,e,n,r,o){i.fu=(A,b,C)=>async function(N,V,H,M){let Q=V.view.tu(H);Q.Cs&&(Q=await x0(N.localStore,V.query,!1).then(({documents:O})=>V.view.tu(O,Q)));const ie=M&&M.targetChanges.get(V.targetId),W=M&&M.targetMismatches.get(V.targetId)!=null,de=V.view.applyChanges(Q,N.isPrimaryClient,ie,W);return V0(N,V.targetId,de.ou),de.snapshot}(i,A,b,C);const u=await x0(i.localStore,e,!0),d=new qR(e,u.$s),m=d.tu(u.documents),y=Du.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),g=d.applyChanges(m,i.isPrimaryClient,y);V0(i,n,g.ou);const E=new HR(e,n,d);return i.hu.set(e,E),i.Pu.has(n)?i.Pu.get(n).push(e):i.Pu.set(n,[e]),g.snapshot}async function ZR(i,e,n){const r=De(i),o=r.hu.get(e),u=r.Pu.get(o.targetId);if(u.length>1)return r.Pu.set(o.targetId,u.filter(d=>!Xh(d,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Wm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Mp(r.remoteStore,o.targetId),np(r,o.targetId)}).catch(No)):(np(r,o.targetId),await Wm(r.localStore,o.targetId,!0))}async function KR(i,e){const n=De(i),r=n.hu.get(e),o=n.Pu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mp(n.remoteStore,r.targetId))}async function XR(i,e,n){const r=iC(i);try{const o=await function(d,m){const y=De(d),g=Pt.now(),E=m.reduce((C,R)=>C.add(R.key),ze());let A,b;return y.persistence.runTransaction("Locally write mutations","readwrite",C=>{let R=fi(),N=ze();return y.Bs.getEntries(C,E).next(V=>{R=V,R.forEach((H,M)=>{M.isValidDocument()||(N=N.add(H))})}).next(()=>y.localDocuments.getOverlayedDocuments(C,R)).next(V=>{A=V;const H=[];for(const M of m){const Q=f2(M,A.get(M.key).overlayedDocument);Q!=null&&H.push(new hr(M.key,Q,FE(Q.value.mapValue),Yn.exists(!0)))}return y.mutationQueue.addMutationBatch(C,g,H,m)}).next(V=>{b=V;const H=V.applyToLocalDocumentSet(A,N);return y.documentOverlayCache.saveOverlays(C,V.batchId,H)})}).then(()=>({batchId:b.batchId,changes:t1(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(d,m,y){let g=d.Au[d.currentUser.toKey()];g||(g=new vt(Me)),g=g.insert(m,y),d.Au[d.currentUser.toKey()]=g}(r,o.batchId,n),await ju(r,o.changes),await id(r.remoteStore)}catch(o){const u=zp(o,"Failed to persist write");n.reject(u)}}async function M1(i,e){const n=De(i);try{const r=await cR(n.localStore,e);e.targetChanges.forEach((o,u)=>{const d=n.Eu.get(u);d&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.cu=!0:o.modifiedDocuments.size>0?Xe(d.cu,14607):o.removedDocuments.size>0&&(Xe(d.cu,42227),d.cu=!1))}),await ju(n,r,e)}catch(r){await No(r)}}function O0(i,e,n){const r=De(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.hu.forEach((u,d)=>{const m=d.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const y=De(d);y.onlineState=m;let g=!1;y.queries.forEach((E,A)=>{for(const b of A.Sa)b.Fa(m)&&(g=!0)}),g&&Hp(y)}(r.eventManager,e),o.length&&r.lu.Y_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JR(i,e,n){const r=De(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Eu.get(e),u=o&&o.key;if(u){let d=new vt(Ee.comparator);d=d.insert(u,on.newNoDocument(u,Ne.min()));const m=ze().add(u),y=new td(Ne.min(),new Map,new vt(Me),d,m);await M1(r,y),r.Iu=r.Iu.remove(u),r.Eu.delete(e),Yp(r)}else await Wm(r.localStore,e,!1).then(()=>np(r,e,n)).catch(No)}async function WR(i,e){const n=De(i),r=e.batch.batchId;try{const o=await uR(n.localStore,e);P1(n,r,null),k1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ju(n,o)}catch(o){await No(o)}}async function eC(i,e,n){const r=De(i);try{const o=await function(d,m){const y=De(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next(A=>(Xe(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(g,A))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>y.localDocuments.getDocuments(g,E))})}(r.localStore,e);P1(r,e,n),k1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ju(r,o)}catch(o){await No(o)}}function k1(i,e){(i.Ru.get(e)||[]).forEach(n=>{n.resolve()}),i.Ru.delete(e)}function P1(i,e,n){const r=De(i);let o=r.Au[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Au[r.currentUser.toKey()]=o}}function np(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Pu.get(e))i.hu.delete(r),n&&i.lu.gu(r,n);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(r=>{i.du.containsKey(r)||L1(i,r)})}function L1(i,e){i.Tu.delete(e.path.canonicalString());const n=i.Iu.get(e);n!==null&&(Mp(i.remoteStore,n),i.Iu=i.Iu.remove(e),i.Eu.delete(n),Yp(i))}function V0(i,e,n){for(const r of n)r instanceof j1?(i.du.addReference(r.key,e),tC(i,r)):r instanceof O1?(me(Gp,"Document no longer in limbo: "+r.key),i.du.removeReference(r.key,e),i.du.containsKey(r.key)||L1(i,r.key)):xe(19791,{pu:r})}function tC(i,e){const n=e.key,r=n.path.canonicalString();i.Iu.get(n)||i.Tu.has(r)||(me(Gp,"New document in limbo: "+n),i.Tu.add(r),Yp(i))}function Yp(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const n=new Ee(ht.fromString(e)),r=i.Vu.next();i.Eu.set(r,new FR(n)),i.Iu=i.Iu.insert(n,r),w1(i.remoteStore,new Qi(Aa(Kh(n.path)),r,"TargetPurposeLimboResolution",$h.le))}}async function ju(i,e,n){const r=De(i),o=[],u=[],d=[];r.hu.isEmpty()||(r.hu.forEach((m,y)=>{d.push(r.fu(y,e,n).then(g=>{var E;if((g||n)&&r.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Op.Rs(y.targetId,g);u.push(A)}}))}),await Promise.all(d),r.lu.Y_(o),await async function(y,g){const E=De(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ae.forEach(g,b=>ae.forEach(b.ds,C=>E.persistence.referenceDelegate.addReference(A,b.targetId,C)).next(()=>ae.forEach(b.As,C=>E.persistence.referenceDelegate.removeReference(A,b.targetId,C)))))}catch(A){if(!Do(A))throw A;me(Vp,"Failed to update sequence numbers: "+A)}for(const A of g){const b=A.targetId;if(!A.fromCache){const C=E.xs.get(b),R=C.snapshotVersion,N=C.withLastLimboFreeSnapshotVersion(R);E.xs=E.xs.insert(b,N)}}}(r.localStore,u))}async function nC(i,e){const n=De(i);if(!n.currentUser.isEqual(e)){me(Gp,"User change. New user:",e.toKey());const r=await b1(n.localStore,e);n.currentUser=e,function(u,d){u.Ru.forEach(m=>{m.forEach(y=>{y.reject(new pe(ne.CANCELLED,d))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ju(n,r.ks)}}function aC(i,e){const n=De(i),r=n.Eu.get(e);if(r&&r.cu)return ze().add(r.key);{let o=ze();const u=n.Pu.get(e);if(!u)return o;for(const d of u){const m=n.hu.get(d);o=o.unionWith(m.view.eu)}return o}}function U1(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=M1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JR.bind(null,e),e.lu.Y_=zR.bind(null,e.eventManager),e.lu.gu=BR.bind(null,e.eventManager),e}function iC(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eC.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return lR(this.persistence,new rR,e.initialUser,this.serializer)}Su(e){return new T1(jp.fi,this.serializer)}bu(e){return new pR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class rC extends Mh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Xe(this.persistence.referenceDelegate instanceof Oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new F2(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new T1(r=>Oh.fi(r,n),this.serializer)}}class ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>O0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nC.bind(null,this.syncEngine),await PR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UR}()}createDatastore(e){const n=nd(e.databaseInfo.databaseId),r=function(u){return new ER(u)}(e.databaseInfo);return function(u,d,m,y){return new xR(u,d,m,y)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,u,d,m){return new wR(r,o,u,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>O0(this.syncEngine,n,0),function(){return R0.C()?new R0:new gR}())}createSyncEngine(e,n){return function(o,u,d,m,y,g,E){const A=new GR(o,u,d,m,y,g);return E&&(A.mu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=De(o);me(ns,"RemoteStore shutting down."),u.da.add(5),await Iu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ap.provider={build:()=>new ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="FirestoreClient";class sC{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=VE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async d=>{me(ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(me(ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jm(i,e){i.asyncQueue.verifyOperationInProgress(),me(ir,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener(async o=>{r.isEqual(o)||(await b1(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function M0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await oC(i);me(ir,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(r=>N0(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,o)=>N0(e.remoteStore,o)),i._onlineComponents=e}async function oC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(ir,"Using user provided OfflineComponentProvider");try{await jm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await jm(i,new Mh)}}else me(ir,"Using default OfflineComponentProvider"),await jm(i,new rC(void 0));return i._offlineComponents}async function z1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(ir,"Using user provided OnlineComponentProvider"),await M0(i,i._uninitializedComponentsProvider._online)):(me(ir,"Using default OnlineComponentProvider"),await M0(i,new ap))),i._onlineComponents}function lC(i){return z1(i).then(e=>e.syncEngine)}async function kh(i){const e=await z1(i),n=e.eventManager;return n.onListen=YR.bind(null,e.syncEngine),n.onUnlisten=ZR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$R.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KR.bind(null,e.syncEngine),n}function uC(i,e,n={}){const r=new li;return i.asyncQueue.enqueueAndForget(async()=>function(u,d,m,y,g){const E=new $p({next:b=>{E.xu(),d.enqueueAndForget(()=>qp(u,A));const C=b.docs.has(m);!C&&b.fromCache?g.reject(new pe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&y&&y.source==="server"?g.reject(new pe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),A=new Fp(Kh(m.path),E,{includeMetadataChanges:!0,Qa:!0});return Bp(u,A)}(await kh(i),i.asyncQueue,e,n,r)),r.promise}function cC(i,e,n={}){const r=new li;return i.asyncQueue.enqueueAndForget(async()=>function(u,d,m,y,g){const E=new $p({next:b=>{E.xu(),d.enqueueAndForget(()=>qp(u,A)),b.fromCache&&y.source==="server"?g.reject(new pe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),A=new Fp(m,E,{includeMetadataChanges:!0,Qa:!0});return Bp(u,A)}(await kh(i),i.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(i,e,n){if(!n)throw new pe(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function hC(i,e,n,r){if(e===!0&&r===!0)throw new pe(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function P0(i){if(!Ee.isDocumentKey(i))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function L0(i){if(Ee.isDocumentKey(i))throw new pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function rd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe(12329,{type:typeof i})}function Tn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rd(i);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firestore.googleapis.com",U0=!0;class z0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H1,this.ssl=U0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:U0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q2)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _w;switch(r.type){case"firstParty":return new Aw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=k0.get(n);r&&(me("ComponentProvider","Removing Datastore"),k0.delete(n),r.terminate())}(this),Promise.resolve()}}function dC(i,e,n,r={}){var o;i=Tn(i,sd);const u=vp(e),d=i._getSettings(),m=Object.assign(Object.assign({},d),{emulatorOptions:i._getEmulatorOptions()}),y=`${e}:${n}`;u&&(Yx(`https://${y}`),Kx("Firestore",!0)),d.host!==H1&&d.host!==y&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},d),{host:y,ssl:u,emulatorOptions:r});if(!Ah(g,m)&&(i._setSettings(g),r.mockUserToken)){let E,A;if(typeof r.mockUserToken=="string")E=r.mockUserToken,A=rn.MOCK_USER;else{E=$x(r.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new rn(b)}i._authCredentials=new Ew(new jE(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dr(this.firestore,e,this._query)}}class un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class Ji extends dr{constructor(e,n,r){super(e,n,Kh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new Ee(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function $n(i,e,...n){if(i=Ra(i),q1("collection","path",e),i instanceof sd){const r=ht.fromString(e,...n);return L0(r),new Ji(i,null,r)}{if(!(i instanceof un||i instanceof Ji))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ht.fromString(e,...n));return L0(r),new Ji(i.firestore,null,r)}}function ln(i,e,...n){if(i=Ra(i),arguments.length===1&&(e=VE.newId()),q1("doc","path",e),i instanceof sd){const r=ht.fromString(e,...n);return P0(r),new un(i,null,new Ee(r))}{if(!(i instanceof un||i instanceof Ji))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ht.fromString(e,...n));return P0(r),new un(i.firestore,i instanceof Ji?i.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="AsyncQueue";class q0{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new x1(this,"async_queue_retry"),this.rc=()=>{const r=Im();r&&me(B0,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new li;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Do(e))throw e;me(B0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,di("INTERNAL UNHANDLED ERROR: ",H0(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=Up.createAndSchedule(this,e,n,r,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&xe(47125,{cc:H0(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function H0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(i){return function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class mi extends sd{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new q0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q0(e),this._firestoreClient=void 0,await e}}}function fC(i,e){const n=typeof i=="object"?i:sw(),r=typeof i=="string"?i:Rh,o=tw(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=Fx("firestore");u&&dC(o,...u)}return o}function od(i){if(i._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||mC(i),i._firestoreClient}function mC(i){var e,n,r;const o=i._freezeSettings(),u=function(m,y,g,E){return new Lw(m,y,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,B1(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new sC(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o(Wt.fromBase64String(e))}catch(n){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _o(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=/^__.*__$/;class gC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class F1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function G1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ic:i})}}class Xp{constructor(e,n,r,o,u,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Xp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:r,Rc:!1});return o.Vc(e),o}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:r,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ph(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(G1(this.Ic)&&pC.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class yC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nd(e)}bc(e,n,r,o=!1){return new Xp({Ic:e,methodName:n,wc:r,path:Jt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ud(i){const e=i._freezeSettings(),n=nd(i._databaseId);return new yC(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Y1(i,e,n,r,o,u={}){const d=i.bc(u.merge||u.mergeFields?2:0,e,n,o);Jp("Data must be an object, but it was:",d,r);const m=$1(r,d);let y,g;if(u.merge)y=new In(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const b=ip(e,A,n);if(!d.contains(b))throw new pe(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Z1(E,b)||E.push(b)}y=new In(E),g=d.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,g=d.fieldTransforms;return new gC(new En(m),y,g)}class cd extends Qp{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cd}}function vC(i,e,n,r){const o=i.bc(1,e,n);Jp("Data must be an object, but it was:",o,r);const u=[],d=En.empty();cr(r,(y,g)=>{const E=Wp(e,y,n);g=Ra(g);const A=o.mc(E);if(g instanceof cd)u.push(E);else{const b=Ou(g,A);b!=null&&(u.push(E),d.set(E,b))}});const m=new In(u);return new F1(d,m,o.fieldTransforms)}function _C(i,e,n,r,o,u){const d=i.bc(1,e,n),m=[ip(e,r,n)],y=[o];if(u.length%2!=0)throw new pe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(ip(e,u[b])),y.push(u[b+1]);const g=[],E=En.empty();for(let b=m.length-1;b>=0;--b)if(!Z1(g,m[b])){const C=m[b];let R=y[b];R=Ra(R);const N=d.mc(C);if(R instanceof cd)g.push(C);else{const V=Ou(R,N);V!=null&&(g.push(C),E.set(C,V))}}const A=new In(g);return new F1(E,A,d.fieldTransforms)}function EC(i,e,n,r=!1){return Ou(n,i.bc(r?4:3,e))}function Ou(i,e){if(Q1(i=Ra(i)))return Jp("Unsupported field value:",e,i),$1(i,e);if(i instanceof Qp)return function(r,o){if(!G1(o.Ic))throw o.gc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,o){const u=[];let d=0;for(const m of r){let y=Ou(m,o.fc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}}(i,e)}return function(r,o){if((r=Ra(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Pt.fromDate(r);return{timestampValue:jh(o.serializer,u)}}if(r instanceof Pt){const u=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(r instanceof Zp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _o)return{bytesValue:f1(o.serializer,r._byteString)};if(r instanceof un){const u=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw o.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Kp)return function(d,m){return{mapValue:{fields:{[qE]:{stringValue:HE},[Ch]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return wp(m.serializer,g)})}}}}}}(r,o);throw o.gc(`Unsupported field value: ${rd(r)}`)}(i,e)}function $1(i,e){const n={};return kE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cr(i,(r,o)=>{const u=Ou(o,e.Ac(r));u!=null&&(n[r]=u)}),{mapValue:{fields:n}}}function Q1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Pt||i instanceof Zp||i instanceof _o||i instanceof un||i instanceof Qp||i instanceof Kp)}function Jp(i,e,n){if(!Q1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=rd(n);throw r==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+r)}}function ip(i,e,n){if((e=Ra(e))instanceof ld)return e._internalPath;if(typeof e=="string")return Wp(i,e);throw Ph("Field path arguments must be of type string or ",i,!1,void 0,n)}const TC=new RegExp("[~\\*/\\[\\]]");function Wp(i,e,n){if(e.search(TC)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ld(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ph(i,e,n,r,o){const u=r&&!r.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new pe(ne.INVALID_ARGUMENT,m+i+y)}function Z1(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bC extends K1{data(){return super.data()}}function hd(i,e){return typeof e=="string"?Wp(i,e):e instanceof ld?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}class J1 extends eg{}function Eo(i,e,...n){let r=[];e instanceof eg&&r.push(e),r=r.concat(n),function(u){const d=u.filter(y=>y instanceof tg).length,m=u.filter(y=>y instanceof dd).length;if(d>1||d>0&&m>0)throw new pe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)i=o._apply(i);return i}class dd extends J1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dd(e,n,r)}_apply(e){const n=this._parse(e);return W1(e._query,n),new dr(e.firestore,e.converter,$m(e._query,n))}_parse(e){const n=ud(e.firestore);return function(u,d,m,y,g,E,A){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){$0(A,E);const R=[];for(const N of A)R.push(Y0(y,u,N));b={arrayValue:{values:R}}}else b=Y0(y,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||$0(A,E),b=EC(m,d,A,E==="in"||E==="not-in");return It.create(g,E,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function co(i,e,n){const r=e,o=hd("where",i);return dd._create(o,r,n)}class tg extends eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:na.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let d=o;const m=u.getFlattenedFilters();for(const y of m)W1(d,y),d=$m(d,y)}(e._query,n),new dr(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ng extends J1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ng(e,n)}_apply(e){const n=function(o,u,d){if(o.startAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uu(u,d)}(e._query,this._field,this._direction);return new dr(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new Io(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function G0(i,e="asc"){const n=e,r=hd("orderBy",i);return ng._create(r,n)}function Y0(i,e,n){if(typeof(n=Ra(n))=="string"){if(n==="")throw new pe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XE(e)&&n.indexOf("/")!==-1)throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ht.fromString(n));if(!Ee.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return r0(i,new Ee(r))}if(n instanceof un)return r0(i,n._key);throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rd(n)}.`)}function $0(i,e){if(!Array.isArray(i)||i.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function W1(i,e){const n=function(o,u){for(const d of o)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AC{convertValue(e,n="none"){switch(nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cr(e,(o,u)=>{r[o]=this.convertValue(u,n)}),r}convertVectorValue(e){var n,r,o;const u=(o=(r=(n=e.fields)===null||n===void 0?void 0:n[Ch].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(d=>St(d.doubleValue));return new Kp(u)}convertGeoPoint(e){return new Zp(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=er(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);Xe(_1(r),9688,{name:e});const o=new ou(r.get(1),r.get(3)),u=new Ee(r.popFirst(5));return o.isEqual(n)||di(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(i,e,n){let r;return r=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tT extends K1{constructor(e,n,r,o,u,d){super(e,n,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _h extends tT{data(e={}){return super.data(e)}}class nT{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _h(this._firestore,this._userDataWriter,r.key,r,new Ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const y=new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:xC(m.type),doc:y,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(i){i=Tn(i,un);const e=Tn(i.firestore,mi);return uC(od(e),i._key).then(n=>aT(e,i,n))}class ag extends AC{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function ui(i){i=Tn(i,dr);const e=Tn(i.firestore,mi),n=od(e),r=new ag(e);return X1(i._query),cC(n,i._query).then(o=>new nT(e,r,i,o))}function rp(i,e,n){i=Tn(i,un);const r=Tn(i.firestore,mi),o=eT(i.converter,e,n);return fd(r,[Y1(ud(r),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Yn.none())])}function Wr(i,e,n,...r){i=Tn(i,un);const o=Tn(i.firestore,mi),u=ud(o);let d;return d=typeof(e=Ra(e))=="string"||e instanceof ld?_C(u,"updateDoc",i._key,e,n,r):vC(u,"updateDoc",i._key,e),fd(o,[d.toMutation(i._key,Yn.exists(!0))])}function SC(i){return fd(Tn(i.firestore,mi),[new Rp(i._key,Yn.none())])}function wC(i,e){const n=Tn(i.firestore,mi),r=ln(i),o=eT(i.converter,e);return fd(n,[Y1(ud(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function RC(i,...e){var n,r,o;i=Ra(i);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||F0(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(F0(e[d])){const A=e[d];e[d]=(n=A.next)===null||n===void 0?void 0:n.bind(A),e[d+1]=(r=A.error)===null||r===void 0?void 0:r.bind(A),e[d+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let y,g,E;if(i instanceof un)g=Tn(i.firestore,mi),E=Kh(i._key.path),y={next:A=>{e[d]&&e[d](aT(g,i,A))},error:e[d+1],complete:e[d+2]};else{const A=Tn(i,dr);g=Tn(A.firestore,mi),E=A._query;const b=new ag(g);y={next:C=>{e[d]&&e[d](new nT(g,b,A,C))},error:e[d+1],complete:e[d+2]},X1(i._query)}return function(b,C,R,N){const V=new $p(N),H=new Fp(C,V,R);return b.asyncQueue.enqueueAndForget(async()=>Bp(await kh(b),H)),()=>{V.xu(),b.asyncQueue.enqueueAndForget(async()=>qp(await kh(b),H))}}(od(g),E,m,y)}function fd(i,e){return function(r,o){const u=new li;return r.asyncQueue.enqueueAndForget(async()=>XR(await lC(r),o,u)),u.promise}(od(i),e)}function aT(i,e,n){const r=n.docs.get(e._key),o=new ag(i);return new tT(i,o,e._key,r,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Co=o})(rw),Sh(new au("firestore",(r,{instanceIdentifier:o,options:u})=>{const d=r.getProvider("app").getImmediate(),m=new mi(new Tw(r.getProvider("auth-internal")),new xw(d,r.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(g.options.projectId,E)}(d,o),d);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),lo($_,Q_,e),lo($_,Q_,"esm2017")})();const CC={apiKey:"AIzaSyA32ur8WlKhwwvxevvB-P0M0sHK95DBeFw",authDomain:"sealogistics-4f899.firebaseapp.com",projectId:"sealogistics-4f899",storageBucket:"sealogistics-4f899.appspot.com",messagingSenderId:"813384700244",appId:"1:813384700244:web:d400348141dbcadacb78c1"},NC=bE(CC),ot=fC(NC),iT=z.createContext(void 0),ja=()=>{const i=z.useContext(iT);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i},DC=({children:i})=>{const[e,n]=z.useState(null),[r,o]=z.useState(null),[u,d]=z.useState(!0);z.useEffect(()=>{const V=localStorage.getItem("currentUser");if(V)try{const H=JSON.parse(V);console.log("Carregando dados do localStorage:",H),H.id?m(H.id):(console.warn("ID do usuário não encontrado no localStorage"),d(!1))}catch(H){console.error("Error parsing saved user:",H),localStorage.removeItem("currentUser"),d(!1)}else d(!1)},[]);const m=async V=>{try{console.log("Carregando dados do usuário do Firestore:",V);const H=await Eh(ln(ot,"users",V));if(H.exists()){const M={...H.data(),uid:H.id};if(console.log("Dados do usuário carregados:",M),n(M),localStorage.setItem("currentUser",JSON.stringify({email:M.email,name:M.displayName,id:M.uid,role:M.role})),M.role===sn.COMPANY_USER&&M.companyId){const Q=await Eh(ln(ot,"companies",M.companyId));if(Q.exists()){const ie={...Q.data(),id:Q.id};o(ie)}}}else console.warn("Usuário não encontrado no Firestore:",V),localStorage.removeItem("currentUser"),n(null)}catch(H){console.error("Error loading user data:",H),localStorage.removeItem("currentUser"),n(null)}finally{d(!1)}},y=async()=>{e!=null&&e.uid&&(console.log("Atualizando dados do usuário..."),await m(e.uid))},g=async(V,H)=>{try{console.log("Attempting login with password:",H?"***":"no password");const M=Eo($n(ot,"users"),co("email","==",V)),Q=await ui(M);if(Q.empty)throw new Error("Usuário não encontrado");const ie=Q.docs[0],W={...ie.data(),uid:ie.id};if(console.log("Usuário encontrado:",W),!W.isActive)throw new Error("Usuário inativo. Contacte o administrador.");if(await rp(ln(ot,"users",ie.id),{...W,lastLogin:new Date},{merge:!0}),n(W),W.role===sn.COMPANY_USER&&W.companyId){const O=await Eh(ln(ot,"companies",W.companyId));if(O.exists()){const w={...O.data(),id:O.id};o(w)}}const de={email:W.email,name:W.displayName,id:ie.id,role:W.role};console.log("Salvando no localStorage:",de),localStorage.setItem("currentUser",JSON.stringify(de))}catch(M){throw console.error("Login error:",M),M}},E=()=>{console.log("Fazendo logout..."),n(null),o(null),localStorage.removeItem("currentUser")},A=()=>{const V=(e==null?void 0:e.role)===sn.ADMIN;return console.log("isAdmin check:",V,"currentUser:",e),V},N={currentUser:e,currentCompany:r,login:g,logout:E,isAdmin:A,isCompanyUser:()=>(e==null?void 0:e.role)===sn.COMPANY_USER,canAccessAdminFeatures:()=>A(),canManageShipments:()=>(e==null?void 0:e.role)===sn.ADMIN||(e==null?void 0:e.role)===sn.COMPANY_USER,loading:u,refreshUserData:y};return p.jsx(iT.Provider,{value:N,children:i})};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Q0=i=>{const e=jC(i);return e.charAt(0).toUpperCase()+e.slice(1)},rT=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),OC=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=z.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:d,...m},y)=>z.createElement("svg",{ref:y,...VC,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:rT("lucide",o),...!u&&!OC(m)&&{"aria-hidden":"true"},...m},[...d.map(([g,E])=>z.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(i,e)=>{const n=z.forwardRef(({className:r,...o},u)=>z.createElement(MC,{ref:u,iconNode:e,className:rT(`lucide-${IC(Q0(i))}`,`lucide-${i}`,r),...o}));return n.displayName=Q0(i),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],PC=lt("bell",kC);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],UC=lt("bot",LC);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],BC=lt("building-2",zC);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sp=lt("calendar",qC);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FC=lt("check",HC);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],sT=lt("chevron-down",GC);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ig=lt("circle-alert",YC);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oT=lt("circle-check-big",$C);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],lT=lt("clock",QC);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],KC=lt("file-text",ZC);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],JC=lt("funnel",XC);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eN=lt("globe",WC);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],nN=lt("house",tN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],uT=lt("map-pin",aN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],rN=lt("menu",iN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],oN=lt("message-square",sN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],rg=lt("package",lN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cT=lt("plus",uN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],hN=lt("save",cN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fN=lt("send",dN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sg=lt("settings",mN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gN=lt("shield",pN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],To=lt("ship",yN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],hT=lt("trending-up",vN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dT=lt("user",_N);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],TN=lt("users",EN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],du=lt("x",bN),fT=z.createContext(void 0),md=()=>{const i=z.useContext(fT);if(i===void 0)throw new Error("useShipments must be used within a ShipmentsProvider");return i},AN=({children:i})=>{const[e,n]=z.useState([]),[r,o]=z.useState(!0),{currentUser:u,isAdmin:d}=ja();z.useEffect(()=>{if(!u){n([]),o(!1);return}let b;if(d())b=Eo($n(ot,"shipments"),G0("createdAt","desc"));else if(u.role===sn.COMPANY_USER&&u.companyId)b=Eo($n(ot,"shipments"),co("companyId","==",u.companyId),G0("createdAt","desc"));else{n([]),o(!1);return}const C=RC(b,R=>{const N=[];R.forEach(V=>{N.push({id:V.id,...V.data()})}),n(N),o(!1)},R=>{console.error("Error fetching shipments:",R),o(!1)});return()=>C()},[u,d]);const m=async b=>{try{if(!u)throw new Error("Usuário não autenticado");if(!d())throw new Error("Apenas administradores podem criar novos shipments");const C={...b,createdAt:new Date,updatedAt:new Date};b.companyId!==void 0?C.companyId=b.companyId:delete C.companyId;const R=await wC($n(ot,"shipments"),C);console.log("Shipment added with ID: ",R.id)}catch(C){throw console.error("Error adding shipment: ",C),C}},y=async b=>{try{if(!b.id)throw new Error("Shipment ID is required for updates");if(!g(b))throw new Error("Sem permissão para editar este shipment");const C=ln(ot,"shipments",b.id);await Wr(C,{cliente:b.cliente,operador:b.operador,pol:b.pol,pod:b.pod,etdOrigem:b.etdOrigem,etaDestino:b.etaDestino,quantBox:b.quantBox,status:b.status,numeroBl:b.numeroBl,armador:b.armador,booking:b.booking,updatedAt:new Date}),console.log("Shipment updated successfully:",b.id)}catch(C){throw console.error("Error updating shipment: ",C),C}},g=b=>u?d()?!0:u.role===sn.COMPANY_USER?b.companyId===u.companyId:!1:!1,A={shipments:e,addShipment:m,updateShipment:y,canEditShipment:g,canCreateShipment:()=>d(),loading:r};return p.jsx(fT.Provider,{value:A,children:i})},as=()=>{const[i,e]=z.useState(!1),[n,r]=z.useState([]),[o,u]=z.useState(""),[d,m]=z.useState(!1),y=z.useRef(null),g=()=>{e(!i),!i&&n.length===0&&setTimeout(()=>{r([{id:Date.now(),text:"Olá! Sou o assistente virtual da SeaLogistics. Como posso ajudar você hoje?",sender:"bot"}])},500)},E=N=>{u(N.target.value)},A=()=>{var N;(N=y.current)==null||N.scrollIntoView({behavior:"smooth"})};z.useEffect(()=>{A()},[n]);const b=()=>{const N=["Entendi! Vou verificar essa informação para você.","Obrigado pela sua mensagem. Posso ajudar com mais alguma coisa?","A SeaLogistics oferece diversos serviços de logística marítima. Gostaria de saber mais sobre algum serviço específico?","Estou processando sua solicitação. Em breve teremos uma resposta para você.","Isso é interessante! Vamos analisar as melhores opções para sua necessidade."],V=N[Math.floor(Math.random()*N.length)];m(!0),setTimeout(()=>{r(H=>[...H,{id:Date.now(),text:V,sender:"bot"}]),m(!1)},1500)},C=()=>{if(o.trim()==="")return;const N={id:Date.now(),text:o,sender:"user"};r(V=>[...V,N]),u(""),b()},R=N=>{N.key==="Enter"&&C()};return p.jsx("div",{className:"chat-assistant-container",children:i?p.jsxs("div",{className:"chat-window",children:[p.jsxs("div",{className:"chat-header",children:[p.jsxs("div",{className:"chat-title",children:[p.jsx(UC,{size:20}),p.jsx("span",{children:"Assistente SeaLogistics"})]}),p.jsx("button",{className:"close-button",onClick:g,"aria-label":"Fechar chat",children:p.jsx(du,{size:20})})]}),p.jsxs("div",{className:"messages-container",children:[n.map(N=>p.jsx("div",{className:`message ${N.sender}`,children:N.text},N.id)),d&&p.jsx("div",{className:"message bot typing",children:p.jsxs("span",{className:"typing-indicator",children:[p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"})]})}),p.jsx("div",{ref:y})]}),p.jsxs("div",{className:"input-container",children:[p.jsx("input",{type:"text",value:o,onChange:E,onKeyPress:R,placeholder:"Digite sua mensagem...","aria-label":"Mensagem"}),p.jsx("button",{className:"send-button",onClick:C,disabled:o.trim()==="","aria-label":"Enviar mensagem",children:p.jsx(fN,{size:18})})]})]}):p.jsx("button",{className:"chat-button",onClick:g,"aria-label":"Abrir chat",children:p.jsx(oN,{size:24})})})},mT=({onClose:i})=>{const{isAdmin:e}=ja(),[n,r]=z.useState([]),[o,u]=z.useState([]),[d,m]=z.useState([]),[y,g]=z.useState(!0),[E,A]=z.useState("users");z.useEffect(()=>{e()&&b()},[e]);const b=async()=>{try{g(!0);const Q=(await ui($n(ot,"users"))).docs.map(w=>({...w.data(),uid:w.id}));r(Q);const W=(await ui($n(ot,"companies"))).docs.map(w=>({...w.data(),id:w.id}));u(W);const O=(await ui($n(ot,"shipments"))).docs.map(w=>({...w.data(),id:w.id}));m(O)}catch(M){console.error("Error loading admin data:",M)}finally{g(!1)}},C=async(M,Q)=>{try{await Wr(ln(ot,"users",M),{isActive:!Q,updatedAt:new Date}),r(n.map(ie=>ie.uid===M?{...ie,isActive:!Q}:ie))}catch(ie){console.error("Error updating user status:",ie),alert("Erro ao atualizar status do usuário")}},R=async(M,Q)=>{try{await Wr(ln(ot,"companies",M),{isActive:!Q,updatedAt:new Date}),u(o.map(ie=>ie.id===M?{...ie,isActive:!Q}:ie))}catch(ie){console.error("Error updating company status:",ie),alert("Erro ao atualizar status da empresa")}},N=async(M,Q)=>{try{await Wr(ln(ot,"shipments",M),{companyId:Q==="unassigned"?null:Q,updatedAt:new Date}),m(d.map(ie=>ie.id===M?{...ie,companyId:Q==="unassigned"?void 0:Q}:ie))}catch(ie){console.error("Error assigning shipment:",ie),alert("Erro ao atribuir shipment à empresa")}},V=async M=>{if(confirm("Tem certeza que deseja excluir este usuário?"))try{await SC(ln(ot,"users",M)),r(n.filter(Q=>Q.uid!==M))}catch(Q){console.error("Error deleting user:",Q),alert("Erro ao excluir usuário")}},H=M=>{if(!M)return"Não atribuído";const Q=o.find(ie=>ie.id===M);return Q?Q.name:"Empresa não encontrada"};return e()?y?p.jsx("div",{className:"admin-panel",children:p.jsx("div",{className:"admin-panel-content",children:p.jsx("h2",{children:"Carregando..."})})}):p.jsx("div",{className:"admin-panel",children:p.jsxs("div",{className:"admin-panel-content",children:[p.jsxs("div",{className:"admin-panel-header",children:[p.jsx("h2",{children:"Painel Administrativo"}),p.jsx("button",{onClick:i,className:"close-button",children:"×"})]}),p.jsxs("div",{className:"admin-tabs",children:[p.jsxs("button",{className:`tab-button ${E==="users"?"active":""}`,onClick:()=>A("users"),children:["Usuários (",n.length,")"]}),p.jsxs("button",{className:`tab-button ${E==="companies"?"active":""}`,onClick:()=>A("companies"),children:["Empresas (",o.length,")"]}),p.jsxs("button",{className:`tab-button ${E==="shipments"?"active":""}`,onClick:()=>A("shipments"),children:["Shipments (",d.length,")"]})]}),E==="users"&&p.jsxs("div",{className:"admin-section",children:[p.jsx("h3",{children:"Gerenciar Usuários"}),p.jsx("div",{className:"admin-table",children:p.jsxs("table",{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Nome"}),p.jsx("th",{children:"Email"}),p.jsx("th",{children:"Role"}),p.jsx("th",{children:"Empresa"}),p.jsx("th",{children:"Status"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:n.map(M=>p.jsxs("tr",{children:[p.jsx("td",{children:M.displayName}),p.jsx("td",{children:M.email}),p.jsx("td",{children:p.jsx("span",{className:`role-badge ${M.role}`,children:M.role===sn.ADMIN?"Admin":"Empresa"})}),p.jsx("td",{children:M.companyName||"-"}),p.jsx("td",{children:p.jsx("span",{className:`status-badge ${M.isActive?"active":"inactive"}`,children:M.isActive?"Ativo":"Inativo"})}),p.jsx("td",{children:p.jsxs("div",{className:"action-buttons",children:[p.jsx("button",{onClick:()=>C(M.uid,M.isActive),className:"action-button",children:M.isActive?"Desativar":"Ativar"}),p.jsx("button",{onClick:()=>V(M.uid),className:"action-button delete",children:"Excluir"})]})})]},M.uid))})]})})]}),E==="companies"&&p.jsxs("div",{className:"admin-section",children:[p.jsx("h3",{children:"Gerenciar Empresas"}),p.jsx("div",{className:"admin-table",children:p.jsxs("table",{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Nome"}),p.jsx("th",{children:"Código"}),p.jsx("th",{children:"Email de Contato"}),p.jsx("th",{children:"Status"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:o.map(M=>p.jsxs("tr",{children:[p.jsx("td",{children:M.name}),p.jsx("td",{children:M.code}),p.jsx("td",{children:M.contactEmail}),p.jsx("td",{children:p.jsx("span",{className:`status-badge ${M.isActive?"active":"inactive"}`,children:M.isActive?"Ativa":"Inativa"})}),p.jsx("td",{children:p.jsx("button",{onClick:()=>R(M.id,M.isActive),className:"action-button",children:M.isActive?"Desativar":"Ativar"})})]},M.id))})]})})]}),E==="shipments"&&p.jsxs("div",{className:"admin-section",children:[p.jsx("h3",{children:"Gerenciar Shipments"}),p.jsx("div",{className:"admin-note",children:p.jsxs("p",{children:[p.jsx("strong",{children:"Nota:"})," Apenas administradores podem criar shipments. Use esta aba para atribuir shipments às empresas."]})}),p.jsx("div",{className:"admin-table",children:p.jsxs("table",{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"BL"}),p.jsx("th",{children:"Cliente"}),p.jsx("th",{children:"POL → POD"}),p.jsx("th",{children:"Status"}),p.jsx("th",{children:"Empresa Atual"}),p.jsx("th",{children:"Atribuir à Empresa"})]})}),p.jsx("tbody",{children:d.map(M=>p.jsxs("tr",{children:[p.jsx("td",{children:M.numeroBl}),p.jsx("td",{children:M.cliente}),p.jsxs("td",{children:[M.pol," → ",M.pod]}),p.jsx("td",{children:M.status}),p.jsx("td",{children:H(M.companyId)}),p.jsx("td",{children:p.jsxs("select",{value:M.companyId||"unassigned",onChange:Q=>N(M.id,Q.target.value),className:"company-selector",children:[p.jsx("option",{value:"unassigned",children:"Não atribuído"}),o.filter(Q=>Q.isActive).map(Q=>p.jsxs("option",{value:Q.id,children:[Q.name," (",Q.code,")"]},Q.id))]})})]},M.id))})]})})]})]})}):p.jsx("div",{className:"admin-panel",children:p.jsxs("div",{className:"admin-panel-content",children:[p.jsx("h2",{children:"Acesso Negado"}),p.jsx("p",{children:"Você não tem permissão para acessar o painel administrativo."}),p.jsx("button",{onClick:i,children:"Fechar"})]})})},pT=z.createContext({isCollapsed:!1,setIsCollapsed:()=>{}}),pi=()=>{const{isCollapsed:i,setIsCollapsed:e}=z.useContext(pT),[n,r]=z.useState(!1),o=os(),u=ur(),{isAdmin:d,logout:m}=ja();z.useEffect(()=>{e(!0)},[u.pathname,e]);const g=u.pathname.includes("settings")?"settings":u.pathname.includes("novo-envio")?"novo-envio":u.pathname.includes("envios")?"envios":"home",E=()=>{m(),o("/")};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:`navbar ${i?"collapsed":"expanded"}`,children:[p.jsxs("div",{className:"navbar-header",children:[p.jsx("button",{className:"toggle-btn",onClick:()=>e(!i),"aria-label":i?"Expand menu":"Collapse menu",children:i?p.jsx(rN,{size:20}):p.jsx(du,{size:20})}),p.jsx("div",{className:"company-logo",children:p.jsx("div",{className:`company-name ${i?"hidden":"visible"}`,children:p.jsx("span",{className:"company-name-text",children:"SeaLogistics"})})})]}),p.jsxs("nav",{className:"nav-items",children:[p.jsxs("div",{className:`nav-item ${g==="home"?"active":""}`,onClick:()=>o("/home"),role:"button",tabIndex:0,onKeyDown:A=>A.key==="Enter"&&o("/home"),children:[p.jsx("div",{className:"icon-container",children:p.jsx(nN,{size:20})}),p.jsx("span",{className:`nav-text ${i?"hidden":"visible"}`,children:d()?"Dashboard":"Início"})]}),p.jsxs("div",{className:`nav-item ${g==="envios"?"active":""}`,onClick:()=>o("/envios"),role:"button",tabIndex:0,onKeyDown:A=>A.key==="Enter"&&o("/envios"),children:[p.jsx("div",{className:"icon-container",children:p.jsx(To,{size:20})}),p.jsx("span",{className:`nav-text ${i?"hidden":"visible"}`,children:"Envios"})]}),d()&&p.jsxs("div",{className:`nav-item ${g==="novo-envio"?"active":""}`,onClick:()=>o("/novo-envio"),role:"button",tabIndex:0,onKeyDown:A=>A.key==="Enter"&&o("/novo-envio"),children:[p.jsx("div",{className:"icon-container",children:p.jsx(cT,{size:20})}),p.jsx("span",{className:`nav-text ${i?"hidden":"visible"}`,children:"Novo Envio"})]}),p.jsxs("div",{className:`nav-item ${g==="settings"?"active":""}`,onClick:()=>o("/settings"),role:"button",tabIndex:0,onKeyDown:A=>A.key==="Enter"&&o("/settings"),children:[p.jsx("div",{className:"icon-container",children:p.jsx(sg,{size:20})}),p.jsx("span",{className:`nav-text ${i?"hidden":"visible"}`,children:"Configurações"})]}),p.jsxs("div",{className:"nav-item logout",onClick:E,role:"button",tabIndex:0,onKeyDown:A=>A.key==="Enter"&&E(),children:[p.jsx("div",{className:"icon-container",children:p.jsx(du,{size:20})}),p.jsx("span",{className:`nav-text ${i?"hidden":"visible"}`,children:"Sair"})]})]})]}),n&&p.jsx(mT,{onClose:()=>r(!1)})]})},xN={en:{welcomeMessage:"Welcome to Sea Logistics",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",loginButton:"Login",selectLanguage:"Select language",forgotPassword:"Forgot password?",nameError:"Name is required",emailError:"Invalid email",passwordError:"Password is required",confirmPasswordError:"Password is required",passwordsDontMatch:"Passwords don't match",dontHaveAccount:"Don't have an account?",registerLink:"Register",createAccount:"Create an Account",name:"Name",namePlaceholder:"Enter your full name",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm your password",registerButton:"Register",alreadyHaveAccount:"Already have an account?",loginLink:"Login",registerText:"Connecting the world through the oceans. Register to access our platform."},pt:{welcomeMessage:"Bem-vindo à Sea Logistics",email:"Email",emailPlaceholder:"Digite seu email",password:"Senha",passwordPlaceholder:"Digite sua senha",loginButton:"Entrar",selectLanguage:"Selecionar idioma",forgotPassword:"Esqueceu a senha?",nameError:"O nome é obrigatório",emailError:"Email inválido",passwordError:"A senha é obrigatória",confirmPasswordError:"A senha é obrigatória",passwordsDontMatch:"As senhas não coincidem",dontHaveAccount:"Não tem uma conta?",registerLink:"Registrar",createAccount:"Criar uma Conta",name:"Nome",namePlaceholder:"Digite seu nome completo",confirmPassword:"Confirmar Senha",confirmPasswordPlaceholder:"Confirme sua senha",registerButton:"Registrar",alreadyHaveAccount:"Já tem uma conta?",loginLink:"Entrar",registerText:"Conectando o mundo através dos oceanos. Registre-se para acessar nossa plataforma."},es:{welcomeMessage:"Bienvenido a Sea Logistics",email:"Correo electrónico",emailPlaceholder:"Ingrese su correo electrónico",password:"Contraseña",passwordPlaceholder:"Ingrese su contraseña",loginButton:"Iniciar sesión",selectLanguage:"Seleccionar idioma",forgotPassword:"¿Olvidó su contraseña?",nameError:"El nombre es obligatorio",emailError:"Correo electrónico inválidoo",passwordError:"La contraseña es obligatoria",confirmPasswordError:"La contraseña es obligatoria",passwordsDontMatch:"Las contraseña no coinciden",dontHaveAccount:"¿No tiene una cuenta?",registerLink:"Registrarse",createAccount:"Crear una Cuenta",name:"Nombre",namePlaceholder:"Ingrese su nombre completo",confirmPassword:"Confirmar Contraseña",confirmPasswordPlaceholder:"Confirme su contraseña",registerButton:"Registrarse",alreadyHaveAccount:"¿Ya tiene una cuenta?",loginLink:"Iniciar sesión",registerText:"Conectando el mundo a través de los océanos. Regístrate para acceder a nuestra plataforma."}},gT=z.createContext(void 0);function aa({children:i}){const[e,n]=z.useState("en");z.useEffect(()=>{const u=localStorage.getItem("language");u&&["en","pt","es"].includes(u)&&n(u)},[]);const o={language:e,setLanguage:u=>{n(u),localStorage.setItem("language",u)},translations:xN[e]};return p.jsx(gT.Provider,{value:o,children:i})}function og(){const i=z.useContext(gT);if(i===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return i}const SN=()=>{const{currentUser:i,isAdmin:e}=ja(),{shipments:n,loading:r}=md(),o=os(),[u,d]=z.useState({totalShipments:0,inTransit:0,delivered:0,pending:0,thisMonth:0}),[m,y]=z.useState([]);z.useEffect(()=>{!r&&e()&&o("/envios")},[e,r,o]),z.useEffect(()=>{n.length>0&&(g(n),E(n))},[n]);const g=R=>{const N=new Date,V=N.getMonth(),H=N.getFullYear(),M=R.length,Q=R.filter(O=>O.status==="em-trânsito"||O.status==="agendado").length,ie=R.filter(O=>O.status==="concluído").length,W=R.filter(O=>O.status==="documentação").length,de=R.filter(O=>{if(O.etdOrigem){const w=new Date(O.etdOrigem);return w.getMonth()===V&&w.getFullYear()===H}return!1}).length;d({totalShipments:M,inTransit:Q,delivered:ie,pending:W,thisMonth:de})},E=R=>{const N=R.slice(0,5).map(V=>({id:V.id||"",action:A(V.status),shipment:`${V.pol} → ${V.pod}`,date:V.etdOrigem||"",status:V.status}));y(N)},A=R=>{switch(R){case"documentação":return"Documentação em andamento";case"agendado":return"Embarque agendado";case"em-trânsito":return"Em trânsito";case"concluído":return"Entregue no destino";default:return"Status atualizado"}},b=R=>R?new Date(R).toLocaleDateString("pt-BR"):"",C=R=>{switch(R){case"documentação":return"#073b4c";case"agendado":return"#118ab2";case"em-trânsito":return"#ffd166";case"concluído":return"#06d6a0";default:return"#6c757d"}};return r||e()?p.jsx(aa,{children:p.jsxs("main",{className:"dashboard-container",children:[p.jsx(pi,{}),p.jsx("div",{className:"dashboard-content",children:p.jsx("div",{className:"loading-message",children:r?"Carregando...":"Redirecionando..."})}),p.jsx(as,{})]})}):p.jsx(aa,{children:p.jsxs("main",{className:"dashboard-container",children:[p.jsx(pi,{}),p.jsxs("div",{className:"dashboard-content",children:[p.jsxs("div",{className:"dashboard-header",children:[p.jsx("h1",{children:"Dashboard"}),p.jsxs("p",{children:["Bem-vindo, ",i==null?void 0:i.displayName,"!"]})]}),p.jsxs("div",{className:"stats-grid",children:[p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon",children:p.jsx(To,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Meus Envios"}),p.jsx("p",{className:"stat-number",children:u.totalShipments})]})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon in-transit",children:p.jsx(rg,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Em Trânsito"}),p.jsx("p",{className:"stat-number",children:u.inTransit})]})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon delivered",children:p.jsx(oT,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Entregues"}),p.jsx("p",{className:"stat-number",children:u.delivered})]})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon pending",children:p.jsx(lT,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Pendentes"}),p.jsx("p",{className:"stat-number",children:u.pending})]})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon this-month",children:p.jsx(hT,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Este Mês"}),p.jsx("p",{className:"stat-number",children:u.thisMonth})]})]})]}),p.jsxs("div",{className:"recent-activity",children:[p.jsx("h2",{children:"Meus Envios Recentes"}),m.length>0?p.jsx("div",{className:"activity-list",children:m.map(R=>p.jsxs("div",{className:"activity-item",children:[p.jsx("div",{className:"activity-status-dot",style:{backgroundColor:C(R.status)}}),p.jsxs("div",{className:"activity-details",children:[p.jsx("p",{className:"activity-action",children:R.action}),p.jsxs("p",{className:"activity-shipment",children:[p.jsx(uT,{size:14}),R.shipment]})]}),p.jsxs("div",{className:"activity-date",children:[p.jsx(sp,{size:14}),b(R.date)]})]},R.id))}):p.jsxs("div",{className:"empty-activity",children:[p.jsx(ig,{size:48}),p.jsx("p",{children:"Você ainda não possui envios registrados"})]})]}),p.jsxs("div",{className:"quick-links",children:[p.jsx("h2",{children:"Acesso Rápido"}),p.jsxs("div",{className:"links-grid",children:[p.jsxs("a",{href:"/envios",className:"quick-link-card",children:[p.jsx(To,{size:24}),p.jsx("span",{children:"Ver Meus Envios"})]}),p.jsxs("a",{href:"/settings",className:"quick-link-card",children:[p.jsx(sg,{size:24}),p.jsx("span",{children:"Configurações"})]})]})]})]}),p.jsx(as,{})]})})},wN=()=>{const{currentUser:i}=ja(),{shipments:e,loading:n}=md(),r=os(),[o,u]=z.useState({totalShipments:0,inTransit:0,delivered:0,pending:0,thisMonth:0,totalUsers:0,totalCompanies:0,activeCompanies:0}),[d,m]=z.useState(!0),[y,g]=z.useState(!1);return z.useEffect(()=>{const E=async()=>{try{m(!0);const b=(await ui($n(ot,"users"))).size,R=(await ui($n(ot,"companies"))).docs.map(D=>D.data()),N=R.length,V=R.filter(D=>D.isActive).length,H=new Date,M=H.getMonth(),Q=H.getFullYear(),ie=e.length,W=e.filter(D=>D.status==="em-trânsito"||D.status==="agendado").length,de=e.filter(D=>D.status==="concluído").length,O=e.filter(D=>D.status==="documentação").length,w=e.filter(D=>{if(D.etdOrigem){const k=new Date(D.etdOrigem);return k.getMonth()===M&&k.getFullYear()===Q}return!1}).length;u({totalShipments:ie,inTransit:W,delivered:de,pending:O,thisMonth:w,totalUsers:b,totalCompanies:N,activeCompanies:V})}catch(A){console.error("Error loading admin stats:",A)}finally{m(!1)}};e.length>0&&E()},[e]),d||n?p.jsx(aa,{children:p.jsxs("main",{className:"dashboard-container",children:[p.jsx(pi,{}),p.jsx("div",{className:"dashboard-content",children:p.jsx("div",{className:"loading-message",children:"Carregando..."})}),p.jsx(as,{})]})}):p.jsxs(aa,{children:[p.jsxs("main",{className:"dashboard-container",children:[p.jsx(pi,{}),p.jsxs("div",{className:"dashboard-content",children:[p.jsxs("div",{className:"dashboard-header",children:[p.jsx("h1",{children:"Dashboard Administrativo"}),p.jsxs("p",{children:["Bem-vindo, ",(i==null?void 0:i.displayName)||"Admin","!"]})]}),p.jsxs("div",{className:"stats-grid",children:[p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon",children:p.jsx(To,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Total de Envios"}),p.jsx("p",{className:"stat-number",children:o.totalShipments})]})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon in-transit",children:p.jsx(rg,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Em Trânsito"}),p.jsx("p",{className:"stat-number",children:o.inTransit})]})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon delivered",children:p.jsx(oT,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Entregues"}),p.jsx("p",{className:"stat-number",children:o.delivered})]})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon pending",children:p.jsx(lT,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Pendentes"}),p.jsx("p",{className:"stat-number",children:o.pending})]})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon this-month",children:p.jsx(hT,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Este Mês"}),p.jsx("p",{className:"stat-number",children:o.thisMonth})]})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon users",children:p.jsx(TN,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Total de Usuários"}),p.jsx("p",{className:"stat-number",children:o.totalUsers})]})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon companies",children:p.jsx(BC,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Empresas Ativas"}),p.jsxs("p",{className:"stat-number",children:[o.activeCompanies,"/",o.totalCompanies]})]})]}),p.jsxs("div",{className:"stat-card action-card",onClick:()=>r("/envios"),children:[p.jsx("div",{className:"stat-icon action",children:p.jsx(ig,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Gerenciar Envios"}),p.jsx("p",{className:"action-text",children:"Clique para ver todos os envios"})]})]})]}),p.jsxs("div",{className:"quick-actions",children:[p.jsx("h2",{children:"Ações Rápidas"}),p.jsxs("div",{className:"actions-grid",children:[p.jsxs("button",{className:"action-button",onClick:()=>r("/novo-envio"),children:[p.jsx(cT,{size:20}),"Novo Envio"]}),p.jsxs("button",{className:"action-button",onClick:()=>g(!0),children:[p.jsx(gN,{size:20}),"Painel Admin"]}),p.jsxs("button",{className:"action-button",onClick:()=>r("/settings"),children:[p.jsx(sg,{size:20}),"Configurações"]})]})]})]}),p.jsx(as,{})]}),y&&p.jsx(mT,{onClose:()=>g(!1)})]})},RN=()=>{const{isAdmin:i,loading:e}=ja();return e?p.jsx("div",{children:"Carregando..."}):i()?p.jsx(wN,{}):p.jsx(SN,{})},yT=z.createContext(void 0),CN=()=>{const i=z.useContext(yT);if(!i)throw new Error("useDropdown must be used within a DropdownProvider");return i},NN=({children:i})=>{const[e,n]=z.useState(null),r=z.useCallback(m=>e===m,[e]),o=z.useCallback(m=>{n(m)},[e]),u=z.useCallback(m=>{e===m&&n(null)},[e]),d=z.useCallback(()=>{n(null)},[e]);return p.jsx(yT.Provider,{value:{openDropdownId:e,setOpenDropdownId:n,isDropdownOpen:r,openDropdown:o,closeDropdown:u,closeAllDropdowns:d},children:i})},hh=[{value:"Em trânsito",label:"Em trânsito",color:"#8b5a00",bgColor:"#ffd166"},{value:"Agendado",label:"Agendado",color:"white",bgColor:"#118ab2"},{value:"Documentação",label:"Documentação",color:"white",bgColor:"#073b4c"},{value:"Concluído",label:"Concluído",color:"#0d5d3e",bgColor:"#06d6a0"}],DN=({currentStatus:i,onStatusChange:e,disabled:n=!1,instanceId:r})=>{const o=z.useRef(null),u=z.useRef(null),{isDropdownOpen:d,openDropdown:m,closeDropdown:y,closeAllDropdowns:g}=CN(),[E,A]=z.useState("bottom"),[b,C]=z.useState(!1),[R,N]=z.useState(""),[V,H]=z.useState(!1),M=d(r),Q=hh.find(P=>P.value===i)||hh[0],ie=hh.find(P=>P.value===R),W=()=>{if(u.current&&o.current){const P=u.current.getBoundingClientRect(),I=window.innerHeight,mt=120,rt=20,X=I-P.bottom-rt,ue=P.top-rt,ge=o.current.querySelector(".status-dropdown");if(ge){const $e=P.left,L=P.width;ge.style.left=`${$e}px`,ge.style.width=`${L}px`,X>=mt?(A("bottom"),ge.style.top=`${P.bottom+4}px`,ge.style.bottom="auto"):ue>=mt?(A("top"),ge.style.bottom=`${I-P.top+4}px`,ge.style.top="auto"):(A("top"),ge.style.bottom=`${I-P.top+4}px`,ge.style.top="auto")}}},de=async()=>{if(R){H(!0);try{await e(R),C(!1),N("")}catch(P){console.error("Erro ao confirmar mudança de status:",P)}finally{H(!1)}}},O=()=>{C(!1),N("")};z.useEffect(()=>{const P=rt=>{rt.key==="Escape"&&(b?O():M&&g())},I=()=>{M&&W()},mt=()=>{M&&W()};if(M||b)return document.addEventListener("keydown",P),M&&(window.addEventListener("scroll",I,!0),window.addEventListener("resize",mt),setTimeout(()=>{W()},10)),()=>{document.removeEventListener("keydown",P),window.removeEventListener("scroll",I,!0),window.removeEventListener("resize",mt)}},[M,b,g]);const w=(P,I)=>{I.preventDefault(),I.stopPropagation(),P!==i&&(N(P),C(!0)),y(r)},D=P=>{P.preventDefault(),P.stopPropagation(),!n&&(M?y(r):(m(r),setTimeout(()=>{W()},0)))},k=P=>{(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),P.stopPropagation(),M?y(r):m(r))},B=P=>{P.preventDefault(),P.stopPropagation(),g()};return p.jsxs(p.Fragment,{children:[M&&p.jsx("div",{className:"dropdown-overlay",onClick:B}),b&&p.jsx("div",{className:"confirmation-overlay",onClick:O}),p.jsxs("div",{className:"status-selector",ref:o,children:[p.jsxs("button",{ref:u,className:`status-selector-trigger ${n?"disabled":""} ${M?"open":""}`,onClick:D,onKeyDown:k,disabled:n,"aria-expanded":M,"aria-haspopup":"listbox",style:{backgroundColor:Q.bgColor,color:Q.color},type:"button",children:[p.jsx("span",{className:"status-label",children:Q.label}),!n&&p.jsx(sT,{size:14,className:`chevron ${M?"rotated":""}`})]}),M&&!n&&p.jsx("div",{className:`status-dropdown ${E==="top"?"dropdown-up":"dropdown-down"}`,role:"listbox",children:hh.filter(P=>P.value!==i).map(P=>p.jsx("button",{className:"status-option",onClick:I=>w(P.value,I),style:{backgroundColor:P.bgColor,color:P.color},role:"option","aria-selected":!1,type:"button",children:p.jsx("span",{className:"status-option-label",children:P.label})},P.value))})]}),b&&ie&&p.jsx("div",{className:"status-confirmation-modal",children:p.jsxs("div",{className:"confirmation-content",children:[p.jsxs("div",{className:"confirmation-header",children:[p.jsx(ig,{size:24,className:"confirmation-icon"}),p.jsx("h3",{children:"Confirmar alteração de status"})]}),p.jsxs("div",{className:"confirmation-body",children:[p.jsx("p",{children:"Deseja realmente alterar o status de:"}),p.jsxs("div",{className:"status-change-preview",children:[p.jsx("div",{className:"status-from",children:p.jsx("span",{className:"status-badge",style:{backgroundColor:Q.bgColor,color:Q.color},children:Q.label})}),p.jsx("span",{className:"arrow",children:"→"}),p.jsx("div",{className:"status-to",children:p.jsx("span",{className:"status-badge",style:{backgroundColor:ie.bgColor,color:ie.color},children:ie.label})})]})]}),p.jsxs("div",{className:"confirmation-actions",children:[p.jsxs("button",{className:"btn-cancel",onClick:O,type:"button",children:[p.jsx(du,{size:16}),"Cancelar"]}),p.jsxs("button",{className:"btn-confirm",onClick:de,disabled:V,type:"button",children:[p.jsx(FC,{size:16}),V?"Salvando...":"Confirmar"]})]})]})})]})},IN=({filters:i,onFiltersChange:e,onClearFilters:n})=>{const[r,o]=z.useState(!1),u=z.useRef(null),{isAdmin:d}=ja();z.useEffect(()=>{const N=V=>{u.current&&!u.current.contains(V.target)&&o(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const m=(N,V)=>{e({...i,[N]:V})},y=N=>{const V=i.sortBy===N&&i.sortOrder==="desc"?"asc":"desc";e({...i,sortBy:N,sortOrder:V})},g=()=>[{value:"",label:"Todos os meses"},{value:"01",label:"Janeiro"},{value:"02",label:"Fevereiro"},{value:"03",label:"Março"},{value:"04",label:"Abril"},{value:"05",label:"Maio"},{value:"06",label:"Junho"},{value:"07",label:"Julho"},{value:"08",label:"Agosto"},{value:"09",label:"Setembro"},{value:"10",label:"Outubro"},{value:"11",label:"Novembro"},{value:"12",label:"Dezembro"}],E=()=>i.dateFrom||i.dateTo||i.month||i.searchTerm||i.sortBy!=="recent",A=()=>{let N=0;return(i.dateFrom||i.dateTo)&&N++,i.month&&N++,i.searchTerm&&N++,i.sortBy!=="recent"&&N++,N},b=()=>({recent:"Mais recentes",old:"Mais antigos",etd:"Data partida (ETD)",eta:"Data chegada (ETA)",client:"Cliente A-Z"})[i.sortBy],C=()=>{const N=[{value:"recent",label:"Mais recentes"},{value:"old",label:"Mais antigos"},{value:"etd",label:"Data partida (ETD)"},{value:"eta",label:"Data chegada (ETA)"}];return d()&&N.push({value:"client",label:"Cliente A-Z"}),N},R=()=>{if(!i.month)return"Todos os meses";const N=g().find(V=>V.value===i.month);return N?N.label:"Todos os meses"};return p.jsxs("div",{className:"shipping-filters",ref:u,children:[p.jsxs("div",{className:"filters-header",children:[p.jsxs("div",{className:"filters-title",children:[p.jsx(JC,{size:18}),p.jsx("span",{children:"Filtros de Busca"}),E()&&p.jsx("span",{className:"active-filters-badge",children:A()})]}),p.jsxs("div",{className:"filters-actions",children:[E()&&p.jsxs("button",{className:"clear-filters-btn",onClick:n,title:"Limpar filtros",children:[p.jsx(du,{size:16}),"Limpar"]}),p.jsxs("button",{className:`dropdown-toggle-btn ${r?"open":""}`,onClick:()=>o(!r),children:[p.jsx(sT,{size:16}),r?"Menos":"Mais"]})]})]}),p.jsxs("div",{className:"filters-main",children:[p.jsx("div",{className:"filter-group search-group",children:p.jsx("input",{type:"text",value:i.searchTerm,onChange:N=>m("searchTerm",N.target.value),placeholder:d()?"Cliente, BL, Booking...":"BL, Booking...",className:"search-input"})}),p.jsxs("div",{className:"filter-summary",children:[p.jsxs("span",{className:"filter-summary-item",children:[p.jsx("strong",{children:"Ordenar:"})," ",b()]}),p.jsx("span",{className:"filter-summary-separator",children:"•"}),p.jsxs("span",{className:"filter-summary-item",children:[p.jsx("strong",{children:"Mês:"})," ",R()]})]})]}),r&&p.jsxs("div",{className:"filters-dropdown",children:[p.jsxs("div",{className:"filters-row",children:[p.jsxs("div",{className:"filter-group",children:[p.jsx("label",{children:"Ordenar por:"}),p.jsx("select",{value:i.sortBy,onChange:N=>y(N.target.value),className:"sort-select",children:C().map(N=>p.jsx("option",{value:N.value,children:N.label},N.value))})]}),p.jsxs("div",{className:"filter-group",children:[p.jsx("label",{children:"Ordem:"}),p.jsxs("select",{value:i.sortOrder,onChange:N=>m("sortOrder",N.target.value),className:"order-select",children:[p.jsx("option",{value:"desc",children:"Decrescente"}),p.jsx("option",{value:"asc",children:"Crescente"})]})]}),p.jsxs("div",{className:"filter-group",children:[p.jsx("label",{children:"Mês de Origem:"}),p.jsx("select",{value:i.month,onChange:N=>m("month",N.target.value),className:"month-select",children:g().map(N=>p.jsx("option",{value:N.value,children:N.label},N.value))})]})]}),p.jsxs("div",{className:"filters-row",children:[p.jsxs("div",{className:"filter-group",children:[p.jsxs("label",{children:[p.jsx(sp,{size:14}),"Data de:"]}),p.jsx("input",{type:"date",value:i.dateFrom,onChange:N=>m("dateFrom",N.target.value),className:"date-input"})]}),p.jsxs("div",{className:"filter-group",children:[p.jsxs("label",{children:[p.jsx(sp,{size:14}),"Data até:"]}),p.jsx("input",{type:"date",value:i.dateTo,onChange:N=>m("dateTo",N.target.value),className:"date-input"})]})]})]})]})},jN=({shipments:i,onShipmentUpdate:e})=>{const{shipments:n,updateShipment:r,loading:o}=md(),{isAdmin:u}=ja(),d=i||n,m=R=>{if(!R)return"";const N=new Date(R);if(isNaN(N.getTime()))return R;const V=N.getDate().toString().padStart(2,"0"),H=(N.getMonth()+1).toString().padStart(2,"0"),M=N.getFullYear();return`${V}/${H}/${M}`},[y,g]=z.useState({dateFrom:"",dateTo:"",month:"",sortBy:"recent",sortOrder:"desc",searchTerm:""}),E=z.useMemo(()=>{let R=[...d];if(y.searchTerm){const N=y.searchTerm.toLowerCase();R=R.filter(V=>{var Q,ie,W,de,O;const H=[(Q=V.numeroBl)==null?void 0:Q.toLowerCase().includes(N),(ie=V.booking)==null?void 0:ie.toLowerCase().includes(N),(W=V.armador)==null?void 0:W.toLowerCase().includes(N)],M=u()?[(de=V.cliente)==null?void 0:de.toLowerCase().includes(N),(O=V.operador)==null?void 0:O.toLowerCase().includes(N)]:[];return[...H,...M].some(w=>w)})}return y.month&&(R=R.filter(N=>{const V=N.etdOrigem?new Date(N.etdOrigem):null,H=parseInt(y.month);return V&&!isNaN(V.getTime())?V.getMonth()+1===H:!1})),(y.dateFrom||y.dateTo)&&(R=R.filter(N=>{const V=N.etdOrigem?new Date(N.etdOrigem):null,H=N.etaDestino?new Date(N.etaDestino):null,M=y.dateFrom?new Date(y.dateFrom):null,Q=y.dateTo?new Date(y.dateTo):null;let ie=!1;return V&&(M&&Q?ie=V>=M&&V<=Q:M?ie=V>=M:Q&&(ie=V<=Q)),!ie&&H&&(M&&Q?ie=H>=M&&H<=Q:M?ie=H>=M:Q&&(ie=H<=Q)),ie||!y.dateFrom&&!y.dateTo})),R.sort((N,V)=>{let H=0;switch(y.sortBy){case"recent":case"old":{const M=N.createdAt?new Date(N.createdAt.toString()):new Date(0),Q=V.createdAt?new Date(V.createdAt.toString()):new Date(0);H=M.getTime()-Q.getTime(),y.sortBy==="recent"&&(H=-H);break}case"etd":{const M=N.etdOrigem?new Date(N.etdOrigem):new Date(0),Q=V.etdOrigem?new Date(V.etdOrigem):new Date(0);H=M.getTime()-Q.getTime();break}case"eta":{const M=N.etaDestino?new Date(N.etaDestino):new Date(0),Q=V.etaDestino?new Date(V.etaDestino):new Date(0);H=M.getTime()-Q.getTime();break}case"client":{H=(N.cliente||"").localeCompare(V.cliente||"");break}}return y.sortOrder==="desc"?-H:H}),R},[d,y]),A=async(R,N)=>{if(!u()){alert("Acesso negado. Apenas administradores podem alterar o status dos envios.");return}const V=d.find(H=>H.id===R);if(V)try{const H={...V,status:N};await r(H),e&&e(H),console.log(`Status do envio ${R} alterado para: ${N}`)}catch(H){console.error("Erro ao atualizar status:",H),alert("Erro ao atualizar o status. Tente novamente.")}},b=R=>{g(R)},C=()=>{g({dateFrom:"",dateTo:"",month:"",sortBy:"recent",sortOrder:"desc",searchTerm:""})};return o?p.jsxs("div",{className:"shipping-table-container",children:[p.jsx("h2",{className:"shipping-table-title",children:"Tabela de Envios"}),p.jsx("div",{className:"shipping-table-empty",children:"Carregando envios..."})]}):p.jsx(NN,{children:p.jsxs("div",{className:"shipping-table-container",children:[p.jsx("h2",{className:"shipping-table-title",children:"Tabela de Envios"}),p.jsx(IN,{filters:y,onFiltersChange:b,onClearFilters:C}),E.length===0?p.jsx("div",{className:"shipping-table-empty",children:d.length===0?"Nenhum envio encontrado. Que tal criar o primeiro?":"Nenhum envio encontrado com os filtros aplicados."}):p.jsx("div",{className:"table-wrapper",children:p.jsxs("table",{className:"shipping-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Cliente"}),p.jsx("th",{children:"Operador"}),p.jsx("th",{children:"POL"}),p.jsx("th",{children:"POD"}),p.jsx("th",{children:"ETD Origem"}),p.jsx("th",{children:"ETA Destino"}),p.jsx("th",{children:"Quant Box"}),p.jsx("th",{children:"Status"}),p.jsx("th",{children:"N° BL"}),p.jsx("th",{children:"Armador"}),p.jsx("th",{children:"Booking"})]})}),p.jsx("tbody",{children:E.map(R=>p.jsxs("tr",{children:[p.jsx("td",{children:R.cliente}),p.jsx("td",{children:R.operador}),p.jsx("td",{children:R.pol}),p.jsx("td",{children:R.pod}),p.jsx("td",{children:m(R.etdOrigem)}),p.jsx("td",{children:m(R.etaDestino)}),p.jsx("td",{children:R.quantBox}),p.jsx("td",{children:p.jsx("div",{title:u()?void 0:"Apenas administradores podem alterar o status",children:p.jsx(DN,{currentStatus:R.status,onStatusChange:N=>{if(R.id&&u())return A(R.id,N)},instanceId:`shipment-${R.id}`,disabled:!u()})})}),p.jsx("td",{children:R.numeroBl}),p.jsx("td",{children:R.armador}),p.jsx("td",{children:R.booking})]},R.id))})]})}),E.length>0&&p.jsxs("div",{className:"table-summary",children:["Mostrando ",E.length," de ",d.length," envios"]})]})})},ON=z.createContext({isCollapsed:!1,setIsCollapsed:()=>{}}),VN=()=>{const[i,e]=z.useState(!1),n=r=>{console.log("Envio atualizado na página de envios:",r)};return p.jsx(aa,{children:p.jsx(ON.Provider,{value:{isCollapsed:i,setIsCollapsed:e},children:p.jsxs("main",{className:"envios-container",children:[p.jsx(pi,{}),p.jsx("div",{className:`envios-content ${i?"navbar-collapsed":""}`,children:p.jsx(jN,{onShipmentUpdate:n})}),p.jsx(as,{})]})})})};function vT(){const{language:i,setLanguage:e,translations:n}=og();return p.jsxs("div",{className:"language-switcher",children:[p.jsxs("p",{children:[n.selectLanguage,":"]}),p.jsxs("div",{className:"language-buttons",children:[p.jsx("button",{onClick:()=>e("pt"),className:i==="pt"?"active":"",children:"PT"}),p.jsx("button",{onClick:()=>e("en"),className:i==="en"?"active":"",children:"EN"}),p.jsx("button",{onClick:()=>e("es"),className:i==="es"?"active":"",children:"ES"})]})]})}var Ye;(function(i){i.assertEqual=o=>o;function e(o){}i.assertIs=e;function n(o){throw new Error}i.assertNever=n,i.arrayToEnum=o=>{const u={};for(const d of o)u[d]=d;return u},i.getValidEnumValues=o=>{const u=i.objectKeys(o).filter(m=>typeof o[o[m]]!="number"),d={};for(const m of u)d[m]=o[m];return i.objectValues(d)},i.objectValues=o=>i.objectKeys(o).map(function(u){return o[u]}),i.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const u=[];for(const d in o)Object.prototype.hasOwnProperty.call(o,d)&&u.push(d);return u},i.find=(o,u)=>{for(const d of o)if(u(d))return d},i.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,u=" | "){return o.map(d=>typeof d=="string"?`'${d}'`:d).join(u)}i.joinValues=r,i.jsonStringifyReplacer=(o,u)=>typeof u=="bigint"?u.toString():u})(Ye||(Ye={}));var op;(function(i){i.mergeShapes=(e,n)=>({...e,...n})})(op||(op={}));const fe=Ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),si=i=>{switch(typeof i){case"undefined":return fe.undefined;case"string":return fe.string;case"number":return isNaN(i)?fe.nan:fe.number;case"boolean":return fe.boolean;case"function":return fe.function;case"bigint":return fe.bigint;case"symbol":return fe.symbol;case"object":return Array.isArray(i)?fe.array:i===null?fe.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?fe.promise:typeof Map<"u"&&i instanceof Map?fe.map:typeof Set<"u"&&i instanceof Set?fe.set:typeof Date<"u"&&i instanceof Date?fe.date:fe.object;default:return fe.unknown}},se=Ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),MN=i=>JSON.stringify(i,null,2).replace(/"([^"]+)":/g,"$1:");class jn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(u){return u.message},r={_errors:[]},o=u=>{for(const d of u.issues)if(d.code==="invalid_union")d.unionErrors.map(o);else if(d.code==="invalid_return_type")o(d.returnTypeError);else if(d.code==="invalid_arguments")o(d.argumentsError);else if(d.path.length===0)r._errors.push(n(d));else{let m=r,y=0;for(;y<d.path.length;){const g=d.path[y];y===d.path.length-1?(m[g]=m[g]||{_errors:[]},m[g]._errors.push(n(d))):m[g]=m[g]||{_errors:[]},m=m[g],y++}}};return o(this),r}static assert(e){if(!(e instanceof jn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}jn.create=i=>new jn(i);const bo=(i,e)=>{let n;switch(i.code){case se.invalid_type:i.received===fe.undefined?n="Required":n=`Expected ${i.expected}, received ${i.received}`;break;case se.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(i.expected,Ye.jsonStringifyReplacer)}`;break;case se.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ye.joinValues(i.keys,", ")}`;break;case se.invalid_union:n="Invalid input";break;case se.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ye.joinValues(i.options)}`;break;case se.invalid_enum_value:n=`Invalid enum value. Expected ${Ye.joinValues(i.options)}, received '${i.received}'`;break;case se.invalid_arguments:n="Invalid function arguments";break;case se.invalid_return_type:n="Invalid function return type";break;case se.invalid_date:n="Invalid date";break;case se.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(n=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?n=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?n=`Invalid input: must end with "${i.validation.endsWith}"`:Ye.assertNever(i.validation):i.validation!=="regex"?n=`Invalid ${i.validation}`:n="Invalid";break;case se.too_small:i.type==="array"?n=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?n=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?n=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?n=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:n="Invalid input";break;case se.too_big:i.type==="array"?n=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?n=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?n=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?n=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?n=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:n="Invalid input";break;case se.custom:n="Invalid input";break;case se.invalid_intersection_types:n="Intersection results could not be merged";break;case se.not_multiple_of:n=`Number must be a multiple of ${i.multipleOf}`;break;case se.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ye.assertNever(i)}return{message:n}};let _T=bo;function kN(i){_T=i}function Lh(){return _T}const Uh=i=>{const{data:e,path:n,errorMaps:r,issueData:o}=i,u=[...n,...o.path||[]],d={...o,path:u};if(o.message!==void 0)return{...o,path:u,message:o.message};let m="";const y=r.filter(g=>!!g).slice().reverse();for(const g of y)m=g(d,{data:e,defaultError:m}).message;return{...o,path:u,message:m}},PN=[];function he(i,e){const n=Lh(),r=Uh({issueData:e,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,n,n===bo?void 0:bo].filter(o=>!!o)});i.common.issues.push(r)}class cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const o of n){if(o.status==="aborted")return Re;o.status==="dirty"&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const o of n){const u=await o.key,d=await o.value;r.push({key:u,value:d})}return cn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const o of n){const{key:u,value:d}=o;if(u.status==="aborted"||d.status==="aborted")return Re;u.status==="dirty"&&e.dirty(),d.status==="dirty"&&e.dirty(),u.value!=="__proto__"&&(typeof d.value<"u"||o.alwaysSet)&&(r[u.value]=d.value)}return{status:e.value,value:r}}}const Re=Object.freeze({status:"aborted"}),oo=i=>({status:"dirty",value:i}),pn=i=>({status:"valid",value:i}),lp=i=>i.status==="aborted",up=i=>i.status==="dirty",is=i=>i.status==="valid",fu=i=>typeof Promise<"u"&&i instanceof Promise;function zh(i,e,n,r){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(i)}function ET(i,e,n,r,o){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(i,n),n}var ve;(function(i){i.errToObj=e=>typeof e=="string"?{message:e}:e||{},i.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));var Zl,Kl;class Na{constructor(e,n,r,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Z0=(i,e)=>{if(is(e))return{success:!0,data:e.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new jn(i.common.issues);return this._error=n,this._error}}};function Ie(i){if(!i)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:o}=i;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(d,m)=>{var y,g;const{message:E}=i;return d.code==="invalid_enum_value"?{message:E??m.defaultError}:typeof m.data>"u"?{message:(y=E??r)!==null&&y!==void 0?y:m.defaultError}:d.code!=="invalid_type"?{message:m.defaultError}:{message:(g=E??n)!==null&&g!==void 0?g:m.defaultError}},description:o}}class Oe{get description(){return this._def.description}_getType(e){return si(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:si(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new cn,ctx:{common:e.parent.common,data:e.data,parsedType:si(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(fu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const o={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:si(e)},u=this._parseSync({data:e,path:o.path,parent:o});return Z0(o,u)}"~validate"(e){var n,r;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:si(e)};if(!this["~standard"].async)try{const u=this._parseSync({data:e,path:[],parent:o});return is(u)?{value:u.value}:{issues:o.common.issues}}catch(u){!((r=(n=u==null?void 0:u.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(u=>is(u)?{value:u.value}:{issues:o.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:si(e)},o=this._parse({data:e,path:r.path,parent:r}),u=await(fu(o)?o:Promise.resolve(o));return Z0(r,u)}refine(e,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,u)=>{const d=e(o),m=()=>u.addIssue({code:se.custom,...r(o)});return typeof Promise<"u"&&d instanceof Promise?d.then(y=>y?!0:(m(),!1)):d?!0:(m(),!1)})}refinement(e,n){return this._refinement((r,o)=>e(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(e){return new ia({schema:this,typeName:Se.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Sa.create(this,this._def)}nullable(){return lr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ta.create(this)}promise(){return xo.create(this,this._def)}or(e){return yu.create([this,e],this._def)}and(e){return vu.create(this,e,this._def)}transform(e){return new ia({...Ie(this._def),schema:this,typeName:Se.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Au({...Ie(this._def),innerType:this,defaultValue:n,typeName:Se.ZodDefault})}brand(){return new lg({typeName:Se.ZodBranded,type:this,...Ie(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new xu({...Ie(this._def),innerType:this,catchValue:n,typeName:Se.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Vu.create(this,e)}readonly(){return Su.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const LN=/^c[^\s-]{8,}$/i,UN=/^[0-9a-z]+$/,zN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,BN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qN=/^[a-z0-9_-]{21}$/i,HN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,FN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,GN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,YN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Om;const $N=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,QN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ZN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,KN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,XN=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,JN=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,TT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",WN=new RegExp(`^${TT}$`);function bT(i){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return i.precision?e=`${e}\\.\\d{${i.precision}}`:i.precision==null&&(e=`${e}(\\.\\d+)?`),e}function eD(i){return new RegExp(`^${bT(i)}$`)}function AT(i){let e=`${TT}T${bT(i)}`;const n=[];return n.push(i.local?"Z?":"Z"),i.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function tD(i,e){return!!((e==="v4"||!e)&&$N.test(i)||(e==="v6"||!e)&&ZN.test(i))}function nD(i,e){if(!HN.test(i))return!1;try{const[n]=i.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function aD(i,e){return!!((e==="v4"||!e)&&QN.test(i)||(e==="v6"||!e)&&KN.test(i))}class ea extends Oe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==fe.string){const u=this._getOrReturnCtx(e);return he(u,{code:se.invalid_type,expected:fe.string,received:u.parsedType}),Re}const r=new cn;let o;for(const u of this._def.checks)if(u.kind==="min")e.data.length<u.value&&(o=this._getOrReturnCtx(e,o),he(o,{code:se.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),r.dirty());else if(u.kind==="max")e.data.length>u.value&&(o=this._getOrReturnCtx(e,o),he(o,{code:se.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),r.dirty());else if(u.kind==="length"){const d=e.data.length>u.value,m=e.data.length<u.value;(d||m)&&(o=this._getOrReturnCtx(e,o),d?he(o,{code:se.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):m&&he(o,{code:se.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),r.dirty())}else if(u.kind==="email")GN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"email",code:se.invalid_string,message:u.message}),r.dirty());else if(u.kind==="emoji")Om||(Om=new RegExp(YN,"u")),Om.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"emoji",code:se.invalid_string,message:u.message}),r.dirty());else if(u.kind==="uuid")BN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"uuid",code:se.invalid_string,message:u.message}),r.dirty());else if(u.kind==="nanoid")qN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"nanoid",code:se.invalid_string,message:u.message}),r.dirty());else if(u.kind==="cuid")LN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"cuid",code:se.invalid_string,message:u.message}),r.dirty());else if(u.kind==="cuid2")UN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"cuid2",code:se.invalid_string,message:u.message}),r.dirty());else if(u.kind==="ulid")zN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"ulid",code:se.invalid_string,message:u.message}),r.dirty());else if(u.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),he(o,{validation:"url",code:se.invalid_string,message:u.message}),r.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"regex",code:se.invalid_string,message:u.message}),r.dirty())):u.kind==="trim"?e.data=e.data.trim():u.kind==="includes"?e.data.includes(u.value,u.position)||(o=this._getOrReturnCtx(e,o),he(o,{code:se.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),r.dirty()):u.kind==="toLowerCase"?e.data=e.data.toLowerCase():u.kind==="toUpperCase"?e.data=e.data.toUpperCase():u.kind==="startsWith"?e.data.startsWith(u.value)||(o=this._getOrReturnCtx(e,o),he(o,{code:se.invalid_string,validation:{startsWith:u.value},message:u.message}),r.dirty()):u.kind==="endsWith"?e.data.endsWith(u.value)||(o=this._getOrReturnCtx(e,o),he(o,{code:se.invalid_string,validation:{endsWith:u.value},message:u.message}),r.dirty()):u.kind==="datetime"?AT(u).test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{code:se.invalid_string,validation:"datetime",message:u.message}),r.dirty()):u.kind==="date"?WN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{code:se.invalid_string,validation:"date",message:u.message}),r.dirty()):u.kind==="time"?eD(u).test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{code:se.invalid_string,validation:"time",message:u.message}),r.dirty()):u.kind==="duration"?FN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"duration",code:se.invalid_string,message:u.message}),r.dirty()):u.kind==="ip"?tD(e.data,u.version)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"ip",code:se.invalid_string,message:u.message}),r.dirty()):u.kind==="jwt"?nD(e.data,u.alg)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"jwt",code:se.invalid_string,message:u.message}),r.dirty()):u.kind==="cidr"?aD(e.data,u.version)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"cidr",code:se.invalid_string,message:u.message}),r.dirty()):u.kind==="base64"?XN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"base64",code:se.invalid_string,message:u.message}),r.dirty()):u.kind==="base64url"?JN.test(e.data)||(o=this._getOrReturnCtx(e,o),he(o,{validation:"base64url",code:se.invalid_string,message:u.message}),r.dirty()):Ye.assertNever(u);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(o=>e.test(o),{validation:n,code:se.invalid_string,...ve.errToObj(r)})}_addCheck(e){return new ea({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ve.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ve.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ve.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ve.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ve.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ve.errToObj(n)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new ea({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ea({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ea({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ea.create=i=>{var e;return new ea({checks:[],typeName:Se.ZodString,coerce:(e=i==null?void 0:i.coerce)!==null&&e!==void 0?e:!1,...Ie(i)})};function iD(i,e){const n=(i.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,o=n>r?n:r,u=parseInt(i.toFixed(o).replace(".","")),d=parseInt(e.toFixed(o).replace(".",""));return u%d/Math.pow(10,o)}class rr extends Oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==fe.number){const u=this._getOrReturnCtx(e);return he(u,{code:se.invalid_type,expected:fe.number,received:u.parsedType}),Re}let r;const o=new cn;for(const u of this._def.checks)u.kind==="int"?Ye.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:se.invalid_type,expected:"integer",received:"float",message:u.message}),o.dirty()):u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:se.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:se.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="multipleOf"?iD(e.data,u.value)!==0&&(r=this._getOrReturnCtx(e,r),he(r,{code:se.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):u.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:se.not_finite,message:u.message}),o.dirty()):Ye.assertNever(u);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,o){return new rr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(o)}]})}_addCheck(e){return new rr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ye.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}rr.create=i=>new rr({checks:[],typeName:Se.ZodNumber,coerce:(i==null?void 0:i.coerce)||!1,...Ie(i)});class sr extends Oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==fe.bigint)return this._getInvalidInput(e);let r;const o=new cn;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:se.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:se.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="multipleOf"?e.data%u.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),he(r,{code:se.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):Ye.assertNever(u);return{status:o.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return he(n,{code:se.invalid_type,expected:fe.bigint,received:n.parsedType}),Re}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,o){return new sr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(o)}]})}_addCheck(e){return new sr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}sr.create=i=>{var e;return new sr({checks:[],typeName:Se.ZodBigInt,coerce:(e=i==null?void 0:i.coerce)!==null&&e!==void 0?e:!1,...Ie(i)})};class mu extends Oe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==fe.boolean){const r=this._getOrReturnCtx(e);return he(r,{code:se.invalid_type,expected:fe.boolean,received:r.parsedType}),Re}return pn(e.data)}}mu.create=i=>new mu({typeName:Se.ZodBoolean,coerce:(i==null?void 0:i.coerce)||!1,...Ie(i)});class rs extends Oe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==fe.date){const u=this._getOrReturnCtx(e);return he(u,{code:se.invalid_type,expected:fe.date,received:u.parsedType}),Re}if(isNaN(e.data.getTime())){const u=this._getOrReturnCtx(e);return he(u,{code:se.invalid_date}),Re}const r=new cn;let o;for(const u of this._def.checks)u.kind==="min"?e.data.getTime()<u.value&&(o=this._getOrReturnCtx(e,o),he(o,{code:se.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),r.dirty()):u.kind==="max"?e.data.getTime()>u.value&&(o=this._getOrReturnCtx(e,o),he(o,{code:se.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),r.dirty()):Ye.assertNever(u);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new rs({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}rs.create=i=>new rs({checks:[],coerce:(i==null?void 0:i.coerce)||!1,typeName:Se.ZodDate,...Ie(i)});class Bh extends Oe{_parse(e){if(this._getType(e)!==fe.symbol){const r=this._getOrReturnCtx(e);return he(r,{code:se.invalid_type,expected:fe.symbol,received:r.parsedType}),Re}return pn(e.data)}}Bh.create=i=>new Bh({typeName:Se.ZodSymbol,...Ie(i)});class pu extends Oe{_parse(e){if(this._getType(e)!==fe.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:se.invalid_type,expected:fe.undefined,received:r.parsedType}),Re}return pn(e.data)}}pu.create=i=>new pu({typeName:Se.ZodUndefined,...Ie(i)});class gu extends Oe{_parse(e){if(this._getType(e)!==fe.null){const r=this._getOrReturnCtx(e);return he(r,{code:se.invalid_type,expected:fe.null,received:r.parsedType}),Re}return pn(e.data)}}gu.create=i=>new gu({typeName:Se.ZodNull,...Ie(i)});class Ao extends Oe{constructor(){super(...arguments),this._any=!0}_parse(e){return pn(e.data)}}Ao.create=i=>new Ao({typeName:Se.ZodAny,...Ie(i)});class es extends Oe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pn(e.data)}}es.create=i=>new es({typeName:Se.ZodUnknown,...Ie(i)});class gi extends Oe{_parse(e){const n=this._getOrReturnCtx(e);return he(n,{code:se.invalid_type,expected:fe.never,received:n.parsedType}),Re}}gi.create=i=>new gi({typeName:Se.ZodNever,...Ie(i)});class qh extends Oe{_parse(e){if(this._getType(e)!==fe.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:se.invalid_type,expected:fe.void,received:r.parsedType}),Re}return pn(e.data)}}qh.create=i=>new qh({typeName:Se.ZodVoid,...Ie(i)});class ta extends Oe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),o=this._def;if(n.parsedType!==fe.array)return he(n,{code:se.invalid_type,expected:fe.array,received:n.parsedType}),Re;if(o.exactLength!==null){const d=n.data.length>o.exactLength.value,m=n.data.length<o.exactLength.value;(d||m)&&(he(n,{code:d?se.too_big:se.too_small,minimum:m?o.exactLength.value:void 0,maximum:d?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(he(n,{code:se.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(he(n,{code:se.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((d,m)=>o.type._parseAsync(new Na(n,d,n.path,m)))).then(d=>cn.mergeArray(r,d));const u=[...n.data].map((d,m)=>o.type._parseSync(new Na(n,d,n.path,m)));return cn.mergeArray(r,u)}get element(){return this._def.type}min(e,n){return new ta({...this._def,minLength:{value:e,message:ve.toString(n)}})}max(e,n){return new ta({...this._def,maxLength:{value:e,message:ve.toString(n)}})}length(e,n){return new ta({...this._def,exactLength:{value:e,message:ve.toString(n)}})}nonempty(e){return this.min(1,e)}}ta.create=(i,e)=>new ta({type:i,minLength:null,maxLength:null,exactLength:null,typeName:Se.ZodArray,...Ie(e)});function so(i){if(i instanceof gt){const e={};for(const n in i.shape){const r=i.shape[n];e[n]=Sa.create(so(r))}return new gt({...i._def,shape:()=>e})}else return i instanceof ta?new ta({...i._def,type:so(i.element)}):i instanceof Sa?Sa.create(so(i.unwrap())):i instanceof lr?lr.create(so(i.unwrap())):i instanceof Da?Da.create(i.items.map(e=>so(e))):i}class gt extends Oe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ye.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==fe.object){const g=this._getOrReturnCtx(e);return he(g,{code:se.invalid_type,expected:fe.object,received:g.parsedType}),Re}const{status:r,ctx:o}=this._processInputParams(e),{shape:u,keys:d}=this._getCached(),m=[];if(!(this._def.catchall instanceof gi&&this._def.unknownKeys==="strip"))for(const g in o.data)d.includes(g)||m.push(g);const y=[];for(const g of d){const E=u[g],A=o.data[g];y.push({key:{status:"valid",value:g},value:E._parse(new Na(o,A,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof gi){const g=this._def.unknownKeys;if(g==="passthrough")for(const E of m)y.push({key:{status:"valid",value:E},value:{status:"valid",value:o.data[E]}});else if(g==="strict")m.length>0&&(he(o,{code:se.unrecognized_keys,keys:m}),r.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const E of m){const A=o.data[E];y.push({key:{status:"valid",value:E},value:g._parse(new Na(o,A,o.path,E)),alwaysSet:E in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const g=[];for(const E of y){const A=await E.key,b=await E.value;g.push({key:A,value:b,alwaysSet:E.alwaysSet})}return g}).then(g=>cn.mergeObjectSync(r,g)):cn.mergeObjectSync(r,y)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new gt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,u,d,m;const y=(d=(u=(o=this._def).errorMap)===null||u===void 0?void 0:u.call(o,n,r).message)!==null&&d!==void 0?d:r.defaultError;return n.code==="unrecognized_keys"?{message:(m=ve.errToObj(e).message)!==null&&m!==void 0?m:y}:{message:y}}}:{}})}strip(){return new gt({...this._def,unknownKeys:"strip"})}passthrough(){return new gt({...this._def,unknownKeys:"passthrough"})}extend(e){return new gt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new gt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Se.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new gt({...this._def,catchall:e})}pick(e){const n={};return Ye.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new gt({...this._def,shape:()=>n})}omit(e){const n={};return Ye.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new gt({...this._def,shape:()=>n})}deepPartial(){return so(this)}partial(e){const n={};return Ye.objectKeys(this.shape).forEach(r=>{const o=this.shape[r];e&&!e[r]?n[r]=o:n[r]=o.optional()}),new gt({...this._def,shape:()=>n})}required(e){const n={};return Ye.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let u=this.shape[r];for(;u instanceof Sa;)u=u._def.innerType;n[r]=u}}),new gt({...this._def,shape:()=>n})}keyof(){return xT(Ye.objectKeys(this.shape))}}gt.create=(i,e)=>new gt({shape:()=>i,unknownKeys:"strip",catchall:gi.create(),typeName:Se.ZodObject,...Ie(e)});gt.strictCreate=(i,e)=>new gt({shape:()=>i,unknownKeys:"strict",catchall:gi.create(),typeName:Se.ZodObject,...Ie(e)});gt.lazycreate=(i,e)=>new gt({shape:i,unknownKeys:"strip",catchall:gi.create(),typeName:Se.ZodObject,...Ie(e)});class yu extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function o(u){for(const m of u)if(m.result.status==="valid")return m.result;for(const m of u)if(m.result.status==="dirty")return n.common.issues.push(...m.ctx.common.issues),m.result;const d=u.map(m=>new jn(m.ctx.common.issues));return he(n,{code:se.invalid_union,unionErrors:d}),Re}if(n.common.async)return Promise.all(r.map(async u=>{const d={...n,common:{...n.common,issues:[]},parent:null};return{result:await u._parseAsync({data:n.data,path:n.path,parent:d}),ctx:d}})).then(o);{let u;const d=[];for(const y of r){const g={...n,common:{...n.common,issues:[]},parent:null},E=y._parseSync({data:n.data,path:n.path,parent:g});if(E.status==="valid")return E;E.status==="dirty"&&!u&&(u={result:E,ctx:g}),g.common.issues.length&&d.push(g.common.issues)}if(u)return n.common.issues.push(...u.ctx.common.issues),u.result;const m=d.map(y=>new jn(y));return he(n,{code:se.invalid_union,unionErrors:m}),Re}}get options(){return this._def.options}}yu.create=(i,e)=>new yu({options:i,typeName:Se.ZodUnion,...Ie(e)});const ri=i=>i instanceof Eu?ri(i.schema):i instanceof ia?ri(i.innerType()):i instanceof Tu?[i.value]:i instanceof or?i.options:i instanceof bu?Ye.objectValues(i.enum):i instanceof Au?ri(i._def.innerType):i instanceof pu?[void 0]:i instanceof gu?[null]:i instanceof Sa?[void 0,...ri(i.unwrap())]:i instanceof lr?[null,...ri(i.unwrap())]:i instanceof lg||i instanceof Su?ri(i.unwrap()):i instanceof xu?ri(i._def.innerType):[];class pd extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.object)return he(n,{code:se.invalid_type,expected:fe.object,received:n.parsedType}),Re;const r=this.discriminator,o=n.data[r],u=this.optionsMap.get(o);return u?n.common.async?u._parseAsync({data:n.data,path:n.path,parent:n}):u._parseSync({data:n.data,path:n.path,parent:n}):(he(n,{code:se.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Re)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const o=new Map;for(const u of n){const d=ri(u.shape[e]);if(!d.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const m of d){if(o.has(m))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(m)}`);o.set(m,u)}}return new pd({typeName:Se.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:o,...Ie(r)})}}function cp(i,e){const n=si(i),r=si(e);if(i===e)return{valid:!0,data:i};if(n===fe.object&&r===fe.object){const o=Ye.objectKeys(e),u=Ye.objectKeys(i).filter(m=>o.indexOf(m)!==-1),d={...i,...e};for(const m of u){const y=cp(i[m],e[m]);if(!y.valid)return{valid:!1};d[m]=y.data}return{valid:!0,data:d}}else if(n===fe.array&&r===fe.array){if(i.length!==e.length)return{valid:!1};const o=[];for(let u=0;u<i.length;u++){const d=i[u],m=e[u],y=cp(d,m);if(!y.valid)return{valid:!1};o.push(y.data)}return{valid:!0,data:o}}else return n===fe.date&&r===fe.date&&+i==+e?{valid:!0,data:i}:{valid:!1}}class vu extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),o=(u,d)=>{if(lp(u)||lp(d))return Re;const m=cp(u.value,d.value);return m.valid?((up(u)||up(d))&&n.dirty(),{status:n.value,value:m.data}):(he(r,{code:se.invalid_intersection_types}),Re)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([u,d])=>o(u,d)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}vu.create=(i,e,n)=>new vu({left:i,right:e,typeName:Se.ZodIntersection,...Ie(n)});class Da extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.array)return he(r,{code:se.invalid_type,expected:fe.array,received:r.parsedType}),Re;if(r.data.length<this._def.items.length)return he(r,{code:se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Re;!this._def.rest&&r.data.length>this._def.items.length&&(he(r,{code:se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const u=[...r.data].map((d,m)=>{const y=this._def.items[m]||this._def.rest;return y?y._parse(new Na(r,d,r.path,m)):null}).filter(d=>!!d);return r.common.async?Promise.all(u).then(d=>cn.mergeArray(n,d)):cn.mergeArray(n,u)}get items(){return this._def.items}rest(e){return new Da({...this._def,rest:e})}}Da.create=(i,e)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Da({items:i,typeName:Se.ZodTuple,rest:null,...Ie(e)})};class _u extends Oe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.object)return he(r,{code:se.invalid_type,expected:fe.object,received:r.parsedType}),Re;const o=[],u=this._def.keyType,d=this._def.valueType;for(const m in r.data)o.push({key:u._parse(new Na(r,m,r.path,m)),value:d._parse(new Na(r,r.data[m],r.path,m)),alwaysSet:m in r.data});return r.common.async?cn.mergeObjectAsync(n,o):cn.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Oe?new _u({keyType:e,valueType:n,typeName:Se.ZodRecord,...Ie(r)}):new _u({keyType:ea.create(),valueType:e,typeName:Se.ZodRecord,...Ie(n)})}}class Hh extends Oe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.map)return he(r,{code:se.invalid_type,expected:fe.map,received:r.parsedType}),Re;const o=this._def.keyType,u=this._def.valueType,d=[...r.data.entries()].map(([m,y],g)=>({key:o._parse(new Na(r,m,r.path,[g,"key"])),value:u._parse(new Na(r,y,r.path,[g,"value"]))}));if(r.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const y of d){const g=await y.key,E=await y.value;if(g.status==="aborted"||E.status==="aborted")return Re;(g.status==="dirty"||E.status==="dirty")&&n.dirty(),m.set(g.value,E.value)}return{status:n.value,value:m}})}else{const m=new Map;for(const y of d){const g=y.key,E=y.value;if(g.status==="aborted"||E.status==="aborted")return Re;(g.status==="dirty"||E.status==="dirty")&&n.dirty(),m.set(g.value,E.value)}return{status:n.value,value:m}}}}Hh.create=(i,e,n)=>new Hh({valueType:e,keyType:i,typeName:Se.ZodMap,...Ie(n)});class ss extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.set)return he(r,{code:se.invalid_type,expected:fe.set,received:r.parsedType}),Re;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(he(r,{code:se.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(he(r,{code:se.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const u=this._def.valueType;function d(y){const g=new Set;for(const E of y){if(E.status==="aborted")return Re;E.status==="dirty"&&n.dirty(),g.add(E.value)}return{status:n.value,value:g}}const m=[...r.data.values()].map((y,g)=>u._parse(new Na(r,y,r.path,g)));return r.common.async?Promise.all(m).then(y=>d(y)):d(m)}min(e,n){return new ss({...this._def,minSize:{value:e,message:ve.toString(n)}})}max(e,n){return new ss({...this._def,maxSize:{value:e,message:ve.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ss.create=(i,e)=>new ss({valueType:i,minSize:null,maxSize:null,typeName:Se.ZodSet,...Ie(e)});class ho extends Oe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.function)return he(n,{code:se.invalid_type,expected:fe.function,received:n.parsedType}),Re;function r(m,y){return Uh({data:m,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lh(),bo].filter(g=>!!g),issueData:{code:se.invalid_arguments,argumentsError:y}})}function o(m,y){return Uh({data:m,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lh(),bo].filter(g=>!!g),issueData:{code:se.invalid_return_type,returnTypeError:y}})}const u={errorMap:n.common.contextualErrorMap},d=n.data;if(this._def.returns instanceof xo){const m=this;return pn(async function(...y){const g=new jn([]),E=await m._def.args.parseAsync(y,u).catch(C=>{throw g.addIssue(r(y,C)),g}),A=await Reflect.apply(d,this,E);return await m._def.returns._def.type.parseAsync(A,u).catch(C=>{throw g.addIssue(o(A,C)),g})})}else{const m=this;return pn(function(...y){const g=m._def.args.safeParse(y,u);if(!g.success)throw new jn([r(y,g.error)]);const E=Reflect.apply(d,this,g.data),A=m._def.returns.safeParse(E,u);if(!A.success)throw new jn([o(E,A.error)]);return A.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ho({...this._def,args:Da.create(e).rest(es.create())})}returns(e){return new ho({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new ho({args:e||Da.create([]).rest(es.create()),returns:n||es.create(),typeName:Se.ZodFunction,...Ie(r)})}}class Eu extends Oe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Eu.create=(i,e)=>new Eu({getter:i,typeName:Se.ZodLazy,...Ie(e)});class Tu extends Oe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return he(n,{received:n.data,code:se.invalid_literal,expected:this._def.value}),Re}return{status:"valid",value:e.data}}get value(){return this._def.value}}Tu.create=(i,e)=>new Tu({value:i,typeName:Se.ZodLiteral,...Ie(e)});function xT(i,e){return new or({values:i,typeName:Se.ZodEnum,...Ie(e)})}class or extends Oe{constructor(){super(...arguments),Zl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return he(n,{expected:Ye.joinValues(r),received:n.parsedType,code:se.invalid_type}),Re}if(zh(this,Zl)||ET(this,Zl,new Set(this._def.values)),!zh(this,Zl).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return he(n,{received:n.data,code:se.invalid_enum_value,options:r}),Re}return pn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return or.create(e,{...this._def,...n})}exclude(e,n=this._def){return or.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Zl=new WeakMap;or.create=xT;class bu extends Oe{constructor(){super(...arguments),Kl.set(this,void 0)}_parse(e){const n=Ye.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==fe.string&&r.parsedType!==fe.number){const o=Ye.objectValues(n);return he(r,{expected:Ye.joinValues(o),received:r.parsedType,code:se.invalid_type}),Re}if(zh(this,Kl)||ET(this,Kl,new Set(Ye.getValidEnumValues(this._def.values))),!zh(this,Kl).has(e.data)){const o=Ye.objectValues(n);return he(r,{received:r.data,code:se.invalid_enum_value,options:o}),Re}return pn(e.data)}get enum(){return this._def.values}}Kl=new WeakMap;bu.create=(i,e)=>new bu({values:i,typeName:Se.ZodNativeEnum,...Ie(e)});class xo extends Oe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.promise&&n.common.async===!1)return he(n,{code:se.invalid_type,expected:fe.promise,received:n.parsedType}),Re;const r=n.parsedType===fe.promise?n.data:Promise.resolve(n.data);return pn(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}xo.create=(i,e)=>new xo({type:i,typeName:Se.ZodPromise,...Ie(e)});class ia extends Oe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),o=this._def.effect||null,u={addIssue:d=>{he(r,d),d.fatal?n.abort():n.dirty()},get path(){return r.path}};if(u.addIssue=u.addIssue.bind(u),o.type==="preprocess"){const d=o.transform(r.data,u);if(r.common.async)return Promise.resolve(d).then(async m=>{if(n.value==="aborted")return Re;const y=await this._def.schema._parseAsync({data:m,path:r.path,parent:r});return y.status==="aborted"?Re:y.status==="dirty"||n.value==="dirty"?oo(y.value):y});{if(n.value==="aborted")return Re;const m=this._def.schema._parseSync({data:d,path:r.path,parent:r});return m.status==="aborted"?Re:m.status==="dirty"||n.value==="dirty"?oo(m.value):m}}if(o.type==="refinement"){const d=m=>{const y=o.refinement(m,u);if(r.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(r.common.async===!1){const m=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return m.status==="aborted"?Re:(m.status==="dirty"&&n.dirty(),d(m.value),{status:n.value,value:m.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(m=>m.status==="aborted"?Re:(m.status==="dirty"&&n.dirty(),d(m.value).then(()=>({status:n.value,value:m.value}))))}if(o.type==="transform")if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!is(d))return d;const m=o.transform(d.value,u);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:m}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>is(d)?Promise.resolve(o.transform(d.value,u)).then(m=>({status:n.value,value:m})):d);Ye.assertNever(o)}}ia.create=(i,e,n)=>new ia({schema:i,typeName:Se.ZodEffects,effect:e,...Ie(n)});ia.createWithPreprocess=(i,e,n)=>new ia({schema:e,effect:{type:"preprocess",transform:i},typeName:Se.ZodEffects,...Ie(n)});class Sa extends Oe{_parse(e){return this._getType(e)===fe.undefined?pn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sa.create=(i,e)=>new Sa({innerType:i,typeName:Se.ZodOptional,...Ie(e)});class lr extends Oe{_parse(e){return this._getType(e)===fe.null?pn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lr.create=(i,e)=>new lr({innerType:i,typeName:Se.ZodNullable,...Ie(e)});class Au extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Au.create=(i,e)=>new Au({innerType:i,typeName:Se.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ie(e)});class xu extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return fu(o)?o.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new jn(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new jn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}xu.create=(i,e)=>new xu({innerType:i,typeName:Se.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ie(e)});class Fh extends Oe{_parse(e){if(this._getType(e)!==fe.nan){const r=this._getOrReturnCtx(e);return he(r,{code:se.invalid_type,expected:fe.nan,received:r.parsedType}),Re}return{status:"valid",value:e.data}}}Fh.create=i=>new Fh({typeName:Se.ZodNaN,...Ie(i)});const rD=Symbol("zod_brand");class lg extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Vu extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Re:u.status==="dirty"?(n.dirty(),oo(u.value)):this._def.out._parseAsync({data:u.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Re:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(e,n){return new Vu({in:e,out:n,typeName:Se.ZodPipeline})}}class Su extends Oe{_parse(e){const n=this._def.innerType._parse(e),r=o=>(is(o)&&(o.value=Object.freeze(o.value)),o);return fu(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}}Su.create=(i,e)=>new Su({innerType:i,typeName:Se.ZodReadonly,...Ie(e)});function K0(i,e){const n=typeof i=="function"?i(e):typeof i=="string"?{message:i}:i;return typeof n=="string"?{message:n}:n}function ST(i,e={},n){return i?Ao.create().superRefine((r,o)=>{var u,d;const m=i(r);if(m instanceof Promise)return m.then(y=>{var g,E;if(!y){const A=K0(e,r),b=(E=(g=A.fatal)!==null&&g!==void 0?g:n)!==null&&E!==void 0?E:!0;o.addIssue({code:"custom",...A,fatal:b})}});if(!m){const y=K0(e,r),g=(d=(u=y.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;o.addIssue({code:"custom",...y,fatal:g})}}):Ao.create()}const sD={object:gt.lazycreate};var Se;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(Se||(Se={}));const oD=(i,e={message:`Input not instance of ${i.name}`})=>ST(n=>n instanceof i,e),wT=ea.create,RT=rr.create,lD=Fh.create,uD=sr.create,CT=mu.create,cD=rs.create,hD=Bh.create,dD=pu.create,fD=gu.create,mD=Ao.create,pD=es.create,gD=gi.create,yD=qh.create,vD=ta.create,_D=gt.create,ED=gt.strictCreate,TD=yu.create,bD=pd.create,AD=vu.create,xD=Da.create,SD=_u.create,wD=Hh.create,RD=ss.create,CD=ho.create,ND=Eu.create,DD=Tu.create,ID=or.create,jD=bu.create,OD=xo.create,X0=ia.create,VD=Sa.create,MD=lr.create,kD=ia.createWithPreprocess,PD=Vu.create,LD=()=>wT().optional(),UD=()=>RT().optional(),zD=()=>CT().optional(),BD={string:i=>ea.create({...i,coerce:!0}),number:i=>rr.create({...i,coerce:!0}),boolean:i=>mu.create({...i,coerce:!0}),bigint:i=>sr.create({...i,coerce:!0}),date:i=>rs.create({...i,coerce:!0})},qD=Re;var $i=Object.freeze({__proto__:null,defaultErrorMap:bo,setErrorMap:kN,getErrorMap:Lh,makeIssue:Uh,EMPTY_PATH:PN,addIssueToContext:he,ParseStatus:cn,INVALID:Re,DIRTY:oo,OK:pn,isAborted:lp,isDirty:up,isValid:is,isAsync:fu,get util(){return Ye},get objectUtil(){return op},ZodParsedType:fe,getParsedType:si,ZodType:Oe,datetimeRegex:AT,ZodString:ea,ZodNumber:rr,ZodBigInt:sr,ZodBoolean:mu,ZodDate:rs,ZodSymbol:Bh,ZodUndefined:pu,ZodNull:gu,ZodAny:Ao,ZodUnknown:es,ZodNever:gi,ZodVoid:qh,ZodArray:ta,ZodObject:gt,ZodUnion:yu,ZodDiscriminatedUnion:pd,ZodIntersection:vu,ZodTuple:Da,ZodRecord:_u,ZodMap:Hh,ZodSet:ss,ZodFunction:ho,ZodLazy:Eu,ZodLiteral:Tu,ZodEnum:or,ZodNativeEnum:bu,ZodPromise:xo,ZodEffects:ia,ZodTransformer:ia,ZodOptional:Sa,ZodNullable:lr,ZodDefault:Au,ZodCatch:xu,ZodNaN:Fh,BRAND:rD,ZodBranded:lg,ZodPipeline:Vu,ZodReadonly:Su,custom:ST,Schema:Oe,ZodSchema:Oe,late:sD,get ZodFirstPartyTypeKind(){return Se},coerce:BD,any:mD,array:vD,bigint:uD,boolean:CT,date:cD,discriminatedUnion:bD,effect:X0,enum:ID,function:CD,instanceof:oD,intersection:AD,lazy:ND,literal:DD,map:wD,nan:lD,nativeEnum:jD,never:gD,null:fD,nullable:MD,number:RT,object:_D,oboolean:zD,onumber:UD,optional:VD,ostring:LD,pipeline:PD,preprocess:kD,promise:OD,record:SD,set:RD,strictObject:ED,string:wT,symbol:hD,transformer:X0,tuple:xD,undefined:dD,union:TD,unknown:pD,void:yD,NEVER:qD,ZodIssueCode:se,quotelessJson:MN,ZodError:jn});const HD=i=>$i.object({email:$i.string().email(i.emailError),password:$i.string().nonempty(i.passwordError)});function NT(){return p.jsx("div",{className:"ship-icon",children:p.jsx(To,{color:"white",size:24})})}function FD(){const[i,e]=z.useState({email:"",password:""}),[n,r]=z.useState({}),[o,u]=z.useState(!1),{translations:d}=og(),{login:m}=ja(),y=os(),g=z.useMemo(()=>HD(d),[d]),E=async A=>{var C,R;if(A.preventDefault(),o)return;const b=g.safeParse(i);if(!b.success){const N=b.error.format();r({email:(C=N.email)==null?void 0:C._errors[0],password:(R=N.password)==null?void 0:R._errors[0]});return}r({}),u(!0);try{await m(i.email,i.password),console.log("Usuario logado com sucesso"),y("/home")}catch(N){console.error("Erro ao logar:",N);const V=N instanceof Error?N.message:"Erro ao fazer login. Verifique suas credenciais.";alert(V)}finally{u(!1)}};return p.jsxs("div",{className:"login-form-container",children:[p.jsxs("div",{className:"logo-container",children:[p.jsx(NT,{}),p.jsx("h1",{children:"Sea Logistics"})]}),p.jsx("h2",{children:d.welcomeMessage}),p.jsxs("form",{onSubmit:E,className:"login-form",noValidate:!0,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:d.email}),p.jsx("input",{id:"email",value:i.email,onChange:A=>e({...i,email:A.target.value}),placeholder:d.emailPlaceholder,required:!0,disabled:o}),n.email&&p.jsx("p",{className:"error-text",children:n.email})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:d.password}),p.jsx("input",{type:"password",id:"password",value:i.password,onChange:A=>e({...i,password:A.target.value}),placeholder:d.passwordPlaceholder,required:!0,disabled:o}),n.password&&p.jsx("p",{className:"error-text",children:n.password})]}),p.jsx("button",{type:"submit",className:"login-button",disabled:o,children:o?"Entrando...":d.loginButton})]}),p.jsxs("div",{className:"register-link",children:[d.dontHaveAccount,p.jsxs("a",{className:"register-link-button",onClick:()=>!o&&y("/register"),children:[" ",d.registerLink]})]})]})}const GD=()=>p.jsx(aa,{children:p.jsx("main",{className:"login-container",children:p.jsxs("div",{className:"login-card",children:[p.jsx(FD,{}),p.jsx(vT,{})]})})}),YD=i=>$i.object({name:$i.string().nonempty(i.nameError),email:$i.string().email(i.emailError),password:$i.string().min(6,i.passwordError),confirmPassword:$i.string().min(6,i.confirmPasswordError)}).refine(e=>e.password===e.confirmPassword,{message:i.passwordsDontMatch,path:["confirmPassword"]});function $D(){const[i,e]=z.useState({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:sn.COMPANY_USER}),[n,r]=z.useState({}),[o,u]=z.useState(!1),{translations:d}=og(),m=os(),y=z.useMemo(()=>YD(d),[d]),g=async(A,b)=>{try{const C=Eo($n(ot,"companies"),co("code","==",b)),R=await ui(C);if(R.empty){const N=`company_${Date.now()}`;return await rp(ln(ot,"companies",N),{id:N,name:A,code:b,contactEmail:i.email,isActive:!0,createdAt:new Date}),N}else return R.docs[0].id}catch(C){throw console.error("Error finding/creating company:",C),C}},E=async A=>{var ie,W,de,O;A.preventDefault();const{name:b,email:C,password:R,confirmPassword:N,companyName:V,companyCode:H,role:M}=i;if(console.log(i),R!==N){alert("As senhas não coincidem.");return}if(M===sn.COMPANY_USER&&(!V||!H)){alert("Nome da empresa e código são obrigatórios para usuários de empresa.");return}const Q=y.safeParse(i);if(!Q.success){const w=Q.error.format();r({name:(ie=w.name)==null?void 0:ie._errors[0],email:(W=w.email)==null?void 0:W._errors[0],password:(de=w.password)==null?void 0:de._errors[0],confirmPassword:(O=w.confirmPassword)==null?void 0:O._errors[0]});return}r({});try{const w=`user_${Date.now()}`;let D;M===sn.COMPANY_USER&&V&&H&&(D=await g(V,H));const k={uid:w,displayName:b??"",email:C,role:M,isActive:!0,createdAt:new Date},B=M===sn.COMPANY_USER?{...k,companyId:D,companyName:V}:k;await rp(ln(ot,"users",w),B),localStorage.setItem("currentUser",JSON.stringify({email:C,name:b??"Usuário",id:w,role:M})),console.log("Usuário cadastrado com sucesso"),m("/home")}catch(w){console.error("Erro ao cadastrar:",w),alert("Erro ao cadastrar. Verifique os dados e tente novamente.")}};return p.jsxs("div",{className:"split-card",children:[p.jsx("div",{className:"split-branding",children:p.jsxs("div",{className:"split-branding-content",children:[p.jsx("div",{className:"split-logo",children:p.jsx(NT,{})}),p.jsx("h1",{className:"split-logo-text",children:"Sea Logistics"}),p.jsx("p",{className:"split-description",children:d.registerText})]})}),p.jsxs("div",{className:"split-form-container",children:[p.jsx("h2",{className:"split-title",children:d.createAccount}),p.jsxs("div",{className:"split-form-group",children:[p.jsx("label",{children:"Tipo de Usuário"}),p.jsxs("div",{className:"user-type-selector",children:[p.jsxs("label",{className:"radio-option",children:[p.jsx("input",{type:"radio",name:"userType",checked:!o,onChange:()=>{u(!1),e({...i,role:sn.COMPANY_USER})}}),"Usuário de Empresa"]}),p.jsxs("label",{className:"radio-option",children:[p.jsx("input",{type:"radio",name:"userType",checked:o,onChange:()=>{u(!0),e({...i,role:sn.ADMIN})}}),"Administrador"]})]})]}),p.jsxs("form",{onSubmit:E,className:"split-form",noValidate:!0,children:[p.jsxs("div",{className:"split-form-group",children:[p.jsx("label",{htmlFor:"name",children:d.name}),p.jsx("input",{id:"name",value:i.name,onChange:A=>e({...i,name:A.target.value}),placeholder:d.namePlaceholder,required:!0}),n.name&&p.jsx("p",{className:"error-text",children:n.name})]}),p.jsxs("div",{className:"split-form-group",children:[p.jsx("label",{htmlFor:"email",children:d.email}),p.jsx("input",{id:"email",type:"email",value:i.email,onChange:A=>e({...i,email:A.target.value}),placeholder:d.emailPlaceholder,required:!0}),n.email&&p.jsx("p",{className:"error-text",children:n.email})]}),!o&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"split-form-group",children:[p.jsx("label",{htmlFor:"companyName",children:"Nome da Empresa"}),p.jsx("input",{id:"companyName",value:i.companyName,onChange:A=>e({...i,companyName:A.target.value}),placeholder:"Digite o nome da sua empresa",required:!o}),n.companyName&&p.jsx("p",{className:"error-text",children:n.companyName})]}),p.jsxs("div",{className:"split-form-group",children:[p.jsx("label",{htmlFor:"companyCode",children:"Código da Empresa"}),p.jsx("input",{id:"companyCode",value:i.companyCode,onChange:A=>e({...i,companyCode:A.target.value.toUpperCase()}),placeholder:"Ex: LOG001",required:!o}),p.jsx("small",{children:"Código único para identificar sua empresa"}),n.companyCode&&p.jsx("p",{className:"error-text",children:n.companyCode})]})]}),p.jsxs("div",{className:"split-password-grid",children:[p.jsxs("div",{className:"split-form-group",children:[p.jsx("label",{htmlFor:"password",children:d.password}),p.jsx("input",{id:"password",type:"password",value:i.password,onChange:A=>e({...i,password:A.target.value}),placeholder:d.passwordPlaceholder,required:!0}),n.password&&p.jsx("p",{className:"error-text",children:n.password})]}),p.jsxs("div",{className:"split-form-group",children:[p.jsx("label",{htmlFor:"confirm-password",children:d.confirmPassword}),p.jsx("input",{id:"confirm-password",type:"password",value:i.confirmPassword,onChange:A=>e({...i,confirmPassword:A.target.value}),placeholder:d.confirmPasswordPlaceholder,required:!0}),n.confirmPassword&&p.jsx("p",{className:"error-text",children:n.confirmPassword})]})]}),p.jsx("button",{type:"submit",className:"split-button",children:d.registerButton})]}),p.jsxs("div",{className:"split-login-link",children:[d.alreadyHaveAccount," ",p.jsx("a",{onClick:()=>m("/"),className:"split-link",children:d.loginLink})]}),p.jsx(vT,{})]})]})}const QD=()=>p.jsx(aa,{children:p.jsx("main",{className:"login-container",children:p.jsx($D,{})})}),ZD=()=>{const e=(()=>{const C=localStorage.getItem("currentUser");return C?JSON.parse(C):{id:"demo-user-123",email:"demo@sealogistics.com",name:"Usuário Demo"}})(),n=e.id,[r,o]=z.useState({name:"",email:"",phone:"",company:"",position:"",notifications:{email:!0,push:!0,statusUpdates:!0,newShipments:!0},preferences:{language:"pt",timezone:"America/Sao_Paulo",dateFormat:"DD/MM/YYYY",theme:"light"}}),[u,d]=z.useState(!1),[m,y]=z.useState(!1);z.useEffect(()=>{g()},[]);const g=async()=>{d(!0);try{const C=await Eh(ln(ot,"users",n));if(C.exists()){const R=C.data();o({name:R.name||e.name||"",email:R.email||e.email||"",phone:R.phone||"",company:R.company||"",position:R.position||"",notifications:R.notifications||r.notifications,preferences:R.preferences||r.preferences})}else{const R={name:e.name||"Usuário Demo",email:e.email||"demo@sealogistics.com",phone:"",company:"",position:"",notifications:r.notifications,preferences:r.preferences,createdAt:new Date};await Wr(ln(ot,"users",n),R),o(N=>({...N,...R}))}}catch(C){console.error("Erro ao carregar configurações:",C);try{const R={name:e.name||"Usuário Demo",email:e.email||"demo@sealogistics.com",phone:"",company:"",position:"",notifications:r.notifications,preferences:r.preferences,createdAt:new Date};await Wr(ln(ot,"users",n),R),o(N=>({...N,...R}))}catch(R){console.error("Erro ao criar documento do usuário:",R)}}finally{d(!1)}},E=(C,R)=>{o(N=>({...N,[C]:R}))},A=(C,R,N)=>{o(V=>({...V,[C]:{...V[C],[R]:N}}))},b=async()=>{y(!0);try{await Wr(ln(ot,"users",n),{name:r.name,email:r.email,phone:r.phone,company:r.company,position:r.position,notifications:r.notifications,preferences:r.preferences,updatedAt:new Date}),alert("Configurações salvas com sucesso!")}catch(C){console.error("Erro ao salvar configurações:",C),alert("Erro ao salvar configurações. Tente novamente.")}finally{y(!1)}};return u?p.jsx(aa,{children:p.jsxs("main",{className:"settings-container",children:[p.jsx(pi,{}),p.jsx("div",{className:"settings-content",children:p.jsx("div",{className:"loading-message",children:"Carregando configurações..."})}),p.jsx(as,{})]})}):p.jsx(aa,{children:p.jsxs("main",{className:"settings-container",children:[p.jsx(pi,{}),p.jsx("div",{className:"settings-content",children:p.jsxs("div",{className:"settings-wrapper",children:[p.jsxs("div",{className:"settings-header",children:[p.jsx("h1",{children:"Configurações da conta"}),p.jsx("p",{children:"Gerencie suas informações pessoais e preferências"})]}),p.jsxs("div",{className:"settings-sections",children:[p.jsxs("div",{className:"settings-section",children:[p.jsxs("div",{className:"section-header",children:[p.jsx(dT,{size:20}),p.jsx("h2",{children:"Informações Pessoais"})]}),p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"name",children:"Nome Completo"}),p.jsx("input",{type:"text",id:"name",value:r.name,onChange:C=>E("name",C.target.value),placeholder:"Digite seu nome completo"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"E-mail"}),p.jsx("input",{type:"email",id:"email",value:r.email,onChange:C=>E("email",C.target.value),placeholder:"seu@email.com"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"phone",children:"Telefone"}),p.jsx("input",{type:"tel",id:"phone",value:r.phone,onChange:C=>E("phone",C.target.value),placeholder:"(11) 99999-9999"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"company",children:"Empresa"}),p.jsx("input",{type:"text",id:"company",value:r.company,onChange:C=>E("company",C.target.value),placeholder:"Nome da empresa"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"position",children:"Cargo"}),p.jsx("input",{type:"text",id:"position",value:r.position,onChange:C=>E("position",C.target.value),placeholder:"Seu cargo na empresa"})]})]})]}),p.jsxs("div",{className:"settings-section",children:[p.jsxs("div",{className:"section-header",children:[p.jsx(PC,{size:20}),p.jsx("h2",{children:"Notificações"})]}),p.jsxs("div",{className:"notification-settings",children:[p.jsxs("div",{className:"notification-item",children:[p.jsxs("div",{className:"notification-info",children:[p.jsx("h3",{children:"Notificações por E-mail"}),p.jsx("p",{children:"Receba atualizações importantes por e-mail"})]}),p.jsxs("label",{className:"switch",children:[p.jsx("input",{type:"checkbox",checked:r.notifications.email,onChange:C=>A("notifications","email",C.target.checked)}),p.jsx("span",{className:"slider"})]})]}),p.jsxs("div",{className:"notification-item",children:[p.jsxs("div",{className:"notification-info",children:[p.jsx("h3",{children:"Notificações Push"}),p.jsx("p",{children:"Receba notificações em tempo real no navegador"})]}),p.jsxs("label",{className:"switch",children:[p.jsx("input",{type:"checkbox",checked:r.notifications.push,onChange:C=>A("notifications","push",C.target.checked)}),p.jsx("span",{className:"slider"})]})]}),p.jsxs("div",{className:"notification-item",children:[p.jsxs("div",{className:"notification-info",children:[p.jsx("h3",{children:"Atualizações de Status"}),p.jsx("p",{children:"Seja notificado quando o status dos envios mudar"})]}),p.jsxs("label",{className:"switch",children:[p.jsx("input",{type:"checkbox",checked:r.notifications.statusUpdates,onChange:C=>A("notifications","statusUpdates",C.target.checked)}),p.jsx("span",{className:"slider"})]})]}),p.jsxs("div",{className:"notification-item",children:[p.jsxs("div",{className:"notification-info",children:[p.jsx("h3",{children:"Novos Envios"}),p.jsx("p",{children:"Receba notificações sobre novos envios criados"})]}),p.jsxs("label",{className:"switch",children:[p.jsx("input",{type:"checkbox",checked:r.notifications.newShipments,onChange:C=>A("notifications","newShipments",C.target.checked)}),p.jsx("span",{className:"slider"})]})]})]})]}),p.jsxs("div",{className:"settings-section",children:[p.jsxs("div",{className:"section-header",children:[p.jsx(eN,{size:20}),p.jsx("h2",{children:"Preferências"})]}),p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"language",children:"Idioma"}),p.jsxs("select",{id:"language",value:r.preferences.language,onChange:C=>A("preferences","language",C.target.value),children:[p.jsx("option",{value:"pt",children:"Português"}),p.jsx("option",{value:"en",children:"English"}),p.jsx("option",{value:"es",children:"Español"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"timezone",children:"Fuso Horário"}),p.jsxs("select",{id:"timezone",value:r.preferences.timezone,onChange:C=>A("preferences","timezone",C.target.value),children:[p.jsx("option",{value:"America/Sao_Paulo",children:"São Paulo (UTC-3)"}),p.jsx("option",{value:"America/New_York",children:"Nova York (UTC-5)"}),p.jsx("option",{value:"Europe/London",children:"Londres (UTC+0)"}),p.jsx("option",{value:"Asia/Shanghai",children:"Xangai (UTC+8)"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"dateFormat",children:"Formato de Data"}),p.jsxs("select",{id:"dateFormat",value:r.preferences.dateFormat,onChange:C=>A("preferences","dateFormat",C.target.value),children:[p.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/AAAA"}),p.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/AAAA"}),p.jsx("option",{value:"YYYY-MM-DD",children:"AAAA-MM-DD"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"theme",children:"Tema"}),p.jsxs("select",{id:"theme",value:r.preferences.theme,onChange:C=>A("preferences","theme",C.target.value),children:[p.jsx("option",{value:"light",children:"Claro"}),p.jsx("option",{value:"dark",children:"Escuro"}),p.jsx("option",{value:"auto",children:"Automático"})]})]})]})]})]}),p.jsx("div",{className:"settings-actions",children:p.jsxs("button",{className:"btn-save",onClick:b,disabled:m,children:[p.jsx(hN,{size:16}),m?"Salvando...":"Salvar Configurações"]})})]})}),p.jsx(as,{})]})})},KD=()=>{const i=os(),{addShipment:e}=md(),{isAdmin:n}=ja();z.useEffect(()=>{n()||(alert("Acesso negado. Apenas administradores podem criar novos shipments."),i("/home"))},[n,i]);const[r,o]=z.useState({clienteId:"",operador:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",quantBox:1,status:"Agendado",numeroBl:"",armador:"",booking:""}),[u,d]=z.useState([]),[m,y]=z.useState([]),[g,E]=z.useState(!1),[A,b]=z.useState(!1),[C,R]=z.useState(!1);z.useEffect(()=>{(async()=>{E(!0);try{const de=Eo($n(ot,"users"),co("role","!=","admin")),w=(await ui(de)).docs.map(D=>{const k=D.data();return{id:D.id,nome:k.displayName||k.name||"Usuário",empresa:k.companyName||"-",email:k.email||"-",companyId:k.companyId||void 0}});d(w)}catch(de){console.error("Erro ao buscar clientes:",de),d([])}finally{E(!1)}})()},[]),z.useEffect(()=>{(async()=>{b(!0);try{const de=Eo($n(ot,"users"),co("role","==","admin"),co("isActive","==",!0)),w=(await ui(de)).docs.map(D=>{const k=D.data();return{id:D.id,nome:k.displayName||k.name||"Admin",email:k.email||""}});y(w)}catch(de){console.error("Erro ao buscar operadores:",de),y([])}finally{b(!1)}})()},[]);const N=["MSC","Maersk","CMA CGM","Hapag-Lloyd","COSCO","Evergreen"],V=["Santos, Brasil","Itajaí, Brasil","Paranaguá, Brasil","Rio Grande, Brasil","Suape, Brasil","Rotterdam, Holanda","Hamburgo, Alemanha","Barcelona, Espanha","Xangai, China","Singapura","Los Angeles, EUA","Nova York, EUA"],H=["Agendado","Em trânsito","Documentação","Concluído"],M=W=>{const{name:de,value:O}=W.target;o(w=>({...w,[de]:de==="quantBox"?parseInt(O):O}))},Q=async W=>{if(W.preventDefault(),!n()){alert("Erro: Você não tem permissão para criar shipments.");return}R(!0);try{const de=u.find(w=>w.id===r.clienteId);if(!de){alert("Por favor, selecione um cliente válido.");return}const O={cliente:de.empresa,operador:r.operador,pol:r.pol,pod:r.pod,etdOrigem:r.etdOrigem,etaDestino:r.etaDestino,quantBox:r.quantBox,status:r.status,numeroBl:r.numeroBl,armador:r.armador,booking:r.booking,companyId:de.companyId};await e(O),alert("Envio registrado com sucesso!"),o({clienteId:"",operador:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",quantBox:1,status:"Agendado",numeroBl:"",armador:"",booking:""}),i("/home")}catch(de){console.error("Erro ao criar envio:",de),alert("Erro ao registrar envio. Tente novamente.")}finally{R(!1)}},ie=u.find(W=>W.id===r.clienteId);return n()?p.jsx(aa,{children:p.jsxs("main",{className:"novo-envio-main",children:[p.jsx(pi,{}),p.jsx("div",{className:"novo-envio-content",children:p.jsxs("div",{className:"novo-envio-container",children:[p.jsxs("div",{className:"novo-envio-header",children:[p.jsx("div",{className:"header-icon",children:p.jsx(To,{size:32})}),p.jsxs("div",{className:"header-content",children:[p.jsx("h1",{children:"Novo Envio"}),p.jsx("p",{children:"Registre um novo envio marítimo no sistema"})]})]}),p.jsxs("form",{onSubmit:Q,className:"novo-envio-form",children:[p.jsxs("div",{className:"form-section",children:[p.jsxs("div",{className:"section-header",children:[p.jsx(dT,{size:20}),p.jsx("h2",{children:"Informações do Cliente"})]}),p.jsx("div",{className:"form-row",children:p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"clienteId",children:"Cliente *"}),p.jsxs("select",{id:"clienteId",name:"clienteId",value:r.clienteId,onChange:M,required:!0,disabled:g,children:[p.jsx("option",{value:"",children:g?"Carregando clientes...":"Selecione um cliente"}),u.map(W=>p.jsxs("option",{value:W.id,children:[W.nome," - ",W.empresa]},W.id))]})]})}),ie&&p.jsx("div",{className:"cliente-info",children:p.jsxs("div",{className:"cliente-card",children:[p.jsx("h3",{children:ie.nome}),p.jsxs("p",{children:[p.jsx("strong",{children:"Empresa:"})," ",ie.empresa]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Email:"})," ",ie.email]})]})})]}),p.jsxs("div",{className:"form-section",children:[p.jsxs("div",{className:"section-header",children:[p.jsx(rg,{size:20}),p.jsx("h2",{children:"Informações Operacionais"})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"operador",children:"Operador Responsável *"}),p.jsxs("select",{id:"operador",name:"operador",value:r.operador,onChange:M,required:!0,disabled:A,children:[p.jsx("option",{value:"",children:A?"Carregando operadores...":"Selecione um operador"}),m.map(W=>p.jsx("option",{value:W.nome,children:W.nome},W.id))]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"status",children:"Status Inicial"}),p.jsx("select",{id:"status",name:"status",value:r.status,onChange:M,children:H.map(W=>p.jsx("option",{value:W,children:W},W))})]})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"armador",children:"Armador *"}),p.jsxs("select",{id:"armador",name:"armador",value:r.armador,onChange:M,required:!0,children:[p.jsx("option",{value:"",children:"Selecione um armador"}),N.map(W=>p.jsx("option",{value:W,children:W},W))]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantBox",children:"Quantidade de Containers *"}),p.jsx("input",{type:"number",id:"quantBox",name:"quantBox",value:r.quantBox,onChange:M,min:"1",max:"100",required:!0})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsxs("div",{className:"section-header",children:[p.jsx(uT,{size:20}),p.jsx("h2",{children:"Rota e Cronograma"})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"pol",children:"Porto de Origem (POL) *"}),p.jsxs("select",{id:"pol",name:"pol",value:r.pol,onChange:M,required:!0,children:[p.jsx("option",{value:"",children:"Selecione o porto de origem"}),V.map(W=>p.jsx("option",{value:W,children:W},W))]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"pod",children:"Porto de Destino (POD) *"}),p.jsxs("select",{id:"pod",name:"pod",value:r.pod,onChange:M,required:!0,children:[p.jsx("option",{value:"",children:"Selecione o porto de destino"}),V.map(W=>p.jsx("option",{value:W,children:W},W))]})]})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"etdOrigem",children:"Data de Partida (ETD) *"}),p.jsx("input",{type:"date",id:"etdOrigem",name:"etdOrigem",value:r.etdOrigem,onChange:M,required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"etaDestino",children:"Data Prevista Chegada (ETA) *"}),p.jsx("input",{type:"date",id:"etaDestino",name:"etaDestino",value:r.etaDestino,onChange:M,required:!0})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsxs("div",{className:"section-header",children:[p.jsx(KC,{size:20}),p.jsx("h2",{children:"Documentação"})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"numeroBl",children:"Número do BL *"}),p.jsx("input",{type:"text",id:"numeroBl",name:"numeroBl",value:r.numeroBl,onChange:M,placeholder:"Ex: BL123456789",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"booking",children:"Número do Booking *"}),p.jsx("input",{type:"text",id:"booking",name:"booking",value:r.booking,onChange:M,placeholder:"Ex: BK987654321",required:!0})]})]})]}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>window.history.back(),children:"Cancelar"}),p.jsx("button",{type:"submit",className:"btn-submit",disabled:C,children:C?"Registrando...":"Registrar Envio"})]})]})]})})]})}):p.jsx(aa,{children:p.jsxs("main",{className:"novo-envio-main",children:[p.jsx(pi,{}),p.jsx("div",{className:"novo-envio-content",children:p.jsx("div",{className:"novo-envio-container",children:p.jsxs("div",{className:"access-denied",children:[p.jsx("h2",{children:"Acesso Negado"}),p.jsx("p",{children:"Apenas administradores podem criar novos shipments."})]})})})]})})},XD=({children:i})=>{const[e,n]=z.useState(!1);return p.jsx(pT.Provider,{value:{isCollapsed:e,setIsCollapsed:n},children:i})},JD=()=>p.jsx(DC,{children:p.jsx(AN,{children:p.jsx(XD,{children:p.jsx(xx,{children:p.jsxs(ex,{children:[p.jsx(Kr,{path:"/",element:p.jsx(GD,{})}),p.jsx(Kr,{path:"/register",element:p.jsx(QD,{})}),p.jsx(Kr,{path:"/home",element:p.jsx(RN,{})}),p.jsx(Kr,{path:"/envios",element:p.jsx(VN,{})}),p.jsx(Kr,{path:"/novo-envio",element:p.jsx(KD,{})}),p.jsx(Kr,{path:"/settings",element:p.jsx(ZD,{})})]})})})})});uA.createRoot(document.getElementById("root")).render(p.jsx(z.StrictMode,{children:p.jsx(JD,{})}));
