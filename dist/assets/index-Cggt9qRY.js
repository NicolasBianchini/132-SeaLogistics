function cE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function dE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fy={exports:{}},bl={},py={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=Symbol.for("react.element"),hE=Symbol.for("react.portal"),fE=Symbol.for("react.fragment"),pE=Symbol.for("react.strict_mode"),mE=Symbol.for("react.profiler"),gE=Symbol.for("react.provider"),yE=Symbol.for("react.context"),vE=Symbol.for("react.forward_ref"),_E=Symbol.for("react.suspense"),wE=Symbol.for("react.memo"),EE=Symbol.for("react.lazy"),Op=Symbol.iterator;function xE(t){return t===null||typeof t!="object"?null:(t=Op&&t[Op]||t["@@iterator"],typeof t=="function"?t:null)}var my={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gy=Object.assign,yy={};function ei(t,e,n){this.props=t,this.context=e,this.refs=yy,this.updater=n||my}ei.prototype.isReactComponent={};ei.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ei.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vy(){}vy.prototype=ei.prototype;function Gd(t,e,n){this.props=t,this.context=e,this.refs=yy,this.updater=n||my}var Yd=Gd.prototype=new vy;Yd.constructor=Gd;gy(Yd,ei.prototype);Yd.isPureReactComponent=!0;var bp=Array.isArray,_y=Object.prototype.hasOwnProperty,Zd={current:null},wy={key:!0,ref:!0,__self:!0,__source:!0};function Ey(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)_y.call(e,r)&&!wy.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Vo,type:t,key:i,ref:o,props:s,_owner:Zd.current}}function TE(t,e){return{$$typeof:Vo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vo}function SE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mp=/\/+/g;function qu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SE(""+t.key):e.toString(36)}function ja(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vo:case hE:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+qu(o,0):r,bp(s)?(n="",t!=null&&(n=t.replace(Mp,"$&/")+"/"),ja(s,e,n,"",function(h){return h})):s!=null&&(Xd(s)&&(s=TE(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Mp,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",bp(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+qu(i,l);o+=ja(i,e,n,u,s)}else if(u=xE(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+qu(i,l++),o+=ja(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ca(t,e,n){if(t==null)return t;var r=[],s=0;return ja(t,r,"","",function(i){return e.call(n,i,s++)}),r}function IE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _t={current:null},Da={transition:null},AE={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:Da,ReactCurrentOwner:Zd};function xy(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:ca,forEach:function(t,e,n){ca(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ca(t,function(){e++}),e},toArray:function(t){return ca(t,function(e){return e})||[]},only:function(t){if(!Xd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=ei;ie.Fragment=fE;ie.Profiler=mE;ie.PureComponent=Gd;ie.StrictMode=pE;ie.Suspense=_E;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AE;ie.act=xy;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gy({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Zd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)_y.call(e,u)&&!wy.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Vo,type:t.type,key:s,ref:i,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:yE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gE,_context:t},t.Consumer=t};ie.createElement=Ey;ie.createFactory=function(t){var e=Ey.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:vE,render:t}};ie.isValidElement=Xd;ie.lazy=function(t){return{$$typeof:EE,_payload:{_status:-1,_result:t},_init:IE}};ie.memo=function(t,e){return{$$typeof:wE,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Da.transition;Da.transition={};try{t()}finally{Da.transition=e}};ie.unstable_act=xy;ie.useCallback=function(t,e){return _t.current.useCallback(t,e)};ie.useContext=function(t){return _t.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return _t.current.useDeferredValue(t)};ie.useEffect=function(t,e){return _t.current.useEffect(t,e)};ie.useId=function(){return _t.current.useId()};ie.useImperativeHandle=function(t,e,n){return _t.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return _t.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return _t.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return _t.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return _t.current.useReducer(t,e,n)};ie.useRef=function(t){return _t.current.useRef(t)};ie.useState=function(t){return _t.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return _t.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return _t.current.useTransition()};ie.version="18.3.1";py.exports=ie;var V=py.exports;const CE=dE(V),kE=cE({__proto__:null,default:CE},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE=V,RE=Symbol.for("react.element"),PE=Symbol.for("react.fragment"),jE=Object.prototype.hasOwnProperty,DE=NE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VE={key:!0,ref:!0,__self:!0,__source:!0};function Ty(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jE.call(e,r)&&!VE.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:RE,type:t,key:i,ref:o,props:s,_owner:DE.current}}bl.Fragment=PE;bl.jsx=Ty;bl.jsxs=Ty;fy.exports=bl;var c=fy.exports,Sy={exports:{}},Ot={},Iy={exports:{}},Ay={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Z){var re=$.length;$.push(Z);e:for(;0<re;){var Ae=re-1>>>1,ye=$[Ae];if(0<s(ye,Z))$[Ae]=Z,$[re]=ye,re=Ae;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Z=$[0],re=$.pop();if(re!==Z){$[0]=re;e:for(var Ae=0,ye=$.length,De=ye>>>1;Ae<De;){var gn=2*(Ae+1)-1,yn=$[gn],vn=gn+1,_n=$[vn];if(0>s(yn,re))vn<ye&&0>s(_n,yn)?($[Ae]=_n,$[vn]=re,Ae=vn):($[Ae]=yn,$[gn]=re,Ae=gn);else if(vn<ye&&0>s(_n,re))$[Ae]=_n,$[vn]=re,Ae=vn;else break e}}return Z}function s($,Z){var re=$.sortIndex-Z.sortIndex;return re!==0?re:$.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],p=1,m=null,g=3,E=!1,T=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var Z=n(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=$)r(h),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(h)}}function j($){if(w=!1,S($),!T)if(n(u)!==null)T=!0,Sr(O);else{var Z=n(h);Z!==null&&Qt(j,Z.startTime-$)}}function O($,Z){T=!1,w&&(w=!1,x(v),v=-1),E=!0;var re=g;try{for(S(Z),m=n(u);m!==null&&(!(m.expirationTime>Z)||$&&!P());){var Ae=m.callback;if(typeof Ae=="function"){m.callback=null,g=m.priorityLevel;var ye=Ae(m.expirationTime<=Z);Z=t.unstable_now(),typeof ye=="function"?m.callback=ye:m===n(u)&&r(u),S(Z)}else r(u);m=n(u)}if(m!==null)var De=!0;else{var gn=n(h);gn!==null&&Qt(j,gn.startTime-Z),De=!1}return De}finally{m=null,g=re,E=!1}}var L=!1,I=null,v=-1,A=5,C=-1;function P(){return!(t.unstable_now()-C<A)}function R(){if(I!==null){var $=t.unstable_now();C=$;var Z=!0;try{Z=I(!0,$)}finally{Z?k():(L=!1,I=null)}}else L=!1}var k;if(typeof y=="function")k=function(){y(R)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,Mt=qe.port2;qe.port1.onmessage=R,k=function(){Mt.postMessage(null)}}else k=function(){N(R,0)};function Sr($){I=$,L||(L=!0,k())}function Qt($,Z){v=N(function(){$(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){T||E||(T=!0,Sr(O))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var re=g;g=Z;try{return $()}finally{g=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=g;g=$;try{return Z()}finally{g=re}},t.unstable_scheduleCallback=function($,Z,re){var Ae=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ae+re:Ae):re=Ae,$){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=re+ye,$={id:p++,callback:Z,priorityLevel:$,startTime:re,expirationTime:ye,sortIndex:-1},re>Ae?($.sortIndex=re,e(h,$),n(u)===null&&$===n(h)&&(w?(x(v),v=-1):w=!0,Qt(j,re-Ae))):($.sortIndex=ye,e(u,$),T||E||(T=!0,Sr(O))),$},t.unstable_shouldYield=P,t.unstable_wrapCallback=function($){var Z=g;return function(){var re=g;g=Z;try{return $.apply(this,arguments)}finally{g=re}}}})(Ay);Iy.exports=Ay;var OE=Iy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE=V,Dt=OE;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cy=new Set,to={};function Jr(t,e){Vs(t,e),Vs(t+"Capture",e)}function Vs(t,e){for(to[t]=e,t=0;t<e.length;t++)Cy.add(e[t])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ac=Object.prototype.hasOwnProperty,ME=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lp={},Fp={};function LE(t){return Ac.call(Fp,t)?!0:Ac.call(Lp,t)?!1:ME.test(t)?Fp[t]=!0:(Lp[t]=!0,!1)}function FE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UE(t,e,n,r){if(e===null||typeof e>"u"||FE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jd=/[\-:]([a-z])/g;function eh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jd,eh);tt[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jd,eh);tt[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jd,eh);tt[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function th(t,e,n,r){var s=tt.hasOwnProperty(e)?tt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UE(e,n,s,r)&&(n=null),r||s===null?LE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fn=bE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,da=Symbol.for("react.element"),hs=Symbol.for("react.portal"),fs=Symbol.for("react.fragment"),nh=Symbol.for("react.strict_mode"),Cc=Symbol.for("react.profiler"),ky=Symbol.for("react.provider"),Ny=Symbol.for("react.context"),rh=Symbol.for("react.forward_ref"),kc=Symbol.for("react.suspense"),Nc=Symbol.for("react.suspense_list"),sh=Symbol.for("react.memo"),qn=Symbol.for("react.lazy"),Ry=Symbol.for("react.offscreen"),Up=Symbol.iterator;function Si(t){return t===null||typeof t!="object"?null:(t=Up&&t[Up]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,Wu;function Di(t){if(Wu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wu=e&&e[1]||""}return`
`+Wu+t}var Hu=!1;function Qu(t,e){if(!t||Hu)return"";Hu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Hu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Di(t):""}function BE(t){switch(t.tag){case 5:return Di(t.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 2:case 15:return t=Qu(t.type,!1),t;case 11:return t=Qu(t.type.render,!1),t;case 1:return t=Qu(t.type,!0),t;default:return""}}function Rc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fs:return"Fragment";case hs:return"Portal";case Cc:return"Profiler";case nh:return"StrictMode";case kc:return"Suspense";case Nc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ny:return(t.displayName||"Context")+".Consumer";case ky:return(t._context.displayName||"Context")+".Provider";case rh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sh:return e=t.displayName||null,e!==null?e:Rc(t.type)||"Memo";case qn:e=t._payload,t=t._init;try{return Rc(t(e))}catch{}}return null}function zE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rc(e);case 8:return e===nh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Py(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $E(t){var e=Py(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ha(t){t._valueTracker||(t._valueTracker=$E(t))}function jy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Py(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ga(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pc(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dy(t,e){e=e.checked,e!=null&&th(t,"checked",e,!1)}function jc(t,e){Dy(t,e);var n=hr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dc(t,e.type,hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dc(t,e,n){(e!=="number"||Ga(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vi=Array.isArray;function Is(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Vc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $p(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Vi(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hr(n)}}function Vy(t,e){var n=hr(e.value),r=hr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Oy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Oy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fa,by=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fa=fa||document.createElement("div"),fa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function no(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qE=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(t){qE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zi[e]=zi[t]})});function My(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zi.hasOwnProperty(t)&&zi[t]?(""+e).trim():e+"px"}function Ly(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=My(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var WE=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bc(t,e){if(e){if(WE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Mc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lc=null;function ih(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fc=null,As=null,Cs=null;function Wp(t){if(t=Mo(t)){if(typeof Fc!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Bl(e),Fc(t.stateNode,t.type,e))}}function Fy(t){As?Cs?Cs.push(t):Cs=[t]:As=t}function Uy(){if(As){var t=As,e=Cs;if(Cs=As=null,Wp(t),e)for(t=0;t<e.length;t++)Wp(e[t])}}function By(t,e){return t(e)}function zy(){}var Ku=!1;function $y(t,e,n){if(Ku)return t(e,n);Ku=!0;try{return By(t,e,n)}finally{Ku=!1,(As!==null||Cs!==null)&&(zy(),Uy())}}function ro(t,e){var n=t.stateNode;if(n===null)return null;var r=Bl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Uc=!1;if(Nn)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Uc=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{Uc=!1}function HE(t,e,n,r,s,i,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var $i=!1,Ya=null,Za=!1,Bc=null,QE={onError:function(t){$i=!0,Ya=t}};function KE(t,e,n,r,s,i,o,l,u){$i=!1,Ya=null,HE.apply(QE,arguments)}function GE(t,e,n,r,s,i,o,l,u){if(KE.apply(this,arguments),$i){if($i){var h=Ya;$i=!1,Ya=null}else throw Error(U(198));Za||(Za=!0,Bc=h)}}function es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hp(t){if(es(t)!==t)throw Error(U(188))}function YE(t){var e=t.alternate;if(!e){if(e=es(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Hp(s),t;if(i===r)return Hp(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function Wy(t){return t=YE(t),t!==null?Hy(t):null}function Hy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hy(t);if(e!==null)return e;t=t.sibling}return null}var Qy=Dt.unstable_scheduleCallback,Qp=Dt.unstable_cancelCallback,ZE=Dt.unstable_shouldYield,XE=Dt.unstable_requestPaint,Oe=Dt.unstable_now,JE=Dt.unstable_getCurrentPriorityLevel,oh=Dt.unstable_ImmediatePriority,Ky=Dt.unstable_UserBlockingPriority,Xa=Dt.unstable_NormalPriority,ex=Dt.unstable_LowPriority,Gy=Dt.unstable_IdlePriority,Ml=null,ln=null;function tx(t){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ml,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:sx,nx=Math.log,rx=Math.LN2;function sx(t){return t>>>=0,t===0?32:31-(nx(t)/rx|0)|0}var pa=64,ma=4194304;function Oi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ja(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Oi(l):(i&=o,i!==0&&(r=Oi(i)))}else o=n&~s,o!==0?r=Oi(o):i!==0&&(r=Oi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),s=1<<n,r|=t[n],e&=~s;return r}function ix(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ox(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Jt(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=ix(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function zc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yy(){var t=pa;return pa<<=1,!(pa&4194240)&&(pa=64),t}function Gu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Oo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function ax(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Jt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ah(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var me=0;function Zy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xy,lh,Jy,ev,tv,$c=!1,ga=[],er=null,tr=null,nr=null,so=new Map,io=new Map,Qn=[],lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kp(t,e){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":so.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(e.pointerId)}}function Ai(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mo(e),e!==null&&lh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ux(t,e,n,r,s){switch(e){case"focusin":return er=Ai(er,t,e,n,r,s),!0;case"dragenter":return tr=Ai(tr,t,e,n,r,s),!0;case"mouseover":return nr=Ai(nr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return so.set(i,Ai(so.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,io.set(i,Ai(io.get(i)||null,t,e,n,r,s)),!0}return!1}function nv(t){var e=Dr(t.target);if(e!==null){var n=es(e);if(n!==null){if(e=n.tag,e===13){if(e=qy(n),e!==null){t.blockedOn=e,tv(t.priority,function(){Jy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Va(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lc=r,n.target.dispatchEvent(r),Lc=null}else return e=Mo(n),e!==null&&lh(e),t.blockedOn=n,!1;e.shift()}return!0}function Gp(t,e,n){Va(t)&&n.delete(e)}function cx(){$c=!1,er!==null&&Va(er)&&(er=null),tr!==null&&Va(tr)&&(tr=null),nr!==null&&Va(nr)&&(nr=null),so.forEach(Gp),io.forEach(Gp)}function Ci(t,e){t.blockedOn===e&&(t.blockedOn=null,$c||($c=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,cx)))}function oo(t){function e(s){return Ci(s,t)}if(0<ga.length){Ci(ga[0],t);for(var n=1;n<ga.length;n++){var r=ga[n];r.blockedOn===t&&(r.blockedOn=null)}}for(er!==null&&Ci(er,t),tr!==null&&Ci(tr,t),nr!==null&&Ci(nr,t),so.forEach(e),io.forEach(e),n=0;n<Qn.length;n++)r=Qn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qn.length&&(n=Qn[0],n.blockedOn===null);)nv(n),n.blockedOn===null&&Qn.shift()}var ks=Fn.ReactCurrentBatchConfig,el=!0;function dx(t,e,n,r){var s=me,i=ks.transition;ks.transition=null;try{me=1,uh(t,e,n,r)}finally{me=s,ks.transition=i}}function hx(t,e,n,r){var s=me,i=ks.transition;ks.transition=null;try{me=4,uh(t,e,n,r)}finally{me=s,ks.transition=i}}function uh(t,e,n,r){if(el){var s=qc(t,e,n,r);if(s===null)ic(t,e,r,tl,n),Kp(t,r);else if(ux(s,t,e,n,r))r.stopPropagation();else if(Kp(t,r),e&4&&-1<lx.indexOf(t)){for(;s!==null;){var i=Mo(s);if(i!==null&&Xy(i),i=qc(t,e,n,r),i===null&&ic(t,e,r,tl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ic(t,e,r,null,n)}}var tl=null;function qc(t,e,n,r){if(tl=null,t=ih(r),t=Dr(t),t!==null)if(e=es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tl=t,null}function rv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JE()){case oh:return 1;case Ky:return 4;case Xa:case ex:return 16;case Gy:return 536870912;default:return 16}default:return 16}}var Gn=null,ch=null,Oa=null;function sv(){if(Oa)return Oa;var t,e=ch,n=e.length,r,s="value"in Gn?Gn.value:Gn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Oa=s.slice(t,1<r?1-r:void 0)}function ba(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ya(){return!0}function Yp(){return!1}function bt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ya:Yp,this.isPropagationStopped=Yp,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),e}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dh=bt(ti),bo=Ne({},ti,{view:0,detail:0}),fx=bt(bo),Yu,Zu,ki,Ll=Ne({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Yu=t.screenX-ki.screenX,Zu=t.screenY-ki.screenY):Zu=Yu=0,ki=t),Yu)},movementY:function(t){return"movementY"in t?t.movementY:Zu}}),Zp=bt(Ll),px=Ne({},Ll,{dataTransfer:0}),mx=bt(px),gx=Ne({},bo,{relatedTarget:0}),Xu=bt(gx),yx=Ne({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),vx=bt(yx),_x=Ne({},ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wx=bt(_x),Ex=Ne({},ti,{data:0}),Xp=bt(Ex),xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ix(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Sx[t])?!!e[t]:!1}function hh(){return Ix}var Ax=Ne({},bo,{key:function(t){if(t.key){var e=xx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ba(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hh,charCode:function(t){return t.type==="keypress"?ba(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ba(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cx=bt(Ax),kx=Ne({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jp=bt(kx),Nx=Ne({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hh}),Rx=bt(Nx),Px=Ne({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),jx=bt(Px),Dx=Ne({},Ll,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vx=bt(Dx),Ox=[9,13,27,32],fh=Nn&&"CompositionEvent"in window,qi=null;Nn&&"documentMode"in document&&(qi=document.documentMode);var bx=Nn&&"TextEvent"in window&&!qi,iv=Nn&&(!fh||qi&&8<qi&&11>=qi),em=" ",tm=!1;function ov(t,e){switch(t){case"keyup":return Ox.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function av(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function Mx(t,e){switch(t){case"compositionend":return av(e);case"keypress":return e.which!==32?null:(tm=!0,em);case"textInput":return t=e.data,t===em&&tm?null:t;default:return null}}function Lx(t,e){if(ps)return t==="compositionend"||!fh&&ov(t,e)?(t=sv(),Oa=ch=Gn=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iv&&e.locale!=="ko"?null:e.data;default:return null}}var Fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Fx[t.type]:e==="textarea"}function lv(t,e,n,r){Fy(r),e=nl(e,"onChange"),0<e.length&&(n=new dh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wi=null,ao=null;function Ux(t){_v(t,0)}function Fl(t){var e=ys(t);if(jy(e))return t}function Bx(t,e){if(t==="change")return e}var uv=!1;if(Nn){var Ju;if(Nn){var ec="oninput"in document;if(!ec){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),ec=typeof rm.oninput=="function"}Ju=ec}else Ju=!1;uv=Ju&&(!document.documentMode||9<document.documentMode)}function sm(){Wi&&(Wi.detachEvent("onpropertychange",cv),ao=Wi=null)}function cv(t){if(t.propertyName==="value"&&Fl(ao)){var e=[];lv(e,ao,t,ih(t)),$y(Ux,e)}}function zx(t,e,n){t==="focusin"?(sm(),Wi=e,ao=n,Wi.attachEvent("onpropertychange",cv)):t==="focusout"&&sm()}function $x(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fl(ao)}function qx(t,e){if(t==="click")return Fl(e)}function Wx(t,e){if(t==="input"||t==="change")return Fl(e)}function Hx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:Hx;function lo(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ac.call(e,s)||!tn(t[s],e[s]))return!1}return!0}function im(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function om(t,e){var n=im(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=im(n)}}function dv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hv(){for(var t=window,e=Ga();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ga(t.document)}return e}function ph(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qx(t){var e=hv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dv(n.ownerDocument.documentElement,n)){if(r!==null&&ph(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=om(n,i);var o=om(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Kx=Nn&&"documentMode"in document&&11>=document.documentMode,ms=null,Wc=null,Hi=null,Hc=!1;function am(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hc||ms==null||ms!==Ga(r)||(r=ms,"selectionStart"in r&&ph(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hi&&lo(Hi,r)||(Hi=r,r=nl(Wc,"onSelect"),0<r.length&&(e=new dh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ms)))}function va(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gs={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},tc={},fv={};Nn&&(fv=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Ul(t){if(tc[t])return tc[t];if(!gs[t])return t;var e=gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fv)return tc[t]=e[n];return t}var pv=Ul("animationend"),mv=Ul("animationiteration"),gv=Ul("animationstart"),yv=Ul("transitionend"),vv=new Map,lm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(t,e){vv.set(t,e),Jr(e,[t])}for(var nc=0;nc<lm.length;nc++){var rc=lm[nc],Gx=rc.toLowerCase(),Yx=rc[0].toUpperCase()+rc.slice(1);_r(Gx,"on"+Yx)}_r(pv,"onAnimationEnd");_r(mv,"onAnimationIteration");_r(gv,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(yv,"onTransitionEnd");Vs("onMouseEnter",["mouseout","mouseover"]);Vs("onMouseLeave",["mouseout","mouseover"]);Vs("onPointerEnter",["pointerout","pointerover"]);Vs("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zx=new Set("cancel close invalid load scroll toggle".split(" ").concat(bi));function um(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GE(r,e,void 0,t),t.currentTarget=null}function _v(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;um(s,l,h),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;um(s,l,h),i=u}}}if(Za)throw t=Bc,Za=!1,Bc=null,t}function xe(t,e){var n=e[Zc];n===void 0&&(n=e[Zc]=new Set);var r=t+"__bubble";n.has(r)||(wv(e,t,2,!1),n.add(r))}function sc(t,e,n){var r=0;e&&(r|=4),wv(n,t,r,e)}var _a="_reactListening"+Math.random().toString(36).slice(2);function uo(t){if(!t[_a]){t[_a]=!0,Cy.forEach(function(n){n!=="selectionchange"&&(Zx.has(n)||sc(n,!1,t),sc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_a]||(e[_a]=!0,sc("selectionchange",!1,e))}}function wv(t,e,n,r){switch(rv(e)){case 1:var s=dx;break;case 4:s=hx;break;default:s=uh}n=s.bind(null,e,n,t),s=void 0,!Uc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ic(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Dr(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}$y(function(){var h=i,p=ih(n),m=[];e:{var g=vv.get(t);if(g!==void 0){var E=dh,T=t;switch(t){case"keypress":if(ba(n)===0)break e;case"keydown":case"keyup":E=Cx;break;case"focusin":T="focus",E=Xu;break;case"focusout":T="blur",E=Xu;break;case"beforeblur":case"afterblur":E=Xu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=mx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Rx;break;case pv:case mv:case gv:E=vx;break;case yv:E=jx;break;case"scroll":E=fx;break;case"wheel":E=Vx;break;case"copy":case"cut":case"paste":E=wx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Jp}var w=(e&4)!==0,N=!w&&t==="scroll",x=w?g!==null?g+"Capture":null:g;w=[];for(var y=h,S;y!==null;){S=y;var j=S.stateNode;if(S.tag===5&&j!==null&&(S=j,x!==null&&(j=ro(y,x),j!=null&&w.push(co(y,j,S)))),N)break;y=y.return}0<w.length&&(g=new E(g,T,null,n,p),m.push({event:g,listeners:w}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",g&&n!==Lc&&(T=n.relatedTarget||n.fromElement)&&(Dr(T)||T[Rn]))break e;if((E||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=h,T=T?Dr(T):null,T!==null&&(N=es(T),T!==N||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=h),E!==T)){if(w=Zp,j="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=Jp,j="onPointerLeave",x="onPointerEnter",y="pointer"),N=E==null?g:ys(E),S=T==null?g:ys(T),g=new w(j,y+"leave",E,n,p),g.target=N,g.relatedTarget=S,j=null,Dr(p)===h&&(w=new w(x,y+"enter",T,n,p),w.target=S,w.relatedTarget=N,j=w),N=j,E&&T)t:{for(w=E,x=T,y=0,S=w;S;S=as(S))y++;for(S=0,j=x;j;j=as(j))S++;for(;0<y-S;)w=as(w),y--;for(;0<S-y;)x=as(x),S--;for(;y--;){if(w===x||x!==null&&w===x.alternate)break t;w=as(w),x=as(x)}w=null}else w=null;E!==null&&cm(m,g,E,w,!1),T!==null&&N!==null&&cm(m,N,T,w,!0)}}e:{if(g=h?ys(h):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var O=Bx;else if(nm(g))if(uv)O=Wx;else{O=$x;var L=zx}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(O=qx);if(O&&(O=O(t,h))){lv(m,O,n,p);break e}L&&L(t,g,h),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&Dc(g,"number",g.value)}switch(L=h?ys(h):window,t){case"focusin":(nm(L)||L.contentEditable==="true")&&(ms=L,Wc=h,Hi=null);break;case"focusout":Hi=Wc=ms=null;break;case"mousedown":Hc=!0;break;case"contextmenu":case"mouseup":case"dragend":Hc=!1,am(m,n,p);break;case"selectionchange":if(Kx)break;case"keydown":case"keyup":am(m,n,p)}var I;if(fh)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ps?ov(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(iv&&n.locale!=="ko"&&(ps||v!=="onCompositionStart"?v==="onCompositionEnd"&&ps&&(I=sv()):(Gn=p,ch="value"in Gn?Gn.value:Gn.textContent,ps=!0)),L=nl(h,v),0<L.length&&(v=new Xp(v,t,null,n,p),m.push({event:v,listeners:L}),I?v.data=I:(I=av(n),I!==null&&(v.data=I)))),(I=bx?Mx(t,n):Lx(t,n))&&(h=nl(h,"onBeforeInput"),0<h.length&&(p=new Xp("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=I))}_v(m,e)})}function co(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ro(t,n),i!=null&&r.unshift(co(t,i,s)),i=ro(t,e),i!=null&&r.push(co(t,i,s))),t=t.return}return r}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cm(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,s?(u=ro(n,i),u!=null&&o.unshift(co(n,u,l))):s||(u=ro(n,i),u!=null&&o.push(co(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Xx=/\r\n?/g,Jx=/\u0000|\uFFFD/g;function dm(t){return(typeof t=="string"?t:""+t).replace(Xx,`
`).replace(Jx,"")}function wa(t,e,n){if(e=dm(e),dm(t)!==e&&n)throw Error(U(425))}function rl(){}var Qc=null,Kc=null;function Gc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yc=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,hm=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof hm<"u"?function(t){return hm.resolve(null).then(t).catch(n1)}:Yc;function n1(t){setTimeout(function(){throw t})}function oc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),oo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);oo(e)}function rr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ni=Math.random().toString(36).slice(2),an="__reactFiber$"+ni,ho="__reactProps$"+ni,Rn="__reactContainer$"+ni,Zc="__reactEvents$"+ni,r1="__reactListeners$"+ni,s1="__reactHandles$"+ni;function Dr(t){var e=t[an];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rn]||n[an]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fm(t);t!==null;){if(n=t[an])return n;t=fm(t)}return e}t=n,n=t.parentNode}return null}function Mo(t){return t=t[an]||t[Rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Bl(t){return t[ho]||null}var Xc=[],vs=-1;function wr(t){return{current:t}}function Se(t){0>vs||(t.current=Xc[vs],Xc[vs]=null,vs--)}function we(t,e){vs++,Xc[vs]=t.current,t.current=e}var fr={},pt=wr(fr),St=wr(!1),$r=fr;function Os(t,e){var n=t.type.contextTypes;if(!n)return fr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function It(t){return t=t.childContextTypes,t!=null}function sl(){Se(St),Se(pt)}function pm(t,e,n){if(pt.current!==fr)throw Error(U(168));we(pt,e),we(St,n)}function Ev(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,zE(t)||"Unknown",s));return Ne({},n,r)}function il(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fr,$r=pt.current,we(pt,t),we(St,St.current),!0}function mm(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=Ev(t,e,$r),r.__reactInternalMemoizedMergedChildContext=t,Se(St),Se(pt),we(pt,t)):Se(St),we(St,n)}var Tn=null,zl=!1,ac=!1;function xv(t){Tn===null?Tn=[t]:Tn.push(t)}function i1(t){zl=!0,xv(t)}function Er(){if(!ac&&Tn!==null){ac=!0;var t=0,e=me;try{var n=Tn;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tn=null,zl=!1}catch(s){throw Tn!==null&&(Tn=Tn.slice(t+1)),Qy(oh,Er),s}finally{me=e,ac=!1}}return null}var _s=[],ws=0,ol=null,al=0,Lt=[],Ft=0,qr=null,Sn=1,In="";function Nr(t,e){_s[ws++]=al,_s[ws++]=ol,ol=t,al=e}function Tv(t,e,n){Lt[Ft++]=Sn,Lt[Ft++]=In,Lt[Ft++]=qr,qr=t;var r=Sn;t=In;var s=32-Jt(r)-1;r&=~(1<<s),n+=1;var i=32-Jt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Sn=1<<32-Jt(e)+s|n<<s|r,In=i+t}else Sn=1<<i|n<<s|r,In=t}function mh(t){t.return!==null&&(Nr(t,1),Tv(t,1,0))}function gh(t){for(;t===ol;)ol=_s[--ws],_s[ws]=null,al=_s[--ws],_s[ws]=null;for(;t===qr;)qr=Lt[--Ft],Lt[Ft]=null,In=Lt[--Ft],Lt[Ft]=null,Sn=Lt[--Ft],Lt[Ft]=null}var jt=null,Rt=null,Ie=!1,Xt=null;function Sv(t,e){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,Rt=rr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,Rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qr!==null?{id:Sn,overflow:In}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,Rt=null,!0):!1;default:return!1}}function Jc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ed(t){if(Ie){var e=Rt;if(e){var n=e;if(!gm(t,e)){if(Jc(t))throw Error(U(418));e=rr(n.nextSibling);var r=jt;e&&gm(t,e)?Sv(r,n):(t.flags=t.flags&-4097|2,Ie=!1,jt=t)}}else{if(Jc(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ie=!1,jt=t}}}function ym(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Ea(t){if(t!==jt)return!1;if(!Ie)return ym(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gc(t.type,t.memoizedProps)),e&&(e=Rt)){if(Jc(t))throw Iv(),Error(U(418));for(;e;)Sv(t,e),e=rr(e.nextSibling)}if(ym(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rt=rr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rt=null}}else Rt=jt?rr(t.stateNode.nextSibling):null;return!0}function Iv(){for(var t=Rt;t;)t=rr(t.nextSibling)}function bs(){Rt=jt=null,Ie=!1}function yh(t){Xt===null?Xt=[t]:Xt.push(t)}var o1=Fn.ReactCurrentBatchConfig;function Ni(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function xa(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vm(t){var e=t._init;return e(t._payload)}function Av(t){function e(x,y){if(t){var S=x.deletions;S===null?(x.deletions=[y],x.flags|=16):S.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=ar(x,y),x.index=0,x.sibling=null,x}function i(x,y,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<y?(x.flags|=2,y):S):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,y,S,j){return y===null||y.tag!==6?(y=pc(S,x.mode,j),y.return=x,y):(y=s(y,S),y.return=x,y)}function u(x,y,S,j){var O=S.type;return O===fs?p(x,y,S.props.children,j,S.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===qn&&vm(O)===y.type)?(j=s(y,S.props),j.ref=Ni(x,y,S),j.return=x,j):(j=$a(S.type,S.key,S.props,null,x.mode,j),j.ref=Ni(x,y,S),j.return=x,j)}function h(x,y,S,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=mc(S,x.mode,j),y.return=x,y):(y=s(y,S.children||[]),y.return=x,y)}function p(x,y,S,j,O){return y===null||y.tag!==7?(y=Lr(S,x.mode,j,O),y.return=x,y):(y=s(y,S),y.return=x,y)}function m(x,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=pc(""+y,x.mode,S),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case da:return S=$a(y.type,y.key,y.props,null,x.mode,S),S.ref=Ni(x,null,y),S.return=x,S;case hs:return y=mc(y,x.mode,S),y.return=x,y;case qn:var j=y._init;return m(x,j(y._payload),S)}if(Vi(y)||Si(y))return y=Lr(y,x.mode,S,null),y.return=x,y;xa(x,y)}return null}function g(x,y,S,j){var O=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:l(x,y,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case da:return S.key===O?u(x,y,S,j):null;case hs:return S.key===O?h(x,y,S,j):null;case qn:return O=S._init,g(x,y,O(S._payload),j)}if(Vi(S)||Si(S))return O!==null?null:p(x,y,S,j,null);xa(x,S)}return null}function E(x,y,S,j,O){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(S)||null,l(y,x,""+j,O);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case da:return x=x.get(j.key===null?S:j.key)||null,u(y,x,j,O);case hs:return x=x.get(j.key===null?S:j.key)||null,h(y,x,j,O);case qn:var L=j._init;return E(x,y,S,L(j._payload),O)}if(Vi(j)||Si(j))return x=x.get(S)||null,p(y,x,j,O,null);xa(y,j)}return null}function T(x,y,S,j){for(var O=null,L=null,I=y,v=y=0,A=null;I!==null&&v<S.length;v++){I.index>v?(A=I,I=null):A=I.sibling;var C=g(x,I,S[v],j);if(C===null){I===null&&(I=A);break}t&&I&&C.alternate===null&&e(x,I),y=i(C,y,v),L===null?O=C:L.sibling=C,L=C,I=A}if(v===S.length)return n(x,I),Ie&&Nr(x,v),O;if(I===null){for(;v<S.length;v++)I=m(x,S[v],j),I!==null&&(y=i(I,y,v),L===null?O=I:L.sibling=I,L=I);return Ie&&Nr(x,v),O}for(I=r(x,I);v<S.length;v++)A=E(I,x,v,S[v],j),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?v:A.key),y=i(A,y,v),L===null?O=A:L.sibling=A,L=A);return t&&I.forEach(function(P){return e(x,P)}),Ie&&Nr(x,v),O}function w(x,y,S,j){var O=Si(S);if(typeof O!="function")throw Error(U(150));if(S=O.call(S),S==null)throw Error(U(151));for(var L=O=null,I=y,v=y=0,A=null,C=S.next();I!==null&&!C.done;v++,C=S.next()){I.index>v?(A=I,I=null):A=I.sibling;var P=g(x,I,C.value,j);if(P===null){I===null&&(I=A);break}t&&I&&P.alternate===null&&e(x,I),y=i(P,y,v),L===null?O=P:L.sibling=P,L=P,I=A}if(C.done)return n(x,I),Ie&&Nr(x,v),O;if(I===null){for(;!C.done;v++,C=S.next())C=m(x,C.value,j),C!==null&&(y=i(C,y,v),L===null?O=C:L.sibling=C,L=C);return Ie&&Nr(x,v),O}for(I=r(x,I);!C.done;v++,C=S.next())C=E(I,x,v,C.value,j),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?v:C.key),y=i(C,y,v),L===null?O=C:L.sibling=C,L=C);return t&&I.forEach(function(R){return e(x,R)}),Ie&&Nr(x,v),O}function N(x,y,S,j){if(typeof S=="object"&&S!==null&&S.type===fs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case da:e:{for(var O=S.key,L=y;L!==null;){if(L.key===O){if(O=S.type,O===fs){if(L.tag===7){n(x,L.sibling),y=s(L,S.props.children),y.return=x,x=y;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===qn&&vm(O)===L.type){n(x,L.sibling),y=s(L,S.props),y.ref=Ni(x,L,S),y.return=x,x=y;break e}n(x,L);break}else e(x,L);L=L.sibling}S.type===fs?(y=Lr(S.props.children,x.mode,j,S.key),y.return=x,x=y):(j=$a(S.type,S.key,S.props,null,x.mode,j),j.ref=Ni(x,y,S),j.return=x,x=j)}return o(x);case hs:e:{for(L=S.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(x,y.sibling),y=s(y,S.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=mc(S,x.mode,j),y.return=x,x=y}return o(x);case qn:return L=S._init,N(x,y,L(S._payload),j)}if(Vi(S))return T(x,y,S,j);if(Si(S))return w(x,y,S,j);xa(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,S),y.return=x,x=y):(n(x,y),y=pc(S,x.mode,j),y.return=x,x=y),o(x)):n(x,y)}return N}var Ms=Av(!0),Cv=Av(!1),ll=wr(null),ul=null,Es=null,vh=null;function _h(){vh=Es=ul=null}function wh(t){var e=ll.current;Se(ll),t._currentValue=e}function td(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ns(t,e){ul=t,vh=Es=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function qt(t){var e=t._currentValue;if(vh!==t)if(t={context:t,memoizedValue:e,next:null},Es===null){if(ul===null)throw Error(U(308));Es=t,ul.dependencies={lanes:0,firstContext:t}}else Es=Es.next=t;return e}var Vr=null;function Eh(t){Vr===null?Vr=[t]:Vr.push(t)}function kv(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Eh(e)):(n.next=s.next,s.next=n),e.interleaved=n,Pn(t,r)}function Pn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wn=!1;function xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function An(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Pn(t,n)}return s=r.interleaved,s===null?(e.next=e,Eh(r)):(e.next=s.next,s.next=e),r.interleaved=e,Pn(t,n)}function Ma(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ah(t,n)}}function _m(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cl(t,e,n,r){var s=t.updateQueue;Wn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?i=h:o.next=h,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=u))}if(i!==null){var m=s.baseState;o=0,p=h=u=null,l=i;do{var g=l.lane,E=l.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:E,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var T=t,w=l;switch(g=e,E=n,w.tag){case 1:if(T=w.payload,typeof T=="function"){m=T.call(E,m,g);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,g=typeof T=="function"?T.call(E,m,g):T,g==null)break e;m=Ne({},m,g);break e;case 2:Wn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else E={eventTime:E,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=E,u=m):p=p.next=E,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(p===null&&(u=m),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Hr|=o,t.lanes=o,t.memoizedState=m}}function wm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Lo={},un=wr(Lo),fo=wr(Lo),po=wr(Lo);function Or(t){if(t===Lo)throw Error(U(174));return t}function Th(t,e){switch(we(po,e),we(fo,t),we(un,Lo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Oc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Oc(e,t)}Se(un),we(un,e)}function Ls(){Se(un),Se(fo),Se(po)}function Rv(t){Or(po.current);var e=Or(un.current),n=Oc(e,t.type);e!==n&&(we(fo,t),we(un,n))}function Sh(t){fo.current===t&&(Se(un),Se(fo))}var Ce=wr(0);function dl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lc=[];function Ih(){for(var t=0;t<lc.length;t++)lc[t]._workInProgressVersionPrimary=null;lc.length=0}var La=Fn.ReactCurrentDispatcher,uc=Fn.ReactCurrentBatchConfig,Wr=0,ke=null,Ue=null,He=null,hl=!1,Qi=!1,mo=0,a1=0;function ot(){throw Error(U(321))}function Ah(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function Ch(t,e,n,r,s,i){if(Wr=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,La.current=t===null||t.memoizedState===null?d1:h1,t=n(r,s),Qi){i=0;do{if(Qi=!1,mo=0,25<=i)throw Error(U(301));i+=1,He=Ue=null,e.updateQueue=null,La.current=f1,t=n(r,s)}while(Qi)}if(La.current=fl,e=Ue!==null&&Ue.next!==null,Wr=0,He=Ue=ke=null,hl=!1,e)throw Error(U(300));return t}function kh(){var t=mo!==0;return mo=0,t}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?ke.memoizedState=He=t:He=He.next=t,He}function Wt(){if(Ue===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=He===null?ke.memoizedState:He.next;if(e!==null)He=e,Ue=t;else{if(t===null)throw Error(U(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},He===null?ke.memoizedState=He=t:He=He.next=t}return He}function go(t,e){return typeof e=="function"?e(t):e}function cc(t){var e=Wt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,h=i;do{var p=h.lane;if((Wr&p)===p)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=m,o=r):u=u.next=m,ke.lanes|=p,Hr|=p}h=h.next}while(h!==null&&h!==i);u===null?o=r:u.next=l,tn(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ke.lanes|=i,Hr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dc(t){var e=Wt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);tn(i,e.memoizedState)||(Tt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Pv(){}function jv(t,e){var n=ke,r=Wt(),s=e(),i=!tn(r.memoizedState,s);if(i&&(r.memoizedState=s,Tt=!0),r=r.queue,Nh(Ov.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,yo(9,Vv.bind(null,n,r,s,e),void 0,null),Ke===null)throw Error(U(349));Wr&30||Dv(n,e,s)}return s}function Dv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Vv(t,e,n,r){e.value=n,e.getSnapshot=r,bv(e)&&Mv(t)}function Ov(t,e,n){return n(function(){bv(e)&&Mv(t)})}function bv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function Mv(t){var e=Pn(t,1);e!==null&&en(e,t,1,-1)}function Em(t){var e=on();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:t},e.queue=t,t=t.dispatch=c1.bind(null,ke,t),[e.memoizedState,t]}function yo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Lv(){return Wt().memoizedState}function Fa(t,e,n,r){var s=on();ke.flags|=t,s.memoizedState=yo(1|e,n,void 0,r===void 0?null:r)}function $l(t,e,n,r){var s=Wt();r=r===void 0?null:r;var i=void 0;if(Ue!==null){var o=Ue.memoizedState;if(i=o.destroy,r!==null&&Ah(r,o.deps)){s.memoizedState=yo(e,n,i,r);return}}ke.flags|=t,s.memoizedState=yo(1|e,n,i,r)}function xm(t,e){return Fa(8390656,8,t,e)}function Nh(t,e){return $l(2048,8,t,e)}function Fv(t,e){return $l(4,2,t,e)}function Uv(t,e){return $l(4,4,t,e)}function Bv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zv(t,e,n){return n=n!=null?n.concat([t]):null,$l(4,4,Bv.bind(null,e,t),n)}function Rh(){}function $v(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ah(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qv(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ah(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Wv(t,e,n){return Wr&21?(tn(n,e)||(n=Yy(),ke.lanes|=n,Hr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n)}function l1(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=uc.transition;uc.transition={};try{t(!1),e()}finally{me=n,uc.transition=r}}function Hv(){return Wt().memoizedState}function u1(t,e,n){var r=or(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qv(t))Kv(e,n);else if(n=kv(t,e,n,r),n!==null){var s=vt();en(n,t,r,s),Gv(n,e,r)}}function c1(t,e,n){var r=or(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qv(t))Kv(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,tn(l,o)){var u=e.interleaved;u===null?(s.next=s,Eh(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=kv(t,e,s,r),n!==null&&(s=vt(),en(n,t,r,s),Gv(n,e,r))}}function Qv(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function Kv(t,e){Qi=hl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Gv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ah(t,n)}}var fl={readContext:qt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},d1={readContext:qt,useCallback:function(t,e){return on().memoizedState=[t,e===void 0?null:e],t},useContext:qt,useEffect:xm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fa(4194308,4,Bv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fa(4,2,t,e)},useMemo:function(t,e){var n=on();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=on();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=u1.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=on();return t={current:t},e.memoizedState=t},useState:Em,useDebugValue:Rh,useDeferredValue:function(t){return on().memoizedState=t},useTransition:function(){var t=Em(!1),e=t[0];return t=l1.bind(null,t[1]),on().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,s=on();if(Ie){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ke===null)throw Error(U(349));Wr&30||Dv(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,xm(Ov.bind(null,r,i,t),[t]),r.flags|=2048,yo(9,Vv.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=on(),e=Ke.identifierPrefix;if(Ie){var n=In,r=Sn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=a1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},h1={readContext:qt,useCallback:$v,useContext:qt,useEffect:Nh,useImperativeHandle:zv,useInsertionEffect:Fv,useLayoutEffect:Uv,useMemo:qv,useReducer:cc,useRef:Lv,useState:function(){return cc(go)},useDebugValue:Rh,useDeferredValue:function(t){var e=Wt();return Wv(e,Ue.memoizedState,t)},useTransition:function(){var t=cc(go)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:Pv,useSyncExternalStore:jv,useId:Hv,unstable_isNewReconciler:!1},f1={readContext:qt,useCallback:$v,useContext:qt,useEffect:Nh,useImperativeHandle:zv,useInsertionEffect:Fv,useLayoutEffect:Uv,useMemo:qv,useReducer:dc,useRef:Lv,useState:function(){return dc(go)},useDebugValue:Rh,useDeferredValue:function(t){var e=Wt();return Ue===null?e.memoizedState=t:Wv(e,Ue.memoizedState,t)},useTransition:function(){var t=dc(go)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:Pv,useSyncExternalStore:jv,useId:Hv,unstable_isNewReconciler:!1};function Yt(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ql={isMounted:function(t){return(t=t._reactInternals)?es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),s=or(t),i=An(r,s);i.payload=e,n!=null&&(i.callback=n),e=sr(t,i,s),e!==null&&(en(e,t,s,r),Ma(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),s=or(t),i=An(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=sr(t,i,s),e!==null&&(en(e,t,s,r),Ma(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=or(t),s=An(n,r);s.tag=2,e!=null&&(s.callback=e),e=sr(t,s,r),e!==null&&(en(e,t,r,n),Ma(e,t,r))}};function Tm(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!lo(n,r)||!lo(s,i):!0}function Yv(t,e,n){var r=!1,s=fr,i=e.contextType;return typeof i=="object"&&i!==null?i=qt(i):(s=It(e)?$r:pt.current,r=e.contextTypes,i=(r=r!=null)?Os(t,s):fr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ql,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Sm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ql.enqueueReplaceState(e,e.state,null)}function rd(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},xh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=qt(i):(i=It(e)?$r:pt.current,s.context=Os(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(nd(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ql.enqueueReplaceState(s,s.state,null),cl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Fs(t,e){try{var n="",r=e;do n+=BE(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function hc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var p1=typeof WeakMap=="function"?WeakMap:Map;function Zv(t,e,n){n=An(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ml||(ml=!0,pd=r),sd(t,e)},n}function Xv(t,e,n){n=An(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){sd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){sd(t,e),typeof r!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Im(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new p1;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=k1.bind(null,t,e,n),e.then(t,t))}function Am(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cm(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=An(-1,1),e.tag=2,sr(n,e,1))),n.lanes|=1),t)}var m1=Fn.ReactCurrentOwner,Tt=!1;function yt(t,e,n,r){e.child=t===null?Cv(e,null,n,r):Ms(e,t.child,n,r)}function km(t,e,n,r,s){n=n.render;var i=e.ref;return Ns(e,s),r=Ch(t,e,n,r,i,s),n=kh(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jn(t,e,s)):(Ie&&n&&mh(e),e.flags|=1,yt(t,e,r,s),e.child)}function Nm(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Lh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Jv(t,e,i,r,s)):(t=$a(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:lo,n(o,r)&&t.ref===e.ref)return jn(t,e,s)}return e.flags|=1,t=ar(i,r),t.ref=e.ref,t.return=e,e.child=t}function Jv(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(lo(i,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,jn(t,e,s)}return id(t,e,n,r,s)}function e_(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Ts,Nt),Nt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(Ts,Nt),Nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,we(Ts,Nt),Nt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,we(Ts,Nt),Nt|=r;return yt(t,e,s,n),e.child}function t_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function id(t,e,n,r,s){var i=It(n)?$r:pt.current;return i=Os(e,i),Ns(e,s),n=Ch(t,e,n,r,i,s),r=kh(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jn(t,e,s)):(Ie&&r&&mh(e),e.flags|=1,yt(t,e,n,s),e.child)}function Rm(t,e,n,r,s){if(It(n)){var i=!0;il(e)}else i=!1;if(Ns(e,s),e.stateNode===null)Ua(t,e),Yv(e,n,r),rd(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=qt(h):(h=It(n)?$r:pt.current,h=Os(e,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==h)&&Sm(e,o,r,h),Wn=!1;var g=e.memoizedState;o.state=g,cl(e,r,o,s),u=e.memoizedState,l!==r||g!==u||St.current||Wn?(typeof p=="function"&&(nd(e,n,p,r),u=e.memoizedState),(l=Wn||Tm(e,n,l,r,g,u,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Nv(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Yt(e.type,l),o.props=h,m=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=qt(u):(u=It(n)?$r:pt.current,u=Os(e,u));var E=n.getDerivedStateFromProps;(p=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==u)&&Sm(e,o,r,u),Wn=!1,g=e.memoizedState,o.state=g,cl(e,r,o,s);var T=e.memoizedState;l!==m||g!==T||St.current||Wn?(typeof E=="function"&&(nd(e,n,E,r),T=e.memoizedState),(h=Wn||Tm(e,n,h,r,g,T,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return od(t,e,n,r,i,s)}function od(t,e,n,r,s,i){t_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&mm(e,n,!1),jn(t,e,i);r=e.stateNode,m1.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ms(e,t.child,null,i),e.child=Ms(e,null,l,i)):yt(t,e,l,i),e.memoizedState=r.state,s&&mm(e,n,!0),e.child}function n_(t){var e=t.stateNode;e.pendingContext?pm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pm(t,e.context,!1),Th(t,e.containerInfo)}function Pm(t,e,n,r,s){return bs(),yh(s),e.flags|=256,yt(t,e,n,r),e.child}var ad={dehydrated:null,treeContext:null,retryLane:0};function ld(t){return{baseLanes:t,cachePool:null,transitions:null}}function r_(t,e,n){var r=e.pendingProps,s=Ce.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),we(Ce,s&1),t===null)return ed(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ql(o,r,0,null),t=Lr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ld(n),e.memoizedState=ad,t):Ph(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return g1(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ar(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ar(l,i):(i=Lr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ld(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ad,r}return i=t.child,t=i.sibling,r=ar(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ph(t,e){return e=Ql({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ta(t,e,n,r){return r!==null&&yh(r),Ms(e,t.child,null,n),t=Ph(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g1(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=hc(Error(U(422))),Ta(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ql({mode:"visible",children:r.children},s,0,null),i=Lr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ms(e,t.child,null,o),e.child.memoizedState=ld(o),e.memoizedState=ad,i);if(!(e.mode&1))return Ta(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(U(419)),r=hc(i,r,void 0),Ta(t,e,o,r)}if(l=(o&t.childLanes)!==0,Tt||l){if(r=Ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pn(t,s),en(r,t,s,-1))}return Mh(),r=hc(Error(U(421))),Ta(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=N1.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Rt=rr(s.nextSibling),jt=e,Ie=!0,Xt=null,t!==null&&(Lt[Ft++]=Sn,Lt[Ft++]=In,Lt[Ft++]=qr,Sn=t.id,In=t.overflow,qr=e),e=Ph(e,r.children),e.flags|=4096,e)}function jm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),td(t.return,e,n)}function fc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function s_(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(yt(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jm(t,n,e);else if(t.tag===19)jm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&dl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),fc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&dl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}fc(e,!0,n,null,i);break;case"together":fc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ua(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function y1(t,e,n){switch(e.tag){case 3:n_(e),bs();break;case 5:Rv(e);break;case 1:It(e.type)&&il(e);break;case 4:Th(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;we(ll,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?r_(t,e,n):(we(Ce,Ce.current&1),t=jn(t,e,n),t!==null?t.sibling:null);we(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return s_(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,e_(t,e,n)}return jn(t,e,n)}var i_,ud,o_,a_;i_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ud=function(){};o_=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Or(un.current);var i=null;switch(n){case"input":s=Pc(t,s),r=Pc(t,r),i=[];break;case"select":s=Ne({},s,{value:void 0}),r=Ne({},r,{value:void 0}),i=[];break;case"textarea":s=Vc(t,s),r=Vc(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rl)}bc(n,r);var o;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var l=s[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(to.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var u=r[h];if(l=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(to.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&xe("scroll",t),i||l===u||(i=[])):(i=i||[]).push(h,u))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};a_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ri(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function v1(t,e,n){var r=e.pendingProps;switch(gh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return It(e.type)&&sl(),at(e),null;case 3:return r=e.stateNode,Ls(),Se(St),Se(pt),Ih(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ea(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xt!==null&&(yd(Xt),Xt=null))),ud(t,e),at(e),null;case 5:Sh(e);var s=Or(po.current);if(n=e.type,t!==null&&e.stateNode!=null)o_(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return at(e),null}if(t=Or(un.current),Ea(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[an]=e,r[ho]=i,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(s=0;s<bi.length;s++)xe(bi[s],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":Bp(r,i),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xe("invalid",r);break;case"textarea":$p(r,i),xe("invalid",r)}bc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&wa(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&wa(r.textContent,l,t),s=["children",""+l]):to.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":ha(r),zp(r,i,!0);break;case"textarea":ha(r),qp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=rl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Oy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[an]=e,t[ho]=r,i_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mc(n,r),n){case"dialog":xe("cancel",t),xe("close",t),s=r;break;case"iframe":case"object":case"embed":xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<bi.length;s++)xe(bi[s],t);s=r;break;case"source":xe("error",t),s=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),s=r;break;case"details":xe("toggle",t),s=r;break;case"input":Bp(t,r),s=Pc(t,r),xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ne({},r,{value:void 0}),xe("invalid",t);break;case"textarea":$p(t,r),s=Vc(t,r),xe("invalid",t);break;default:s=r}bc(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Ly(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&by(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&no(t,u):typeof u=="number"&&no(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(to.hasOwnProperty(i)?u!=null&&i==="onScroll"&&xe("scroll",t):u!=null&&th(t,i,u,o))}switch(n){case"input":ha(t),zp(t,r,!1);break;case"textarea":ha(t),qp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Is(t,!!r.multiple,i,!1):r.defaultValue!=null&&Is(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=rl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)a_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Or(po.current),Or(un.current),Ea(e)){if(r=e.stateNode,n=e.memoizedProps,r[an]=e,(i=r.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:wa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wa(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[an]=e,e.stateNode=r}return at(e),null;case 13:if(Se(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&Rt!==null&&e.mode&1&&!(e.flags&128))Iv(),bs(),e.flags|=98560,i=!1;else if(i=Ea(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[an]=e}else bs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),i=!1}else Xt!==null&&(yd(Xt),Xt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Be===0&&(Be=3):Mh())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return Ls(),ud(t,e),t===null&&uo(e.stateNode.containerInfo),at(e),null;case 10:return wh(e.type._context),at(e),null;case 17:return It(e.type)&&sl(),at(e),null;case 19:if(Se(Ce),i=e.memoizedState,i===null)return at(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ri(i,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dl(t),o!==null){for(e.flags|=128,Ri(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Ce,Ce.current&1|2),e.child}t=t.sibling}i.tail!==null&&Oe()>Us&&(e.flags|=128,r=!0,Ri(i,!1),e.lanes=4194304)}else{if(!r)if(t=dl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ri(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ie)return at(e),null}else 2*Oe()-i.renderingStartTime>Us&&n!==1073741824&&(e.flags|=128,r=!0,Ri(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Oe(),e.sibling=null,n=Ce.current,we(Ce,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return bh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function _1(t,e){switch(gh(e),e.tag){case 1:return It(e.type)&&sl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ls(),Se(St),Se(pt),Ih(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sh(e),null;case 13:if(Se(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));bs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Se(Ce),null;case 4:return Ls(),null;case 10:return wh(e.type._context),null;case 22:case 23:return bh(),null;case 24:return null;default:return null}}var Sa=!1,ct=!1,w1=typeof WeakSet=="function"?WeakSet:Set,H=null;function xs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(t,e,r)}else n.current=null}function cd(t,e,n){try{n()}catch(r){je(t,e,r)}}var Dm=!1;function E1(t,e){if(Qc=el,t=hv(),ph(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,p=0,m=t,g=null;t:for(;;){for(var E;m!==n||s!==0&&m.nodeType!==3||(l=o+s),m!==i||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(E=m.firstChild)!==null;)g=m,m=E;for(;;){if(m===t)break t;if(g===n&&++h===s&&(l=o),g===i&&++p===r&&(u=o),(E=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=E}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kc={focusedElem:t,selectionRange:n},el=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var w=T.memoizedProps,N=T.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:Yt(e.type,w),N);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(j){je(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return T=Dm,Dm=!1,T}function Ki(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&cd(e,n,i)}s=s.next}while(s!==r)}}function Wl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function l_(t){var e=t.alternate;e!==null&&(t.alternate=null,l_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[an],delete e[ho],delete e[Zc],delete e[r1],delete e[s1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function u_(t){return t.tag===5||t.tag===3||t.tag===4}function Vm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rl));else if(r!==4&&(t=t.child,t!==null))for(hd(t,e,n),t=t.sibling;t!==null;)hd(t,e,n),t=t.sibling}function fd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fd(t,e,n),t=t.sibling;t!==null;)fd(t,e,n),t=t.sibling}var Ye=null,Zt=!1;function $n(t,e,n){for(n=n.child;n!==null;)c_(t,e,n),n=n.sibling}function c_(t,e,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 5:ct||xs(n,e);case 6:var r=Ye,s=Zt;Ye=null,$n(t,e,n),Ye=r,Zt=s,Ye!==null&&(Zt?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Zt?(t=Ye,n=n.stateNode,t.nodeType===8?oc(t.parentNode,n):t.nodeType===1&&oc(t,n),oo(t)):oc(Ye,n.stateNode));break;case 4:r=Ye,s=Zt,Ye=n.stateNode.containerInfo,Zt=!0,$n(t,e,n),Ye=r,Zt=s;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&cd(n,e,o),s=s.next}while(s!==r)}$n(t,e,n);break;case 1:if(!ct&&(xs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){je(n,e,l)}$n(t,e,n);break;case 21:$n(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,$n(t,e,n),ct=r):$n(t,e,n);break;default:$n(t,e,n)}}function Om(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new w1),e.forEach(function(r){var s=R1.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ye=l.stateNode,Zt=!1;break e;case 3:Ye=l.stateNode.containerInfo,Zt=!0;break e;case 4:Ye=l.stateNode.containerInfo,Zt=!0;break e}l=l.return}if(Ye===null)throw Error(U(160));c_(i,o,s),Ye=null,Zt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(h){je(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d_(e,t),e=e.sibling}function d_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gt(e,t),sn(t),r&4){try{Ki(3,t,t.return),Wl(3,t)}catch(w){je(t,t.return,w)}try{Ki(5,t,t.return)}catch(w){je(t,t.return,w)}}break;case 1:Gt(e,t),sn(t),r&512&&n!==null&&xs(n,n.return);break;case 5:if(Gt(e,t),sn(t),r&512&&n!==null&&xs(n,n.return),t.flags&32){var s=t.stateNode;try{no(s,"")}catch(w){je(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Dy(s,i),Mc(l,o);var h=Mc(l,i);for(o=0;o<u.length;o+=2){var p=u[o],m=u[o+1];p==="style"?Ly(s,m):p==="dangerouslySetInnerHTML"?by(s,m):p==="children"?no(s,m):th(s,p,m,h)}switch(l){case"input":jc(s,i);break;case"textarea":Vy(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var E=i.value;E!=null?Is(s,!!i.multiple,E,!1):g!==!!i.multiple&&(i.defaultValue!=null?Is(s,!!i.multiple,i.defaultValue,!0):Is(s,!!i.multiple,i.multiple?[]:"",!1))}s[ho]=i}catch(w){je(t,t.return,w)}}break;case 6:if(Gt(e,t),sn(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){je(t,t.return,w)}}break;case 3:if(Gt(e,t),sn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oo(e.containerInfo)}catch(w){je(t,t.return,w)}break;case 4:Gt(e,t),sn(t);break;case 13:Gt(e,t),sn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Vh=Oe())),r&4&&Om(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(h=ct)||p,Gt(e,t),ct=h):Gt(e,t),sn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(H=t,p=t.child;p!==null;){for(m=H=p;H!==null;){switch(g=H,E=g.child,g.tag){case 0:case 11:case 14:case 15:Ki(4,g,g.return);break;case 1:xs(g,g.return);var T=g.stateNode;if(typeof T.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(w){je(r,n,w)}}break;case 5:xs(g,g.return);break;case 22:if(g.memoizedState!==null){Mm(m);continue}}E!==null?(E.return=g,H=E):Mm(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{s=m.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=My("display",o))}catch(w){je(t,t.return,w)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(w){je(t,t.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Gt(e,t),sn(t),r&4&&Om(t);break;case 21:break;default:Gt(e,t),sn(t)}}function sn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(u_(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(no(s,""),r.flags&=-33);var i=Vm(t);fd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Vm(t);hd(t,l,o);break;default:throw Error(U(161))}}catch(u){je(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x1(t,e,n){H=t,h_(t)}function h_(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Sa;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||ct;l=Sa;var h=ct;if(Sa=o,(ct=u)&&!h)for(H=s;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?Lm(s):u!==null?(u.return=o,H=u):Lm(s);for(;i!==null;)H=i,h_(i),i=i.sibling;H=s,Sa=l,ct=h}bm(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):bm(t)}}function bm(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||Wl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Yt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&wm(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wm(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&oo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ct||e.flags&512&&dd(e)}catch(g){je(e,e.return,g)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Mm(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Lm(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wl(4,e)}catch(u){je(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){je(e,s,u)}}var i=e.return;try{dd(e)}catch(u){je(e,i,u)}break;case 5:var o=e.return;try{dd(e)}catch(u){je(e,o,u)}}}catch(u){je(e,e.return,u)}if(e===t){H=null;break}var l=e.sibling;if(l!==null){l.return=e.return,H=l;break}H=e.return}}var T1=Math.ceil,pl=Fn.ReactCurrentDispatcher,jh=Fn.ReactCurrentOwner,Bt=Fn.ReactCurrentBatchConfig,ue=0,Ke=null,Le=null,Je=0,Nt=0,Ts=wr(0),Be=0,vo=null,Hr=0,Hl=0,Dh=0,Gi=null,Et=null,Vh=0,Us=1/0,xn=null,ml=!1,pd=null,ir=null,Ia=!1,Yn=null,gl=0,Yi=0,md=null,Ba=-1,za=0;function vt(){return ue&6?Oe():Ba!==-1?Ba:Ba=Oe()}function or(t){return t.mode&1?ue&2&&Je!==0?Je&-Je:o1.transition!==null?(za===0&&(za=Yy()),za):(t=me,t!==0||(t=window.event,t=t===void 0?16:rv(t.type)),t):1}function en(t,e,n,r){if(50<Yi)throw Yi=0,md=null,Error(U(185));Oo(t,n,r),(!(ue&2)||t!==Ke)&&(t===Ke&&(!(ue&2)&&(Hl|=n),Be===4&&Kn(t,Je)),At(t,r),n===1&&ue===0&&!(e.mode&1)&&(Us=Oe()+500,zl&&Er()))}function At(t,e){var n=t.callbackNode;ox(t,e);var r=Ja(t,t===Ke?Je:0);if(r===0)n!==null&&Qp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Qp(n),e===1)t.tag===0?i1(Fm.bind(null,t)):xv(Fm.bind(null,t)),t1(function(){!(ue&6)&&Er()}),n=null;else{switch(Zy(r)){case 1:n=oh;break;case 4:n=Ky;break;case 16:n=Xa;break;case 536870912:n=Gy;break;default:n=Xa}n=w_(n,f_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function f_(t,e){if(Ba=-1,za=0,ue&6)throw Error(U(327));var n=t.callbackNode;if(Rs()&&t.callbackNode!==n)return null;var r=Ja(t,t===Ke?Je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yl(t,r);else{e=r;var s=ue;ue|=2;var i=m_();(Ke!==t||Je!==e)&&(xn=null,Us=Oe()+500,Mr(t,e));do try{A1();break}catch(l){p_(t,l)}while(!0);_h(),pl.current=i,ue=s,Le!==null?e=0:(Ke=null,Je=0,e=Be)}if(e!==0){if(e===2&&(s=zc(t),s!==0&&(r=s,e=gd(t,s))),e===1)throw n=vo,Mr(t,0),Kn(t,r),At(t,Oe()),n;if(e===6)Kn(t,r);else{if(s=t.current.alternate,!(r&30)&&!S1(s)&&(e=yl(t,r),e===2&&(i=zc(t),i!==0&&(r=i,e=gd(t,i))),e===1))throw n=vo,Mr(t,0),Kn(t,r),At(t,Oe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Rr(t,Et,xn);break;case 3:if(Kn(t,r),(r&130023424)===r&&(e=Vh+500-Oe(),10<e)){if(Ja(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yc(Rr.bind(null,t,Et,xn),e);break}Rr(t,Et,xn);break;case 4:if(Kn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Jt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T1(r/1960))-r,10<r){t.timeoutHandle=Yc(Rr.bind(null,t,Et,xn),r);break}Rr(t,Et,xn);break;case 5:Rr(t,Et,xn);break;default:throw Error(U(329))}}}return At(t,Oe()),t.callbackNode===n?f_.bind(null,t):null}function gd(t,e){var n=Gi;return t.current.memoizedState.isDehydrated&&(Mr(t,e).flags|=256),t=yl(t,e),t!==2&&(e=Et,Et=n,e!==null&&yd(e)),t}function yd(t){Et===null?Et=t:Et.push.apply(Et,t)}function S1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!tn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kn(t,e){for(e&=~Dh,e&=~Hl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function Fm(t){if(ue&6)throw Error(U(327));Rs();var e=Ja(t,0);if(!(e&1))return At(t,Oe()),null;var n=yl(t,e);if(t.tag!==0&&n===2){var r=zc(t);r!==0&&(e=r,n=gd(t,r))}if(n===1)throw n=vo,Mr(t,0),Kn(t,e),At(t,Oe()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rr(t,Et,xn),At(t,Oe()),null}function Oh(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(Us=Oe()+500,zl&&Er())}}function Qr(t){Yn!==null&&Yn.tag===0&&!(ue&6)&&Rs();var e=ue;ue|=1;var n=Bt.transition,r=me;try{if(Bt.transition=null,me=1,t)return t()}finally{me=r,Bt.transition=n,ue=e,!(ue&6)&&Er()}}function bh(){Nt=Ts.current,Se(Ts)}function Mr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,e1(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(gh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:Ls(),Se(St),Se(pt),Ih();break;case 5:Sh(r);break;case 4:Ls();break;case 13:Se(Ce);break;case 19:Se(Ce);break;case 10:wh(r.type._context);break;case 22:case 23:bh()}n=n.return}if(Ke=t,Le=t=ar(t.current,null),Je=Nt=e,Be=0,vo=null,Dh=Hl=Hr=0,Et=Gi=null,Vr!==null){for(e=0;e<Vr.length;e++)if(n=Vr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Vr=null}return t}function p_(t,e){do{var n=Le;try{if(_h(),La.current=fl,hl){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}hl=!1}if(Wr=0,He=Ue=ke=null,Qi=!1,mo=0,jh.current=null,n===null||n.return===null){Be=1,vo=e,Le=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=Je,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var E=Am(o);if(E!==null){E.flags&=-257,Cm(E,o,l,i,e),E.mode&1&&Im(i,h,e),e=E,u=h;var T=e.updateQueue;if(T===null){var w=new Set;w.add(u),e.updateQueue=w}else T.add(u);break e}else{if(!(e&1)){Im(i,h,e),Mh();break e}u=Error(U(426))}}else if(Ie&&l.mode&1){var N=Am(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Cm(N,o,l,i,e),yh(Fs(u,l));break e}}i=u=Fs(u,l),Be!==4&&(Be=2),Gi===null?Gi=[i]:Gi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=Zv(i,u,e);_m(i,x);break e;case 1:l=u;var y=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ir===null||!ir.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=Xv(i,l,e);_m(i,j);break e}}i=i.return}while(i!==null)}y_(n)}catch(O){e=O,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function m_(){var t=pl.current;return pl.current=fl,t===null?fl:t}function Mh(){(Be===0||Be===3||Be===2)&&(Be=4),Ke===null||!(Hr&268435455)&&!(Hl&268435455)||Kn(Ke,Je)}function yl(t,e){var n=ue;ue|=2;var r=m_();(Ke!==t||Je!==e)&&(xn=null,Mr(t,e));do try{I1();break}catch(s){p_(t,s)}while(!0);if(_h(),ue=n,pl.current=r,Le!==null)throw Error(U(261));return Ke=null,Je=0,Be}function I1(){for(;Le!==null;)g_(Le)}function A1(){for(;Le!==null&&!ZE();)g_(Le)}function g_(t){var e=__(t.alternate,t,Nt);t.memoizedProps=t.pendingProps,e===null?y_(t):Le=e,jh.current=null}function y_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_1(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,Le=null;return}}else if(n=v1(n,e,Nt),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Be===0&&(Be=5)}function Rr(t,e,n){var r=me,s=Bt.transition;try{Bt.transition=null,me=1,C1(t,e,n,r)}finally{Bt.transition=s,me=r}return null}function C1(t,e,n,r){do Rs();while(Yn!==null);if(ue&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ax(t,i),t===Ke&&(Le=Ke=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ia||(Ia=!0,w_(Xa,function(){return Rs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bt.transition,Bt.transition=null;var o=me;me=1;var l=ue;ue|=4,jh.current=null,E1(t,n),d_(n,t),Qx(Kc),el=!!Qc,Kc=Qc=null,t.current=n,x1(n),XE(),ue=l,me=o,Bt.transition=i}else t.current=n;if(Ia&&(Ia=!1,Yn=t,gl=s),i=t.pendingLanes,i===0&&(ir=null),tx(n.stateNode),At(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ml)throw ml=!1,t=pd,pd=null,t;return gl&1&&t.tag!==0&&Rs(),i=t.pendingLanes,i&1?t===md?Yi++:(Yi=0,md=t):Yi=0,Er(),null}function Rs(){if(Yn!==null){var t=Zy(gl),e=Bt.transition,n=me;try{if(Bt.transition=null,me=16>t?16:t,Yn===null)var r=!1;else{if(t=Yn,Yn=null,gl=0,ue&6)throw Error(U(331));var s=ue;for(ue|=4,H=t.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(H=h;H!==null;){var p=H;switch(p.tag){case 0:case 11:case 15:Ki(8,p,i)}var m=p.child;if(m!==null)m.return=p,H=m;else for(;H!==null;){p=H;var g=p.sibling,E=p.return;if(l_(p),p===h){H=null;break}if(g!==null){g.return=E,H=g;break}H=E}}}var T=i.alternate;if(T!==null){var w=T.child;if(w!==null){T.child=null;do{var N=w.sibling;w.sibling=null,w=N}while(w!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ki(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,H=x;break e}H=i.return}}var y=t.current;for(H=y;H!==null;){o=H;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,H=S;else e:for(o=y;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wl(9,l)}}catch(O){je(l,l.return,O)}if(l===o){H=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,H=j;break e}H=l.return}}if(ue=s,Er(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ml,t)}catch{}r=!0}return r}finally{me=n,Bt.transition=e}}return!1}function Um(t,e,n){e=Fs(n,e),e=Zv(t,e,1),t=sr(t,e,1),e=vt(),t!==null&&(Oo(t,1,e),At(t,e))}function je(t,e,n){if(t.tag===3)Um(t,t,n);else for(;e!==null;){if(e.tag===3){Um(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ir===null||!ir.has(r))){t=Fs(n,t),t=Xv(e,t,1),e=sr(e,t,1),t=vt(),e!==null&&(Oo(e,1,t),At(e,t));break}}e=e.return}}function k1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,Ke===t&&(Je&n)===n&&(Be===4||Be===3&&(Je&130023424)===Je&&500>Oe()-Vh?Mr(t,0):Dh|=n),At(t,e)}function v_(t,e){e===0&&(t.mode&1?(e=ma,ma<<=1,!(ma&130023424)&&(ma=4194304)):e=1);var n=vt();t=Pn(t,e),t!==null&&(Oo(t,e,n),At(t,n))}function N1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),v_(t,n)}function R1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),v_(t,n)}var __;__=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)Tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tt=!1,y1(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,Ie&&e.flags&1048576&&Tv(e,al,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ua(t,e),t=e.pendingProps;var s=Os(e,pt.current);Ns(e,n),s=Ch(null,e,r,t,s,n);var i=kh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,It(r)?(i=!0,il(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xh(e),s.updater=ql,e.stateNode=s,s._reactInternals=e,rd(e,r,t,n),e=od(null,e,r,!0,i,n)):(e.tag=0,Ie&&i&&mh(e),yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ua(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=j1(r),t=Yt(r,t),s){case 0:e=id(null,e,r,t,n);break e;case 1:e=Rm(null,e,r,t,n);break e;case 11:e=km(null,e,r,t,n);break e;case 14:e=Nm(null,e,r,Yt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),id(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),Rm(t,e,r,s,n);case 3:e:{if(n_(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Nv(t,e),cl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Fs(Error(U(423)),e),e=Pm(t,e,r,n,s);break e}else if(r!==s){s=Fs(Error(U(424)),e),e=Pm(t,e,r,n,s);break e}else for(Rt=rr(e.stateNode.containerInfo.firstChild),jt=e,Ie=!0,Xt=null,n=Cv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bs(),r===s){e=jn(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return Rv(e),t===null&&ed(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Gc(r,s)?o=null:i!==null&&Gc(r,i)&&(e.flags|=32),t_(t,e),yt(t,e,o,n),e.child;case 6:return t===null&&ed(e),null;case 13:return r_(t,e,n);case 4:return Th(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ms(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),km(t,e,r,s,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,we(ll,r._currentValue),r._currentValue=o,i!==null)if(tn(i.value,o)){if(i.children===s.children&&!St.current){e=jn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=An(-1,n&-n),u.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?u.next=u:(u.next=p.next,p.next=u),h.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),td(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),td(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ns(e,n),s=qt(s),r=r(s),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,s=Yt(r,e.pendingProps),s=Yt(r.type,s),Nm(t,e,r,s,n);case 15:return Jv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),Ua(t,e),e.tag=1,It(r)?(t=!0,il(e)):t=!1,Ns(e,n),Yv(e,r,s),rd(e,r,s,n),od(null,e,r,!0,t,n);case 19:return s_(t,e,n);case 22:return e_(t,e,n)}throw Error(U(156,e.tag))};function w_(t,e){return Qy(t,e)}function P1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,e,n,r){return new P1(t,e,n,r)}function Lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function j1(t){if(typeof t=="function")return Lh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rh)return 11;if(t===sh)return 14}return 2}function ar(t,e){var n=t.alternate;return n===null?(n=Ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $a(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Lh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fs:return Lr(n.children,s,i,e);case nh:o=8,s|=8;break;case Cc:return t=Ut(12,n,e,s|2),t.elementType=Cc,t.lanes=i,t;case kc:return t=Ut(13,n,e,s),t.elementType=kc,t.lanes=i,t;case Nc:return t=Ut(19,n,e,s),t.elementType=Nc,t.lanes=i,t;case Ry:return Ql(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ky:o=10;break e;case Ny:o=9;break e;case rh:o=11;break e;case sh:o=14;break e;case qn:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Ut(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Lr(t,e,n,r){return t=Ut(7,t,r,e),t.lanes=n,t}function Ql(t,e,n,r){return t=Ut(22,t,r,e),t.elementType=Ry,t.lanes=n,t.stateNode={isHidden:!1},t}function pc(t,e,n){return t=Ut(6,t,null,e),t.lanes=n,t}function mc(t,e,n){return e=Ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function D1(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gu(0),this.expirationTimes=Gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fh(t,e,n,r,s,i,o,l,u){return t=new D1(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ut(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xh(i),t}function V1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function E_(t){if(!t)return fr;t=t._reactInternals;e:{if(es(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(It(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(It(n))return Ev(t,n,e)}return e}function x_(t,e,n,r,s,i,o,l,u){return t=Fh(n,r,!0,t,s,i,o,l,u),t.context=E_(null),n=t.current,r=vt(),s=or(n),i=An(r,s),i.callback=e??null,sr(n,i,s),t.current.lanes=s,Oo(t,s,r),At(t,r),t}function Kl(t,e,n,r){var s=e.current,i=vt(),o=or(s);return n=E_(n),e.context===null?e.context=n:e.pendingContext=n,e=An(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sr(s,e,o),t!==null&&(en(t,s,o,i),Ma(t,s,o)),o}function vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uh(t,e){Bm(t,e),(t=t.alternate)&&Bm(t,e)}function O1(){return null}var T_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bh(t){this._internalRoot=t}Gl.prototype.render=Bh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Kl(t,e,null,null)};Gl.prototype.unmount=Bh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qr(function(){Kl(null,t,null,null)}),e[Rn]=null}};function Gl(t){this._internalRoot=t}Gl.prototype.unstable_scheduleHydration=function(t){if(t){var e=ev();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qn.length&&e!==0&&e<Qn[n].priority;n++);Qn.splice(n,0,t),n===0&&nv(t)}};function zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zm(){}function b1(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=vl(o);i.call(h)}}var o=x_(e,r,t,0,null,!1,!1,"",zm);return t._reactRootContainer=o,t[Rn]=o.current,uo(t.nodeType===8?t.parentNode:t),Qr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var h=vl(u);l.call(h)}}var u=Fh(t,0,!1,null,null,!1,!1,"",zm);return t._reactRootContainer=u,t[Rn]=u.current,uo(t.nodeType===8?t.parentNode:t),Qr(function(){Kl(e,u,n,r)}),u}function Zl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=vl(o);l.call(u)}}Kl(e,o,t,s)}else o=b1(n,e,t,s,r);return vl(o)}Xy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oi(e.pendingLanes);n!==0&&(ah(e,n|1),At(e,Oe()),!(ue&6)&&(Us=Oe()+500,Er()))}break;case 13:Qr(function(){var r=Pn(t,1);if(r!==null){var s=vt();en(r,t,1,s)}}),Uh(t,1)}};lh=function(t){if(t.tag===13){var e=Pn(t,134217728);if(e!==null){var n=vt();en(e,t,134217728,n)}Uh(t,134217728)}};Jy=function(t){if(t.tag===13){var e=or(t),n=Pn(t,e);if(n!==null){var r=vt();en(n,t,e,r)}Uh(t,e)}};ev=function(){return me};tv=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};Fc=function(t,e,n){switch(e){case"input":if(jc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bl(r);if(!s)throw Error(U(90));jy(r),jc(r,s)}}}break;case"textarea":Vy(t,n);break;case"select":e=n.value,e!=null&&Is(t,!!n.multiple,e,!1)}};By=Oh;zy=Qr;var M1={usingClientEntryPoint:!1,Events:[Mo,ys,Bl,Fy,Uy,Oh]},Pi={findFiberByHostInstance:Dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L1={bundleType:Pi.bundleType,version:Pi.version,rendererPackageName:Pi.rendererPackageName,rendererConfig:Pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Wy(t),t===null?null:t.stateNode},findFiberByHostInstance:Pi.findFiberByHostInstance||O1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{Ml=Aa.inject(L1),ln=Aa}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M1;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zh(e))throw Error(U(200));return V1(t,e,null,n)};Ot.createRoot=function(t,e){if(!zh(t))throw Error(U(299));var n=!1,r="",s=T_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Fh(t,1,!1,null,null,n,!1,r,s),t[Rn]=e.current,uo(t.nodeType===8?t.parentNode:t),new Bh(e)};Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Wy(e),t=t===null?null:t.stateNode,t};Ot.flushSync=function(t){return Qr(t)};Ot.hydrate=function(t,e,n){if(!Yl(e))throw Error(U(200));return Zl(null,t,e,!0,n)};Ot.hydrateRoot=function(t,e,n){if(!zh(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=T_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=x_(e,null,t,1,n??null,s,!1,i,o),t[Rn]=e.current,uo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Gl(e)};Ot.render=function(t,e,n){if(!Yl(e))throw Error(U(200));return Zl(null,t,e,!1,n)};Ot.unmountComponentAtNode=function(t){if(!Yl(t))throw Error(U(40));return t._reactRootContainer?(Qr(function(){Zl(null,null,t,!1,function(){t._reactRootContainer=null,t[Rn]=null})}),!0):!1};Ot.unstable_batchedUpdates=Oh;Ot.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yl(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Zl(t,e,n,!1,r)};Ot.version="18.3.1-next-f1338f8080-20240426";function S_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S_)}catch(t){console.error(t)}}S_(),Sy.exports=Ot;var F1=Sy.exports,I_,$m=F1;I_=$m.createRoot,$m.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _o(){return _o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_o.apply(this,arguments)}var Zn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zn||(Zn={}));const qm="popstate";function U1(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return vd("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:C_(s)}return z1(e,n,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function A_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B1(){return Math.random().toString(36).substr(2,8)}function Wm(t,e){return{usr:t.state,key:t.key,idx:e}}function vd(t,e,n,r){return n===void 0&&(n=null),_o({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ri(e):e,{state:n,key:e&&e.key||r||B1()})}function C_(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ri(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function z1(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Zn.Pop,u=null,h=p();h==null&&(h=0,o.replaceState(_o({},o.state,{idx:h}),""));function p(){return(o.state||{idx:null}).idx}function m(){l=Zn.Pop;let N=p(),x=N==null?null:N-h;h=N,u&&u({action:l,location:w.location,delta:x})}function g(N,x){l=Zn.Push;let y=vd(w.location,N,x);h=p()+1;let S=Wm(y,h),j=w.createHref(y);try{o.pushState(S,"",j)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(j)}i&&u&&u({action:l,location:w.location,delta:1})}function E(N,x){l=Zn.Replace;let y=vd(w.location,N,x);h=p();let S=Wm(y,h),j=w.createHref(y);o.replaceState(S,"",j),i&&u&&u({action:l,location:w.location,delta:0})}function T(N){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof N=="string"?N:C_(N);return y=y.replace(/ $/,"%20"),ze(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let w={get action(){return l},get location(){return t(s,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(qm,m),u=N,()=>{s.removeEventListener(qm,m),u=null}},createHref(N){return e(s,N)},createURL:T,encodeLocation(N){let x=T(N);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:E,go(N){return o.go(N)}};return w}var Hm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hm||(Hm={}));function $1(t,e,n){return n===void 0&&(n="/"),q1(t,e,n)}function q1(t,e,n,r){let s=typeof e=="string"?ri(e):e,i=R_(s.pathname||"/",n);if(i==null)return null;let o=k_(t);W1(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=rT(i);l=eT(o[u],h)}return l}function k_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(ze(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Fr([r,u.relativePath]),p=n.concat(u);i.children&&i.children.length>0&&(ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),k_(i.children,e,p,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:X1(h,i.index),routesMeta:p})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of N_(i.path))s(i,o,u)}),e}function N_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=N_(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function W1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:J1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const H1=/^:[\w-]+$/,Q1=3,K1=2,G1=1,Y1=10,Z1=-2,Qm=t=>t==="*";function X1(t,e){let n=t.split("/"),r=n.length;return n.some(Qm)&&(r+=Z1),e&&(r+=K1),n.filter(s=>!Qm(s)).reduce((s,i)=>s+(H1.test(i)?Q1:i===""?G1:Y1),r)}function J1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function eT(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=tT({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),g=u.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Fr([i,m.pathname]),pathnameBase:uT(Fr([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=Fr([i,m.pathnameBase]))}return o}function tT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((h,p,m)=>{let{paramName:g,isOptional:E}=p;if(g==="*"){let w=l[m]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const T=l[m];return E&&!T?h[g]=void 0:h[g]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function nT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),A_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function rT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return A_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function R_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ri(t):t;return{pathname:n?n.startsWith("/")?n:iT(n,e):e,search:cT(r),hash:dT(s)}}function iT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function gc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aT(t,e){let n=oT(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lT(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ri(t):(s=_o({},t),ze(!s.pathname||!s.pathname.includes("?"),gc("?","pathname","search",s)),ze(!s.pathname||!s.pathname.includes("#"),gc("#","pathname","hash",s)),ze(!s.search||!s.search.includes("#"),gc("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=sT(s,l),h=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}const Fr=t=>t.join("/").replace(/\/\/+/g,"/"),uT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const P_=["post","put","patch","delete"];new Set(P_);const fT=["get",...P_];new Set(fT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wo(){return wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wo.apply(this,arguments)}const $h=V.createContext(null),pT=V.createContext(null),Xl=V.createContext(null),Jl=V.createContext(null),si=V.createContext({outlet:null,matches:[],isDataRoute:!1}),j_=V.createContext(null);function eu(){return V.useContext(Jl)!=null}function qh(){return eu()||ze(!1),V.useContext(Jl).location}function D_(t){V.useContext(Xl).static||V.useLayoutEffect(t)}function ii(){let{isDataRoute:t}=V.useContext(si);return t?CT():mT()}function mT(){eu()||ze(!1);let t=V.useContext($h),{basename:e,future:n,navigator:r}=V.useContext(Xl),{matches:s}=V.useContext(si),{pathname:i}=qh(),o=JSON.stringify(aT(s,n.v7_relativeSplatPath)),l=V.useRef(!1);return D_(()=>{l.current=!0}),V.useCallback(function(h,p){if(p===void 0&&(p={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let m=lT(h,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Fr([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,o,i,t])}function gT(t,e){return yT(t,e)}function yT(t,e,n,r){eu()||ze(!1);let{navigator:s}=V.useContext(Xl),{matches:i}=V.useContext(si),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=qh(),p;if(e){var m;let N=typeof e=="string"?ri(e):e;u==="/"||(m=N.pathname)!=null&&m.startsWith(u)||ze(!1),p=N}else p=h;let g=p.pathname||"/",E=g;if(u!=="/"){let N=u.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=$1(t,{pathname:E}),w=xT(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Fr([u,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Fr([u,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,r);return e&&w?V.createElement(Jl.Provider,{value:{location:wo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Zn.Pop}},w):w}function vT(){let t=AT(),e=hT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:s},n):null,null)}const _T=V.createElement(vT,null);class wT extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(si.Provider,{value:this.props.routeContext},V.createElement(j_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ET(t){let{routeContext:e,match:n,children:r}=t,s=V.useContext($h);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(si.Provider,{value:e},r)}function xT(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);p>=0||ze(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:g,errors:E}=n,T=m.route.loader&&g[m.route.id]===void 0&&(!E||E[m.route.id]===void 0);if(m.route.lazy||T){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,m,g)=>{let E,T=!1,w=null,N=null;n&&(E=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||_T,u&&(h<0&&g===0?(kT("route-fallback"),T=!0,N=null):h===g&&(T=!0,N=m.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,g+1)),y=()=>{let S;return E?S=w:T?S=N:m.route.Component?S=V.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=p,V.createElement(ET,{match:m,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?V.createElement(wT,{location:n.location,revalidation:n.revalidation,component:w,error:E,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var V_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(V_||{}),O_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(O_||{});function TT(t){let e=V.useContext($h);return e||ze(!1),e}function ST(t){let e=V.useContext(pT);return e||ze(!1),e}function IT(t){let e=V.useContext(si);return e||ze(!1),e}function b_(t){let e=IT(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function AT(){var t;let e=V.useContext(j_),n=ST(),r=b_();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function CT(){let{router:t}=TT(V_.UseNavigateStable),e=b_(O_.UseNavigateStable),n=V.useRef(!1);return D_(()=>{n.current=!0}),V.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,wo({fromRouteId:e},i)))},[t,e])}const Km={};function kT(t,e,n){Km[t]||(Km[t]=!0)}function NT(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Pr(t){ze(!1)}function RT(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Zn.Pop,navigator:i,static:o=!1,future:l}=t;eu()&&ze(!1);let u=e.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:u,navigator:i,static:o,future:wo({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=ri(r));let{pathname:p="/",search:m="",hash:g="",state:E=null,key:T="default"}=r,w=V.useMemo(()=>{let N=R_(p,u);return N==null?null:{location:{pathname:N,search:m,hash:g,state:E,key:T},navigationType:s}},[u,p,m,g,E,T,s]);return w==null?null:V.createElement(Xl.Provider,{value:h},V.createElement(Jl.Provider,{children:n,value:w}))}function PT(t){let{children:e,location:n}=t;return gT(_d(e),n)}new Promise(()=>{});function _d(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,s)=>{if(!V.isValidElement(r))return;let i=[...e,s];if(r.type===V.Fragment){n.push.apply(n,_d(r.props.children,i));return}r.type!==Pr&&ze(!1),!r.props.index||!r.props.children||ze(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_d(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const jT="6";try{window.__reactRouterVersion=jT}catch{}const DT="startTransition",Gm=kE[DT];function VT(t){let{basename:e,children:n,future:r,window:s}=t,i=V.useRef();i.current==null&&(i.current=U1({window:s,v5Compat:!0}));let o=i.current,[l,u]=V.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},p=V.useCallback(m=>{h&&Gm?Gm(()=>u(m)):u(m)},[u,h]);return V.useLayoutEffect(()=>o.listen(p),[o,p]),V.useEffect(()=>NT(r),[r]),V.createElement(RT,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var Ym;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ym||(Ym={}));var Zm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zm||(Zm={}));var dt=(t=>(t.ADMIN="admin",t.COMPANY_USER="company_user",t))(dt||{}),Xm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},OT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},L_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,p=i>>2,m=(i&3)<<4|l>>4;let g=(l&15)<<2|h>>6,E=h&63;u||(E=64,o||(g=64)),r.push(n[p],n[m],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(M_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||h==null||m==null)throw new bT;const g=i<<2|l>>4;if(r.push(g),h!==64){const E=l<<4&240|h>>2;if(r.push(E),m!==64){const T=h<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MT=function(t){const e=M_(t);return L_.encodeByteArray(e,!0)},_l=function(t){return MT(t).replace(/\./g,"")},LT=function(t){try{return L_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=()=>FT().__FIREBASE_DEFAULTS__,BT=()=>{if(typeof process>"u"||typeof Xm>"u")return;const t=Xm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LT(t[1]);return e&&JSON.parse(e)},Wh=()=>{try{return UT()||BT()||zT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$T=t=>{var e,n;return(n=(e=Wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qT=t=>{const e=$T(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},F_=()=>{var t;return(t=Wh())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_l(JSON.stringify(n)),_l(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KT(){var t;const e=(t=Wh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GT(){return!KT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YT(){try{return typeof indexedDB=="object"}catch{return!1}}function ZT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="FirebaseError";class oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XT,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U_.prototype.create)}}class U_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?JT(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new oi(s,l,r)}}function JT(t,e){return t.replace(eS,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const eS=/\{\$([^}]+)}/g;function wd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Jm(i)&&Jm(o)){if(!wd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Jm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rS(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nS(t){return t===jr?void 0:t}function rS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const iS={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},oS=le.INFO,aS={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},lS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=aS[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B_{constructor(e){this.name=e,this._logLevel=oS,this._logHandler=lS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const uS=(t,e)=>e.some(n=>t instanceof n);let eg,tg;function cS(){return eg||(eg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dS(){return tg||(tg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z_=new WeakMap,Ed=new WeakMap,$_=new WeakMap,yc=new WeakMap,Hh=new WeakMap;function hS(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(lr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&z_.set(n,t)}).catch(()=>{}),Hh.set(e,t),e}function fS(t){if(Ed.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ed.set(t,e)}let xd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ed.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pS(t){xd=t(xd)}function mS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vc(this),e,...n);return $_.set(r,e.sort?e.sort():[e]),lr(r)}:dS().includes(t)?function(...e){return t.apply(vc(this),e),lr(z_.get(this))}:function(...e){return lr(t.apply(vc(this),e))}}function gS(t){return typeof t=="function"?mS(t):(t instanceof IDBTransaction&&fS(t),uS(t,cS())?new Proxy(t,xd):t)}function lr(t){if(t instanceof IDBRequest)return hS(t);if(yc.has(t))return yc.get(t);const e=gS(t);return e!==t&&(yc.set(t,e),Hh.set(e,t)),e}const vc=t=>Hh.get(t);function yS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=lr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(lr(o.result),u.oldVersion,u.newVersion,lr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const vS=["get","getKey","getAll","getAllKeys","count"],_S=["put","add","delete","clear"],_c=new Map;function ng(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_c.get(e))return _c.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=_S.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||vS.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&u.done]))[0]};return _c.set(e,i),i}pS(t=>({...t,get:(e,n,r)=>ng(e,n)||t.get(e,n,r),has:(e,n)=>!!ng(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ES(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ES(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Td="@firebase/app",rg="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new B_("@firebase/app"),xS="@firebase/app-compat",TS="@firebase/analytics-compat",SS="@firebase/analytics",IS="@firebase/app-check-compat",AS="@firebase/app-check",CS="@firebase/auth",kS="@firebase/auth-compat",NS="@firebase/database",RS="@firebase/data-connect",PS="@firebase/database-compat",jS="@firebase/functions",DS="@firebase/functions-compat",VS="@firebase/installations",OS="@firebase/installations-compat",bS="@firebase/messaging",MS="@firebase/messaging-compat",LS="@firebase/performance",FS="@firebase/performance-compat",US="@firebase/remote-config",BS="@firebase/remote-config-compat",zS="@firebase/storage",$S="@firebase/storage-compat",qS="@firebase/firestore",WS="@firebase/vertexai-preview",HS="@firebase/firestore-compat",QS="firebase",KS="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="[DEFAULT]",GS={[Td]:"fire-core",[xS]:"fire-core-compat",[SS]:"fire-analytics",[TS]:"fire-analytics-compat",[AS]:"fire-app-check",[IS]:"fire-app-check-compat",[CS]:"fire-auth",[kS]:"fire-auth-compat",[NS]:"fire-rtdb",[RS]:"fire-data-connect",[PS]:"fire-rtdb-compat",[jS]:"fire-fn",[DS]:"fire-fn-compat",[VS]:"fire-iid",[OS]:"fire-iid-compat",[bS]:"fire-fcm",[MS]:"fire-fcm-compat",[LS]:"fire-perf",[FS]:"fire-perf-compat",[US]:"fire-rc",[BS]:"fire-rc-compat",[zS]:"fire-gcs",[$S]:"fire-gcs-compat",[qS]:"fire-fst",[HS]:"fire-fst-compat",[WS]:"fire-vertex","fire-js":"fire-js",[QS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new Map,YS=new Map,Id=new Map;function sg(t,e){try{t.container.addComponent(e)}catch(n){Dn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function El(t){const e=t.name;if(Id.has(e))return Dn.debug(`There were multiple attempts to register component ${e}.`),!1;Id.set(e,t);for(const n of wl.values())sg(n,t);for(const n of YS.values())sg(n,t);return!0}function ZS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new U_("app","Firebase",XS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=KS;function q_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sd,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ur.create("bad-app-name",{appName:String(s)});if(n||(n=F_()),!n)throw ur.create("no-options");const i=wl.get(s);if(i){if(wd(n,i.options)&&wd(r,i.config))return i;throw ur.create("duplicate-app",{appName:s})}const o=new sS(s);for(const u of Id.values())o.addComponent(u);const l=new JS(n,r,o);return wl.set(s,l),l}function tI(t=Sd){const e=wl.get(t);if(!e&&t===Sd&&F_())return q_();if(!e)throw ur.create("no-app",{appName:t});return e}function Ps(t,e,n){var r;let s=(r=GS[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dn.warn(l.join(" "));return}El(new Eo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="firebase-heartbeat-database",rI=1,xo="firebase-heartbeat-store";let wc=null;function W_(){return wc||(wc=yS(nI,rI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xo)}catch(n){console.warn(n)}}}}).catch(t=>{throw ur.create("idb-open",{originalErrorMessage:t.message})})),wc}async function sI(t){try{const n=(await W_()).transaction(xo),r=await n.objectStore(xo).get(H_(t));return await n.done,r}catch(e){if(e instanceof oi)Dn.warn(e.message);else{const n=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dn.warn(n.message)}}}async function ig(t,e){try{const r=(await W_()).transaction(xo,"readwrite");await r.objectStore(xo).put(e,H_(t)),await r.done}catch(n){if(n instanceof oi)Dn.warn(n.message);else{const r=ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dn.warn(r.message)}}}function H_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=1024,oI=30*24*60*60*1e3;class aI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=og();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=oI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Dn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=og(),{heartbeatsToSend:r,unsentEntries:s}=lI(this._heartbeatsCache.heartbeats),i=_l(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Dn.warn(n),""}}}function og(){return new Date().toISOString().substring(0,10)}function lI(t,e=iI){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ag(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ag(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YT()?ZT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ig(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ig(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ag(t){return _l(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){El(new Eo("platform-logger",e=>new wS(e),"PRIVATE")),El(new Eo("heartbeat",e=>new aI(e),"PRIVATE")),Ps(Td,rg,t),Ps(Td,rg,"esm2017"),Ps("fire-js","")}cI("");var dI="firebase",hI="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(dI,hI,"app");var lg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,Q_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function A(){}A.prototype=v.prototype,I.D=v.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(C,P,R){for(var k=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)k[qe-2]=arguments[qe];return v.prototype[P].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,v,A){A||(A=0);var C=Array(16);if(typeof v=="string")for(var P=0;16>P;++P)C[P]=v.charCodeAt(A++)|v.charCodeAt(A++)<<8|v.charCodeAt(A++)<<16|v.charCodeAt(A++)<<24;else for(P=0;16>P;++P)C[P]=v[A++]|v[A++]<<8|v[A++]<<16|v[A++]<<24;v=I.g[0],A=I.g[1],P=I.g[2];var R=I.g[3],k=v+(R^A&(P^R))+C[0]+3614090360&4294967295;v=A+(k<<7&4294967295|k>>>25),k=R+(P^v&(A^P))+C[1]+3905402710&4294967295,R=v+(k<<12&4294967295|k>>>20),k=P+(A^R&(v^A))+C[2]+606105819&4294967295,P=R+(k<<17&4294967295|k>>>15),k=A+(v^P&(R^v))+C[3]+3250441966&4294967295,A=P+(k<<22&4294967295|k>>>10),k=v+(R^A&(P^R))+C[4]+4118548399&4294967295,v=A+(k<<7&4294967295|k>>>25),k=R+(P^v&(A^P))+C[5]+1200080426&4294967295,R=v+(k<<12&4294967295|k>>>20),k=P+(A^R&(v^A))+C[6]+2821735955&4294967295,P=R+(k<<17&4294967295|k>>>15),k=A+(v^P&(R^v))+C[7]+4249261313&4294967295,A=P+(k<<22&4294967295|k>>>10),k=v+(R^A&(P^R))+C[8]+1770035416&4294967295,v=A+(k<<7&4294967295|k>>>25),k=R+(P^v&(A^P))+C[9]+2336552879&4294967295,R=v+(k<<12&4294967295|k>>>20),k=P+(A^R&(v^A))+C[10]+4294925233&4294967295,P=R+(k<<17&4294967295|k>>>15),k=A+(v^P&(R^v))+C[11]+2304563134&4294967295,A=P+(k<<22&4294967295|k>>>10),k=v+(R^A&(P^R))+C[12]+1804603682&4294967295,v=A+(k<<7&4294967295|k>>>25),k=R+(P^v&(A^P))+C[13]+4254626195&4294967295,R=v+(k<<12&4294967295|k>>>20),k=P+(A^R&(v^A))+C[14]+2792965006&4294967295,P=R+(k<<17&4294967295|k>>>15),k=A+(v^P&(R^v))+C[15]+1236535329&4294967295,A=P+(k<<22&4294967295|k>>>10),k=v+(P^R&(A^P))+C[1]+4129170786&4294967295,v=A+(k<<5&4294967295|k>>>27),k=R+(A^P&(v^A))+C[6]+3225465664&4294967295,R=v+(k<<9&4294967295|k>>>23),k=P+(v^A&(R^v))+C[11]+643717713&4294967295,P=R+(k<<14&4294967295|k>>>18),k=A+(R^v&(P^R))+C[0]+3921069994&4294967295,A=P+(k<<20&4294967295|k>>>12),k=v+(P^R&(A^P))+C[5]+3593408605&4294967295,v=A+(k<<5&4294967295|k>>>27),k=R+(A^P&(v^A))+C[10]+38016083&4294967295,R=v+(k<<9&4294967295|k>>>23),k=P+(v^A&(R^v))+C[15]+3634488961&4294967295,P=R+(k<<14&4294967295|k>>>18),k=A+(R^v&(P^R))+C[4]+3889429448&4294967295,A=P+(k<<20&4294967295|k>>>12),k=v+(P^R&(A^P))+C[9]+568446438&4294967295,v=A+(k<<5&4294967295|k>>>27),k=R+(A^P&(v^A))+C[14]+3275163606&4294967295,R=v+(k<<9&4294967295|k>>>23),k=P+(v^A&(R^v))+C[3]+4107603335&4294967295,P=R+(k<<14&4294967295|k>>>18),k=A+(R^v&(P^R))+C[8]+1163531501&4294967295,A=P+(k<<20&4294967295|k>>>12),k=v+(P^R&(A^P))+C[13]+2850285829&4294967295,v=A+(k<<5&4294967295|k>>>27),k=R+(A^P&(v^A))+C[2]+4243563512&4294967295,R=v+(k<<9&4294967295|k>>>23),k=P+(v^A&(R^v))+C[7]+1735328473&4294967295,P=R+(k<<14&4294967295|k>>>18),k=A+(R^v&(P^R))+C[12]+2368359562&4294967295,A=P+(k<<20&4294967295|k>>>12),k=v+(A^P^R)+C[5]+4294588738&4294967295,v=A+(k<<4&4294967295|k>>>28),k=R+(v^A^P)+C[8]+2272392833&4294967295,R=v+(k<<11&4294967295|k>>>21),k=P+(R^v^A)+C[11]+1839030562&4294967295,P=R+(k<<16&4294967295|k>>>16),k=A+(P^R^v)+C[14]+4259657740&4294967295,A=P+(k<<23&4294967295|k>>>9),k=v+(A^P^R)+C[1]+2763975236&4294967295,v=A+(k<<4&4294967295|k>>>28),k=R+(v^A^P)+C[4]+1272893353&4294967295,R=v+(k<<11&4294967295|k>>>21),k=P+(R^v^A)+C[7]+4139469664&4294967295,P=R+(k<<16&4294967295|k>>>16),k=A+(P^R^v)+C[10]+3200236656&4294967295,A=P+(k<<23&4294967295|k>>>9),k=v+(A^P^R)+C[13]+681279174&4294967295,v=A+(k<<4&4294967295|k>>>28),k=R+(v^A^P)+C[0]+3936430074&4294967295,R=v+(k<<11&4294967295|k>>>21),k=P+(R^v^A)+C[3]+3572445317&4294967295,P=R+(k<<16&4294967295|k>>>16),k=A+(P^R^v)+C[6]+76029189&4294967295,A=P+(k<<23&4294967295|k>>>9),k=v+(A^P^R)+C[9]+3654602809&4294967295,v=A+(k<<4&4294967295|k>>>28),k=R+(v^A^P)+C[12]+3873151461&4294967295,R=v+(k<<11&4294967295|k>>>21),k=P+(R^v^A)+C[15]+530742520&4294967295,P=R+(k<<16&4294967295|k>>>16),k=A+(P^R^v)+C[2]+3299628645&4294967295,A=P+(k<<23&4294967295|k>>>9),k=v+(P^(A|~R))+C[0]+4096336452&4294967295,v=A+(k<<6&4294967295|k>>>26),k=R+(A^(v|~P))+C[7]+1126891415&4294967295,R=v+(k<<10&4294967295|k>>>22),k=P+(v^(R|~A))+C[14]+2878612391&4294967295,P=R+(k<<15&4294967295|k>>>17),k=A+(R^(P|~v))+C[5]+4237533241&4294967295,A=P+(k<<21&4294967295|k>>>11),k=v+(P^(A|~R))+C[12]+1700485571&4294967295,v=A+(k<<6&4294967295|k>>>26),k=R+(A^(v|~P))+C[3]+2399980690&4294967295,R=v+(k<<10&4294967295|k>>>22),k=P+(v^(R|~A))+C[10]+4293915773&4294967295,P=R+(k<<15&4294967295|k>>>17),k=A+(R^(P|~v))+C[1]+2240044497&4294967295,A=P+(k<<21&4294967295|k>>>11),k=v+(P^(A|~R))+C[8]+1873313359&4294967295,v=A+(k<<6&4294967295|k>>>26),k=R+(A^(v|~P))+C[15]+4264355552&4294967295,R=v+(k<<10&4294967295|k>>>22),k=P+(v^(R|~A))+C[6]+2734768916&4294967295,P=R+(k<<15&4294967295|k>>>17),k=A+(R^(P|~v))+C[13]+1309151649&4294967295,A=P+(k<<21&4294967295|k>>>11),k=v+(P^(A|~R))+C[4]+4149444226&4294967295,v=A+(k<<6&4294967295|k>>>26),k=R+(A^(v|~P))+C[11]+3174756917&4294967295,R=v+(k<<10&4294967295|k>>>22),k=P+(v^(R|~A))+C[2]+718787259&4294967295,P=R+(k<<15&4294967295|k>>>17),k=A+(R^(P|~v))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+R&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var A=v-this.blockSize,C=this.B,P=this.h,R=0;R<v;){if(P==0)for(;R<=A;)s(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<v;)if(C[P++]=I.charCodeAt(R++),P==this.blockSize){s(this,C),P=0;break}}else for(;R<v;)if(C[P++]=I[R++],P==this.blockSize){s(this,C),P=0;break}}this.h=P,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var A=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=A&255,A/=256;for(this.u(I),I=Array(16),v=A=0;4>v;++v)for(var C=0;32>C;C+=8)I[A++]=this.g[v]>>>C&255;return I};function i(I,v){var A=l;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=v(I)}function o(I,v){this.h=v;for(var A=[],C=!0,P=I.length-1;0<=P;P--){var R=I[P]|0;C&&R==v||(A[P]=R,C=!1)}this.g=A}var l={};function u(I){return-128<=I&&128>I?i(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return N(h(-I));for(var v=[],A=1,C=0;I>=A;C++)v[C]=I/A|0,A*=4294967296;return new o(v,0)}function p(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return N(p(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(v,8)),C=m,P=0;P<I.length;P+=8){var R=Math.min(8,I.length-P),k=parseInt(I.substring(P,P+R),v);8>R?(R=h(Math.pow(v,R)),C=C.j(R).add(h(k))):(C=C.j(A),C=C.add(h(k)))}return C}var m=u(0),g=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-N(this).m();for(var I=0,v=1,A=0;A<this.g.length;A++){var C=this.i(A);I+=(0<=C?C:4294967296+C)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(w(this))return"-"+N(this).toString(I);for(var v=h(Math.pow(I,6)),A=this,C="";;){var P=j(A,v).g;A=x(A,P.j(v));var R=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=P,T(A))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=x(this,I),w(I)?-1:T(I)?0:1};function N(I){for(var v=I.g.length,A=[],C=0;C<v;C++)A[C]=~I.g[C];return new o(A,~I.h).add(g)}t.abs=function(){return w(this)?N(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),A=[],C=0,P=0;P<=v;P++){var R=C+(this.i(P)&65535)+(I.i(P)&65535),k=(R>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);C=k>>>16,R&=65535,k&=65535,A[P]=k<<16|R}return new o(A,A[A.length-1]&-2147483648?-1:0)};function x(I,v){return I.add(N(v))}t.j=function(I){if(T(this)||T(I))return m;if(w(this))return w(I)?N(this).j(N(I)):N(N(this).j(I));if(w(I))return N(this.j(N(I)));if(0>this.l(E)&&0>I.l(E))return h(this.m()*I.m());for(var v=this.g.length+I.g.length,A=[],C=0;C<2*v;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<I.g.length;P++){var R=this.i(C)>>>16,k=this.i(C)&65535,qe=I.i(P)>>>16,Mt=I.i(P)&65535;A[2*C+2*P]+=k*Mt,y(A,2*C+2*P),A[2*C+2*P+1]+=R*Mt,y(A,2*C+2*P+1),A[2*C+2*P+1]+=k*qe,y(A,2*C+2*P+1),A[2*C+2*P+2]+=R*qe,y(A,2*C+2*P+2)}for(C=0;C<v;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=v;C<2*v;C++)A[C]=0;return new o(A,0)};function y(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function S(I,v){this.g=I,this.h=v}function j(I,v){if(T(v))throw Error("division by zero");if(T(I))return new S(m,m);if(w(I))return v=j(N(I),v),new S(N(v.g),N(v.h));if(w(v))return v=j(I,N(v)),new S(N(v.g),v.h);if(30<I.g.length){if(w(I)||w(v))throw Error("slowDivide_ only works with positive integers.");for(var A=g,C=v;0>=C.l(I);)A=O(A),C=O(C);var P=L(A,1),R=L(C,1);for(C=L(C,2),A=L(A,2);!T(C);){var k=R.add(C);0>=k.l(I)&&(P=P.add(A),R=k),C=L(C,1),A=L(A,1)}return v=x(I,P.j(v)),new S(P,v)}for(P=m;0<=I.l(v);){for(A=Math.max(1,Math.floor(I.m()/v.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=h(A),k=R.j(v);w(k)||0<k.l(I);)A-=C,R=h(A),k=R.j(v);T(R)&&(R=g),P=P.add(R),I=x(I,k)}return new S(P,I)}t.A=function(I){return j(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),A=[],C=0;C<v;C++)A[C]=this.i(C)&I.i(C);return new o(A,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),A=[],C=0;C<v;C++)A[C]=this.i(C)|I.i(C);return new o(A,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),A=[],C=0;C<v;C++)A[C]=this.i(C)^I.i(C);return new o(A,this.h^I.h)};function O(I){for(var v=I.g.length+1,A=[],C=0;C<v;C++)A[C]=I.i(C)<<1|I.i(C-1)>>>31;return new o(A,I.h)}function L(I,v){var A=v>>5;v%=32;for(var C=I.g.length-A,P=[],R=0;R<C;R++)P[R]=0<v?I.i(R+A)>>>v|I.i(R+A+1)<<32-v:I.i(R+A);return new o(P,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Q_=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,Ur=o}).apply(typeof lg<"u"?lg:typeof self<"u"?self:typeof window<"u"?window:{});var Ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K_,Mi,G_,qa,Ad,Y_,Z_,X_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ca=="object"&&Ca];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(a,d){if(d)e:{var f=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var D=a[_];if(!(D in f))break e;f=f[D]}a=a[a.length-1],_=f[a],d=d(_),d!=_&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function i(a,d){a instanceof String&&(a+="");var f=0,_=!1,D={next:function(){if(!_&&f<a.length){var b=f++;return{value:d(b,a[b]),done:!1}}return _=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(a){return a||function(){return i(this,function(d,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function h(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function p(a,d,f){return a.call.apply(a.bind,arguments)}function m(a,d,f){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,_),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function g(a,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,g.apply(null,arguments)}function E(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var _=f.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function T(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(_,D,b){for(var z=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)z[ve-2]=arguments[ve];return d.prototype[D].apply(_,z)}}function w(a){const d=a.length;if(0<d){const f=Array(d);for(let _=0;_<d;_++)f[_]=a[_];return f}return[]}function N(a,d){for(let f=1;f<arguments.length;f++){const _=arguments[f];if(u(_)){const D=a.length||0,b=_.length||0;a.length=D+b;for(let z=0;z<b;z++)a[D+z]=_[z]}else a.push(_)}}class x{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function y(a){return/^[\s\xa0]*$/.test(a)}function S(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function j(a){return j[" "](a),a}j[" "]=function(){};var O=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function L(a,d,f){for(const _ in a)d.call(f,a[_],_,a)}function I(a,d){for(const f in a)d.call(void 0,a[f],f,a)}function v(a){const d={};for(const f in a)d[f]=a[f];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(a,d){let f,_;for(let D=1;D<arguments.length;D++){_=arguments[D];for(f in _)a[f]=_[f];for(let b=0;b<A.length;b++)f=A[b],Object.prototype.hasOwnProperty.call(_,f)&&(a[f]=_[f])}}function P(a){var d=1;a=a.split(":");const f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function R(a){l.setTimeout(()=>{throw a},0)}function k(){var a=Z;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class qe{constructor(){this.h=this.g=null}add(d,f){const _=Mt.get();_.set(d,f),this.h?this.h.next=_:this.g=_,this.h=_}}var Mt=new x(()=>new Sr,a=>a.reset());class Sr{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Qt,$=!1,Z=new qe,re=()=>{const a=l.Promise.resolve(void 0);Qt=()=>{a.then(Ae)}};var Ae=()=>{for(var a;a=k();){try{a.h.call(a.g)}catch(f){R(f)}var d=Mt;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}$=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function De(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var gn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,d),l.removeEventListener("test",f,d)}catch{}return a}();function yn(a,d){if(De.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(O){e:{try{j(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:vn[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&yn.aa.h.call(this)}}T(yn,De);var vn={2:"touch",3:"pen",4:"mouse"};yn.prototype.h=function(){yn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var _n="closure_listenable_"+(1e6*Math.random()|0),Dw=0;function Vw(a,d,f,_,D){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!_,this.ha=D,this.key=++Dw,this.da=this.fa=!1}function Ho(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Qo(a){this.src=a,this.g={},this.h=0}Qo.prototype.add=function(a,d,f,_,D){var b=a.toString();a=this.g[b],a||(a=this.g[b]=[],this.h++);var z=xu(a,d,_,D);return-1<z?(d=a[z],f||(d.fa=!1)):(d=new Vw(d,this.src,b,!!_,D),d.fa=f,a.push(d)),d};function Eu(a,d){var f=d.type;if(f in a.g){var _=a.g[f],D=Array.prototype.indexOf.call(_,d,void 0),b;(b=0<=D)&&Array.prototype.splice.call(_,D,1),b&&(Ho(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function xu(a,d,f,_){for(var D=0;D<a.length;++D){var b=a[D];if(!b.da&&b.listener==d&&b.capture==!!f&&b.ha==_)return D}return-1}var Tu="closure_lm_"+(1e6*Math.random()|0),Su={};function bf(a,d,f,_,D){if(Array.isArray(d)){for(var b=0;b<d.length;b++)bf(a,d[b],f,_,D);return null}return f=Ff(f),a&&a[_n]?a.K(d,f,h(_)?!!_.capture:!1,D):Ow(a,d,f,!1,_,D)}function Ow(a,d,f,_,D,b){if(!d)throw Error("Invalid event type");var z=h(D)?!!D.capture:!!D,ve=Au(a);if(ve||(a[Tu]=ve=new Qo(a)),f=ve.add(d,f,_,z,b),f.proxy)return f;if(_=bw(),f.proxy=_,_.src=a,_.listener=f,a.addEventListener)gn||(D=z),D===void 0&&(D=!1),a.addEventListener(d.toString(),_,D);else if(a.attachEvent)a.attachEvent(Lf(d.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return f}function bw(){function a(f){return d.call(a.src,a.listener,f)}const d=Mw;return a}function Mf(a,d,f,_,D){if(Array.isArray(d))for(var b=0;b<d.length;b++)Mf(a,d[b],f,_,D);else _=h(_)?!!_.capture:!!_,f=Ff(f),a&&a[_n]?(a=a.i,d=String(d).toString(),d in a.g&&(b=a.g[d],f=xu(b,f,_,D),-1<f&&(Ho(b[f]),Array.prototype.splice.call(b,f,1),b.length==0&&(delete a.g[d],a.h--)))):a&&(a=Au(a))&&(d=a.g[d.toString()],a=-1,d&&(a=xu(d,f,_,D)),(f=-1<a?d[a]:null)&&Iu(f))}function Iu(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[_n])Eu(d.i,a);else{var f=a.type,_=a.proxy;d.removeEventListener?d.removeEventListener(f,_,a.capture):d.detachEvent?d.detachEvent(Lf(f),_):d.addListener&&d.removeListener&&d.removeListener(_),(f=Au(d))?(Eu(f,a),f.h==0&&(f.src=null,d[Tu]=null)):Ho(a)}}}function Lf(a){return a in Su?Su[a]:Su[a]="on"+a}function Mw(a,d){if(a.da)a=!0;else{d=new yn(d,this);var f=a.listener,_=a.ha||a.src;a.fa&&Iu(a),a=f.call(_,d)}return a}function Au(a){return a=a[Tu],a instanceof Qo?a:null}var Cu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ff(a){return typeof a=="function"?a:(a[Cu]||(a[Cu]=function(d){return a.handleEvent(d)}),a[Cu])}function rt(){ye.call(this),this.i=new Qo(this),this.M=this,this.F=null}T(rt,ye),rt.prototype[_n]=!0,rt.prototype.removeEventListener=function(a,d,f,_){Mf(this,a,d,f,_)};function mt(a,d){var f,_=a.F;if(_)for(f=[];_;_=_.F)f.push(_);if(a=a.M,_=d.type||d,typeof d=="string")d=new De(d,a);else if(d instanceof De)d.target=d.target||a;else{var D=d;d=new De(_,a),C(d,D)}if(D=!0,f)for(var b=f.length-1;0<=b;b--){var z=d.g=f[b];D=Ko(z,_,!0,d)&&D}if(z=d.g=a,D=Ko(z,_,!0,d)&&D,D=Ko(z,_,!1,d)&&D,f)for(b=0;b<f.length;b++)z=d.g=f[b],D=Ko(z,_,!1,d)&&D}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],_=0;_<f.length;_++)Ho(f[_]);delete a.g[d],a.h--}}this.F=null},rt.prototype.K=function(a,d,f,_){return this.i.add(String(a),d,!1,f,_)},rt.prototype.L=function(a,d,f,_){return this.i.add(String(a),d,!0,f,_)};function Ko(a,d,f,_){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,b=0;b<d.length;++b){var z=d[b];if(z&&!z.da&&z.capture==f){var ve=z.listener,Ge=z.ha||z.src;z.fa&&Eu(a.i,z),D=ve.call(Ge,_)!==!1&&D}}return D&&!_.defaultPrevented}function Uf(a,d,f){if(typeof a=="function")f&&(a=g(a,f));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Bf(a){a.g=Uf(()=>{a.g=null,a.i&&(a.i=!1,Bf(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class Lw extends ye{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Bf(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function di(a){ye.call(this),this.h=a,this.g={}}T(di,ye);var zf=[];function $f(a){L(a.g,function(d,f){this.g.hasOwnProperty(f)&&Iu(d)},a),a.g={}}di.prototype.N=function(){di.aa.N.call(this),$f(this)},di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ku=l.JSON.stringify,Fw=l.JSON.parse,Uw=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Nu(){}Nu.prototype.h=null;function qf(a){return a.h||(a.h=a.i())}function Wf(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ru(){De.call(this,"d")}T(Ru,De);function Pu(){De.call(this,"c")}T(Pu,De);var Ir={},Hf=null;function Go(){return Hf=Hf||new rt}Ir.La="serverreachability";function Qf(a){De.call(this,Ir.La,a)}T(Qf,De);function fi(a){const d=Go();mt(d,new Qf(d))}Ir.STAT_EVENT="statevent";function Kf(a,d){De.call(this,Ir.STAT_EVENT,a),this.stat=d}T(Kf,De);function gt(a){const d=Go();mt(d,new Kf(d,a))}Ir.Ma="timingevent";function Gf(a,d){De.call(this,Ir.Ma,a),this.size=d}T(Gf,De);function pi(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function mi(){this.g=!0}mi.prototype.xa=function(){this.g=!1};function Bw(a,d,f,_,D,b){a.info(function(){if(a.g)if(b)for(var z="",ve=b.split("&"),Ge=0;Ge<ve.length;Ge++){var de=ve[Ge].split("=");if(1<de.length){var st=de[0];de=de[1];var it=st.split("_");z=2<=it.length&&it[1]=="type"?z+(st+"="+de+"&"):z+(st+"=redacted&")}}else z=null;else z=b;return"XMLHTTP REQ ("+_+") [attempt "+D+"]: "+d+`
`+f+`
`+z})}function zw(a,d,f,_,D,b,z){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+D+"]: "+d+`
`+f+`
`+b+" "+z})}function rs(a,d,f,_){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+qw(a,f)+(_?" "+_:"")})}function $w(a,d){a.info(function(){return"TIMEOUT: "+d})}mi.prototype.info=function(){};function qw(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var _=f[a];if(!(2>_.length)){var D=_[1];if(Array.isArray(D)&&!(1>D.length)){var b=D[0];if(b!="noop"&&b!="stop"&&b!="close")for(var z=1;z<D.length;z++)D[z]=""}}}}return ku(f)}catch{return d}}var Yo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ju;function Zo(){}T(Zo,Nu),Zo.prototype.g=function(){return new XMLHttpRequest},Zo.prototype.i=function(){return{}},ju=new Zo;function Un(a,d,f,_){this.j=a,this.i=d,this.l=f,this.R=_||1,this.U=new di(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zf}function Zf(){this.i=null,this.g="",this.h=!1}var Xf={},Du={};function Vu(a,d,f){a.L=1,a.v=ta(wn(d)),a.m=f,a.P=!0,Jf(a,null)}function Jf(a,d){a.F=Date.now(),Xo(a),a.A=wn(a.v);var f=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),fp(f.i,"t",_),a.C=0,f=a.j.J,a.h=new Zf,a.g=Pp(a.j,f?d:null,!a.m),0<a.O&&(a.M=new Lw(g(a.Y,a,a.g),a.O)),d=a.U,f=a.g,_=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(zf[0]=D.toString()),D=zf);for(var b=0;b<D.length;b++){var z=bf(f,D[b],_||d.handleEvent,!1,d.h||d);if(!z)break;d.g[z.key]=z}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),fi(),Bw(a.i,a.u,a.A,a.l,a.R,a.m)}Un.prototype.ca=function(a){a=a.target;const d=this.M;d&&En(a)==3?d.j():this.Y(a)},Un.prototype.Y=function(a){try{if(a==this.g)e:{const it=En(this.g);var d=this.g.Ba();const os=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||wp(this.g)))){this.J||it!=4||d==7||(d==8||0>=os?fi(3):fi(2)),Ou(this);var f=this.g.Z();this.X=f;t:if(ep(this)){var _=wp(this.g);a="";var D=_.length,b=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),gi(this);var z="";break t}this.h.i=new l.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(_[d],{stream:!(b&&d==D-1)});_.length=0,this.h.g+=a,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=f==200,zw(this.i,this.u,this.A,this.l,this.R,it,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,Ge=this.g;if((ve=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ve)){var de=ve;break t}}de=null}if(f=de)rs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bu(this,f);else{this.o=!1,this.s=3,gt(12),Ar(this),gi(this);break e}}if(this.P){f=!0;let Kt;for(;!this.J&&this.C<z.length;)if(Kt=Ww(this,z),Kt==Du){it==4&&(this.s=4,gt(14),f=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Xf){this.s=4,gt(15),rs(this.i,this.l,z,"[Invalid Chunk]"),f=!1;break}else rs(this.i,this.l,Kt,null),bu(this,Kt);if(ep(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||z.length!=0||this.h.h||(this.s=1,gt(16),f=!1),this.o=this.o&&f,!f)rs(this.i,this.l,z,"[Invalid Chunked Response]"),Ar(this),gi(this);else if(0<z.length&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.ba&&!st.M&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),zu(st),st.M=!0,gt(11))}}else rs(this.i,this.l,z,null),bu(this,z);it==4&&Ar(this),this.o&&!this.J&&(it==4?Cp(this.j,this):(this.o=!1,Xo(this)))}else lE(this.g),f==400&&0<z.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Ar(this),gi(this)}}}catch{}finally{}};function ep(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Ww(a,d){var f=a.C,_=d.indexOf(`
`,f);return _==-1?Du:(f=Number(d.substring(f,_)),isNaN(f)?Xf:(_+=1,_+f>d.length?Du:(d=d.slice(_,_+f),a.C=_+f,d)))}Un.prototype.cancel=function(){this.J=!0,Ar(this)};function Xo(a){a.S=Date.now()+a.I,tp(a,a.I)}function tp(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=pi(g(a.ba,a),d)}function Ou(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Un.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?($w(this.i,this.A),this.L!=2&&(fi(),gt(17)),Ar(this),this.s=2,gi(this)):tp(this,this.S-a)};function gi(a){a.j.G==0||a.J||Cp(a.j,a)}function Ar(a){Ou(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,$f(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function bu(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||Mu(f.h,a))){if(!a.K&&Mu(f.h,a)&&f.G==3){try{var _=f.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var D=_;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)aa(f),ia(f);else break e;Bu(f),gt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=pi(g(f.Za,f),6e3));if(1>=sp(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else kr(f,11)}else if((a.K||f.g==a)&&aa(f),!y(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let de=D[d];if(f.T=de[0],de=de[1],f.G==2)if(de[0]=="c"){f.K=de[1],f.ia=de[2];const st=de[3];st!=null&&(f.la=st,f.j.info("VER="+f.la));const it=de[4];it!=null&&(f.Aa=it,f.j.info("SVER="+f.Aa));const os=de[5];os!=null&&typeof os=="number"&&0<os&&(_=1.5*os,f.L=_,f.j.info("backChannelRequestTimeoutMs_="+_)),_=f;const Kt=a.g;if(Kt){const ua=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ua){var b=_.h;b.g||ua.indexOf("spdy")==-1&&ua.indexOf("quic")==-1&&ua.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(Lu(b,b.h),b.h=null))}if(_.D){const $u=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;$u&&(_.ya=$u,Ee(_.I,_.D,$u))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),_=f;var z=a;if(_.qa=Rp(_,_.J?_.ia:null,_.W),z.K){ip(_.h,z);var ve=z,Ge=_.L;Ge&&(ve.I=Ge),ve.B&&(Ou(ve),Xo(ve)),_.g=z}else Ip(_);0<f.i.length&&oa(f)}else de[0]!="stop"&&de[0]!="close"||kr(f,7);else f.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?kr(f,7):Uu(f):de[0]!="noop"&&f.l&&f.l.ta(de),f.v=0)}}fi(4)}catch{}}var Hw=class{constructor(a,d){this.g=a,this.map=d}};function np(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rp(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function sp(a){return a.h?1:a.g?a.g.size:0}function Mu(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Lu(a,d){a.g?a.g.add(d):a.h=d}function ip(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}np.prototype.cancel=function(){if(this.i=op(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function op(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const f of a.g.values())d=d.concat(f.D);return d}return w(a.i)}function Qw(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,_=0;_<f;_++)d.push(a[_]);return d}d=[],f=0;for(_ in a)d[f++]=a[_];return d}function Kw(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(const _ in a)d[f++]=_;return d}}}function ap(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=Kw(a),_=Qw(a),D=_.length,b=0;b<D;b++)d.call(void 0,_[b],f&&f[b],a)}var lp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gw(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var _=a[f].indexOf("="),D=null;if(0<=_){var b=a[f].substring(0,_);D=a[f].substring(_+1)}else b=a[f];d(b,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Cr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Cr){this.h=a.h,Jo(this,a.j),this.o=a.o,this.g=a.g,ea(this,a.s),this.l=a.l;var d=a.i,f=new _i;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),up(this,f),this.m=a.m}else a&&(d=String(a).match(lp))?(this.h=!1,Jo(this,d[1]||"",!0),this.o=yi(d[2]||""),this.g=yi(d[3]||"",!0),ea(this,d[4]),this.l=yi(d[5]||"",!0),up(this,d[6]||"",!0),this.m=yi(d[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}Cr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(vi(d,cp,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(vi(d,cp,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(vi(f,f.charAt(0)=="/"?Xw:Zw,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",vi(f,eE)),a.join("")};function wn(a){return new Cr(a)}function Jo(a,d,f){a.j=f?yi(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function ea(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function up(a,d,f){d instanceof _i?(a.i=d,tE(a.i,a.h)):(f||(d=vi(d,Jw)),a.i=new _i(d,a.h))}function Ee(a,d,f){a.i.set(d,f)}function ta(a){return Ee(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function yi(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function vi(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,Yw),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Yw(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var cp=/[#\/\?@]/g,Zw=/[#\?:]/g,Xw=/[#\?]/g,Jw=/[#\?@]/g,eE=/#/g;function _i(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Bn(a){a.g||(a.g=new Map,a.h=0,a.i&&Gw(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=_i.prototype,t.add=function(a,d){Bn(this),this.i=null,a=ss(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function dp(a,d){Bn(a),d=ss(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function hp(a,d){return Bn(a),d=ss(a,d),a.g.has(d)}t.forEach=function(a,d){Bn(this),this.g.forEach(function(f,_){f.forEach(function(D){a.call(d,D,_,this)},this)},this)},t.na=function(){Bn(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let _=0;_<d.length;_++){const D=a[_];for(let b=0;b<D.length;b++)f.push(d[_])}return f},t.V=function(a){Bn(this);let d=[];if(typeof a=="string")hp(this,a)&&(d=d.concat(this.g.get(ss(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return Bn(this),this.i=null,a=ss(this,a),hp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function fp(a,d,f){dp(a,d),0<f.length&&(a.i=null,a.g.set(ss(a,d),w(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var _=d[f];const b=encodeURIComponent(String(_)),z=this.V(_);for(_=0;_<z.length;_++){var D=b;z[_]!==""&&(D+="="+encodeURIComponent(String(z[_]))),a.push(D)}}return this.i=a.join("&")};function ss(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function tE(a,d){d&&!a.j&&(Bn(a),a.i=null,a.g.forEach(function(f,_){var D=_.toLowerCase();_!=D&&(dp(this,_),fp(this,D,f))},a)),a.j=d}function nE(a,d){const f=new mi;if(l.Image){const _=new Image;_.onload=E(zn,f,"TestLoadImage: loaded",!0,d,_),_.onerror=E(zn,f,"TestLoadImage: error",!1,d,_),_.onabort=E(zn,f,"TestLoadImage: abort",!1,d,_),_.ontimeout=E(zn,f,"TestLoadImage: timeout",!1,d,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else d(!1)}function rE(a,d){const f=new mi,_=new AbortController,D=setTimeout(()=>{_.abort(),zn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:_.signal}).then(b=>{clearTimeout(D),b.ok?zn(f,"TestPingServer: ok",!0,d):zn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),zn(f,"TestPingServer: error",!1,d)})}function zn(a,d,f,_,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),_(f)}catch{}}function sE(){this.g=new Uw}function iE(a,d,f){const _=f||"";try{ap(a,function(D,b){let z=D;h(D)&&(z=ku(D)),d.push(_+b+"="+encodeURIComponent(z))})}catch(D){throw d.push(_+"type="+encodeURIComponent("_badmap")),D}}function na(a){this.l=a.Ub||null,this.j=a.eb||!1}T(na,Nu),na.prototype.g=function(){return new ra(this.l,this.j)},na.prototype.i=function(a){return function(){return a}}({});function ra(a,d){rt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(ra,rt),t=ra.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Ei(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function pp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?wi(this):Ei(this),this.readyState==3&&pp(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,wi(this))},t.Qa=function(a){this.g&&(this.response=a,wi(this))},t.ga=function(){this.g&&wi(this)};function wi(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ei(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Ei(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function mp(a){let d="";return L(a,function(f,_){d+=_,d+=":",d+=f,d+=`\r
`}),d}function Fu(a,d,f){e:{for(_ in f){var _=!1;break e}_=!0}_||(f=mp(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ee(a,d,f))}function Pe(a){rt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Pe,rt);var oE=/^https?$/i,aE=["POST","PUT"];t=Pe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ju.g(),this.v=this.o?qf(this.o):qf(ju),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(b){gp(this,b);return}if(a=f||"",f=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var D in _)f.set(D,_[D]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const b of _.keys())f.set(b,_.get(b));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(f.keys()).find(b=>b.toLowerCase()=="content-type"),D=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(aE,d,void 0))||_||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,z]of f)this.g.setRequestHeader(b,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_p(this),this.u=!0,this.g.send(a),this.u=!1}catch(b){gp(this,b)}};function gp(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,yp(a),sa(a)}function yp(a){a.A||(a.A=!0,mt(a,"complete"),mt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,mt(this,"complete"),mt(this,"abort"),sa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sa(this,!0)),Pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vp(this):this.bb())},t.bb=function(){vp(this)};function vp(a){if(a.h&&typeof o<"u"&&(!a.v[1]||En(a)!=4||a.Z()!=2)){if(a.u&&En(a)==4)Uf(a.Ea,0,a);else if(mt(a,"readystatechange"),En(a)==4){a.h=!1;try{const z=a.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var _;if(_=z===0){var D=String(a.D).match(lp)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),_=!oE.test(D?D.toLowerCase():"")}f=_}if(f)mt(a,"complete"),mt(a,"success");else{a.m=6;try{var b=2<En(a)?a.g.statusText:""}catch{b=""}a.l=b+" ["+a.Z()+"]",yp(a)}}finally{sa(a)}}}}function sa(a,d){if(a.g){_p(a);const f=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||mt(a,"ready");try{f.onreadystatechange=_}catch{}}}function _p(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function En(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Fw(d)}};function wp(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function lE(a){const d={};a=(a.g&&2<=En(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(y(a[_]))continue;var f=P(a[_]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const b=d[D]||[];d[D]=b,b.push(f)}I(d,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function Ep(a){this.Aa=0,this.i=[],this.j=new mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xi("baseRetryDelayMs",5e3,a),this.cb=xi("retryDelaySeedMs",1e4,a),this.Wa=xi("forwardChannelMaxRetries",2,a),this.wa=xi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new np(a&&a.concurrentRequestLimit),this.Da=new sE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ep.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,_){gt(0),this.W=a,this.H=d||{},f&&_!==void 0&&(this.H.OSID=f,this.H.OAID=_),this.F=this.X,this.I=Rp(this,null,this.W),oa(this)};function Uu(a){if(xp(a),a.G==3){var d=a.U++,f=wn(a.I);if(Ee(f,"SID",a.K),Ee(f,"RID",d),Ee(f,"TYPE","terminate"),Ti(a,f),d=new Un(a,a.j,d),d.L=2,d.v=ta(wn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=d.v,f=!0),f||(d.g=Pp(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Xo(d)}Np(a)}function ia(a){a.g&&(zu(a),a.g.cancel(),a.g=null)}function xp(a){ia(a),a.u&&(l.clearTimeout(a.u),a.u=null),aa(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function oa(a){if(!rp(a.h)&&!a.s){a.s=!0;var d=a.Ga;Qt||re(),$||(Qt(),$=!0),Z.add(d,a),a.B=0}}function uE(a,d){return sp(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=pi(g(a.Ga,a,d),kp(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const D=new Un(this,this.j,a);let b=this.o;if(this.S&&(b?(b=v(b),C(b,this.S)):b=this.S),this.m!==null||this.O||(D.H=b,b=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var _=this.i[f];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Sp(this,D,d),f=wn(this.I),Ee(f,"RID",a),Ee(f,"CVER",22),this.D&&Ee(f,"X-HTTP-Session-Id",this.D),Ti(this,f),b&&(this.O?d="headers="+encodeURIComponent(String(mp(b)))+"&"+d:this.m&&Fu(f,this.m,b)),Lu(this.h,D),this.Ua&&Ee(f,"TYPE","init"),this.P?(Ee(f,"$req",d),Ee(f,"SID","null"),D.T=!0,Vu(D,f,null)):Vu(D,f,d),this.G=2}}else this.G==3&&(a?Tp(this,a):this.i.length==0||rp(this.h)||Tp(this))};function Tp(a,d){var f;d?f=d.l:f=a.U++;const _=wn(a.I);Ee(_,"SID",a.K),Ee(_,"RID",f),Ee(_,"AID",a.T),Ti(a,_),a.m&&a.o&&Fu(_,a.m,a.o),f=new Un(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Sp(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Lu(a.h,f),Vu(f,_,d)}function Ti(a,d){a.H&&L(a.H,function(f,_){Ee(d,_,f)}),a.l&&ap({},function(f,_){Ee(d,_,f)})}function Sp(a,d,f){f=Math.min(a.i.length,f);var _=a.l?g(a.l.Na,a.l,a):null;e:{var D=a.i;let b=-1;for(;;){const z=["count="+f];b==-1?0<f?(b=D[0].g,z.push("ofs="+b)):b=0:z.push("ofs="+b);let ve=!0;for(let Ge=0;Ge<f;Ge++){let de=D[Ge].g;const st=D[Ge].map;if(de-=b,0>de)b=Math.max(0,D[Ge].g-100),ve=!1;else try{iE(st,z,"req"+de+"_")}catch{_&&_(st)}}if(ve){_=z.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,_}function Ip(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Qt||re(),$||(Qt(),$=!0),Z.add(d,a),a.v=0}}function Bu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=pi(g(a.Fa,a),kp(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Ap(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=pi(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),ia(this),Ap(this))};function zu(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Ap(a){a.g=new Un(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=wn(a.qa);Ee(d,"RID","rpc"),Ee(d,"SID",a.K),Ee(d,"AID",a.T),Ee(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ee(d,"TO",a.ja),Ee(d,"TYPE","xmlhttp"),Ti(a,d),a.m&&a.o&&Fu(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=ta(wn(d)),f.m=null,f.P=!0,Jf(f,a)}t.Za=function(){this.C!=null&&(this.C=null,ia(this),Bu(this),gt(19))};function aa(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Cp(a,d){var f=null;if(a.g==d){aa(a),zu(a),a.g=null;var _=2}else if(Mu(a.h,d))f=d.D,ip(a.h,d),_=1;else return;if(a.G!=0){if(d.o)if(_==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;_=Go(),mt(_,new Gf(_,f)),oa(a)}else Ip(a);else if(D=d.s,D==3||D==0&&0<d.X||!(_==1&&uE(a,d)||_==2&&Bu(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),D){case 1:kr(a,5);break;case 4:kr(a,10);break;case 3:kr(a,6);break;default:kr(a,2)}}}function kp(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function kr(a,d){if(a.j.info("Error code "+d),d==2){var f=g(a.fb,a),_=a.Xa;const D=!_;_=new Cr(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Jo(_,"https"),ta(_),D?nE(_.toString(),f):rE(_.toString(),f)}else gt(2);a.G=0,a.l&&a.l.sa(d),Np(a),xp(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Np(a){if(a.G=0,a.ka=[],a.l){const d=op(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,w(a.i),a.i.length=0),a.l.ra()}}function Rp(a,d,f){var _=f instanceof Cr?wn(f):new Cr(f);if(_.g!="")d&&(_.g=d+"."+_.g),ea(_,_.s);else{var D=l.location;_=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var b=new Cr(null);_&&Jo(b,_),d&&(b.g=d),D&&ea(b,D),f&&(b.l=f),_=b}return f=a.D,d=a.ya,f&&d&&Ee(_,f,d),Ee(_,"VER",a.la),Ti(a,_),_}function Pp(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Pe(new na({eb:f})):new Pe(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jp(){}t=jp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function la(){}la.prototype.g=function(a,d){return new kt(a,d)};function kt(a,d){rt.call(this),this.g=new Ep(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!y(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!y(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new is(this)}T(kt,rt),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Uu(this.g)},kt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=ku(a),a=f);d.i.push(new Hw(d.Ya++,a)),d.G==3&&oa(d)},kt.prototype.N=function(){this.g.l=null,delete this.j,Uu(this.g),delete this.g,kt.aa.N.call(this)};function Dp(a){Ru.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}T(Dp,Ru);function Vp(){Pu.call(this),this.status=1}T(Vp,Pu);function is(a){this.g=a}T(is,jp),is.prototype.ua=function(){mt(this.g,"a")},is.prototype.ta=function(a){mt(this.g,new Dp(a))},is.prototype.sa=function(a){mt(this.g,new Vp)},is.prototype.ra=function(){mt(this.g,"b")},la.prototype.createWebChannel=la.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,X_=function(){return new la},Z_=function(){return Go()},Y_=Ir,Ad={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yo.NO_ERROR=0,Yo.TIMEOUT=8,Yo.HTTP_ERROR=6,qa=Yo,Yf.COMPLETE="complete",G_=Yf,Wf.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Mi=Wf,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,K_=Pe}).apply(typeof Ca<"u"?Ca:typeof self<"u"?self:typeof window<"u"?window:{});const ug="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ai="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new B_("@firebase/firestore");function ji(){return Kr.logLevel}function Q(t,...e){if(Kr.logLevel<=le.DEBUG){const n=e.map(Qh);Kr.debug(`Firestore (${ai}): ${t}`,...n)}}function Vn(t,...e){if(Kr.logLevel<=le.ERROR){const n=e.map(Qh);Kr.error(`Firestore (${ai}): ${t}`,...n)}}function Bs(t,...e){if(Kr.logLevel<=le.WARN){const n=e.map(Qh);Kr.warn(`Firestore (${ai}): ${t}`,...n)}}function Qh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${ai}) INTERNAL ASSERTION FAILED: `+t;throw Vn(e),new Error(e)}function ge(t,e){t||X()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class pI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mI{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Cn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Cn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string"),new J_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string"),new ut(e)}}class gI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _I{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ge(this.o===void 0);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string"),this.R=n.token,new vI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=wI(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function zs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.timestamp=e}static fromTimestamp(e){return new J(e)}static min(){return new J(new $e(0,0))}static max(){return new J(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return To.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof To?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends To{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const EI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends To{construct(e,n,r){return new Xe(e,n,r)}static isValidIdentifier(e){return EI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xe(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new W(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new W(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Te.fromString(e))}static fromName(e){return new Y(Te.fromString(e).popFirst(5))}static empty(){return new Y(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Te(e.slice()))}}function xI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=J.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new pr(s,Y.empty(),e)}function TI(t){return new pr(t.readTime,t.key,-1)}class pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pr(J.min(),Y.empty(),-1)}static max(){return new pr(J.max(),Y.empty(),-1)}}function SI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==II)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next(p=>{o[h]=p,++l,l===i&&r(o)},p=>s(p))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function CI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kh.oe=-1;function tu(t){return t==null}function xl(t){return t===0&&1/t==-1/0}function kI(t){return typeof t=="number"&&Number.isInteger(t)&&!xl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function t0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||Ze.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ka(this.root,e,this.comparator,!0)}}class ka{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ze{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ze.RED,this.left=s??Ze.EMPTY,this.right=i??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ze(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ze.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ze(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dg(this.data.getIterator())}getIteratorFrom(e){return new dg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new et(this.comparator);return n.data=e,n}}class dg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new Pt([])}unionWith(e){let n=new et(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new n0("Invalid base64 string: "+i):i}}(e);return new nt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nt.EMPTY_BYTE_STRING=new nt("");const NI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(t){if(ge(!!t),typeof t=="string"){let e=0;const n=NI.exec(t);if(ge(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gr(t){return typeof t=="string"?nt.fromBase64String(t):nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yh(t){const e=t.mapValue.fields.__previous_value__;return Gh(e)?Yh(e):e}function So(t){const e=mr(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r,s,i,o,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class Io{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Io("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na={mapValue:{}};function Yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gh(t)?4:jI(t)?9007199254740991:PI(t)?10:11:X()}function pn(t,e){if(t===e)return!0;const n=Yr(t);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return So(t).isEqual(So(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=mr(s.timestampValue),l=mr(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Gr(s.bytesValue).isEqual(Gr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ve(s.geoPointValue.latitude)===Ve(i.geoPointValue.latitude)&&Ve(s.geoPointValue.longitude)===Ve(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ve(s.integerValue)===Ve(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ve(s.doubleValue),l=Ve(i.doubleValue);return o===l?xl(o)===xl(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return zs(t.arrayValue.values||[],e.arrayValue.values||[],pn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(cg(o)!==cg(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!pn(o[u],l[u])))return!1;return!0}(t,e);default:return X()}}function Ao(t,e){return(t.values||[]).find(n=>pn(n,e))!==void 0}function $s(t,e){if(t===e)return 0;const n=Yr(t),r=Yr(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Ve(i.integerValue||i.doubleValue),u=Ve(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return hg(t.timestampValue,e.timestampValue);case 4:return hg(So(t),So(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Gr(i),u=Gr(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const p=he(l[h],u[h]);if(p!==0)return p}return he(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=he(Ve(i.latitude),Ve(o.latitude));return l!==0?l:he(Ve(i.longitude),Ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fg(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,u,h,p;const m=i.fields||{},g=o.fields||{},E=(l=m.value)===null||l===void 0?void 0:l.arrayValue,T=(u=g.value)===null||u===void 0?void 0:u.arrayValue,w=he(((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:fg(E,T)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Na.mapValue&&o===Na.mapValue)return 0;if(i===Na.mapValue)return 1;if(o===Na.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),h=o.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const g=he(u[m],p[m]);if(g!==0)return g;const E=$s(l[u[m]],h[p[m]]);if(E!==0)return E}return he(u.length,p.length)}(t.mapValue,e.mapValue);default:throw X()}}function hg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=mr(t),r=mr(e),s=he(n.seconds,r.seconds);return s!==0?s:he(n.nanos,r.nanos)}function fg(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=$s(n[s],r[s]);if(i)return i}return he(n.length,r.length)}function qs(t){return Cd(t)}function Cd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Cd(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Cd(n.fields[o])}`;return s+"}"}(t.mapValue):X()}function pg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kd(t){return!!t&&"integerValue"in t}function Zh(t){return!!t&&"arrayValue"in t}function mg(t){return!!t&&"nullValue"in t}function gg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wa(t){return!!t&&"mapValue"in t}function PI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Zi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.value=e}static empty(){return new xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zi(n)}setAll(e){let n=Xe.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Zi(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Wa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Wa(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ts(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new xt(Zi(this.value))}}function r0(t){const e=[];return ts(t.fields,(n,r)=>{const s=new Xe([n]);if(Wa(r)){const i=r0(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Pt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ht(e,0,J.min(),J.min(),J.min(),xt.empty(),0)}static newFoundDocument(e,n,r,s){return new ht(e,1,n,J.min(),r,s,0)}static newNoDocument(e,n){return new ht(e,2,n,J.min(),J.min(),xt.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,J.min(),J.min(),xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.position=e,this.inclusive=n}}function yg(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=$s(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function vg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n="asc"){this.field=e,this.dir=n}}function DI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0=class{};class Fe extends s0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OI(e,n,r):n==="array-contains"?new LI(e,r):n==="in"?new FI(e,r):n==="not-in"?new UI(e,r):n==="array-contains-any"?new BI(e,r):new Fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bI(e,r):new MI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($s(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison($s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nn extends s0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nn(e,n)}matches(e){return i0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function i0(t){return t.op==="and"}function o0(t){return VI(t)&&i0(t)}function VI(t){for(const e of t.filters)if(e instanceof nn)return!1;return!0}function Nd(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+qs(t.value);if(o0(t))return t.filters.map(e=>Nd(e)).join(",");{const e=t.filters.map(n=>Nd(n)).join(",");return`${t.op}(${e})`}}function a0(t,e){return t instanceof Fe?function(r,s){return s instanceof Fe&&r.op===s.op&&r.field.isEqual(s.field)&&pn(r.value,s.value)}(t,e):t instanceof nn?function(r,s){return s instanceof nn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&a0(o,s.filters[l]),!0):!1}(t,e):void X()}function l0(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${qs(n.value)}`}(t):t instanceof nn?function(n){return n.op.toString()+" {"+n.getFilters().map(l0).join(" ,")+"}"}(t):"Filter"}class OI extends Fe{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class bI extends Fe{constructor(e,n){super(e,"in",n),this.keys=u0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MI extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=u0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function u0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class LI extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zh(n)&&Ao(n.arrayValue,this.value)}}class FI extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ao(this.value.arrayValue,n)}}class UI extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ao(this.value.arrayValue,n)}}class BI extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ao(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function _g(t,e=null,n=[],r=[],s=null,i=null,o=null){return new zI(t,e,n,r,s,i,o)}function Xh(t){const e=ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Nd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qs(r)).join(",")),e.ue=n}return e.ue}function Jh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!a0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vg(t.startAt,e.startAt)&&vg(t.endAt,e.endAt)}function Rd(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $I(t,e,n,r,s,i,o,l){return new li(t,e,n,r,s,i,o,l)}function nu(t){return new li(t)}function wg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function c0(t){return t.collectionGroup!==null}function Xi(t){const e=ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new et(Xe.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Co(i,r))}),n.has(Xe.keyField().canonicalString())||e.ce.push(new Co(Xe.keyField(),r))}return e.ce}function cn(t){const e=ne(t);return e.le||(e.le=qI(e,Xi(t))),e.le}function qI(t,e){if(t.limitType==="F")return _g(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Co(s.field,i)});const n=t.endAt?new Tl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tl(t.startAt.position,t.startAt.inclusive):null;return _g(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pd(t,e){const n=t.filters.concat([e]);return new li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jd(t,e,n){return new li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ru(t,e){return Jh(cn(t),cn(e))&&t.limitType===e.limitType}function d0(t){return`${Xh(cn(t))}|lt:${t.limitType}`}function ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>l0(s)).join(", ")}]`),tu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>qs(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>qs(s)).join(",")),`Target(${r})`}(cn(t))}; limitType=${t.limitType})`}function su(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Xi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const h=yg(o,l,u);return o.inclusive?h<=0:h<0}(r.startAt,Xi(r),s)||r.endAt&&!function(o,l,u){const h=yg(o,l,u);return o.inclusive?h>=0:h>0}(r.endAt,Xi(r),s))}(t,e)}function WI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function h0(t){return(e,n)=>{let r=!1;for(const s of Xi(t)){const i=HI(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function HI(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),h=l.data.field(i);return u!==null&&h!==null?$s(u,h):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return t0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new Re(Y.comparator);function On(){return QI}const f0=new Re(Y.comparator);function Li(...t){let e=f0;for(const n of t)e=e.insert(n.key,n);return e}function p0(t){let e=f0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function br(){return Ji()}function m0(){return Ji()}function Ji(){return new ui(t=>t.toString(),(t,e)=>t.isEqual(e))}const KI=new Re(Y.comparator),GI=new et(Y.comparator);function oe(...t){let e=GI;for(const n of t)e=e.add(n);return e}const YI=new et(he);function ZI(){return YI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xl(e)?"-0":e}}function g0(t){return{integerValue:""+t}}function XI(t,e){return kI(e)?g0(e):ef(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this._=void 0}}function JI(t,e,n){return t instanceof Sl?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Gh(i)&&(i=Yh(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof ko?v0(t,e):t instanceof No?_0(t,e):function(s,i){const o=y0(s,i),l=Eg(o)+Eg(s.Pe);return kd(o)&&kd(s.Pe)?g0(l):ef(s.serializer,l)}(t,e)}function eA(t,e,n){return t instanceof ko?v0(t,e):t instanceof No?_0(t,e):n}function y0(t,e){return t instanceof Il?function(r){return kd(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Sl extends iu{}class ko extends iu{constructor(e){super(),this.elements=e}}function v0(t,e){const n=w0(e);for(const r of t.elements)n.some(s=>pn(s,r))||n.push(r);return{arrayValue:{values:n}}}class No extends iu{constructor(e){super(),this.elements=e}}function _0(t,e){let n=w0(e);for(const r of t.elements)n=n.filter(s=>!pn(s,r));return{arrayValue:{values:n}}}class Il extends iu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Eg(t){return Ve(t.integerValue||t.doubleValue)}function w0(t){return Zh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tA(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ko&&s instanceof ko||r instanceof No&&s instanceof No?zs(r.elements,s.elements,pn):r instanceof Il&&s instanceof Il?pn(r.Pe,s.Pe):r instanceof Sl&&s instanceof Sl}(t.transform,e.transform)}class nA{constructor(e,n){this.version=e,this.transformResults=n}}class zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zt}static exists(e){return new zt(void 0,e)}static updateTime(e){return new zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ha(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ou{}function E0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tf(t.key,zt.none()):new Bo(t.key,t.data,zt.none());{const n=t.data,r=xt.empty();let s=new et(Xe.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new xr(t.key,r,new Pt(s.toArray()),zt.none())}}function rA(t,e,n){t instanceof Bo?function(s,i,o){const l=s.value.clone(),u=Tg(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof xr?function(s,i,o){if(!Ha(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Tg(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(x0(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function eo(t,e,n,r){return t instanceof Bo?function(i,o,l,u){if(!Ha(i.precondition,o))return l;const h=i.value.clone(),p=Sg(i.fieldTransforms,u,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof xr?function(i,o,l,u){if(!Ha(i.precondition,o))return l;const h=Sg(i.fieldTransforms,u,o),p=o.data;return p.setAll(x0(i)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,l){return Ha(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function sA(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=y0(r.transform,s||null);i!=null&&(n===null&&(n=xt.empty()),n.set(r.field,i))}return n||null}function xg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zs(r,s,(i,o)=>tA(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bo extends ou{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xr extends ou{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function x0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Tg(t,e,n){const r=new Map;ge(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,eA(o,l,n[s]))}return r}function Sg(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,JI(i,o,e))}return r}class tf extends ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iA extends ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&rA(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=m0();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=E0(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,r)=>xg(n,r))&&zs(this.baseMutations,e.baseMutations,(n,r)=>xg(n,r))}}class nf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ge(e.mutations.length===r.length);let s=function(){return KI}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new nf(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,ae;function uA(t){switch(t){default:return X();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function T0(t){if(t===void 0)return Vn("GRPC error has no .code"),M.UNKNOWN;switch(t){case be.OK:return M.OK;case be.CANCELLED:return M.CANCELLED;case be.UNKNOWN:return M.UNKNOWN;case be.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case be.INTERNAL:return M.INTERNAL;case be.UNAVAILABLE:return M.UNAVAILABLE;case be.UNAUTHENTICATED:return M.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case be.NOT_FOUND:return M.NOT_FOUND;case be.ALREADY_EXISTS:return M.ALREADY_EXISTS;case be.PERMISSION_DENIED:return M.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case be.ABORTED:return M.ABORTED;case be.OUT_OF_RANGE:return M.OUT_OF_RANGE;case be.UNIMPLEMENTED:return M.UNIMPLEMENTED;case be.DATA_LOSS:return M.DATA_LOSS;default:return X()}}(ae=be||(be={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new Ur([4294967295,4294967295],0);function Ig(t){const e=cA().encode(t),n=new Q_;return n.update(e),new Uint8Array(n.digest())}function Ag(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ur([n,r],0),new Ur([s,i],0)]}class rf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fi(`Invalid padding: ${n}`);if(r<0)throw new Fi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ur.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Ur.fromNumber(r)));return s.compare(dA)===1&&(s=new Ur([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Ig(e),[r,s]=Ag(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new rf(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Ig(e),[r,s]=Ag(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,zo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new au(J.min(),s,new Re(he),On(),oe())}}class zo{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zo(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class S0{constructor(e,n){this.targetId=e,this.me=n}}class I0{constructor(e,n,r=nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Cg{constructor(){this.fe=0,this.ge=Ng(),this.pe=nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=oe(),n=oe(),r=oe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:X()}}),new zo(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Ng()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hA{constructor(e){this.Le=e,this.Be=new Map,this.ke=On(),this.qe=kg(),this.Qe=new Re(he)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Rd(i))if(r===0){const o=new Y(i.path);this.Ue(n,o,ht.newNoDocument(o,J.min()))}else ge(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Gr(r).toUint8Array()}catch(u){if(u instanceof n0)return Bs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new rf(o,s,i)}catch(u){return Bs(u instanceof Fi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&Rd(l.target)){const u=new Y(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,ht.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=oe();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new au(e,n,this.Qe,this.ke,r);return this.ke=On(),this.qe=kg(),this.Qe=new Re(he),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Cg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new et(he),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Cg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function kg(){return new Re(Y.comparator)}function Ng(){return new Re(Y.comparator)}const fA={asc:"ASCENDING",desc:"DESCENDING"},pA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mA={and:"AND",or:"OR"};class gA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dd(t,e){return t.useProto3Json||tu(e)?e:{value:e}}function Al(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yA(t,e){return Al(t,e.toTimestamp())}function dn(t){return ge(!!t),J.fromTimestamp(function(n){const r=mr(n);return new $e(r.seconds,r.nanos)}(t))}function sf(t,e){return Vd(t,e).canonicalString()}function Vd(t,e){const n=function(s){return new Te(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function C0(t){const e=Te.fromString(t);return ge(j0(e)),e}function Od(t,e){return sf(t.databaseId,e.path)}function Ec(t,e){const n=C0(e);if(n.get(1)!==t.databaseId.projectId)throw new W(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(N0(n))}function k0(t,e){return sf(t.databaseId,e)}function vA(t){const e=C0(t);return e.length===4?Te.emptyPath():N0(e)}function bd(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function N0(t){return ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rg(t,e,n){return{name:Od(t,e),fields:n.value.mapValue.fields}}function _A(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,p){return h.useProto3Json?(ge(p===void 0||typeof p=="string"),nt.fromBase64String(p||"")):(ge(p===void 0||p instanceof Buffer||p instanceof Uint8Array),nt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const p=h.code===void 0?M.UNKNOWN:T0(h.code);return new W(p,h.message||"")}(o);n=new I0(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ec(t,r.document.name),i=dn(r.document.updateTime),o=r.document.createTime?dn(r.document.createTime):J.min(),l=new xt({mapValue:{fields:r.document.fields}}),u=ht.newFoundDocument(s,i,o,l),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Qa(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ec(t,r.document),i=r.readTime?dn(r.readTime):J.min(),o=ht.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Qa([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ec(t,r.document),i=r.removedTargetIds||[];n=new Qa([],i,s,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new lA(s,i),l=r.targetId;n=new S0(l,o)}}return n}function wA(t,e){let n;if(e instanceof Bo)n={update:Rg(t,e.key,e.value)};else if(e instanceof tf)n={delete:Od(t,e.key)};else if(e instanceof xr)n={update:Rg(t,e.key,e.data),updateMask:NA(e.fieldMask)};else{if(!(e instanceof iA))return X();n={verify:Od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Sl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ko)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof No)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Il)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:yA(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:X()}(t,e.precondition)),n}function EA(t,e){return t&&t.length>0?(ge(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?dn(s.updateTime):dn(i);return o.isEqual(J.min())&&(o=dn(i)),new nA(o,s.transformResults||[])}(n,e))):[]}function xA(t,e){return{documents:[k0(t,e.path)]}}function TA(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=k0(t,s);const i=function(h){if(h.length!==0)return P0(nn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(p=>function(g){return{field:us(g.field),direction:AA(g.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Dd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:s}}function SA(t){let e=vA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ge(r===1);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=function(m){const g=R0(m);return g instanceof nn&&o0(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(T){return new Co(cs(T.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,tu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,E=m.values||[];return new Tl(E,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,E=m.values||[];return new Tl(E,g)}(n.endAt)),$I(e,s,o,i,l,"F",u,h)}function IA(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function R0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cs(n.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=cs(n.unaryFilter.field);return Fe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=cs(n.unaryFilter.field);return Fe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cs(n.unaryFilter.field);return Fe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(cs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nn.create(n.compositeFilter.filters.map(r=>R0(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function AA(t){return fA[t]}function CA(t){return pA[t]}function kA(t){return mA[t]}function us(t){return{fieldPath:t.canonicalString()}}function cs(t){return Xe.fromServerFormat(t.fieldPath)}function P0(t){return t instanceof Fe?function(n){if(n.op==="=="){if(gg(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NAN"}};if(mg(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gg(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NAN"}};if(mg(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(n.field),op:CA(n.op),value:n.value}}}(t):t instanceof nn?function(n){const r=n.getFilters().map(s=>P0(s));return r.length===1?r[0]:{compositeFilter:{op:kA(n.op),filters:r}}}(t):X()}function NA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function j0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n,r,s,i=J.min(),o=J.min(),l=nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Xn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.ct=e}}function PA(t){const e=SA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.un=new DA}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(pr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class DA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new et(Te.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new et(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ws(0)}static kn(){return new Ws(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.changes=new ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&eo(r.mutation,s,Pt.empty(),$e.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const s=br();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Li();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=br();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=On();const o=Ji(),l=function(){return Ji()}();return n.forEach((u,h)=>{const p=r.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof xr)?i=i.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),eo(p.mutation,h,p.mutation.getFieldMask(),$e.now())):o.set(h.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((h,p)=>o.set(h,p)),n.forEach((h,p)=>{var m;return l.set(h,new OA(p,(m=o.get(h))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ji();let s=new Re((o,l)=>o-l),i=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||Pt.empty();p=l.applyToLocalView(h,p),r.set(u,p);const m=(s.get(l.batchId)||oe()).add(u);s=s.insert(l.batchId,m)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,p=u.value,m=m0();p.forEach(g=>{if(!i.has(g)){const E=E0(n.get(g),r.get(g));E!==null&&m.set(g,E),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):c0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(br());let l=-1,u=i;return o.next(h=>F.forEach(h,(p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(p)?F.resolve():this.remoteDocumentCache.getEntry(e,p).next(g=>{u=u.insert(p,g)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,u,h,oe())).next(p=>({batchId:l,changes:p0(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=Li();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Li();return this.indexManager.getCollectionParents(e,i).next(l=>F.forEach(l,u=>{const h=function(m,g){return new li(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(p=>{p.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,ht.newInvalidDocument(p)))});let l=Li();return o.forEach((u,h)=>{const p=i.get(u);p!==void 0&&eo(p.mutation,h,Pt.empty(),$e.now()),su(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:dn(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:PA(s.bundledQuery),readTime:dn(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.overlays=new Re(Y.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=br();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=br(),i=n.length+1,o=new Y(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Re((h,p)=>h-p);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=i.get(h.largestBatchId);p===null&&(p=br(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=br(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,p)=>l.set(h,p)),!(l.size()>=s)););return F.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aA(n,r));let i=this.Ir.get(n);i===void 0&&(i=oe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.sessionToken=nt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this.Tr=new et(We.Er),this.dr=new et(We.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new We(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new We(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Y(new Te([])),r=new We(n,e),s=new We(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Y(new Te([])),r=new We(n,e),s=new We(n,e+1);let i=oe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new We(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class We{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||he(e.wr,n.wr)}static Ar(e,n){return he(e.wr,n.wr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new et(We.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oA(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new We(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new We(n,0),s=new We(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(he);return n.forEach(s=>{const i=new We(s,0),o=new We(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const o=new We(new Y(i),0);let l=new et(he);return this.br.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(u.wr)),!0)},o),F.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,s=>{const i=new We(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new We(n,0),s=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.Mr=e,this.docs=function(){return new Re(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=On();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ht.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=On();const o=n.path,l=new Y(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||SI(TI(p),r)<=0||(s.has(p.key)||su(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){X()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zA(this)}getSize(e){return F.resolve(this.size)}}class zA extends VA{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.persistence=e,this.Nr=new ui(n=>Xh(n),Jh),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Lr=0,this.Br=new of,this.targetCount=0,this.kr=Ws.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ws(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Kh(0),this.Kr=!1,this.Kr=!0,this.$r=new FA,this.referenceDelegate=e(this),this.Ur=new $A(this),this.indexManager=new jA,this.remoteDocumentCache=function(s){return new BA(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new RA(n),this.Gr=new MA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new UA(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new WA(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class WA extends AI{constructor(e){super(),this.currentSequenceNumber=e}}class af{constructor(e){this.persistence=e,this.Jr=new of,this.Yr=null}static Zr(e){return new af(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const s=Y.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,J.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=oe(),s=oe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new lf(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GT()?8:CI(QT())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new HA;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(ji()<=le.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(ji()<=le.DEBUG&&Q("QueryEngine","Query:",ls(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(ji()<=le.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(n))):F.resolve())}Yi(e,n){if(wg(n))return F.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=jd(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=oe(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.ts(n,l);return this.ns(n,h,o,u.readTime)?this.Yi(e,jd(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,r,s){return wg(n)||s.isEqual(J.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?F.resolve(null):(ji()<=le.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ls(n)),this.rs(e,o,n,xI(s,-1)).next(l=>l))})}ts(e,n){let r=new et(h0(e));return n.forEach((s,i)=>{su(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return ji()<=le.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",ls(n)),this.Ji.getDocumentsMatchingQuery(e,n,pr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Re(he),this._s=new ui(i=>Xh(i),Jh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bA(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function GA(t,e,n,r){return new KA(t,e,n,r)}async function D0(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=oe();for(const h of s){o.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of i){l.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:l}))})})}function YA(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,p){const m=h.batch,g=m.keys();let E=F.resolve();return g.forEach(T=>{E=E.next(()=>p.getEntry(u,T)).next(w=>{const N=h.docVersions.get(T);ge(N!==null),w.version.compareTo(N)<0&&(m.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),p.addEntry(w)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=oe();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function V0(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ZA(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((p,m)=>{const g=s.get(m);if(!g)return;l.push(n.Ur.removeMatchingKeys(i,p.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(i,p.addedDocuments,m)));let E=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(nt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),s=s.insert(m,E),function(w,N,x){return w.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,E,p)&&l.push(n.Ur.updateTargetData(i,E))});let u=On(),h=oe();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))}),l.push(XA(i,o,e.documentUpdates).next(p=>{u=p.Ps,h=p.Is})),!r.isEqual(J.min())){const p=n.Ur.getLastRemoteSnapshotVersion(i).next(m=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(p)}return F.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,h)).next(()=>u)}).then(i=>(n.os=s,i))}function XA(t,e,n){let r=oe(),s=oe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=On();return n.forEach((l,u)=>{const h=i.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Q("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function JA(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eC(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Xn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Md(t,e,n){const r=ne(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Uo(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Pg(t,e,n){const r=ne(t);let s=J.min(),i=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,p){const m=ne(u),g=m._s.get(p);return g!==void 0?F.resolve(m.os.get(g)):m.Ur.getTargetData(h,p)}(r,o,cn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:J.min(),n?i:oe())).next(l=>(tC(r,WI(e),l),{documents:l,Ts:i})))}function tC(t,e,n){let r=t.us.get(e)||J.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class jg{constructor(){this.activeTargetIds=ZI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nC{constructor(){this.so=new jg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new jg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra=null;function xc(){return Ra===null?Ra=function(){return 268435456+Math.round(2147483648*Math.random())}():Ra++,"0x"+Ra.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt="WebChannelConnection";class oC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=xc(),u=this.xo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${l}:`,u,s);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,i,o),this.No(n,u,h,s).then(p=>(Q("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw Bs("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",s),p})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ai}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=sC[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=xc();return new Promise((o,l)=>{const u=new K_;u.setWithCredentials(!0),u.listenOnce(G_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qa.NO_ERROR:const p=u.getResponseJson();Q(lt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(p)),o(p);break;case qa.TIMEOUT:Q(lt,`RPC '${e}' ${i} timed out`),l(new W(M.DEADLINE_EXCEEDED,"Request time out"));break;case qa.HTTP_ERROR:const m=u.getStatus();if(Q(lt,`RPC '${e}' ${i} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const T=function(N){const x=N.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(x)>=0?x:M.UNKNOWN}(E.status);l(new W(T,E.message))}else l(new W(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new W(M.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{Q(lt,`RPC '${e}' ${i} completed.`)}});const h=JSON.stringify(s);Q(lt,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",h,r,15)})}Bo(e,n,r){const s=xc(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=X_(),l=Z_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=i.join("");Q(lt,`Creating RPC '${e}' stream ${s}: ${p}`,u);const m=o.createWebChannel(p,u);let g=!1,E=!1;const T=new iC({Io:N=>{E?Q(lt,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(g||(Q(lt,`Opening RPC '${e}' stream ${s} transport.`),m.open(),g=!0),Q(lt,`RPC '${e}' stream ${s} sending:`,N),m.send(N))},To:()=>m.close()}),w=(N,x,y)=>{N.listen(x,S=>{try{y(S)}catch(j){setTimeout(()=>{throw j},0)}})};return w(m,Mi.EventType.OPEN,()=>{E||(Q(lt,`RPC '${e}' stream ${s} transport opened.`),T.yo())}),w(m,Mi.EventType.CLOSE,()=>{E||(E=!0,Q(lt,`RPC '${e}' stream ${s} transport closed`),T.So())}),w(m,Mi.EventType.ERROR,N=>{E||(E=!0,Bs(lt,`RPC '${e}' stream ${s} transport errored:`,N),T.So(new W(M.UNAVAILABLE,"The operation could not be completed")))}),w(m,Mi.EventType.MESSAGE,N=>{var x;if(!E){const y=N.data[0];ge(!!y);const S=y,j=S.error||((x=S[0])===null||x===void 0?void 0:x.error);if(j){Q(lt,`RPC '${e}' stream ${s} received error:`,j);const O=j.status;let L=function(A){const C=be[A];if(C!==void 0)return T0(C)}(O),I=j.message;L===void 0&&(L=M.INTERNAL,I="Unknown error status: "+O+" with message "+j.message),E=!0,T.So(new W(L,I)),m.close()}else Q(lt,`RPC '${e}' stream ${s} received:`,y),T.bo(y)}}),w(l,Y_.STAT_EVENT,N=>{N.stat===Ad.PROXY?Q(lt,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Ad.NOPROXY&&Q(lt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Tc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t){return new gA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,r,s,i,o,l,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new O0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Vn(n.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new W(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aC extends b0{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_A(this.serializer,e),r=function(i){if(!("targetChange"in i))return J.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?dn(o.readTime):J.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=bd(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=Rd(u)?{documents:xA(i,u)}:{query:TA(i,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=A0(i,o.resumeToken);const h=Dd(i,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(J.min())>0){l.readTime=Al(i,o.snapshotVersion.toTimestamp());const h=Dd(i,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=IA(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=bd(this.serializer),n.removeTarget=e,this.a_(n)}}class lC extends b0{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ge(!!e.streamToken),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=EA(e.writeResults,e.commitTime),r=dn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=bd(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wA(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new W(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Vd(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(M.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Vd(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class cC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vn(n),this.D_=!1):Q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{ns(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=ne(u);h.L_.add(4),await $o(h),h.q_.set("Unknown"),h.L_.delete(4),await uu(h)}(this))})}),this.q_=new cC(r,s)}}async function uu(t){if(ns(t))for(const e of t.B_)await e(!0)}async function $o(t){for(const e of t.B_)await e(!1)}function M0(t,e){const n=ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),hf(n)?df(n):ci(n).r_()&&cf(n,e))}function uf(t,e){const n=ne(t),r=ci(n);n.N_.delete(e),r.r_()&&L0(n,e),n.N_.size===0&&(r.r_()?r.o_():ns(n)&&n.q_.set("Unknown"))}function cf(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ci(t).A_(e)}function L0(t,e){t.Q_.xe(e),ci(t).R_(e)}function df(t){t.Q_=new hA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ci(t).start(),t.q_.v_()}function hf(t){return ns(t)&&!ci(t).n_()&&t.N_.size>0}function ns(t){return ne(t).L_.size===0}function F0(t){t.Q_=void 0}async function hC(t){t.q_.set("Online")}async function fC(t){t.N_.forEach((e,n)=>{cf(t,e)})}async function pC(t,e){F0(t),hf(t)?(t.q_.M_(e),df(t)):t.q_.set("Unknown")}async function mC(t,e,n){if(t.q_.set("Online"),e instanceof I0&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cl(t,r)}else if(e instanceof Qa?t.Q_.Ke(e):e instanceof S0?t.Q_.He(e):t.Q_.We(e),!n.isEqual(J.min()))try{const r=await V0(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=i.N_.get(h);p&&i.N_.set(h,p.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const p=i.N_.get(u);if(!p)return;i.N_.set(u,p.withResumeToken(nt.EMPTY_BYTE_STRING,p.snapshotVersion)),L0(i,u);const m=new Xn(p.target,u,h,p.sequenceNumber);cf(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await Cl(t,r)}}async function Cl(t,e,n){if(!Uo(e))throw e;t.L_.add(1),await $o(t),t.q_.set("Offline"),n||(n=()=>V0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await uu(t)})}function U0(t,e){return e().catch(n=>Cl(t,n,e))}async function cu(t){const e=ne(t),n=gr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;gC(e);)try{const s=await JA(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,yC(e,s)}catch(s){await Cl(e,s)}B0(e)&&z0(e)}function gC(t){return ns(t)&&t.O_.length<10}function yC(t,e){t.O_.push(e);const n=gr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function B0(t){return ns(t)&&!gr(t).n_()&&t.O_.length>0}function z0(t){gr(t).start()}async function vC(t){gr(t).p_()}async function _C(t){const e=gr(t);for(const n of t.O_)e.m_(n.mutations)}async function wC(t,e,n){const r=t.O_.shift(),s=nf.from(r,e,n);await U0(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await cu(t)}async function EC(t,e){e&&gr(t).V_&&await async function(r,s){if(function(o){return uA(o)&&o!==M.ABORTED}(s.code)){const i=r.O_.shift();gr(r).s_(),await U0(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await cu(r)}}(t,e),B0(t)&&z0(t)}async function Vg(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=ns(n);n.L_.add(3),await $o(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await uu(n)}async function xC(t,e){const n=ne(t);e?(n.L_.delete(2),await uu(n)):e||(n.L_.add(2),await $o(n),n.q_.set("Unknown"))}function ci(t){return t.K_||(t.K_=function(n,r,s){const i=ne(n);return i.w_(),new aC(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:hC.bind(null,t),Ro:fC.bind(null,t),mo:pC.bind(null,t),d_:mC.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),hf(t)?df(t):t.q_.set("Unknown")):(await t.K_.stop(),F0(t))})),t.K_}function gr(t){return t.U_||(t.U_=function(n,r,s){const i=ne(n);return i.w_(),new lC(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vC.bind(null,t),mo:EC.bind(null,t),f_:_C.bind(null,t),g_:wC.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await cu(t)):(await t.U_.stop(),t.O_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new ff(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pf(t,e){if(Vn("AsyncQueue",`${e}: ${t}`),Uo(t))return new W(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Li(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new js(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new js;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.W_=new Re(Y.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hs{constructor(e,n,r,s,i,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Hs(e,n,js.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ru(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class SC{constructor(){this.queries=bg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ne(n),i=s.queries;s.queries=bg(),i.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new W(M.ABORTED,"Firestore shutting down"))}}function bg(){return new ui(t=>d0(t),ru)}async function mf(t,e){const n=ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new TC,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=pf(o,`Initialization of query '${ls(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&yf(n)}async function gf(t,e){const n=ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IC(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&yf(n)}function AC(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function yf(t){t.Y_.forEach(e=>{e.next()})}var Ld,Mg;(Mg=Ld||(Ld={})).ea="default",Mg.Cache="cache";class vf{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Hs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ld.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.key=e}}class q0{constructor(e){this.key=e}}class CC{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=oe(),this.mutatedKeys=oe(),this.Aa=h0(e),this.Ra=new js(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Og,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,m)=>{const g=s.get(p),E=su(this.query,m)?m:null,T=!!g&&this.mutatedKeys.has(g.key),w=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;g&&E?g.data.isEqual(E.data)?T!==w&&(r.track({type:3,doc:E}),N=!0):this.ga(g,E)||(r.track({type:2,doc:E}),N=!0,(u&&this.Aa(E,u)>0||h&&this.Aa(E,h)<0)&&(l=!0)):!g&&E?(r.track({type:0,doc:E}),N=!0):g&&!E&&(r.track({type:1,doc:g}),N=!0,(u||h)&&(l=!0)),N&&(E?(o=o.add(E),i=w?i.add(p):i.delete(p)):(o=o.delete(p),i=i.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((p,m)=>function(E,T){const w=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return w(E)-w(T)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,h=u!==this.Ea;return this.Ea=u,o.length!==0||h?{snapshot:new Hs(this.query,e.Ra,i,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Og,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new q0(r))}),this.da.forEach(r=>{e.has(r)||n.push(new $0(r))}),n}ba(e){this.Ta=e.Ts,this.da=oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Hs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class kC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class NC{constructor(e){this.key=e,this.va=!1}}class RC{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ui(l=>d0(l),ru),this.Ma=new Map,this.xa=new Set,this.Oa=new Re(Y.comparator),this.Na=new Map,this.La=new of,this.Ba={},this.ka=new Map,this.qa=Ws.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function PC(t,e,n=!0){const r=Y0(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await W0(r,e,n,!0),s}async function jC(t,e){const n=Y0(t);await W0(n,e,!0,!1)}async function W0(t,e,n,r){const s=await eC(t.localStore,cn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await DC(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&M0(t.remoteStore,s),l}async function DC(t,e,n,r,s){t.Ka=(m,g,E)=>async function(w,N,x,y){let S=N.view.ma(x);S.ns&&(S=await Pg(w.localStore,N.query,!1).then(({documents:I})=>N.view.ma(I,S)));const j=y&&y.targetChanges.get(N.targetId),O=y&&y.targetMismatches.get(N.targetId)!=null,L=N.view.applyChanges(S,w.isPrimaryClient,j,O);return Fg(w,N.targetId,L.wa),L.snapshot}(t,m,g,E);const i=await Pg(t.localStore,e,!0),o=new CC(e,i.Ts),l=o.ma(i.documents),u=zo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(l,t.isPrimaryClient,u);Fg(t,n,h.wa);const p=new kC(e,n,o);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function VC(t,e,n){const r=ne(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!ru(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Md(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&uf(r.remoteStore,s.targetId),Fd(r,s.targetId)}).catch(Fo)):(Fd(r,s.targetId),await Md(r.localStore,s.targetId,!0))}async function OC(t,e){const n=ne(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uf(n.remoteStore,r.targetId))}async function bC(t,e,n){const r=$C(t);try{const s=await function(o,l){const u=ne(o),h=$e.now(),p=l.reduce((E,T)=>E.add(T.key),oe());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=On(),w=oe();return u.cs.getEntries(E,p).next(N=>{T=N,T.forEach((x,y)=>{y.isValidDocument()||(w=w.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,T)).next(N=>{m=N;const x=[];for(const y of l){const S=sA(y,m.get(y.key).overlayedDocument);S!=null&&x.push(new xr(y.key,S,r0(S.value.mapValue),zt.exists(!0)))}return u.mutationQueue.addMutationBatch(E,h,x,l)}).next(N=>{g=N;const x=N.applyToLocalDocumentSet(m,w);return u.documentOverlayCache.saveOverlays(E,N.batchId,x)})}).then(()=>({batchId:g.batchId,changes:p0(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let h=o.Ba[o.currentUser.toKey()];h||(h=new Re(he)),h=h.insert(l,u),o.Ba[o.currentUser.toKey()]=h}(r,s.batchId,n),await qo(r,s.changes),await cu(r.remoteStore)}catch(s){const i=pf(s,"Failed to persist write");n.reject(i)}}async function H0(t,e){const n=ne(t);try{const r=await ZA(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ge(o.va):s.removedDocuments.size>0&&(ge(o.va),o.va=!1))}),await qo(n,r,e)}catch(r){await Fo(r)}}function Lg(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=ne(o);u.onlineState=l;let h=!1;u.queries.forEach((p,m)=>{for(const g of m.j_)g.Z_(l)&&(h=!0)}),h&&yf(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MC(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Re(Y.comparator);o=o.insert(i,ht.newNoDocument(i,J.min()));const l=oe().add(i),u=new au(J.min(),new Map,new Re(he),o,l);await H0(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),_f(r)}else await Md(r.localStore,e,!1).then(()=>Fd(r,e,n)).catch(Fo)}async function LC(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await YA(n.localStore,e);K0(n,r,null),Q0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qo(n,s)}catch(s){await Fo(s)}}async function FC(t,e,n){const r=ne(t);try{const s=await function(o,l){const u=ne(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,l).next(m=>(ge(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(r.localStore,e);K0(r,e,n),Q0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qo(r,s)}catch(s){await Fo(s)}}function Q0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function K0(t,e,n){const r=ne(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Fd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||G0(t,r)})}function G0(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(uf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),_f(t))}function Fg(t,e,n){for(const r of n)r instanceof $0?(t.La.addReference(r.key,e),UC(t,r)):r instanceof q0?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||G0(t,r.key)):X()}function UC(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.xa.add(r),_f(t))}function _f(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Y(Te.fromString(e)),r=t.qa.next();t.Na.set(r,new NC(n)),t.Oa=t.Oa.insert(n,r),M0(t.remoteStore,new Xn(cn(nu(n.path)),r,"TargetPurposeLimboResolution",Kh.oe))}}async function qo(t,e,n){const r=ne(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){s.push(h);const m=lf.Wi(u.targetId,h);i.push(m)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,h){const p=ne(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>F.forEach(h,g=>F.forEach(g.$i,E=>p.persistence.referenceDelegate.addReference(m,g.targetId,E)).next(()=>F.forEach(g.Ui,E=>p.persistence.referenceDelegate.removeReference(m,g.targetId,E)))))}catch(m){if(!Uo(m))throw m;Q("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const E=p.os.get(g),T=E.snapshotVersion,w=E.withLastLimboFreeSnapshotVersion(T);p.os=p.os.insert(g,w)}}}(r.localStore,i))}async function BC(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await D0(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(u=>{u.reject(new W(M.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qo(n,r.hs)}}function zC(t,e){const n=ne(t),r=n.Na.get(e);if(r&&r.va)return oe().add(r.key);{let s=oe();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function Y0(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=H0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MC.bind(null,e),e.Ca.d_=IC.bind(null,e.eventManager),e.Ca.$a=AC.bind(null,e.eventManager),e}function $C(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FC.bind(null,e),e}class kl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return GA(this.persistence,new QA,e.initialUser,this.serializer)}Ga(e){return new qA(af.Zr,this.serializer)}Wa(e){return new nC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kl.provider={build:()=>new kl};class Ud{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BC.bind(null,this.syncEngine),await xC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new SC}()}createDatastore(e){const n=lu(e.databaseInfo.databaseId),r=function(i){return new oC(i)}(e.databaseInfo);return function(i,o,l,u){return new uC(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new dC(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Lg(this.syncEngine,n,0),function(){return Dg.D()?new Dg:new rC}())}createSyncEngine(e,n){return function(s,i,o,l,u,h,p){const m=new RC(s,i,o,l,u,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ne(s);Q("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await $o(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ud.provider={build:()=>new Ud};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ut.UNAUTHENTICATED,this.clientId=e0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sc(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await D0(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ug(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WC(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Vg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Vg(e.remoteStore,s)),t._onlineComponents=e}async function WC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===M.FAILED_PRECONDITION||s.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),await Sc(t,new kl)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Sc(t,new kl);return t._offlineComponents}async function Z0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await Ug(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await Ug(t,new Ud))),t._onlineComponents}function HC(t){return Z0(t).then(e=>e.syncEngine)}async function Nl(t){const e=await Z0(t),n=e.eventManager;return n.onListen=PC.bind(null,e.syncEngine),n.onUnlisten=VC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OC.bind(null,e.syncEngine),n}function QC(t,e,n={}){const r=new Cn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,h){const p=new wf({next:g=>{p.Za(),o.enqueueAndForget(()=>gf(i,m));const E=g.docs.has(l);!E&&g.fromCache?h.reject(new W(M.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&u&&u.source==="server"?h.reject(new W(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new vf(nu(l.path),p,{includeMetadataChanges:!0,_a:!0});return mf(i,m)}(await Nl(t),t.asyncQueue,e,n,r)),r.promise}function KC(t,e,n={}){const r=new Cn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,h){const p=new wf({next:g=>{p.Za(),o.enqueueAndForget(()=>gf(i,m)),g.fromCache&&u.source==="server"?h.reject(new W(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new vf(l,p,{includeMetadataChanges:!0,_a:!0});return mf(i,m)}(await Nl(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t,e,n){if(!n)throw new W(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GC(t,e,n,r){if(e===!0&&r===!0)throw new W(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zg(t){if(!Y.isDocumentKey(t))throw new W(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $g(t){if(Y.isDocumentKey(t))throw new W(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function du(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Ct(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=du(t);throw new W(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new W(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new W(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new W(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hu{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fI;switch(r.type){case"firstParty":return new yI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Bg.get(n);r&&(Q("ComponentProvider","Removing Datastore"),Bg.delete(n),r.terminate())}(this),Promise.resolve()}}function YC(t,e,n,r={}){var s;const i=(t=Ct(t,hu))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=ut.MOCK_USER;else{l=HT(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new W(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ut(h)}t._authCredentials=new pI(new J_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}}class cr extends Tr{constructor(e,n,r){super(e,n,nu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new Y(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function $t(t,e,...n){if(t=fn(t),J0("collection","path",e),t instanceof hu){const r=Te.fromString(e,...n);return $g(r),new cr(t,null,r)}{if(!(t instanceof ft||t instanceof cr))throw new W(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return $g(r),new cr(t.firestore,null,r)}}function Qe(t,e,...n){if(t=fn(t),arguments.length===1&&(e=e0.newId()),J0("doc","path",e),t instanceof hu){const r=Te.fromString(e,...n);return zg(r),new ft(t,null,new Y(r))}{if(!(t instanceof ft||t instanceof cr))throw new W(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return zg(r),new ft(t.firestore,t instanceof cr?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new O0(this,"async_queue_retry"),this.Vu=()=>{const r=Tc();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Tc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Tc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Cn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Uo(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Vn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=ff.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&X()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Hg(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class bn extends hu{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Wg,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wg(e),this._firestoreClient=void 0,await e}}}function ZC(t,e){const n=typeof t=="object"?t:tI(),r=typeof t=="string"?t:"(default)",s=ZS(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=qT("firestore");i&&YC(s,...i)}return s}function fu(t){if(t._terminated)throw new W(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XC(t),t._firestoreClient}function XC(t){var e,n,r;const s=t._freezeSettings(),i=function(l,u,h,p){return new RI(l,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,X0(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new qC(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qs(nt.fromBase64String(e))}catch(n){throw new W(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qs(nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/^__.*__$/;class ek{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bo(e,this.data,n,this.fieldTransforms)}}class ew{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Sf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Rl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(tw(this.Cu)&&JC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class tk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lu(e)}Qu(e,n,r,s=!1){return new Sf({Cu:e,methodName:n,qu:r,path:Xe.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mu(t){const e=t._freezeSettings(),n=lu(t._databaseId);return new tk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nw(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);If("Data must be an object, but it was:",o,r);const l=rw(r,o);let u,h;if(i.merge)u=new Pt(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const p=[];for(const m of i.mergeFields){const g=Bd(e,m,n);if(!o.contains(g))throw new W(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);iw(p,g)||p.push(g)}u=new Pt(p),h=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=o.fieldTransforms;return new ek(new xt(l),u,h)}class gu extends Ef{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gu}}function nk(t,e,n,r){const s=t.Qu(1,e,n);If("Data must be an object, but it was:",s,r);const i=[],o=xt.empty();ts(r,(u,h)=>{const p=Af(e,u,n);h=fn(h);const m=s.Nu(p);if(h instanceof gu)i.push(p);else{const g=Wo(h,m);g!=null&&(i.push(p),o.set(p,g))}});const l=new Pt(i);return new ew(o,l,s.fieldTransforms)}function rk(t,e,n,r,s,i){const o=t.Qu(1,e,n),l=[Bd(e,r,n)],u=[s];if(i.length%2!=0)throw new W(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)l.push(Bd(e,i[g])),u.push(i[g+1]);const h=[],p=xt.empty();for(let g=l.length-1;g>=0;--g)if(!iw(h,l[g])){const E=l[g];let T=u[g];T=fn(T);const w=o.Nu(E);if(T instanceof gu)h.push(E);else{const N=Wo(T,w);N!=null&&(h.push(E),p.set(E,N))}}const m=new Pt(h);return new ew(p,m,o.fieldTransforms)}function sk(t,e,n,r=!1){return Wo(n,t.Qu(r?4:3,e))}function Wo(t,e){if(sw(t=fn(t)))return If("Unsupported field value:",e,t),rw(t,e);if(t instanceof Ef)return function(r,s){if(!tw(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=Wo(l,s.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=$e.fromDate(r);return{timestampValue:Al(s.serializer,i)}}if(r instanceof $e){const i=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Al(s.serializer,i)}}if(r instanceof xf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qs)return{bytesValue:A0(s.serializer,r._byteString)};if(r instanceof ft){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Tf)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return ef(l.serializer,u)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${du(r)}`)}(t,e)}function rw(t,e){const n={};return t0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(t,(r,s)=>{const i=Wo(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function sw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof xf||t instanceof Qs||t instanceof ft||t instanceof Ef||t instanceof Tf)}function If(t,e,n){if(!sw(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=du(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Bd(t,e,n){if((e=fn(e))instanceof pu)return e._internalPath;if(typeof e=="string")return Af(t,e);throw Rl("Field path arguments must be of type string or ",t,!1,void 0,n)}const ik=new RegExp("[~\\*/\\[\\]]");function Af(t,e,n){if(e.search(ik)>=0)throw Rl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pu(...e.split("."))._internalPath}catch{throw Rl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rl(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new W(M.INVALID_ARGUMENT,l+t+u)}function iw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ok(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ok extends ow{data(){return super.data()}}function yu(t,e){return typeof e=="string"?Af(t,e):e instanceof pu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cf{}class lw extends Cf{}function Ks(t,e,...n){let r=[];e instanceof Cf&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof kf).length,l=i.filter(u=>u instanceof vu).length;if(o>1||o>0&&l>0)throw new W(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class vu extends lw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vu(e,n,r)}_apply(e){const n=this._parse(e);return uw(e._query,n),new Tr(e.firestore,e.converter,Pd(e._query,n))}_parse(e){const n=mu(e.firestore);return function(i,o,l,u,h,p,m){let g;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new W(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Gg(m,p);const E=[];for(const T of m)E.push(Kg(u,i,T));g={arrayValue:{values:E}}}else g=Kg(u,i,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Gg(m,p),g=sk(l,o,m,p==="in"||p==="not-in");return Fe.create(h,p,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ds(t,e,n){const r=e,s=yu("where",t);return vu._create(s,r,n)}class kf extends Cf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const u of l)uw(o,u),o=Pd(o,u)}(e._query,n),new Tr(e.firestore,e.converter,Pd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nf extends lw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Nf(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new W(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new W(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Co(i,o)}(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new li(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Qg(t,e="asc"){const n=e,r=yu("orderBy",t);return Nf._create(r,n)}function Kg(t,e,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new W(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c0(e)&&n.indexOf("/")!==-1)throw new W(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Te.fromString(n));if(!Y.isDocumentKey(r))throw new W(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pg(t,new Y(r))}if(n instanceof ft)return pg(t,n._key);throw new W(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${du(n)}.`)}function Gg(t,e){if(!Array.isArray(t)||t.length===0)throw new W(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uw(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ak{convertValue(e,n="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ts(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ve(o.doubleValue));return new Tf(i)}convertGeoPoint(e){return new xf(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(So(e));default:return null}}convertTimestamp(e){const n=mr(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);ge(j0(r));const s=new Io(r.get(1),r.get(3)),i=new Y(r.popFirst(5));return s.isEqual(n)||Vn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dw extends ow{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ka(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ka extends dw{data(e={}){return super.data(e)}}class hw{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ui(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ka(this._firestore,this._userDataWriter,r.key,r,new Ui(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new Ka(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ui(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new Ka(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ui(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:lk(l.type),doc:u,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t){t=Ct(t,ft);const e=Ct(t.firestore,bn);return QC(fu(e),t._key).then(n=>fw(e,t,n))}class Rf extends ak{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function kn(t){t=Ct(t,Tr);const e=Ct(t.firestore,bn),n=fu(e),r=new Rf(e);return aw(t._query),KC(n,t._query).then(s=>new hw(e,r,t,s))}function zd(t,e,n){t=Ct(t,ft);const r=Ct(t.firestore,bn),s=cw(t.converter,e,n);return _u(r,[nw(mu(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,zt.none())])}function zr(t,e,n,...r){t=Ct(t,ft);const s=Ct(t.firestore,bn),i=mu(s);let o;return o=typeof(e=fn(e))=="string"||e instanceof pu?rk(i,"updateDoc",t._key,e,n,r):nk(i,"updateDoc",t._key,e),_u(s,[o.toMutation(t._key,zt.exists(!0))])}function uk(t){return _u(Ct(t.firestore,bn),[new tf(t._key,zt.none())])}function ck(t,e){const n=Ct(t.firestore,bn),r=Qe(t),s=cw(t.converter,e);return _u(n,[nw(mu(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,zt.exists(!1))]).then(()=>r)}function dk(t,...e){var n,r,s;t=fn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Hg(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Hg(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(s=m.complete)===null||s===void 0?void 0:s.bind(m)}let u,h,p;if(t instanceof ft)h=Ct(t.firestore,bn),p=nu(t._key.path),u={next:m=>{e[o]&&e[o](fw(h,t,m))},error:e[o+1],complete:e[o+2]};else{const m=Ct(t,Tr);h=Ct(m.firestore,bn),p=m._query;const g=new Rf(h);u={next:E=>{e[o]&&e[o](new hw(h,g,m,E))},error:e[o+1],complete:e[o+2]},aw(t._query)}return function(g,E,T,w){const N=new wf(w),x=new vf(E,N,T);return g.asyncQueue.enqueueAndForget(async()=>mf(await Nl(g),x)),()=>{N.Za(),g.asyncQueue.enqueueAndForget(async()=>gf(await Nl(g),x))}}(fu(h),p,l,u)}function _u(t,e){return function(r,s){const i=new Cn;return r.asyncQueue.enqueueAndForget(async()=>bC(await HC(r),s,i)),i.promise}(fu(t),e)}function fw(t,e,n){const r=n.docs.get(e._key),s=new Rf(t);return new dw(t,s,e._key,r,new Ui(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ai=s})(eI),El(new Eo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new bn(new mI(r.getProvider("auth-internal")),new _I(r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new W(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(h.options.projectId,p)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Ps(ug,"4.7.3",e),Ps(ug,"4.7.3","esm2017")})();const hk={apiKey:"AIzaSyA32ur8WlKhwwvxevvB-P0M0sHK95DBeFw",authDomain:"sealogistics-4f899.firebaseapp.com",projectId:"sealogistics-4f899",storageBucket:"sealogistics-4f899.appspot.com",messagingSenderId:"813384700244",appId:"1:813384700244:web:d400348141dbcadacb78c1"},fk=q_(hk),pe=ZC(fk),pw=V.createContext(void 0),mn=()=>{const t=V.useContext(pw);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},pk=({children:t})=>{const[e,n]=V.useState(null),[r,s]=V.useState(null),[i,o]=V.useState(!0);V.useEffect(()=>{const N=localStorage.getItem("currentUser");if(N)try{const x=JSON.parse(N);console.log("Carregando dados do localStorage:",x),x.id?l(x.id):(console.warn("ID do usuário não encontrado no localStorage"),o(!1))}catch(x){console.error("Error parsing saved user:",x),localStorage.removeItem("currentUser"),o(!1)}else o(!1)},[]);const l=async N=>{try{console.log("Carregando dados do usuário do Firestore:",N);const x=await Br(Qe(pe,"users",N));if(x.exists()){const y={...x.data(),uid:x.id};if(console.log("Dados do usuário carregados:",y),n(y),localStorage.setItem("currentUser",JSON.stringify({email:y.email,name:y.displayName,id:y.uid,role:y.role})),y.role===dt.COMPANY_USER&&y.companyId){const S=await Br(Qe(pe,"companies",y.companyId));if(S.exists()){const j={...S.data(),id:S.id};s(j)}}}else console.warn("Usuário não encontrado no Firestore:",N),localStorage.removeItem("currentUser"),n(null)}catch(x){console.error("Error loading user data:",x),localStorage.removeItem("currentUser"),n(null)}finally{o(!1)}},u=async()=>{e!=null&&e.uid&&(console.log("Atualizando dados do usuário..."),await l(e.uid))},h=async(N,x)=>{try{console.log("Attempting login with password:",x?"***":"no password");const y=Ks($t(pe,"users"),Ds("email","==",N)),S=await kn(y);if(S.empty)throw new Error("Usuário não encontrado");const j=S.docs[0],O={...j.data(),uid:j.id};if(console.log("Usuário encontrado:",O),!O.isActive)throw new Error("Usuário inativo. Contacte o administrador.");if(await zd(Qe(pe,"users",j.id),{...O,lastLogin:new Date},{merge:!0}),n(O),O.role===dt.COMPANY_USER&&O.companyId){const I=await Br(Qe(pe,"companies",O.companyId));if(I.exists()){const v={...I.data(),id:I.id};s(v)}}const L={email:O.email,name:O.displayName,id:j.id,role:O.role};console.log("Salvando no localStorage:",L),localStorage.setItem("currentUser",JSON.stringify(L))}catch(y){throw console.error("Login error:",y),y}},p=()=>{console.log("Fazendo logout..."),n(null),s(null),localStorage.removeItem("currentUser")},m=()=>e?e.role===dt.ADMIN:!1,w={currentUser:e,currentCompany:r,login:h,logout:p,isAdmin:m,isCompanyUser:()=>(e==null?void 0:e.role)===dt.COMPANY_USER,canAccessAdminFeatures:()=>m(),canManageShipments:()=>(e==null?void 0:e.role)===dt.ADMIN||(e==null?void 0:e.role)===dt.COMPANY_USER,loading:i,refreshUserData:u};return c.jsx(pw.Provider,{value:w,children:t})};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(t,e)=>{const n=V.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...h},p)=>V.createElement("svg",{ref:p,...mk,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${gk(t)}`,l].join(" "),...h},[...e.map(([m,g])=>V.createElement(m,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=_e("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=_e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=_e("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=_e("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=_e("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=_e("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Pk="http://localhost:3001",Yg=async({to:t,subject:e,html:n})=>{try{console.log("=== INICIANDO ENVIO DE EMAIL ==="),console.log("Para:",t),console.log("Assunto:",e);const s=await(await fetch(`${Pk}/send-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:t,subject:e,html:n})})).json();if(!s.success)throw new Error(s.error||"Erro ao enviar email");return console.log("=== EMAIL ENVIADO COM SUCESSO ==="),!0}catch(r){return console.error("=== ERRO AO ENVIAR EMAIL ==="),console.error("Detalhes do erro:",r),!1}},xw=V.createContext(void 0),wu=()=>{const t=V.useContext(xw);if(t===void 0)throw new Error("useShipments must be used within a ShipmentsProvider");return t},jk=({children:t})=>{const[e,n]=V.useState([]),[r,s]=V.useState(!0),{currentUser:i,isAdmin:o}=mn();V.useEffect(()=>{if(!i){n([]),s(!1);return}let g;if(o())g=Ks($t(pe,"shipments"),Qg("createdAt","desc"));else if(i.role===dt.COMPANY_USER&&i.companyId)g=Ks($t(pe,"shipments"),Ds("companyId","==",i.companyId),Qg("createdAt","desc"));else{n([]),s(!1);return}const E=dk(g,T=>{const w=[];T.forEach(N=>{w.push({id:N.id,...N.data()})}),n(w),s(!1)},T=>{console.error("Error fetching shipments:",T),s(!1)});return()=>E()},[i,o]);const l=async g=>{try{if(!i)throw new Error("Usuário não autenticado");if(!o())throw new Error("Apenas administradores podem criar novos shipments");const E={...g,createdAt:new Date,updatedAt:new Date};g.companyId!==void 0?E.companyId=g.companyId:delete E.companyId;const T=await ck($t(pe,"shipments"),E);if(console.log("Shipment added with ID: ",T.id),g.companyId)try{console.log("Buscando dados da empresa...");const w=await Br(Qe(pe,"companies",g.companyId));if(w.exists()){const N=w.data();console.log("Dados da empresa:",N),N.contactEmail?(console.log("Preparando para enviar email para:",N.contactEmail),await Yg({to:N.contactEmail,subject:`Novo envio criado - ${g.numeroBl}`,html:`
                                    <h2>Novo envio criado</h2>
                                    <p>Um novo envio foi criado com os seguintes detalhes:</p>
                                    <ul>
                                        <li><strong>Número BL:</strong> ${g.numeroBl}</li>
                                        <li><strong>Cliente:</strong> ${g.cliente}</li>
                                        <li><strong>Operador:</strong> ${g.operador}</li>
                                        <li><strong>Porto de Origem:</strong> ${g.pol}</li>
                                        <li><strong>Porto de Destino:</strong> ${g.pod}</li>
                                        <li><strong>ETD Origem:</strong> ${g.etdOrigem}</li>
                                        <li><strong>ETA Destino:</strong> ${g.etaDestino}</li>
                                        <li><strong>Quantidade de Containers:</strong> ${g.quantBox}</li>
                                        <li><strong>Status:</strong> ${g.status}</li>
                                        <li><strong>Armador:</strong> ${g.armador}</li>
                                        <li><strong>Booking:</strong> ${g.booking}</li>
                                    </ul>
                                `})):console.log("Empresa não tem email de contato cadastrado")}else console.log("Empresa não encontrada no Firestore")}catch(w){console.error("=== ERRO AO ENVIAR EMAIL DE NOTIFICAÇÃO ==="),console.error("Detalhes do erro:",w)}}catch(E){throw console.error("Error adding shipment: ",E),E}},u=async g=>{try{if(!g.id)throw new Error("Shipment ID is required for updates");if(!h(g))throw new Error("Sem permissão para editar este shipment");console.log("=== INICIANDO ATUALIZAÇÃO DE SHIPMENT ==="),console.log("ID do shipment:",g.id),console.log("Company ID:",g.companyId);const E=Qe(pe,"shipments",g.id),T=await Br(E);if(!T.exists())throw new Error("Shipment não encontrado");const N=T.data().status;if(console.log("Status atual:",N),console.log("Novo status:",g.status),await zr(E,{cliente:g.cliente,operador:g.operador,pol:g.pol,pod:g.pod,etdOrigem:g.etdOrigem,etaDestino:g.etaDestino,quantBox:g.quantBox,status:g.status,numeroBl:g.numeroBl,armador:g.armador,booking:g.booking,updatedAt:new Date}),N!==g.status&&g.companyId)try{console.log("Status alterado, buscando dados da empresa..."),console.log("Company ID para busca:",g.companyId);const x=await Br(Qe(pe,"companies",g.companyId));if(console.log("Documento da empresa encontrado:",x.exists()),x.exists()){const y=x.data();console.log("Dados da empresa:",y),y.contactEmail?(console.log("Preparando para enviar email para:",y.contactEmail),await Yg({to:y.contactEmail,subject:`Status do envio atualizado - ${g.numeroBl}`,html:`
                                    <h2>Status do envio atualizado</h2>
                                    <p>O status do seu envio foi atualizado:</p>
                                    <ul>
                                        <li><strong>Número BL:</strong> ${g.numeroBl}</li>
                                        <li><strong>Status Anterior:</strong> ${N}</li>
                                        <li><strong>Novo Status:</strong> ${g.status}</li>
                                        <li><strong>Cliente:</strong> ${g.cliente}</li>
                                        <li><strong>Porto de Origem:</strong> ${g.pol}</li>
                                        <li><strong>Porto de Destino:</strong> ${g.pod}</li>
                                    </ul>
                                `})):console.log("Empresa não tem email de contato cadastrado")}else console.log("Empresa não encontrada no Firestore")}catch(x){console.error("=== ERRO AO ENVIAR EMAIL DE NOTIFICAÇÃO ==="),console.error("Detalhes do erro:",x)}else console.log("Status não foi alterado ou shipment não tem companyId"),console.log("oldStatus === updatedShipment.status:",N===g.status),console.log("updatedShipment.companyId:",g.companyId);console.log("Shipment updated successfully:",g.id)}catch(E){throw console.error("Error updating shipment: ",E),E}},h=g=>i?o()?!0:i.role===dt.COMPANY_USER?g.companyId===i.companyId:!1:!1,m={shipments:e,addShipment:l,updateShipment:u,canEditShipment:h,canCreateShipment:()=>o(),loading:r};return c.jsx(xw.Provider,{value:m,children:t})},Zr=()=>{const[t,e]=V.useState(!1),[n,r]=V.useState([]),[s,i]=V.useState(""),[o,l]=V.useState(!1),u=V.useRef(null),h=()=>{e(!t),!t&&n.length===0&&setTimeout(()=>{r([{id:Date.now(),text:"Olá! Sou o assistente virtual da SeaLogistics. Como posso ajudar você hoje?",sender:"bot"}])},500)},p=w=>{i(w.target.value)},m=()=>{var w;(w=u.current)==null||w.scrollIntoView({behavior:"smooth"})};V.useEffect(()=>{m()},[n]);const g=()=>{const w=["Entendi! Vou verificar essa informação para você.","Obrigado pela sua mensagem. Posso ajudar com mais alguma coisa?","A SeaLogistics oferece diversos serviços de logística marítima. Gostaria de saber mais sobre algum serviço específico?","Estou processando sua solicitação. Em breve teremos uma resposta para você.","Isso é interessante! Vamos analisar as melhores opções para sua necessidade."],N=w[Math.floor(Math.random()*w.length)];l(!0),setTimeout(()=>{r(x=>[...x,{id:Date.now(),text:N,sender:"bot"}]),l(!1)},1500)},E=()=>{if(s.trim()==="")return;const w={id:Date.now(),text:s,sender:"user"};r(N=>[...N,w]),i(""),g()},T=w=>{w.key==="Enter"&&E()};return c.jsx("div",{className:"chat-assistant-container",children:t?c.jsxs("div",{className:"chat-window",children:[c.jsxs("div",{className:"chat-header",children:[c.jsxs("div",{className:"chat-title",children:[c.jsx(vk,{size:20}),c.jsx("span",{children:"Assistente SeaLogistics"})]}),c.jsx("button",{className:"close-button",onClick:h,"aria-label":"Fechar chat",children:c.jsx(Ro,{size:20})})]}),c.jsxs("div",{className:"messages-container",children:[n.map(w=>c.jsx("div",{className:`message ${w.sender}`,children:w.text},w.id)),o&&c.jsx("div",{className:"message bot typing",children:c.jsxs("span",{className:"typing-indicator",children:[c.jsx("span",{className:"dot"}),c.jsx("span",{className:"dot"}),c.jsx("span",{className:"dot"})]})}),c.jsx("div",{ref:u})]}),c.jsxs("div",{className:"input-container",children:[c.jsx("input",{type:"text",value:s,onChange:p,onKeyPress:T,placeholder:"Digite sua mensagem...","aria-label":"Mensagem"}),c.jsx("button",{className:"send-button",onClick:E,disabled:s.trim()==="","aria-label":"Enviar mensagem",children:c.jsx(kk,{size:18})})]})]}):c.jsx("button",{className:"chat-button",onClick:h,"aria-label":"Abrir chat",children:c.jsx(Ak,{size:24})})})},Tw=({onClose:t})=>{const{isAdmin:e}=mn(),[n,r]=V.useState([]),[s,i]=V.useState([]),[o,l]=V.useState([]),[u,h]=V.useState(!0),[p,m]=V.useState("users");V.useEffect(()=>{e()&&g()},[e]);const g=async()=>{try{h(!0);const S=(await kn($t(pe,"users"))).docs.map(v=>({...v.data(),uid:v.id}));r(S);const O=(await kn($t(pe,"companies"))).docs.map(v=>({...v.data(),id:v.id}));i(O);const I=(await kn($t(pe,"shipments"))).docs.map(v=>({...v.data(),id:v.id}));l(I)}catch(y){console.error("Error loading admin data:",y)}finally{h(!1)}},E=async(y,S)=>{try{await zr(Qe(pe,"users",y),{isActive:!S,updatedAt:new Date}),r(n.map(j=>j.uid===y?{...j,isActive:!S}:j))}catch(j){console.error("Error updating user status:",j),alert("Erro ao atualizar status do usuário")}},T=async(y,S)=>{try{await zr(Qe(pe,"companies",y),{isActive:!S,updatedAt:new Date}),i(s.map(j=>j.id===y?{...j,isActive:!S}:j))}catch(j){console.error("Error updating company status:",j),alert("Erro ao atualizar status da empresa")}},w=async(y,S)=>{try{await zr(Qe(pe,"shipments",y),{companyId:S==="unassigned"?null:S,updatedAt:new Date}),l(o.map(j=>j.id===y?{...j,companyId:S==="unassigned"?void 0:S}:j))}catch(j){console.error("Error assigning shipment:",j),alert("Erro ao atribuir shipment à empresa")}},N=async y=>{if(confirm("Tem certeza que deseja excluir este usuário?"))try{await uk(Qe(pe,"users",y)),r(n.filter(S=>S.uid!==y))}catch(S){console.error("Error deleting user:",S),alert("Erro ao excluir usuário")}},x=y=>{if(!y)return"Não atribuído";const S=s.find(j=>j.id===y);return S?S.name:"Empresa não encontrada"};return e()?u?c.jsx("div",{className:"admin-panel",children:c.jsx("div",{className:"admin-panel-content",children:c.jsx("h2",{children:"Carregando..."})})}):c.jsx("div",{className:"admin-panel",children:c.jsxs("div",{className:"admin-panel-content",children:[c.jsxs("div",{className:"admin-panel-header",children:[c.jsx("h2",{children:"Painel Administrativo"}),c.jsx("button",{onClick:t,className:"close-button",children:"×"})]}),c.jsxs("div",{className:"admin-tabs",children:[c.jsxs("button",{className:`tab-button ${p==="users"?"active":""}`,onClick:()=>m("users"),children:["Usuários (",n.length,")"]}),c.jsxs("button",{className:`tab-button ${p==="companies"?"active":""}`,onClick:()=>m("companies"),children:["Empresas (",s.length,")"]}),c.jsxs("button",{className:`tab-button ${p==="shipments"?"active":""}`,onClick:()=>m("shipments"),children:["Shipments (",o.length,")"]})]}),p==="users"&&c.jsxs("div",{className:"admin-section",children:[c.jsx("h3",{children:"Gerenciar Usuários"}),c.jsx("div",{className:"admin-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Role"}),c.jsx("th",{children:"Empresa"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Ações"})]})}),c.jsx("tbody",{children:n.map(y=>c.jsxs("tr",{children:[c.jsx("td",{children:y.displayName}),c.jsx("td",{children:y.email}),c.jsx("td",{children:c.jsx("span",{className:`role-badge ${y.role}`,children:y.role===dt.ADMIN?"Admin":"Empresa"})}),c.jsx("td",{children:y.companyName||"-"}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${y.isActive?"active":"inactive"}`,children:y.isActive?"Ativo":"Inativo"})}),c.jsx("td",{children:c.jsxs("div",{className:"action-buttons",children:[c.jsx("button",{onClick:()=>E(y.uid,y.isActive),className:"action-button",children:y.isActive?"Desativar":"Ativar"}),c.jsx("button",{onClick:()=>N(y.uid),className:"action-button delete",children:"Excluir"})]})})]},y.uid))})]})})]}),p==="companies"&&c.jsxs("div",{className:"admin-section",children:[c.jsx("h3",{children:"Gerenciar Empresas"}),c.jsx("div",{className:"admin-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Código"}),c.jsx("th",{children:"Email de Contato"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Ações"})]})}),c.jsx("tbody",{children:s.map(y=>c.jsxs("tr",{children:[c.jsx("td",{children:y.name}),c.jsx("td",{children:y.code}),c.jsx("td",{children:y.contactEmail}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${y.isActive?"active":"inactive"}`,children:y.isActive?"Ativa":"Inativa"})}),c.jsx("td",{children:c.jsx("button",{onClick:()=>T(y.id,y.isActive),className:"action-button",children:y.isActive?"Desativar":"Ativar"})})]},y.id))})]})})]}),p==="shipments"&&c.jsxs("div",{className:"admin-section",children:[c.jsx("h3",{children:"Gerenciar Shipments"}),c.jsx("div",{className:"admin-note",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Nota:"})," Apenas administradores podem criar shipments. Use esta aba para atribuir shipments às empresas."]})}),c.jsx("div",{className:"admin-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"BL"}),c.jsx("th",{children:"Cliente"}),c.jsx("th",{children:"POL → POD"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Empresa Atual"}),c.jsx("th",{children:"Atribuir à Empresa"})]})}),c.jsx("tbody",{children:o.map(y=>c.jsxs("tr",{children:[c.jsx("td",{children:y.numeroBl}),c.jsx("td",{children:y.cliente}),c.jsxs("td",{children:[y.pol," → ",y.pod]}),c.jsx("td",{children:y.status}),c.jsx("td",{children:x(y.companyId)}),c.jsx("td",{children:c.jsxs("select",{value:y.companyId||"unassigned",onChange:S=>w(y.id,S.target.value),className:"company-selector",children:[c.jsx("option",{value:"unassigned",children:"Não atribuído"}),s.filter(S=>S.isActive).map(S=>c.jsxs("option",{value:S.id,children:[S.name," (",S.code,")"]},S.id))]})})]},y.id))})]})})]})]})}):c.jsx("div",{className:"admin-panel",children:c.jsxs("div",{className:"admin-panel-content",children:[c.jsx("h2",{children:"Acesso Negado"}),c.jsx("p",{children:"Você não tem permissão para acessar o painel administrativo."}),c.jsx("button",{onClick:t,children:"Fechar"})]})})},Sw=V.createContext({isCollapsed:!1,setIsCollapsed:()=>{}}),Mn=()=>{const{isCollapsed:t,setIsCollapsed:e}=V.useContext(Sw),[n,r]=V.useState(!1),s=ii(),i=qh(),{isAdmin:o,logout:l}=mn();V.useEffect(()=>{e(!0)},[i.pathname,e]);const h=i.pathname.includes("settings")?"settings":i.pathname.includes("novo-envio")?"novo-envio":i.pathname.includes("envios")?"envios":"home",p=()=>{l(),s("/")};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`navbar ${t?"collapsed":"expanded"}`,children:[c.jsxs("div",{className:"navbar-header",children:[c.jsx("button",{className:"toggle-btn",onClick:()=>e(!t),"aria-label":t?"Expand menu":"Collapse menu",children:t?c.jsx(Ik,{size:20}):c.jsx(Ro,{size:20})}),c.jsx("div",{className:"company-logo",children:c.jsx("div",{className:`company-name ${t?"hidden":"visible"}`,children:c.jsx("span",{className:"company-name-text",children:"SeaLogistics"})})})]}),c.jsxs("nav",{className:"nav-items",children:[c.jsxs("div",{className:`nav-item ${h==="home"?"active":""}`,onClick:()=>s("/home"),role:"button",tabIndex:0,onKeyDown:m=>m.key==="Enter"&&s("/home"),children:[c.jsx("div",{className:"icon-container",children:c.jsx(Sk,{size:20})}),c.jsx("span",{className:`nav-text ${t?"hidden":"visible"}`,children:o()?"Dashboard":"Início"})]}),c.jsxs("div",{className:`nav-item ${h==="envios"?"active":""}`,onClick:()=>s("/envios"),role:"button",tabIndex:0,onKeyDown:m=>m.key==="Enter"&&s("/envios"),children:[c.jsx("div",{className:"icon-container",children:c.jsx(Gs,{size:20})}),c.jsx("span",{className:`nav-text ${t?"hidden":"visible"}`,children:"Envios"})]}),o()&&c.jsxs("div",{className:`nav-item ${h==="novo-envio"?"active":""}`,onClick:()=>s("/novo-envio"),role:"button",tabIndex:0,onKeyDown:m=>m.key==="Enter"&&s("/novo-envio"),children:[c.jsx("div",{className:"icon-container",children:c.jsx(_w,{size:20})}),c.jsx("span",{className:`nav-text ${t?"hidden":"visible"}`,children:"Novo Envio"})]}),c.jsxs("div",{className:`nav-item ${h==="settings"?"active":""}`,onClick:()=>s("/settings"),role:"button",tabIndex:0,onKeyDown:m=>m.key==="Enter"&&s("/settings"),children:[c.jsx("div",{className:"icon-container",children:c.jsx(Df,{size:20})}),c.jsx("span",{className:`nav-text ${t?"hidden":"visible"}`,children:"Configurações"})]}),c.jsxs("div",{className:"nav-item logout",onClick:p,role:"button",tabIndex:0,onKeyDown:m=>m.key==="Enter"&&p(),children:[c.jsx("div",{className:"icon-container",children:c.jsx(Ro,{size:20})}),c.jsx("span",{className:`nav-text ${t?"hidden":"visible"}`,children:"Sair"})]})]})]}),n&&c.jsx(Tw,{onClose:()=>r(!1)})]})},Dk={en:{welcomeMessage:"Welcome to Sea Logistics",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",loginButton:"Login",selectLanguage:"Select language",forgotPassword:"Forgot password?",nameError:"Name is required",emailError:"Invalid email",passwordError:"Password is required",confirmPasswordError:"Password is required",passwordsDontMatch:"Passwords don't match",dontHaveAccount:"Don't have an account?",registerLink:"Register",createAccount:"Create an Account",name:"Name",namePlaceholder:"Enter your full name",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm your password",registerButton:"Register",alreadyHaveAccount:"Already have an account?",loginLink:"Login",registerText:"Connecting the world through the oceans. Register to access our platform."},pt:{welcomeMessage:"Bem-vindo à Sea Logistics",email:"Email",emailPlaceholder:"Digite seu email",password:"Senha",passwordPlaceholder:"Digite sua senha",loginButton:"Entrar",selectLanguage:"Selecionar idioma",forgotPassword:"Esqueceu a senha?",nameError:"O nome é obrigatório",emailError:"Email inválido",passwordError:"A senha é obrigatória",confirmPasswordError:"A senha é obrigatória",passwordsDontMatch:"As senhas não coincidem",dontHaveAccount:"Não tem uma conta?",registerLink:"Registrar",createAccount:"Criar uma Conta",name:"Nome",namePlaceholder:"Digite seu nome completo",confirmPassword:"Confirmar Senha",confirmPasswordPlaceholder:"Confirme sua senha",registerButton:"Registrar",alreadyHaveAccount:"Já tem uma conta?",loginLink:"Entrar",registerText:"Conectando o mundo através dos oceanos. Registre-se para acessar nossa plataforma."},es:{welcomeMessage:"Bienvenido a Sea Logistics",email:"Correo electrónico",emailPlaceholder:"Ingrese su correo electrónico",password:"Contraseña",passwordPlaceholder:"Ingrese su contraseña",loginButton:"Iniciar sesión",selectLanguage:"Seleccionar idioma",forgotPassword:"¿Olvidó su contraseña?",nameError:"El nombre es obligatorio",emailError:"Correo electrónico inválidoo",passwordError:"La contraseña es obligatoria",confirmPasswordError:"La contraseña es obligatoria",passwordsDontMatch:"Las contraseña no coinciden",dontHaveAccount:"¿No tiene una cuenta?",registerLink:"Registrarse",createAccount:"Crear una Cuenta",name:"Nombre",namePlaceholder:"Ingrese su nombre completo",confirmPassword:"Confirmar Contraseña",confirmPasswordPlaceholder:"Confirme su contraseña",registerButton:"Registrarse",alreadyHaveAccount:"¿Ya tiene una cuenta?",loginLink:"Iniciar sesión",registerText:"Conectando el mundo a través de los océanos. Regístrate para acceder a nuestra plataforma."}},Iw=V.createContext(void 0);function rn({children:t}){const[e,n]=V.useState("en");V.useEffect(()=>{const i=localStorage.getItem("language");i&&["en","pt","es"].includes(i)&&n(i)},[]);const s={language:e,setLanguage:i=>{n(i),localStorage.setItem("language",i)},translations:Dk[e]};return c.jsx(Iw.Provider,{value:s,children:t})}function Vf(){const t=V.useContext(Iw);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}const Vk=()=>{const{currentUser:t,isAdmin:e}=mn(),{shipments:n,loading:r}=wu(),s=ii(),[i,o]=V.useState({totalShipments:0,inTransit:0,delivered:0,pending:0,thisMonth:0}),[l,u]=V.useState([]);V.useEffect(()=>{!r&&e()&&s("/envios")},[e,r,s]),V.useEffect(()=>{n.length>0&&(h(n),p(n))},[n]);const h=T=>{const w=new Date,N=w.getMonth(),x=w.getFullYear(),y=T.length,S=T.filter(I=>I.status==="em-trânsito"||I.status==="agendado").length,j=T.filter(I=>I.status==="concluído").length,O=T.filter(I=>I.status==="documentação").length,L=T.filter(I=>{if(I.etdOrigem){const v=new Date(I.etdOrigem);return v.getMonth()===N&&v.getFullYear()===x}return!1}).length;o({totalShipments:y,inTransit:S,delivered:j,pending:O,thisMonth:L})},p=T=>{const w=T.slice(0,5).map(N=>({id:N.id||"",action:m(N.status),shipment:`${N.pol} → ${N.pod}`,date:N.etdOrigem||"",status:N.status}));u(w)},m=T=>{switch(T){case"documentação":return"Documentação em andamento";case"agendado":return"Embarque agendado";case"em-trânsito":return"Em trânsito";case"concluído":return"Entregue no destino";default:return"Status atualizado"}},g=T=>T?new Date(T).toLocaleDateString("pt-BR"):"",E=T=>{switch(T){case"documentação":return"#073b4c";case"agendado":return"#118ab2";case"em-trânsito":return"#ffd166";case"concluído":return"#06d6a0";default:return"#6c757d"}};return r||e()?c.jsx(rn,{children:c.jsxs("main",{className:"dashboard-container",children:[c.jsx(Mn,{}),c.jsx("div",{className:"dashboard-content",children:c.jsx("div",{className:"loading-message",children:r?"Carregando...":"Redirecionando..."})}),c.jsx(Zr,{})]})}):c.jsx(rn,{children:c.jsxs("main",{className:"dashboard-container",children:[c.jsx(Mn,{}),c.jsxs("div",{className:"dashboard-content",children:[c.jsxs("div",{className:"dashboard-header",children:[c.jsx("h1",{children:"Dashboard"}),c.jsxs("p",{children:["Bem-vindo, ",t==null?void 0:t.displayName,"!"]})]}),c.jsxs("div",{className:"stats-grid",children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon",children:c.jsx(Gs,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Meus Envios"}),c.jsx("p",{className:"stat-number",children:i.totalShipments})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon in-transit",children:c.jsx(jf,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Em Trânsito"}),c.jsx("p",{className:"stat-number",children:i.inTransit})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon delivered",children:c.jsx(mw,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Entregues"}),c.jsx("p",{className:"stat-number",children:i.delivered})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon pending",children:c.jsx(yw,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Pendentes"}),c.jsx("p",{className:"stat-number",children:i.pending})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon this-month",children:c.jsx(ww,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Este Mês"}),c.jsx("p",{className:"stat-number",children:i.thisMonth})]})]})]}),c.jsxs("div",{className:"recent-activity",children:[c.jsx("h2",{children:"Meus Envios Recentes"}),l.length>0?c.jsx("div",{className:"activity-list",children:l.map(T=>c.jsxs("div",{className:"activity-item",children:[c.jsx("div",{className:"activity-status-dot",style:{backgroundColor:E(T.status)}}),c.jsxs("div",{className:"activity-details",children:[c.jsx("p",{className:"activity-action",children:T.action}),c.jsxs("p",{className:"activity-shipment",children:[c.jsx(vw,{size:14}),T.shipment]})]}),c.jsxs("div",{className:"activity-date",children:[c.jsx($d,{size:14}),g(T.date)]})]},T.id))}):c.jsxs("div",{className:"empty-activity",children:[c.jsx(Pf,{size:48}),c.jsx("p",{children:"Você ainda não possui envios registrados"})]})]}),c.jsxs("div",{className:"quick-links",children:[c.jsx("h2",{children:"Acesso Rápido"}),c.jsxs("div",{className:"links-grid",children:[c.jsxs("a",{href:"/envios",className:"quick-link-card",children:[c.jsx(Gs,{size:24}),c.jsx("span",{children:"Ver Meus Envios"})]}),c.jsxs("a",{href:"/settings",className:"quick-link-card",children:[c.jsx(Df,{size:24}),c.jsx("span",{children:"Configurações"})]})]})]})]}),c.jsx(Zr,{})]})})},Ok=()=>{const{currentUser:t}=mn(),{shipments:e,loading:n}=wu(),r=ii(),[s,i]=V.useState({totalShipments:0,inTransit:0,delivered:0,pending:0,thisMonth:0,totalUsers:0,totalCompanies:0,activeCompanies:0}),[o,l]=V.useState(!0),[u,h]=V.useState(!1);return V.useEffect(()=>{const p=async()=>{try{l(!0);const g=(await kn($t(pe,"users"))).size,T=(await kn($t(pe,"companies"))).docs.map(A=>A.data()),w=T.length,N=T.filter(A=>A.isActive).length,x=new Date,y=x.getMonth(),S=x.getFullYear(),j=e.length,O=e.filter(A=>A.status==="em-trânsito"||A.status==="agendado").length,L=e.filter(A=>A.status==="concluído").length,I=e.filter(A=>A.status==="documentação").length,v=e.filter(A=>{if(A.etdOrigem){const C=new Date(A.etdOrigem);return C.getMonth()===y&&C.getFullYear()===S}return!1}).length;i({totalShipments:j,inTransit:O,delivered:L,pending:I,thisMonth:v,totalUsers:g,totalCompanies:w,activeCompanies:N})}catch(m){console.error("Error loading admin stats:",m)}finally{l(!1)}};e.length>0&&p()},[e]),o||n?c.jsx(rn,{children:c.jsxs("main",{className:"dashboard-container",children:[c.jsx(Mn,{}),c.jsx("div",{className:"dashboard-content",children:c.jsx("div",{className:"loading-message",children:"Carregando..."})}),c.jsx(Zr,{})]})}):c.jsxs(rn,{children:[c.jsxs("main",{className:"dashboard-container",children:[c.jsx(Mn,{}),c.jsxs("div",{className:"dashboard-content",children:[c.jsxs("div",{className:"dashboard-header",children:[c.jsx("h1",{children:"Dashboard Administrativo"}),c.jsxs("p",{children:["Bem-vindo, ",(t==null?void 0:t.displayName)||"Admin","!"]})]}),c.jsxs("div",{className:"stats-grid",children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon",children:c.jsx(Gs,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Total de Envios"}),c.jsx("p",{className:"stat-number",children:s.totalShipments})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon in-transit",children:c.jsx(jf,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Em Trânsito"}),c.jsx("p",{className:"stat-number",children:s.inTransit})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon delivered",children:c.jsx(mw,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Entregues"}),c.jsx("p",{className:"stat-number",children:s.delivered})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon pending",children:c.jsx(yw,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Pendentes"}),c.jsx("p",{className:"stat-number",children:s.pending})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon this-month",children:c.jsx(ww,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Este Mês"}),c.jsx("p",{className:"stat-number",children:s.thisMonth})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon users",children:c.jsx(Rk,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Total de Usuários"}),c.jsx("p",{className:"stat-number",children:s.totalUsers})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon companies",children:c.jsx(_k,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Empresas Ativas"}),c.jsxs("p",{className:"stat-number",children:[s.activeCompanies,"/",s.totalCompanies]})]})]}),c.jsxs("div",{className:"stat-card action-card",onClick:()=>r("/envios"),children:[c.jsx("div",{className:"stat-icon action",children:c.jsx(Pf,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Gerenciar Envios"}),c.jsx("p",{className:"action-text",children:"Clique para ver todos os envios"})]})]})]}),c.jsxs("div",{className:"quick-actions",children:[c.jsx("h2",{children:"Ações Rápidas"}),c.jsxs("div",{className:"actions-grid",children:[c.jsxs("button",{className:"action-button",onClick:()=>r("/novo-envio"),children:[c.jsx(_w,{size:20}),"Novo Envio"]}),c.jsxs("button",{className:"action-button",onClick:()=>h(!0),children:[c.jsx(Nk,{size:20}),"Painel Admin"]}),c.jsxs("button",{className:"action-button",onClick:()=>r("/settings"),children:[c.jsx(Df,{size:20}),"Configurações"]})]})]})]}),c.jsx(Zr,{})]}),u&&c.jsx(Tw,{onClose:()=>h(!1)})]})},bk=()=>{const{isAdmin:t,loading:e}=mn();return e?c.jsx("div",{children:"Carregando..."}):t()?c.jsx(Ok,{}):c.jsx(Vk,{})},Aw=V.createContext(void 0),Mk=()=>{const t=V.useContext(Aw);if(!t)throw new Error("useDropdown must be used within a DropdownProvider");return t},Lk=({children:t})=>{const[e,n]=V.useState(null),r=V.useCallback(l=>e===l,[e]),s=V.useCallback(l=>{n(l)},[e]),i=V.useCallback(l=>{e===l&&n(null)},[e]),o=V.useCallback(()=>{n(null)},[e]);return c.jsx(Aw.Provider,{value:{openDropdownId:e,setOpenDropdownId:n,isDropdownOpen:r,openDropdown:s,closeDropdown:i,closeAllDropdowns:o},children:t})},Pa=[{value:"Em trânsito",label:"Em trânsito",color:"#8b5a00",bgColor:"#ffd166"},{value:"Agendado",label:"Agendado",color:"white",bgColor:"#118ab2"},{value:"Documentação",label:"Documentação",color:"white",bgColor:"#073b4c"},{value:"Concluído",label:"Concluído",color:"#0d5d3e",bgColor:"#06d6a0"}],Fk=({currentStatus:t,onStatusChange:e,disabled:n=!1,instanceId:r})=>{const s=V.useRef(null),i=V.useRef(null),{isDropdownOpen:o,openDropdown:l,closeDropdown:u,closeAllDropdowns:h}=Mk(),[p,m]=V.useState("bottom"),[g,E]=V.useState(!1),[T,w]=V.useState(""),[N,x]=V.useState(!1),y=o(r),S=Pa.find(R=>R.value===t)||Pa[0],j=Pa.find(R=>R.value===T),O=()=>{if(i.current&&s.current){const R=i.current.getBoundingClientRect(),k=window.innerHeight,qe=120,Mt=20,Sr=k-R.bottom-Mt,Qt=R.top-Mt,$=s.current.querySelector(".status-dropdown");if($){const Z=R.left,re=R.width;$.style.left=`${Z}px`,$.style.width=`${re}px`,Sr>=qe?(m("bottom"),$.style.top=`${R.bottom+4}px`,$.style.bottom="auto"):Qt>=qe?(m("top"),$.style.bottom=`${k-R.top+4}px`,$.style.top="auto"):(m("top"),$.style.bottom=`${k-R.top+4}px`,$.style.top="auto")}}},L=async()=>{if(T){x(!0);try{await e(T),E(!1),w("")}catch(R){console.error("Erro ao confirmar mudança de status:",R)}finally{x(!1)}}},I=()=>{E(!1),w("")};V.useEffect(()=>{const R=Mt=>{Mt.key==="Escape"&&(g?I():y&&h())},k=()=>{y&&O()},qe=()=>{y&&O()};if(y||g)return document.addEventListener("keydown",R),y&&(window.addEventListener("scroll",k,!0),window.addEventListener("resize",qe),setTimeout(()=>{O()},10)),()=>{document.removeEventListener("keydown",R),window.removeEventListener("scroll",k,!0),window.removeEventListener("resize",qe)}},[y,g,h]);const v=(R,k)=>{k.preventDefault(),k.stopPropagation(),R!==t&&(w(R),E(!0)),u(r)},A=R=>{R.preventDefault(),R.stopPropagation(),!n&&(y?u(r):(l(r),setTimeout(()=>{O()},0)))},C=R=>{(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),R.stopPropagation(),y?u(r):l(r))},P=R=>{R.preventDefault(),R.stopPropagation(),h()};return c.jsxs(c.Fragment,{children:[y&&c.jsx("div",{className:"dropdown-overlay",onClick:P}),g&&c.jsx("div",{className:"confirmation-overlay",onClick:I}),c.jsxs("div",{className:"status-selector",ref:s,children:[c.jsxs("button",{ref:i,className:`status-selector-trigger ${n?"disabled":""} ${y?"open":""}`,onClick:A,onKeyDown:C,disabled:n,"aria-expanded":y,"aria-haspopup":"listbox",style:{backgroundColor:S.bgColor,color:S.color},type:"button",children:[c.jsx("span",{className:"status-label",children:S.label}),!n&&c.jsx(gw,{size:14,className:`chevron ${y?"rotated":""}`})]}),y&&!n&&c.jsx("div",{className:`status-dropdown ${p==="top"?"dropdown-up":"dropdown-down"}`,role:"listbox",children:Pa.filter(R=>R.value!==t).map(R=>c.jsx("button",{className:"status-option",onClick:k=>v(R.value,k),style:{backgroundColor:R.bgColor,color:R.color},role:"option","aria-selected":!1,type:"button",children:c.jsx("span",{className:"status-option-label",children:R.label})},R.value))})]}),g&&j&&c.jsx("div",{className:"status-confirmation-modal",children:c.jsxs("div",{className:"confirmation-content",children:[c.jsxs("div",{className:"confirmation-header",children:[c.jsx(Pf,{size:24,className:"confirmation-icon"}),c.jsx("h3",{children:"Confirmar alteração de status"})]}),c.jsxs("div",{className:"confirmation-body",children:[c.jsx("p",{children:"Deseja realmente alterar o status de:"}),c.jsxs("div",{className:"status-change-preview",children:[c.jsx("div",{className:"status-from",children:c.jsx("span",{className:"status-badge",style:{backgroundColor:S.bgColor,color:S.color},children:S.label})}),c.jsx("span",{className:"arrow",children:"→"}),c.jsx("div",{className:"status-to",children:c.jsx("span",{className:"status-badge",style:{backgroundColor:j.bgColor,color:j.color},children:j.label})})]})]}),c.jsxs("div",{className:"confirmation-actions",children:[c.jsxs("button",{className:"btn-cancel",onClick:I,type:"button",children:[c.jsx(Ro,{size:16}),"Cancelar"]}),c.jsxs("button",{className:"btn-confirm",onClick:L,disabled:N,type:"button",children:[c.jsx(wk,{size:16}),N?"Salvando...":"Confirmar"]})]})]})})]})},Uk=({filters:t,onFiltersChange:e,onClearFilters:n})=>{const[r,s]=V.useState(!1),i=V.useRef(null),{isAdmin:o}=mn();V.useEffect(()=>{const w=N=>{i.current&&!i.current.contains(N.target)&&s(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]);const l=(w,N)=>{e({...t,[w]:N})},u=w=>{const N=t.sortBy===w&&t.sortOrder==="desc"?"asc":"desc";e({...t,sortBy:w,sortOrder:N})},h=()=>[{value:"",label:"Todos os meses"},{value:"01",label:"Janeiro"},{value:"02",label:"Fevereiro"},{value:"03",label:"Março"},{value:"04",label:"Abril"},{value:"05",label:"Maio"},{value:"06",label:"Junho"},{value:"07",label:"Julho"},{value:"08",label:"Agosto"},{value:"09",label:"Setembro"},{value:"10",label:"Outubro"},{value:"11",label:"Novembro"},{value:"12",label:"Dezembro"}],p=()=>t.dateFrom||t.dateTo||t.month||t.searchTerm||t.sortBy!=="recent",m=()=>{let w=0;return(t.dateFrom||t.dateTo)&&w++,t.month&&w++,t.searchTerm&&w++,t.sortBy!=="recent"&&w++,w},g=()=>({recent:"Mais recentes",old:"Mais antigos",etd:"Data partida (ETD)",eta:"Data chegada (ETA)",client:"Cliente A-Z"})[t.sortBy],E=()=>{const w=[{value:"recent",label:"Mais recentes"},{value:"old",label:"Mais antigos"},{value:"etd",label:"Data partida (ETD)"},{value:"eta",label:"Data chegada (ETA)"}];return o()&&w.push({value:"client",label:"Cliente A-Z"}),w},T=()=>{if(!t.month)return"Todos os meses";const w=h().find(N=>N.value===t.month);return w?w.label:"Todos os meses"};return c.jsxs("div",{className:"shipping-filters",ref:i,children:[c.jsxs("div",{className:"filters-header",children:[c.jsxs("div",{className:"filters-title",children:[c.jsx(xk,{size:18}),c.jsx("span",{children:"Filtros de Busca"}),p()&&c.jsx("span",{className:"active-filters-badge",children:m()})]}),c.jsxs("div",{className:"filters-actions",children:[p()&&c.jsxs("button",{className:"clear-filters-btn",onClick:n,title:"Limpar filtros",children:[c.jsx(Ro,{size:16}),"Limpar"]}),c.jsxs("button",{className:`dropdown-toggle-btn ${r?"open":""}`,onClick:()=>s(!r),children:[c.jsx(gw,{size:16}),r?"Menos":"Mais"]})]})]}),c.jsxs("div",{className:"filters-main",children:[c.jsx("div",{className:"filter-group search-group",children:c.jsx("input",{type:"text",value:t.searchTerm,onChange:w=>l("searchTerm",w.target.value),placeholder:o()?"Cliente, BL, Booking...":"BL, Booking...",className:"search-input"})}),c.jsxs("div",{className:"filter-summary",children:[c.jsxs("span",{className:"filter-summary-item",children:[c.jsx("strong",{children:"Ordenar:"})," ",g()]}),c.jsx("span",{className:"filter-summary-separator",children:"•"}),c.jsxs("span",{className:"filter-summary-item",children:[c.jsx("strong",{children:"Mês:"})," ",T()]})]})]}),r&&c.jsxs("div",{className:"filters-dropdown",children:[c.jsxs("div",{className:"filters-row",children:[c.jsxs("div",{className:"filter-group",children:[c.jsx("label",{children:"Ordenar por:"}),c.jsx("select",{value:t.sortBy,onChange:w=>u(w.target.value),className:"sort-select",children:E().map(w=>c.jsx("option",{value:w.value,children:w.label},w.value))})]}),c.jsxs("div",{className:"filter-group",children:[c.jsx("label",{children:"Ordem:"}),c.jsxs("select",{value:t.sortOrder,onChange:w=>l("sortOrder",w.target.value),className:"order-select",children:[c.jsx("option",{value:"desc",children:"Decrescente"}),c.jsx("option",{value:"asc",children:"Crescente"})]})]}),c.jsxs("div",{className:"filter-group",children:[c.jsx("label",{children:"Mês de Origem:"}),c.jsx("select",{value:t.month,onChange:w=>l("month",w.target.value),className:"month-select",children:h().map(w=>c.jsx("option",{value:w.value,children:w.label},w.value))})]})]}),c.jsxs("div",{className:"filters-row",children:[c.jsxs("div",{className:"filter-group",children:[c.jsxs("label",{children:[c.jsx($d,{size:14}),"Data de:"]}),c.jsx("input",{type:"date",value:t.dateFrom,onChange:w=>l("dateFrom",w.target.value),className:"date-input"})]}),c.jsxs("div",{className:"filter-group",children:[c.jsxs("label",{children:[c.jsx($d,{size:14}),"Data até:"]}),c.jsx("input",{type:"date",value:t.dateTo,onChange:w=>l("dateTo",w.target.value),className:"date-input"})]})]})]})]})},Bk=({shipments:t,onShipmentUpdate:e})=>{const{shipments:n,updateShipment:r,loading:s}=wu(),{isAdmin:i}=mn(),o=t||n,l=T=>{if(!T)return"";const w=new Date(T);if(isNaN(w.getTime()))return T;const N=w.getDate().toString().padStart(2,"0"),x=(w.getMonth()+1).toString().padStart(2,"0"),y=w.getFullYear();return`${N}/${x}/${y}`},[u,h]=V.useState({dateFrom:"",dateTo:"",month:"",sortBy:"recent",sortOrder:"desc",searchTerm:""}),p=V.useMemo(()=>{let T=[...o];if(u.searchTerm){const w=u.searchTerm.toLowerCase();T=T.filter(N=>{var S,j,O,L,I;const x=[(S=N.numeroBl)==null?void 0:S.toLowerCase().includes(w),(j=N.booking)==null?void 0:j.toLowerCase().includes(w),(O=N.armador)==null?void 0:O.toLowerCase().includes(w)],y=i()?[(L=N.cliente)==null?void 0:L.toLowerCase().includes(w),(I=N.operador)==null?void 0:I.toLowerCase().includes(w)]:[];return[...x,...y].some(v=>v)})}return u.month&&(T=T.filter(w=>{const N=w.etdOrigem?new Date(w.etdOrigem):null,x=parseInt(u.month);return N&&!isNaN(N.getTime())?N.getMonth()+1===x:!1})),(u.dateFrom||u.dateTo)&&(T=T.filter(w=>{const N=w.etdOrigem?new Date(w.etdOrigem):null,x=w.etaDestino?new Date(w.etaDestino):null,y=u.dateFrom?new Date(u.dateFrom):null,S=u.dateTo?new Date(u.dateTo):null;let j=!1;return N&&(y&&S?j=N>=y&&N<=S:y?j=N>=y:S&&(j=N<=S)),!j&&x&&(y&&S?j=x>=y&&x<=S:y?j=x>=y:S&&(j=x<=S)),j||!u.dateFrom&&!u.dateTo})),T.sort((w,N)=>{let x=0;switch(u.sortBy){case"recent":case"old":{const y=w.createdAt?new Date(w.createdAt.toString()):new Date(0),S=N.createdAt?new Date(N.createdAt.toString()):new Date(0);x=y.getTime()-S.getTime(),u.sortBy==="recent"&&(x=-x);break}case"etd":{const y=w.etdOrigem?new Date(w.etdOrigem):new Date(0),S=N.etdOrigem?new Date(N.etdOrigem):new Date(0);x=y.getTime()-S.getTime();break}case"eta":{const y=w.etaDestino?new Date(w.etaDestino):new Date(0),S=N.etaDestino?new Date(N.etaDestino):new Date(0);x=y.getTime()-S.getTime();break}case"client":{x=(w.cliente||"").localeCompare(N.cliente||"");break}}return u.sortOrder==="desc"?-x:x}),T},[o,u]),m=async(T,w)=>{if(!i()){alert("Acesso negado. Apenas administradores podem alterar o status dos envios.");return}const N=o.find(x=>x.id===T);if(N)try{const x={...N,status:w};await r(x),e&&e(x),console.log(`Status do envio ${T} alterado para: ${w}`)}catch(x){console.error("Erro ao atualizar status:",x),alert("Erro ao atualizar o status. Tente novamente.")}},g=T=>{h(T)},E=()=>{h({dateFrom:"",dateTo:"",month:"",sortBy:"recent",sortOrder:"desc",searchTerm:""})};return s?c.jsxs("div",{className:"shipping-table-container",children:[c.jsx("h2",{className:"shipping-table-title",children:"Tabela de Envios"}),c.jsx("div",{className:"shipping-table-empty",children:"Carregando envios..."})]}):c.jsx(Lk,{children:c.jsxs("div",{className:"shipping-table-container",children:[c.jsx("h2",{className:"shipping-table-title",children:"Tabela de Envios"}),c.jsx(Uk,{filters:u,onFiltersChange:g,onClearFilters:E}),p.length===0?c.jsx("div",{className:"shipping-table-empty",children:o.length===0?"Nenhum envio encontrado. Que tal criar o primeiro?":"Nenhum envio encontrado com os filtros aplicados."}):c.jsx("div",{className:"table-wrapper",children:c.jsxs("table",{className:"shipping-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Cliente"}),c.jsx("th",{children:"Operador"}),c.jsx("th",{children:"POL"}),c.jsx("th",{children:"POD"}),c.jsx("th",{children:"ETD Origem"}),c.jsx("th",{children:"ETA Destino"}),c.jsx("th",{children:"Quant Box"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"N° BL"}),c.jsx("th",{children:"Armador"}),c.jsx("th",{children:"Booking"})]})}),c.jsx("tbody",{children:p.map(T=>c.jsxs("tr",{children:[c.jsx("td",{children:T.cliente}),c.jsx("td",{children:T.operador}),c.jsx("td",{children:T.pol}),c.jsx("td",{children:T.pod}),c.jsx("td",{children:l(T.etdOrigem)}),c.jsx("td",{children:l(T.etaDestino)}),c.jsx("td",{children:T.quantBox}),c.jsx("td",{children:c.jsx("div",{title:i()?void 0:"Apenas administradores podem alterar o status",children:c.jsx(Fk,{currentStatus:T.status,onStatusChange:w=>{if(T.id&&i())return m(T.id,w)},instanceId:`shipment-${T.id}`,disabled:!i()})})}),c.jsx("td",{children:T.numeroBl}),c.jsx("td",{children:T.armador}),c.jsx("td",{children:T.booking})]},T.id))})]})}),p.length>0&&c.jsxs("div",{className:"table-summary",children:["Mostrando ",p.length," de ",o.length," envios"]})]})})},zk=V.createContext({isCollapsed:!1,setIsCollapsed:()=>{}}),$k=()=>{const[t,e]=V.useState(!1),n=r=>{console.log("Envio atualizado na página de envios:",r)};return c.jsx(rn,{children:c.jsx(zk.Provider,{value:{isCollapsed:t,setIsCollapsed:e},children:c.jsxs("main",{className:"envios-container",children:[c.jsx(Mn,{}),c.jsx("div",{className:`envios-content ${t?"navbar-collapsed":""}`,children:c.jsx(Bk,{onShipmentUpdate:n})}),c.jsx(Zr,{})]})})})};function Cw(){const{language:t,setLanguage:e,translations:n}=Vf();return c.jsxs("div",{className:"language-switcher",children:[c.jsxs("p",{children:[n.selectLanguage,":"]}),c.jsxs("div",{className:"language-buttons",children:[c.jsx("button",{onClick:()=>e("pt"),className:t==="pt"?"active":"",children:"PT"}),c.jsx("button",{onClick:()=>e("en"),className:t==="en"?"active":"",children:"EN"}),c.jsx("button",{onClick:()=>e("es"),className:t==="es"?"active":"",children:"ES"})]})]})}var fe;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(fe||(fe={}));var Zg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Zg||(Zg={}));const K=fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hn=t=>{switch(typeof t){case"undefined":return K.undefined;case"string":return K.string;case"number":return Number.isNaN(t)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(t)?K.array:t===null?K.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?K.promise:typeof Map<"u"&&t instanceof Map?K.map:typeof Set<"u"&&t instanceof Set?K.set:typeof Date<"u"&&t instanceof Date?K.date:K.object;default:return K.unknown}},B=fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ln extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,u=0;for(;u<o.path.length;){const h=o.path[u];u===o.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(n(o))):l[h]=l[h]||{_errors:[]},l=l[h],u++}}};return s(this),r}static assert(e){if(!(e instanceof Ln))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ln.create=t=>new Ln(t);const qd=(t,e)=>{let n;switch(t.code){case B.invalid_type:t.received===K.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case B.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,fe.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:n=`Unrecognized key(s) in object: ${fe.joinValues(t.keys,", ")}`;break;case B.invalid_union:n="Invalid input";break;case B.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${fe.joinValues(t.options)}`;break;case B.invalid_enum_value:n=`Invalid enum value. Expected ${fe.joinValues(t.options)}, received '${t.received}'`;break;case B.invalid_arguments:n="Invalid function arguments";break;case B.invalid_return_type:n="Invalid function return type";break;case B.invalid_date:n="Invalid date";break;case B.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:fe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case B.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case B.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case B.custom:n="Invalid input";break;case B.invalid_intersection_types:n="Intersection results could not be merged";break;case B.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case B.not_finite:n="Number must be finite";break;default:n=e.defaultError,fe.assertNever(t)}return{message:n}};let qk=qd;function Wk(){return qk}const Hk=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const u=r.filter(h=>!!h).slice().reverse();for(const h of u)l=h(o,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function q(t,e){const n=Wk(),r=Hk({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===qd?void 0:qd].filter(s=>!!s)});t.common.issues.push(r)}class Vt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ee;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Vt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ee;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ee=Object.freeze({status:"aborted"}),Bi=t=>({status:"dirty",value:t}),Ht=t=>({status:"valid",value:t}),Xg=t=>t.status==="aborted",Jg=t=>t.status==="dirty",Ys=t=>t.status==="valid",Pl=t=>typeof Promise<"u"&&t instanceof Promise;var G;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(G||(G={}));class yr{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ey=(t,e)=>{if(Ys(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ln(t.common.issues);return this._error=n,this._error}}};function se(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:u??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:u??n??l.defaultError}},description:s}}class ce{get description(){return this._def.description}_getType(e){return Hn(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Hn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Vt,ctx:{common:e.parent.common,data:e.data,parsedType:Hn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Pl(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hn(e)},s=this._parseSync({data:e,path:r.path,parent:r});return ey(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hn(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Ys(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Ys(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hn(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Pl(s)?s:Promise.resolve(s));return ey(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:B.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Xs({schema:this,typeName:te.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return dr.create(this,this._def)}nullable(){return Js.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hn.create(this)}promise(){return Ol.create(this,this._def)}or(e){return Dl.create([this,e],this._def)}and(e){return Vl.create(this,e,this._def)}transform(e){return new Xs({...se(this._def),schema:this,typeName:te.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Hd({...se(this._def),innerType:this,defaultValue:n,typeName:te.ZodDefault})}brand(){return new m2({typeName:te.ZodBranded,type:this,...se(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Qd({...se(this._def),innerType:this,catchValue:n,typeName:te.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Of.create(this,e)}readonly(){return Kd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Qk=/^c[^\s-]{8,}$/i,Kk=/^[0-9a-z]+$/,Gk=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Yk=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Zk=/^[a-z0-9_-]{21}$/i,Xk=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Jk=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,e2=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,t2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ic;const n2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,r2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,s2=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,i2=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,o2=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,a2=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,kw="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",l2=new RegExp(`^${kw}$`);function Nw(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function u2(t){return new RegExp(`^${Nw(t)}$`)}function c2(t){let e=`${kw}T${Nw(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function d2(t,e){return!!((e==="v4"||!e)&&n2.test(t)||(e==="v6"||!e)&&s2.test(t))}function h2(t,e){if(!Xk.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function f2(t,e){return!!((e==="v4"||!e)&&r2.test(t)||(e==="v6"||!e)&&i2.test(t))}class Jn extends ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==K.string){const i=this._getOrReturnCtx(e);return q(i,{code:B.invalid_type,expected:K.string,received:i.parsedType}),ee}const r=new Vt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),q(s,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),q(s,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?q(s,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&q(s,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")e2.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"email",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Ic||(Ic=new RegExp(t2,"u")),Ic.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"emoji",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Yk.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"uuid",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Zk.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"nanoid",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Qk.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"cuid",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Kk.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"cuid2",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Gk.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"ulid",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),q(s,{validation:"url",code:B.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"regex",code:B.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),q(s,{code:B.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),q(s,{code:B.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),q(s,{code:B.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?c2(i).test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{code:B.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?l2.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{code:B.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?u2(i).test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{code:B.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Jk.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"duration",code:B.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?d2(e.data,i.version)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"ip",code:B.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?h2(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"jwt",code:B.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?f2(e.data,i.version)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"cidr",code:B.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?o2.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"base64",code:B.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?a2.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"base64url",code:B.invalid_string,message:i.message}),r.dirty()):fe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:B.invalid_string,...G.errToObj(r)})}_addCheck(e){return new Jn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...G.errToObj(e)})}url(e){return this._addCheck({kind:"url",...G.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...G.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...G.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...G.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...G.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...G.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...G.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...G.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...G.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...G.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...G.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...G.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...G.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...G.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...G.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...G.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...G.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...G.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...G.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...G.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...G.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...G.errToObj(n)})}nonempty(e){return this.min(1,G.errToObj(e))}trim(){return new Jn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Jn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Jn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Jn.create=t=>new Jn({checks:[],typeName:te.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...se(t)});function p2(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class Po extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==K.number){const i=this._getOrReturnCtx(e);return q(i,{code:B.invalid_type,expected:K.number,received:i.parsedType}),ee}let r;const s=new Vt;for(const i of this._def.checks)i.kind==="int"?fe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),q(r,{code:B.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:B.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:B.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?p2(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),q(r,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),q(r,{code:B.not_finite,message:i.message}),s.dirty()):fe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,s){return new Po({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(s)}]})}_addCheck(e){return new Po({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:G.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:G.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:G.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:G.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&fe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Po.create=t=>new Po({checks:[],typeName:te.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...se(t)});class jo extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==K.bigint)return this._getInvalidInput(e);let r;const s=new Vt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:B.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:B.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),q(r,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):fe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return q(n,{code:B.invalid_type,expected:K.bigint,received:n.parsedType}),ee}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,s){return new jo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(s)}]})}_addCheck(e){return new jo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}jo.create=t=>new jo({checks:[],typeName:te.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...se(t)});class ty extends ce{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==K.boolean){const r=this._getOrReturnCtx(e);return q(r,{code:B.invalid_type,expected:K.boolean,received:r.parsedType}),ee}return Ht(e.data)}}ty.create=t=>new ty({typeName:te.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...se(t)});class jl extends ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==K.date){const i=this._getOrReturnCtx(e);return q(i,{code:B.invalid_type,expected:K.date,received:i.parsedType}),ee}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return q(i,{code:B.invalid_date}),ee}const r=new Vt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),q(s,{code:B.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),q(s,{code:B.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):fe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new jl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:G.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:G.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}jl.create=t=>new jl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:te.ZodDate,...se(t)});class ny extends ce{_parse(e){if(this._getType(e)!==K.symbol){const r=this._getOrReturnCtx(e);return q(r,{code:B.invalid_type,expected:K.symbol,received:r.parsedType}),ee}return Ht(e.data)}}ny.create=t=>new ny({typeName:te.ZodSymbol,...se(t)});class ry extends ce{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return q(r,{code:B.invalid_type,expected:K.undefined,received:r.parsedType}),ee}return Ht(e.data)}}ry.create=t=>new ry({typeName:te.ZodUndefined,...se(t)});class sy extends ce{_parse(e){if(this._getType(e)!==K.null){const r=this._getOrReturnCtx(e);return q(r,{code:B.invalid_type,expected:K.null,received:r.parsedType}),ee}return Ht(e.data)}}sy.create=t=>new sy({typeName:te.ZodNull,...se(t)});class iy extends ce{constructor(){super(...arguments),this._any=!0}_parse(e){return Ht(e.data)}}iy.create=t=>new iy({typeName:te.ZodAny,...se(t)});class oy extends ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ht(e.data)}}oy.create=t=>new oy({typeName:te.ZodUnknown,...se(t)});class vr extends ce{_parse(e){const n=this._getOrReturnCtx(e);return q(n,{code:B.invalid_type,expected:K.never,received:n.parsedType}),ee}}vr.create=t=>new vr({typeName:te.ZodNever,...se(t)});class ay extends ce{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return q(r,{code:B.invalid_type,expected:K.void,received:r.parsedType}),ee}return Ht(e.data)}}ay.create=t=>new ay({typeName:te.ZodVoid,...se(t)});class hn extends ce{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==K.array)return q(n,{code:B.invalid_type,expected:K.array,received:n.parsedType}),ee;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(q(n,{code:o?B.too_big:B.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(q(n,{code:B.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(q(n,{code:B.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new yr(n,o,n.path,l)))).then(o=>Vt.mergeArray(r,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new yr(n,o,n.path,l)));return Vt.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new hn({...this._def,minLength:{value:e,message:G.toString(n)}})}max(e,n){return new hn({...this._def,maxLength:{value:e,message:G.toString(n)}})}length(e,n){return new hn({...this._def,exactLength:{value:e,message:G.toString(n)}})}nonempty(e){return this.min(1,e)}}hn.create=(t,e)=>new hn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:te.ZodArray,...se(e)});function ds(t){if(t instanceof Me){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=dr.create(ds(r))}return new Me({...t._def,shape:()=>e})}else return t instanceof hn?new hn({...t._def,type:ds(t.element)}):t instanceof dr?dr.create(ds(t.unwrap())):t instanceof Js?Js.create(ds(t.unwrap())):t instanceof Xr?Xr.create(t.items.map(e=>ds(e))):t}class Me extends ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=fe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==K.object){const h=this._getOrReturnCtx(e);return q(h,{code:B.invalid_type,expected:K.object,received:h.parsedType}),ee}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof vr&&this._def.unknownKeys==="strip"))for(const h in s.data)o.includes(h)||l.push(h);const u=[];for(const h of o){const p=i[h],m=s.data[h];u.push({key:{status:"valid",value:h},value:p._parse(new yr(s,m,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof vr){const h=this._def.unknownKeys;if(h==="passthrough")for(const p of l)u.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(h==="strict")l.length>0&&(q(s,{code:B.unrecognized_keys,keys:l}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const p of l){const m=s.data[p];u.push({key:{status:"valid",value:p},value:h._parse(new yr(s,m,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const p of u){const m=await p.key,g=await p.value;h.push({key:m,value:g,alwaysSet:p.alwaysSet})}return h}).then(h=>Vt.mergeObjectSync(r,h)):Vt.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return G.errToObj,new Me({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:G.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Me({...this._def,unknownKeys:"strip"})}passthrough(){return new Me({...this._def,unknownKeys:"passthrough"})}extend(e){return new Me({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Me({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:te.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Me({...this._def,catchall:e})}pick(e){const n={};for(const r of fe.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Me({...this._def,shape:()=>n})}omit(e){const n={};for(const r of fe.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Me({...this._def,shape:()=>n})}deepPartial(){return ds(this)}partial(e){const n={};for(const r of fe.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new Me({...this._def,shape:()=>n})}required(e){const n={};for(const r of fe.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof dr;)i=i._def.innerType;n[r]=i}return new Me({...this._def,shape:()=>n})}keyof(){return Rw(fe.objectKeys(this.shape))}}Me.create=(t,e)=>new Me({shape:()=>t,unknownKeys:"strip",catchall:vr.create(),typeName:te.ZodObject,...se(e)});Me.strictCreate=(t,e)=>new Me({shape:()=>t,unknownKeys:"strict",catchall:vr.create(),typeName:te.ZodObject,...se(e)});Me.lazycreate=(t,e)=>new Me({shape:t,unknownKeys:"strip",catchall:vr.create(),typeName:te.ZodObject,...se(e)});class Dl extends ce{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ln(l.ctx.common.issues));return q(n,{code:B.invalid_union,unionErrors:o}),ee}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const u of r){const h={...n,common:{...n.common,issues:[]},parent:null},p=u._parseSync({data:n.data,path:n.path,parent:h});if(p.status==="valid")return p;p.status==="dirty"&&!i&&(i={result:p,ctx:h}),h.common.issues.length&&o.push(h.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(u=>new Ln(u));return q(n,{code:B.invalid_union,unionErrors:l}),ee}}get options(){return this._def.options}}Dl.create=(t,e)=>new Dl({options:t,typeName:te.ZodUnion,...se(e)});function Wd(t,e){const n=Hn(t),r=Hn(e);if(t===e)return{valid:!0,data:t};if(n===K.object&&r===K.object){const s=fe.objectKeys(e),i=fe.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const u=Wd(t[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(n===K.array&&r===K.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],u=Wd(o,l);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===K.date&&r===K.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Vl extends ce{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Xg(i)||Xg(o))return ee;const l=Wd(i.value,o.value);return l.valid?((Jg(i)||Jg(o))&&n.dirty(),{status:n.value,value:l.data}):(q(r,{code:B.invalid_intersection_types}),ee)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Vl.create=(t,e,n)=>new Vl({left:t,right:e,typeName:te.ZodIntersection,...se(n)});class Xr extends ce{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.array)return q(r,{code:B.invalid_type,expected:K.array,received:r.parsedType}),ee;if(r.data.length<this._def.items.length)return q(r,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ee;!this._def.rest&&r.data.length>this._def.items.length&&(q(r,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new yr(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Vt.mergeArray(n,o)):Vt.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Xr({...this._def,rest:e})}}Xr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xr({items:t,typeName:te.ZodTuple,rest:null,...se(e)})};class ly extends ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.map)return q(r,{code:B.invalid_type,expected:K.map,received:r.parsedType}),ee;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,u],h)=>({key:s._parse(new yr(r,l,r.path,[h,"key"])),value:i._parse(new yr(r,u,r.path,[h,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const h=await u.key,p=await u.value;if(h.status==="aborted"||p.status==="aborted")return ee;(h.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(h.value,p.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of o){const h=u.key,p=u.value;if(h.status==="aborted"||p.status==="aborted")return ee;(h.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(h.value,p.value)}return{status:n.value,value:l}}}}ly.create=(t,e,n)=>new ly({valueType:e,keyType:t,typeName:te.ZodMap,...se(n)});class Do extends ce{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.set)return q(r,{code:B.invalid_type,expected:K.set,received:r.parsedType}),ee;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(q(r,{code:B.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(q(r,{code:B.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(u){const h=new Set;for(const p of u){if(p.status==="aborted")return ee;p.status==="dirty"&&n.dirty(),h.add(p.value)}return{status:n.value,value:h}}const l=[...r.data.values()].map((u,h)=>i._parse(new yr(r,u,r.path,h)));return r.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,n){return new Do({...this._def,minSize:{value:e,message:G.toString(n)}})}max(e,n){return new Do({...this._def,maxSize:{value:e,message:G.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Do.create=(t,e)=>new Do({valueType:t,minSize:null,maxSize:null,typeName:te.ZodSet,...se(e)});class uy extends ce{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}uy.create=(t,e)=>new uy({getter:t,typeName:te.ZodLazy,...se(e)});class cy extends ce{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return q(n,{received:n.data,code:B.invalid_literal,expected:this._def.value}),ee}return{status:"valid",value:e.data}}get value(){return this._def.value}}cy.create=(t,e)=>new cy({value:t,typeName:te.ZodLiteral,...se(e)});function Rw(t,e){return new Zs({values:t,typeName:te.ZodEnum,...se(e)})}class Zs extends ce{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return q(n,{expected:fe.joinValues(r),received:n.parsedType,code:B.invalid_type}),ee}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return q(n,{received:n.data,code:B.invalid_enum_value,options:r}),ee}return Ht(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Zs.create(e,{...this._def,...n})}exclude(e,n=this._def){return Zs.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Zs.create=Rw;class dy extends ce{_parse(e){const n=fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==K.string&&r.parsedType!==K.number){const s=fe.objectValues(n);return q(r,{expected:fe.joinValues(s),received:r.parsedType,code:B.invalid_type}),ee}if(this._cache||(this._cache=new Set(fe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=fe.objectValues(n);return q(r,{received:r.data,code:B.invalid_enum_value,options:s}),ee}return Ht(e.data)}get enum(){return this._def.values}}dy.create=(t,e)=>new dy({values:t,typeName:te.ZodNativeEnum,...se(e)});class Ol extends ce{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==K.promise&&n.common.async===!1)return q(n,{code:B.invalid_type,expected:K.promise,received:n.parsedType}),ee;const r=n.parsedType===K.promise?n.data:Promise.resolve(n.data);return Ht(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ol.create=(t,e)=>new Ol({type:t,typeName:te.ZodPromise,...se(e)});class Xs extends ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===te.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{q(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return ee;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?ee:u.status==="dirty"||n.value==="dirty"?Bi(u.value):u});{if(n.value==="aborted")return ee;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?ee:l.status==="dirty"||n.value==="dirty"?Bi(l.value):l}}if(s.type==="refinement"){const o=l=>{const u=s.refinement(l,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?ee:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?ee:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ys(o))return ee;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ys(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):ee);fe.assertNever(s)}}Xs.create=(t,e,n)=>new Xs({schema:t,typeName:te.ZodEffects,effect:e,...se(n)});Xs.createWithPreprocess=(t,e,n)=>new Xs({schema:e,effect:{type:"preprocess",transform:t},typeName:te.ZodEffects,...se(n)});class dr extends ce{_parse(e){return this._getType(e)===K.undefined?Ht(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dr.create=(t,e)=>new dr({innerType:t,typeName:te.ZodOptional,...se(e)});class Js extends ce{_parse(e){return this._getType(e)===K.null?Ht(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Js.create=(t,e)=>new Js({innerType:t,typeName:te.ZodNullable,...se(e)});class Hd extends ce{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===K.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Hd.create=(t,e)=>new Hd({innerType:t,typeName:te.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...se(e)});class Qd extends ce{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Pl(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ln(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ln(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Qd.create=(t,e)=>new Qd({innerType:t,typeName:te.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...se(e)});class hy extends ce{_parse(e){if(this._getType(e)!==K.nan){const r=this._getOrReturnCtx(e);return q(r,{code:B.invalid_type,expected:K.nan,received:r.parsedType}),ee}return{status:"valid",value:e.data}}}hy.create=t=>new hy({typeName:te.ZodNaN,...se(t)});class m2 extends ce{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Of extends ce{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ee:i.status==="dirty"?(n.dirty(),Bi(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ee:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Of({in:e,out:n,typeName:te.ZodPipeline})}}class Kd extends ce{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Ys(s)&&(s.value=Object.freeze(s.value)),s);return Pl(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Kd.create=(t,e)=>new Kd({innerType:t,typeName:te.ZodReadonly,...se(e)});var te;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(te||(te={}));const Ss=Jn.create;vr.create;hn.create;const Pw=Me.create;Dl.create;Vl.create;Xr.create;Zs.create;Ol.create;dr.create;Js.create;const g2=t=>Pw({email:Ss().email(t.emailError),password:Ss().nonempty(t.passwordError)});function jw(){return c.jsx("div",{className:"ship-icon",children:c.jsx(Gs,{color:"white",size:24})})}function y2(){const[t,e]=V.useState({email:"",password:""}),[n,r]=V.useState({}),[s,i]=V.useState(!1),{translations:o}=Vf(),{login:l}=mn(),u=ii(),h=V.useMemo(()=>g2(o),[o]),p=async m=>{var E,T;if(m.preventDefault(),s)return;const g=h.safeParse(t);if(!g.success){const w=g.error.format();r({email:(E=w.email)==null?void 0:E._errors[0],password:(T=w.password)==null?void 0:T._errors[0]});return}r({}),i(!0);try{await l(t.email,t.password),console.log("Usuario logado com sucesso"),u("/home")}catch(w){console.error("Erro ao logar:",w);const N=w instanceof Error?w.message:"Erro ao fazer login. Verifique suas credenciais.";alert(N)}finally{i(!1)}};return c.jsxs("div",{className:"login-form-container",children:[c.jsxs("div",{className:"logo-container",children:[c.jsx(jw,{}),c.jsx("h1",{children:"Sea Logistics"})]}),c.jsx("h2",{children:o.welcomeMessage}),c.jsxs("form",{onSubmit:p,className:"login-form",noValidate:!0,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:o.email}),c.jsx("input",{id:"email",value:t.email,onChange:m=>e({...t,email:m.target.value}),placeholder:o.emailPlaceholder,required:!0,disabled:s}),n.email&&c.jsx("p",{className:"error-text",children:n.email})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:o.password}),c.jsx("input",{type:"password",id:"password",value:t.password,onChange:m=>e({...t,password:m.target.value}),placeholder:o.passwordPlaceholder,required:!0,disabled:s}),n.password&&c.jsx("p",{className:"error-text",children:n.password})]}),c.jsx("button",{type:"submit",className:"login-button",disabled:s,children:s?"Entrando...":o.loginButton})]}),c.jsxs("div",{className:"register-link",children:[o.dontHaveAccount,c.jsxs("a",{className:"register-link-button",onClick:()=>!s&&u("/register"),children:[" ",o.registerLink]})]})]})}const v2=()=>c.jsx(rn,{children:c.jsx("main",{className:"login-container",children:c.jsxs("div",{className:"login-card",children:[c.jsx(y2,{}),c.jsx(Cw,{})]})})}),_2=t=>Pw({name:Ss().nonempty(t.nameError),email:Ss().email(t.emailError),password:Ss().min(6,t.passwordError),confirmPassword:Ss().min(6,t.confirmPasswordError)}).refine(e=>e.password===e.confirmPassword,{message:t.passwordsDontMatch,path:["confirmPassword"]});function w2(){const[t,e]=V.useState({name:"",email:"",password:"",confirmPassword:"",companyName:"",companyCode:"",role:dt.COMPANY_USER}),[n,r]=V.useState({}),[s,i]=V.useState(!1),{translations:o}=Vf(),l=ii(),u=V.useMemo(()=>_2(o),[o]),h=async(m,g)=>{try{const E=Ks($t(pe,"companies"),Ds("code","==",g)),T=await kn(E);if(T.empty){const w=`company_${Date.now()}`;return await zd(Qe(pe,"companies",w),{id:w,name:m,code:g,contactEmail:t.email,isActive:!0,createdAt:new Date}),w}else return T.docs[0].id}catch(E){throw console.error("Error finding/creating company:",E),E}},p=async m=>{var j,O,L,I;m.preventDefault();const{name:g,email:E,password:T,confirmPassword:w,companyName:N,companyCode:x,role:y}=t;if(console.log(t),T!==w){alert("As senhas não coincidem.");return}if(y===dt.COMPANY_USER&&(!N||!x)){alert("Nome da empresa e código são obrigatórios para usuários de empresa.");return}const S=u.safeParse(t);if(!S.success){const v=S.error.format();r({name:(j=v.name)==null?void 0:j._errors[0],email:(O=v.email)==null?void 0:O._errors[0],password:(L=v.password)==null?void 0:L._errors[0],confirmPassword:(I=v.confirmPassword)==null?void 0:I._errors[0]});return}r({});try{const v=`user_${Date.now()}`;let A;y===dt.COMPANY_USER&&N&&x&&(A=await h(N,x));const C={uid:v,displayName:g??"",email:E,role:y,isActive:!0,createdAt:new Date},P=y===dt.COMPANY_USER?{...C,companyId:A,companyName:N}:C;await zd(Qe(pe,"users",v),P),localStorage.setItem("currentUser",JSON.stringify({email:E,name:g??"Usuário",id:v,role:y})),console.log("Usuário cadastrado com sucesso"),l("/home")}catch(v){console.error("Erro ao cadastrar:",v),alert("Erro ao cadastrar. Verifique os dados e tente novamente.")}};return c.jsxs("div",{className:"split-card",children:[c.jsx("div",{className:"split-branding",children:c.jsxs("div",{className:"split-branding-content",children:[c.jsx("div",{className:"split-logo",children:c.jsx(jw,{})}),c.jsx("h1",{className:"split-logo-text",children:"Sea Logistics"}),c.jsx("p",{className:"split-description",children:o.registerText})]})}),c.jsxs("div",{className:"split-form-container",children:[c.jsx("h2",{className:"split-title",children:o.createAccount}),c.jsxs("div",{className:"split-form-group",children:[c.jsx("label",{children:"Tipo de Usuário"}),c.jsxs("div",{className:"user-type-selector",children:[c.jsxs("label",{className:"radio-option",children:[c.jsx("input",{type:"radio",name:"userType",checked:!s,onChange:()=>{i(!1),e({...t,role:dt.COMPANY_USER})}}),"Usuário de Empresa"]}),c.jsxs("label",{className:"radio-option",children:[c.jsx("input",{type:"radio",name:"userType",checked:s,onChange:()=>{i(!0),e({...t,role:dt.ADMIN})}}),"Administrador"]})]})]}),c.jsxs("form",{onSubmit:p,className:"split-form",noValidate:!0,children:[c.jsxs("div",{className:"split-form-group",children:[c.jsx("label",{htmlFor:"name",children:o.name}),c.jsx("input",{id:"name",value:t.name,onChange:m=>e({...t,name:m.target.value}),placeholder:o.namePlaceholder,required:!0}),n.name&&c.jsx("p",{className:"error-text",children:n.name})]}),c.jsxs("div",{className:"split-form-group",children:[c.jsx("label",{htmlFor:"email",children:o.email}),c.jsx("input",{id:"email",type:"email",value:t.email,onChange:m=>e({...t,email:m.target.value}),placeholder:o.emailPlaceholder,required:!0}),n.email&&c.jsx("p",{className:"error-text",children:n.email})]}),!s&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"split-form-group",children:[c.jsx("label",{htmlFor:"companyName",children:"Nome da Empresa"}),c.jsx("input",{id:"companyName",value:t.companyName,onChange:m=>e({...t,companyName:m.target.value}),placeholder:"Digite o nome da sua empresa",required:!s}),n.companyName&&c.jsx("p",{className:"error-text",children:n.companyName})]}),c.jsxs("div",{className:"split-form-group",children:[c.jsx("label",{htmlFor:"companyCode",children:"Código da Empresa"}),c.jsx("input",{id:"companyCode",value:t.companyCode,onChange:m=>e({...t,companyCode:m.target.value.toUpperCase()}),placeholder:"Ex: LOG001",required:!s}),c.jsx("small",{children:"Código único para identificar sua empresa"}),n.companyCode&&c.jsx("p",{className:"error-text",children:n.companyCode})]})]}),c.jsxs("div",{className:"split-password-grid",children:[c.jsxs("div",{className:"split-form-group",children:[c.jsx("label",{htmlFor:"password",children:o.password}),c.jsx("input",{id:"password",type:"password",value:t.password,onChange:m=>e({...t,password:m.target.value}),placeholder:o.passwordPlaceholder,required:!0}),n.password&&c.jsx("p",{className:"error-text",children:n.password})]}),c.jsxs("div",{className:"split-form-group",children:[c.jsx("label",{htmlFor:"confirm-password",children:o.confirmPassword}),c.jsx("input",{id:"confirm-password",type:"password",value:t.confirmPassword,onChange:m=>e({...t,confirmPassword:m.target.value}),placeholder:o.confirmPasswordPlaceholder,required:!0}),n.confirmPassword&&c.jsx("p",{className:"error-text",children:n.confirmPassword})]})]}),c.jsx("button",{type:"submit",className:"split-button",children:o.registerButton})]}),c.jsxs("div",{className:"split-login-link",children:[o.alreadyHaveAccount," ",c.jsx("a",{onClick:()=>l("/"),className:"split-link",children:o.loginLink})]}),c.jsx(Cw,{})]})]})}const E2=()=>c.jsx(rn,{children:c.jsx("main",{className:"login-container",children:c.jsx(w2,{})})}),x2=()=>{const e=(()=>{const E=localStorage.getItem("currentUser");return E?JSON.parse(E):{id:"demo-user-123",email:"demo@sealogistics.com",name:"Usuário Demo"}})(),n=e.id,[r,s]=V.useState({name:"",email:"",phone:"",company:"",position:"",notifications:{email:!0,push:!0,statusUpdates:!0,newShipments:!0},preferences:{language:"pt",timezone:"America/Sao_Paulo",dateFormat:"DD/MM/YYYY",theme:"light"}}),[i,o]=V.useState(!1),[l,u]=V.useState(!1);V.useEffect(()=>{h()},[]);const h=async()=>{o(!0);try{const E=await Br(Qe(pe,"users",n));if(E.exists()){const T=E.data();s({name:T.name||e.name||"",email:T.email||e.email||"",phone:T.phone||"",company:T.company||"",position:T.position||"",notifications:T.notifications||r.notifications,preferences:T.preferences||r.preferences})}else{const T={name:e.name||"Usuário Demo",email:e.email||"demo@sealogistics.com",phone:"",company:"",position:"",notifications:r.notifications,preferences:r.preferences,createdAt:new Date};await zr(Qe(pe,"users",n),T),s(w=>({...w,...T}))}}catch(E){console.error("Erro ao carregar configurações:",E);try{const T={name:e.name||"Usuário Demo",email:e.email||"demo@sealogistics.com",phone:"",company:"",position:"",notifications:r.notifications,preferences:r.preferences,createdAt:new Date};await zr(Qe(pe,"users",n),T),s(w=>({...w,...T}))}catch(T){console.error("Erro ao criar documento do usuário:",T)}}finally{o(!1)}},p=(E,T)=>{s(w=>({...w,[E]:T}))},m=(E,T,w)=>{s(N=>({...N,[E]:{...N[E],[T]:w}}))},g=async()=>{u(!0);try{await zr(Qe(pe,"users",n),{name:r.name,email:r.email,phone:r.phone,company:r.company,position:r.position,notifications:r.notifications,preferences:r.preferences,updatedAt:new Date}),alert("Configurações salvas com sucesso!")}catch(E){console.error("Erro ao salvar configurações:",E),alert("Erro ao salvar configurações. Tente novamente.")}finally{u(!1)}};return i?c.jsx(rn,{children:c.jsxs("main",{className:"settings-container",children:[c.jsx(Mn,{}),c.jsx("div",{className:"settings-content",children:c.jsx("div",{className:"loading-message",children:"Carregando configurações..."})}),c.jsx(Zr,{})]})}):c.jsx(rn,{children:c.jsxs("main",{className:"settings-container",children:[c.jsx(Mn,{}),c.jsx("div",{className:"settings-content",children:c.jsxs("div",{className:"settings-wrapper",children:[c.jsxs("div",{className:"settings-header",children:[c.jsx("h1",{children:"Configurações da conta"}),c.jsx("p",{children:"Gerencie suas informações pessoais e preferências"})]}),c.jsxs("div",{className:"settings-sections",children:[c.jsxs("div",{className:"settings-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx(Ew,{size:20}),c.jsx("h2",{children:"Informações Pessoais"})]}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"name",children:"Nome Completo"}),c.jsx("input",{type:"text",id:"name",value:r.name,onChange:E=>p("name",E.target.value),placeholder:"Digite seu nome completo"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"E-mail"}),c.jsx("input",{type:"email",id:"email",value:r.email,onChange:E=>p("email",E.target.value),placeholder:"seu@email.com"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"phone",children:"Telefone"}),c.jsx("input",{type:"tel",id:"phone",value:r.phone,onChange:E=>p("phone",E.target.value),placeholder:"(11) 99999-9999"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"company",children:"Empresa"}),c.jsx("input",{type:"text",id:"company",value:r.company,onChange:E=>p("company",E.target.value),placeholder:"Nome da empresa"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"position",children:"Cargo"}),c.jsx("input",{type:"text",id:"position",value:r.position,onChange:E=>p("position",E.target.value),placeholder:"Seu cargo na empresa"})]})]})]}),c.jsxs("div",{className:"settings-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx(yk,{size:20}),c.jsx("h2",{children:"Notificações"})]}),c.jsxs("div",{className:"notification-settings",children:[c.jsxs("div",{className:"notification-item",children:[c.jsxs("div",{className:"notification-info",children:[c.jsx("h3",{children:"Notificações por E-mail"}),c.jsx("p",{children:"Receba atualizações importantes por e-mail"})]}),c.jsxs("label",{className:"switch",children:[c.jsx("input",{type:"checkbox",checked:r.notifications.email,onChange:E=>m("notifications","email",E.target.checked)}),c.jsx("span",{className:"slider"})]})]}),c.jsxs("div",{className:"notification-item",children:[c.jsxs("div",{className:"notification-info",children:[c.jsx("h3",{children:"Notificações Push"}),c.jsx("p",{children:"Receba notificações em tempo real no navegador"})]}),c.jsxs("label",{className:"switch",children:[c.jsx("input",{type:"checkbox",checked:r.notifications.push,onChange:E=>m("notifications","push",E.target.checked)}),c.jsx("span",{className:"slider"})]})]}),c.jsxs("div",{className:"notification-item",children:[c.jsxs("div",{className:"notification-info",children:[c.jsx("h3",{children:"Atualizações de Status"}),c.jsx("p",{children:"Seja notificado quando o status dos envios mudar"})]}),c.jsxs("label",{className:"switch",children:[c.jsx("input",{type:"checkbox",checked:r.notifications.statusUpdates,onChange:E=>m("notifications","statusUpdates",E.target.checked)}),c.jsx("span",{className:"slider"})]})]}),c.jsxs("div",{className:"notification-item",children:[c.jsxs("div",{className:"notification-info",children:[c.jsx("h3",{children:"Novos Envios"}),c.jsx("p",{children:"Receba notificações sobre novos envios criados"})]}),c.jsxs("label",{className:"switch",children:[c.jsx("input",{type:"checkbox",checked:r.notifications.newShipments,onChange:E=>m("notifications","newShipments",E.target.checked)}),c.jsx("span",{className:"slider"})]})]})]})]}),c.jsxs("div",{className:"settings-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx(Tk,{size:20}),c.jsx("h2",{children:"Preferências"})]}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"language",children:"Idioma"}),c.jsxs("select",{id:"language",value:r.preferences.language,onChange:E=>m("preferences","language",E.target.value),children:[c.jsx("option",{value:"pt",children:"Português"}),c.jsx("option",{value:"en",children:"English"}),c.jsx("option",{value:"es",children:"Español"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"timezone",children:"Fuso Horário"}),c.jsxs("select",{id:"timezone",value:r.preferences.timezone,onChange:E=>m("preferences","timezone",E.target.value),children:[c.jsx("option",{value:"America/Sao_Paulo",children:"São Paulo (UTC-3)"}),c.jsx("option",{value:"America/New_York",children:"Nova York (UTC-5)"}),c.jsx("option",{value:"Europe/London",children:"Londres (UTC+0)"}),c.jsx("option",{value:"Asia/Shanghai",children:"Xangai (UTC+8)"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"dateFormat",children:"Formato de Data"}),c.jsxs("select",{id:"dateFormat",value:r.preferences.dateFormat,onChange:E=>m("preferences","dateFormat",E.target.value),children:[c.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/AAAA"}),c.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/AAAA"}),c.jsx("option",{value:"YYYY-MM-DD",children:"AAAA-MM-DD"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"theme",children:"Tema"}),c.jsxs("select",{id:"theme",value:r.preferences.theme,onChange:E=>m("preferences","theme",E.target.value),children:[c.jsx("option",{value:"light",children:"Claro"}),c.jsx("option",{value:"dark",children:"Escuro"}),c.jsx("option",{value:"auto",children:"Automático"})]})]})]})]})]}),c.jsx("div",{className:"settings-actions",children:c.jsxs("button",{className:"btn-save",onClick:g,disabled:l,children:[c.jsx(Ck,{size:16}),l?"Salvando...":"Salvar Configurações"]})})]})}),c.jsx(Zr,{})]})})},T2=()=>{const t=ii(),{addShipment:e}=wu(),{isAdmin:n}=mn();V.useEffect(()=>{n()||(alert("Acesso negado. Apenas administradores podem criar novos shipments."),t("/home"))},[n,t]);const[r,s]=V.useState({clienteId:"",operador:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",quantBox:1,status:"Agendado",numeroBl:"",armador:"",booking:""}),[i,o]=V.useState([]),[l,u]=V.useState([]),[h,p]=V.useState(!1),[m,g]=V.useState(!1),[E,T]=V.useState(!1);V.useEffect(()=>{(async()=>{p(!0);try{const L=Ks($t(pe,"users"),Ds("role","!=","admin")),v=(await kn(L)).docs.map(A=>{const C=A.data();return{id:A.id,nome:C.displayName||C.name||"Usuário",empresa:C.companyName||"-",email:C.email||"-",companyId:C.companyId||void 0}});o(v)}catch(L){console.error("Erro ao buscar clientes:",L),o([])}finally{p(!1)}})()},[]),V.useEffect(()=>{(async()=>{g(!0);try{const L=Ks($t(pe,"users"),Ds("role","==","admin"),Ds("isActive","==",!0)),v=(await kn(L)).docs.map(A=>{const C=A.data();return{id:A.id,nome:C.displayName||C.name||"Admin",email:C.email||""}});u(v)}catch(L){console.error("Erro ao buscar operadores:",L),u([])}finally{g(!1)}})()},[]);const w=["MSC","Maersk","CMA CGM","Hapag-Lloyd","COSCO","Evergreen"],N=["Santos, Brasil","Itajaí, Brasil","Paranaguá, Brasil","Rio Grande, Brasil","Suape, Brasil","Rotterdam, Holanda","Hamburgo, Alemanha","Barcelona, Espanha","Xangai, China","Singapura","Los Angeles, EUA","Nova York, EUA"],x=["Agendado","Em trânsito","Documentação","Concluído"],y=O=>{const{name:L,value:I}=O.target;s(v=>({...v,[L]:L==="quantBox"?parseInt(I):I}))},S=async O=>{if(O.preventDefault(),!n()){alert("Erro: Você não tem permissão para criar shipments.");return}T(!0);try{const L=i.find(v=>v.id===r.clienteId);if(!L){alert("Por favor, selecione um cliente válido.");return}const I={cliente:L.empresa,operador:r.operador,pol:r.pol,pod:r.pod,etdOrigem:r.etdOrigem,etaDestino:r.etaDestino,quantBox:r.quantBox,status:r.status,numeroBl:r.numeroBl,armador:r.armador,booking:r.booking,companyId:L.companyId};await e(I),alert("Envio registrado com sucesso!"),s({clienteId:"",operador:"",pol:"",pod:"",etdOrigem:"",etaDestino:"",quantBox:1,status:"Agendado",numeroBl:"",armador:"",booking:""}),t("/home")}catch(L){console.error("Erro ao criar envio:",L),alert("Erro ao registrar envio. Tente novamente.")}finally{T(!1)}},j=i.find(O=>O.id===r.clienteId);return n()?c.jsx(rn,{children:c.jsxs("main",{className:"novo-envio-main",children:[c.jsx(Mn,{}),c.jsx("div",{className:"novo-envio-content",children:c.jsxs("div",{className:"novo-envio-container",children:[c.jsxs("div",{className:"novo-envio-header",children:[c.jsx("div",{className:"header-icon",children:c.jsx(Gs,{size:32})}),c.jsxs("div",{className:"header-content",children:[c.jsx("h1",{children:"Novo Envio"}),c.jsx("p",{children:"Registre um novo envio marítimo no sistema"})]})]}),c.jsxs("form",{onSubmit:S,className:"novo-envio-form",children:[c.jsxs("div",{className:"form-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx(Ew,{size:20}),c.jsx("h2",{children:"Informações do Cliente"})]}),c.jsx("div",{className:"form-row",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"clienteId",children:"Cliente *"}),c.jsxs("select",{id:"clienteId",name:"clienteId",value:r.clienteId,onChange:y,required:!0,disabled:h,children:[c.jsx("option",{value:"",children:h?"Carregando clientes...":"Selecione um cliente"}),i.map(O=>c.jsxs("option",{value:O.id,children:[O.nome," - ",O.empresa]},O.id))]})]})}),j&&c.jsx("div",{className:"cliente-info",children:c.jsxs("div",{className:"cliente-card",children:[c.jsx("h3",{children:j.nome}),c.jsxs("p",{children:[c.jsx("strong",{children:"Empresa:"})," ",j.empresa]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",j.email]})]})})]}),c.jsxs("div",{className:"form-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx(jf,{size:20}),c.jsx("h2",{children:"Informações Operacionais"})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"operador",children:"Operador Responsável *"}),c.jsxs("select",{id:"operador",name:"operador",value:r.operador,onChange:y,required:!0,disabled:m,children:[c.jsx("option",{value:"",children:m?"Carregando operadores...":"Selecione um operador"}),l.map(O=>c.jsx("option",{value:O.nome,children:O.nome},O.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"status",children:"Status Inicial"}),c.jsx("select",{id:"status",name:"status",value:r.status,onChange:y,children:x.map(O=>c.jsx("option",{value:O,children:O},O))})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"armador",children:"Armador *"}),c.jsxs("select",{id:"armador",name:"armador",value:r.armador,onChange:y,required:!0,children:[c.jsx("option",{value:"",children:"Selecione um armador"}),w.map(O=>c.jsx("option",{value:O,children:O},O))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"quantBox",children:"Quantidade de Containers *"}),c.jsx("input",{type:"number",id:"quantBox",name:"quantBox",value:r.quantBox,onChange:y,min:"1",max:"100",required:!0})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx(vw,{size:20}),c.jsx("h2",{children:"Rota e Cronograma"})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"pol",children:"Porto de Origem (POL) *"}),c.jsxs("select",{id:"pol",name:"pol",value:r.pol,onChange:y,required:!0,children:[c.jsx("option",{value:"",children:"Selecione o porto de origem"}),N.map(O=>c.jsx("option",{value:O,children:O},O))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"pod",children:"Porto de Destino (POD) *"}),c.jsxs("select",{id:"pod",name:"pod",value:r.pod,onChange:y,required:!0,children:[c.jsx("option",{value:"",children:"Selecione o porto de destino"}),N.map(O=>c.jsx("option",{value:O,children:O},O))]})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"etdOrigem",children:"Data de Partida (ETD) *"}),c.jsx("input",{type:"date",id:"etdOrigem",name:"etdOrigem",value:r.etdOrigem,onChange:y,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"etaDestino",children:"Data Prevista Chegada (ETA) *"}),c.jsx("input",{type:"date",id:"etaDestino",name:"etaDestino",value:r.etaDestino,onChange:y,required:!0})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx(Ek,{size:20}),c.jsx("h2",{children:"Documentação"})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"numeroBl",children:"Número do BL *"}),c.jsx("input",{type:"text",id:"numeroBl",name:"numeroBl",value:r.numeroBl,onChange:y,placeholder:"Ex: BL123456789",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"booking",children:"Número do Booking *"}),c.jsx("input",{type:"text",id:"booking",name:"booking",value:r.booking,onChange:y,placeholder:"Ex: BK987654321",required:!0})]})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>window.history.back(),children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn-submit",disabled:E,children:E?"Registrando...":"Registrar Envio"})]})]})]})})]})}):c.jsx(rn,{children:c.jsxs("main",{className:"novo-envio-main",children:[c.jsx(Mn,{}),c.jsx("div",{className:"novo-envio-content",children:c.jsx("div",{className:"novo-envio-container",children:c.jsxs("div",{className:"access-denied",children:[c.jsx("h2",{children:"Acesso Negado"}),c.jsx("p",{children:"Apenas administradores podem criar novos shipments."})]})})})]})})},S2=({children:t})=>{const[e,n]=V.useState(!1);return c.jsx(Sw.Provider,{value:{isCollapsed:e,setIsCollapsed:n},children:t})},I2=()=>c.jsx(pk,{children:c.jsx(jk,{children:c.jsx(S2,{children:c.jsx(VT,{children:c.jsxs(PT,{children:[c.jsx(Pr,{path:"/",element:c.jsx(v2,{})}),c.jsx(Pr,{path:"/register",element:c.jsx(E2,{})}),c.jsx(Pr,{path:"/home",element:c.jsx(bk,{})}),c.jsx(Pr,{path:"/envios",element:c.jsx($k,{})}),c.jsx(Pr,{path:"/novo-envio",element:c.jsx(T2,{})}),c.jsx(Pr,{path:"/settings",element:c.jsx(x2,{})})]})})})})});I_(document.getElementById("root")).render(c.jsx(V.StrictMode,{children:c.jsx(I2,{})}));
